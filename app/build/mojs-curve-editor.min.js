!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+b+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===M&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===M&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=O[t];if(!n)return p;var r=function(e){return n.hot.active?O[e]?(O[e].parents.indexOf(t)<0&&O[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void I.push(t):M},addStatusHandler:function(t){I.push(t)},removeStatusHandler:function(t){var e=I.indexOf(t);e>=0&&I.splice(e,1)},data:x[t]};return e}function i(t){M=t;for(var e=0;e<I.length;e++)I[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);A={},E={},j={};for(var r=0;r<n.c.length;r++)E[n.c[r]]=!0;_=n.h,i("prepare"),g=e,y={};var o=0;c(o),"prepare"===M&&0===C&&0===T&&l()})}function u(t,e){if(E[t]&&A[t]){A[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y[n]=e[n]);0===--T&&0===C&&l()}}function c(t){E[t]?(A[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=O[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=O[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=y[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];O[f]&&O[f].hot._selfAccepted&&h.push({module:f,errorHandler:O[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=O[f];if(m){for(var I={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(I)}x[f]=I,m.hot.active=!1,delete O[f];for(var C=0;C<m.children.length;C++){var A=O[m.children[C]];if(A){var E=A.parents.indexOf(f);E>=0&&A.parents.splice(E,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=O[f],P=s[f],C=0;C<P.length;C++){var S=P[C],E=m.children.indexOf(S);E>=0&&m.children.splice(E,1)}i("apply"),b=_;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=O[f],P=s[f],N=[],v=0;v<P.length;v++){var S=P[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(k){D||(D=k)}}}for(var v=0;v<h.length;v++){var L=h[v],f=L.module;w=[f];try{p(f)}catch(k){if("function"==typeof L.errorHandler)try{L.errorHandler(k)}catch(k){D||(D=k)}else D||(D=k)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(O[e])return O[e].exports;var n=O[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,y,_,m=!0,b="0fbe62e89598a8d1018a",x={},w=[],I=[],M="idle",T=0,C=0,j={},A={},E={},O={};return p.m=t,p.c=O,p.p="build/",p.h=function(){return b},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(193),i=r(o),a=n(118),s=r(a),u=n(47),c=r(u),l=n(48),f=r(l),p=n(2),d=n(3),h=n(20),v=r(h),g=n(167),y=r(g),_=n(107),m=r(_),b=n(195),x=r(b),w=n(196),I=r(w);n(190);var M=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,c["default"])(this,t),this._o=e,this._decalareDefaults(),this._vars(),this._render(),this._tryToRestore(),this._listenUnload(),this._subscribe()}return(0,f["default"])(t,[{key:"_decalareDefaults",value:function(){this._defaults={name:"mojs-curve-editor",isSaveState:!0}}},{key:"_vars",value:function(){this.revision="1.0.0",this.store=(0,y["default"])();var t=(0,I["default"])(this._o.name,this._defaults.name);t+=t===this._defaults.name?"":"__"+this._defaults.name,this._localStorage=t+"__"+(0,x["default"])(t)}},{key:"_render",value:function(){var t=this;document.addEventListener("DOMContentLoaded",function(){(0,d.render)((0,d.h)(p.Provider,{store:t.store},(0,d.h)(v["default"],null)),document.body)})}},{key:"_listenUnload",value:function(){var t=this,e="onpagehide"in window?"pagehide":"beforeunload";window.addEventListener(e,function(){var e=(0,s["default"])({},t.store.getState());delete e.points.history,delete e.pointControls.history,localStorage.setItem(t._localStorage,(0,i["default"])(e))})}},{key:"_tryToRestore",value:function(){var t=localStorage.getItem(this._localStorage);t?this.store.dispatch({type:"SET_STATE",data:JSON.parse(t)}):(this.store.dispatch({type:"POINT_ADD",data:{point:{x:0,y:m["default"].CURVE_SIZE,isLockedX:!0},index:0}}),this.store.dispatch({type:"POINT_ADD",data:{point:{x:100,y:0,isLockedX:!0},index:1}}),this.store.dispatch({type:"POINT_SELECT",data:{index:0,type:"straight"}}))}},{key:"_subscribe",value:function(){this._compilePath(),this.store.subscribe(this._compilePath.bind(this))}},{key:"_compilePath",value:function(){var t=this.store.getState(),e=t.points.present,n=e.path;this._prevPath!==n&&(this._prevPath=n,this._easing=mojs.easing.path(n))}}]),t}();e["default"]=M,window.MojsCurveEditor=M},function(t,e,n){!function(t,r){r(e,n(3),n(6))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||O,d=void 0;d="function"==typeof n?n:n?u(n):P;var h=r||S,g=o.pure,y=void 0===g||g,_=o.withRef,m=void 0!==_&&_,b=y&&h!==S,x=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=x,n.store=t.store||e.store,E(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&b&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){y&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!y||e!==t){if(y&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return E(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;y&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==x&&(this.version=x,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,y=function(t){function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);y.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},y.childContextTypes={store:v.isRequired};var _=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=_&&"object"==typeof _&&"default"in _?_["default"]:_,b=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),x=b&&"object"==typeof b&&"default"in b?b["default"]:b,w=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),I=w&&"object"==typeof w&&"default"in w?w["default"]:w,M=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=I,r=x,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=M&&"object"==typeof M&&"default"in M?M["default"]:M,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,A=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),E=A&&"object"==typeof A&&"default"in A?A["default"]:A,O=function(t){return{}},P=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=y,t.connect=f})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var y=i[g],_=!(c(y)||a(y)||y instanceof e);_&&!s(y)&&(y=String(y)),_&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=_)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function y(t,e){return t.nodeName(j(t),e||$)}function _(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function x(t,e,n,r,o){if(_(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=V(e.substring(2)),n?l[e]||t.addEventListener(e,I):l[e]&&t.removeEventListener(e,I),l[e]=n}else if("type"!==e&&!o&&e in t)w(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",V(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",V(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function w(t,e,n){try{t[e]=n}catch(r){}}function I(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function M(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||V(t.nodeName)===V(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function A(t){O(t);var e=V(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function E(t,e){var n=V(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return _(r),r.normalizedNodeName=n,r}function O(t){b(t),1===m(t)&&(_(t,M(t)),t._component=t._componentConstructor=null)}function P(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||P(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=y(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;A(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return Y(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===V(l),i&&(st=!0),t){if(!C(t,l)){for(c=E(l,st);t.firstChild;)c.appendChild(t.firstChild);L(t)}}else c=E(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var y=0;y<h;y++){var _=c[y],m=g?(i=_._component)?i.__key:(i=_[tt])?i.key:null:null;m||0===m?(p++,f[m]=_):l[v++]=_}if(g)for(var y=0;y<g;y++){if(a=e[y],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[y]&&t.insertBefore(s,c[y]||null)}if(p)for(var y in f)f[y]&&(l[d=v++]=f[y]);d<v&&k(l)}function k(t,e){for(var n=t.length;n--;){var r=t[n];r&&L(r,e)}}function L(t,e){var n=t._component;n?X(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||A(t),t.childNodes&&t.childNodes.length&&k(t.childNodes,e))}function R(t,e){var n=t[tt]||M(t);for(var r in n)e&&r in e||x(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||x(t,o,e[o],n[o],st)}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function U(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function B(t){t._dirty||(t._dirty=!0,h(t))}function F(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?B(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,_=v&&v.nextSibling,m=v&&v.parentNode,b=v&&v._component,x=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=y(s,l);var w,I,M=s&&s.nodeName;if(a(M)&&M.prototype.render){var T=x,C=j(s);T&&T.constructor===M?F(T,C,1,l):(w=T,T=U(M,C,l),T._parentComponent=t,t._component=T,F(T,C,0,l),G(T,1)),I=T.base}else{var A=v;w=x,w&&(A=t._component=null),(v||1===e)&&(A&&(A._component=null),I=S(A,s,l,o||!h))}if(v&&I!==v&&(m&&I!==m&&m.insertBefore(I,_||null),w||b!==t||x||!v.parentNode||(v._component=null,L(v))),w&&X(w,!0),t.base=I,I){for(var E=t,O=t;O=O._parentComponent;)E=O;I._component=E,I._componentConstructor=E.constructor}}!h||o?(it.unshift(t),at||P()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function Y(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(X(o,!0),t=i=null),o=U(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),F(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,L(i))):(F(o,u,3,n,r),t=o.base),t}function X(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?X(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(b(n),z(t)),k(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},V=function(t){return W[t]||(W[t]=t.toLowerCase())},Q="undefined"!=typeof Promise&&Promise.resolve(),J=Q?function(t){Q.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),B(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(4).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(5).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(4).setImmediate,n(4).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(7),a=r(i),s=n(15),u=r(s),c=n(17),l=r(c),f=n(18),p=r(f),d=n(19),h=r(d),v=n(16),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(5))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){y===g&&(y=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,t)}finally{_=!1}for(var e=g=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,
e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],y=g,_=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(8),a=r(i),s=n(13),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(9),i=n(11),a=n(12),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(10),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(14)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var y=o(d,n);throw new Error(y)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(7),c=n(8),l=r(c),f=n(16),p=r(f)}).call(e,n(5))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(19),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(107),g=r(v),y=n(108),_=r(y),m=n(109),b=r(m),x=n(110),w=n(111),I=r(w),M=n(112),T=r(M),C=n(146),j=r(C),A=n(160),E=r(A),O=n(161),P=r(O);n(165);var S=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(145),e=this.context.store,r=e.getState(),o=this._getStyle(r);return(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(E["default"],null),(0,h.h)(P["default"],{state:r}),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,I["default"])(o,-1),i=(0,I["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-left-panel"),n=(0,b["default"])(new _["default"].Manager(e));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}),this._addKeyUp(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp.bind(this))}},{key:"_onKeyUp",value:function(t){var e=this.context.store;if(t.altKey)switch(t.which){case 90:return e.dispatch(x.ActionCreators.undo());case 88:return e.dispatch(x.ActionCreators.redo());case 68:return e.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=S},function(t,e,n){t.exports={"default":n(22),__esModule:!0}},function(t,e,n){n(23),t.exports=n(34).Object.getPrototypeOf},function(t,e,n){var r=n(24),o=n(26);n(32)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(25);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),o=n(24),i=n(28)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(29)("keys"),o=n(31);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(30),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(33),o=n(34),i=n(43);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(30),o=n(34),i=n(35),a=n(37),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,_=d?o:o[e]||(o[e]={}),m=_[s],b=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in _||(f=l?b[c]:n[c],_[c]=d&&"function"!=typeof b[c]?n[c]:g&&l?i(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(36);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(38),o=n(46);t.exports=n(42)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(39),o=n(41),i=n(45),a=Object.defineProperty;e.f=n(42)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(40);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(42)&&!n(43)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(43)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(40),o=n(30).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(40);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(49),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51);var r=n(34).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(33);r(r.S+r.F*!n(42),"Object",{defineProperty:n(38).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(53),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(54),i=r(o),a=n(83),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(55),__esModule:!0}},function(t,e,n){n(56),n(78),t.exports=n(82).f("iterator")},function(t,e,n){"use strict";var r=n(57)(!0);n(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(58),o=n(25);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(60),o=n(33),i=n(61),a=n(37),s=n(27),u=n(62),c=n(63),l=n(76),f=n(26),p=n(77)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,_,m,b,x){c(n,e,_);var w,I,M,T=function(t){if(!d&&t in E)return E[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,A=!1,E=t.prototype,O=E[p]||E[h]||m&&E[m],P=O||T(m),S=m?j?T("entries"):P:void 0,D="Array"==e?E.entries||O:O;if(D&&(M=f(D.call(new t)),M!==Object.prototype&&(l(M,C,!0),r||s(M,p)||a(M,p,y))),j&&O&&O.name!==g&&(A=!0,P=function(){return O.call(this)}),r&&!x||!d&&!A&&E[p]||a(E,p,P),u[e]=P,u[C]=y,m)if(w={values:j?P:T(g),keys:b?P:T(v),entries:S},x)for(I in w)I in E||i(E,I,w[I]);else o(o.P+o.F*(d||A),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(37)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(64),o=n(46),i=n(76),a={};n(37)(a,n(77)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(39),o=n(65),i=n(74),a=n(28)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(44)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(38),o=n(39),i=n(66);t.exports=n(42)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(67),o=n(74);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(27),o=n(68),i=n(71)(!1),a=n(28)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(69),o=n(25);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(70);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(68),o=n(72),i=n(73);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(58),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(58),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(30).document&&document.documentElement},function(t,e,n){var r=n(38).f,o=n(27),i=n(77)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(29)("wks"),o=n(31),i=n(30).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(79);for(var r=n(30),o=n(37),i=n(62),a=n(77)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(80),o=n(81),i=n(62),a=n(68);t.exports=n(59)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(77)},function(t,e,n){t.exports={"default":n(84),__esModule:!0}},function(t,e,n){n(85),n(96),n(97),n(98),t.exports=n(34).Symbol},function(t,e,n){"use strict";var r=n(30),o=n(27),i=n(42),a=n(33),s=n(61),u=n(86).KEY,c=n(43),l=n(29),f=n(76),p=n(31),d=n(77),h=n(82),v=n(87),g=n(88),y=n(89),_=n(92),m=n(39),b=n(68),x=n(45),w=n(46),I=n(64),M=n(93),T=n(95),C=n(38),j=n(66),A=T.f,E=C.f,O=M.f,P=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",k=d("_hidden"),L=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),F=Object[N],G="function"==typeof P,Y=r.QObject,X=!Y||!Y[N]||!Y[N].findChild,H=i&&c(function(){return 7!=I(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(F,e);r&&delete F[e],E(t,e,n),r&&t!==F&&E(F,e,r)}:E,Z=function(t){var e=U[t]=I(P[N]);return e._k=t,e},W=G&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},V=function(t,e,n){return t===F&&V(B,e,n),m(t),e=x(e,!0),m(n),o(U,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=I(n,{enumerable:w(0,!1)})):(o(t,k)||E(t,k,w(1,{})),t[k][e]=!0),H(t,e,n)):E(t,e,n)},Q=function(t,e){m(t);for(var n,r=y(e=b(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?I(t):Q(I(t),e)},q=function(t){var e=R.call(this,t=x(t,!0));return!(this===F&&o(U,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,k)&&this[k][t])||e)},K=function(t,e){if(t=b(t),e=x(e,!0),t!==F||!o(U,e)||o(B,e)){var n=A(t,e);return!n||!o(U,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=O(b(t)),r=[],i=0;n.length>i;)o(U,e=n[i++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===F,r=O(n?B:b(t)),i=[],a=0;r.length>a;)!o(U,e=r[a++])||n&&!o(F,e)||i.push(U[e]);return i};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,w(1,n))};return i&&X&&H(F,t,{configurable:!0,set:e}),Z(t)},s(P[N],"toString",function(){return this._k}),T.f=K,C.f=V,n(94).f=M.f=$,n(91).f=q,n(90).f=tt,i&&!n(60)&&s(F,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),P[N][L]||n(37)(P[N],L,P[N].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(31)("meta"),o=n(40),i=n(27),a=n(38).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(43)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(30),o=n(34),i=n(60),a=n(82),s=n(38).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(66),o=n(68);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(66),o=n(90),i=n(91);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(70);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(68),o=n(94).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(67),o=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(91),o=n(46),i=n(68),a=n(45),s=n(27),u=n(41),c=Object.getOwnPropertyDescriptor;e.f=n(42)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(87)("asyncIterator")},function(t,e,n){n(87)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(100),i=r(o),a=n(104),s=r(a),u=n(53),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(101),__esModule:!0}},function(t,e,n){n(102),t.exports=n(34).Object.setPrototypeOf},function(t,e,n){var r=n(33);r(r.S,"Object",{setPrototypeOf:n(103).set})},function(t,e,n){var r=n(40),o=n(39),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(35)(Function.call,n(95).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(105),__esModule:!0}},function(t,e,n){n(106);var r=n(34).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(33);r(r.S,"Object",{create:n(64)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==_t?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(b(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(b(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return Mt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function A(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:At?H:Ct?W:F)(t,E)}function E(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(Lt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,O(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function O(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=xt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),P(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=bt(c.x)>bt(c.y)?c.x:c.y,e.scale=a?B(a.pointers,r):1,e.rotation=a?U(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;_(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=k(u,c,l);r=f.x,o=f.y,n=bt(f.x)>bt(f.y)?f.x:f.y,i=L(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:xt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?zt:bt(t)>=bt(e)?t<0?Ut:Bt:e<0?Ft:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function U(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function B(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function F(){this.evEl=Qt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function X(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Lt|Rt)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Nt|kt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return _(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Lt|Rt)&&delete r[a[o].identifier],o++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,Q.call(this,e)):t&(Lt|Rt)&&Q.call(this,e)}function Q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&be?"end":t&me?"move":t&_e?"start":""}function nt(t){return t==Gt?"down":t==Ft?"up":t==Ut?"left":t==Bt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=A(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=M(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],yt=i.createElement("div"),_t="function",mt=Math.round,bt=Math.abs,xt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),It=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Mt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=M(o,"PointerEvent")!==s,At=Ct&&Tt.test(navigator.userAgent),Et="touch",Ot="pen",Pt="mouse",St="kinect",Dt=25,Nt=1,kt=2,Lt=4,Rt=8,zt=1,Ut=2,Bt=4,Ft=8,Gt=16,Yt=Ut|Bt,Xt=Ft|Gt,Ht=Yt|Xt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Nt,mousemove:kt,mouseup:Lt},Qt="mousedown",Jt="mousemove mouseup";p(F,j,{handler:function(t){var e=Vt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Pt,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:kt,pointerup:Lt,pointercancel:Rt,pointerout:Rt},Kt={2:Et,3:Ot,4:Pt,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==Et,s=x(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Lt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(Y,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=X.call(this,t,e);e&(Lt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==Et,o=n.pointerType==Pt;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=M(yt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Yt||a&&n&Xt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ye=1,_e=2,me=4,be=8,xe=be,we=16,Ie=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),x(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<be&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=be&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Ie)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ie|ye)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(xe|we|Ie)&&(this.state=ye),this.state=this.process(e),void(this.state&(_e|me|be|we)&&this.tryEmit(e))):(this.reset(),void(this.state=Ie))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(_e|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Lt?e|be:e&_e?e|me:_e:Ie}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Yt&&e.push(ve),t&Xt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Yt?(o=0===i?zt:i<0?Ut:Bt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Ft:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&_e||!(this.state&_e)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&_e)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=xe,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return xe;return Ie},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===xe&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=xt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&_e)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Yt|Xt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Yt|Xt)?e=t.overallVelocity:n&Yt?e=t.overallVelocityX:n&Xt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=xe,this.tryEmit()},e.interval,this),_e):xe}return Ie},failTimeout:function(){return this._timer=u(function(){this.state=Ie},this.options.interval,this),Ie},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Yt}],[it,{direction:Yt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Me=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&xe)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(_e|me|be)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(b(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:kt,INPUT_END:Lt,INPUT_CANCEL:Rt,STATE_POSSIBLE:ye,STATE_BEGAN:_e,STATE_CHANGED:me,STATE_ENDED:be,STATE_RECOGNIZED:xe,STATE_CANCELLED:we,STATE_FAILED:Ie,DIRECTION_NONE:zt,DIRECTION_LEFT:Ut,DIRECTION_RIGHT:Bt,DIRECTION_UP:Ft,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Yt,DIRECTION_VERTICAL:Xt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:F,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:Y,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:y,each:l,merge:It,extend:wt,assign:vt,inherit:p,bindFn:d,prefixed:M});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(w){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(w){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(w)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return x({},t,{history:t})}function d(t,e){return p(x({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||I.UNDO,redoType:e.redoType||I.REDO,jumpToPastType:e.jumpToPastType||I.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||I.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(x({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(x({},e,{present:g}));var y=e&&void 0!==e.present?e:n.history,_=s(y,g,n.limit);return r("after insert",{history:_,free:n.limit-a(_)}),i(),p(x({},e,_))}}}function y(){return function(t,e,n){return e!==n}}function _(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(t)}function b(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=y,e.includeAction=_,e.ifAction=m,e.excludeAction=b;var w=void 0,I=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:I.UNDO}},redo:function(){return{type:I.REDO}},jumpToFuture:function(t){return{type:I.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:I.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(113),a=r(i),s=n(137),u=r(s),c=n(145),l=function(t){var e=t.state;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(114),g=(r(v),n(115)),y=r(g),_=n(111),m=r(_),b=n(107),x=r(b),w=n(108),I=r(w),M=n(109),T=r(M);n(134);var C=n(136),j=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=t.points.present.path,n=this._getStyle(t),r=this._renderPoints(t),o=this._renderSegments(t);return(0,h.h)("div",{className:C.curve},(0,h.h)("div",{className:C.curve__background,style:n.background}),(0,h.h)("div",{className:C["curve__svg-wrapper"],style:n.transform},r,(0,h.h)("svg",{height:x["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none",id:"js-svg","class":C.curve__svg},(0,h.h)("path",{d:e,stroke:"#000000","stroke-opacity":"0.35","stroke-width":"4","vector-effect":"non-scaling-stroke",transform:"translate(.75,.75)",fill:"none"}),(0,h.h)("g",{id:"js-segments"}," ",o," "))))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,x["default"].CURVE_SIZE-n<x["default"].CURVE_SIZE&&(n=0),n=(0,m["default"])(n,-1);var o="transform: scaleX("+(x["default"].CURVE_SIZE+Math.max(r,0))/x["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present.points,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(y["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}},{key:"_renderSegments",value:function(t){for(var e=t.points.present.segments,n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)("path",{d:o.segmentString,"data-index":o.index,stroke:"white",fill:"none","stroke-width":"","vector-effect":"non-scaling-stroke","class":C["curve__svg-segment"]}))}return n}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-segments"),n=(0,T["default"])(new I["default"].Manager(e));n.add(new I["default"].Tap),n.on("tap",function(e){var n=e.srcEvent,r=n.target;if("path"===r.tagName.toLowerCase()){var o=n.offsetX,i=n.offsetY*x["default"].CURVE_PERCENT,a=parseInt(r.getAttribute("data-index"))+1;t.dispatch({type:"POINT_ADD",data:{point:{x:o,y:i},index:a},isRecord:!0}),t.dispatch({type:"POINT_SELECT",data:{index:a,type:"straight"}}),e.stopPropagation()}});var r=this.base.querySelector("#js-svg"),o=(0,T["default"])(new I["default"].Manager(r));o.add(new I["default"].Tap),o.on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})})}}]),e}(h.Component);e["default"]=j},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(116),g=r(v),y=n(117),_=r(y),m=n(109),b=r(m),x=n(129),w=r(x),I=n(108),M=r(I),T=n(130),C=r(T),j=n(111),A=(r(j),n(107)),E=r(A);n(131);var O=n(133),P=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?O["is-selected"]:"",o="straight"===e.type?O["is-hide-handles"]:"",i=this._getLittleHandles();return(0,h.h)("div",{className:O.point+" "+r+" "+o,style:this._getStyle(n),"data-component":"point"},(0,h.h)("div",{className:O.point__touch,id:"js-point-touch"}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,C["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(){var t=this.props,e=t.index,n=t.point,r=t.pointsCount,o=[];return 0!==e&&o.push(this._createHandle(1,n)),e!==r-1&&o.push(this._createHandle(2,n)),o}},{key:"_createHandle",value:function(t,e){return(0,h.h)(_["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,w["default"])(o.x+i,5,1.5)-o.x},r=function(e){
var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>E["default"].CURVE_SIZE+n.bottom&&(a=E["default"].CURVE_SIZE+n.bottom),(0,w["default"])(a,5*E["default"].CURVE_PERCENT,2*E["default"].CURVE_PERCENT)-o.y},o=this.base.querySelector("#js-point-touch"),i=(0,b["default"])(new M["default"].Manager(o));i.add(new M["default"].Pan({threshold:0})),i.on("pan",function(o){var i=t.props,a=(i.point,i.index);e.dispatch({type:"POINT_TRANSLATE",data:{x:n(o),y:r(o),index:a}}),o.stopPropagation()}).on("panend",function(n){var r=t.props,o=(r.point,r.index);e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),n.stopPropagation()}),(0,g["default"])(o,function(n){var r=t.props,o=r.point,i=r.index;e.dispatch({type:"POINT_SELECT",data:{index:i,isDeselect:!n.shiftKey,type:o.type}})})}}]),e}(h.Component);e["default"]=P},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",e):void 0!==window.ontouchstart?(t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)):t.addEventListener("mousedown",e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(21),s=r(a),u=n(47),c=r(u),l=n(48),f=r(l),p=n(52),d=r(p),h=n(99),v=r(h),g=n(3),y=n(114),_=r(y),m=n(123),b=r(m),x=n(108),w=r(x),I=n(109),M=r(I);n(124);var T=n(128),C=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:T["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":T["little-handle__point"],style:this._getPointStyle()}),(0,g.h)("div",{"class":T["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,M["default"])(new w["default"].Manager(this.base)),r=this.props.handle;n.add(new w["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=(0,_["default"])(r.angle,r.radius),c=u.x+n.deltaX,l=u.y+n.deltaY,f=(0,b["default"])(c,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},f)}),"mirrored"===t.props.type){var p=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:p,parentIndex:s,radius:f.radius,angle:f.angle-180}})}if("asymmetric"===t.props.type){var d=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:d,parentIndex:s,radius:r.radius,angle:f.angle-180}})}n.stopPropagation()}).on("panend",function(t){t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props.handle,e=(0,_["default"])(t.angle,t.radius),n="transform: translate("+e.x+"px, "+e.y+"px) rotate("+t.angle+"deg)";return""+mojs.h.prefix.css+n+"; "+n}},{key:"_getLineStyle",value:function(){var t=this.props.handle,e="transform: rotate("+t.angle+"deg) scaleY("+t.radius+")";return""+mojs.h.prefix.css+e+"; "+e}}]),e}(g.Component);e["default"]=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(119),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(120),__esModule:!0}},function(t,e,n){n(121),t.exports=n(34).Object.assign},function(t,e,n){var r=n(33);r(r.S+r.F,"Object",{assign:n(122)})},function(t,e,n){"use strict";var r=n(66),o=n(90),i=n(91),a=n(24),s=n(69),u=Object.assign;t.exports=!u||n(43)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(125);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(125,function(){var e=n(125);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._little-handle_iw2ru_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_iw2ru_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__point_iw2ru_1:after{content:'';position:absolute;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_iw2ru_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=_++;n=y||(y=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={"little-handle":"_little-handle_iw2ru_3","little-handle__point":"_little-handle__point_iw2ru_1","little-handle__line":"_little-handle__line_iw2ru_1"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(132);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(132,function(){var e=n(132);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._point_17pb1_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5);border:2px solid #fff}._point_17pb1_5 [data-component=little-handle]{display:none}._point__touch_17pb1_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_17pb1_5._is-selected_17pb1_31,._point_17pb1_5:hover{border-color:#ff512f}._point_17pb1_5._is-selected_17pb1_31 [data-component=little-handle]{display:block}._point_17pb1_5._is-hide-handles_17pb1_42 [data-component=little-handle]{display:none}",""])},function(t,e){t.exports={point:"_point_17pb1_5",point__touch:"_point__touch_17pb1_1","is-selected":"_is-selected_17pb1_31","is-hide-handles":"_is-hide-handles_17pb1_42"}},function(t,e,n){var r=n(135);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(135,function(){var e=n(135);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._curve_gvcrn_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_gvcrn_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_gvcrn_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_gvcrn_1{display:block;overflow:visible;width:100%}._curve__svg-segment_gvcrn_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_gvcrn_1:hover{stroke:#ff512f}",""])},function(t,e){t.exports={curve:"_curve_gvcrn_5",curve__background:"_curve__background_gvcrn_1","curve__svg-wrapper":"_curve__svg-wrapper_gvcrn_1",curve__svg:"_curve__svg_gvcrn_1","curve__svg-segment":"_curve__svg-segment_gvcrn_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(138),g=r(v),y=n(108),_=r(y),m=n(109),b=r(m),x=n(142);n(143);var w=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+x["resize-handle"],n=""+x["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t,"data-component":"resize-handle"},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,b["default"])(new _["default"].Manager(this.base));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(139);n(140);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(141);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(141,function(){var e=n(141);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(144);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(144,function(){var e=n(144);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1f8r5_4","curve-editor__left":"_curve-editor__left_1f8r5_1","curve-editor__right":"_curve-editor__right_1f8r5_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1f8r5_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1f8r5_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1f8r5_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(138),a=r(i),s=n(147),u=r(s),c=n(152),l=r(c),f=n(156),p=r(f),d=n(145),h=function(t){var e=t.state;return(0,o.h)("div",{className:d["curve-editor__left"],id:"js-left-panel"},(0,o.h)(u["default"],{state:e}),(0,o.h)(l["default"],null),(0,o.h)(p["default"],{state:e,className:d["curve-editor__anchor-buttons"]}),(0,o.h)("a",{className:d["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(148),g=r(v),y=n(109),_=r(y),m=n(108),b=r(m),x=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state;return(0,h.h)(g["default"],{shape:"code",isCheck:t.controls.isCode})}},{key:"componentDidMount",value:function(){var t=this.context.store,e=(0,_["default"])(new b["default"].Manager(this.base));e.add(new b["default"].Tap),e.on("tap",function(e){t.dispatch({type:"CODE_TAP"})})}}]),e}(h.Component);e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(108),v=r(h),g=n(3),y=n(138),_=r(y);n(149);var m=n(151),b=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.isCheck?m["is-checked"]:"";return(0,g.h)("div",{className:m["icon-button"]+" "+t,"data-component":"icon-button"},(0,g.h)(_["default"],{shape:this.props.shape}))}},{key:"componentDidMount",value:function(){var t=this;if("function"==typeof this.props.onTap){new v["default"](this.base).on("tap",function(e){t.props.onTap(e,t.props)})}}}]),e}(g.Component);e["default"]=b},function(t,e,n){var r=n(150);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(150,function(){var e=n(150);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon-button_6ysdi_4{position:relative;width:24px;height:24px;display:block;background:#3a0839;border-radius:3px;box-shadow:1px 1px 0 rgba(0,0,0,.15)}._icon-button_6ysdi_4 [data-component=icon]{position:absolute;left:50%;top:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._icon-button_6ysdi_4:hover{box-shadow:none}._icon-button_6ysdi_4:hover [data-component=icon]{-webkit-transform:translate(-52%,-52%);transform:translate(-52%,-52%)}._icon-button_6ysdi_4._is-checked_6ysdi_31,._icon-button_6ysdi_4:active{border-radius:3px;box-shadow:inset -1px -1px 0 hsla(0,0%,100%,.25),inset 1px 1px 1px rgba(0,0,0,.4)}._icon-button_6ysdi_4._is-checked_6ysdi_31 [data-component=icon],._icon-button_6ysdi_4:active [data-component=icon]{-webkit-transform:translate(-54%,-54%) scale(.95);transform:translate(-54%,-54%) scale(.95)}",""])},function(t,e){t.exports={"icon-button":"_icon-button_6ysdi_4","is-checked":"_is-checked_6ysdi_31"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(153);n(154),e["default"]=function(){return(0,r.h)("div",{className:o["icon-divider"],"data-component":"icon-divider"})}},function(t,e){t.exports={"icon-divider":"_icon-divider_ftask_3"}},function(t,e,n){var r=n(155);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(155,function(){var e=n(155);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon-divider_ftask_3{position:relative;margin:0 auto;width:16px;height:1px;display:block;background:hsla(0,0%,100%,.3);box-shadow:0 1px 0 rgba(0,0,0,.3)}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(148),g=r(v);n(157);var y=n(159),_=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.state,n=e.pointControls.present,r=n.isShow?y["is-show"]:"",o=t.className+" "+y["point-controls"]+" "+r,i=this._addButtons(n);return(0,h.h)("div",{className:o}," ",i," ")}},{key:"_onButtonTap",value:function(t){var e=this;return function(n){var r=e.context.store;r.dispatch({type:"POINT_CHANGE_TYPE",data:t,isRecord:!0})}}},{key:"_addButtons",value:function(t){for(var e=["straight","disconnected","mirrored","asymmetric"],n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)(g["default"],{shape:"point-"+o,isCheck:t.type===o,onTap:this._onButtonTap(o)}))}return n}}]),e}(h.Component);e["default"]=_},function(t,e,n){var r=n(158);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(158,function(){var e=n(158);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._point-controls_1xcu7_4{display:none}._point-controls_1xcu7_4 [data-component=icon-button]:after{content:'';position:absolute;width:3px;height:7.5px;background:#ff512f;border-top-right-radius:2px;border-bottom-right-radius:2px;left:-10px;top:50%;margin-top:-3.75px;display:none}._point-controls_1xcu7_4 [data-component=icon-button][class*=is-checked]:after,._point-controls_1xcu7_4._is-show_1xcu7_7{display:block}",""])},function(t,e){t.exports={"point-controls":"_point-controls_1xcu7_4","is-show":"_is-show_1xcu7_7"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'
}})};e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(137),a=r(i);n(162);var s=n(164);e["default"]=function(t){var e=t.state,n=e.points,r=e.controls,i=r.isCode?s["is-open"]:"",u=s["code-panel"]+" "+i;return(0,o.h)("div",{className:u},(0,o.h)("div",{className:s["code-panel__inner"]},(0,o.h)(a["default"],{type:"top"}),(0,o.h)("div",{className:s["code-panel__input-wrap"]},(0,o.h)("input",{className:s["code-panel__input-field"],type:"text",readonly:"readonly",value:n.present.path}))))}},function(t,e,n){var r=n(163);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(163,function(){var e=n(163);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._code-panel_nnb9p_3{position:absolute;left:10px;right:10px;bottom:100%;z-index:1;overflow:hidden;padding-top:16px;box-sizing:content-box}._code-panel_nnb9p_3 [data-component=resize-handle]{position:absolute;left:50%;bottom:100%}._code-panel__inner_nnb9p_1{border-radius:6px 6px 0 0;background:#3d1b3c;padding:4px 5px 5px;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:all .2s ease-out;transition:all .2s ease-out}._code-panel__input-wrap_nnb9p_1{border-radius:2px;background:#42103f;border:1px solid #9c829a;box-shadow:inset 2px 2px 0 rgba(0,0,0,.5)}._code-panel__input-field_nnb9p_1{display:block;background:transparent;color:#fff;font-size:9px;font-family:Arial,Helvetica,sans-serif;letter-spacing:.45px;font-weight:100;padding:0 .3em 0 .8em;border:none;width:100%;height:21px;white-space:nowrap;text-overflow:ellipsis}._code-panel_nnb9p_3 ::-moz-selection,.code-panel ::-moz-selection{background:#ff512f}._code-panel_nnb9p_3 ::selection{background:#ff512f}._code-panel_nnb9p_3._is-open_nnb9p_61 ._code-panel__inner_nnb9p_1{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(t,e){t.exports={"code-panel":"_code-panel_nnb9p_3","code-panel__inner":"_code-panel__inner_nnb9p_1","code-panel__input-wrap":"_code-panel__input-wrap_nnb9p_1","code-panel__input-field":"_code-panel__input-field_nnb9p_1","is-open":"_is-open_nnb9p_61"}},function(t,e,n){var r=n(166);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(166,function(){var e=n(166);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._curve-editor_1f8r5_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:rgba(58,8,58,.85);z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1f8r5_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px;cursor:move}._curve-editor__left_1f8r5_1 [data-component=icon-divider]{margin:10px auto}._curve-editor__right_1f8r5_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1f8r5_1{position:absolute}._curve-editor__resize-handle_1f8r5_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1f8r5_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1f8r5_1[data-type=bottom],._curve-editor__resize-handle_1f8r5_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1f8r5_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1f8r5_1{margin-top:10px}._curve-editor__anchor-buttons_1f8r5_1 [data-component=icon-button]{margin-bottom:5px}._curve-editor__mojs-logo_1f8r5_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1f8r5_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(168),a=r(i),s=function(){return(0,o.createStore)(a["default"])};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(6),s=n(110),u=r(s),c=n(169),l=r(c),f=n(171),p=r(f),d=n(188),h=r(d),v=n(189),g=r(v),y=n(192),_=r(y),m={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},b=(0,_["default"])((0,a.combineReducers)({resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},m)),controls:h["default"],pointControls:(0,u["default"])(g["default"],(0,i["default"])({},m))}),["SET_STATE"],function(t,e){return e.data});e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(170),i=r(o),a=n(118),s=r(a),u=n(107),c=r(u),l={x:150,tempX:0,y:100,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var y=e.data,_=y.x,m=y.y;return(0,s["default"])({},t,{tempX:_,tempY:m});case"EDITOR_TRANSLATE_END":var b=e.data,x=b.x,w=b.y;return x+=t.x,w+=t.y,(0,s["default"])({},t,{x:x,y:w,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(49),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(172),i=r(o),a=n(118),s=r(a),u=n(182),c=r(u),l=n(107),f=(r(l),n(183)),p=r(f),d=n(185),h=r(d),v={path:"",segments:[],points:[]},g=function(t){for(var e=(0,s["default"])({},t,{points:[]}),n=t.points,r=0;r<n.length;r++)e.points.push((0,s["default"])({},n[r],{isSelected:!1}));return e},y=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},_=function(){var t=arguments.length<=0||void 0===arguments[0]?v:arguments[0],e=arguments[1];switch(e.type){case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t.points,a=o[r],u=[].concat((0,i["default"])(o));return u[n.index]=(0,s["default"])({},a,{tempX:n.x,tempY:n.y}),(0,s["default"])({points:u},(0,h["default"])(u));case"POINT_TRANSLATE_END":var l=e.data,f=t.points,d=f[l],_=[].concat((0,i["default"])(f));return _[l]=(0,s["default"])({},d,{x:d.x+d.tempX,y:d.y+d.tempY,tempX:0,tempY:0}),(0,s["default"])({points:_},(0,h["default"])(_));case"POINT_SELECT":var m=e.data,b=m.index,x=m.isDeselect,w=x?g(t):(0,s["default"])({},t),I=w.points,M=I[b];return M.isSelected=!0,(0,s["default"])({},t,{points:I});case"POINT_ADD":var T=e.data,C=T.index,j=T.point,A=g(t),E=[].concat((0,i["default"])(A.points.slice(0,C)),[(0,c["default"])((0,s["default"])({},j))],(0,i["default"])(A.points.slice(C))),O=E.length>1?(0,p["default"])(E):E,P=O.length>1?(0,h["default"])(O):{};return(0,s["default"])({points:O},P);case"POINT_DELETE":for(var S=t.points,D=y(S),N=[],k=0;k<S.length;k++){var L=S[k];(D.indexOf(k)===-1||L.isLockedX)&&N.push(L)}return(0,s["default"])({points:N},(0,h["default"])(N));case"POINT_CHANGE_TYPE":for(var R=t.points,z=y(R),U=[],k=0;k<R.length;k++){var B=R[k],F=e.data;U.push((0,s["default"])({},B)),z.indexOf(k)!==-1&&(U[k].type=F);var G=k,Y=U[G],X=(G===U.length-1?U[G-1]:U[G+1],G===U.length-1?1:2),H=1===X?2:1,Z="handle"+X,W="handle"+H,V=(0,s["default"])({},Y[Z]),Q=(0,s["default"])({},Y[W]);Y[Z]=V,Y[W]=Q,"mirrored"!==F&&"asymmetric"!==F||(Q.angle=V.angle-180,"mirrored"===F&&(Q.radius=V.radius))}return(0,s["default"])({points:U},(0,h["default"])(U));case"POINT_DESELECT_ALL":return(0,s["default"])({},g(t));case"HANDLE_TRANSLATE":var J=t.points,q=e.data,K=[].concat((0,i["default"])(J)),$=(0,s["default"])({},K[q.parentIndex]);K[q.parentIndex]=$;var tt="handle"+q.index,et=(0,s["default"])({},$[tt]);return $[tt]=et,et.angle=q.angle,et.radius=q.radius,(0,s["default"])({points:K},(0,h["default"])(K))}return t};e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(173),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(174),__esModule:!0}},function(t,e,n){n(56),n(175),t.exports=n(34).Array.from},function(t,e,n){"use strict";var r=n(35),o=n(33),i=n(24),a=n(176),s=n(177),u=n(72),c=n(178),l=n(179);o(o.S+o.F*!n(181)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,_=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(p.length),n=new d(e);e>y;y++)c(n,y,g?v(p[y],y):p[y]);else for(f=_.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,g?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(39);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(62),o=n(77)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(38),o=n(46);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(180),o=n(77)("iterator"),i=n(62);t.exports=n(34).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(70),o=n(77)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(77)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(184),i=r(o);e["default"]=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=n===t.length-1?t[n-1]:t[n+1],a=n===t.length-1?1:2;e.push((0,i["default"])(r,o,a))}return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(107),s=r(a);e["default"]=function(t,e,n){t=(0,i["default"])({},t);var r="handle"+n,o=1===n?2:1,a="handle"+o,u=(0,i["default"])({},t[r]),c=(0,i["default"])({},t[a]);t.type;if(t[r]=u,t[a]=c,null==u.angle||null==u.radius){u.radius=50;var l=(e.y-t.y)/s["default"].CURVE_PERCENT,f=e.x-t.x,p=Math.atan(l/f)*(180/Math.PI)-90;f>0&&(p-=180),u.angle=p,c.radius=u.radius,c.angle=u.angle-180}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(186),i=r(o);e["default"]=function(t){for(var e="",n=[],r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=(0,i["default"])(o,a,r);n.push(s),e+=s.string}return{path:e,segments:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),i=r(o),a=n(187),s=r(a);e["default"]=function(t,e,n){if(!e)return 1;var r="",o="",a=t.x+t.tempX,u=t.y+t.tempY,c=e.x+e.tempX,l=e.y+e.tempY,f="M"+a+", "+u/i["default"].CURVE_PERCENT+" ";0===n&&(r+=f),o+=f;var p=(0,s["default"])(t,2);r+=p,o+=p;var d=(0,s["default"])(e,1);r+=d,o+=d;var h=c+", "+l/i["default"].CURVE_PERCENT+" ";return r+=h,o+=h,{string:r,segmentString:o,index:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=n(107),s=r(a);e["default"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=t.x+t.tempX,r=t.y+t.tempY,o=t["handle"+e],a=2===e?"C":"";if("straight"!==t.type){var u=(0,i["default"])(o.angle,o.radius);return""+a+(n+u.x/s["default"].CURVE_PERCENT)+", "+(r+u.y)/s["default"].CURVE_PERCENT+" "}return""+a+n+", "+r/s["default"].CURVE_PERCENT+" "}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(185),s=(r(a),{isCode:!1}),u=function(){var t=arguments.length<=0||void 0===arguments[0]?s:arguments[0],e=arguments[1];switch(e.type){case"CODE_TAP":return(0,i["default"])({},t,{isCode:!t.isCode})}return t};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":var n=e.data.type;return(0,i["default"])({},t,{isShow:!e.isDeselect,type:n});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e,n){var r=n(191);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(191,function(){var e=n(191);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2],r="function"==typeof n?n:function(){return n};return function(n,o){return e.indexOf(o.type)>=0?t(r(n,o),{type:"@@redux-recycle/INIT"}):t(n,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){t.exports={"default":n(194),__esModule:!0}},function(t,e,n){var r=n(34),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e,n,r,o=0;if(0===t.length)return o;for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),o=(o<<5)-o+n,o|=0;return Math.abs(o)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return null!=t?t:e}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDBmYmU2MmU4OTU5OGE4ZDEwMThhIiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcGF0LmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zaGFsbG93RXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9jb25uZWN0LmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zdG9yZVNoYXBlLmpzIiwid2VicGFjazovLy8uLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vaW52YXJpYW50L2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvaC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvY2xvbmUtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2RpZmYuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LXJlY3ljbGVyLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19vdmVyQXJnLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvdXRpbHMvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9jb25zdGFudHMuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9wYWdhdGluZy1oYW1tZXJqcy9wcm9wYWdhdGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LXVuZG8vbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3Jlc2l6ZS1tb2QuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLXJpZ2h0LmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2FkZC1wb2ludGVyLWRvd24uYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3M/MjcwNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcz9lZGM5Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3M/NWE1ZCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzP2JiYzEiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcz8xNjlhIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtYnV0dG9uLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3M/MzZjZSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24tZGl2aWRlci5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzP2IxYjAiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3BvaW50LWNvbnRyb2xzLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcz9jN2Q4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvaWNvbnMuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtcGFuZWwuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3M/YjRmNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3M/ZTgzYyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9pbmRleC1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1zZWdtZW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvY29udHJvbHMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnQtY29udHJvbHMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3M/OWFkZCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC1yZWN5Y2xlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9oYXNoLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2ZhbGxiYWNrLXRvLmJhYmVsLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwiaG90Q3VycmVudEhhc2giLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsImVuc3VyZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsImhvdENodW5rc0xvYWRpbmciLCJmaW5pc2hDaHVua0xvYWRpbmciLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJjYWxsIiwiZm4iLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImhvdEN1cnJlbnRQYXJlbnRzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiYWNjZXB0IiwiZGVwIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJpc051bWJlciIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdEF2YWlsaWJsZUZpbGVzTWFwIiwiYyIsImhvdFVwZGF0ZU5ld0hhc2giLCJoIiwiaG90Q2FsbGJhY2siLCJob3RVcGRhdGUiLCJob3RBZGRVcGRhdGVDaHVuayIsIm1vcmVNb2R1bGVzIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImdldEFmZmVjdGVkU3R1ZmYiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJwb3AiLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsInJlc3VsdCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJkaXNwb3NlSGFuZGxlcnMiLCJqIiwiY2IiLCJjaGlsZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsImVycm9yIiwiY2FsbGJhY2tzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9zdHJpbmdpZnkiLCJfc3RyaW5naWZ5MiIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2NyZWF0ZUNsYXNzMiIsIl9jcmVhdGVDbGFzczMiLCJfcHJlYWN0UmVkdXgiLCJfcHJlYWN0IiwiX2N1cnZlRWRpdG9yIiwiX2N1cnZlRWRpdG9yMiIsIl9zdG9yZSIsIl9zdG9yZTIiLCJfY29uc3RhbnRzIiwiX2NvbnN0YW50czIiLCJfaGFzaCIsIl9oYXNoMiIsIl9mYWxsYmFja1RvIiwiX2ZhbGxiYWNrVG8yIiwiQVBJIiwibyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIl9vIiwiX2RlY2FsYXJlRGVmYXVsdHMiLCJfdmFycyIsIl9yZW5kZXIiLCJfdHJ5VG9SZXN0b3JlIiwiX2xpc3RlblVubG9hZCIsIl9zdWJzY3JpYmUiLCJrZXkiLCJfZGVmYXVsdHMiLCJpc1NhdmVTdGF0ZSIsInJldmlzaW9uIiwic3RvcmUiLCJzdHIiLCJfbG9jYWxTdG9yYWdlIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVuZGVyIiwiUHJvdmlkZXIiLCJib2R5IiwiX3RoaXMyIiwidW5sb2FkRXZlbnQiLCJ3aW5kb3ciLCJwcmVTdGF0ZSIsImdldFN0YXRlIiwicG9pbnRzIiwiaGlzdG9yeSIsInBvaW50Q29udHJvbHMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic3RvcmVkIiwiZ2V0SXRlbSIsImRpc3BhdGNoIiwicG9pbnQiLCJ5IiwiQ1VSVkVfU0laRSIsImlzTG9ja2VkWCIsImluZGV4IiwiX2NvbXBpbGVQYXRoIiwic3Vic2NyaWJlIiwiYmluZCIsInN0YXRlIiwicHJlc2VudCIsInBhdGgiLCJfcHJldlBhdGgiLCJfZWFzaW5nIiwibW9qcyIsImVhc2luZyIsIk1vanNDdXJ2ZUVkaXRvciIsImdsb2JhbCIsInByZWFjdCIsInJlZHV4IiwiX19jb21tb25qcyIsInByb3B0eXBlIiwid2FybmluZyIsIm1lc3NhZ2UiLCJ3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSIsImRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlIiwic2hhbGxvd0VxdWFsIiwib2JqQSIsIm9iakIiLCJrZXlzQSIsImtleXMiLCJrZXlzQiIsImhhc093biIsIndyYXBBY3Rpb25DcmVhdG9ycyIsImFjdGlvbkNyZWF0b3JzIiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiZ2V0RGlzcGxheU5hbWUiLCJXcmFwcGVkQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJ0cnlDYXRjaCIsImN0eCIsImVycm9yT2JqZWN0IiwiY29ubmVjdCIsIm1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsIm1lcmdlUHJvcHMiLCJzaG91bGRTdWJzY3JpYmUiLCJCb29sZWFuIiwibWFwU3RhdGUiLCJkZWZhdWx0TWFwU3RhdGVUb1Byb3BzIiwibWFwRGlzcGF0Y2giLCJkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzIiwiZmluYWxNZXJnZVByb3BzIiwiZGVmYXVsdE1lcmdlUHJvcHMiLCJfb3B0aW9ucyRwdXJlIiwicHVyZSIsIl9vcHRpb25zJHdpdGhSZWYiLCJ3aXRoUmVmIiwiY2hlY2tNZXJnZWRFcXVhbHMiLCJ2ZXJzaW9uIiwibmV4dFZlcnNpb24iLCJjaGVja1N0YXRlU2hhcGUiLCJwcm9wcyIsIm1ldGhvZE5hbWUiLCJpc1BsYWluT2JqZWN0IiwiY29ubmVjdERpc3BsYXlOYW1lIiwiY29tcHV0ZU1lcmdlZFByb3BzIiwic3RhdGVQcm9wcyIsImRpc3BhdGNoUHJvcHMiLCJwYXJlbnRQcm9wcyIsIm1lcmdlZFByb3BzIiwiQ29ubmVjdCIsIl9Db21wb25lbnQiLCJjb250ZXh0IiwiYmFiZWxIZWxwZXJzIiwiY2xhc3NDYWxsQ2hlY2siLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiaW52YXJpYW50JDEiLCJzdG9yZVN0YXRlIiwiY2xlYXJDYWNoZSIsImluaGVyaXRzIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiaGF2ZU93blByb3BzQ2hhbmdlZCIsImhhc1N0b3JlU3RhdGVDaGFuZ2VkIiwiY29tcHV0ZVN0YXRlUHJvcHMiLCJmaW5hbE1hcFN0YXRlVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUiLCJkb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkU3RhdGUiLCJpc0ZhY3RvcnkiLCJjb21wdXRlRGlzcGF0Y2hQcm9wcyIsImZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzIiwiY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCIsImRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMiLCJtYXBwZWREaXNwYXRjaCIsInVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCIsIm5leHRTdGF0ZVByb3BzIiwidXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkIiwibmV4dERpc3BhdGNoUHJvcHMiLCJ1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkIiwibmV4dE1lcmdlZFByb3BzIiwiaXNTdWJzY3JpYmVkIiwidW5zdWJzY3JpYmUiLCJ0cnlTdWJzY3JpYmUiLCJoYW5kbGVDaGFuZ2UiLCJ0cnlVbnN1YnNjcmliZSIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCIsInN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yIiwicmVuZGVyZWRFbGVtZW50IiwicHJldlN0b3JlU3RhdGUiLCJoYXZlU3RhdGVQcm9wc0NoYW5nZWQiLCJzZXRTdGF0ZSIsImdldFdyYXBwZWRJbnN0YW5jZSIsInJlZnMiLCJ3cmFwcGVkSW5zdGFuY2UiLCJzaG91bGRVcGRhdGVTdGF0ZVByb3BzIiwic2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyIsImhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCIsImhhdmVNZXJnZWRQcm9wc0NoYW5nZWQiLCJyZWYiLCJDb21wb25lbnQiLCJjb250ZXh0VHlwZXMiLCJzdG9yZVNoYXBlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImhvaXN0U3RhdGljcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJDaGlsZHJlbiIsIm9ubHkiLCJpc1JlcXVpcmVkIiwiUHJvcFR5cGVzIiwiZWxlbWVudCIsImZ1bmMiLCJzaGFwZSIsImdldENoaWxkQ29udGV4dCIsIm5leHRTdG9yZSIsImNoaWxkQ29udGV4dFR5cGVzIiwiaXNPYmplY3RMaWtlIiwicmVxdWlyZSQkMCIsIl9pc0hvc3RPYmplY3QiLCJpc0hvc3RPYmplY3QiLCJ0b1N0cmluZyIsInJlcXVpcmUkJDEiLCJfZ2V0UHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlIiwibmF0aXZlR2V0UHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJyZXF1aXJlJCQyIiwib2JqZWN0VG9TdHJpbmciLCJvYmplY3RUYWciLCJwcm90byIsIkN0b3IiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2JqZWN0UHJvdG8iLCJGdW5jdGlvbiIsImlzUGxhaW5PYmplY3QkMSIsIlJFQUNUX1NUQVRJQ1MiLCJkZWZhdWx0UHJvcHMiLCJnZXREZWZhdWx0UHJvcHMiLCJtaXhpbnMiLCJwcm9wVHlwZXMiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiYXJpdHkiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaW52YXJpYW50IiwiTk9ERV9FTlYiLCJjb25kaXRpb24iLCJmb3JtYXQiLCJkIiwiZiIsImFyZ3MiLCJhcmdJbmRleCIsInJlcGxhY2UiLCJmcmFtZXNUb1BvcCIsInNldEltbWVkaWF0ZSIsIlZOb2RlIiwibm9kZU5hbWUiLCJhdHRyaWJ1dGVzIiwiZXh0ZW5kIiwiY2xvbmUiLCJkZWx2ZSIsInNwbGl0IiwidG9BcnJheSIsIm9mZnNldCIsImlzRnVuY3Rpb24iLCJpc1N0cmluZyIsImVtcHR5IiwiZmFsc2V5IiwiaGFzaFRvQ2xhc3NOYW1lIiwicHJvcCIsImZpcnN0Q2hpbGQiLCJhcnIiLCJsYXN0U2ltcGxlIiwibGVuIiwiU3RyaW5nIiwiX3AiLCJqb2luIiwiU0hBUkVEX1RFTVBfQVJSQVkiLCJzaW1wbGUiLCJjbGFzc05hbWUiLCJ2bm9kZSIsImNsb25lRWxlbWVudCIsImNyZWF0ZUxpbmtlZFN0YXRlIiwiY29tcG9uZW50IiwiZXZlbnRQYXRoIiwicDAiLCJfY29tcG9uZW50JHNldFN0YXRlIiwidiIsInQiLCJjdXJyZW50VGFyZ2V0IiwicyIsIl9jb21wb25lbnQiLCJtYXRjaCIsImNoZWNrZWQiLCJlbnF1ZXVlUmVuZGVyIiwiaXRlbXMiLCJyZXJlbmRlciIsImN1cnJlbnRJdGVtcyIsIml0ZW1zT2ZmbGluZSIsImlzRnVuY3Rpb25hbENvbXBvbmVudCIsImJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCIsImdldE5vZGVQcm9wcyIsIkVNUFRZIiwiZW5zdXJlTm9kZURhdGEiLCJub2RlIiwiQVRUUl9LRVkiLCJnZXROb2RlVHlwZSIsIlRleHQiLCJFbGVtZW50IiwicmVtb3ZlTm9kZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNldEFjY2Vzc29yIiwib2xkIiwiaXNTdmciLCJzdHlsZSIsImNzc1RleHQiLCJOT05fRElNRU5TSU9OX1BST1BTIiwiaW5uZXJIVE1MIiwiX19odG1sIiwiX2xpc3RlbmVycyIsInRvTG93ZXJDYXNlIiwic3Vic3RyaW5nIiwiZXZlbnRQcm94eSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRQcm9wZXJ0eSIsInJlbW92ZUF0dHJpYnV0ZSIsIm5zIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZSIsImV2ZW50IiwiZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMiLCJhdHRycyIsImlzU2FtZU5vZGVUeXBlIiwiaXNOYW1lZE5vZGUiLCJfY29tcG9uZW50Q29uc3RydWN0b3IiLCJub3JtYWxpemVkTm9kZU5hbWUiLCJjb2xsZWN0Tm9kZSIsImNsZWFuTm9kZSIsImxpc3QiLCJub2RlcyIsImNyZWF0ZU5vZGUiLCJjcmVhdGVFbGVtZW50TlMiLCJmbHVzaE1vdW50cyIsIm1vdW50cyIsImRpZmYiLCJkb20iLCJtb3VudEFsbCIsImRpZmZMZXZlbCIsInJldCIsImlkaWZmIiwib3JpZ2luYWxBdHRyaWJ1dGVzIiwibm9kZVZhbHVlIiwiY3JlYXRlVGV4dE5vZGUiLCJzdmdNb2RlIiwib3V0IiwiaXNTdmdNb2RlIiwicmVjb2xsZWN0Tm9kZVRyZWUiLCJjaGlsZE5vZGVzIiwiaW5uZXJEaWZmTm9kZSIsImRpZmZBdHRyaWJ1dGVzIiwidmNoaWxkcmVuIiwidmNoaWxkIiwia2V5ZWQiLCJvcmlnaW5hbENoaWxkcmVuIiwiY2hpbGRyZW5MZW4iLCJ2bGVuIiwiX2NoaWxkIiwiX19rZXkiLCJrZXllZExlbiIsIm1pbiIsImluc2VydEJlZm9yZSIsInJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4iLCJ1bm1vdW50T25seSIsIl9uYW1lIiwiX25hbWUyIiwiY29sbGVjdENvbXBvbmVudCIsImNvbXBvbmVudHMiLCJjcmVhdGVDb21wb25lbnQiLCJpbnN0IiwibmV4dEJhc2UiLCJ0cmlnZ2VyQ29tcG9uZW50UmVuZGVyIiwiX2RpcnR5Iiwic2V0Q29tcG9uZW50UHJvcHMiLCJvcHRzIiwiYmFzZSIsIl9kaXNhYmxlUmVuZGVyaW5nIiwiX19yZWYiLCJjb21wb25lbnRXaWxsTW91bnQiLCJwcmV2Q29udGV4dCIsInByZXZQcm9wcyIsInN5bmNDb21wb25lbnRVcGRhdGVzIiwicmVuZGVyQ29tcG9uZW50Iiwic2tpcCIsInJlbmRlcmVkIiwicHJldmlvdXNTdGF0ZSIsInByZXZTdGF0ZSIsInByZXZpb3VzQ29udGV4dCIsImlzVXBkYXRlIiwiaW5pdGlhbEJhc2UiLCJuZXh0U2libGluZyIsImJhc2VQYXJlbnQiLCJpbml0aWFsQ29tcG9uZW50IiwiaW5pdGlhbENoaWxkQ29tcG9uZW50IiwicHJldmlvdXNQcm9wcyIsInRvVW5tb3VudCIsImNoaWxkQ29tcG9uZW50IiwiY2hpbGRQcm9wcyIsIl9wYXJlbnRDb21wb25lbnQiLCJjYmFzZSIsInVubW91bnRDb21wb25lbnQiLCJjb21wb25lbnRSZWYiLCJ1bnNoaWZ0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX3JlbmRlckNhbGxiYWNrcyIsImJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlIiwib2xkRG9tIiwiaXNEaXJlY3RPd25lciIsImlzT3duZXIiLCJyZW1vdmUiLCJpbm5lciIsImNvbXBvbmVudERpZFVubW91bnQiLCJfbGlua2VkU3RhdGVzIiwiZ2V0SW5pdGlhbFN0YXRlIiwibWVyZ2UiLCJsY0NhY2hlIiwicmVzb2x2ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJzZXRUaW1lb3V0IiwiU3ltYm9sIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImNvbHVtbkNvdW50IiwiZmlsbE9wYWNpdHkiLCJmbGV4IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwic3Ryb2tlT3BhY2l0eSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJsaW5rU3RhdGUiLCJjYWNoZUtleSIsImZvcmNlVXBkYXRlIiwiY2xlYXJJbW1lZGlhdGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwibmV4dFRpY2siLCJBcnJheSIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJfb25UaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJjb25jYXQiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsImNhY2hlZFNldFRpbWVvdXQiLCJydW4iLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJpc0NydXNoZWQiLCJjb21wb3NlIiwiYXBwbHlNaWRkbGV3YXJlIiwiY29tYmluZVJlZHVjZXJzIiwiY3JlYXRlU3RvcmUiLCJfY3JlYXRlU3RvcmUiLCJfY3JlYXRlU3RvcmUyIiwiX2NvbWJpbmVSZWR1Y2VycyIsIl9jb21iaW5lUmVkdWNlcnMyIiwiX2JpbmRBY3Rpb25DcmVhdG9ycyIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMyIiwiX2FwcGx5TWlkZGxld2FyZSIsIl9hcHBseU1pZGRsZXdhcmUyIiwiX2NvbXBvc2UiLCJfY29tcG9zZTIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsInJlZHVjZXIiLCJpbml0aWFsU3RhdGUiLCJlbmhhbmNlciIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiY3VycmVudExpc3RlbmVycyIsImN1cnJlbnRTdGF0ZSIsImxpc3RlbmVyIiwiYWN0aW9uIiwiX2lzUGxhaW5PYmplY3QyIiwiaXNEaXNwYXRjaGluZyIsImN1cnJlbnRSZWR1Y2VyIiwibGlzdGVuZXJzIiwicmVwbGFjZVJlZHVjZXIiLCJuZXh0UmVkdWNlciIsIkFjdGlvblR5cGVzIiwiSU5JVCIsIm9ic2VydmFibGUiLCJfcmVmIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlciIsIm9ic2VydmVTdGF0ZSIsIm5leHQiLCJfc3ltYm9sT2JzZXJ2YWJsZTIiLCJfcmVmMiIsIl9pc1BsYWluT2JqZWN0IiwiX3N5bWJvbE9ic2VydmFibGUiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25UeXBlIiwiYWN0aW9uTmFtZSIsImdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UiLCJpbnB1dFN0YXRlIiwicmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImFyZ3VtZW50TmFtZSIsInVuZXhwZWN0ZWRLZXlzIiwiZmlsdGVyIiwiYXNzZXJ0UmVkdWNlclNhbml0eSIsImZvckVhY2giLCJNYXRoIiwicmFuZG9tIiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsIndhcm5pbmdNZXNzYWdlIiwiaGFzQ2hhbmdlZCIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGVGb3JLZXkiLCJuZXh0U3RhdGVGb3JLZXkiLCJlcnJvck1lc3NhZ2UiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsIl9kaXNwYXRjaCIsImNoYWluIiwibWlkZGxld2FyZUFQSSIsIm1hcCIsIm1pZGRsZXdhcmUiLCJfZXh0ZW5kcyIsImZ1bmNzIiwiX3JldCIsImxhc3QiLCJyZXN0IiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMyIiwiX2luaGVyaXRzMyIsIl9oYW1tZXJqcyIsIl9oYW1tZXJqczIiLCJfcHJvcGFnYXRpbmdIYW1tZXJqcyIsIl9wcm9wYWdhdGluZ0hhbW1lcmpzMiIsIl9yZWR1eFVuZG8iLCJfcmVzaXplTW9kIiwiX3Jlc2l6ZU1vZDIiLCJfY3VydmVFZGl0b3JSaWdodCIsIl9jdXJ2ZUVkaXRvclJpZ2h0MiIsIl9jdXJ2ZUVkaXRvckxlZnQiLCJfY3VydmVFZGl0b3JMZWZ0MiIsIl9pY29ucyIsIl9pY29uczIiLCJfY29kZVBhbmVsIiwiX2NvZGVQYW5lbDIiLCJDdXJ2ZUVkaXRvciIsIkNMQVNTRVMiLCJfZ2V0U3R5bGUiLCJYX1NJWkUiLCJZX1NJWkUiLCJDVVJWRV9QQURESU5HIiwicmVzaXplIiwidGVtcF90b3AiLCJ0ZW1wX2JvdHRvbSIsInRlbXBfcmlnaHQiLCJ0cmFuc2xhdGUiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImhlaWdodCIsIndpZHRoIiwidGVtcFgiLCJ0ZW1wWSIsInByZWZpeCIsImNzcyIsImVsIiwicXVlcnlTZWxlY3RvciIsIm1jIiwiTWFuYWdlciIsImFkZCIsIlBhbiIsInRocmVzaG9sZCIsImRlbHRhWCIsImRlbHRhWSIsIl9hZGRLZXlVcCIsIl9vbktleVVwIiwiYWx0S2V5Iiwid2hpY2giLCJBY3Rpb25DcmVhdG9ycyIsInVuZG8iLCJyZWRvIiwidG9PYmplY3QiLCIkZ2V0UHJvdG90eXBlT2YiLCJpdCIsImRlZmluZWQiLCJoYXMiLCJJRV9QUk9UTyIsIk9iamVjdFByb3RvIiwiTyIsInNoYXJlZCIsInVpZCIsIlNIQVJFRCIsIl9fZyIsInB4IiwiJGV4cG9ydCIsImNvcmUiLCJmYWlscyIsIktFWSIsImV4ZWMiLCJleHAiLCJTIiwiRiIsImhpZGUiLCJQUk9UT1RZUEUiLCJvd24iLCJJU19GT1JDRUQiLCJJU19HTE9CQUwiLCJHIiwiSVNfU1RBVElDIiwiSVNfUFJPVE8iLCJQIiwiSVNfQklORCIsIkIiLCJJU19XUkFQIiwiVyIsImV4cFByb3RvIiwiQyIsInZpcnR1YWwiLCJSIiwiVSIsIl9fZSIsImFGdW5jdGlvbiIsInRoYXQiLCJkUCIsImNyZWF0ZURlc2MiLCJvYmplY3QiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJBdHRyaWJ1dGVzIiwiaXNPYmplY3QiLCJpcyIsInZhbCIsInZhbHVlT2YiLCJiaXRtYXAiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCIkT2JqZWN0IiwiZGVzYyIsIl90eXBlb2YyIiwiX3R5cGVvZjMiLCJfaXRlcmF0b3IiLCJfaXRlcmF0b3IyIiwiX3N5bWJvbCIsIl9zeW1ib2wyIiwiX3R5cGVvZiIsIiRhdCIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsImRvbmUiLCJ0b0ludGVnZXIiLCJUT19TVFJJTkciLCJwb3MiLCJjaGFyQ29kZUF0IiwiY2hhckF0IiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCJMSUJSQVJZIiwicmVkZWZpbmUiLCJJdGVyYXRvcnMiLCIkaXRlckNyZWF0ZSIsInNldFRvU3RyaW5nVGFnIiwiSVRFUkFUT1IiLCJCVUdHWSIsIkZGX0lURVJBVE9SIiwiS0VZUyIsIlZBTFVFUyIsInJldHVyblRoaXMiLCJCYXNlIiwiTkFNRSIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJraW5kIiwiVEFHIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCIkZW50cmllcyIsIiRhbnlOYXRpdmUiLCJlbnRyaWVzIiwidmFsdWVzIiwiZFBzIiwiZW51bUJ1Z0tleXMiLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsImx0IiwiZ3QiLCJkaXNwbGF5IiwiY29udGVudFdpbmRvdyIsIndyaXRlIiwiUHJvcGVydGllcyIsImdldEtleXMiLCIka2V5cyIsInRvSU9iamVjdCIsImFycmF5SW5kZXhPZiIsIm5hbWVzIiwiSU9iamVjdCIsImNvZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9MZW5ndGgiLCJ0b0luZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImZyb21JbmRleCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsImRlZiIsInRhZyIsInN0YXQiLCJVU0VfU1lNQk9MIiwiJGV4cG9ydHMiLCJUT19TVFJJTkdfVEFHIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9uIiwiYWRkVG9VbnNjb3BhYmxlcyIsInN0ZXAiLCJfayIsIkFyZ3VtZW50cyIsIkRFU0NSSVBUT1JTIiwiTUVUQSIsIiRmYWlscyIsIndrcyIsIndrc0V4dCIsIndrc0RlZmluZSIsImtleU9mIiwiZW51bUtleXMiLCJpc0FycmF5IiwiX2NyZWF0ZSIsImdPUE5FeHQiLCIkR09QRCIsIiREUCIsImdPUEQiLCJnT1BOIiwiJFN5bWJvbCIsIiRKU09OIiwic3RyaW5naWZ5IiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiaXNFbnVtIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwiRCIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJpc1N5bWJvbCIsIml0ZXJhdG9yIiwiJGRlZmluZVByb3BlcnR5IiwiJGRlZmluZVByb3BlcnRpZXMiLCIkY3JlYXRlIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJzeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwid2luZG93TmFtZXMiLCJnZXRXaW5kb3dOYW1lcyIsImhpZGRlbktleXMiLCJfc2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZTIiLCJ0ZXN0IiwiYnVnZ3kiLCJDVVJWRV9QRVJDRU5UIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJleHBvcnROYW1lIiwic2V0VGltZW91dENvbnRleHQiLCJiaW5kRm4iLCJpbnZva2VBcnJheUFyZyIsImVhY2giLCJkZXByZWNhdGUiLCJtZXRob2QiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJzdGFjayIsImxvZyIsImluaGVyaXQiLCJwcm9wZXJ0aWVzIiwiY2hpbGRQIiwiYmFzZVAiLCJfc3VwZXIiLCJib29sT3JGbiIsIlRZUEVfRlVOQ1RJT04iLCJpZlVuZGVmaW5lZCIsInZhbDEiLCJ2YWwyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0eXBlcyIsImhhbmRsZXIiLCJzcGxpdFN0ciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiaGFzUGFyZW50IiwiaW5TdHIiLCJmaW5kIiwidHJpbSIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwicHJlZml4ZWQiLCJwcm9wZXJ0eSIsImNhbWVsUHJvcCIsInRvVXBwZXJDYXNlIiwiVkVORE9SX1BSRUZJWEVTIiwidW5pcXVlSWQiLCJfdW5pcXVlSWQiLCJnZXRXaW5kb3dGb3JFbGVtZW50IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiSW5wdXQiLCJtYW5hZ2VyIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZXYiLCJlbmFibGUiLCJpbml0IiwiY3JlYXRlSW5wdXRJbnN0YW5jZSIsIlR5cGUiLCJpbnB1dENsYXNzIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0IiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwiVG91Y2hJbnB1dCIsIlNVUFBPUlRfVE9VQ0giLCJUb3VjaE1vdXNlSW5wdXQiLCJNb3VzZUlucHV0IiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsInBvaW50ZXJzIiwiY2hhbmdlZFBvaW50ZXJzTGVuIiwiY2hhbmdlZFBvaW50ZXJzIiwiaXNGaXJzdCIsIklOUFVUX1NUQVJUIiwiaXNGaW5hbCIsIklOUFVUX0VORCIsIklOUFVUX0NBTkNFTCIsInNlc3Npb24iLCJjb21wdXRlSW5wdXREYXRhIiwicmVjb2duaXplIiwicHJldklucHV0IiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwibm93IiwiZGVsdGFUaW1lIiwiYW5nbGUiLCJnZXRBbmdsZSIsImRpc3RhbmNlIiwiZ2V0RGlzdGFuY2UiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJhYnMiLCJzY2FsZSIsImdldFNjYWxlIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJvZmZzZXREZWx0YSIsInByZXZEZWx0YSIsInZlbG9jaXR5IiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwiZGlyZWN0aW9uIiwibGFzdEludGVydmFsIiwiQ09NUFVURV9JTlRFUlZBTCIsImNsaWVudFgiLCJyb3VuZCIsImNsaWVudFkiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9MRUZUIiwiRElSRUNUSU9OX1JJR0hUIiwiRElSRUNUSU9OX1VQIiwiRElSRUNUSU9OX0RPV04iLCJwMSIsInAyIiwiUFJPUFNfWFkiLCJzcXJ0IiwiYXRhbjIiLCJQSSIsInN0YXJ0IiwiZW5kIiwiUFJPUFNfQ0xJRU5UX1hZIiwiZXZFbCIsIk1PVVNFX0VMRU1FTlRfRVZFTlRTIiwiZXZXaW4iLCJNT1VTRV9XSU5ET1dfRVZFTlRTIiwicHJlc3NlZCIsIlBPSU5URVJfRUxFTUVOVF9FVkVOVFMiLCJQT0lOVEVSX1dJTkRPV19FVkVOVFMiLCJwb2ludGVyRXZlbnRzIiwiU2luZ2xlVG91Y2hJbnB1dCIsImV2VGFyZ2V0IiwiU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMiLCJTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyIsInN0YXJ0ZWQiLCJub3JtYWxpemVTaW5nbGVUb3VjaGVzIiwiYWxsIiwidG91Y2hlcyIsImNoYW5nZWQiLCJjaGFuZ2VkVG91Y2hlcyIsIlRPVUNIX1RBUkdFVF9FVkVOVFMiLCJ0YXJnZXRJZHMiLCJnZXRUb3VjaGVzIiwiYWxsVG91Y2hlcyIsIklOUFVUX01PVkUiLCJpZGVudGlmaWVyIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUYXJnZXRUb3VjaGVzIiwidG91Y2giLCJtb3VzZSIsInByaW1hcnlUb3VjaCIsImxhc3RUb3VjaGVzIiwicmVjb3JkVG91Y2hlcyIsImV2ZW50RGF0YSIsInNldExhc3RUb3VjaCIsImxhc3RUb3VjaCIsImx0cyIsInJlbW92ZUxhc3RUb3VjaCIsIkRFRFVQX1RJTUVPVVQiLCJpc1N5bnRoZXRpY0V2ZW50IiwiZHgiLCJkeSIsIkRFRFVQX0RJU1RBTkNFIiwiVG91Y2hBY3Rpb24iLCJjbGVhblRvdWNoQWN0aW9ucyIsImFjdGlvbnMiLCJUT1VDSF9BQ1RJT05fTk9ORSIsImhhc1BhblgiLCJUT1VDSF9BQ1RJT05fUEFOX1giLCJoYXNQYW5ZIiwiVE9VQ0hfQUNUSU9OX1BBTl9ZIiwiVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiIsIlRPVUNIX0FDVElPTl9BVVRPIiwiZ2V0VG91Y2hBY3Rpb25Qcm9wcyIsIk5BVElWRV9UT1VDSF9BQ1RJT04iLCJ0b3VjaE1hcCIsImNzc1N1cHBvcnRzIiwiQ1NTIiwic3VwcG9ydHMiLCJSZWNvZ25pemVyIiwiZGVmYXVsdHMiLCJTVEFURV9QT1NTSUJMRSIsInNpbXVsdGFuZW91cyIsInJlcXVpcmVGYWlsIiwic3RhdGVTdHIiLCJTVEFURV9DQU5DRUxMRUQiLCJTVEFURV9FTkRFRCIsIlNUQVRFX0NIQU5HRUQiLCJTVEFURV9CRUdBTiIsImRpcmVjdGlvblN0ciIsImdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIiLCJvdGhlclJlY29nbml6ZXIiLCJyZWNvZ25pemVyIiwiQXR0clJlY29nbml6ZXIiLCJQYW5SZWNvZ25pemVyIiwicFgiLCJwWSIsIlBpbmNoUmVjb2duaXplciIsIlByZXNzUmVjb2duaXplciIsIl90aW1lciIsIl9pbnB1dCIsIlJvdGF0ZVJlY29nbml6ZXIiLCJTd2lwZVJlY29nbml6ZXIiLCJUYXBSZWNvZ25pemVyIiwicFRpbWUiLCJwQ2VudGVyIiwiY291bnQiLCJIYW1tZXIiLCJyZWNvZ25pemVycyIsInByZXNldCIsImhhbmRsZXJzIiwib2xkQ3NzUHJvcHMiLCJ0b3VjaEFjdGlvbiIsInRvZ2dsZUNzc1Byb3BzIiwicmVjb2duaXplV2l0aCIsInJlcXVpcmVGYWlsdXJlIiwiY3NzUHJvcHMiLCJ0cmlnZ2VyRG9tRXZlbnQiLCJnZXN0dXJlRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImdlc3R1cmUiLCJkaXNwYXRjaEV2ZW50IiwiVEVTVF9FTEVNRU5UIiwiRGF0ZSIsIm91dHB1dCIsIm5leHRLZXkiLCJkZXN0IiwiTU9CSUxFX1JFR0VYIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiSU5QVVRfVFlQRV9UT1VDSCIsIklOUFVUX1RZUEVfUEVOIiwiSU5QVVRfVFlQRV9NT1VTRSIsIklOUFVUX1RZUEVfS0lORUNUIiwiRElSRUNUSU9OX0hPUklaT05UQUwiLCJESVJFQ1RJT05fVkVSVElDQUwiLCJESVJFQ1RJT05fQUxMIiwiZGVzdHJveSIsIk1PVVNFX0lOUFVUX01BUCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJidXR0b24iLCJwb2ludGVyVHlwZSIsIlBPSU5URVJfSU5QVVRfTUFQIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3V0IiwiSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSIsIjIiLCIzIiwiNCIsIjUiLCJNU1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInJlbW92ZVBvaW50ZXIiLCJldmVudFR5cGVOb3JtYWxpemVkIiwiaXNUb3VjaCIsInN0b3JlSW5kZXgiLCJwb2ludGVySWQiLCJTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiLCJUT1VDSF9JTlBVVF9NQVAiLCJpbnB1dEV2ZW50IiwiaW5wdXREYXRhIiwiaXNNb3VzZSIsInNvdXJjZUNhcGFiaWxpdGllcyIsImZpcmVzVG91Y2hFdmVudHMiLCJQUkVGSVhFRF9UT1VDSF9BQ1RJT04iLCJUT1VDSF9BQ1RJT05fQ09NUFVURSIsIlRPVUNIX0FDVElPTl9NQVAiLCJjb21wdXRlIiwiZ2V0VG91Y2hBY3Rpb24iLCJwcmV2ZW50RGVmYXVsdHMiLCJwcmV2ZW50ZWQiLCJwcmV2ZW50RGVmYXVsdCIsImhhc05vbmUiLCJpc1RhcFBvaW50ZXIiLCJpc1RhcE1vdmVtZW50IiwiaXNUYXBUb3VjaFRpbWUiLCJwcmV2ZW50U3JjIiwiU1RBVEVfUkVDT0dOSVpFRCIsIlNUQVRFX0ZBSUxFRCIsImRyb3BSZWNvZ25pemVXaXRoIiwiZHJvcFJlcXVpcmVGYWlsdXJlIiwiaGFzUmVxdWlyZUZhaWx1cmVzIiwiY2FuUmVjb2duaXplV2l0aCIsImFkZGl0aW9uYWxFdmVudCIsInRyeUVtaXQiLCJjYW5FbWl0IiwiaW5wdXREYXRhQ2xvbmUiLCJyZXNldCIsImF0dHJUZXN0Iiwib3B0aW9uUG9pbnRlcnMiLCJpc1JlY29nbml6ZWQiLCJpc1ZhbGlkIiwiZGlyZWN0aW9uVGVzdCIsImhhc01vdmVkIiwiaW5PdXQiLCJ0aW1lIiwidmFsaWRQb2ludGVycyIsInZhbGlkTW92ZW1lbnQiLCJ2YWxpZFRpbWUiLCJ0YXBzIiwiaW50ZXJ2YWwiLCJwb3NUaHJlc2hvbGQiLCJ2YWxpZFRvdWNoVGltZSIsImZhaWxUaW1lb3V0IiwidmFsaWRJbnRlcnZhbCIsInZhbGlkTXVsdGlUYXAiLCJ0YXBDb3VudCIsIlZFUlNJT04iLCJkb21FdmVudHMiLCJ1c2VyU2VsZWN0IiwidG91Y2hTZWxlY3QiLCJ0b3VjaENhbGxvdXQiLCJjb250ZW50Wm9vbWluZyIsInVzZXJEcmFnIiwidGFwSGlnaGxpZ2h0Q29sb3IiLCJTVE9QIiwiRk9SQ0VEX1NUT1AiLCJzdG9wIiwiZm9yY2UiLCJzdG9wcGVkIiwiY3VyUmVjb2duaXplciIsImV4aXN0aW5nIiwiZXZlbnRzIiwiVGFwIiwiU3dpcGUiLCJQaW5jaCIsIlJvdGF0ZSIsIlByZXNzIiwiZnJlZUdsb2JhbCIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfZmlyc3RUYXJnZXQiLCJwcm9wYWdhdGluZyIsImhhbW1lciIsInByb3BhZ2F0ZWRIYW5kbGVyIiwiX2hhbmRsZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJzcmNTdG9wIiwiZmlyc3RUYXJnZXQiLCJlbGVtIiwiZWxlbUhhbW1lciIsIl9oYW5kbGVycyIsImsiLCJfb3B0aW9ucyIsIlByb3BhZ2F0aW5nSGFtbWVyIiwid3JhcHBlciIsImhhbW1lcnMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZnJvbSIsImRlYnVnIiwiX19ERUJVR19fIiwiX2NvbnNvbGUiLCJncm91cCIsImRlYnVnU3RhcnQiLCJfY29uc29sZTIiLCJncm91cENvbGxhcHNlZCIsImRlYnVnRW5kIiwiZ3JvdXBFbmQiLCJwYXN0IiwiZnV0dXJlIiwiaW5zZXJ0IiwibGltaXQiLCJmcmVlIiwiaGlzdG9yeU92ZXJmbG93IiwianVtcFRvRnV0dXJlIiwianVtcFRvUGFzdCIsIndyYXBTdGF0ZSIsInVwZGF0ZVN0YXRlIiwiY3JlYXRlSGlzdG9yeSIsInBhcnNlQWN0aW9ucyIsInJhd0FjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJ1bmRvYWJsZSIsInJhd0NvbmZpZyIsImNvbmZpZyIsImluaXRUeXBlcyIsInVuZG9UeXBlIiwiVU5ETyIsInJlZG9UeXBlIiwiUkVETyIsImp1bXBUb1Bhc3RUeXBlIiwiSlVNUF9UT19QQVNUIiwianVtcFRvRnV0dXJlVHlwZSIsIkpVTVBfVE9fRlVUVVJFIiwiaW5pdGlhbEhpc3RvcnkiLCJyZXMiLCJzb21lIiwidXBkYXRlZEhpc3RvcnkiLCJkaXN0aW5jdFN0YXRlIiwiaW5jbHVkZUFjdGlvbiIsImlmQWN0aW9uIiwiZXhjbHVkZUFjdGlvbiIsIm1vZCIsInRlbXBSZXNpemVfdG9wIiwiY29lZiIsIk1PRCIsIkRJViIsInBhcnNlSW50IiwiR0FQIiwiX2N1cnZlIiwiX2N1cnZlMiIsIl9yZXNpemVIYW5kbGUiLCJfcmVzaXplSGFuZGxlMiIsIkN1cnZlRWRpdG9yUmlnaHQiLCJfYW5nbGVUb1BvaW50IiwiX3BvaW50IiwiX3BvaW50MiIsIkN1cnZlIiwic3R5bGVzIiwiX3JlbmRlclBvaW50cyIsInNlZ21lbnRzIiwiX3JlbmRlclNlZ21lbnRzIiwiYmFja2dyb3VuZCIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiY2xhc3MiLCJzdHJva2UiLCJzdHJva2Utb3BhY2l0eSIsInN0cm9rZS13aWR0aCIsInZlY3Rvci1lZmZlY3QiLCJmaWxsIiwiYmdUcmFuc2Zvcm0iLCJwb2ludHNEYXRhIiwicG9pbnRzQ291bnQiLCJkb21TZWdtZW50cyIsInNlZ21lbnQiLCJzZWdtZW50U3RyaW5nIiwiZGF0YS1pbmRleCIsInRhZ05hbWUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldEF0dHJpYnV0ZSIsImlzUmVjb3JkIiwic3ZnIiwic3ZnTWMiLCJyYWRpdXMiLCJnZXRSYWRpYWxQb2ludCIsIl9hZGRQb2ludGVyRG93biIsIl9hZGRQb2ludGVyRG93bjIiLCJfbGl0dGxlSGFuZGxlIiwiX2xpdHRsZUhhbmRsZTIiLCJfcm91bmRUbyIsIl9yb3VuZFRvMiIsIl9jbGFtcCIsIl9jbGFtcDIiLCJQb2ludCIsIl9wcm9wcyIsInNlbGVjdGVkIiwiaXNTZWxlY3RlZCIsImhhbmRsZXMiLCJsaXR0bGVIYW5kbGVzIiwiX2dldExpdHRsZUhhbmRsZXMiLCJkYXRhLWNvbXBvbmVudCIsImNsZWFuWCIsInNjYWxlclgiLCJfcHJvcHMyIiwiX2NyZWF0ZUhhbmRsZSIsInBhcmVudEluZGV4IiwiaGFuZGxlIiwiZ2V0VGVtcFgiLCJfcHJvcHMzIiwiZ2V0VGVtcFkiLCJfcHJvcHM1IiwicmV0dXJuVmFsdWUiLCJfcHJvcHM2IiwiX3Byb3BzNyIsIl9wcm9wczgiLCJpc0Rlc2VsZWN0Iiwic2hpZnRLZXkiLCJtc1BvaW50ZXJFbmFibGVkIiwib250b3VjaHN0YXJ0IiwiX2FuZ2xlVG9Qb2ludDIiLCJfcG9pbnRUb0FuZ2xlIiwiX3BvaW50VG9BbmdsZTIiLCJMaXR0bGVIYW5kbGUiLCJfZ2V0UG9pbnRTdHlsZSIsIl9nZXRMaW5lU3R5bGUiLCJuZXdYIiwibmV3WSIsIl9hc3NpZ24iLCJfYXNzaWduMiIsIiRhc3NpZ24iLCJBIiwiSyIsIlQiLCJhTGVuIiwiYXRhbiIsImNvbnRlbnQiLCJsb2NhbHMiLCJuZXdDb250ZW50IiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJhZGRTdHlsZXNUb0RvbSIsImRvbVN0eWxlIiwic3R5bGVzSW5Eb20iLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwic3R5bGVTaGVldCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsIm1lbW9pemUiLCJtZW1vIiwiaXNPbGRJRSIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlbWVudCIsImxpdHRsZS1oYW5kbGUiLCJsaXR0bGUtaGFuZGxlX19wb2ludCIsImxpdHRsZS1oYW5kbGVfX2xpbmUiLCJzbmFwIiwibW9kaWZpZWQiLCJwb2ludF9fdG91Y2giLCJpcy1zZWxlY3RlZCIsImlzLWhpZGUtaGFuZGxlcyIsImN1cnZlIiwiY3VydmVfX2JhY2tncm91bmQiLCJjdXJ2ZV9fc3ZnLXdyYXBwZXIiLCJjdXJ2ZV9fc3ZnIiwiY3VydmVfX3N2Zy1zZWdtZW50IiwiX2ljb24iLCJfaWNvbjIiLCJSZXNpemVIYW5kbGUiLCJjbGFzc1R5cGUiLCJkYXRhLXR5cGUiLCJJY29uIiwibWFya3VwIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpY29uIiwicmVzaXplLWhhbmRsZSIsInJlc2l6ZS1oYW5kbGUtLXJpZ2h0IiwicmVzaXplLWhhbmRsZS0tYm90dG9tIiwiY3VydmUtZWRpdG9yIiwiY3VydmUtZWRpdG9yX19sZWZ0IiwiY3VydmUtZWRpdG9yX19yaWdodCIsImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSIsImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMiLCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyIsIl9jb2RlQnV0dG9uIiwiX2NvZGVCdXR0b24yIiwiX2ljb25EaXZpZGVyIiwiX2ljb25EaXZpZGVyMiIsIl9wb2ludENvbnRyb2xzIiwiX3BvaW50Q29udHJvbHMyIiwiQ3VydmVFZGl0b3JMZWZ0IiwiX2ljb25CdXR0b24iLCJfaWNvbkJ1dHRvbjIiLCJDb2RlQnV0dG9uIiwiaXNDaGVjayIsImNvbnRyb2xzIiwiaXNDb2RlIiwiSWNvbkJ1dHRvbiIsIm9uVGFwIiwiaWNvbi1idXR0b24iLCJpcy1jaGVja2VkIiwiaWNvbi1kaXZpZGVyIiwiUG9pbnRDb250cm9scyIsInNob3ciLCJpc1Nob3ciLCJidXR0b25zIiwiX2FkZEJ1dHRvbnMiLCJidXR0b25zTWFwIiwiX29uQnV0dG9uVGFwIiwicG9pbnQtY29udHJvbHMiLCJpcy1zaG93IiwiSWNvbnMiLCJtYWluQ2xhc3MiLCJyZWFkb25seSIsImNvZGUtcGFuZWwiLCJjb2RlLXBhbmVsX19pbm5lciIsImNvZGUtcGFuZWxfX2lucHV0LXdyYXAiLCJjb2RlLXBhbmVsX19pbnB1dC1maWVsZCIsImlzLW9wZW4iLCJfcmVkdXgiLCJfaW5kZXhSZWR1Y2VyIiwiX2luZGV4UmVkdWNlcjIiLCJpbml0U3RvcmUiLCJfcmVkdXhVbmRvMiIsIl9yZXNpemVSZWR1Y2VyIiwiX3Jlc2l6ZVJlZHVjZXIyIiwiX3BvaW50c1JlZHVjZXIiLCJfcG9pbnRzUmVkdWNlcjIiLCJfY29udHJvbHNSZWR1Y2VyIiwiX2NvbnRyb2xzUmVkdWNlcjIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIyIiwiX3JlZHV4UmVjeWNsZSIsIl9yZWR1eFJlY3ljbGUyIiwiVU5ET0FCTEVfT1BUUyIsImN1cnJTdGF0ZSIsIl9kZWZpbmVQcm9wZXJ0eTMiLCJfZXh0ZW5kczQiLCJfZXh0ZW5kczUiLCJJTklUSUFMX1NUQVRFIiwicmVzaXplUmVkdWNlciIsImRlbHRhIiwibmV3U3RhdGUiLCJfZGF0YSIsIl90eXBlIiwiX2RlbHRhIiwibWF0aE1ldGhvZCIsIl9uZXdTdGF0ZSIsIl9hY3Rpb24kZGF0YSIsIl9hY3Rpb24kZGF0YTIiLCJfeDIiLCJfeSIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJfdG9Db25zdW1hYmxlQXJyYXkzIiwiX21ha2VQb2ludCIsIl9tYWtlUG9pbnQyIiwiX2luaXRQb2ludHMiLCJfaW5pdFBvaW50czIiLCJfY2FsY3VsYXRlUGF0aCIsIl9jYWxjdWxhdGVQYXRoMiIsImRlc2VsZWN0QWxsIiwiZmluZFNlbGVjdGVkSW5kZWNpZXMiLCJpbmRlY2llcyIsInBvaW50c1JlZHVjZXIiLCJvbGRQb2ludCIsIm5ld1BvaW50cyIsIl9pbmRleCIsIl9wb2ludHMiLCJfb2xkUG9pbnQiLCJfbmV3UG9pbnRzIiwiX2luZGV4MiIsIl9wb2ludHMyIiwiX2RhdGEyIiwiX2luZGV4MyIsImRlc2VsZWN0ZWQiLCJfbmV3UG9pbnRzMiIsIl9wb2ludHMzIiwiX3BvaW50czQiLCJfbmV3UG9pbnRzMyIsIl9wb2ludHM1IiwiX3NlbGVjdGVkIiwiX25ld1BvaW50czQiLCJfaXRlbSIsIl9pbmRleDQiLCJoYW5kbGVJbmRleCIsInNpYkhhbmRsZUluZGV4IiwiaGFuZGxlTmFtZSIsInNpYkhhbmRsZU5hbWUiLCJzaWJIYW5kbGUiLCJfcG9pbnRzNiIsIl9kYXRhMyIsIl9uZXdQb2ludHM1IiwibmV3UG9pbnQiLCJfaGFuZGxlTmFtZSIsIm5ld0hhbmRsZSIsIl9mcm9tIiwiX2Zyb20yIiwiaXNBcnJheUl0ZXIiLCJjcmVhdGVQcm9wZXJ0eSIsImdldEl0ZXJGbiIsIml0ZXIiLCJhcnJheUxpa2UiLCJtYXBmbiIsIm1hcHBpbmciLCJpdGVyRm4iLCJBcnJheVByb3RvIiwiY2xhc3NvZiIsImdldEl0ZXJhdG9yTWV0aG9kIiwiQVJHIiwidHJ5R2V0IiwiY2FsbGVlIiwiU0FGRV9DTE9TSU5HIiwicml0ZXIiLCJza2lwQ2xvc2luZyIsInNhZmUiLCJmYWxsYmFjayIsIl9mYWxsYmFjayIsIm1ha2VIYW5kbGVQb2ludCIsImlzVG91Y2hlZCIsIm1ha2VQb3NpdGlvblBvaW50IiwibWFrZVBvaW50IiwiaXNMb2NrZWRZIiwiaGFuZGxlMSIsImhhbmRsZTIiLCJfaW5pdFBvaW50IiwiX2luaXRQb2ludDIiLCJzaWJQb2ludCIsIl9jYWxjdWxhdGVTZWdtZW50IiwiX2NhbGN1bGF0ZVNlZ21lbnQyIiwibmV4dFBvaW50Iiwic3RyaW5nIiwiX2NhbGN1bGF0ZVBvaW50IiwiX2NhbGN1bGF0ZVBvaW50MiIsInhOZXh0IiwieU5leHQiLCJwYXJ0MSIsInBhcnQyIiwicGFydDMiLCJwYXJ0NCIsIkNIQVIiLCJoYW5kbGVDb29yZHMiLCJyZWN5Y2xlU3RhdGUiLCJjaHIiLCJoYXNoIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSx1QkFBQUgsR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxxQkFBQUQsSUFFQUQsRUFBQSxxQkFBQUMsS0FDQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDSDFCLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUFDLEVBQUFDLEVBQUEsR0FB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TUFBaUIsT0FBUnh6QyxFQUFpQkEsRUFBT3d6QyIsImZpbGUiOiJtb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm1vanMtY3VydmUtZWRpdG9yXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtb2pzLWN1cnZlLWVkaXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbi8qKioqKiovIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbi8qKioqKiovIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuLyoqKioqKi8gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHR0cnkge1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4vKioqKioqLyBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdH0gY2F0Y2goeCkge1xyXG4vKioqKioqLyBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjBmYmU2MmU4OTU5OGE4ZDEwMThhXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZmluYWxseSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiYnVpbGQvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHJpbmdpZnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Myk7XG5cdFxuXHR2YXIgX3N0cmluZ2lmeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdpZnkpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcHJlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvcik7XG5cdFxuXHR2YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIF9zdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yZSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5NSk7XG5cdFxuXHR2YXIgX2hhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFzaCk7XG5cdFxuXHR2YXIgX2ZhbGxiYWNrVG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Nik7XG5cdFxuXHR2YXIgX2ZhbGxiYWNrVG8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmFsbGJhY2tUbyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gaW1wb3J0ICcuL3RhZ3MvY3VydmUtZWRpdG9yLnRhZyc7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTkwKTtcblx0XG5cdC8vIFRPRE9cblx0Ly8gICAtIGFkZCBBUElzXG5cdC8vICAgLSByZXNpemUgZG93biB3aGVuIHBvaW50cyBhcmUgYWJvdmUgdGhlIGVkaXRvciBib3JkZXJcblx0Ly8gICAtIGluc3RhbmNlIGRyb3Bkb3duIG9uIGNvZGUgcGFuZWxcblx0Ly8gICAtIGltcG9ydCBwYXRoIGRhdGFcblx0Ly8gICAtIG1vdmUgYnVuY2ggb2YgcG9pbnRzIGF0IG9uY2Vcblx0XG5cdHZhciBBUEkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQVBJKCkge1xuXHQgICAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEFQSSk7XG5cdFxuXHQgICAgdGhpcy5fbyA9IG87XG5cdFxuXHQgICAgdGhpcy5fZGVjYWxhcmVEZWZhdWx0cygpO1xuXHQgICAgdGhpcy5fdmFycygpO1xuXHQgICAgdGhpcy5fcmVuZGVyKCk7XG5cdCAgICB0aGlzLl90cnlUb1Jlc3RvcmUoKTtcblx0ICAgIHRoaXMuX2xpc3RlblVubG9hZCgpO1xuXHRcblx0ICAgIHRoaXMuX3N1YnNjcmliZSgpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQVBJLCBbe1xuXHQgICAga2V5OiAnX2RlY2FsYXJlRGVmYXVsdHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWNhbGFyZURlZmF1bHRzKCkge1xuXHQgICAgICB0aGlzLl9kZWZhdWx0cyA9IHtcblx0ICAgICAgICBuYW1lOiAnbW9qcy1jdXJ2ZS1lZGl0b3InLFxuXHQgICAgICAgIGlzU2F2ZVN0YXRlOiB0cnVlXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3ZhcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF92YXJzKCkge1xuXHQgICAgICB0aGlzLnJldmlzaW9uID0gJzEuMC4wJztcblx0ICAgICAgdGhpcy5zdG9yZSA9ICgwLCBfc3RvcmUyLmRlZmF1bHQpKCk7XG5cdFxuXHQgICAgICB2YXIgc3RyID0gKDAsIF9mYWxsYmFja1RvMi5kZWZhdWx0KSh0aGlzLl9vLm5hbWUsIHRoaXMuX2RlZmF1bHRzLm5hbWUpO1xuXHQgICAgICBzdHIgKz0gc3RyID09PSB0aGlzLl9kZWZhdWx0cy5uYW1lID8gJycgOiAnX18nICsgdGhpcy5fZGVmYXVsdHMubmFtZTtcblx0ICAgICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gc3RyICsgJ19fJyArICgwLCBfaGFzaDIuZGVmYXVsdCkoc3RyKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAoMCwgX3ByZWFjdC5yZW5kZXIpKCgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgX3ByZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgICAgICAgICAgeyBzdG9yZTogX3RoaXMuc3RvcmUgfSxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvcjIuZGVmYXVsdCwgbnVsbClcblx0ICAgICAgICApLCBkb2N1bWVudC5ib2R5KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2xpc3RlblVubG9hZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2xpc3RlblVubG9hZCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgdW5sb2FkRXZlbnQgPSAnb25wYWdlaGlkZScgaW4gd2luZG93ID8gJ3BhZ2VoaWRlJyA6ICdiZWZvcmV1bmxvYWQnO1xuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih1bmxvYWRFdmVudCwgZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgICAgICB2YXIgcHJlU3RhdGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfdGhpczIuc3RvcmUuZ2V0U3RhdGUoKSk7XG5cdFxuXHQgICAgICAgIGRlbGV0ZSBwcmVTdGF0ZS5wb2ludHMuaGlzdG9yeTtcblx0ICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRDb250cm9scy5oaXN0b3J5O1xuXHRcblx0ICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShfdGhpczIuX2xvY2FsU3RvcmFnZSwgKDAsIF9zdHJpbmdpZnkyLmRlZmF1bHQpKHByZVN0YXRlKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ190cnlUb1Jlc3RvcmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF90cnlUb1Jlc3RvcmUoKSB7XG5cdCAgICAgIC8vIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuX2xvY2FsU3RvcmFnZSk7XG5cdCAgICAgIHZhciBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UpO1xuXHQgICAgICBpZiAoc3RvcmVkKSB7XG5cdCAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdTRVRfU1RBVEUnLCBkYXRhOiBKU09OLnBhcnNlKHN0b3JlZCkgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7IHg6IDAsIHk6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlIH0sIGluZGV4OiAwIH0gfSk7XG5cdCAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0sIGluZGV4OiAxIH0gfSk7XG5cdCAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9TRUxFQ1QnLCBkYXRhOiB7IGluZGV4OiAwLCB0eXBlOiAnc3RyYWlnaHQnIH0gfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfc3Vic2NyaWJlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfc3Vic2NyaWJlKCkge1xuXHQgICAgICB0aGlzLl9jb21waWxlUGF0aCgpO1xuXHQgICAgICB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLl9jb21waWxlUGF0aC5iaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfY29tcGlsZVBhdGgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9jb21waWxlUGF0aCgpIHtcblx0ICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXHQgICAgICB2YXIgcG9pbnRzID0gc3RhdGUucG9pbnRzLnByZXNlbnQ7XG5cdCAgICAgIHZhciBwYXRoID0gcG9pbnRzLnBhdGg7XG5cdFxuXHRcblx0ICAgICAgaWYgKHRoaXMuX3ByZXZQYXRoICE9PSBwYXRoKSB7XG5cdCAgICAgICAgdGhpcy5fcHJldlBhdGggPSBwYXRoO1xuXHQgICAgICAgIHRoaXMuX2Vhc2luZyA9IG1vanMuZWFzaW5nLnBhdGgocGF0aCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEFQSTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQVBJO1xuXHRcblx0d2luZG93Lk1vanNDdXJ2ZUVkaXRvciA9IEFQSTtcblx0XG5cdC8vIGN1cnZlXG5cdC8vICAgLmdldEZ1bmN0aW9uKHsgaXNJbnZlcnNlWDogZmFsc2UsIGlzSW52ZXJzZVk6IHRydWUsIG5hbWU6ICdTb21lIG5hbWUnIH0pXG5cdC8vICAgLmdldENvZGUoKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0XHQgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygzKSwgX193ZWJwYWNrX3JlcXVpcmVfXyg2KSkgOlxuXHRcdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAncHJlYWN0JywgJ3JlZHV4J10sIGZhY3RvcnkpIDpcblx0XHQoZmFjdG9yeSgoZ2xvYmFsLnByZWFjdFJlZHV4ID0gZ2xvYmFsLnByZWFjdFJlZHV4IHx8IHt9KSxnbG9iYWwucHJlYWN0LGdsb2JhbC5yZWR1eCkpO1xuXHR9KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLHByZWFjdCxyZWR1eCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHRcdGZ1bmN0aW9uIF9fY29tbW9uanMoZm4sIG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7IH1cblx0XG5cdFxuXHRcdHZhciBiYWJlbEhlbHBlcnMgPSB7fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHRcdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0XHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0XHQgIH1cblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdFx0ICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0XHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuXHRcdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gdGFyZ2V0O1xuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5pbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHRcdCAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcblx0XHQgIH1cblx0XG5cdFx0ICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0XHQgICAgY29uc3RydWN0b3I6IHtcblx0XHQgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG5cdFx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0ICAgICAgd3JpdGFibGU6IHRydWUsXG5cdFx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0ICAgIH1cblx0XHQgIH0pO1xuXHRcdCAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcblx0XHQgIGlmICghc2VsZikge1xuXHRcdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzO1xuXHRcblx0XHR2YXIgQ2hpbGRyZW4gPSB7XG5cdFx0XHRvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcblx0XHRcdFx0cmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdIHx8IG51bGw7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gcHJvcHR5cGUoKSB7fVxuXHRcdHByb3B0eXBlLmlzUmVxdWlyZWQgPSBwcm9wdHlwZTtcblx0XG5cdFx0dmFyIFByb3BUeXBlcyA9IHtcblx0XHRcdGVsZW1lbnQ6IHByb3B0eXBlLFxuXHRcdFx0ZnVuYzogcHJvcHR5cGUsXG5cdFx0XHRzaGFwZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gcHJvcHR5cGU7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0dmFyIHN0b3JlU2hhcGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuXHRcdCAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdCAgZGlzcGF0Y2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBnZXRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuXHRcdH0pO1xuXHRcblx0XHQvKipcblx0XHQgKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG5cdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG5cdFx0ICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5cdFx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdFx0ICB9XG5cdFx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIHRyeSB7XG5cdFx0ICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuXHRcdCAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cblx0XHQgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHRcdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHRcdCAgfSBjYXRjaCAoZSkge31cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cblx0XHR9XG5cdFxuXHRcdHZhciBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlO1xuXHRcdGZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuXHRcdCAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG5cdFx0ICAgIHJldHVybjtcblx0XHQgIH1cblx0XHQgIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcblx0XG5cdFx0ICB3YXJuaW5nKCc8UHJvdmlkZXI+IGRvZXMgbm90IHN1cHBvcnQgY2hhbmdpbmcgYHN0b3JlYCBvbiB0aGUgZmx5LiAnICsgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICsgJ2F1dG9tYXRpY2FsbHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yZWR1eC9yZWxlYXNlcy8nICsgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLicpO1xuXHRcdH1cblx0XG5cdFx0dmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0XHQgIGJhYmVsSGVscGVycy5pbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcblx0XHQgICAgcmV0dXJuIHsgc3RvcmU6IHRoaXMuc3RvcmUgfTtcblx0XHQgIH07XG5cdFxuXHRcdCAgZnVuY3Rpb24gUHJvdmlkZXIocHJvcHMsIGNvbnRleHQpIHtcblx0XHQgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblx0XG5cdFx0ICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZTtcblx0XHQgICAgcmV0dXJuIF90aGlzO1xuXHRcdCAgfVxuXHRcblx0XHQgIFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0ICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdFxuXHRcdCAgICByZXR1cm4gQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG5cdFx0ICB9O1xuXHRcblx0XHQgIHJldHVybiBQcm92aWRlcjtcblx0XHR9KHByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0XHRpZiAodHJ1ZSkge1xuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG5cdFx0ICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG5cdFx0ICAgIHZhciBuZXh0U3RvcmUgPSBuZXh0UHJvcHMuc3RvcmU7XG5cdFxuXHRcblx0XHQgICAgaWYgKHN0b3JlICE9PSBuZXh0U3RvcmUpIHtcblx0XHQgICAgICB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpO1xuXHRcdCAgICB9XG5cdFx0ICB9O1xuXHRcdH1cblx0XG5cdFx0UHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG5cdFx0ICBzdG9yZTogc3RvcmVTaGFwZS5pc1JlcXVpcmVkXG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcblx0XHQgIGlmIChvYmpBID09PSBvYmpCKSB7XG5cdFx0ICAgIHJldHVybiB0cnVlO1xuXHRcdCAgfVxuXHRcblx0XHQgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuXHRcdCAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cdFxuXHRcdCAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG5cdFx0ICAgIHJldHVybiBmYWxzZTtcblx0XHQgIH1cblx0XG5cdFx0ICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuXHRcdCAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGlmICghaGFzT3duLmNhbGwob2JqQiwga2V5c0FbaV0pIHx8IG9iakFba2V5c0FbaV1dICE9PSBvYmpCW2tleXNBW2ldXSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0cnVlO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gd3JhcEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzKSB7XG5cdFx0ICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICAgIHJldHVybiByZWR1eC5iaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHR2YXIgaXNPYmplY3RMaWtlID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuXHRcdCAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuXHRcdCAgICpcblx0XHQgICAqIEBzdGF0aWNcblx0XHQgICAqIEBtZW1iZXJPZiBfXG5cdFx0ICAgKiBAc2luY2UgNC4wLjBcblx0XHQgICAqIEBjYXRlZ29yeSBMYW5nXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdFx0ICAgKiBAZXhhbXBsZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0XHQgICAqIC8vID0+IHRydWVcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIHJlcXVpcmUkJDAgPSBpc09iamVjdExpa2UgJiYgdHlwZW9mIGlzT2JqZWN0TGlrZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGlzT2JqZWN0TGlrZSA/IGlzT2JqZWN0TGlrZVsnZGVmYXVsdCddIDogaXNPYmplY3RMaWtlO1xuXHRcblx0XHR2YXIgX2lzSG9zdE9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdFx0ICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdFx0ICAgKi9cblx0XHQgIGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuXHRcdCAgICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuXHRcdCAgICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuXHRcdCAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cdFx0ICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgICAgdHJ5IHtcblx0XHQgICAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuXHRcdCAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdFx0ICAgIH1cblx0XHQgICAgcmV0dXJuIHJlc3VsdDtcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIHJlcXVpcmUkJDEgPSBfaXNIb3N0T2JqZWN0ICYmIHR5cGVvZiBfaXNIb3N0T2JqZWN0ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gX2lzSG9zdE9iamVjdCA/IF9pc0hvc3RPYmplY3RbJ2RlZmF1bHQnXSA6IF9pc0hvc3RPYmplY3Q7XG5cdFxuXHRcdHZhciBfZ2V0UHJvdG90eXBlID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdFx0ICB2YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHByaXZhdGVcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHRcdCAgICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG5cdFx0ICAgKi9cblx0XHQgIGZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuXHRcdCAgICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlKE9iamVjdCh2YWx1ZSkpO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMiA9IF9nZXRQcm90b3R5cGUgJiYgdHlwZW9mIF9nZXRQcm90b3R5cGUgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfZ2V0UHJvdG90eXBlID8gX2dldFByb3RvdHlwZVsnZGVmYXVsdCddIDogX2dldFByb3RvdHlwZTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIHZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlJCQyLFxuXHRcdCAgICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUkJDEsXG5cdFx0ICAgICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSQkMDtcblx0XG5cdFx0ICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHRcdCAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdFx0ICB2YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuXHRcdCAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuXHRcdCAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuXHRcdCAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG5cdFx0ICAgKiBvZiB2YWx1ZXMuXG5cdFx0ICAgKi9cblx0XHQgIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuXHRcdCAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuXHRcdCAgICpcblx0XHQgICAqIEBzdGF0aWNcblx0XHQgICAqIEBtZW1iZXJPZiBfXG5cdFx0ICAgKiBAc2luY2UgMC44LjBcblx0XHQgICAqIEBjYXRlZ29yeSBMYW5nXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHRcdCAgICogIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogZnVuY3Rpb24gRm9vKCkge1xuXHRcdCAgICogICB0aGlzLmEgPSAxO1xuXHRcdCAgICogfVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcblx0XHQgICAqIC8vID0+IHRydWVcblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuXHRcdCAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0XHQgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgIH1cblx0XHQgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0XHQgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG5cdFx0ICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgIH1cblx0XHQgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHQgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpc1BsYWluT2JqZWN0JDEgPSBpc1BsYWluT2JqZWN0ICYmIHR5cGVvZiBpc1BsYWluT2JqZWN0ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNQbGFpbk9iamVjdCA/IGlzUGxhaW5PYmplY3RbJ2RlZmF1bHQnXSA6IGlzUGxhaW5PYmplY3Q7XG5cdFxuXHRcdHZhciBpbmRleCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgICAvKipcblx0XHQgICAgICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG5cdFx0ICAgICAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cblx0XHQgICAgICovXG5cdFx0ICAgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAgIHZhciBSRUFDVF9TVEFUSUNTID0ge1xuXHRcdCAgICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG5cdFx0ICAgICAgICBjb250ZXh0VHlwZXM6IHRydWUsXG5cdFx0ICAgICAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG5cdFx0ICAgICAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcblx0XHQgICAgICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIG1peGluczogdHJ1ZSxcblx0XHQgICAgICAgIHByb3BUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIHR5cGU6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIHZhciBLTk9XTl9TVEFUSUNTID0ge1xuXHRcdCAgICAgICAgbmFtZTogdHJ1ZSxcblx0XHQgICAgICAgIGxlbmd0aDogdHJ1ZSxcblx0XHQgICAgICAgIHByb3RvdHlwZTogdHJ1ZSxcblx0XHQgICAgICAgIGNhbGxlcjogdHJ1ZSxcblx0XHQgICAgICAgIGFyZ3VtZW50czogdHJ1ZSxcblx0XHQgICAgICAgIGFyaXR5OiB0cnVlXG5cdFx0ICAgIH07XG5cdFxuXHRcdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcblx0XHQgICAgICAgICAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuXHRcdCAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblx0XHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0XHQgICAgICAgICAgICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcblx0XHQgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuXHRcdCAgICAgICAgICAgICAgICB9XG5cdFx0ICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG5cdFx0ICAgIH07XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBob2lzdFN0YXRpY3MgPSBpbmRleCAmJiB0eXBlb2YgaW5kZXggPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpbmRleCA/IGluZGV4WydkZWZhdWx0J10gOiBpbmRleDtcblx0XG5cdFx0dmFyIGludmFyaWFudCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgLyoqXG5cdFx0ICAgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHRcdCAgICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0XHQgICAqXG5cdFx0ICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0XHQgICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHRcdCAgICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdFx0ICAgKi9cblx0XG5cdFx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdFx0ICAgKlxuXHRcdCAgICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcblx0XHQgICAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHRcdCAgICogZXhwZWN0aW5nLlxuXHRcdCAgICpcblx0XHQgICAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdFx0ICAgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdFx0ICAgKi9cblx0XG5cdFx0ICB2YXIgTk9ERV9FTlYgPSAnZGV2ZWxvcG1lbnQnO1xuXHRcblx0XHQgIHZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0XHQgICAgaWYgKE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0XHQgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0XHQgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdFx0ICAgICAgdmFyIGVycm9yO1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0XHQgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG5cdFx0ICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHRcdCAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdFx0ICAgICAgICB9KSk7XG5cdFx0ICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHRcdCAgICAgIH1cblx0XG5cdFx0ICAgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuXHRcdCAgICAgIHRocm93IGVycm9yO1xuXHRcdCAgICB9XG5cdFx0ICB9O1xuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgaW52YXJpYW50JDEgPSBpbnZhcmlhbnQgJiYgdHlwZW9mIGludmFyaWFudCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGludmFyaWFudCA/IGludmFyaWFudFsnZGVmYXVsdCddIDogaW52YXJpYW50O1xuXHRcblx0XHR2YXIgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuXHRcdCAgcmV0dXJuIHt9O1xuXHRcdH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHR2YXIgZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHRcdCAgcmV0dXJuIHsgZGlzcGF0Y2g6IGRpc3BhdGNoIH07XG5cdFx0fTtcblx0XHR2YXIgZGVmYXVsdE1lcmdlUHJvcHMgPSBmdW5jdGlvbiAoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcblx0XHQgIHJldHVybiBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgcGFyZW50UHJvcHMsIHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMpO1xuXHRcdH07XG5cdFxuXHRcdGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcblx0XHQgIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50Jztcblx0XHR9XG5cdFxuXHRcdHZhciBlcnJvck9iamVjdCA9IHsgdmFsdWU6IG51bGwgfTtcblx0XHRmdW5jdGlvbiB0cnlDYXRjaChmbiwgY3R4KSB7XG5cdFx0ICB0cnkge1xuXHRcdCAgICByZXR1cm4gZm4uYXBwbHkoY3R4KTtcblx0XHQgIH0gY2F0Y2ggKGUpIHtcblx0XHQgICAgZXJyb3JPYmplY3QudmFsdWUgPSBlO1xuXHRcdCAgICByZXR1cm4gZXJyb3JPYmplY3Q7XG5cdFx0ICB9XG5cdFx0fVxuXHRcblx0XHQvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuXHRcdHZhciBuZXh0VmVyc2lvbiA9IDA7XG5cdFxuXHRcdGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcblx0XHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG5cdFxuXHRcdCAgdmFyIHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKTtcblx0XHQgIHZhciBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzO1xuXHRcblx0XHQgIHZhciBtYXBEaXNwYXRjaCA9IHZvaWQgMDtcblx0XHQgIGlmICh0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gbWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcztcblx0XHQgIH0gZWxzZSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gd3JhcEFjdGlvbkNyZWF0b3JzKG1hcERpc3BhdGNoVG9Qcm9wcyk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGZpbmFsTWVyZ2VQcm9wcyA9IG1lcmdlUHJvcHMgfHwgZGVmYXVsdE1lcmdlUHJvcHM7XG5cdFx0ICB2YXIgX29wdGlvbnMkcHVyZSA9IG9wdGlvbnMucHVyZTtcblx0XHQgIHZhciBwdXJlID0gX29wdGlvbnMkcHVyZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9vcHRpb25zJHB1cmU7XG5cdFx0ICB2YXIgX29wdGlvbnMkd2l0aFJlZiA9IG9wdGlvbnMud2l0aFJlZjtcblx0XHQgIHZhciB3aXRoUmVmID0gX29wdGlvbnMkd2l0aFJlZiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyR3aXRoUmVmO1xuXHRcblx0XHQgIHZhciBjaGVja01lcmdlZEVxdWFscyA9IHB1cmUgJiYgZmluYWxNZXJnZVByb3BzICE9PSBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XG5cdFx0ICAvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuXHRcdCAgdmFyIHZlcnNpb24gPSBuZXh0VmVyc2lvbisrO1xuXHRcblx0XHQgIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgICB2YXIgY29ubmVjdERpc3BsYXlOYW1lID0gJ0Nvbm5lY3QoJyArIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpICsgJyknO1xuXHRcblx0XHQgICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG5cdFx0ICAgICAgaWYgKCFpc1BsYWluT2JqZWN0JDEocHJvcHMpKSB7XG5cdFx0ICAgICAgICB3YXJuaW5nKG1ldGhvZE5hbWUgKyAnKCkgaW4gJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICcgbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QuICcgKyAoJ0luc3RlYWQgcmVjZWl2ZWQgJyArIHByb3BzICsgJy4nKSk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjb21wdXRlTWVyZ2VkUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcblx0XHQgICAgICB2YXIgbWVyZ2VkUHJvcHMgPSBmaW5hbE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpO1xuXHRcdCAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICBjaGVja1N0YXRlU2hhcGUobWVyZ2VkUHJvcHMsICdtZXJnZVByb3BzJyk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcblx0XHQgICAgfVxuXHRcblx0XHQgICAgdmFyIENvbm5lY3QgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgICAgIGJhYmVsSGVscGVycy5pbmhlcml0cyhDb25uZWN0LCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHRcdCAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcblx0XHQgICAgICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0KTtcblx0XG5cdFx0ICAgICAgICB2YXIgX3RoaXMgPSBiYWJlbEhlbHBlcnMucG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblx0XG5cdFx0ICAgICAgICBfdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIF90aGlzLnN0b3JlID0gcHJvcHMuc3RvcmUgfHwgY29udGV4dC5zdG9yZTtcblx0XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMShfdGhpcy5zdG9yZSwgJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJyArICgncHJvcHMgb2YgXCInICsgY29ubmVjdERpc3BsYXlOYW1lICsgJ1wiLiAnKSArICdFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuJykpO1xuXHRcblx0XHQgICAgICAgIHZhciBzdG9yZVN0YXRlID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIF90aGlzLnN0YXRlID0geyBzdG9yZVN0YXRlOiBzdG9yZVN0YXRlIH07XG5cdFx0ICAgICAgICBfdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wdXRlU3RhdGVQcm9wcyA9IGZ1bmN0aW9uIGNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcykge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgdmFyIHN0YXRlUHJvcHMgPSB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBTdGF0ZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkU3RhdGUgPSBtYXBTdGF0ZShzdG9yZS5nZXRTdGF0ZSgpLCBwcm9wcyk7XG5cdFx0ICAgICAgICB2YXIgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZFN0YXRlID09PSAnZnVuY3Rpb24nO1xuXHRcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlO1xuXHRcdCAgICAgICAgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcy5sZW5ndGggIT09IDE7XG5cdFxuXHRcdCAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWRTdGF0ZSwgJ21hcFN0YXRlVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIG1hcHBlZFN0YXRlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVEaXNwYXRjaFByb3BzID0gZnVuY3Rpb24gY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHRcblx0XHQgICAgICAgIHZhciBkaXNwYXRjaFByb3BzID0gdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID8gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDogdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCk7XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKGRpc3BhdGNoUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2ggPSBmdW5jdGlvbiBjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcykge1xuXHRcdCAgICAgICAgdmFyIG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZERpc3BhdGNoIDogbWFwRGlzcGF0Y2g7XG5cdFx0ICAgICAgICB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2g7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRTdGF0ZVByb3BzID0gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpIHtcblx0XHQgICAgICAgIHZhciBuZXh0RGlzcGF0Y2hQcm9wcyA9IHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHModGhpcy5zdG9yZSwgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0RGlzcGF0Y2hQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcblx0XHQgICAgICAgIHZhciBuZXh0TWVyZ2VkUHJvcHMgPSBjb21wdXRlTWVyZ2VkUHJvcHModGhpcy5zdGF0ZVByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMubWVyZ2VkUHJvcHMgJiYgY2hlY2tNZXJnZWRFcXVhbHMgJiYgc2hhbGxvd0VxdWFsKG5leHRNZXJnZWRQcm9wcywgdGhpcy5tZXJnZWRQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5pc1N1YnNjcmliZWQgPSBmdW5jdGlvbiBpc1N1YnNjcmliZWQoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbic7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHNob3VsZFN1YnNjcmliZSAmJiAhdGhpcy51bnN1YnNjcmliZSkge1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cdFx0ICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXB1cmUgfHwgIXNoYWxsb3dFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHQgICAgICAgIHRoaXMudHJ5VW5zdWJzY3JpYmUoKTtcblx0XHQgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuXHRcdCAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuXHRcdCAgICAgICAgICByZXR1cm47XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgcHJldlN0b3JlU3RhdGUgPSB0aGlzLnN0YXRlLnN0b3JlU3RhdGU7XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiBwcmV2U3RvcmVTdGF0ZSA9PT0gc3RvcmVTdGF0ZSkge1xuXHRcdCAgICAgICAgICByZXR1cm47XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHB1cmUgJiYgIXRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcykge1xuXHRcdCAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ5Q2F0Y2godGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsIHRoaXMpO1xuXHRcdCAgICAgICAgICBpZiAoIWhhdmVTdGF0ZVByb3BzQ2hhbmdlZCkge1xuXHRcdCAgICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuXHRcdCAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBlcnJvck9iamVjdC52YWx1ZTtcblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfSk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuXHRcdCAgICAgICAgaW52YXJpYW50JDEod2l0aFJlZiwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ3sgd2l0aFJlZjogdHJ1ZSB9IGFzIHRoZSBmb3VydGggYXJndW1lbnQgb2YgdGhlIGNvbm5lY3QoKSBjYWxsLicpO1xuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlZnMud3JhcHBlZEluc3RhbmNlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgICAgIHZhciBoYXZlT3duUHJvcHNDaGFuZ2VkID0gdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZDtcblx0XHQgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkO1xuXHRcdCAgICAgICAgdmFyIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcjtcblx0XHQgICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQgPSB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuXHRcblx0XHQgICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuXHRcdCAgICAgICAgICB0aHJvdyBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWU7XG5cdFx0ICAgICAgICB2YXIgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWU7XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzO1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdmFyIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXBkYXRlU3RhdGVQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcblx0XHQgICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIHx8IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fCBoYXZlT3duUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKTtcblx0XHQgICAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHdpdGhSZWYpIHtcblx0XHQgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBwcmVhY3QuaChXcmFwcGVkQ29tcG9uZW50LCBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgdGhpcy5tZXJnZWRQcm9wcywge1xuXHRcdCAgICAgICAgICAgIHJlZjogJ3dyYXBwZWRJbnN0YW5jZSdcblx0XHQgICAgICAgICAgfSkpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBwcmVhY3QuaChXcmFwcGVkQ29tcG9uZW50LCB0aGlzLm1lcmdlZFByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgcmV0dXJuIENvbm5lY3Q7XG5cdFx0ICAgIH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdCAgICBDb25uZWN0LmRpc3BsYXlOYW1lID0gY29ubmVjdERpc3BsYXlOYW1lO1xuXHRcdCAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50O1xuXHRcdCAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IHtcblx0XHQgICAgICBzdG9yZTogc3RvcmVTaGFwZVxuXHRcdCAgICB9O1xuXHRcblx0XG5cdFx0ICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG5cdFx0ICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICAvLyBXZSBhcmUgaG90IHJlbG9hZGluZyFcblx0XHQgICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG5cdFx0ICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XHQgICAgfVxuXHRcblx0XHQgICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KTtcblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRleHBvcnRzLlByb3ZpZGVyID0gUHJvdmlkZXI7XG5cdFx0ZXhwb3J0cy5jb25uZWN0ID0gY29ubmVjdDtcblxuXHR9KSk7XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUpIHshZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdCAgICAgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cykgOiAnZnVuY3Rpb24nID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbICdleHBvcnRzJyBdLCBmYWN0b3J5KSA6IGZhY3RvcnkoZ2xvYmFsLnByZWFjdCA9IGdsb2JhbC5wcmVhY3QgfHwge30pO1xuXHR9KHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0ICAgIGZ1bmN0aW9uIFZOb2RlKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBjaGlsZHJlbikge1xuXHQgICAgICAgIHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZTtcblx0ICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXHQgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0ICAgICAgICB0aGlzLmtleSA9IGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5rZXk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBleHRlbmQob2JqLCBwcm9wcykge1xuXHQgICAgICAgIGlmIChwcm9wcykgZm9yICh2YXIgaSBpbiBwcm9wcykgaWYgKHZvaWQgMCAhPT0gcHJvcHNbaV0pIG9ialtpXSA9IHByb3BzW2ldO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0ICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBvYmopO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGVsdmUob2JqLCBrZXkpIHtcblx0ICAgICAgICBmb3IgKHZhciBwID0ga2V5LnNwbGl0KCcuJyksIGkgPSAwOyBpIDwgcC5sZW5ndGggJiYgb2JqOyBpKyspIG9iaiA9IG9ialtwW2ldXTtcblx0ICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdG9BcnJheShvYmosIG9mZnNldCkge1xuXHQgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKG9iaiwgb2Zmc2V0KTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuICdmdW5jdGlvbicgPT0gdHlwZW9mIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHQgICAgICAgIHJldHVybiAnc3RyaW5nJyA9PSB0eXBlb2Ygb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHQgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHggfHwgbnVsbCA9PT0geDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGZhbHNleSh2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gITEgfHwgZW1wdHkodmFsdWUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaGFzaFRvQ2xhc3NOYW1lKGMpIHtcblx0ICAgICAgICB2YXIgc3RyID0gJyc7XG5cdCAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjKSBpZiAoY1twcm9wXSkge1xuXHQgICAgICAgICAgICBpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHQgICAgICAgICAgICBzdHIgKz0gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGZpcnN0Q2hpbGQpIHtcblx0ICAgICAgICB2YXIgY2hpbGRyZW4sIGFyciwgbGFzdFNpbXBsZSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgICAgICBpZiAobGVuID4gMikge1xuXHQgICAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHQgICAgICAgICAgICBpZiAoMyA9PT0gbGVuICYmICdvYmplY3QnICE9PSB0eXBlICYmICdmdW5jdGlvbicgIT09IHR5cGUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghZmFsc2V5KGZpcnN0Q2hpbGQpKSBjaGlsZHJlbiA9IFsgU3RyaW5nKGZpcnN0Q2hpbGQpIF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IFtdO1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBfcCA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWZhbHNleShfcCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wLmpvaW4pIGFyciA9IF9wOyBlbHNlIChhcnIgPSBTSEFSRURfVEVNUF9BUlJBWSlbMF0gPSBfcDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnIubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGFycltqXSwgc2ltcGxlID0gIShmYWxzZXkoY2hpbGQpIHx8IGlzRnVuY3Rpb24oY2hpbGQpIHx8IGNoaWxkIGluc3RhbmNlb2YgVk5vZGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiAhaXNTdHJpbmcoY2hpbGQpKSBjaGlsZCA9IFN0cmluZyhjaGlsZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdICs9IGNoaWxkOyBlbHNlIGlmICghZmFsc2V5KGNoaWxkKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTaW1wbGUgPSBzaW1wbGU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuY2hpbGRyZW4pIHJldHVybiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzLmNoaWxkcmVuKTtcblx0ICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikgZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdCAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihub2RlTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGxhc3RTaW1wbGUgPSBhdHRyaWJ1dGVzLmNsYXNzO1xuXHQgICAgICAgICAgICAgICAgaWYgKGxhc3RTaW1wbGUgJiYgIWlzU3RyaW5nKGxhc3RTaW1wbGUpKSBhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBwID0gbmV3IFZOb2RlKG5vZGVOYW1lLCBhdHRyaWJ1dGVzIHx8IHZvaWQgMCwgY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHApO1xuXHQgICAgICAgIHJldHVybiBwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xvbmVFbGVtZW50KHZub2RlLCBwcm9wcykge1xuXHQgICAgICAgIHJldHVybiBoKHZub2RlLm5vZGVOYW1lLCBleHRlbmQoY2xvbmUodm5vZGUuYXR0cmlidXRlcyksIHByb3BzKSwgYXJndW1lbnRzLmxlbmd0aCA+IDIgPyB0b0FycmF5KGFyZ3VtZW50cywgMikgOiB2bm9kZS5jaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVMaW5rZWRTdGF0ZShjb21wb25lbnQsIGtleSwgZXZlbnRQYXRoKSB7XG5cdCAgICAgICAgdmFyIHBhdGggPSBrZXkuc3BsaXQoJy4nKSwgcDAgPSBwYXRoWzBdO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgIHZhciBfY29tcG9uZW50JHNldFN0YXRlO1xuXHQgICAgICAgICAgICB2YXIgdiwgaSwgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsIHMgPSBjb21wb25lbnQuc3RhdGUsIG9iaiA9IHM7XG5cdCAgICAgICAgICAgIGlmIChpc1N0cmluZyhldmVudFBhdGgpKSB7XG5cdCAgICAgICAgICAgICAgICB2ID0gZGVsdmUoZSwgZXZlbnRQYXRoKTtcblx0ICAgICAgICAgICAgICAgIGlmIChlbXB0eSh2KSAmJiAodCA9IHQuX2NvbXBvbmVudCkpIHYgPSBkZWx2ZSh0LCBldmVudFBhdGgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgdiA9IHQubm9kZU5hbWUgPyAodC5ub2RlTmFtZSArIHQudHlwZSkubWF0Y2goL15pbnB1dChjaGVja3xyYWQpL2kpID8gdC5jaGVja2VkIDogdC52YWx1ZSA6IGU7XG5cdCAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHQgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIG9iaiA9IG9ialtwYXRoW2ldXSB8fCAob2JqW3BhdGhbaV1dID0ge30pO1xuXHQgICAgICAgICAgICAgICAgb2JqW3BhdGhbaV1dID0gdjtcblx0ICAgICAgICAgICAgICAgIHYgPSBzW3AwXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb21wb25lbnQuc2V0U3RhdGUoKF9jb21wb25lbnQkc2V0U3RhdGUgPSB7fSwgX2NvbXBvbmVudCRzZXRTdGF0ZVtwMF0gPSB2LCBfY29tcG9uZW50JHNldFN0YXRlKSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdCAgICAgICAgaWYgKDEgPT09IGl0ZW1zLnB1c2goY29tcG9uZW50KSkgKG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZXJlbmRlcigpIHtcblx0ICAgICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHZhciBwLCBjdXJyZW50SXRlbXMgPSBpdGVtcztcblx0ICAgICAgICAgICAgaXRlbXMgPSBpdGVtc09mZmxpbmU7XG5cdCAgICAgICAgICAgIGl0ZW1zT2ZmbGluZSA9IGN1cnJlbnRJdGVtcztcblx0ICAgICAgICAgICAgd2hpbGUgKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpIGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSkge1xuXHQgICAgICAgIHZhciBub2RlTmFtZSA9IHZub2RlICYmIHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIHJldHVybiBub2RlTmFtZSAmJiBpc0Z1bmN0aW9uKG5vZGVOYW1lKSAmJiAhKG5vZGVOYW1lLnByb3RvdHlwZSAmJiBub2RlTmFtZS5wcm90b3R5cGUucmVuZGVyKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSwgY29udGV4dCkge1xuXHQgICAgICAgIHJldHVybiB2bm9kZS5ub2RlTmFtZShnZXROb2RlUHJvcHModm5vZGUpLCBjb250ZXh0IHx8IEVNUFRZKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVuc3VyZU5vZGVEYXRhKG5vZGUsIGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gbm9kZVtBVFRSX0tFWV0gfHwgKG5vZGVbQVRUUl9LRVldID0gZGF0YSB8fCB7fSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdCAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSByZXR1cm4gMztcblx0ICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJldHVybiAxOyBlbHNlIHJldHVybiAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdCAgICAgICAgdmFyIHAgPSBub2RlLnBhcmVudE5vZGU7XG5cdCAgICAgICAgaWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHQgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUpW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgaWYgKCdrZXknICE9PSBuYW1lICYmICdjaGlsZHJlbicgIT09IG5hbWUpIGlmICgnY2xhc3MnID09PSBuYW1lICYmICFpc1N2Zykgbm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJzsgZWxzZSBpZiAoJ3N0eWxlJyA9PT0gbmFtZSkge1xuXHQgICAgICAgICAgICBpZiAoIXZhbHVlIHx8IGlzU3RyaW5nKHZhbHVlKSB8fCBpc1N0cmluZyhvbGQpKSBub2RlLnN0eWxlLmNzc1RleHQgPSB2YWx1ZSB8fCAnJztcblx0ICAgICAgICAgICAgaWYgKHZhbHVlICYmICdvYmplY3QnID09IHR5cGVvZiB2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhvbGQpKSBmb3IgKHZhciBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdmFsdWUpIG5vZGUuc3R5bGVbaV0gPSAnbnVtYmVyJyA9PSB0eXBlb2YgdmFsdWVbaV0gJiYgIU5PTl9ESU1FTlNJT05fUFJPUFNbaV0gPyB2YWx1ZVtpXSArICdweCcgOiB2YWx1ZVtpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyA9PT0gbmFtZSkge1xuXHQgICAgICAgICAgICBpZiAodmFsdWUpIG5vZGUuaW5uZXJIVE1MID0gdmFsdWUuX19odG1sO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoJ28nID09PSBuYW1lWzBdICYmICduJyA9PT0gbmFtZVsxXSkge1xuXHQgICAgICAgICAgICB2YXIgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHQgICAgICAgICAgICBuYW1lID0gdG9Mb3dlckNhc2UobmFtZS5zdWJzdHJpbmcoMikpO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghbFtuYW1lXSkgbm9kZS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGxbbmFtZV0pIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0ICAgICAgICAgICAgbFtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoJ3R5cGUnICE9PSBuYW1lICYmICFpc1N2ZyAmJiBuYW1lIGluIG5vZGUpIHtcblx0ICAgICAgICAgICAgc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdCAgICAgICAgICAgIGlmIChmYWxzZXkodmFsdWUpKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgbnMgPSBpc1N2ZyAmJiBuYW1lLm1hdGNoKC9eeGxpbmtcXDo/KC4rKS8pO1xuXHQgICAgICAgICAgICBpZiAoZmFsc2V5KHZhbHVlKSkgaWYgKG5zKSBub2RlLnJlbW92ZUF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pKTsgZWxzZSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsgZWxzZSBpZiAoJ29iamVjdCcgIT0gdHlwZW9mIHZhbHVlICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkgaWYgKG5zKSBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pLCB2YWx1ZSk7IGVsc2Ugbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldFByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgbm9kZVtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50KGUpIHx8IGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMobm9kZSkge1xuXHQgICAgICAgIHZhciBhdHRycyA9IHt9O1xuXHQgICAgICAgIGZvciAodmFyIGkgPSBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBpLS07ICkgYXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHQgICAgICAgIHJldHVybiBhdHRycztcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzU2FtZU5vZGVUeXBlKG5vZGUsIHZub2RlKSB7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlKSkgcmV0dXJuIDMgPT09IGdldE5vZGVUeXBlKG5vZGUpO1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZS5ub2RlTmFtZSkpIHJldHVybiBpc05hbWVkTm9kZShub2RlLCB2bm9kZS5ub2RlTmFtZSk7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24odm5vZGUubm9kZU5hbWUpKSByZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lIHx8IGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSk7IGVsc2UgO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNOYW1lZE5vZGUobm9kZSwgbm9kZU5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gbm9kZS5ub3JtYWxpemVkTm9kZU5hbWUgPT09IG5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpID09PSB0b0xvd2VyQ2FzZShub2RlTmFtZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXROb2RlUHJvcHModm5vZGUpIHtcblx0ICAgICAgICB2YXIgZGVmYXVsdFByb3BzID0gdm5vZGUubm9kZU5hbWUuZGVmYXVsdFByb3BzLCBwcm9wcyA9IGNsb25lKGRlZmF1bHRQcm9wcyB8fCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAoZGVmYXVsdFByb3BzKSBleHRlbmQocHJvcHMsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmICh2bm9kZS5jaGlsZHJlbikgcHJvcHMuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblx0ICAgICAgICByZXR1cm4gcHJvcHM7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjb2xsZWN0Tm9kZShub2RlKSB7XG5cdCAgICAgICAgY2xlYW5Ob2RlKG5vZGUpO1xuXHQgICAgICAgIHZhciBuYW1lID0gdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSksIGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgbGlzdC5wdXNoKG5vZGUpOyBlbHNlIG5vZGVzW25hbWVdID0gWyBub2RlIF07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Zykge1xuXHQgICAgICAgIHZhciBuYW1lID0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpLCBub2RlID0gbm9kZXNbbmFtZV0gJiYgbm9kZXNbbmFtZV0ucG9wKCkgfHwgKGlzU3ZnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5vZGVOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpKTtcblx0ICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlKTtcblx0ICAgICAgICBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdCAgICAgICAgcmV0dXJuIG5vZGU7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbGVhbk5vZGUobm9kZSkge1xuXHQgICAgICAgIHJlbW92ZU5vZGUobm9kZSk7XG5cdCAgICAgICAgaWYgKDEgPT09IGdldE5vZGVUeXBlKG5vZGUpKSB7XG5cdCAgICAgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpKTtcblx0ICAgICAgICAgICAgbm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHQgICAgICAgIHZhciBjO1xuXHQgICAgICAgIHdoaWxlIChjID0gbW91bnRzLnBvcCgpKSBpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgcGFyZW50KSB7XG5cdCAgICAgICAgZGlmZkxldmVsKys7XG5cdCAgICAgICAgdmFyIHJldCA9IGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBpZiAocGFyZW50ICYmIHJldC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHQgICAgICAgIGlmICghLS1kaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIG9yaWdpbmFsQXR0cmlidXRlcyA9IHZub2RlICYmIHZub2RlLmF0dHJpYnV0ZXM7XG5cdCAgICAgICAgd2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSkpIHZub2RlID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlLCBjb250ZXh0KTtcblx0ICAgICAgICBpZiAoZW1wdHkodm5vZGUpKSByZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlKSkge1xuXHQgICAgICAgICAgICBpZiAoZG9tKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoMyA9PT0gZ2V0Tm9kZVR5cGUoZG9tKSAmJiBkb20ucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChkb20ubm9kZVZhbHVlICE9IHZub2RlKSBkb20ubm9kZVZhbHVlID0gdm5vZGU7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvbTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGNvbGxlY3ROb2RlKGRvbSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZub2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHN2Z01vZGUsIG91dCA9IGRvbSwgbm9kZU5hbWUgPSB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbihub2RlTmFtZSkpIHJldHVybiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgaWYgKCFpc1N0cmluZyhub2RlTmFtZSkpIG5vZGVOYW1lID0gU3RyaW5nKG5vZGVOYW1lKTtcblx0ICAgICAgICBzdmdNb2RlID0gJ3N2ZycgPT09IHRvTG93ZXJDYXNlKG5vZGVOYW1lKTtcblx0ICAgICAgICBpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gITA7XG5cdCAgICAgICAgaWYgKCFkb20pIG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnTW9kZSk7IGVsc2UgaWYgKCFpc05hbWVkTm9kZShkb20sIG5vZGVOYW1lKSkge1xuXHQgICAgICAgICAgICBvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHQgICAgICAgICAgICB3aGlsZSAoZG9tLmZpcnN0Q2hpbGQpIG91dC5hcHBlbmRDaGlsZChkb20uZmlyc3RDaGlsZCk7XG5cdCAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKGRvbSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh2bm9kZS5jaGlsZHJlbiAmJiAxID09PSB2bm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgJ3N0cmluZycgPT0gdHlwZW9mIHZub2RlLmNoaWxkcmVuWzBdICYmIDEgPT09IG91dC5jaGlsZE5vZGVzLmxlbmd0aCAmJiBvdXQuZmlyc3RDaGlsZCBpbnN0YW5jZW9mIFRleHQpIG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdOyBlbHNlIGlmICh2bm9kZS5jaGlsZHJlbiB8fCBvdXQuZmlyc3RDaGlsZCkgaW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgZGlmZkF0dHJpYnV0ZXMob3V0LCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAob3JpZ2luYWxBdHRyaWJ1dGVzICYmIG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpIChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdCAgICAgICAgaWYgKHN2Z01vZGUpIGlzU3ZnTW9kZSA9ICExO1xuXHQgICAgICAgIHJldHVybiBvdXQ7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpbm5lckRpZmZOb2RlKGRvbSwgdmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBqLCBjLCB2Y2hpbGQsIGNoaWxkLCBvcmlnaW5hbENoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMsIGNoaWxkcmVuID0gW10sIGtleWVkID0ge30sIGtleWVkTGVuID0gMCwgbWluID0gMCwgbGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsIGNoaWxkcmVuTGVuID0gMCwgdmxlbiA9IHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoO1xuXHQgICAgICAgIGlmIChsZW4pIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIF9jaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sIGtleSA9IHZsZW4gPyAoYyA9IF9jaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IF9jaGlsZFtBVFRSX0tFWV0pID8gYy5rZXkgOiBudWxsIDogbnVsbDtcblx0ICAgICAgICAgICAgaWYgKGtleSB8fCAwID09PSBrZXkpIHtcblx0ICAgICAgICAgICAgICAgIGtleWVkTGVuKys7XG5cdCAgICAgICAgICAgICAgICBrZXllZFtrZXldID0gX2NoaWxkO1xuXHQgICAgICAgICAgICB9IGVsc2UgY2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBfY2hpbGQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh2bGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IHZsZW47IGkrKykge1xuXHQgICAgICAgICAgICB2Y2hpbGQgPSB2Y2hpbGRyZW5baV07XG5cdCAgICAgICAgICAgIGNoaWxkID0gbnVsbDtcblx0ICAgICAgICAgICAgaWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gdmNoaWxkLmtleTtcblx0ICAgICAgICAgICAgICAgIGlmICghZW1wdHkoa2V5KSAmJiBrZXkgaW4ga2V5ZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGtleWVkW2tleV07XG5cdCAgICAgICAgICAgICAgICAgICAga2V5ZWRba2V5XSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgICAgICBrZXllZExlbi0tO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY2hpbGQgJiYgbWluIDwgY2hpbGRyZW5MZW4pIGZvciAoaiA9IG1pbjsgaiA8IGNoaWxkcmVuTGVuOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIGMgPSBjaGlsZHJlbltqXTtcblx0ICAgICAgICAgICAgICAgIGlmIChjICYmIGlzU2FtZU5vZGVUeXBlKGMsIHZjaGlsZCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGM7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5bal0gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IGNoaWxkcmVuTGVuIC0gMSkgY2hpbGRyZW5MZW4tLTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbWluKSBtaW4rKztcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjaGlsZCA9IGlkaWZmKGNoaWxkLCB2Y2hpbGQsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBvcmlnaW5hbENoaWxkcmVuW2ldKSBkb20uaW5zZXJ0QmVmb3JlKGNoaWxkLCBvcmlnaW5hbENoaWxkcmVuW2ldIHx8IG51bGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoa2V5ZWRMZW4pIGZvciAodmFyIGkgaW4ga2V5ZWQpIGlmIChrZXllZFtpXSkgY2hpbGRyZW5bbWluID0gY2hpbGRyZW5MZW4rK10gPSBrZXllZFtpXTtcblx0ICAgICAgICBpZiAobWluIDwgY2hpbGRyZW5MZW4pIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oY2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHQgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0ICAgICAgICAgICAgaWYgKGNoaWxkKSByZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHVubW91bnRPbmx5KSB7XG5cdCAgICAgICAgdmFyIGNvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudDtcblx0ICAgICAgICBpZiAoY29tcG9uZW50KSB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTsgZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChub2RlW0FUVFJfS0VZXSAmJiBub2RlW0FUVFJfS0VZXS5yZWYpIG5vZGVbQVRUUl9LRVldLnJlZihudWxsKTtcblx0ICAgICAgICAgICAgaWYgKCF1bm1vdW50T25seSkgY29sbGVjdE5vZGUobm9kZSk7XG5cdCAgICAgICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkaWZmQXR0cmlidXRlcyhkb20sIGF0dHJzKSB7XG5cdCAgICAgICAgdmFyIG9sZCA9IGRvbVtBVFRSX0tFWV0gfHwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMoZG9tKTtcblx0ICAgICAgICBmb3IgKHZhciBfbmFtZSBpbiBvbGQpIGlmICghKGF0dHJzICYmIF9uYW1lIGluIGF0dHJzKSkgc2V0QWNjZXNzb3IoZG9tLCBfbmFtZSwgbnVsbCwgb2xkW19uYW1lXSwgaXNTdmdNb2RlKTtcblx0ICAgICAgICBpZiAoYXR0cnMpIGZvciAodmFyIF9uYW1lMiBpbiBhdHRycykgaWYgKCEoX25hbWUyIGluIG9sZCkgfHwgYXR0cnNbX25hbWUyXSAhPSAoJ3ZhbHVlJyA9PT0gX25hbWUyIHx8ICdzZWxlY3RlZCcgPT09IF9uYW1lMiB8fCAnY2hlY2tlZCcgPT09IF9uYW1lMiA/IGRvbVtfbmFtZTJdIDogb2xkW19uYW1lMl0pKSBzZXRBY2Nlc3Nvcihkb20sIF9uYW1lMiwgYXR0cnNbX25hbWUyXSwgb2xkW19uYW1lMl0sIGlzU3ZnTW9kZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuXHQgICAgICAgIHZhciBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsIGxpc3QgPSBjb21wb25lbnRzW25hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTsgZWxzZSBjb21wb25lbnRzW25hbWVdID0gWyBjb21wb25lbnQgXTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHQgICAgICAgIHZhciBpbnN0ID0gbmV3IEN0b3IocHJvcHMsIGNvbnRleHQpLCBsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKSBpZiAobGlzdFtpXS5jb25zdHJ1Y3RvciA9PT0gQ3Rvcikge1xuXHQgICAgICAgICAgICBpbnN0Lm5leHRCYXNlID0gbGlzdFtpXS5uZXh0QmFzZTtcblx0ICAgICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaW5zdDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2RpcnR5KSB7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlydHkgPSAhMDtcblx0ICAgICAgICAgICAgZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGIgPSBjb21wb25lbnQuYmFzZTtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykge1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMDtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikgZGVsZXRlIHByb3BzLnJlZjtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX2tleSA9IHByb3BzLmtleSkgZGVsZXRlIHByb3BzLmtleTtcblx0ICAgICAgICAgICAgaWYgKGVtcHR5KGIpIHx8IG1vdW50QWxsKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSBjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQgIT09IGNvbXBvbmVudC5jb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudC5wcmV2Q29udGV4dCkgY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQ7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFjb21wb25lbnQucHJldlByb3BzKSBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByb3BzO1xuXHQgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITE7XG5cdCAgICAgICAgICAgIGlmICgwICE9PSBvcHRzKSBpZiAoMSA9PT0gb3B0cyB8fCBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzICE9PSAhMSB8fCAhYikgcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgMSwgbW91bnRBbGwpOyBlbHNlIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykge1xuXHQgICAgICAgICAgICB2YXIgc2tpcCwgcmVuZGVyZWQsIHByb3BzID0gY29tcG9uZW50LnByb3BzLCBzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSwgY29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0LCBwcmV2aW91c1Byb3BzID0gY29tcG9uZW50LnByZXZQcm9wcyB8fCBwcm9wcywgcHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsIHByZXZpb3VzQ29udGV4dCA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCB8fCBjb250ZXh0LCBpc1VwZGF0ZSA9IGNvbXBvbmVudC5iYXNlLCBpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSwgbmV4dFNpYmxpbmcgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5uZXh0U2libGluZywgYmFzZVBhcmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUsIGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LCBpbml0aWFsQ2hpbGRDb21wb25lbnQgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0ICAgICAgICAgICAgaWYgKGlzVXBkYXRlKSB7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcmV2aW91c1Byb3BzO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuXHQgICAgICAgICAgICAgICAgaWYgKDIgIT09IG9wdHMgJiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCkgPT09ICExKSBza2lwID0gITA7IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlydHkgPSAhMTtcblx0ICAgICAgICAgICAgaWYgKCFza2lwKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmdldENoaWxkQ29udGV4dCkgY29udGV4dCA9IGV4dGVuZChjbG9uZShjb250ZXh0KSwgY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpKTtcblx0ICAgICAgICAgICAgICAgIHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQocmVuZGVyZWQpKSByZW5kZXJlZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdG9Vbm1vdW50LCBiYXNlLCBjaGlsZENvbXBvbmVudCA9IHJlbmRlcmVkICYmIHJlbmRlcmVkLm5vZGVOYW1lO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2hpbGRDb21wb25lbnQpICYmIGNoaWxkQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGluc3QgJiYgaW5zdC5jb25zdHJ1Y3RvciA9PT0gY2hpbGRDb21wb25lbnQpIHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDEsIGNvbnRleHQpOyBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9Vbm1vdW50ID0gaW5zdDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAwLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29tcG9uZW50KGluc3QsIDEpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBiYXNlID0gaW5zdC5iYXNlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY2Jhc2UgPSBpbml0aWFsQmFzZTtcblx0ICAgICAgICAgICAgICAgICAgICB0b1VubW91bnQgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRvVW5tb3VudCkgY2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxCYXNlIHx8IDEgPT09IG9wdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFzZSAmJiBiYXNlICE9PSBpbml0aWFsQmFzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChiYXNlUGFyZW50ICYmIGJhc2UgIT09IGJhc2VQYXJlbnQpIGJhc2VQYXJlbnQuaW5zZXJ0QmVmb3JlKGJhc2UsIG5leHRTaWJsaW5nIHx8IG51bGwpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQgPT09IGNvbXBvbmVudCAmJiAhaW5pdGlhbENoaWxkQ29tcG9uZW50ICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEJhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKGluaXRpYWxCYXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAodG9Vbm1vdW50KSB1bm1vdW50Q29tcG9uZW50KHRvVW5tb3VudCwgITApO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmJhc2UgPSBiYXNlO1xuXHQgICAgICAgICAgICAgICAgaWYgKGJhc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50UmVmID0gY29tcG9uZW50LCB0ID0gY29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ID0gdC5fcGFyZW50Q29tcG9uZW50KSBjb21wb25lbnRSZWYgPSB0O1xuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9IGNvbXBvbmVudFJlZi5jb25zdHJ1Y3Rvcjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWlzVXBkYXRlIHx8IG1vdW50QWxsKSB7XG5cdCAgICAgICAgICAgICAgICBtb3VudHMudW5zaGlmdChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1Byb3BzLCBwcmV2aW91c1N0YXRlLCBwcmV2aW91c0NvbnRleHQpO1xuXHQgICAgICAgICAgICB2YXIgZm4sIGNiID0gY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3M7XG5cdCAgICAgICAgICAgIGlmIChjYikgd2hpbGUgKGZuID0gY2IucG9wKCkpIGZuLmNhbGwoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGMgPSBkb20gJiYgZG9tLl9jb21wb25lbnQsIG9sZERvbSA9IGRvbSwgaXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUsIGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLCBwcm9wcyA9IGdldE5vZGVQcm9wcyh2bm9kZSk7XG5cdCAgICAgICAgd2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGMgPSBjLl9wYXJlbnRDb21wb25lbnQpKSBpc093bmVyID0gYy5jb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgaWYgKGlzT3duZXIgJiYgKCFtb3VudEFsbCB8fCBjLl9jb21wb25lbnQpKSB7XG5cdCAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCAzLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGRvbSA9IGMuYmFzZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYyAmJiAhaXNEaXJlY3RPd25lcikge1xuXHQgICAgICAgICAgICAgICAgdW5tb3VudENvbXBvbmVudChjLCAhMCk7XG5cdCAgICAgICAgICAgICAgICBkb20gPSBvbGREb20gPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGMgPSBjcmVhdGVDb21wb25lbnQodm5vZGUubm9kZU5hbWUsIHByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgaWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0ICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDEsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgZG9tID0gYy5iYXNlO1xuXHQgICAgICAgICAgICBpZiAob2xkRG9tICYmIGRvbSAhPT0gb2xkRG9tKSB7XG5cdCAgICAgICAgICAgICAgICBvbGREb20uX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShvbGREb20pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkb207XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgcmVtb3ZlKSB7XG5cdCAgICAgICAgdmFyIGJhc2UgPSBjb21wb25lbnQuYmFzZTtcblx0ICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMDtcblx0ICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0ICAgICAgICBjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdCAgICAgICAgdmFyIGlubmVyID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdCAgICAgICAgaWYgKGlubmVyKSB1bm1vdW50Q29tcG9uZW50KGlubmVyLCByZW1vdmUpOyBlbHNlIGlmIChiYXNlKSB7XG5cdCAgICAgICAgICAgIGlmIChiYXNlW0FUVFJfS0VZXSAmJiBiYXNlW0FUVFJfS0VZXS5yZWYpIGJhc2VbQVRUUl9LRVldLnJlZihudWxsKTtcblx0ICAgICAgICAgICAgY29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblx0ICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuXHQgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShiYXNlKTtcblx0ICAgICAgICAgICAgICAgIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGJhc2UuY2hpbGROb2RlcywgIXJlbW92ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0ICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcblx0ICAgICAgICB0aGlzLl9kaXJ0eSA9ICEwO1xuXHQgICAgICAgIHRoaXMuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMTtcblx0ICAgICAgICB0aGlzLnByZXZTdGF0ZSA9IHRoaXMucHJldlByb3BzID0gdGhpcy5wcmV2Q29udGV4dCA9IHRoaXMuYmFzZSA9IHRoaXMubmV4dEJhc2UgPSB0aGlzLl9wYXJlbnRDb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnQgPSB0aGlzLl9fcmVmID0gdGhpcy5fX2tleSA9IHRoaXMuX2xpbmtlZFN0YXRlcyA9IHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0ICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgfHwge307XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0ICAgICAgICByZXR1cm4gZGlmZihtZXJnZSwgdm5vZGUsIHt9LCAhMSwgcGFyZW50KTtcblx0ICAgIH1cblx0ICAgIHZhciBsY0NhY2hlID0ge307XG5cdCAgICB2YXIgdG9Mb3dlckNhc2UgPSBmdW5jdGlvbihzKSB7XG5cdCAgICAgICAgcmV0dXJuIGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXHQgICAgfTtcblx0ICAgIHZhciByZXNvbHZlZCA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgdmFyIHNldEltbWVkaWF0ZSA9IHJlc29sdmVkID8gZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJlc29sdmVkLnRoZW4oZik7XG5cdCAgICB9IDogc2V0VGltZW91dDtcblx0ICAgIHZhciBvcHRpb25zID0ge1xuXHQgICAgICAgIHZub2RlOiBlbXB0eVxuXHQgICAgfTtcblx0ICAgIHZhciBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXHQgICAgdmFyIEVNUFRZID0ge307XG5cdCAgICB2YXIgQVRUUl9LRVkgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sLmZvcigncHJlYWN0YXR0cicpIDogJ19fcHJlYWN0YXR0cl8nO1xuXHQgICAgdmFyIE5PTl9ESU1FTlNJT05fUFJPUFMgPSB7XG5cdCAgICAgICAgYm94RmxleDogMSxcblx0ICAgICAgICBib3hGbGV4R3JvdXA6IDEsXG5cdCAgICAgICAgY29sdW1uQ291bnQ6IDEsXG5cdCAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG5cdCAgICAgICAgZmxleDogMSxcblx0ICAgICAgICBmbGV4R3JvdzogMSxcblx0ICAgICAgICBmbGV4UG9zaXRpdmU6IDEsXG5cdCAgICAgICAgZmxleFNocmluazogMSxcblx0ICAgICAgICBmbGV4TmVnYXRpdmU6IDEsXG5cdCAgICAgICAgZm9udFdlaWdodDogMSxcblx0ICAgICAgICBsaW5lQ2xhbXA6IDEsXG5cdCAgICAgICAgbGluZUhlaWdodDogMSxcblx0ICAgICAgICBvcGFjaXR5OiAxLFxuXHQgICAgICAgIG9yZGVyOiAxLFxuXHQgICAgICAgIG9ycGhhbnM6IDEsXG5cdCAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSxcblx0ICAgICAgICB3aWRvd3M6IDEsXG5cdCAgICAgICAgekluZGV4OiAxLFxuXHQgICAgICAgIHpvb206IDFcblx0ICAgIH07XG5cdCAgICB2YXIgaXRlbXMgPSBbXTtcblx0ICAgIHZhciBpdGVtc09mZmxpbmUgPSBbXTtcblx0ICAgIHZhciBub2RlcyA9IHt9O1xuXHQgICAgdmFyIG1vdW50cyA9IFtdO1xuXHQgICAgdmFyIGRpZmZMZXZlbCA9IDA7XG5cdCAgICB2YXIgaXNTdmdNb2RlID0gITE7XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xuXHQgICAgZXh0ZW5kKENvbXBvbmVudC5wcm90b3R5cGUsIHtcblx0ICAgICAgICBsaW5rU3RhdGU6IGZ1bmN0aW9uKGtleSwgZXZlbnRQYXRoKSB7XG5cdCAgICAgICAgICAgIHZhciBjID0gdGhpcy5fbGlua2VkU3RhdGVzIHx8ICh0aGlzLl9saW5rZWRTdGF0ZXMgPSB7fSksIGNhY2hlS2V5ID0ga2V5ICsgJ3wnICsgZXZlbnRQYXRoO1xuXHQgICAgICAgICAgICByZXR1cm4gY1tjYWNoZUtleV0gfHwgKGNbY2FjaGVLZXldID0gY3JlYXRlTGlua2VkU3RhdGUodGhpcywga2V5LCBldmVudFBhdGgpKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldFN0YXRlOiBmdW5jdGlvbihzdGF0ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMucHJldlN0YXRlKSB0aGlzLnByZXZTdGF0ZSA9IGNsb25lKHMpO1xuXHQgICAgICAgICAgICBleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0ICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKS5wdXNoKGNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgdHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGZvcmNlVXBkYXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmVuZGVyQ29tcG9uZW50KHRoaXMsIDIpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBleHBvcnRzLmggPSBoO1xuXHQgICAgZXhwb3J0cy5jbG9uZUVsZW1lbnQgPSBjbG9uZUVsZW1lbnQ7XG5cdCAgICBleHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcblx0ICAgIGV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuXHQgICAgZXhwb3J0cy5yZXJlbmRlciA9IHJlcmVuZGVyO1xuXHQgICAgZXhwb3J0cy5vcHRpb25zID0gb3B0aW9ucztcblx0fSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5zZXRJbW1lZGlhdGUpKVxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHNldEltbWVkaWF0ZSwgY2xlYXJJbW1lZGlhdGUpIHt2YXIgbmV4dFRpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLm5leHRUaWNrO1xuXHR2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xuXHR2YXIgbmV4dEltbWVkaWF0ZUlkID0gMDtcblx0XG5cdC8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cdFxuXHRleHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG5cdH07XG5cdGV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcblx0fTtcblx0ZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuXHRleHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblx0XG5cdGZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcblx0ICB0aGlzLl9pZCA9IGlkO1xuXHQgIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xuXHR9XG5cdFRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblx0VGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG5cdH07XG5cdFxuXHQvLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cblx0ZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcblx0fTtcblx0XG5cdGV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHRcblx0ICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcblx0ICBpZiAobXNlY3MgPj0gMCkge1xuXHQgICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuXHQgICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuXHQgICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuXHQgICAgfSwgbXNlY3MpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIFRoYXQncyBub3QgaG93IG5vZGUuanMgaW1wbGVtZW50cyBpdCBidXQgdGhlIGV4cG9zZWQgYXBpIGlzIHRoZSBzYW1lLlxuXHRleHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG5cdCAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG5cdCAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGZhbHNlIDogc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHRcblx0ICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblx0XG5cdCAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcblx0ICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG5cdCAgICAgIC8vIGZuLmNhbGwoKSBpcyBmYXN0ZXIgc28gd2Ugb3B0aW1pemUgZm9yIHRoZSBjb21tb24gdXNlLWNhc2Vcblx0ICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3Vcblx0ICAgICAgaWYgKGFyZ3MpIHtcblx0ICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBmbi5jYWxsKG51bGwpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuXHQgICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGlkO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9IHR5cGVvZiBjbGVhckltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gY2xlYXJJbW1lZGlhdGUgOiBmdW5jdGlvbihpZCkge1xuXHQgIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xuXHR9O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5zZXRJbW1lZGlhdGUsIF9fd2VicGFja19yZXF1aXJlX18oNCkuY2xlYXJJbW1lZGlhdGUpKVxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdFxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0ICB0cnkge1xuXHQgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgY2FjaGVkU2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHRyeSB7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0fSAoKSlcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgdGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZHJhaW5RdWV1ZSwgMCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmNvbXBvc2UgPSBleHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IGV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBleHBvcnRzLmNyZWF0ZVN0b3JlID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX2NvbWJpbmVSZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lUmVkdWNlcnMpO1xuXHRcblx0dmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9hcHBseU1pZGRsZXdhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbHlNaWRkbGV3YXJlKTtcblx0XG5cdHZhciBfY29tcG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qXG5cdCogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuXHQqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cblx0Ki9cblx0ZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG5cdCAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLkFjdGlvblR5cGVzID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuXHRcblx0dmFyIF9pc1BsYWluT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblx0XG5cdHZhciBfc3ltYm9sT2JzZXJ2YWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuXHQgKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuXHQgKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cblx0ICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuXHQgKi9cblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBJTklUOiAnQEByZWR1eC9JTklUJ1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuXHQgKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cblx0ICpcblx0ICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuXHQgKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG5cdCAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuXHQgKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cblx0ICpcblx0ICogQHBhcmFtIHthbnl9IFtpbml0aWFsU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuXHQgKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuXHQgKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG5cdCAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcblx0ICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuXHQgKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG5cdCAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG5cdCAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcblx0ICB2YXIgX3JlZjI7XG5cdFxuXHQgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIGVuaGFuY2VyID0gaW5pdGlhbFN0YXRlO1xuXHQgICAgaW5pdGlhbFN0YXRlID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0XG5cdCAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICB9XG5cdFxuXHQgIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG5cdCAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblx0ICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuXHQgIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcblx0ICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXHRcblx0ICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuXHQgICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcblx0ICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuXHQgICAqXG5cdCAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuXHQgICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG5cdCAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG5cdCAgICpcblx0ICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuXHQgICAqIGNhdmVhdHM6XG5cdCAgICpcblx0ICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG5cdCAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG5cdCAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG5cdCAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG5cdCAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cblx0ICAgKlxuXHQgICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuXHQgICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG5cdCAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcblx0ICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG5cdCAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG5cdCAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXHRcblx0ICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cdFxuXHQgICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG5cdCAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG5cdCAgICpcblx0ICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG5cdCAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuXHQgICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcblx0ICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuXHQgICAqXG5cdCAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cblx0ICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuXHQgICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuXHQgICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcblx0ICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcblx0ICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuXHQgICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG5cdCAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG5cdCAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuXHQgICAqXG5cdCAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuXHQgICAqXG5cdCAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuXHQgICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcblx0ICAgIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MltcImRlZmF1bHRcIl0pKGFjdGlvbikpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuXHQgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgbGlzdGVuZXJzW2ldKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGFjdGlvbjtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuXHQgICAqXG5cdCAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuXHQgICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3Vcblx0ICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuXHQgICAqIEByZXR1cm5zIHt2b2lkfVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG5cdCAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjtcblx0ICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuXHQgICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuXHQgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG5cdCAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG5cdCAgICB2YXIgX3JlZjtcblx0XG5cdCAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG5cdCAgICByZXR1cm4gX3JlZiA9IHtcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cblx0ICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cblx0ICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG5cdCAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG5cdCAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcblx0ICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG5cdCAgICAgICAqL1xuXHRcblx0ICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcblx0ICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG5cdCAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvYnNlcnZlU3RhdGUoKTtcblx0ICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuXHQgICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuXHQgICAgICB9XG5cdCAgICB9LCBfcmVmW19zeW1ib2xPYnNlcnZhYmxlMltcImRlZmF1bHRcIl1dID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sIF9yZWY7XG5cdCAgfVxuXHRcblx0ICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuXHQgIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuXHQgIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG5cdCAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHRcblx0ICByZXR1cm4gX3JlZjIgPSB7XG5cdCAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG5cdCAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcblx0ICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcblx0ICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuXHQgIH0sIF9yZWYyW19zeW1ib2xPYnNlcnZhYmxlMltcImRlZmF1bHRcIl1dID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnZXRQcm90b3R5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLFxuXHQgICAgaXNIb3N0T2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSksXG5cdCAgICBpc09iamVjdExpa2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0dmFyIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXHRcblx0LyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0LyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuXHR2YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcblx0LyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXHRcblx0LyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuXHR2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cdFxuXHQvKipcblx0ICogVXNlZCB0byByZXNvbHZlIHRoZVxuXHQgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0ICogb2YgdmFsdWVzLlxuXHQgKi9cblx0dmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuXHQgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDAuOC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCxcblx0ICogIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogZnVuY3Rpb24gRm9vKCkge1xuXHQgKiAgIHRoaXMuYSA9IDE7XG5cdCAqIH1cblx0ICpcblx0ICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICpcblx0ICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdCAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8XG5cdCAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG5cdCAgaWYgKHByb3RvID09PSBudWxsKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0ICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcblx0ICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBvdmVyQXJnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHQvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHQvKipcblx0ICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHQgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0ICovXG5cdHZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKG5hdGl2ZUdldFByb3RvdHlwZSwgT2JqZWN0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuXHQgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcblx0ICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG5cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcblx0ICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuXHQgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdCAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXHQgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuXHQgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuXHQgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG5cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpKGdsb2JhbCB8fCB3aW5kb3cgfHwgdGhpcyk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHRcdHZhciByZXN1bHQ7XG5cdFx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXHRcblx0XHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKSB7XG5cdCAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG5cdCAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXHRcblx0ICByZXR1cm4gJ0dpdmVuIGFjdGlvbiAnICsgYWN0aW9uTmFtZSArICcsIHJlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gJyArICdUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG5cdCAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuXHQgIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ2luaXRpYWxTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblx0XG5cdCAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcblx0ICB9XG5cdFxuXHQgIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MltcImRlZmF1bHRcIl0pKGlucHV0U3RhdGUpKSB7XG5cdCAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuXHQgIH0pO1xuXHRcblx0ICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuXHQgICAgcmV0dXJuICdVbmV4cGVjdGVkICcgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArICcgJyArICgnXCInICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyAnXCIgZm91bmQgaW4gJyArIGFyZ3VtZW50TmFtZSArICcuICcpICsgJ0V4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogJyArICgnXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuJyk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG5cdCAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuXHQgICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUIH0pO1xuXHRcblx0ICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG5cdCAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJyArICgnRG9uXFwndCB0cnkgdG8gaGFuZGxlICcgKyBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG5cdCAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcblx0ICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG5cdCAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuXHQgKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG5cdCAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG5cdCAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcblx0ICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG5cdCAqIHVucmVjb2duaXplZCBhY3Rpb24uXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcblx0ICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuXHQgKi9cblx0ZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG5cdCAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuXHQgIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXHQgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG5cdCAgICB9XG5cdCAgfVxuXHQgIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG5cdFxuXHQgIHZhciBzYW5pdHlFcnJvcjtcblx0ICB0cnkge1xuXHQgICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBzYW5pdHlFcnJvciA9IGU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0ICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgaWYgKHNhbml0eUVycm9yKSB7XG5cdCAgICAgIHRocm93IHNhbml0eUVycm9yO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG5cdCAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbik7XG5cdCAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuXHQgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSh3YXJuaW5nTWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBrZXkgPSBmaW5hbFJlZHVjZXJLZXlzW2ldO1xuXHQgICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcblx0ICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuXHQgICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuXHQgICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuXHQgICAgICB9XG5cdCAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuXHQgICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuXHQgIH07XG5cdH1cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNSkpKVxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcblx0LyoqXG5cdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgIH1cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0ICB0cnkge1xuXHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG5cdCAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuXHQgICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG5cdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHQgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5cdGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcblx0ICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuXHQgKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcblx0ICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cblx0ICpcblx0ICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG5cdCAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cblx0ICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuXHQgKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuXHQgKiBzdG9yZS5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcblx0ICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuXHQgKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcblx0ICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcblx0ICB9XG5cdFxuXHQgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuXHQgIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcblx0ICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcblx0XG5cdHZhciBfY29tcG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2Rcblx0ICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuXHQgKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuXHQgKlxuXHQgKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG5cdCAqXG5cdCAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuXHQgKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcblx0ICogYXMgbmFtZWQgYXJndW1lbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcblx0ICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHQgICAgICB2YXIgY2hhaW4gPSBbXTtcblx0XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuXHQgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcblx0ICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cdFxuXHQgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0b3JlLCB7XG5cdCAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuXHQvKipcblx0ICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3Rcblx0ICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG5cdCAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuXHQgKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuXHQgKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBjb21wb3NlKCkge1xuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgfVxuXHRcblx0ICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICByZXR1cm4gYXJnO1xuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBsYXN0ID0gZnVuY3NbZnVuY3MubGVuZ3RoIC0gMV07XG5cdCAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHY6IGZ1bmN0aW9uIHYoKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuXHQgICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0ICAgIH0oKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIF9yZXQgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplTW9kKTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JSaWdodCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JSaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvclJpZ2h0KTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JMZWZ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvckxlZnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3VydmVFZGl0b3JMZWZ0KTtcblx0XG5cdHZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdFxuXHR2YXIgX2ljb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25zKTtcblx0XG5cdHZhciBfY29kZVBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xuXHRcblx0dmFyIF9jb2RlUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29kZVBhbmVsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3IgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEN1cnZlRWRpdG9yLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ3VydmVFZGl0b3IoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDdXJ2ZUVkaXRvcik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDdXJ2ZUVkaXRvcikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDdXJ2ZUVkaXRvciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcblx0ICAgICAgdmFyIHN0eWxlID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3InXSwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb25zMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY29kZVBhbmVsMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JMZWZ0Mi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JSaWdodDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgWF9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgNTM7XG5cdCAgICAgIHZhciBZX1NJWkUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QQURESU5HO1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgdGVtcF90b3AgPSByZXNpemUudGVtcF90b3A7XG5cdCAgICAgIHZhciB0ZW1wX2JvdHRvbSA9IHJlc2l6ZS50ZW1wX2JvdHRvbTtcblx0ICAgICAgdmFyIHRlbXBfcmlnaHQgPSByZXNpemUudGVtcF9yaWdodDtcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9IHJlc2l6ZS50cmFuc2xhdGU7XG5cdFxuXHRcblx0ICAgICAgdGVtcF90b3AgKz0gcmVzaXplLnRvcDtcblx0ICAgICAgdGVtcF9ib3R0b20gKz0gcmVzaXplLmJvdHRvbTtcblx0ICAgICAgdGVtcF9yaWdodCArPSByZXNpemUucmlnaHQ7XG5cdFxuXHQgICAgICAvLyBjb25zdHJhaW4gbWluIGhlaWdodFxuXHQgICAgICBpZiAoWV9TSVpFIC0gdGVtcF90b3AgPCBZX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3RvcCA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKFlfU0laRSArIHRlbXBfYm90dG9tIDwgWV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9ib3R0b20gPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChYX1NJWkUgKyB0ZW1wX3JpZ2h0IDwgWF9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9yaWdodCA9IDA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRlbXBfdG9wID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfdG9wLCAtMSk7XG5cdCAgICAgIHRlbXBfYm90dG9tID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfYm90dG9tKTtcblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSAnaGVpZ2h0OiAnICsgKFlfU0laRSAtIHRlbXBfdG9wICsgdGVtcF9ib3R0b20pICsgJ3B4Jyxcblx0ICAgICAgICAgIHdpZHRoID0gJ3dpZHRoOiAnICsgKFhfU0laRSArIHRlbXBfcmlnaHQpICsgJ3B4Jyxcblx0ICAgICAgICAgIHggPSByZXNpemUueCArIHJlc2l6ZS50ZW1wWCxcblx0ICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcblx0ICAgICAgICAgIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgeCArICdweCwgJyArICh5ICsgdGVtcF90b3ApICsgJ3B4KSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOyAnICsgd2lkdGggKyAnOyAnICsgaGVpZ2h0ICsgJzsnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLWxlZnQtcGFuZWwnKTtcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFJywgZGF0YTogeyB4OiB4LCB5OiB5IH0gfSk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeDogeCwgeTogeSB9IH0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgLy8gLm9uKCd0YXAnLCAoZSkgPT4geyBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pOyB9KTtcblx0XG5cdCAgICAgIHRoaXMuX2FkZEtleVVwKCk7XG5cdCAgICAgIHN0b3JlLnN1YnNjcmliZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19hZGRLZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEtleVVwKCkge1xuXHQgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uS2V5VXAuYmluZCh0aGlzKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX29uS2V5VXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbktleVVwKGUpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHRcblx0ICAgICAgaWYgKCFlLmFsdEtleSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcblx0ICAgICAgICBjYXNlIDkwOlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goX3JlZHV4VW5kby5BY3Rpb25DcmVhdG9ycy51bmRvKCkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgODg6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaChfcmVkdXhVbmRvLkFjdGlvbkNyZWF0b3JzLnJlZG8oKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSA2ODpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFTEVURScgfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEN1cnZlRWRpdG9yO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yO1xuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygyMiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciB0b09iamVjdCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgJGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuXHQgIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG5cdCAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG5cdCAgfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxuXHR2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxuXHR2YXIgaGFzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgdG9PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSgnSUVfUFJPVE8nKVxuXHQgICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG5cdCAgTyA9IHRvT2JqZWN0KE8pO1xuXHQgIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuXHQgIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuXHQgICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuXHQgIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdrZXlzJylcblx0ICAsIHVpZCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG5cdCAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuXHR2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcblx0ICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdGlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGlkID0gMFxuXHQgICwgcHggPSBNYXRoLnJhbmRvbSgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgY29yZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpXG5cdCAgLCBmYWlscyAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcblx0ICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG5cdCAgICAsIGV4cCA9IHt9O1xuXHQgIGV4cFtLRVldID0gZXhlYyhmbik7XG5cdCAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQgICwgY29yZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNClcblx0ICAsIGN0eCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpXG5cdCAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHR2YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG5cdCAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcblx0ICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuXHQgICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG5cdCAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcblx0ICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuXHQgICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG5cdCAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG5cdCAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuXHQgICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG5cdCAgICAsIGtleSwgb3duLCBvdXQ7XG5cdCAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG5cdCAgZm9yKGtleSBpbiBzb3VyY2Upe1xuXHQgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG5cdCAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuXHQgICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcblx0ICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG5cdCAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcblx0ICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG5cdCAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuXHQgICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcblx0ICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG5cdCAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuXHQgICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcblx0ICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcblx0ICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG5cdCAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuXHQgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcblx0ICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuXHQgICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuXHQgICAgICByZXR1cm4gRjtcblx0ICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuXHQgICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuXHQgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG5cdCAgICBpZihJU19QUk9UTyl7XG5cdCAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcblx0ICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcblx0ICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHQvLyB0eXBlIGJpdG1hcFxuXHQkZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuXHQkZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuXHQkZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuXHQkZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG5cdCRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuXHQkZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcblx0JGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG5cdCRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcblx0bW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5cdGlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXHR2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG5cdCAgYUZ1bmN0aW9uKGZuKTtcblx0ICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuXHQgIHN3aXRjaChsZW5ndGgpe1xuXHQgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0fSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpXG5cdCAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuXHQgIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MikgJiYgIV9fd2VicGFja19yZXF1aXJlX18oNDMpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MykoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gISFleGVjKCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKS5kb2N1bWVudFxuXHQgIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuXHQgICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHQvLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuXHQvLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcblx0ICB2YXIgZm4sIHZhbDtcblx0ICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcblx0ICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcblx0ICAgIHZhbHVlICAgICAgIDogdmFsdWVcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuXHQgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG5cdCAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcblx0ICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0ICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuXHQgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcblx0ICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuXHQgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuXHQgIH07XG5cdH0oKTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNTApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuT2JqZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuXHQgIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdC8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oNDIpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KS5mfSk7XG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuXHQgIGlmICghc2VsZikge1xuXHQgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9pdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXHRcblx0dmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cdFxuXHR2YXIgX3N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHRcblx0dmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcblx0fSA6IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg1NSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MikuZignaXRlcmF0b3InKTtcblxuLyoqKi8gfSxcbi8qIDU2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkYXQgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NykodHJ1ZSk7XG5cdFxuXHQvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTkpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcblx0ICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0Ly8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pXG5cdCAgICAsIHBvaW50O1xuXHQgIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG5cdCAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuXHQgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuXHQgIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KVxuXHQgICwgZGVmaW5lZCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdC8vIHRydWUgIC0+IFN0cmluZyNhdFxuXHQvLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuXHQgIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuXHQgICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcblx0ICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcblx0ICAgICAgLCBsID0gcy5sZW5ndGhcblx0ICAgICAgLCBhLCBiO1xuXHQgICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcblx0ICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG5cdCAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuXHQgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuXHQgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMS40IFRvSW50ZWdlclxuXHR2YXIgY2VpbCAgPSBNYXRoLmNlaWxcblx0ICAsIGZsb29yID0gTWF0aC5mbG9vcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKVxuXHQgICwgaGlkZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgSXRlcmF0b3JzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKVxuXHQgICwgJGl0ZXJDcmVhdGUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KVxuXHQgICwgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgSVRFUkFUT1IgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSgnaXRlcmF0b3InKVxuXHQgICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuXHQgICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcblx0ICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG5cdCAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXHRcblx0dmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcblx0ICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG5cdCAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuXHQgICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuXHQgICAgc3dpdGNoKGtpbmQpe1xuXHQgICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG5cdCAgfTtcblx0ICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuXHQgICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcblx0ICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG5cdCAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuXHQgICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG5cdCAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuXHQgICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuXHQgICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuXHQgICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuXHQgIC8vIEZpeCBuYXRpdmVcblx0ICBpZigkYW55TmF0aXZlKXtcblx0ICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG5cdCAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG5cdCAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcblx0ICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG5cdCAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuXHQgICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuXHQgICAgfVxuXHQgIH1cblx0ICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG5cdCAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcblx0ICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuXHQgICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcblx0ICB9XG5cdCAgLy8gRGVmaW5lIGl0ZXJhdG9yXG5cdCAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuXHQgICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcblx0ICB9XG5cdCAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuXHQgIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuXHQgIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG5cdCAgaWYoREVGQVVMVCl7XG5cdCAgICBtZXRob2RzID0ge1xuXHQgICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcblx0ICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuXHQgICAgICBlbnRyaWVzOiAkZW50cmllc1xuXHQgICAgfTtcblx0ICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuXHQgICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcblx0ICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG5cdCAgfVxuXHQgIHJldHVybiBtZXRob2RzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXG4vKioqLyB9LFxuLyogNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgY3JlYXRlICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KVxuXHQgICwgZGVzY3JpcHRvciAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KVxuXHQgICwgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KVxuXHQgICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblx0XG5cdC8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5cdF9fd2VicGFja19yZXF1aXJlX18oMzcpKEl0ZXJhdG9yUHJvdG90eXBlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG5cdCAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuXHQgIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHR2YXIgYW5PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQgICwgZFBzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KVxuXHQgICwgSUVfUFJPVE8gICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSgnSUVfUFJPVE8nKVxuXHQgICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG5cdCAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXHRcblx0Ly8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuXHR2YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG5cdCAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcblx0ICB2YXIgaWZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoJ2lmcmFtZScpXG5cdCAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuXHQgICAgLCBsdCAgICAgPSAnPCdcblx0ICAgICwgZ3QgICAgID0gJz4nXG5cdCAgICAsIGlmcmFtZURvY3VtZW50O1xuXHQgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oNzUpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuXHQgIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG5cdCAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuXHQgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG5cdCAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuXHQgIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcblx0ICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuXHQgIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuXHQgIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcblx0ICByZXR1cm4gY3JlYXRlRGljdCgpO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcblx0ICB2YXIgcmVzdWx0O1xuXHQgIGlmKE8gIT09IG51bGwpe1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuXHQgICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuXHQgICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG5cdCAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG5cdCAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcblx0ICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuXHQgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCBnZXRLZXlzICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpID0gMFxuXHQgICAgLCBQO1xuXHQgIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcblx0dmFyICRrZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nylcblx0ICAsIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaGFzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIHRvSU9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKShmYWxzZSlcblx0ICAsIElFX1BST1RPICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpKCdJRV9QUk9UTycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBrZXk7XG5cdCAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuXHQgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG5cdCAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXHR2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpXG5cdCAgLCBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG5cdC8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KVxuXHQgICwgdG9MZW5ndGggID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Milcblx0ICAsIHRvSW5kZXggICA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcblx0ICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuXHQgICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcblx0ICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcblx0ICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuXHQgICAgICAsIHZhbHVlO1xuXHQgICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuXHQgICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuXHQgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG5cdCAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuXHQgICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG5cdCAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcblx0ICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xNSBUb0xlbmd0aFxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OClcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KVxuXHQgICwgbWF4ICAgICAgID0gTWF0aC5tYXhcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuXHQgIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcblx0ICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG5cdCkuc3BsaXQoJywnKTtcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZGVmID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCkuZlxuXHQgICwgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcblx0ICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHN0b3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgnd2tzJylcblx0ICAsIHVpZCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKVxuXHQgICwgU3ltYm9sICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzApLlN5bWJvbFxuXHQgICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblx0XG5cdHZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG5cdCAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuXHR9O1xuXHRcblx0JGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0dmFyIGdsb2JhbCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQgICwgaGlkZSAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCBJdGVyYXRvcnMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Milcblx0ICAsIFRPX1NUUklOR19UQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSgndG9TdHJpbmdUYWcnKTtcblx0XG5cdGZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuXHQgIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cblx0ICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuXHQgICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcblx0ICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdCAgLCBzdGVwICAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSlcblx0ICAsIEl0ZXJhdG9ycyAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKVxuXHQgICwgdG9JT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRcblx0Ly8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuXHQvLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuXHQvLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG5cdC8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG5cdCAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdCAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcblx0Ly8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBraW5kICA9IHRoaXMuX2tcblx0ICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG5cdCAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuXHQgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiBzdGVwKDEpO1xuXHQgIH1cblx0ICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcblx0ICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcblx0ICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG5cdH0sICd2YWx1ZXMnKTtcblx0XG5cdC8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcblx0SXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblx0XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5cdGFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuLyoqKi8gfSxcbi8qIDgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLlN5bWJvbDtcblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIERFU0NSSVBUT1JTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Milcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIHJlZGVmaW5lICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSlcblx0ICAsIE1FVEEgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikuS0VZXG5cdCAgLCAkZmFpbHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBzaGFyZWQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCB1aWQgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdCAgLCB3a3MgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpXG5cdCAgLCB3a3NFeHQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODIpXG5cdCAgLCB3a3NEZWZpbmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODcpXG5cdCAgLCBrZXlPZiAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODgpXG5cdCAgLCBlbnVtS2V5cyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODkpXG5cdCAgLCBpc0FycmF5ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpXG5cdCAgLCBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCB0b0lPYmplY3QgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpXG5cdCAgLCBjcmVhdGVEZXNjICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdCAgLCBfY3JlYXRlICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpXG5cdCAgLCBnT1BORXh0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpXG5cdCAgLCAkR09QRCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpXG5cdCAgLCAkRFAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpXG5cdCAgLCAka2V5cyAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cdCAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcblx0ICAsIGRQICAgICAgICAgICAgID0gJERQLmZcblx0ICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG5cdCAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcblx0ICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cblx0ICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG5cdCAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG5cdCAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG5cdCAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuXHQgICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuXHQgICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG5cdCAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG5cdCAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG5cdCAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG5cdCAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcblx0ICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG5cdC8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xuXHR2YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblx0XG5cdC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xuXHR2YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuXHQgIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcblx0ICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuXHQgIH0pKS5hICE9IDc7XG5cdH0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG5cdCAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG5cdCAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuXHQgIGRQKGl0LCBrZXksIEQpO1xuXHQgIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcblx0fSA6IGRQO1xuXHRcblx0dmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuXHQgIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG5cdCAgc3ltLl9rID0gdGFnO1xuXHQgIHJldHVybiBzeW07XG5cdH07XG5cdFxuXHR2YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG5cdH0gOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcblx0fTtcblx0XG5cdHZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcblx0ICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcblx0ICBhbk9iamVjdChpdCk7XG5cdCAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcblx0ICBhbk9iamVjdChEKTtcblx0ICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG5cdCAgICBpZighRC5lbnVtZXJhYmxlKXtcblx0ICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG5cdCAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuXHQgICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcblx0ICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG5cdCAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG5cdH07XG5cdHZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG5cdCAgICAsIGkgICAgPSAwXG5cdCAgICAsIGwgPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG5cdCAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xuXHR9O1xuXHR2YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcblx0ICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuXHQgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcblx0ICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG5cdH07XG5cdHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuXHQgIGl0ICA9IHRvSU9iamVjdChpdCk7XG5cdCAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcblx0ICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuXHQgIHZhciBEID0gZ09QRChpdCwga2V5KTtcblx0ICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcblx0ICByZXR1cm4gRDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG5cdCAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cdHZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcblx0ICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG5cdCAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuXHRpZighVVNFX05BVElWRSl7XG5cdCAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuXHQgICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG5cdCAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcblx0ICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuXHQgICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG5cdCAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcblx0ICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0ICAgIH07XG5cdCAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcblx0ICAgIHJldHVybiB3cmFwKHRhZyk7XG5cdCAgfTtcblx0ICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG5cdCAgICByZXR1cm4gdGhpcy5faztcblx0ICB9KTtcblx0XG5cdCAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cdCAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg5MSkuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg5MCkuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdFxuXHQgIGlmKERFU0NSSVBUT1JTICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSl7XG5cdCAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcblx0ICB9XG5cdFxuXHQgIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuXHQgIH1cblx0fVxuXHRcblx0JGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gKFxuXHQgIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG5cdCAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuXHQpLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblx0XG5cdGZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG5cdCAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG5cdCAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG5cdCAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG5cdCAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuXHQgICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG5cdCAgfSxcblx0ICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcblx0ICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuXHQgICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG5cdCAgfSxcblx0ICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG5cdCAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxuXHR9KTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG5cdCAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQgIGNyZWF0ZTogJGNyZWF0ZSxcblx0ICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0ICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuXHQgIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG5cdCAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG5cdCAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuXHQgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuXHQgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuXHQgIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcblx0ICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0fSk7XG5cdFxuXHQvLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcblx0JEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIFMgPSAkU3ltYm9sKCk7XG5cdCAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cblx0ICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcblx0ICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuXHQgIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG5cdH0pKSwgJ0pTT04nLCB7XG5cdCAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuXHQgICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG5cdCAgICB2YXIgYXJncyA9IFtpdF1cblx0ICAgICAgLCBpICAgID0gMVxuXHQgICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG5cdCAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuXHQgICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuXHQgICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG5cdCAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG5cdCAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuXHQgICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcblx0ICAgIH07XG5cdCAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG5cdCAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdC8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcblx0JFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygzNykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcblx0Ly8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG5cdC8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcblx0Ly8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cbi8qKiovIH0sXG4vKiA4NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIE1FVEEgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkoJ21ldGEnKVxuXHQgICwgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgaGFzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgc2V0RGVzYyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KS5mXG5cdCAgLCBpZCAgICAgICA9IDA7XG5cdHZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdHZhciBGUkVFWkUgPSAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MykoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xuXHR9KTtcblx0dmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG5cdCAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG5cdCAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcblx0ICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfX0pO1xuXHR9O1xuXHR2YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG5cdCAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuXHQgICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBvYmplY3QgSURcblx0ICB9IHJldHVybiBpdFtNRVRBXS5pO1xuXHR9O1xuXHR2YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIGlmKCFoYXMoaXQsIE1FVEEpKXtcblx0ICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG5cdCAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcblx0ICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG5cdCAgICBzZXRNZXRhKGl0KTtcblx0ICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuXHQgIH0gcmV0dXJuIGl0W01FVEFdLnc7XG5cdH07XG5cdC8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xuXHR2YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblx0dmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBLRVk6ICAgICAgTUVUQSxcblx0ICBORUVEOiAgICAgZmFsc2UsXG5cdCAgZmFzdEtleTogIGZhc3RLZXksXG5cdCAgZ2V0V2VhazogIGdldFdlYWssXG5cdCAgb25GcmVlemU6IG9uRnJlZXplXG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGNvcmUgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNClcblx0ICAsIExJQlJBUlkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MClcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCkuZjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuXHQgIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnZXRLZXlzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KVxuXHQgICwgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG5cdCAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG5cdCAgICAsIGtleXMgICA9IGdldEtleXMoTylcblx0ICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICwgaW5kZXggID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xuXHR2YXIgZ2V0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cdCAgLCBnT1BTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MClcblx0ICAsIHBJRSAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgdmFyIHJlc3VsdCAgICAgPSBnZXRLZXlzKGl0KVxuXHQgICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuXHQgIGlmKGdldFN5bWJvbHMpe1xuXHQgICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KVxuXHQgICAgICAsIGlzRW51bSAgPSBwSUUuZlxuXHQgICAgICAsIGkgICAgICAgPSAwXG5cdCAgICAgICwga2V5O1xuXHQgICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKiovIH0sXG4vKiA5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcblx0dmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpe1xuXHQgIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCBnT1BOICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KS5mXG5cdCAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblx0XG5cdHZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG5cdCAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cdFxuXHR2YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBnT1BOKGl0KTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuXHQgIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDk0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdHZhciAka2V5cyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nylcblx0ICAsIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblx0XG5cdGV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBwSUUgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpXG5cdCAgLCBjcmVhdGVEZXNjICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdCAgLCB0b0lPYmplY3QgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cdFxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG5cdCAgTyA9IHRvSU9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBnT1BEKE8sIFApO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0ICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cblxuLyoqKi8gfSxcbi8qIDk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KSgnYXN5bmNJdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODcpKCdvYnNlcnZhYmxlJyk7XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9zZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cdFxuXHR2YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcblx0ICB9XG5cdFxuXHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG5cdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHQgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG5cdCAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdCRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMykuc2V0fSk7XG5cbi8qKiovIH0sXG4vKiAxMDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0dmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBzZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KShGdW5jdGlvbi5jYWxsLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuXHQgICAgICAgIHNldCh0ZXN0LCBbXSk7XG5cdCAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG5cdCAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuXHQgICAgICAgIGNoZWNrKE8sIHByb3RvKTtcblx0ICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuXHQgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcblx0ICAgICAgICByZXR1cm4gTztcblx0ICAgICAgfTtcblx0ICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG5cdCAgY2hlY2s6IGNoZWNrXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuXHQgIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KX0pO1xuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIENVUlZFX1NJWkUgPSAzNTA7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBDVVJWRV9TSVpFOiBDVVJWRV9TSVpFLFxuXHQgIENVUlZFX1BFUkNFTlQ6IENVUlZFX1NJWkUgLyAxMDAsXG5cdCAgQ1VSVkVfUEFERElORzogMTBcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOy8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG5cdCAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG5cdCAqXG5cdCAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG5cdCAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuXHQoZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgZXhwb3J0TmFtZSwgdW5kZWZpbmVkKSB7XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xuXHR2YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFxuXHR2YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7XG5cdFxuXHR2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXHR2YXIgYWJzID0gTWF0aC5hYnM7XG5cdHZhciBub3cgPSBEYXRlLm5vdztcblx0XG5cdC8qKlxuXHQgKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdGltZW91dFxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcblx0ICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnlcblx0ICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG5cdCAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuXHQgKiBAcGFyYW0geyp8QXJyYXl9IGFyZ1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gZm5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0ICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuXHQgKi9cblx0ZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG5cdCAgICB2YXIgaTtcblx0XG5cdCAgICBpZiAoIW9iaikge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAob2JqLmZvckVhY2gpIHtcblx0ICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG5cdCAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm9yIChpIGluIG9iaikge1xuXHQgICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogd3JhcCBhIG1ldGhvZCB3aXRoIGEgZGVwcmVjYXRpb24gd2FybmluZyBhbmQgc3RhY2sgdHJhY2Vcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cblx0ICovXG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcblx0ICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcblx0ICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG5cdCAgICAgICAgICAgIC5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG5cdFxuXHQgICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuXHQgICAgICAgIGlmIChsb2cpIHtcblx0ICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZXh0ZW5kIG9iamVjdC5cblx0ICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcblx0ICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuXHQgKi9cblx0dmFyIGFzc2lnbjtcblx0aWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG5cdCAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcblx0ICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuXHQgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblx0ICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH07XG5cdH0gZWxzZSB7XG5cdCAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZXh0ZW5kIG9iamVjdC5cblx0ICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcblx0ICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3Rcblx0ICovXG5cdHZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcblx0ICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgICAgIGRlc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0ICAgIHJldHVybiBkZXN0O1xuXHR9LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblx0XG5cdC8qKlxuXHQgKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuXHQgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBkZXN0IHdpbGwgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHNyY1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3JjXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3Rcblx0ICovXG5cdHZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcblx0ICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTtcblx0fSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblx0XG5cdC8qKlxuXHQgKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2Vcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG5cdCAqL1xuXHRmdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7XG5cdCAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcblx0ICAgICAgICBjaGlsZFA7XG5cdFxuXHQgICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG5cdCAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcblx0ICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblx0XG5cdCAgICBpZiAocHJvcGVydGllcykge1xuXHQgICAgICAgIGFzc2lnbihjaGlsZFAsIHByb3BlcnRpZXMpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufVxuXHQgKi9cblx0ZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuXHQgKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcblx0ICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcblx0ICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG5cdCAgICBpZiAodHlwZW9mIHZhbCA9PSBUWVBFX0ZVTkNUSU9OKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG5cdCAqIEBwYXJhbSB7Kn0gdmFsMVxuXHQgKiBAcGFyYW0geyp9IHZhbDJcblx0ICogQHJldHVybnMgeyp9XG5cdCAqL1xuXHRmdW5jdGlvbiBpZlVuZGVmaW5lZCh2YWwxLCB2YWwyKSB7XG5cdCAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICovXG5cdGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcblx0ICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG5cdCAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2Vcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAqL1xuXHRmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG5cdCAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuXHQgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuXHQgKiBAbWV0aG9kIGhhc1BhcmVudFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuXHQgKi9cblx0ZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuXHQgICAgd2hpbGUgKG5vZGUpIHtcblx0ICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcblx0ICovXG5cdGZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkge1xuXHQgICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcblx0ICovXG5cdGZ1bmN0aW9uIHNwbGl0U3RyKHN0cikge1xuXHQgICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cblx0ICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcblx0ICovXG5cdGZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcblx0ICAgIGlmIChzcmMuaW5kZXhPZiAmJiAhZmluZEJ5S2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogY29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gcmVhbCBhcnJheXNcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcmV0dXJucyB7QXJyYXl9XG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FycmF5KG9iaikge1xuXHQgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcblx0ICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG5cdCAqL1xuXHRmdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuXHQgICAgdmFyIHJlc3VsdHMgPSBbXTtcblx0ICAgIHZhciB2YWx1ZXMgPSBbXTtcblx0ICAgIHZhciBpID0gMDtcblx0XG5cdCAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG5cdCAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuXHQgICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc29ydCkge1xuXHQgICAgICAgIGlmICgha2V5KSB7XG5cdCAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIHNvcnRVbmlxdWVBcnJheShhLCBiKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdHM7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG5cdCAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuXHQgKi9cblx0ZnVuY3Rpb24gcHJlZml4ZWQob2JqLCBwcm9wZXJ0eSkge1xuXHQgICAgdmFyIHByZWZpeCwgcHJvcDtcblx0ICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cdFxuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG5cdCAgICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuXHQgICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXHRcblx0ICAgICAgICBpZiAocHJvcCBpbiBvYmopIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0ICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgYSB1bmlxdWUgaWRcblx0ICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcblx0ICovXG5cdHZhciBfdW5pcXVlSWQgPSAxO1xuXHRmdW5jdGlvbiB1bmlxdWVJZCgpIHtcblx0ICAgIHJldHVybiBfdW5pcXVlSWQrKztcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgd2luZG93IG9iamVjdCBvZiBhbiBlbGVtZW50XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcblx0ICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcblx0ICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcblx0fVxuXHRcblx0dmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcblx0XG5cdHZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG5cdHZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luZG93LCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcblx0dmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cdFxuXHR2YXIgSU5QVVRfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG5cdHZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xuXHR2YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG5cdHZhciBJTlBVVF9UWVBFX0tJTkVDVCA9ICdraW5lY3QnO1xuXHRcblx0dmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblx0XG5cdHZhciBJTlBVVF9TVEFSVCA9IDE7XG5cdHZhciBJTlBVVF9NT1ZFID0gMjtcblx0dmFyIElOUFVUX0VORCA9IDQ7XG5cdHZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXHRcblx0dmFyIERJUkVDVElPTl9OT05FID0gMTtcblx0dmFyIERJUkVDVElPTl9MRUZUID0gMjtcblx0dmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG5cdHZhciBESVJFQ1RJT05fVVAgPSA4O1xuXHR2YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblx0XG5cdHZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xuXHR2YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG5cdHZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cdFxuXHR2YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xuXHR2YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblx0XG5cdC8qKlxuXHQgKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcblx0ICogQHJldHVybnMge0lucHV0fVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuXHQgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHQgICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cdFxuXHQgICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsXG5cdCAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG5cdCAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuXHQgICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG5cdCAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLmluaXQoKTtcblx0XG5cdH1cblx0XG5cdElucHV0LnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBiaW5kIHRoZSBldmVudHNcblx0ICAgICAqL1xuXHQgICAgaW5pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdW5iaW5kIHRoZSBldmVudHNcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcblx0ICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG5cdCAqIEByZXR1cm5zIHtJbnB1dH1cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuXHQgICAgdmFyIFR5cGU7XG5cdCAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXHRcblx0ICAgIGlmIChpbnB1dENsYXNzKSB7XG5cdCAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG5cdCAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcblx0ICAgICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG5cdCAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuXHQgICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuXHQgICAgfSBlbHNlIGlmICghU1VQUE9SVF9UT1VDSCkge1xuXHQgICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGhhbmRsZSBpbnB1dCBldmVudHNcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuXHQgICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuXHQgICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG5cdCAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblx0ICAgIHZhciBpc0ZpbmFsID0gKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXHRcblx0ICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG5cdCAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsO1xuXHRcblx0ICAgIGlmIChpc0ZpcnN0KSB7XG5cdCAgICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gc291cmNlIGV2ZW50IGlzIHRoZSBub3JtYWxpemVkIHZhbHVlIG9mIHRoZSBkb21FdmVudHNcblx0ICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuXHQgICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXHRcblx0ICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuXHQgICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cdFxuXHQgICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcblx0ICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXHRcblx0ICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcblx0ICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcblx0ICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG5cdCAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcblx0ICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzO1xuXHQgICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXHRcblx0ICAgIC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cblx0ICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcblx0ICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcblx0ICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDtcblx0ICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuXHQgICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXHRcblx0ICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuXHQgICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG5cdCAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcblx0XG5cdCAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblx0ICAgIGlucHV0LmRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXHRcblx0ICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcblx0ICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cdFxuXHQgICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXHQgICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuXHQgICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuXHQgICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cdFxuXHQgICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcblx0ICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cdFxuXHQgICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG5cdCAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXHRcblx0ICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cdFxuXHQgICAgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcblx0ICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG5cdCAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuXHQgICAgICAgIHRhcmdldCA9IGlucHV0LnNyY0V2ZW50LnRhcmdldDtcblx0ICAgIH1cblx0ICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcblx0ICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cdCAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcblx0ICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcblx0ICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblx0XG5cdCAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcblx0ICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHtcblx0ICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuXHQgICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuXHQgICAgICAgICAgICB4OiBjZW50ZXIueCxcblx0ICAgICAgICAgICAgeTogY2VudGVyLnlcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuXHQgICAgaW5wdXQuZGVsdGFZID0gcHJldkRlbHRhLnkgKyAoY2VudGVyLnkgLSBvZmZzZXQueSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcblx0ICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cblx0ICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcblx0ICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsXG5cdCAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG5cdCAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cdFxuXHQgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuXHQgICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcblx0ICAgICAgICB2YXIgZGVsdGFZID0gaW5wdXQuZGVsdGFZIC0gbGFzdC5kZWx0YVk7XG5cdFxuXHQgICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG5cdCAgICAgICAgdmVsb2NpdHlYID0gdi54O1xuXHQgICAgICAgIHZlbG9jaXR5WSA9IHYueTtcblx0ICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcblx0ICAgICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuXHRcblx0ICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG5cdCAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuXHQgICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYO1xuXHQgICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuXHQgICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuXHQgICAgfVxuXHRcblx0ICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG5cdCAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG5cdCAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG5cdCAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjcmVhdGUgYSBzaW1wbGUgY2xvbmUgZnJvbSB0aGUgaW5wdXQgdXNlZCBmb3Igc3RvcmFnZSBvZiBmaXJzdElucHV0IGFuZCBmaXJzdE11bHRpcGxlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcblx0ICovXG5cdGZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG5cdCAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3Rcblx0ICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuXHQgICAgdmFyIHBvaW50ZXJzID0gW107XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCkge1xuXHQgICAgICAgIHBvaW50ZXJzW2ldID0ge1xuXHQgICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcblx0ICAgICAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHRpbWVTdGFtcDogbm93KCksXG5cdCAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuXHQgICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcblx0ICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcblx0ICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcblx0ICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcblx0ICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG5cdCAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cdFxuXHQgICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcblx0ICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuXHQgICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG5cdCAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuXHQgICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuXHQgICAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcblx0ICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cblx0ICovXG5cdGZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG5cdCAgICBpZiAoeCA9PT0geSkge1xuXHQgICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuXHQgICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuXHQgKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cblx0ICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG5cdCAgICBpZiAoIXByb3BzKSB7XG5cdCAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcblx0ICAgIH1cblx0ICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuXHQgICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cdFxuXHQgICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcDJcblx0ICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG5cdCAgICBpZiAoIXByb3BzKSB7XG5cdCAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcblx0ICAgIH1cblx0ICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuXHQgICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cdCAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcblx0ICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cblx0ICovXG5cdGZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcblx0ICAgIHJldHVybiBnZXRBbmdsZShlbmRbMV0sIGVuZFswXSwgUFJPUFNfQ0xJRU5UX1hZKSArIGdldEFuZ2xlKHN0YXJ0WzFdLCBzdGFydFswXSwgUFJPUFNfQ0xJRU5UX1hZKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG5cdCAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuXHQgKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuXHQgICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xuXHR9XG5cdFxuXHR2YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuXHQgICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcblx0ICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIG1vdXNldXA6IElOUFVUX0VORFxuXHR9O1xuXHRcblx0dmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG5cdHZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcblx0XG5cdC8qKlxuXHQgKiBNb3VzZSBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuXHQgICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG5cdCAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcblx0XG5cdCAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gTUVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblx0XG5cdCAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG5cdCAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuXHQgICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcblx0ICAgICAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gbW91c2UgbXVzdCBiZSBkb3duXG5cdCAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdHZhciBQT0lOVEVSX0lOUFVUX01BUCA9IHtcblx0ICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcblx0ICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgcG9pbnRlcnVwOiBJTlBVVF9FTkQsXG5cdCAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG5cdCAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdC8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG5cdHZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0ge1xuXHQgICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcblx0ICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuXHQgICAgNDogSU5QVVRfVFlQRV9NT1VTRSxcblx0ICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxuXHR9O1xuXHRcblx0dmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xuXHR2YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblx0XG5cdC8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuXHRpZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG5cdCAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuXHQgICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblx0XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHRoaXMuc3RvcmUgPSAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cyA9IFtdKTtcblx0fVxuXHRcblx0aW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG5cdCAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG5cdCAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuXHQgICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXHRcblx0ICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblx0XG5cdCAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcblx0ICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXHRcblx0ICAgICAgICAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG5cdCAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcblx0ICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG5cdCAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcblx0ICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuXHQgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuXHQgICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG5cdCAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuXHQgICAgICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9KTtcblx0XG5cdHZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuXHQgICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG5cdCAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG5cdCAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuXHQgICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxuXHR9O1xuXHRcblx0dmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xuXHR2YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXHRcblx0LyoqXG5cdCAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2VGFyZ2V0ID0gU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFM7XG5cdCAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG5cdCAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cdFxuXHQgICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cblx0ICAgICAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblx0XG5cdCAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuXHQgICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogQHRoaXMge1RvdWNoSW5wdXR9XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG5cdCAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG5cdCAqL1xuXHRmdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG5cdCAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcblx0ICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cdFxuXHQgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xuXHR9XG5cdFxuXHR2YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuXHQgICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG5cdCAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG5cdCAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuXHQgICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxuXHR9O1xuXHRcblx0dmFyIFRPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXHRcblx0LyoqXG5cdCAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuXHQgICAgdGhpcy50YXJnZXRJZHMgPSB7fTtcblx0XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBNVEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cdCAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXHQgICAgICAgIGlmICghdG91Y2hlcykge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEB0aGlzIHtUb3VjaElucHV0fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuXHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuXHQgICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuXHQgICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzO1xuXHRcblx0ICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG5cdCAgICBpZiAodHlwZSAmIChJTlBVVF9TVEFSVCB8IElOUFVUX01PVkUpICYmIGFsbFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGksXG5cdCAgICAgICAgdGFyZ2V0VG91Y2hlcyxcblx0ICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuXHQgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG5cdCAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cdFxuXHQgICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuXHQgICAgdGFyZ2V0VG91Y2hlcyA9IGFsbFRvdWNoZXMuZmlsdGVyKGZ1bmN0aW9uKHRvdWNoKSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICAvLyBjb2xsZWN0IHRvdWNoZXNcblx0ICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcblx0ICAgIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcblx0ICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG5cdCAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcblx0ICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNoYW5nZWRUYXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gW1xuXHQgICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuXHQgICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSxcblx0ICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuXHQgICAgXTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuXHQgKlxuXHQgKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cblx0ICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuXHQgKlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdFxuXHR2YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG5cdHZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXHRcblx0ZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkge1xuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB2YXIgaGFuZGxlciA9IGJpbmRGbih0aGlzLmhhbmRsZXIsIHRoaXMpO1xuXHQgICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cdCAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblx0XG5cdCAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG5cdCAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG5cdH1cblx0XG5cdGluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRNRWhhbmRsZXIobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKSB7XG5cdCAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuXHQgICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblx0XG5cdCAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcblx0ICAgICAgICBpZiAoaXNUb3VjaCkge1xuXHQgICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayhtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdCAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG5cdCAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuXHQgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG5cdCAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG5cdCAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXHRcblx0ICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnByaW1hcnlUb3VjaCkge1xuXHQgICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG5cdCAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG5cdCAgICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG5cdCAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG5cdCAgICAgICAgICAgIGlmIChpID4gLTEpIHtcblx0ICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcblx0ICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFgsIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcblx0ICAgICAgICB2YXIgZHggPSBNYXRoLmFicyh4IC0gdC54KSwgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcblx0ICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHR2YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcblx0dmFyIE5BVElWRV9UT1VDSF9BQ1RJT04gPSBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gIT09IHVuZGVmaW5lZDtcblx0XG5cdC8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcblx0dmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG5cdHZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxuXHR2YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15Jztcblx0dmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cdFxuXHQvKipcblx0ICogVG91Y2ggQWN0aW9uXG5cdCAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkge1xuXHQgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcblx0ICAgIHRoaXMuc2V0KHZhbHVlKTtcblx0fVxuXHRcblx0VG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcblx0ICAgICAgICBpZiAodmFsdWUgPT0gVE9VQ0hfQUNUSU9OX0NPTVBVVEUpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGNvbXB1dGUgdGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlY29nbml6ZXIncyBzZXR0aW5nc1xuXHQgICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgY29tcHV0ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcblx0ICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuXHQgICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXHRcblx0ICAgICAgICAvLyBpZiB0aGUgdG91Y2ggYWN0aW9uIGRpZCBwcmV2ZW50ZWQgb25jZSB0aGlzIHNlc3Npb25cblx0ICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG5cdCAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuXHQgICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcblx0ICAgICAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9YXTtcblx0XG5cdCAgICAgICAgaWYgKGhhc05vbmUpIHtcblx0ICAgICAgICAgICAgLy9kbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcblx0XG5cdCAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG5cdCAgICAgICAgICAgIHZhciBpc1RhcE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCAyO1xuXHQgICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuXHQgICAgICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChoYXNOb25lIHx8XG5cdCAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuXHQgICAgICAgICAgICAoaGFzUGFuWCAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcylcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuXHQgICAgICovXG5cdCAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkge1xuXHQgICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG5cdCAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcblx0ICogQHJldHVybnMgeyp9XG5cdCAqL1xuXHRmdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG5cdCAgICAvLyBub25lXG5cdCAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG5cdCAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcblx0ICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblx0XG5cdCAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcblx0ICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuXHQgICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG5cdCAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuXHQgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBwYW4teCBPUiBwYW4teVxuXHQgICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuXHQgICAgICAgIHJldHVybiBoYXNQYW5YID8gVE9VQ0hfQUNUSU9OX1BBTl9YIDogVE9VQ0hfQUNUSU9OX1BBTl9ZO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIG1hbmlwdWxhdGlvblxuXHQgICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG5cdCAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuXHQgICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdmFyIHRvdWNoTWFwID0ge307XG5cdCAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG5cdCAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXHRcblx0ICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcblx0ICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG5cdCAgICAgICAgdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luZG93LkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB0b3VjaE1hcDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcblx0ICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuXHQgKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcblx0ICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG5cdCAqXG5cdCAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcblx0ICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cblx0ICpcblx0ICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuXHQgKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuXHQgKlxuXHQgKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG5cdCAqICAgICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG5cdCAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG5cdCAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG5cdCAqL1xuXHR2YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xuXHR2YXIgU1RBVEVfQkVHQU4gPSAyO1xuXHR2YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG5cdHZhciBTVEFURV9FTkRFRCA9IDg7XG5cdHZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7XG5cdHZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcblx0dmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXHRcblx0LyoqXG5cdCAqIFJlY29nbml6ZXJcblx0ICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICovXG5cdGZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuXHQgICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblx0XG5cdCAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblx0XG5cdCAgICB0aGlzLm1hbmFnZXIgPSBudWxsO1xuXHRcblx0ICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcblx0ICAgIHRoaXMub3B0aW9ucy5lbmFibGUgPSBpZlVuZGVmaW5lZCh0aGlzLm9wdGlvbnMuZW5hYmxlLCB0cnVlKTtcblx0XG5cdCAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cdFxuXHQgICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcblx0ICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcblx0fVxuXHRcblx0UmVjb2duaXplci5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKiBAdHlwZSB7T2JqZWN0fVxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge30sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICAgICAqIEByZXR1cm4ge1JlY29nbml6ZXJ9XG5cdCAgICAgKi9cblx0ICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXHRcblx0ICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuXHQgICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuXHQgICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcblx0ICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlY29nbml6ZVdpdGgodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcblx0ICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuXHQgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcblx0ICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcblx0ICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG5cdCAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgICAgICovXG5cdCAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuXHQgICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcblx0ICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcblx0ICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuXHQgICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblx0XG5cdCAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcblx0ICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcblx0ICAgICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcblx0ICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG5cdCAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG5cdCAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcblx0ICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGNhbiB3ZSBlbWl0P1xuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG5cdCAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGFcblx0ICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuXHQgICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblx0XG5cdCAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG5cdCAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfUkVDT0dOSVpFRCB8IFNUQVRFX0NBTkNFTExFRCB8IFNUQVRFX0ZBSUxFRCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cdFxuXHQgICAgICAgIC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuXHQgICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcblx0ICAgICAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuXHQgICAgICogdGhlIGFjdHVhbCByZWNvZ25pemluZyBoYXBwZW5zIGluIHRoaXMgbWV0aG9kXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICogQHJldHVybnMge0NvbnN0fSBTVEFURVxuXHQgICAgICovXG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGNhbGxlZCB3aGVuIHRoZSBnZXN0dXJlIGlzbid0IGFsbG93ZWQgdG8gcmVjb2duaXplXG5cdCAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICovXG5cdCAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcblx0ICogQHBhcmFtIHtDb25zdH0gc3RhdGVcblx0ICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcblx0ICovXG5cdGZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG5cdCAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcblx0ICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG5cdCAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfRU5ERUQpIHtcblx0ICAgICAgICByZXR1cm4gJ2VuZCc7XG5cdCAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuXHQgICAgICAgIHJldHVybiAnbW92ZSc7XG5cdCAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcblx0ICAgICAgICByZXR1cm4gJ3N0YXJ0Jztcblx0ICAgIH1cblx0ICAgIHJldHVybiAnJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuXHQgKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb25cblx0ICogQHJldHVybnMge1N0cmluZ31cblx0ICovXG5cdGZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcblx0ICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcblx0ICAgICAgICByZXR1cm4gJ2Rvd24nO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7XG5cdCAgICAgICAgcmV0dXJuICd1cCc7XG5cdCAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuXHQgICAgICAgIHJldHVybiAnbGVmdCc7XG5cdCAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcblx0ICAgICAgICByZXR1cm4gJ3JpZ2h0Jztcblx0ICAgIH1cblx0ICAgIHJldHVybiAnJztcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcblx0ICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG5cdCAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuXHQgKiBAcmV0dXJucyB7UmVjb2duaXplcn1cblx0ICovXG5cdGZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG5cdCAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcblx0ICAgIGlmIChtYW5hZ2VyKSB7XG5cdCAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3RoZXJSZWNvZ25pemVyO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG5cdCAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAgICAgKiBAZGVmYXVsdCAxXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcG9pbnRlcnM6IDFcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG5cdCAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcblx0ICAgICAqL1xuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuXHQgICAgICAgIHJldHVybiBvcHRpb25Qb2ludGVycyA9PT0gMCB8fCBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvblBvaW50ZXJzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuXHQgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuXHQgICAgICovXG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblx0XG5cdCAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG5cdCAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblx0XG5cdCAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuXHQgICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0FOQ0VMTEVEO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcblx0ICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfRU5ERUQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFBhblxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG5cdCAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHRoaXMucFggPSBudWxsO1xuXHQgICAgdGhpcy5wWSA9IG51bGw7XG5cdH1cblx0XG5cdGluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3BhbicsXG5cdCAgICAgICAgdGhyZXNob2xkOiAxMCxcblx0ICAgICAgICBwb2ludGVyczogMSxcblx0ICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG5cdCAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG5cdCAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gYWN0aW9ucztcblx0ICAgIH0sXG5cdFxuXHQgICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0ICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuXHQgICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG5cdCAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG5cdCAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cdFxuXHQgICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cblx0ICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcblx0ICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcblx0ICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuXHQgICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG5cdCAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcblx0ICAgICAgICAgICAgICAgIGhhc01vdmVkID0geSAhPSB0aGlzLnBZO1xuXHQgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblx0ICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHRcblx0ICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuXHQgICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cdFxuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblx0XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuXHQgICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFBpbmNoXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBQaW5jaFJlY29nbml6ZXIoKSB7XG5cdCAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncGluY2gnLFxuXHQgICAgICAgIHRocmVzaG9sZDogMCxcblx0ICAgICAgICBwb2ludGVyczogMlxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQuc2NhbGUgLSAxKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcblx0ICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuXHQgICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBpbk91dDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUHJlc3Ncblx0ICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7XG5cdCAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuXHQgICAgdGhpcy5faW5wdXQgPSBudWxsO1xuXHR9XG5cdFxuXHRpbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgdGltZTogMjUxLCAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuXHQgICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG5cdCAgICB9LFxuXHRcblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdCAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG5cdCAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuXHQgICAgICAgIHZhciB2YWxpZFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPiBvcHRpb25zLnRpbWU7XG5cdFxuXHQgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cdFxuXHQgICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG5cdCAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuXHQgICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcblx0ICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBSb3RhdGVcblx0ICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChSb3RhdGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUm90YXRlUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncm90YXRlJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDJcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogU3dpcGVcblx0ICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIoKSB7XG5cdCAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuXHQgICAgICAgIHRocmVzaG9sZDogMTAsXG5cdCAgICAgICAgdmVsb2NpdHk6IDAuMyxcblx0ICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gUGFuUmVjb2duaXplci5wcm90b3R5cGUuZ2V0VG91Y2hBY3Rpb24uY2FsbCh0aGlzKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICAgICAgdmFyIHZlbG9jaXR5O1xuXHRcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuXHQgICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG5cdCAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuXHQgICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG5cdCAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuXHQgICAgICAgICAgICBpbnB1dC5tYXhQb2ludGVycyA9PSB0aGlzLm9wdGlvbnMucG9pbnRlcnMgJiZcblx0ICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuXHQgICAgICAgIGlmIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogQSB0YXAgaXMgZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG9pbmcgYSBzbWFsbCB0YXAvY2xpY2suIE11bHRpcGxlIHRhcHMgYXJlIHJlY29nbml6ZWQgaWYgdGhleSBvY2N1clxuXHQgKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcblx0ICogYSBzaW5nbGUgdGFwLlxuXHQgKlxuXHQgKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2Zcblx0ICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gVGFwUmVjb2duaXplcigpIHtcblx0ICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsXG5cdCAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcblx0ICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcblx0ICAgIHRoaXMucENlbnRlciA9IGZhbHNlO1xuXHRcblx0ICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcblx0ICAgIHRoaXMuY291bnQgPSAwO1xuXHR9XG5cdFxuXHRpbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAndGFwJyxcblx0ICAgICAgICBwb2ludGVyczogMSxcblx0ICAgICAgICB0YXBzOiAxLFxuXHQgICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG5cdCAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuXHQgICAgICAgIHRocmVzaG9sZDogOSwgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcblx0ICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG5cdCAgICB9LFxuXHRcblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdFxuXHQgICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuXHQgICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcblx0ICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cdFxuXHQgICAgICAgIHRoaXMucmVzZXQoKTtcblx0XG5cdCAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuXHQgICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcblx0ICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG5cdCAgICAgICAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcblx0ICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblx0XG5cdCAgICAgICAgICAgIC8vIGlmIHRhcCBjb3VudCBtYXRjaGVzIHdlIGhhdmUgcmVjb2duaXplZCBpdCxcblx0ICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cblx0ICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcblx0ICAgICAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG5cdCAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcblx0ICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuXHQgICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcblx0ICAgICAgICAgICAgdGhpcy5faW5wdXQudGFwQ291bnQgPSB0aGlzLmNvdW50O1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcblx0ICAgIHJldHVybiBuZXcgTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEBjb25zdCB7c3RyaW5nfVxuXHQgKi9cblx0SGFtbWVyLlZFUlNJT04gPSAnMi4wLjcnO1xuXHRcblx0LyoqXG5cdCAqIGRlZmF1bHQgc2V0dGluZ3Ncblx0ICogQG5hbWVzcGFjZVxuXHQgKi9cblx0SGFtbWVyLmRlZmF1bHRzID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuXHQgICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC5cblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICogQGRlZmF1bHQgZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgZG9tRXZlbnRzOiBmYWxzZSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuXHQgICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG5cdCAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICogQGRlZmF1bHQgY29tcHV0ZVxuXHQgICAgICovXG5cdCAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgZW5hYmxlOiB0cnVlLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZFxuXHQgICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG5cdCAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuXHQgICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9XG5cdCAgICAgKiBAZGVmYXVsdCBudWxsXG5cdCAgICAgKi9cblx0ICAgIGlucHV0VGFyZ2V0OiBudWxsLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3Ncblx0ICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuXHQgICAgICogQGRlZmF1bHQgbnVsbFxuXHQgICAgICovXG5cdCAgICBpbnB1dENsYXNzOiBudWxsLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG5cdCAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICBwcmVzZXQ6IFtcblx0ICAgICAgICAvLyBSZWNvZ25pemVyQ2xhc3MsIG9wdGlvbnMsIFtyZWNvZ25pemVXaXRoLCAuLi5dLCBbcmVxdWlyZUZhaWx1cmUsIC4uLl1cblx0ICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcblx0ICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuXHQgICAgICAgIFtTd2lwZVJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfV0sXG5cdCAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcblx0ICAgICAgICBbVGFwUmVjb2duaXplcl0sXG5cdCAgICAgICAgW1RhcFJlY29nbml6ZXIsIHtldmVudDogJ2RvdWJsZXRhcCcsIHRhcHM6IDJ9LCBbJ3RhcCddXSxcblx0ICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuXHQgICAgXSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG5cdCAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKi9cblx0ICAgIGNzc1Byb3BzOiB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG5cdCAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG5cdCAgICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVzZXJEcmFnOiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG5cdCAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuXHQgICAgfVxuXHR9O1xuXHRcblx0dmFyIFNUT1AgPSAxO1xuXHR2YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXHRcblx0LyoqXG5cdCAqIE1hbmFnZXJcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cdFxuXHQgICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG5cdFxuXHQgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuXHQgICAgdGhpcy5zZXNzaW9uID0ge307XG5cdCAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG5cdCAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cdFxuXHQgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0ICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuXHQgICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXHRcblx0ICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXHRcblx0ICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcblx0ICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcblx0ICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG5cdCAgICB9LCB0aGlzKTtcblx0fVxuXHRcblx0TWFuYWdlci5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNldCBvcHRpb25zXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgICAgICogQHJldHVybnMge01hbmFnZXJ9XG5cdCAgICAgKi9cblx0ICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXHRcblx0ICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG5cdCAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcblx0ICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcblx0ICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cblx0ICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG5cdCAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cblx0ICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuXHQgICAgICovXG5cdCAgICBzdG9wOiBmdW5jdGlvbihmb3JjZSkge1xuXHQgICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcblx0ICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcblx0ICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuXHQgICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuXHQgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcblx0ICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXHRcblx0ICAgICAgICB2YXIgcmVjb2duaXplcjtcblx0ICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXHRcblx0ICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cblx0ICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG5cdCAgICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuXHQgICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXHRcblx0ICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuXHQgICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuXHQgICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcblx0ICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXHRcblx0ICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuXHQgICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcblx0ICAgICAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG5cdCAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuXHQgICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cblx0ICAgICAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG5cdCAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuXHQgICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG5cdCAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkgeyAvLyAzXG5cdCAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuXHQgICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcblx0ICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxOdWxsfVxuXHQgICAgICovXG5cdCAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT0gcmVjb2duaXplcikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcblx0ICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cblx0ICAgICAqL1xuXHQgICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuXHQgICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG5cdCAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMucmVjb2duaXplcnMucHVzaChyZWNvZ25pemVyKTtcblx0ICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge01hbmFnZXJ9XG5cdCAgICAgKi9cblx0ICAgIHJlbW92ZTogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cdFxuXHQgICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG5cdCAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYmluZCBldmVudFxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBvbjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuXHQgICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuXHQgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG5cdCAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG5cdCAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdCAgICAgKi9cblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG5cdCAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuXHQgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9tRXZlbnRzKSB7XG5cdCAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcblx0ICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuXHQgICAgICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcblx0ICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG5cdCAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuXHRcblx0ICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG5cdCAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG5cdCAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG5cdCAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtCb29sZWFufSBhZGRcblx0ICovXG5cdGZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuXHQgICAgdmFyIGVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG5cdCAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvcDtcblx0ICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuXHQgICAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcblx0ICAgICAgICBpZiAoYWRkKSB7XG5cdCAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuXHQgICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBpZiAoIWFkZCkge1xuXHQgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHRyaWdnZXIgZG9tIGV2ZW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgKi9cblx0ZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7XG5cdCAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdCAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcblx0ICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcblx0ICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcblx0fVxuXHRcblx0YXNzaWduKEhhbW1lciwge1xuXHQgICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuXHQgICAgSU5QVVRfTU9WRTogSU5QVVRfTU9WRSxcblx0ICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuXHQgICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cdFxuXHQgICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuXHQgICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuXHQgICAgU1RBVEVfQ0hBTkdFRDogU1RBVEVfQ0hBTkdFRCxcblx0ICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcblx0ICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG5cdCAgICBTVEFURV9DQU5DRUxMRUQ6IFNUQVRFX0NBTkNFTExFRCxcblx0ICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXHRcblx0ICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSxcblx0ICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcblx0ICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuXHQgICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsXG5cdCAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG5cdCAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG5cdCAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCxcblx0ICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cdFxuXHQgICAgTWFuYWdlcjogTWFuYWdlcixcblx0ICAgIElucHV0OiBJbnB1dCxcblx0ICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblx0XG5cdCAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuXHQgICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcblx0ICAgIFBvaW50ZXJFdmVudElucHV0OiBQb2ludGVyRXZlbnRJbnB1dCxcblx0ICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuXHQgICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblx0XG5cdCAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuXHQgICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuXHQgICAgVGFwOiBUYXBSZWNvZ25pemVyLFxuXHQgICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuXHQgICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcblx0ICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsXG5cdCAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG5cdCAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXHRcblx0ICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcblx0ICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG5cdCAgICBlYWNoOiBlYWNoLFxuXHQgICAgbWVyZ2U6IG1lcmdlLFxuXHQgICAgZXh0ZW5kOiBleHRlbmQsXG5cdCAgICBhc3NpZ246IGFzc2lnbixcblx0ICAgIGluaGVyaXQ6IGluaGVyaXQsXG5cdCAgICBiaW5kRm46IGJpbmRGbixcblx0ICAgIHByZWZpeGVkOiBwcmVmaXhlZFxuXHR9KTtcblx0XG5cdC8vIHRoaXMgcHJldmVudHMgZXJyb3JzIHdoZW4gSGFtbWVyIGlzIGxvYWRlZCBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EXG5cdC8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxuXHR2YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cdGZyZWVHbG9iYWwuSGFtbWVyID0gSGFtbWVyO1xuXHRcblx0aWYgKHRydWUpIHtcblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gSGFtbWVyO1xuXHQgICAgfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIGV4cG9ydHMsIG1vZHVsZSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcblx0fSBlbHNlIHtcblx0ICAgIHdpbmRvd1tleHBvcnROYW1lXSA9IEhhbW1lcjtcblx0fVxuXHRcblx0fSkod2luZG93LCBkb2N1bWVudCwgJ0hhbW1lcicpO1xuXG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyd1c2Ugc3RyaWN0Jztcblx0XG5cdChmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQgIGlmICh0cnVlKSB7XG5cdCAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAvLyBsaWtlIE5vZGUuXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcblx0ICB9XG5cdH0oZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblx0XG5cdCAgLyoqXG5cdCAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuXHQgICAqXG5cdCAgICogRmVhdHVyZXM6XG5cdCAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcblx0ICAgKiAgIGVsZW1lbnRzLlxuXHQgICAqIC0gRXZlbnRzIGFyZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gYGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpYCB0byBzdG9wXG5cdCAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG5cdCAgICogLSBBbiBvcHRpb24gYHByZXZlbnREZWZhdWx0YCB0byBzdG9wIGFsbCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG5cdCAgICpcblx0ICAgKiBVc2FnZTpcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpKTtcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpLCB7cHJldmVudERlZmF1bHQ6IHRydWV9KTtcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7SGFtbWVyLk1hbmFnZXJ9IGhhbW1lciAgIEFuIGhhbW1lciBpbnN0YW5jZS5cblx0ICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgb3B0aW9uczpcblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBiZSBzZXQgdG8gYGZhbHNlYC5cblx0ICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5XG5cdCAgICovXG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuXHQgICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyB8fCB7XG5cdCAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZVxuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHtcblx0ICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG5cdCAgICAgIC8vIE92ZXJsb2FkIHRoZSBjb25zdHJ1Y3RvcnMgd2l0aCBvdXIgb3duLlxuXHQgICAgICB2YXIgSGFtbWVyID0gaGFtbWVyO1xuXHRcblx0ICAgICAgdmFyIFByb3BhZ2F0aW5nSGFtbWVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIoZWxlbWVudCwgbyksIG8pO1xuXHQgICAgICB9O1xuXHQgICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXHRcblx0ICAgICAgUHJvcGFnYXRpbmdIYW1tZXIuTWFuYWdlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcblx0ICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsZW1lbnQsIG8pLCBvKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBmdW5jdGlvbnNcblx0ICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgdmFyIHdyYXBwZXIgPSBPYmplY3QuY3JlYXRlKGhhbW1lcik7XG5cdFxuXHQgICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG5cdCAgICB2YXIgZWxlbWVudCA9IGhhbW1lci5lbGVtZW50O1xuXHRcblx0ICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcblx0ICAgIGVsZW1lbnQuaGFtbWVyLnB1c2god3JhcHBlcik7XG5cdFxuXHQgICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG5cdCAgICAvLyB0YXJnZXQgaW4gYSBzaW5nbGV0b25cblx0ICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcblx0ICAgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIEFycmF5LjxmdW5jdGlvbj4+fSAqL1xuXHQgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayBmdW5jdGlvbiwgY2FsbGVkIGFzIGhhbmRsZXIoZXZlbnQpXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuXHQgICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuXHQgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzID0gW107XG5cdFxuXHQgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG5cdCAgICAgICAgICBoYW1tZXIub24oZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQsIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4gZXZlbnRzXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHJlbW92ZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIub2ZmID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG5cdCAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgIGlmIChfaGFuZGxlcnMpIHtcblx0ICAgICAgICAgIF9oYW5kbGVycyA9IGhhbmRsZXIgPyBfaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuXHQgICAgICAgICAgfSkgOiBbXTtcblx0XG5cdCAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuXHQgICAgICAgICAgICBoYW1tZXIub2ZmKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVtaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuXHQgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuXHQgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIGhhbW1lci5lbWl0KGV2ZW50VHlwZSwgZXZlbnQpO1xuXHQgICAgfTtcblx0XG5cdCAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG5cdCAgICAgIHZhciBoYW1tZXJzID0gaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXHQgICAgICB2YXIgaWR4ID0gaGFtbWVycy5pbmRleE9mKHdyYXBwZXIpO1xuXHQgICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgIGlmKCFoYW1tZXJzLmxlbmd0aCkgZGVsZXRlIGhhbW1lci5lbGVtZW50LmhhbW1lcjtcblx0XG5cdCAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuXHQgICAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXHRcblx0ICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuXHQgICAgICBoYW1tZXIuZGVzdHJveSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBzcGxpdCBhIHN0cmluZyB3aXRoIHNwYWNlIHNlcGFyYXRlZCB3b3Jkc1xuXHQgICAgZnVuY3Rpb24gc3BsaXQoZXZlbnRzKSB7XG5cdCAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzdGF0aWMgZXZlbnQgaGFuZGxlciwgYXBwbHlpbmcgZXZlbnQgcHJvcGFnYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcHJvcGFnYXRlZEhhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgLy8gbGV0IG9ubHkgYSBzaW5nbGUgaGFtbWVyIGluc3RhbmNlIGhhbmRsZSB0aGlzIGV2ZW50XG5cdCAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuXHQgICAgICAgIC8vIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIHNhbWUgc3JjRXZlbnQgaXMgdXNlZCB3aXRoIG11bHRpcGxlIGhhbW1lciBldmVudHMsXG5cdCAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvbiB3aGljaCBldmVudHMgYXJlIGhhbmRsZWQgaW4gYW4gb2JqZWN0IF9oYW5kbGVkXG5cdCAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuXHQgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQgPSB7fTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcblx0ICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcblx0ICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuXHQgICAgICB2YXIgc3JjU3RvcCA9IGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbi5iaW5kKGV2ZW50LnNyY0V2ZW50KTtcblx0ICAgICAgaWYodHlwZW9mIHNyY1N0b3AgPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICAgIHNyY1N0b3AoKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuXHQgICAgICBldmVudC5maXJzdFRhcmdldCA9IF9maXJzdFRhcmdldDtcblx0XG5cdCAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcblx0ICAgICAgdmFyIGVsZW0gPSBfZmlyc3RUYXJnZXQ7XG5cdCAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7XG5cdCAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcblx0ICAgICAgICBpZihlbGVtSGFtbWVyKXtcblx0ICAgICAgICAgIHZhciBfaGFuZGxlcnM7XG5cdCAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG5cdCAgICAgICAgICAgIF9oYW5kbGVycyA9IGVsZW1IYW1tZXJba10uX2hhbmRsZXJzW2V2ZW50LnR5cGVdO1xuXHQgICAgICAgICAgICBpZihfaGFuZGxlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgX2hhbmRsZXJzLmxlbmd0aCAmJiAhc3RvcHBlZDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgfTtcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiAxMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHMucGFyc2VBY3Rpb25zID0gcGFyc2VBY3Rpb25zO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB1bmRvYWJsZTtcblx0ZXhwb3J0cy5kaXN0aW5jdFN0YXRlID0gZGlzdGluY3RTdGF0ZTtcblx0ZXhwb3J0cy5pbmNsdWRlQWN0aW9uID0gaW5jbHVkZUFjdGlvbjtcblx0ZXhwb3J0cy5pZkFjdGlvbiA9IGlmQWN0aW9uO1xuXHRleHBvcnRzLmV4Y2x1ZGVBY3Rpb24gPSBleGNsdWRlQWN0aW9uO1xuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHQvLyBkZWJ1ZyBvdXRwdXRcblx0dmFyIF9fREVCVUdfXyA9IHVuZGVmaW5lZDtcblx0ZnVuY3Rpb24gZGVidWcoKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgdmFyIF9jb25zb2xlO1xuXHRcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjb25zb2xlLmdyb3VwKSB7XG5cdCAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuXHQgICAgfVxuXHQgICAgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmdzKTtcblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gZGVidWdTdGFydChhY3Rpb24sIHN0YXRlKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgdmFyIGFyZ3MgPSBbJ2FjdGlvbicsIGFjdGlvbi50eXBlXTtcblx0ICAgIGlmIChjb25zb2xlLmdyb3VwKSB7XG5cdCAgICAgIHZhciBfY29uc29sZTI7XG5cdFxuXHQgICAgICBhcmdzLnVuc2hpZnQoJyVjcmVkdXgtdW5kbycsICdmb250LXN0eWxlOiBpdGFsaWMnKTtcblx0ICAgICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmdyb3VwQ29sbGFwc2VkLmFwcGx5KF9jb25zb2xlMiwgYXJncyk7XG5cdCAgICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlZCcsIHsgc3RhdGU6IHN0YXRlLCBhY3Rpb246IGFjdGlvbiB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRlYnVnLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdGZ1bmN0aW9uIGRlYnVnRW5kKCkge1xuXHQgIGlmIChfX0RFQlVHX18pIHtcblx0ICAgIHJldHVybiBjb25zb2xlLmdyb3VwRW5kICYmIGNvbnNvbGUuZ3JvdXBFbmQoKTtcblx0ICB9XG5cdH1cblx0Ly8gL2RlYnVnIG91dHB1dFxuXHRcblx0Ly8gYWN0aW9uIHR5cGVzXG5cdHZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG5cdCAgVU5ETzogJ0BAcmVkdXgtdW5kby9VTkRPJyxcblx0ICBSRURPOiAnQEByZWR1eC11bmRvL1JFRE8nLFxuXHQgIEpVTVBfVE9fRlVUVVJFOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fRlVUVVJFJyxcblx0ICBKVU1QX1RPX1BBU1Q6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19QQVNUJ1xuXHR9O1xuXHQvLyAvYWN0aW9uIHR5cGVzXG5cdFxuXHQvLyBhY3Rpb24gY3JlYXRvcnMgdG8gY2hhbmdlIHRoZSBzdGF0ZVxuXHR2YXIgQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLkFjdGlvbkNyZWF0b3JzID0ge1xuXHQgIHVuZG86IGZ1bmN0aW9uIHVuZG8oKSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5VTkRPIH07XG5cdCAgfSxcblx0ICByZWRvOiBmdW5jdGlvbiByZWRvKCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuUkVETyB9O1xuXHQgIH0sXG5cdCAganVtcFRvRnV0dXJlOiBmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaW5kZXgpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLkpVTVBfVE9fRlVUVVJFLCBpbmRleDogaW5kZXggfTtcblx0ICB9LFxuXHQgIGp1bXBUb1Bhc3Q6IGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaW5kZXgpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCwgaW5kZXg6IGluZGV4IH07XG5cdCAgfVxuXHR9O1xuXHQvLyAvYWN0aW9uIGNyZWF0b3JzXG5cdFxuXHQvLyBsZW5ndGg6IGdldCBsZW5ndGggb2YgaGlzdG9yeVxuXHRmdW5jdGlvbiBsZW5ndGgoaGlzdG9yeSkge1xuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdCAgcmV0dXJuIHBhc3QubGVuZ3RoICsgMSArIGZ1dHVyZS5sZW5ndGg7XG5cdH1cblx0Ly8gL2xlbmd0aFxuXHRcblx0Ly8gaW5zZXJ0OiBpbnNlcnQgYHN0YXRlYCBpbnRvIGhpc3RvcnksIHdoaWNoIG1lYW5zIGFkZGluZyB0aGUgY3VycmVudCBzdGF0ZVxuXHQvLyAgICAgICAgIGludG8gYHBhc3RgLCBzZXR0aW5nIHRoZSBuZXcgYHN0YXRlYCBhcyBgcHJlc2VudGAgYW5kIGVyYXNpbmdcblx0Ly8gICAgICAgICB0aGUgYGZ1dHVyZWAuXG5cdGZ1bmN0aW9uIGluc2VydChoaXN0b3J5LCBzdGF0ZSwgbGltaXQpIHtcblx0ICBkZWJ1ZygnaW5zZXJ0JywgeyBzdGF0ZTogc3RhdGUsIGhpc3Rvcnk6IGhpc3RvcnksIGZyZWU6IGxpbWl0IC0gbGVuZ3RoKGhpc3RvcnkpIH0pO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0XG5cdCAgdmFyIGhpc3RvcnlPdmVyZmxvdyA9IGxpbWl0ICYmIGxlbmd0aChoaXN0b3J5KSA+PSBsaW1pdDtcblx0XG5cdCAgaWYgKHByZXNlbnQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgLy8gaW5pdCBoaXN0b3J5XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwYXN0OiBbXSxcblx0ICAgICAgcHJlc2VudDogc3RhdGUsXG5cdCAgICAgIGZ1dHVyZTogW11cblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0LnNsaWNlKGhpc3RvcnlPdmVyZmxvdyA/IDEgOiAwKSksIFtwcmVzZW50XSksXG5cdCAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgIGZ1dHVyZTogW11cblx0ICB9O1xuXHR9XG5cdC8vIC9pbnNlcnRcblx0XG5cdC8vIHVuZG86IGdvIGJhY2sgdG8gdGhlIHByZXZpb3VzIHBvaW50IGluIGhpc3Rvcnlcblx0ZnVuY3Rpb24gdW5kbyhoaXN0b3J5KSB7XG5cdCAgZGVidWcoJ3VuZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIGlmIChwYXN0Lmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgcGFzdC5sZW5ndGggLSAxKSwgLy8gcmVtb3ZlIGxhc3QgZWxlbWVudCBmcm9tIHBhc3Rcblx0ICAgIHByZXNlbnQ6IHBhc3RbcGFzdC5sZW5ndGggLSAxXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcblx0ICAgIGZ1dHVyZTogW3ByZXNlbnRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZnV0dXJlKSlcblx0ICB9O1xuXHR9XG5cdC8vIC91bmRvXG5cdFxuXHQvLyByZWRvOiBnbyB0byB0aGUgbmV4dCBwb2ludCBpbiBoaXN0b3J5XG5cdGZ1bmN0aW9uIHJlZG8oaGlzdG9yeSkge1xuXHQgIGRlYnVnKCdyZWRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICBpZiAoZnV0dXJlLmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKDEsIGZ1dHVyZS5sZW5ndGgpLCAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGZ1dHVyZVxuXHQgICAgcHJlc2VudDogZnV0dXJlWzBdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuXHQgICAgcGFzdDogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0KSwgW3ByZXNlbnQgLy8gb2xkIHByZXNlbnQgc3RhdGUgaXMgaW4gdGhlIHBhc3Qgbm93XG5cdCAgICBdKVxuXHQgIH07XG5cdH1cblx0Ly8gL3JlZG9cblx0XG5cdC8vIGp1bXBUb0Z1dHVyZToganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gZnV0dXJlIGhpc3Rvcnlcblx0ZnVuY3Rpb24ganVtcFRvRnV0dXJlKGhpc3RvcnksIGluZGV4KSB7XG5cdCAgaWYgKGluZGV4ID09PSAwKSByZXR1cm4gcmVkbyhoaXN0b3J5KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKGluZGV4ICsgMSksXG5cdCAgICBwcmVzZW50OiBmdXR1cmVbaW5kZXhdLFxuXHQgICAgcGFzdDogcGFzdC5jb25jYXQoW3ByZXNlbnRdKS5jb25jYXQoZnV0dXJlLnNsaWNlKDAsIGluZGV4KSlcblx0ICB9O1xuXHR9XG5cdC8vIC9qdW1wVG9GdXR1cmVcblx0XG5cdC8vIGp1bXBUb1Bhc3Q6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIHBhc3QgaGlzdG9yeVxuXHRmdW5jdGlvbiBqdW1wVG9QYXN0KGhpc3RvcnksIGluZGV4KSB7XG5cdCAgaWYgKGluZGV4ID09PSBoaXN0b3J5LnBhc3QubGVuZ3RoIC0gMSkgcmV0dXJuIHVuZG8oaGlzdG9yeSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBmdXR1cmU6IHBhc3Quc2xpY2UoaW5kZXggKyAxKS5jb25jYXQoW3ByZXNlbnRdKS5jb25jYXQoZnV0dXJlKSxcblx0ICAgIHByZXNlbnQ6IHBhc3RbaW5kZXhdLFxuXHQgICAgcGFzdDogcGFzdC5zbGljZSgwLCBpbmRleClcblx0ICB9O1xuXHR9XG5cdC8vIC9qdW1wVG9QYXN0XG5cdFxuXHQvLyB3cmFwU3RhdGU6IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byAwLjRcblx0ZnVuY3Rpb24gd3JhcFN0YXRlKHN0YXRlKSB7XG5cdCAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuXHQgICAgaGlzdG9yeTogc3RhdGVcblx0ICB9KTtcblx0fVxuXHQvLyAvd3JhcFN0YXRlXG5cdFxuXHQvLyB1cGRhdGVTdGF0ZVxuXHRmdW5jdGlvbiB1cGRhdGVTdGF0ZShzdGF0ZSwgaGlzdG9yeSkge1xuXHQgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBoaXN0b3J5KSk7XG5cdH1cblx0Ly8gL3VwZGF0ZVN0YXRlXG5cdFxuXHQvLyBjcmVhdGVIaXN0b3J5XG5cdGZ1bmN0aW9uIGNyZWF0ZUhpc3Rvcnkoc3RhdGUpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogW10sXG5cdCAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgIGZ1dHVyZTogW11cblx0ICB9O1xuXHR9XG5cdC8vIC9jcmVhdGVIaXN0b3J5XG5cdFxuXHQvLyBwYXJzZUFjdGlvbnNcblx0ZnVuY3Rpb24gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpIHtcblx0ICB2YXIgZGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIGlmIChBcnJheS5pc0FycmF5KHJhd0FjdGlvbnMpKSB7XG5cdCAgICByZXR1cm4gcmF3QWN0aW9ucztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiByYXdBY3Rpb25zID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIFtyYXdBY3Rpb25zXTtcblx0ICB9XG5cdCAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcblx0fVxuXHQvLyAvcGFyc2VBY3Rpb25zXG5cdFxuXHQvLyByZWR1eC11bmRvIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5cdGZ1bmN0aW9uIHVuZG9hYmxlKHJlZHVjZXIpIHtcblx0ICB2YXIgcmF3Q29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIF9fREVCVUdfXyA9IHJhd0NvbmZpZy5kZWJ1Zztcblx0XG5cdCAgdmFyIGNvbmZpZyA9IHtcblx0ICAgIGluaXRpYWxTdGF0ZTogcmF3Q29uZmlnLmluaXRpYWxTdGF0ZSxcblx0ICAgIGluaXRUeXBlczogcGFyc2VBY3Rpb25zKHJhd0NvbmZpZy5pbml0VHlwZXMsIFsnQEByZWR1eC9JTklUJywgJ0BASU5JVCddKSxcblx0ICAgIGxpbWl0OiByYXdDb25maWcubGltaXQsXG5cdCAgICBmaWx0ZXI6IHJhd0NvbmZpZy5maWx0ZXIgfHwgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0sXG5cdCAgICB1bmRvVHlwZTogcmF3Q29uZmlnLnVuZG9UeXBlIHx8IEFjdGlvblR5cGVzLlVORE8sXG5cdCAgICByZWRvVHlwZTogcmF3Q29uZmlnLnJlZG9UeXBlIHx8IEFjdGlvblR5cGVzLlJFRE8sXG5cdCAgICBqdW1wVG9QYXN0VHlwZTogcmF3Q29uZmlnLmp1bXBUb1Bhc3RUeXBlIHx8IEFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCxcblx0ICAgIGp1bXBUb0Z1dHVyZVR5cGU6IHJhd0NvbmZpZy5qdW1wVG9GdXR1cmVUeXBlIHx8IEFjdGlvblR5cGVzLkpVTVBfVE9fRlVUVVJFXG5cdCAgfTtcblx0ICBjb25maWcuaGlzdG9yeSA9IHJhd0NvbmZpZy5pbml0aWFsSGlzdG9yeSB8fCBjcmVhdGVIaXN0b3J5KGNvbmZpZy5pbml0aWFsU3RhdGUpO1xuXHRcblx0ICBpZiAoY29uZmlnLmluaXRUeXBlcy5sZW5ndGggPT09IDApIHtcblx0ICAgIGNvbnNvbGUud2FybigncmVkdXgtdW5kbzogc3VwcGx5IGF0IGxlYXN0IG9uZSBhY3Rpb24gdHlwZSBpbiBpbml0VHlwZXMgdG8gZW5zdXJlIGluaXRpYWwgc3RhdGUnKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuXHQgICAgZGVidWdTdGFydChhY3Rpb24sIHN0YXRlKTtcblx0ICAgIHZhciByZXMgPSB1bmRlZmluZWQ7XG5cdCAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAgIGNhc2UgY29uZmlnLnVuZG9UeXBlOlxuXHQgICAgICAgIHJlcyA9IHVuZG8oc3RhdGUpO1xuXHQgICAgICAgIGRlYnVnKCdhZnRlciB1bmRvJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgY2FzZSBjb25maWcucmVkb1R5cGU6XG5cdCAgICAgICAgcmVzID0gcmVkbyhzdGF0ZSk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIHJlZG8nLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5qdW1wVG9QYXN0VHlwZTpcblx0ICAgICAgICByZXMgPSBqdW1wVG9QYXN0KHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuXHQgICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9QYXN0JywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgY2FzZSBjb25maWcuanVtcFRvRnV0dXJlVHlwZTpcblx0ICAgICAgICByZXMgPSBqdW1wVG9GdXR1cmUoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb0Z1dHVyZScsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmVzID0gcmVkdWNlcihzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50LCBhY3Rpb24pO1xuXHRcblx0ICAgICAgICBpZiAoY29uZmlnLmluaXRUeXBlcy5zb21lKGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7XG5cdCAgICAgICAgICByZXR1cm4gYWN0aW9uVHlwZSA9PT0gYWN0aW9uLnR5cGU7XG5cdCAgICAgICAgfSkpIHtcblx0ICAgICAgICAgIGRlYnVnKCdyZXNldCBoaXN0b3J5IGR1ZSB0byBpbml0IGFjdGlvbicpO1xuXHQgICAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBjcmVhdGVIaXN0b3J5KHJlcykpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuZmlsdGVyICYmIHR5cGVvZiBjb25maWcuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICBpZiAoIWNvbmZpZy5maWx0ZXIoYWN0aW9uLCByZXMsIHN0YXRlICYmIHN0YXRlLnByZXNlbnQpKSB7XG5cdCAgICAgICAgICAgIGRlYnVnKCdmaWx0ZXIgcHJldmVudGVkIGFjdGlvbiwgbm90IHN0b3JpbmcgaXQnKTtcblx0ICAgICAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcblx0ICAgICAgICAgICAgICBwcmVzZW50OiByZXNcblx0ICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhpc3RvcnkgPSBzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50ICE9PSB1bmRlZmluZWQgPyBzdGF0ZSA6IGNvbmZpZy5oaXN0b3J5O1xuXHQgICAgICAgIHZhciB1cGRhdGVkSGlzdG9yeSA9IGluc2VydChoaXN0b3J5LCByZXMsIGNvbmZpZy5saW1pdCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGluc2VydCcsIHsgaGlzdG9yeTogdXBkYXRlZEhpc3RvcnksIGZyZWU6IGNvbmZpZy5saW1pdCAtIGxlbmd0aCh1cGRhdGVkSGlzdG9yeSkgfSk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHVwZGF0ZWRIaXN0b3J5KSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkdXgtdW5kb1xuXHRcblx0Ly8gZGlzdGluY3RTdGF0ZSBoZWxwZXJcblx0ZnVuY3Rpb24gZGlzdGluY3RTdGF0ZSgpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgY3VycmVudFN0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG5cdCAgICByZXR1cm4gY3VycmVudFN0YXRlICE9PSBwcmV2aW91c1N0YXRlO1xuXHQgIH07XG5cdH1cblx0Ly8gL2Rpc3RpbmN0U3RhdGVcblx0XG5cdC8vIGluY2x1ZGVBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucykge1xuXHQgIHZhciBhY3Rpb25zID0gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpO1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG5cdCAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwO1xuXHQgIH07XG5cdH1cblx0Ly8gL2luY2x1ZGVBY3Rpb25cblx0XG5cdC8vIGRlcHJlY2F0ZWQgaWZBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGlmQWN0aW9uKHJhd0FjdGlvbnMpIHtcblx0ICBjb25zb2xlLmVycm9yKCdEZXByZWNhdGlvbiBXYXJuaW5nOiBQbGVhc2UgY2hhbmdlIGBpZkFjdGlvbmAgdG8gYGluY2x1ZGVBY3Rpb25gJyk7XG5cdCAgcmV0dXJuIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucyk7XG5cdH1cblx0Ly8gL2lmQWN0aW9uXG5cdFxuXHQvLyBleGNsdWRlQWN0aW9uIGhlbHBlclxuXHRmdW5jdGlvbiBleGNsdWRlQWN0aW9uKCkge1xuXHQgIHZhciByYXdBY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHZhciBhY3Rpb25zID0gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpO1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG5cdCAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA8IDA7XG5cdCAgfTtcblx0fVxuXHQvLyAvZXhjbHVkZUFjdGlvblxuXG4vKioqLyB9LFxuLyogMTExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFlfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRTtcblx0dmFyIG1vZCA9IGZ1bmN0aW9uIG1vZCh0ZW1wUmVzaXplX3RvcCkge1xuXHQgICAgICB2YXIgY29lZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICB2YXIgTU9EID0gTWF0aC5hYnModGVtcFJlc2l6ZV90b3AgJSBZX1NJWkUpLFxuXHQgICAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuXHQgICAgICAgICAgR0FQID0gMTU7XG5cdFxuXHQgICAgICBpZiAoTU9EIDwgR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gRElWICogWV9TSVpFO1xuXHQgICAgICB9IGVsc2UgaWYgKE1PRCA+IFlfU0laRSAtIEdBUCkge1xuXHQgICAgICAgICAgICB0ZW1wUmVzaXplX3RvcCA9IGNvZWYgKiAoRElWICsgMSkgKiBZX1NJWkU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG1vZDtcblxuLyoqKi8gfSxcbi8qIDExMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY3VydmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdFxuXHR2YXIgX2N1cnZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlKTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzcpO1xuXHRcblx0dmFyIF9yZXNpemVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplSGFuZGxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvclJpZ2h0ID0gZnVuY3Rpb24gQ3VydmVFZGl0b3JSaWdodChfcmVmKSB7XG5cdCAgICAgICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXHRcblx0ICAgICAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yaWdodCddIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdyaWdodCcsIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAnYm90dG9tJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KVxuXHQgICAgICAgICAgKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yUmlnaHQ7XG5cbi8qKiovIH0sXG4vKiAxMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9wb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfcG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnQpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpO1xuXHRcblx0dmFyIEN1cnZlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDdXJ2ZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEN1cnZlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ3VydmUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ3VydmUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ3VydmUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHN0YXRlID0gdGhpcy5wcm9wcy5zdGF0ZTtcblx0ICAgICAgdmFyIHBhdGggPSBzdGF0ZS5wb2ludHMucHJlc2VudC5wYXRoO1xuXHQgICAgICB2YXIgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpO1xuXHQgICAgICB2YXIgcG9pbnRzID0gdGhpcy5fcmVuZGVyUG9pbnRzKHN0YXRlKTtcblx0ICAgICAgdmFyIHNlZ21lbnRzID0gdGhpcy5fcmVuZGVyU2VnbWVudHMoc3RhdGUpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZSddIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fYmFja2dyb3VuZCddLFxuXHQgICAgICAgICAgc3R5bGU6IHN0eWxlcy5iYWNrZ3JvdW5kIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmVfX3N2Zy13cmFwcGVyJ10sXG5cdCAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMudHJhbnNmb3JtIH0sXG5cdCAgICAgICAgICBwb2ludHMsXG5cdCAgICAgICAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICAgJ3N2ZycsXG5cdCAgICAgICAgICAgIHsgaGVpZ2h0OiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUsXG5cdCAgICAgICAgICAgICAgdmlld0JveDogJzAgMCAxMDAgMTAwJyxcblx0ICAgICAgICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAnbm9uZScsXG5cdCAgICAgICAgICAgICAgaWQ6ICdqcy1zdmcnLFxuXHQgICAgICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2N1cnZlX19zdmcnXSB9LFxuXHQgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKSgncGF0aCcsIHsgZDogcGF0aCxcblx0ICAgICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcblx0ICAgICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAnMC4zNScsXG5cdCAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICc0Jyxcblx0ICAgICAgICAgICAgICAndmVjdG9yLWVmZmVjdCc6ICdub24tc2NhbGluZy1zdHJva2UnLFxuXHQgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSguNzUsLjc1KScsXG5cdCAgICAgICAgICAgICAgZmlsbDogJ25vbmUnIH0pLFxuXHQgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICAgICAnZycsXG5cdCAgICAgICAgICAgICAgeyBpZDogJ2pzLXNlZ21lbnRzJyB9LFxuXHQgICAgICAgICAgICAgICcgJyxcblx0ICAgICAgICAgICAgICBzZWdtZW50cyxcblx0ICAgICAgICAgICAgICAnICdcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgdGVtcF90b3AgPSByZXNpemUudGVtcF90b3A7XG5cdCAgICAgIHZhciB0ZW1wX3JpZ2h0ID0gcmVzaXplLnRlbXBfcmlnaHQ7XG5cdFxuXHRcblx0ICAgICAgdGVtcF90b3AgKz0gcmVzaXplLnRvcDtcblx0ICAgICAgdGVtcF9yaWdodCArPSByZXNpemUucmlnaHQ7XG5cdFxuXHQgICAgICBpZiAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFIC0gdGVtcF90b3AgPCBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3RvcCA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgdGVtcF90b3AgPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF90b3AsIC0xKTtcblx0XG5cdCAgICAgIHZhciBzY2FsZSA9ICd0cmFuc2Zvcm06IHNjYWxlWCgnICsgKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIE1hdGgubWF4KHRlbXBfcmlnaHQsIDApKSAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArICcpJyxcblx0ICAgICAgICAgIGJnVHJhbnNmb3JtID0gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHNjYWxlICsgJzsgJyArIHNjYWxlICsgJzsnLFxuXHQgICAgICAgICAgYmFja2dyb3VuZCA9ICdiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwICcgKyAoLXRlbXBfdG9wIC0gMSkgKyAncHg7ICcgKyBiZ1RyYW5zZm9ybSxcblx0ICAgICAgICAgIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsICcgKyAtdGVtcF90b3AgKyAncHgpJztcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuXHQgICAgICAgIHRyYW5zZm9ybTogJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOydcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyUG9pbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyUG9pbnRzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQucG9pbnRzLFxuXHQgICAgICAgICAgcG9pbnRzID0gW10sXG5cdCAgICAgICAgICBsZW4gPSBwb2ludHNEYXRhLmxlbmd0aDtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBwb2ludHMucHVzaCgoMCwgX3ByZWFjdC5oKShfcG9pbnQyLmRlZmF1bHQsIHsgcG9pbnQ6IHBvaW50c0RhdGFbaV0sIHN0YXRlOiBzdGF0ZSwgaW5kZXg6IGksIHBvaW50c0NvdW50OiBsZW4gfSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19yZW5kZXJTZWdtZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclNlZ21lbnRzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBzZWdtZW50cyA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnNlZ21lbnRzO1xuXHQgICAgICB2YXIgZG9tU2VnbWVudHMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuXHQgICAgICAgIGRvbVNlZ21lbnRzLnB1c2goKDAsIF9wcmVhY3QuaCkoJ3BhdGgnLCB7IGQ6IHNlZ21lbnQuc2VnbWVudFN0cmluZyxcblx0ICAgICAgICAgICdkYXRhLWluZGV4Jzogc2VnbWVudC5pbmRleCxcblx0ICAgICAgICAgIHN0cm9rZTogJ3doaXRlJyxcblx0ICAgICAgICAgIGZpbGw6ICdub25lJyxcblx0ICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAnJyxcblx0ICAgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXVxuXHQgICAgICAgIH0pKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGRvbVNlZ21lbnRzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIF9yZW5kZXJTZWdtZW50ICggaW5kZXgsIHN0cmluZykge1xuXHQgICAgLy8gICByZXR1cm4gPHBhdGhcblx0ICAgIC8vICAgICAgICAgICBkPXtzdHJpbmd9XG5cdCAgICAvLyAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XG5cdCAgICAvLyAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuXHQgICAgLy8gICAgICAgICAgIGZpbGw9XCJub25lXCJcblx0ICAgIC8vICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuXHQgICAgLy8gICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuXHQgICAgLy8gICAgICAgICAgIGNsYXNzPXtDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXX1cblx0ICAgIC8vICAgICAgICAgICAvPjtcblx0ICAgIC8vIH1cblx0XG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHRcblx0XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKSxcblx0ICAgICAgICAgIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIC8vIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlRhcCgpKTtcblx0XG5cdCAgICAgIG1jLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBldiA9IGUuc3JjRXZlbnQsXG5cdCAgICAgICAgICAgIHRhcmdldCA9IGV2LnRhcmdldDtcblx0ICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuXHQgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAncGF0aCcpIHtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgICAgICB2YXIgeCA9IGV2Lm9mZnNldFgsXG5cdCAgICAgICAgICAgIHkgPSBldi5vZmZzZXRZICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULFxuXHQgICAgICAgICAgICBpbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSkgKyAxO1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnUE9JTlRfQUREJyxcblx0ICAgICAgICAgIGRhdGE6IHsgcG9pbnQ6IHsgeDogeCwgeTogeSB9LCBpbmRleDogaW5kZXggfSxcblx0ICAgICAgICAgIGlzUmVjb3JkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAgICAgZGF0YTogeyBpbmRleDogaW5kZXgsIHR5cGU6ICdzdHJhaWdodCcgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBzdmcgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXN2ZycpLFxuXHQgICAgICAgICAgc3ZnTWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihzdmcpKTtcblx0XG5cdCAgICAgIHN2Z01jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlRhcCgpKTtcblx0XG5cdCAgICAgIHN2Z01jLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ3VydmU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmU7XG5cbi8qKiovIH0sXG4vKiAxMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYW5nbGUsIHJhZGl1cykge1xuXHQgIHJldHVybiBtb2pzLmguZ2V0UmFkaWFsUG9pbnQoeyBhbmdsZTogYW5nbGUsIHJhZGl1czogcmFkaXVzLCBjZW50ZXI6IHsgeDogMCwgeTogMCB9IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdFxuXHR2YXIgX2FkZFBvaW50ZXJEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZFBvaW50ZXJEb3duKTtcblx0XG5cdHZhciBfbGl0dGxlSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9saXR0bGVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGl0dGxlSGFuZGxlKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdHZhciBfcm91bmRUbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KTtcblx0XG5cdHZhciBfcm91bmRUbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3VuZFRvKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfY2xhbXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7XG5cdFxuXHR2YXIgX2NsYW1wMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYW1wKTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplTW9kKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuXHRcblx0dmFyIFBvaW50ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShQb2ludCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBvaW50KCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9pbnQpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9pbnQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9pbnQsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBwb2ludCA9IF9wcm9wcy5wb2ludDtcblx0ICAgICAgdmFyIHN0YXRlID0gX3Byb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgc2VsZWN0ZWQgPSBwb2ludC5pc1NlbGVjdGVkID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnO1xuXHQgICAgICB2YXIgaGFuZGxlcyA9IHBvaW50LnR5cGUgPT09ICdzdHJhaWdodCcgPyBDTEFTU0VTWydpcy1oaWRlLWhhbmRsZXMnXSA6ICcnO1xuXHRcblx0ICAgICAgdmFyIGxpdHRsZUhhbmRsZXMgPSB0aGlzLl9nZXRMaXR0bGVIYW5kbGVzKCk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ3BvaW50J10gKyAnICcgKyBzZWxlY3RlZCArICcgJyArIGhhbmRsZXMsXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0U3R5bGUoc3RhdGUpLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ3BvaW50JyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncG9pbnRfX3RvdWNoJ10sIGlkOiAnanMtcG9pbnQtdG91Y2gnIH0pLFxuXHQgICAgICAgIGxpdHRsZUhhbmRsZXNcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgcG9pbnQgPSB0aGlzLnByb3BzLnBvaW50O1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgeCA9ICgwLCBfY2xhbXAyLmRlZmF1bHQpKHBvaW50LnggKyBwb2ludC50ZW1wWCwgMCwgMTAwKTtcblx0ICAgICAgdmFyIGNsZWFuWCA9IHggKiByZXNpemUuc2NhbGVyWDtcblx0ICAgICAgdmFyIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFk7XG5cdFxuXHQgICAgICAvLyBjb25zb2xlLmxvZyhwb2ludCk7XG5cdFxuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyBjbGVhblggKyAncHgsICcgKyAoeSAtIDEpICsgJ3B4KSc7XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TGl0dGxlSGFuZGxlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldExpdHRsZUhhbmRsZXMoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMi5wb2ludDtcblx0ICAgICAgdmFyIHBvaW50c0NvdW50ID0gX3Byb3BzMi5wb2ludHNDb3VudDtcblx0ICAgICAgdmFyIGhhbmRsZXMgPSBbXTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTEgZm9yIHN0YXJ0IHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSAwICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMSwgcG9pbnQpKTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuXHQgICAgICBpbmRleCAhPT0gcG9pbnRzQ291bnQgLSAxICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMiwgcG9pbnQpKTtcblx0ICAgICAgcmV0dXJuIGhhbmRsZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2NyZWF0ZUhhbmRsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUhhbmRsZShpbmRleCwgcG9pbnQpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKF9saXR0bGVIYW5kbGUyLmRlZmF1bHQsIHtcblx0ICAgICAgICBpbmRleDogaW5kZXgsXG5cdCAgICAgICAgc3RhdGU6IHRoaXMucHJvcHMuc3RhdGUsXG5cdCAgICAgICAgcGFyZW50SW5kZXg6IHRoaXMucHJvcHMuaW5kZXgsXG5cdCAgICAgICAgaGFuZGxlOiBwb2ludFsnaGFuZGxlJyArIGluZGV4XSxcblx0ICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgdmFyIGdldFRlbXBYID0gZnVuY3Rpb24gZ2V0VGVtcFgoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHMzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczMucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMy5pbmRleDtcblx0ICAgICAgICAvLyBpZiBwb2ludCBpcyBub3QgbG9ja2VkIHRvIHggYXhlcyAtPlxuXHQgICAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSByZWdhcmRpbmcgc2NhbGVyXG5cdFxuXHQgICAgICAgIGlmIChwb2ludC5pc0xvY2tlZFgpIHtcblx0ICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVggLyByZXNpemUuc2NhbGVyWDtcblx0ICAgICAgICBpZiAocG9pbnQueCArIHggPCAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwb2ludC54ICsgeCA+IDEwMCkge1xuXHQgICAgICAgICAgcmV0dXJuIDEwMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHBvaW50LnggKyB4LCA1LCAxLjUpIC0gcG9pbnQueDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBnZXRZID0gZnVuY3Rpb24gZ2V0WShlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczQgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNC5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM0LmluZGV4O1xuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBjbGFtcCB5IHRvIHRoZSBzaXplIG9mIGN1cnZlXG5cdCAgICAgICAgcmV0dXJuICgwLCBfY2xhbXAyLmRlZmF1bHQpKHksIHJlc2l6ZS50b3AsIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy8gZ2V0IHkgZGVsdGEgcmVhZ2FyZGluZyBjdXJ2ZSBib3VuZHNcblx0ICAgICAgdmFyIGdldFRlbXBZID0gZnVuY3Rpb24gZ2V0VGVtcFkoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHM1ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczUucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNS5pbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZLFxuXHQgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHk7XG5cdFxuXHQgICAgICAgIGlmICh5IDwgcmVzaXplLnRvcCkge1xuXHQgICAgICAgICAgcmV0dXJuVmFsdWUgPSByZXNpemUudG9wO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoeSA+IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pIHtcblx0ICAgICAgICAgIHJldHVyblZhbHVlID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHJldHVyblZhbHVlLCA1ICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULCAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UKSAtIHBvaW50Lnk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXBvaW50LXRvdWNoJyksXG5cdCAgICAgICAgICBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKGVsKSk7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHRcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczYgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNi5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM2LmluZGV4O1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFJyxcblx0ICAgICAgICAgIGRhdGE6IHsgeDogZ2V0VGVtcFgoZSksIHk6IGdldFRlbXBZKGUpLCBpbmRleDogaW5kZXggfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHM3ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczcucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNy5pbmRleDtcblx0ICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEVfRU5EJywgZGF0YTogaW5kZXgsIGlzUmVjb3JkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIC8vIC5vbigndGFwJywgKGUpID0+IHtcblx0ICAgICAgLy8gICBjb25zdCB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHNcblx0ICAgICAgLy8gICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgIC8vICAgICB0eXBlOiAnUE9JTlRfU0VMRUNUJyxcblx0ICAgICAgLy8gICAgIGRhdGE6IHtcblx0ICAgICAgLy8gICAgICAgaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNyY0V2ZW50LnNoaWZ0S2V5LFxuXHQgICAgICAvLyAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgIC8vICAgICB9XG5cdCAgICAgIC8vICAgfSk7XG5cdCAgICAgIC8vICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgLy8gfSk7XG5cdFxuXHQgICAgICAoMCwgX2FkZFBvaW50ZXJEb3duMi5kZWZhdWx0KShlbCwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzOCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM4LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczguaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAgICAgZGF0YToge1xuXHQgICAgICAgICAgICBpbmRleDogaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNoaWZ0S2V5LFxuXHQgICAgICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQb2ludDtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcblxuLyoqKi8gfSxcbi8qIDExNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoZWwsIGZuKSB7XG5cdCAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignTVNQb2ludGVyRG93bicsIGZuKTtcblx0ICB9IGVsc2UgaWYgKHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZuKTtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZuKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDExNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5nbGVUb1BvaW50KTtcblx0XG5cdHZhciBfcG9pbnRUb0FuZ2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXHRcblx0dmFyIF9wb2ludFRvQW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRUb0FuZ2xlKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xuXHRcblx0dmFyIExpdHRsZUhhbmRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoTGl0dGxlSGFuZGxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTGl0dGxlSGFuZGxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTGl0dGxlSGFuZGxlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKExpdHRsZUhhbmRsZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShMaXR0bGVIYW5kbGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgLy8gY29uc3Qge3N0YXRlfSA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZSddLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2xpdHRsZS1oYW5kbGUnIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10sXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0UG9pbnRTdHlsZSgpIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7XG5cdCAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19saW5lJ10sXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0TGluZVN0eWxlKCkgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTt2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5vbigncGFuc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIGhhbmRsZSA9IF90aGlzMi5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIH0pLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzLmluZGV4O1xuXHQgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IF9wcm9wcy5wYXJlbnRJbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpLFxuXHQgICAgICAgICAgICBuZXdYID0gcG9pbnQueCArIGUuZGVsdGFYLFxuXHQgICAgICAgICAgICBuZXdZID0gcG9pbnQueSArIGUuZGVsdGFZLFxuXHQgICAgICAgICAgICBhbmdsZSA9ICgwLCBfcG9pbnRUb0FuZ2xlMi5kZWZhdWx0KShuZXdYLCBuZXdZKTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGluZGV4OiBpbmRleCwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4IH0sIGFuZ2xlKVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcpIHtcblx0ICAgICAgICAgIHZhciBpID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IGksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGFuZ2xlLnJhZGl1cyxcblx0ICAgICAgICAgICAgICBhbmdsZTogYW5nbGUuYW5nbGUgLSAxODBcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgdmFyIF9pID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IF9pLCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG5cdCAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFBvaW50U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRQb2ludFN0eWxlKCkge1xuXHQgICAgICB2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyBwb2ludC54ICsgJ3B4LCAnICsgcG9pbnQueSArICdweCkgcm90YXRlKCcgKyBoYW5kbGUuYW5nbGUgKyAnZGVnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldExpbmVTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldExpbmVTdHlsZSgpIHtcblx0ICAgICAgdmFyIGhhbmRsZSA9IHRoaXMucHJvcHMuaGFuZGxlO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogcm90YXRlKCcgKyBoYW5kbGUuYW5nbGUgKyAnZGVnKSBzY2FsZVkoJyArIGhhbmRsZS5yYWRpdXMgKyAnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBMaXR0bGVIYW5kbGU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGl0dGxlSGFuZGxlO1xuXG4vKioqLyB9LFxuLyogMTE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Fzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblx0XG5cdHZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2Fzc2lnbjIuZGVmYXVsdCB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdCAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cdFxuXHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuXHQgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0YXJnZXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxMjApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5PYmplY3QuYXNzaWduO1xuXG4vKioqLyB9LFxuLyogMTIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMil9KTtcblxuLyoqKi8gfSxcbi8qIDEyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG5cdHZhciBnZXRLZXlzICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cdCAgLCBnT1BTICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTApXG5cdCAgLCBwSUUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpXG5cdCAgLCB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCBJT2JqZWN0ICA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpXG5cdCAgLCAkYXNzaWduICA9IE9iamVjdC5hc3NpZ247XG5cdFxuXHQvLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1Zylcblx0bW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKShmdW5jdGlvbigpe1xuXHQgIHZhciBBID0ge31cblx0ICAgICwgQiA9IHt9XG5cdCAgICAsIFMgPSBTeW1ib2woKVxuXHQgICAgLCBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jztcblx0ICBBW1NdID0gNztcblx0ICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7XG5cdCAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG5cdH0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHQgIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldClcblx0ICAgICwgYUxlbiAgPSBhcmd1bWVudHMubGVuZ3RoXG5cdCAgICAsIGluZGV4ID0gMVxuXHQgICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mXG5cdCAgICAsIGlzRW51bSAgICAgPSBwSUUuZjtcblx0ICB3aGlsZShhTGVuID4gaW5kZXgpe1xuXHQgICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKVxuXHQgICAgICAsIGtleXMgICA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUylcblx0ICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgICAsIGogICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShsZW5ndGggPiBqKWlmKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpVFtrZXldID0gU1trZXldO1xuXHQgIH0gcmV0dXJuIFQ7XG5cdH0gOiAkYXNzaWduO1xuXG4vKioqLyB9LFxuLyogMTIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0ICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxuXHQgICAgICBhbmdsZSA9IE1hdGguYXRhbih5IC8geCkgKiAoMTgwIC8gTWF0aC5QSSkgLSA5MDtcblx0ICBpZiAoeCA+IDApIHtcblx0ICAgIGFuZ2xlID0gYW5nbGUgLSAxODA7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHsgcmFkaXVzOiByYWRpdXMsIGFuZ2xlOiBhbmdsZSB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMjUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9saXR0bGUtaGFuZGxlX2l3MnJ1XzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDowO2hlaWdodDowfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6NnB4O2hlaWdodDo2cHg7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotM3B4O21hcmdpbi10b3A6LTNweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjAwJTtoZWlnaHQ6MjAwJTtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0xMDAlO21hcmdpbi10b3A6LTEwMCV9Ll9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7bWFyZ2luLWxlZnQ6LTFweDttYXJnaW4tdG9wOi0xcHg7bGVmdDo1MCU7dG9wOjUwJTtiYWNrZ3JvdW5kOiNmZjUxMmY7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBsaXN0ID0gW107XHJcblx0XHJcblx0XHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0XHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdFx0fTtcclxuXHRcclxuXHRcdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0XHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHR9O1xyXG5cblxuLyoqKi8gfSxcbi8qIDEyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHR2YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRcdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0XHR2YXIgbWVtbztcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHRcdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0XHR9KSxcclxuXHRcdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHRcdH0pLFxyXG5cdFx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0XHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0XHRpZihmYWxzZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHRcdH1cclxuXHRcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHRcclxuXHRcdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cdFxyXG5cdFx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRcdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdFx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdFx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRcdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdFx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0XHRpZihpZHggPj0gMCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0XHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0XHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRcdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblx0XHJcblx0XHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdFx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHJcblx0XHR1cGRhdGUob2JqKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHR2YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblx0XHJcblx0XHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHRcclxuXHRcdGlmKG1lZGlhKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHRcdH1cclxuXHRcclxuXHRcdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXApIHtcclxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblx0XHJcblx0XHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHRcclxuXHRcdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cdFxyXG5cdFx0aWYob2xkU3JjKVxyXG5cdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDEyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJsaXR0bGUtaGFuZGxlXCI6IFwiX2xpdHRsZS1oYW5kbGVfaXcycnVfM1wiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMVwiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fbGluZVwiOiBcIl9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBiYXNlLCBzbmFwKSB7XG5cdCAgdmFyIG1vZGlmaWVkID0gTWF0aC5yb3VuZCh2YWx1ZSAvIGJhc2UpICogYmFzZTtcblx0XG5cdCAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gbW9kaWZpZWQpIDwgc25hcCA/IG1vZGlmaWVkIDogdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUsIG1pbiwgbWF4KSB7XG5cdCAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluIDogdmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTMyLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTdwYjFfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSk7Ym9yZGVyOjJweCBzb2xpZCAjZmZmfS5fcG9pbnRfMTdwYjFfNSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfS5fcG9pbnRfX3RvdWNoXzE3cGIxXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O21hcmdpbi1sZWZ0Oi0xMHB4O21hcmdpbi10b3A6LTEwcHh9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSwuX3BvaW50XzE3cGIxXzU6aG92ZXJ7Ym9yZGVyLWNvbG9yOiNmZjUxMmZ9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE3cGIxXzUuX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MiBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJwb2ludFwiOiBcIl9wb2ludF8xN3BiMV81XCIsXG5cdFx0XCJwb2ludF9fdG91Y2hcIjogXCJfcG9pbnRfX3RvdWNoXzE3cGIxXzFcIixcblx0XHRcImlzLXNlbGVjdGVkXCI6IFwiX2lzLXNlbGVjdGVkXzE3cGIxXzMxXCIsXG5cdFx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTM1LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfZ3Zjcm5fNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnX2d2Y3JuXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmVcIjogXCJfY3VydmVfZ3Zjcm5fNVwiLFxuXHRcdFwiY3VydmVfX2JhY2tncm91bmRcIjogXCJfY3VydmVfX2JhY2tncm91bmRfZ3Zjcm5fMVwiLFxuXHRcdFwiY3VydmVfX3N2Zy13cmFwcGVyXCI6IFwiX2N1cnZlX19zdmctd3JhcHBlcl9ndmNybl8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfZ3Zjcm5fMVwiLFxuXHRcdFwiY3VydmVfX3N2Zy1zZWdtZW50XCI6IFwiX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Myk7XG5cdFxuXHR2YXIgUmVzaXplSGFuZGxlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShSZXNpemVIYW5kbGUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBSZXNpemVIYW5kbGUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBSZXNpemVIYW5kbGUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUmVzaXplSGFuZGxlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgdHlwZSA9IHRoaXMucHJvcHMudHlwZTtcblx0ICAgICAgdmFyIGNsYXNzTmFtZSA9ICcnICsgQ0xBU1NFU1sncmVzaXplLWhhbmRsZSddO1xuXHQgICAgICB2YXIgY2xhc3NUeXBlID0gJycgKyBDTEFTU0VTWydyZXNpemUtaGFuZGxlLS0nICsgdHlwZV07XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICcgJyArIGNsYXNzVHlwZSArICcgJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgJ2RhdGEtdHlwZSc6IHR5cGUsXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAncmVzaXplLWhhbmRsZScgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ2VsbGlwc2lzJyB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgdHlwZSA9IHRoaXMucHJvcHMudHlwZTtcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRScsIGRhdGE6IHsgeDogeCwgeTogeSwgdHlwZTogdHlwZSB9IH0pO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFX0VORCcsIGRhdGE6IHsgeDogeCwgeTogeSwgdHlwZTogdHlwZSB9IH0pO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gUmVzaXplSGFuZGxlO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFJlc2l6ZUhhbmRsZTtcblxuLyoqKi8gfSxcbi8qIDEzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTQwKTtcblx0XG5cdHZhciBJY29uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShJY29uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSWNvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEljb24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoSWNvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJY29uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzaGFwZSA9IHRoaXMucHJvcHMuc2hhcGU7XG5cdCAgICAgIHZhciBtYXJrdXAgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+PHVzZSB4bGluazpocmVmPVwiIycgKyBzaGFwZSArICctc2hhcGVcIiAvPjwvc3ZnPic7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbiddLFxuXHQgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uJyxcblx0ICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IG1hcmt1cCB9IH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWNvbjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29uO1xuXG4vKioqLyB9LFxuLyogMTM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTQxLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbl80YThsZl81e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Y3Vyc29yOnBvaW50ZXI7ZmlsbDojZmZmO2Rpc3BsYXk6YmxvY2t9Ll9pY29uXzRhOGxmXzU+c3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNT5zdmc+dXNle2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6MX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLXJpZ2h0XCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzFcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE0NCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xZjhyNV80XCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fcmlnaHRcIjogXCJfY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nb1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2NvZGVCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFxuXHR2YXIgX2NvZGVCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29kZUJ1dHRvbik7XG5cdFxuXHR2YXIgX2ljb25EaXZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xuXHRcblx0dmFyIF9pY29uRGl2aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uRGl2aWRlcik7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nik7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9scyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3JMZWZ0ID0gZnVuY3Rpb24gQ3VydmVFZGl0b3JMZWZ0KF9yZWYpIHtcblx0ICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXHRcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2xlZnQnXSwgaWQ6ICdqcy1sZWZ0LXBhbmVsJyB9LFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX2NvZGVCdXR0b24yLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlIH0pLFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX2ljb25EaXZpZGVyMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKF9wb2ludENvbnRyb2xzMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSxcblx0ICAgICAgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zJ10gfSksXG5cdCAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgJ2EnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19tb2pzLWxvZ28nXSxcblx0ICAgICAgICBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL2xlZ29tdXNocm9vbS9tb2pzLWN1cnZlLWVkaXRvcicsIHRhcmdldDogJ19ibGFuaycgfSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb24yLmRlZmF1bHQsIHsgc2hhcGU6ICdtb2pzLWxvZ28nIH0pXG5cdCAgICApXG5cdCAgKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yTGVmdDtcblxuLyoqKi8gfSxcbi8qIDE0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbkJ1dHRvbik7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENvZGVCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENvZGVCdXR0b24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDb2RlQnV0dG9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ29kZUJ1dHRvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDb2RlQnV0dG9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENvZGVCdXR0b24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHN0YXRlID0gdGhpcy5wcm9wcy5zdGF0ZTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShfaWNvbkJ1dHRvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ2NvZGUnLCBpc0NoZWNrOiBzdGF0ZS5jb250cm9scy5pc0NvZGUgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgbWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQ09ERV9UQVAnIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIENvZGVCdXR0b247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29kZUJ1dHRvbjtcblxuLyoqKi8gfSxcbi8qIDE0OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcblx0XG5cdHZhciBJY29uQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShJY29uQnV0dG9uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSWNvbkJ1dHRvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEljb25CdXR0b24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoSWNvbkJ1dHRvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJY29uQnV0dG9uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBjaGVjayA9IHRoaXMucHJvcHMuaXNDaGVjayA/IENMQVNTRVNbJ2lzLWNoZWNrZWQnXSA6ICcnO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24tYnV0dG9uJ10gKyAnICcgKyBjaGVjayxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uLWJ1dHRvbicgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbjIuZGVmYXVsdCwgeyBzaGFwZTogdGhpcy5wcm9wcy5zaGFwZSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25UYXAgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB2YXIgaGFtbWVydGltZSA9IG5ldyBfaGFtbWVyanMyLmRlZmF1bHQodGhpcy5iYXNlKS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF90aGlzMi5wcm9wcy5vblRhcChlLCBfdGhpczIucHJvcHMpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJY29uQnV0dG9uO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb25CdXR0b247XG5cbi8qKiovIH0sXG4vKiAxNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1MCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTApO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tYnV0dG9uXzZ5c2RpXzR7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6IzNhMDgzOTtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC4xNSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3Zlcntib3gtc2hhZG93Om5vbmV9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVyIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmV7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggMCBoc2xhKDAsMCUsMTAwJSwuMjUpLGluc2V0IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjQpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSBbZGF0YS1jb21wb25lbnQ9aWNvbl0sLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZSBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiaWNvbi1idXR0b25cIjogXCJfaWNvbi1idXR0b25fNnlzZGlfNFwiLFxuXHRcdFwiaXMtY2hlY2tlZFwiOiBcIl9pcy1jaGVja2VkXzZ5c2RpXzMxXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24tZGl2aWRlciddLFxuXHQgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24tZGl2aWRlcicgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiaWNvbi1kaXZpZGVyXCI6IFwiX2ljb24tZGl2aWRlcl9mdGFza18zXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTU1LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1kaXZpZGVyX2Z0YXNrXzN7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bzt3aWR0aDoxNnB4O2hlaWdodDoxcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgwLDAsMCwuMyl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTU2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uQnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTkpO1xuXHRcblx0dmFyIFBvaW50Q29udHJvbHMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvaW50Q29udHJvbHMsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQb2ludENvbnRyb2xzKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9pbnRDb250cm9scyk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQb2ludENvbnRyb2xzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFBvaW50Q29udHJvbHMsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHAgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgc3RhdGUgPSBwLnN0YXRlO1xuXHQgICAgICB2YXIgY29udHJvbHMgPSBzdGF0ZS5wb2ludENvbnRyb2xzLnByZXNlbnQ7XG5cdCAgICAgIHZhciBzaG93ID0gY29udHJvbHMuaXNTaG93ID8gQ0xBU1NFU1snaXMtc2hvdyddIDogJyc7XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSBwLmNsYXNzTmFtZSArICcgJyArIENMQVNTRVNbJ3BvaW50LWNvbnRyb2xzJ10gKyAnICcgKyBzaG93O1xuXHQgICAgICB2YXIgYnV0dG9ucyA9IHRoaXMuX2FkZEJ1dHRvbnMoY29udHJvbHMpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgICAgICAnICcsXG5cdCAgICAgICAgYnV0dG9ucyxcblx0ICAgICAgICAnICdcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfb25CdXR0b25UYXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkJ1dHRvblRhcCh0eXBlKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gX3RoaXMyLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9DSEFOR0VfVFlQRScsIGRhdGE6IHR5cGUsIGlzUmVjb3JkOiB0cnVlIH0pO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19hZGRCdXR0b25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQnV0dG9ucyhjb250cm9scykge1xuXHQgICAgICB2YXIgYnV0dG9uc01hcCA9IFsnc3RyYWlnaHQnLCAnZGlzY29ubmVjdGVkJywgJ21pcnJvcmVkJywgJ2FzeW1tZXRyaWMnXSxcblx0ICAgICAgICAgIGJ1dHRvbnMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uc01hcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciB0eXBlID0gYnV0dG9uc01hcFtpXTtcblx0ICAgICAgICBidXR0b25zLnB1c2goKDAsIF9wcmVhY3QuaCkoX2ljb25CdXR0b24yLmRlZmF1bHQsIHsgc2hhcGU6ICdwb2ludC0nICsgdHlwZSxcblx0ICAgICAgICAgIGlzQ2hlY2s6IGNvbnRyb2xzLnR5cGUgPT09IHR5cGUsXG5cdCAgICAgICAgICBvblRhcDogdGhpcy5fb25CdXR0b25UYXAodHlwZSkgfSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBidXR0b25zO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gUG9pbnRDb250cm9scztcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQb2ludENvbnRyb2xzO1xuXG4vKioqLyB9LFxuLyogMTU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNTgsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludC1jb250cm9sc18xeGN1N180e2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjNweDtoZWlnaHQ6Ny41cHg7YmFja2dyb3VuZDojZmY1MTJmO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjJweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoycHg7bGVmdDotMTBweDt0b3A6NTAlO21hcmdpbi10b3A6LTMuNzVweDtkaXNwbGF5Om5vbmV9Ll9wb2ludC1jb250cm9sc18xeGN1N180IFtkYXRhLWNvbXBvbmVudD1pY29uLWJ1dHRvbl1bY2xhc3MqPWlzLWNoZWNrZWRdOmFmdGVyLC5fcG9pbnQtY29udHJvbHNfMXhjdTdfNC5faXMtc2hvd18xeGN1N183e2Rpc3BsYXk6YmxvY2t9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInBvaW50LWNvbnRyb2xzXCI6IFwiX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzRcIixcblx0XHRcImlzLXNob3dcIjogXCJfaXMtc2hvd18xeGN1N183XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgSWNvbnMgPSBmdW5jdGlvbiBJY29ucygpIHtcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiAnPHN2ZyBoZWlnaHQ9XCIwXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBtYXJnaW4tbGVmdDogLTEwMCU7IHdpZHRoOjA7IGhlaWdodDowO1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxcbiAgICAgIDxnIGlkPVwiZWxsaXBzaXMtc2hhcGVcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE2XCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMjFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICA8L2c+XFxuICAgICAgPHBhdGggaWQ9XCJjb2RlLXNoYXBlXCIgZD1cIk04LDE2LjA4NDk2NDggQzgsMTUuODIxMDc5MyA4LjExMTQ5MDY5LDE1LjYxMjkzOTMgOC4zMzQ4MzQwNSwxNS40NjA5MDY1IEwxMi4zMzkwODc0LDEyLjg0MTk2MTIgQzEyLjM4OTc2NDksMTIuODAxNDE5MiAxMi40NjU3ODEzLDEyLjc4MTE0ODEgMTIuNTY3NDk4NSwxMi43ODExNDgxIEMxMi43Mzk4MDIzLDEyLjc4MTE0ODEgMTIuOTA0ODY2NCwxMi44NTcxNjQ1IDEzLjA2MjMyODksMTMuMDA5NTU5MiBDMTMuMjE5NDI5NCwxMy4xNjE5NTQgMTMuMjk4MzQxNywxMy4zMzkzMjU1IDEzLjI5ODM0MTcsMTMuNTQyMzk3OSBDMTMuMjk4MzQxNywxMy43MzUzMzQ3IDEzLjIyMTk2MzMsMTMuODgyNjYxNyAxMy4wNjkyMDY2LDEzLjk4NDAxNjggTDkuODU3Njk1NTMsMTYuMDg0OTY0OCBMMTMuMDY5MjA2NiwxOC4xODYyNzQ3IEMxMy4yMjE5NjMzLDE4LjI2NzcyMDggMTMuMjk4MzQxNywxOC40MTQ2ODU4IDEzLjI5ODM0MTcsMTguNjI3ODkzNyBDMTMuMjk4MzQxNywxOC44MzA5NjYgMTMuMjE5NzkxNCwxOS4wMDYxNjU3IDEzLjA2MjMyODksMTkuMTUzMTMwNyBDMTIuOTA0ODY2NCwxOS4zMDA0NTc2IDEyLjczOTgwMjMsMTkuMzczOTQwMSAxMi41Njc0OTg1LDE5LjM3Mzk0MDEgQzEyLjQ2NTc4MTMsMTkuMzczOTQwMSAxMi4zODk3NjQ5LDE5LjM1MzY2OTEgMTIuMzM5MDg3NCwxOS4zMTMxMjcgTDguMzM0ODM0MDUsMTYuNjkzODE5OCBDOC4xMTE0OTA2OSwxNi41NDE0MjUgOCwxNi4zMzg3MTQ3IDgsMTYuMDg0OTY0OCBMOCwxNi4wODQ5NjQ4IFogTTE0LjEzOTk1MTYsMjAuNjg3NTc1NiBDMTQuMTI2NTU4MiwyMC42MDc1Nzc0IDE0LjEyODczMDEsMjAuNTMwMTEzMSAxNC4xNDY4MjkzLDIwLjQ1NDgyMDcgTDE2LjkzOTUyNjMsMTEuMzU2MDIyIEMxNi45ODkxMTc5LDExLjE2MjM2MTIgMTcuMTIzNzc1NSwxMS4wNDY4ODg3IDE3LjM0NDIyMywxMS4wMDk2MDQ1IEMxNy41MDQyMTk0LDEwLjk4MjQ1NTggMTcuNjU4Nzg2LDExLjAxMjg2MjMgMTcuODA3NTYwOSwxMS4xMDA4MjQyIEMxNy45NTYzMzU4LDExLjE4OTE0NzkgMTguMDQ0Mjk3NiwxMS4zMTMzMDggMTguMDcxMDg0NCwxMS40NzMzMDQ0IEMxOC4wODYyODc2LDExLjU2MzQzODEgMTguMDc5NzcyLDExLjY0NzA1NjEgMTguMDUxODk5MywxMS43MjM3OTY1IEwxNS4yNjY0NDE5LDIwLjc3NDgxMzQgQzE1LjIwODUyNDcsMjAuOTgwMDU3NyAxNS4wNTkzODc4LDIxLjEwMzEzMTggMTQuODE5MzkzMiwyMS4xNDQwMzU4IEMxNC42NDg4OTkzLDIxLjE3Mjk5NDUgMTQuNDk5NDAwNSwyMS4xMzg5NjgxIDE0LjM2OTgxMDYsMjEuMDQyNjgwNyBDMTQuMjQwMjIwOCwyMC45NDYwMzEzIDE0LjE2Mzg0MjQsMjAuODI3NjYyOSAxNC4xMzk5NTE2LDIwLjY4NzU3NTYgTDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBaIE0xOC45NTI4NzQ0LDE5LjE1Mjc2ODcgQzE4Ljc5NTQxMTksMTkuMDA1ODAzNyAxOC43MTY4NjE2LDE4LjgzMDYwNCAxOC43MTY4NjE2LDE4LjYyNzUzMTcgQzE4LjcxNjg2MTYsMTguNDI0NDU5NCAxOC43ODc4MTAyLDE4LjI3NzQ5NDQgMTguOTMwMDY5NSwxOC4xODU5MTI3IEwyMi4xNDI2NjY1LDE2LjA4NDYwMjggTDE4LjkzMDA2OTUsMTMuOTgzNjU0OSBDMTguNzg3ODEwMiwxMy44NzE4MDIyIDE4LjcxNjg2MTYsMTMuNzI0ODM3MiAxOC43MTY4NjE2LDEzLjU0MjAzNTkgQzE4LjcxNjg2MTYsMTMuMzM4OTYzNiAxOC43OTU0MTE5LDEzLjE2MTU5MiAxOC45NTI4NzQ0LDEzLjAwOTE5NzMgQzE5LjExMDMzNjksMTIuODU2ODAyNSAxOS4yNzUwMzksMTIuNzgwNzg2MSAxOS40NDc3MDQ4LDEyLjc4MDc4NjEgQzE5LjUzODkyNDUsMTIuNzgwNzg2MSAxOS42MDk4NzMxLDEyLjgwMTQxOTIgMTkuNjYwOTEyNiwxMi44NDE1OTkyIEwyMy42NjUxNjU5LDE1LjQ2MDU0NDUgQzIzLjg4ODE0NzMsMTUuNjEyOTM5MyAyNCwxNS44MjEwNzkzIDI0LDE2LjA4NDYwMjggQzI0LDE2LjM0ODg1MDIgMjMuODg4MTQ3MywxNi41NTE1NjA2IDIzLjY2NTE2NTksMTYuNjkzODE5OCBMMTkuNjYwOTEyNiwxOS4zMTI3NjUxIEMxOS42MDk4NzMxLDE5LjM1MzMwNzEgMTkuNTM4OTI0NSwxOS4zNzM1NzgyIDE5LjQ0NzcwNDgsMTkuMzczNTc4MiBDMTkuMjc1MDM5LDE5LjM3MzU3ODIgMTkuMTEwMzM2OSwxOS4zMDAwOTU3IDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBMMTguOTUyODc0NCwxOS4xNTI3Njg3IFpcIj48L3BhdGg+XFxuICAgICAgPGcgaWQ9XCJwb2ludC1zdHJhaWdodC1zaGFwZVwiIGZpbGw9XCJub25lXCI+XFxuICAgICAgICA8cG9seWxpbmUgZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgcG9pbnRzPVwiNy44ODEgMjAuNTY4IDE1LjQ1MSAxMi4yNDEgMjMuODkyIDIwLjU2OFwiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LW1pcnJvcmVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjEuOTAxMjYzMiBDNy44ODE0NDg0MSwyMS45MDEyNjMyIDcuNTkyODcxNzIsMTMuNTc0MDUzNyAxNS40NTE0NDIzLDEzLjU3NDA1MzcgQzIzLjMxMDAxMjksMTMuNTc0MDUzNyAyMy44OTIxMjI4LDIxLjkwMTI2MzIgMjMuODkyMTIyOCwyMS45MDEyNjMyXCIvPlxcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNNy4xMzg4MzUyNywxMy4zMzMzMzMzIEwyNS44MDU1MDEzLDEzLjMzMzMzMzNcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxNC45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGVsbGlwc2UgY3g9XCIxNS4zMzNcIiBjeT1cIjEzLjMzM1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjRcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LWRpc2Nvbm5lY3RlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxcbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIwLjU2NzkyOTggQzcuODgxNDQ4NDEsMjAuNTY3OTI5OCA3LjU5Mjg3MTcyLDEyLjI0MDcyMDQgMTUuNDUxNDQyMywxMi4yNDA3MjA0IEMyMS4yMDA1MjA3LDE3Ljg4NzM3IDIzLjg5MjEyMjgsMjAuNTY3OTI5OCAyMy44OTIxMjI4LDIwLjU2NzkyOThcIi8+XFxuICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPVwiI0ZGNTEyRlwiIHBvaW50cz1cIjYuMTMzIDEyIDE1LjIyOCAxMiAyMy45MzMgMjAuNjAyXCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjEuODg2XCIgeT1cIjE4LjU1MlwiIGZpbGw9XCIjRkY1MTJGXCIgdHJhbnNmb3JtPVwicm90YXRlKDQ1IDIzLjIxOSAxOS44ODYpXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEwLjY2N1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LWFzeW1tZXRyaWMtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNy42NjcgOS4zMzMpXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTAuMjE0NzgxNzQyLDExLjIzNDU5NjUgQzAuMjE0NzgxNzQyLDExLjIzNDU5NjUgLTAuMzczNTExODY5LDIuOTA3MDk2MTMgNy43ODQ3NzU2NCwyLjkwNzM4NzA0IEMxMC43NTAwMDAzLDIuOTA3NDkyNzcgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NVwiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjlcIiBjeT1cIjQuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTIuNTI3ODg1MDMsMi42NjY2NjY2NyBMMTguMTM4ODM0NiwyLjY2NjY2NjY3XCIvPlxcbiAgICAgICAgPGVsbGlwc2UgY3g9XCI3LjY2N1wiIGN5PVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjE2LjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICA8L2c+XFxuICAgICAgPHBhdGggaWQ9XCJtb2pzLWxvZ28tc2hhcGVcIiBkPVwiTTE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBDMTkuNDg4NTg2LDMuMjU3NTg2MjUgMjAuMjc4OTIyNyw0LjE4NDIxNjUxIDIwLjg3ODIzLDUuMTk3MzU3OSBDMjQuMDgwNzc4OCwxMC41MDE0NTEgMjcuMjc3NzA5MSwxNS44MTEzMTE2IDMwLjQ4MDI1OCwyMS4xMTU0MDQ3IEMzMS4xMzIwMDQ3LDIyLjE2MTIyODEgMzEuNzcwNjQxNywyMy4yNjQ3MjU2IDMxLjkzNTQ1MTIsMjQuNTE2MjUzMiBDMzIuMTg4Mjg0LDI2LjA2MTkxODYgMzEuNjkxOTgyNiwyNy43MzYzODk1IDMwLjU1ODkxNzEsMjguODAzMzYgQzI5LjQ1MDE5ODQsMjkuODg1NzEwMyAyNy44ODA3NjIyLDMwLjMxODI2NTkgMjYuMzgwNjIwOSwzMC4zMDQ4MDg2IEMxOS40NTExMjkzLDMwLjMwODY1MzUgMTIuNTIzNTEwNiwzMC4zMDg2NTM1IDUuNTk0MDE5MDEsMzAuMzA0ODA4NiBDMy43MTU1NjQ5NCwzMC4zNDMyNTggMS42OTg1MjEwNCwyOS41NzIzNDc4IDAuNjgzNDQ0MTY1LDI3Ljg3MDk2MjMgQy0wLjQwNjU0NjEzMiwyNi4xMDk5ODAzIC0wLjA5NzUyODI2NDMsMjMuNzkxNDgyMiAwLjk0MDAyMjYzNywyMi4wODQzMjkzIEM0LjM0Mjk2NDg1LDE2LjQxMzA0NDUgNy43NjY1MDgyNiwxMC43NTMyOTQ1IDExLjE4MjU2MDMsNS4wODk2OTk2MSBDMTEuOTc0NzY5OCwzLjc0NzgxNTk1IDEzLjE4NDYyMTUsMi42MDIwMjQxOCAxNC42ODQ3NjI4LDIuMTgyOTI1ODQgQzE1Ljk0NTE4MTIsMS44MTU3MzQxOCAxNy4zMzQ4MjUxLDIuMDExODI2MDYgMTguNDY3ODkwNywyLjY3NzAwMDQ4IFogTTE1LjMzMzQ2NjgsOS41MTUyNjg0OSBDMTUuNjE0NjIzOCw5LjAzNzc5NDc2IDE2LjA3OTE1OTcsOS4wMjI1MDY1NSAxNi4zNzg1Njc5LDkuNDkyOTU0NyBMMjUuMjc2MzU1NSwyMy40NzM2OTEzIEMyNS41NzIzOTE5LDIzLjkzODg0MTQgMjUuMzU2ODQzMywyNC4zMTU5MjAxIDI0LjgwNzQzOTgsMjQuMzE1OTIwMiBMNy42MjMxNDY0NywyNC4zMTU5MjA1IEM3LjA2ODEzNTA1LDI0LjMxNTkyMDYgNi44NDYyMjc5OCwyMy45Mjg2ODg5IDcuMTI3Mjg5MTMsMjMuNDUxMzc3OSBMMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IFpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PC9wYXRoPlxcbiAgICA8L3N2Zz4nIH0gfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29ucztcblxuLyoqKi8gfSxcbi8qIDE2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTYyKTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoX3JlZikge1xuXHQgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdCAgdmFyIHBvaW50cyA9IHN0YXRlLnBvaW50cztcblx0ICB2YXIgY29udHJvbHMgPSBzdGF0ZS5jb250cm9scztcblx0ICB2YXIgb3BlbiA9IGNvbnRyb2xzLmlzQ29kZSA/IENMQVNTRVNbJ2lzLW9wZW4nXSA6ICcnO1xuXHQgIHZhciBtYWluQ2xhc3MgPSBDTEFTU0VTWydjb2RlLXBhbmVsJ10gKyAnICcgKyBvcGVuO1xuXHRcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiBtYWluQ2xhc3MgfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lubmVyJ10gfSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAndG9wJyB9KSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LXdyYXAnXSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdpbnB1dCcsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC1maWVsZCddLFxuXHQgICAgICAgICAgdHlwZTogJ3RleHQnLCByZWFkb25seTogJ3JlYWRvbmx5Jyxcblx0ICAgICAgICAgIHZhbHVlOiBwb2ludHMucHJlc2VudC5wYXRoIH0pXG5cdCAgICAgIClcblx0ICAgIClcblx0ICApO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNjMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jb2RlLXBhbmVsX25uYjlwXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3JpZ2h0OjEwcHg7Ym90dG9tOjEwMCU7ei1pbmRleDoxO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXRvcDoxNnB4O2JveC1zaXppbmc6Y29udGVudC1ib3h9Ll9jb2RlLXBhbmVsX25uYjlwXzMgW2RhdGEtY29tcG9uZW50PXJlc2l6ZS1oYW5kbGVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JvdHRvbToxMDAlfS5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXtib3JkZXItcmFkaXVzOjZweCA2cHggMCAwO2JhY2tncm91bmQ6IzNkMWIzYztwYWRkaW5nOjRweCA1cHggNXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXQ7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0fS5fY29kZS1wYW5lbF9faW5wdXQtd3JhcF9ubmI5cF8xe2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6IzQyMTAzZjtib3JkZXI6MXB4IHNvbGlkICM5YzgyOWE7Ym94LXNoYWRvdzppbnNldCAycHggMnB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9jb2RlLXBhbmVsX19pbnB1dC1maWVsZF9ubmI5cF8xe2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6LjQ1cHg7Zm9udC13ZWlnaHQ6MTAwO3BhZGRpbmc6MCAuM2VtIDAgLjhlbTtib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyMXB4O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6LW1vei1zZWxlY3Rpb24sLmNvZGUtcGFuZWwgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjpzZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zLl9pcy1vcGVuX25uYjlwXzYxIC5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjb2RlLXBhbmVsXCI6IFwiX2NvZGUtcGFuZWxfbm5iOXBfM1wiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5uZXJcIjogXCJfY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMVwiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5wdXQtd3JhcFwiOiBcIl9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzFcIixcblx0XHRcImNvZGUtcGFuZWxfX2lucHV0LWZpZWxkXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzFcIixcblx0XHRcImlzLW9wZW5cIjogXCJfaXMtb3Blbl9ubmI5cF82MVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE2NiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlLWVkaXRvcl8xZjhyNV80e3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDt0b3A6MDt3aWR0aDo0MDNweDtoZWlnaHQ6Mzc4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC44NSk7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzoycHggMnB4IDJweCByZ2JhKDAsMCwwLC4zOCl9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MnB4O2xlZnQ6MDt0b3A6MDtib3R0b206MDtwYWRkaW5nOjEwcHg7Y3Vyc29yOm1vdmV9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1kaXZpZGVyXXttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXXttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblx0XG5cdHZhciBfaW5kZXhSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4UmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGluaXRTdG9yZSA9IGZ1bmN0aW9uIGluaXRTdG9yZSgpIHtcblx0ICByZXR1cm4gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4UmVkdWNlcjIuZGVmYXVsdCk7XG5cdH07XG5cdC8vIGltcG9ydCByZWR1Y2VyXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXRTdG9yZTtcblxuLyoqKi8gfSxcbi8qIDE2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9yZWR1eFVuZG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFVuZG8pO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjkpO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZVJlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50c1JlZHVjZXIpO1xuXHRcblx0dmFyIF9jb250cm9sc1JlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCk7XG5cdFxuXHR2YXIgX2NvbnRyb2xzUmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb250cm9sc1JlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTg5KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sc1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9sc1JlZHVjZXIpO1xuXHRcblx0dmFyIF9yZWR1eFJlY3ljbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Mik7XG5cdFxuXHR2YXIgX3JlZHV4UmVjeWNsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFJlY3ljbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIFJlZHV4IHV0aWxpdHkgZnVuY3Rpb25zXG5cdHZhciBVTkRPQUJMRV9PUFRTID0ge1xuXHQgIGxpbWl0OiAxMCxcblx0ICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlckFjdGlvbnMoYWN0aW9uLCBjdXJyU3RhdGUsIGhpc3RvcnkpIHtcblx0ICAgIHJldHVybiBhY3Rpb24uaXNSZWNvcmQ7IC8vIG9ubHkgYWRkIHRvIGhpc3RvcnkgaWYgaXNSZWNvcmQgc2V0IG9uIGFjdGlvblxuXHQgIH0sXG5cdCAgZGVidWc6IGZhbHNlXG5cdH07XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyLW9yZGVyIHJlZHVjZXJcblx0XG5cdFxuXHR2YXIgcmVkdWNlciA9ICgwLCBfcmVkdXhSZWN5Y2xlMi5kZWZhdWx0KSgoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuXHQgIHJlc2l6ZTogX3Jlc2l6ZVJlZHVjZXIyLmRlZmF1bHQsXG5cdCAgcG9pbnRzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50c1JlZHVjZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIFVORE9BQkxFX09QVFMpKSxcblx0ICBjb250cm9sczogX2NvbnRyb2xzUmVkdWNlcjIuZGVmYXVsdCxcblx0ICBwb2ludENvbnRyb2xzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50Q29udHJvbHNSZWR1Y2VyMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBVTkRPQUJMRV9PUFRTKSlcblx0fSksIFsnU0VUX1NUQVRFJ10sIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgcmV0dXJuIGFjdGlvbi5kYXRhO1xuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHM0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzNSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHM0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICB4OiAxNTAsXG5cdCAgdGVtcFg6IDAsXG5cdFxuXHQgIHk6IDEwMCxcblx0ICB0ZW1wWTogMCxcblx0XG5cdCAgdG9wOiAwLFxuXHQgIHRlbXBfdG9wOiAwLFxuXHRcblx0ICByaWdodDogMCxcblx0ICB0ZW1wX3JpZ2h0OiAwLFxuXHRcblx0ICBib3R0b206IDAsXG5cdCAgdGVtcF9ib3R0b206IDAsXG5cdCAgc2NhbGVyWDogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UXG5cdH07XG5cdFxuXHR2YXIgcmVzaXplUmVkdWNlciA9IGZ1bmN0aW9uIHJlc2l6ZVJlZHVjZXIoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICBjYXNlICdFRElUT1JfUkVTSVpFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG5cdCAgICAgICAgdmFyIGRlbHRhID0gdHlwZSA9PT0gJ3RvcCcgfHwgdHlwZSA9PT0gJ2JvdHRvbScgPyBkYXRhLnkgOiBkYXRhLng7XG5cdFxuXHQgICAgICAgIHZhciBuZXdTdGF0ZSA9ICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KSh7fSwgJ3RlbXBfJyArIHR5cGUsIGRlbHRhKSk7XG5cdCAgICAgICAgLy8gaWYgYHJpZ2h0YHNpemUgY2hhbmdlZCAtIGNhbGN1bGF0ZSB0aGUgc2NhbGVyIGZvciB4IGF4aXNcblx0ICAgICAgICBpZiAodHlwZSA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgICAgICAgbmV3U3RhdGVbJ3NjYWxlclgnXSA9IChfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyBNYXRoLm1heChzdGF0ZS5yaWdodCArIGRlbHRhLCAwKSkgLyAxMDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9SRVNJWkVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZXh0ZW5kczM7XG5cdFxuXHQgICAgICAgIHZhciBfZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfdHlwZSA9IF9kYXRhLnR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBfZGVsdGEgPSBfdHlwZSA9PT0gJ3RvcCcgfHwgX3R5cGUgPT09ICdib3R0b20nID8gX2RhdGEueSA6IF9kYXRhLng7XG5cdCAgICAgICAgLy8gZ2V0IHRoZSB0b3RhbCByZXNpemUgdmFsdWUgKCB0ZW1wb3JhcnkgKyBhY3R1YWwgKVxuXHQgICAgICAgIHZhciByZXNpemUgPSBzdGF0ZVsnJyArIGFjdGlvbi5kYXRhLnR5cGVdICsgX2RlbHRhO1xuXHQgICAgICAgIC8vIGlmIHRoZSB0eXBlIGlmIHRvIC0gaXQgaGFzIHRoZSBgLWAgYXMgYmFzZSBzbyB3ZSBuZWVkIHRvIHN3YXAgbWV0aG9kc1xuXHQgICAgICAgIHZhciBtYXRoTWV0aG9kID0gX3R5cGUgPT09ICd0b3AnID8gJ21pbicgOiAnbWF4Jztcblx0ICAgICAgICB2YXIgX25ld1N0YXRlID0gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIChfZXh0ZW5kczMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX2V4dGVuZHMzLCAnJyArIGFjdGlvbi5kYXRhLnR5cGUsIE1hdGhbbWF0aE1ldGhvZF0oMCwgcmVzaXplKSksICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKF9leHRlbmRzMywgJ3RlbXBfJyArIGFjdGlvbi5kYXRhLnR5cGUsIDApLCBfZXh0ZW5kczMpKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9hY3Rpb24kZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciB4ID0gX2FjdGlvbiRkYXRhLng7XG5cdCAgICAgICAgdmFyIHkgPSBfYWN0aW9uJGRhdGEueTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHRlbXBYOiB4LCB0ZW1wWTogeSB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfYWN0aW9uJGRhdGEyID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF94MiA9IF9hY3Rpb24kZGF0YTIueDtcblx0ICAgICAgICB2YXIgX3kgPSBfYWN0aW9uJGRhdGEyLnk7XG5cdFxuXHQgICAgICAgIF94MiArPSBzdGF0ZS54O1xuXHQgICAgICAgIF95ICs9IHN0YXRlLnk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHg6IF94MiwgeTogX3ksIHRlbXBYOiAwLCB0ZW1wWTogMCB9KTtcblx0ICAgICAgfVxuXHRcblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVzaXplUmVkdWNlcjtcblxuLyoqKi8gfSxcbi8qIDE3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuXHQgIGlmIChrZXkgaW4gb2JqKSB7XG5cdCAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgICAgd3JpdGFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmpba2V5XSA9IHZhbHVlO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG9iajtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Db25zdW1hYmxlQXJyYXkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9tYWtlUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Mik7XG5cdFxuXHR2YXIgX21ha2VQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYWtlUG9pbnQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9pbml0UG9pbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODMpO1xuXHRcblx0dmFyIF9pbml0UG9pbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaXRQb2ludHMpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVBhdGgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIHBhdGg6ICcnLFxuXHQgIHNlZ21lbnRzOiBbXSxcblx0ICBwb2ludHM6IFtdXG5cdCAgLy8gcG9pbnRzOiBpbml0UG9pbnRzKFtcblx0ICAvLyAgIG1ha2VQb2ludCh7IHg6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUsIHR5cGU6ICdzdHJhaWdodCcgfSksXG5cdCAgLy8gICAvLyBtYWtlUG9pbnQoeyB4OiA1MCwgIHk6IEMuQ1VSVkVfU0laRS8yLCB0eXBlOiAnbWlycm9yZWQnIH0pLFxuXHQgIC8vICAgbWFrZVBvaW50KHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSlcblx0ICAvLyBdKVxuXHR9O1xuXHRcblx0dmFyIGRlc2VsZWN0QWxsID0gZnVuY3Rpb24gZGVzZWxlY3RBbGwoc3RhdGUpIHtcblx0ICB2YXIgbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBwb2ludHM6IFtdIH0pLFxuXHQgICAgICBwb2ludHMgPSBzdGF0ZS5wb2ludHM7XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBuZXdTdGF0ZS5wb2ludHMucHVzaCgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwb2ludHNbaV0sIHsgaXNTZWxlY3RlZDogZmFsc2UgfSkpO1xuXHQgIH1cblx0ICByZXR1cm4gbmV3U3RhdGU7XG5cdH07XG5cdFxuXHR2YXIgZmluZFNlbGVjdGVkSW5kZWNpZXMgPSBmdW5jdGlvbiBmaW5kU2VsZWN0ZWRJbmRlY2llcyhwb2ludHMpIHtcblx0ICB2YXIgaW5kZWNpZXMgPSBbXTtcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHBvaW50c1tpXS5pc1NlbGVjdGVkICYmIGluZGVjaWVzLnB1c2goaSk7XG5cdCAgfVxuXHQgIHJldHVybiBpbmRlY2llcztcblx0fTtcblx0XG5cdHZhciBwb2ludHNSZWR1Y2VyID0gZnVuY3Rpb24gcG9pbnRzUmVkdWNlcigpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBpbmRleCA9IGRhdGEuaW5kZXg7XG5cdCAgICAgICAgdmFyIHBvaW50cyA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgb2xkUG9pbnQgPSBwb2ludHNbaW5kZXhdO1xuXHQgICAgICAgIHZhciBuZXdQb2ludHMgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkocG9pbnRzKSk7XG5cdFxuXHQgICAgICAgIG5ld1BvaW50c1tkYXRhLmluZGV4XSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG9sZFBvaW50LCB7IHRlbXBYOiBkYXRhLngsIHRlbXBZOiBkYXRhLnkgfSk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IG5ld1BvaW50cyB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKG5ld1BvaW50cykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2luZGV4ID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF9wb2ludHMgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIF9vbGRQb2ludCA9IF9wb2ludHNbX2luZGV4XTtcblx0ICAgICAgICB2YXIgX25ld1BvaW50cyA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShfcG9pbnRzKSk7XG5cdFxuXHQgICAgICAgIF9uZXdQb2ludHNbX2luZGV4XSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9vbGRQb2ludCwge1xuXHQgICAgICAgICAgeDogX29sZFBvaW50LnggKyBfb2xkUG9pbnQudGVtcFgsXG5cdCAgICAgICAgICB5OiBfb2xkUG9pbnQueSArIF9vbGRQb2ludC50ZW1wWSxcblx0ICAgICAgICAgIHRlbXBYOiAwLCB0ZW1wWTogMFxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogX25ld1BvaW50cyB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2RhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX2luZGV4MiA9IF9kYXRhLmluZGV4O1xuXHQgICAgICAgIHZhciBpc0Rlc2VsZWN0ID0gX2RhdGEuaXNEZXNlbGVjdDtcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSBpc0Rlc2VsZWN0ID8gZGVzZWxlY3RBbGwoc3RhdGUpIDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUpO1xuXHQgICAgICAgIHZhciBfcG9pbnRzMiA9IG5ld1N0YXRlLnBvaW50cztcblx0XG5cdFxuXHQgICAgICAgIHZhciBwb2ludCA9IF9wb2ludHMyW19pbmRleDJdO1xuXHQgICAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBwb2ludHM6IF9wb2ludHMyIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfQUREJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZGF0YTIgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX2luZGV4MyA9IF9kYXRhMi5pbmRleDtcblx0ICAgICAgICB2YXIgX3BvaW50ID0gX2RhdGEyLnBvaW50O1xuXHQgICAgICAgIHZhciBkZXNlbGVjdGVkID0gZGVzZWxlY3RBbGwoc3RhdGUpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czIgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5wb2ludHMuc2xpY2UoMCwgX2luZGV4MykpLCBbKDAsIF9tYWtlUG9pbnQyLmRlZmF1bHQpKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludCkpXSwgKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5wb2ludHMuc2xpY2UoX2luZGV4MykpKTtcblx0XG5cdCAgICAgICAgdmFyIF9wb2ludHMzID0gX25ld1BvaW50czIubGVuZ3RoID4gMSA/ICgwLCBfaW5pdFBvaW50czIuZGVmYXVsdCkoX25ld1BvaW50czIpIDogX25ld1BvaW50czI7XG5cdFxuXHQgICAgICAgIHZhciBwYXRoID0gX3BvaW50czMubGVuZ3RoID4gMSA/ICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX3BvaW50czMpIDoge307XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBfcG9pbnRzMyB9LCBwYXRoKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0RFTEVURSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX3BvaW50czQgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoX3BvaW50czQpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czMgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9wb2ludHM0Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICB2YXIgaXRlbSA9IF9wb2ludHM0W2ldO1xuXHQgICAgICAgICAgKHNlbGVjdGVkLmluZGV4T2YoaSkgPT09IC0xIHx8IGl0ZW0uaXNMb2NrZWRYKSAmJiBfbmV3UG9pbnRzMy5wdXNoKGl0ZW0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IF9uZXdQb2ludHMzIH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX25ld1BvaW50czMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfcG9pbnRzNSA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgX3NlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoX3BvaW50czUpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czQgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9wb2ludHM1Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICB2YXIgX2l0ZW0gPSBfcG9pbnRzNVtpXSxcblx0ICAgICAgICAgICAgICB0eXBlID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgICAvLyBjb3B5IGFsbCBpdGVtcyBmcm9tIHByZXZpb3VzIHBvaW50c1xuXHQgICAgICAgICAgX25ld1BvaW50czQucHVzaCgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfaXRlbSkpO1xuXHQgICAgICAgICAgLy8gaWYgaXRlbSB3YXMgc2VsZWN0ZWQgLSBzZXQgdGhlIG5ldyBgdHlwZWBcblx0ICAgICAgICAgIF9zZWxlY3RlZC5pbmRleE9mKGkpICE9PSAtMSAmJiAoX25ld1BvaW50czRbaV0udHlwZSA9IHR5cGUpO1xuXHRcblx0ICAgICAgICAgIHZhciBfaW5kZXg0ID0gaSxcblx0ICAgICAgICAgICAgICBfcG9pbnQyID0gX25ld1BvaW50czRbX2luZGV4NF0sXG5cdCAgICAgICAgICAgICAgc2liUG9pbnQgPSBfaW5kZXg0ID09PSBfbmV3UG9pbnRzNC5sZW5ndGggLSAxID8gX25ld1BvaW50czRbX2luZGV4NCAtIDFdIDogX25ld1BvaW50czRbX2luZGV4NCArIDFdO1xuXHRcblx0ICAgICAgICAgIHZhciBoYW5kbGVJbmRleCA9IF9pbmRleDQgPT09IF9uZXdQb2ludHM0Lmxlbmd0aCAtIDEgPyAxIDogMixcblx0ICAgICAgICAgICAgICBzaWJIYW5kbGVJbmRleCA9IGhhbmRsZUluZGV4ID09PSAxID8gMiA6IDEsXG5cdCAgICAgICAgICAgICAgaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgaGFuZGxlSW5kZXgsXG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgc2liSGFuZGxlSW5kZXgsXG5cdCAgICAgICAgICAgICAgaGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX3BvaW50MltoYW5kbGVOYW1lXSksXG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX3BvaW50MltzaWJIYW5kbGVOYW1lXSk7XG5cdFxuXHQgICAgICAgICAgX3BvaW50MltoYW5kbGVOYW1lXSA9IGhhbmRsZTtcblx0ICAgICAgICAgIF9wb2ludDJbc2liSGFuZGxlTmFtZV0gPSBzaWJIYW5kbGU7XG5cdFxuXHQgICAgICAgICAgaWYgKHR5cGUgPT09ICdtaXJyb3JlZCcgfHwgdHlwZSA9PT0gJ2FzeW1tZXRyaWMnKSB7XG5cdCAgICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcblx0ICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtaXJyb3JlZCcpIHtcblx0ICAgICAgICAgICAgICBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1cztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IF9uZXdQb2ludHM0IH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX25ld1BvaW50czQpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZGVzZWxlY3RBbGwoc3RhdGUpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIC8vIEhBTkRMRVNcblx0ICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9wb2ludHM2ID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBfZGF0YTMgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICAvLyBjcmVhdGUgbmV3IHN0YXRlIGFuZCBjb3B5IHRoZSBuZXcgcG9pbnQgaW50byBpdFxuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoX3BvaW50czYpKSxcblx0ICAgICAgICAgICAgbmV3UG9pbnQgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfbmV3UG9pbnRzNVtfZGF0YTMucGFyZW50SW5kZXhdKTtcblx0XG5cdCAgICAgICAgX25ld1BvaW50czVbX2RhdGEzLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuXHQgICAgICAgIC8vIGNyZWF0ZSBoYW5kbGUgYW5kIGNvcHkgaXQgaW50byB0aGUgbmV3IHBvaW50XG5cdCAgICAgICAgdmFyIF9oYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBfZGF0YTMuaW5kZXgsXG5cdCAgICAgICAgICAgIG5ld0hhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG5ld1BvaW50W19oYW5kbGVOYW1lXSk7XG5cdFxuXHQgICAgICAgIG5ld1BvaW50W19oYW5kbGVOYW1lXSA9IG5ld0hhbmRsZTtcblx0ICAgICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG5cdCAgICAgICAgbmV3SGFuZGxlLmFuZ2xlID0gX2RhdGEzLmFuZ2xlO1xuXHQgICAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBfZGF0YTMucmFkaXVzO1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogX25ld1BvaW50czUgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShfbmV3UG9pbnRzNSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcblx0ICAgIC8vIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzpcblx0ICAgIC8vIGNhc2UgJ1BPSU5UX1JFTU9WREUnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgLy8gY2FzZSAnSEFORExFX1RSQU5TTEFURSc6XG5cdCAgICAvLyAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5jYWxjdWxhdGVQYXRoKCBzdGF0ZS5wb2ludHMucHJlc2VudCApIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRzUmVkdWNlcjtcblxuLyoqKi8gfSxcbi8qIDE3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9mcm9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXHRcblx0dmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGFycjJbaV0gPSBhcnJbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGFycjI7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMTc0KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMTc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLkFycmF5LmZyb207XG5cbi8qKiovIH0sXG4vKiAxNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIGN0eCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSlcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIHRvT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGNhbGwgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpXG5cdCAgLCBpc0FycmF5SXRlciAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KVxuXHQgICwgdG9MZW5ndGggICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHQgICwgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OClcblx0ICAsIGdldEl0ZXJGbiAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygxODEpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuXHQgIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblx0ICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcblx0ICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuXHQgICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG5cdCAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcblx0ICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcblx0ICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuXHQgICAgICAsIGluZGV4ICAgPSAwXG5cdCAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuXHQgICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcblx0ICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcblx0ICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuXHQgICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuXHQgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG5cdCAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHR9KTtcblxuXG4vKioqLyB9LFxuLyogMTc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG5cdHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuXHQgIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG5cdCAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuXHQgICAgdGhyb3cgZTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3Jcblx0dmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKVxuXHQgICwgSVRFUkFUT1IgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCdpdGVyYXRvcicpXG5cdCAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgJGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsIGNyZWF0ZURlc2MgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGluZGV4LCB2YWx1ZSl7XG5cdCAgaWYoaW5kZXggaW4gb2JqZWN0KSRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcblx0ICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKVxuXHQgICwgSVRFUkFUT1IgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NykoJ2l0ZXJhdG9yJylcblx0ICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG5cdCAgICB8fCBpdFsnQEBpdGVyYXRvciddXG5cdCAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MClcblx0ICAsIFRBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCd0b1N0cmluZ1RhZycpXG5cdCAgLy8gRVMzIHdyb25nIGhlcmVcblx0ICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3Jcblx0dmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gaXRba2V5XTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgTywgVCwgQjtcblx0ICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcblx0ICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuXHQgICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuXHQgICAgLy8gYnVpbHRpblRhZyBjYXNlXG5cdCAgICA6IEFSRyA/IGNvZihPKVxuXHQgICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuXHQgICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBJVEVSQVRPUiAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSgnaXRlcmF0b3InKVxuXHQgICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cdFxuXHR0cnkge1xuXHQgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcblx0ICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuXHQgIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xuXHR9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcblx0ICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG5cdCAgdmFyIHNhZmUgPSBmYWxzZTtcblx0ICB0cnkge1xuXHQgICAgdmFyIGFyciAgPSBbN11cblx0ICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuXHQgICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG5cdCAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG5cdCAgICBleGVjKGFycik7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIHJldHVybiBzYWZlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBmYWxsYmFjayA9IGZ1bmN0aW9uIGZhbGxiYWNrKHZhbHVlLCBfZmFsbGJhY2spIHtcblx0ICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogX2ZhbGxiYWNrO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VIYW5kbGVQb2ludCA9IGZ1bmN0aW9uIG1ha2VIYW5kbGVQb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgaW5kZXg6IGZhbGxiYWNrKG8uaW5kZXgsIDApLFxuXHQgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgIGFuZ2xlOiBmYWxsYmFjayhvLmFuZ2xlLCBudWxsKSxcblx0ICAgIHJhZGl1czogZmFsbGJhY2soby5yYWRpdXMsIG51bGwpLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9zaXRpb25Qb2ludCA9IGZ1bmN0aW9uIG1ha2VQb3NpdGlvblBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgeDogZmFsbGJhY2soby54LCAwKSxcblx0ICAgIHk6IGZhbGxiYWNrKG8ueSwgMCksXG5cdCAgICAvLyB0ZW1wb3JhcnkgY29vcmRpbmF0ZXMgKHdoZW4gdXNlciBtb3ZlcyB0aGUgcG9pbnQpIC1cblx0ICAgIC8vIHNob3VsZCBub3QgYmUgaW4gaGlzdG9yeVxuXHQgICAgdGVtcFg6IGZhbGxiYWNrKG8udGVtcFgsIDApLFxuXHQgICAgdGVtcFk6IGZhbGxiYWNrKG8udGVtcFksIDApLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9pbnQgPSBmdW5jdGlvbiBtYWtlUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe1xuXHQgICAgLy8gc3RhdGVcblx0ICAgIC8vIGlzT25lSGFuZGxlOiBmYWxsYmFjayggby5pc09uZUhhbmRsZSwgZmFsc2UgKSxcblx0ICAgIGlzTG9ja2VkWDogZmFsbGJhY2soby5pc0xvY2tlZFgsIGZhbHNlKSxcblx0ICAgIGlzTG9ja2VkWTogZmFsbGJhY2soby5pc0xvY2tlZFksIGZhbHNlKSxcblx0ICAgIC8vIHR5cGUgb2YgdGhlIHBvaW50OlxuXHQgICAgLy8gICAnc3RyYWlnaHQnIHx8ICdtaXJyb3JlZCcgfHwgJ2Rpc2Nvbm5lY3RlZCcgfHwgJ2FzeW1ldHJpYydcblx0ICAgIHR5cGU6IGZhbGxiYWNrKG8udHlwZSwgJ3N0cmFpZ2h0Jylcblx0ICB9LCBtYWtlUG9zaXRpb25Qb2ludChvKSwge1xuXHQgICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcblx0ICAgIGhhbmRsZTE6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTEgfHwgeyBpbmRleDogMSB9KSxcblx0ICAgIGhhbmRsZTI6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTIgfHwgeyBpbmRleDogMiB9KVxuXHQgIH0pO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbWFrZVBvaW50O1xuXG4vKioqLyB9LFxuLyogMTgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfaW5pdFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODQpO1xuXHRcblx0dmFyIF9pbml0UG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG5cdFxuXHQgIHZhciBuZXdQb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuXHQgICAgICAgIHNpYlBvaW50ID0gaSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludHNbaSAtIDFdIDogcG9pbnRzW2kgKyAxXSxcblx0ICAgICAgICBoYW5kbGVJbmRleCA9IGkgPT09IHBvaW50cy5sZW5ndGggLSAxID8gMSA6IDI7XG5cdFxuXHQgICAgbmV3UG9pbnRzLnB1c2goKDAsIF9pbml0UG9pbnQyLmRlZmF1bHQpKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1BvaW50cztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpIHtcblx0XG5cdCAgICAgIHBvaW50ID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnQpO1xuXHRcblx0ICAgICAgdmFyIGhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIGhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgc2liSGFuZGxlSW5kZXggPSBoYW5kbGVJbmRleCA9PT0gMSA/IDIgOiAxLFxuXHQgICAgICAgICAgc2liSGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgc2liSGFuZGxlSW5kZXgsXG5cdCAgICAgICAgICBoYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwb2ludFtoYW5kbGVOYW1lXSksXG5cdCAgICAgICAgICBzaWJIYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwb2ludFtzaWJIYW5kbGVOYW1lXSksXG5cdCAgICAgICAgICB0eXBlID0gcG9pbnQudHlwZTtcblx0XG5cdCAgICAgIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuXHQgICAgICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblx0XG5cdCAgICAgIGlmIChoYW5kbGUuYW5nbGUgPT0gbnVsbCB8fCBoYW5kbGUucmFkaXVzID09IG51bGwpIHtcblx0ICAgICAgICAgICAgaGFuZGxlLnJhZGl1cyA9IDUwO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGR5ID0gKHNpYlBvaW50LnkgLSBwb2ludC55KSAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCxcblx0ICAgICAgICAgICAgICAgIGR4ID0gc2liUG9pbnQueCAtIHBvaW50Lng7XG5cdFxuXHQgICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4oZHkgLyBkeCkgKiAoMTgwIC8gTWF0aC5QSSkgLSA5MDtcblx0ICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gMTgwO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaGFuZGxlLmFuZ2xlID0gYW5nbGU7XG5cdCAgICAgICAgICAgIHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzO1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBwb2ludDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVNlZ21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nik7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVNlZ21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlU2VnbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBvaW50cykge1xuXHQgIHZhciBwYXRoID0gJycsXG5cdCAgICAgIHNlZ21lbnRzID0gW107XG5cdFxuXHQgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBwb2ludHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2luZGV4XSxcblx0ICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaW5kZXggKyAxXTtcblx0XG5cdCAgICB2YXIgc2VnbWVudCA9ICgwLCBfY2FsY3VsYXRlU2VnbWVudDIuZGVmYXVsdCkocG9pbnQsIG5leHRQb2ludCwgaW5kZXgpO1xuXHQgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcblx0XG5cdCAgICBwYXRoICs9IHNlZ21lbnQuc3RyaW5nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHsgcGF0aDogcGF0aCwgc2VnbWVudHM6IHNlZ21lbnRzIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODcpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxjdWxhdGVQb2ludCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBvaW50LCBuZXh0UG9pbnQsIGluZGV4KSB7XG5cdCAgICBpZiAoIW5leHRQb2ludCkge1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdHJpbmcgPSAnJyxcblx0ICAgICAgICBzZWdtZW50U3RyaW5nID0gJyc7XG5cdFxuXHQgICAgdmFyIHggPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG5cdCAgICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcblx0ICAgICAgICB4TmV4dCA9IG5leHRQb2ludC54ICsgbmV4dFBvaW50LnRlbXBYLFxuXHQgICAgICAgIHlOZXh0ID0gbmV4dFBvaW50LnkgKyBuZXh0UG9pbnQudGVtcFk7XG5cdFxuXHQgICAgdmFyIHBhcnQxID0gJ00nICsgeCArICcsICcgKyB5IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cdCAgICAgICAgc3RyaW5nICs9IHBhcnQxO1xuXHQgICAgfVxuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MTtcblx0XG5cdCAgICB2YXIgcGFydDIgPSAoMCwgX2NhbGN1bGF0ZVBvaW50Mi5kZWZhdWx0KShwb2ludCwgMik7XG5cdCAgICBzdHJpbmcgKz0gcGFydDI7XG5cdCAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQyO1xuXHRcblx0ICAgIHZhciBwYXJ0MyA9ICgwLCBfY2FsY3VsYXRlUG9pbnQyLmRlZmF1bHQpKG5leHRQb2ludCwgMSk7XG5cdCAgICBzdHJpbmcgKz0gcGFydDM7XG5cdCAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQzO1xuXHRcblx0ICAgIHZhciBwYXJ0NCA9IHhOZXh0ICsgJywgJyArIHlOZXh0IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgc3RyaW5nICs9IHBhcnQ0O1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0NDtcblx0XG5cdCAgICByZXR1cm4geyBzdHJpbmc6IHN0cmluZywgc2VnbWVudFN0cmluZzogc2VnbWVudFN0cmluZywgaW5kZXg6IGluZGV4IH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCkge1xuXHQgIHZhciBoYW5kbGVJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHZhciB4ID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuXHQgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuXHQgICAgICBoYW5kbGUgPSBwb2ludFsnaGFuZGxlJyArIGhhbmRsZUluZGV4XTtcblx0XG5cdCAgdmFyIENIQVIgPSBoYW5kbGVJbmRleCA9PT0gMiA/ICdDJyA6ICcnO1xuXHQgIGlmIChwb2ludC50eXBlICE9PSAnc3RyYWlnaHQnKSB7XG5cdCAgICB2YXIgaGFuZGxlQ29vcmRzID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICByZXR1cm4gJycgKyBDSEFSICsgKHggKyBoYW5kbGVDb29yZHMueCAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCkgKyAnLCAnICsgKHkgKyBoYW5kbGVDb29yZHMueSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAnJyArIENIQVIgKyB4ICsgJywgJyArIHkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVBhdGgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIGlzQ29kZTogZmFsc2Vcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ0NPREVfVEFQJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc0NvZGU6ICFzdGF0ZS5pc0NvZGUgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBpc1Nob3c6IGZhbHNlLFxuXHQgIHR5cGU6ICdzdHJhaWdodCdcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IHJlZHVuZGFudFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuXHQgICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG5cdCAgICAvLyB9XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogdHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTkxLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZDojZmZmNWU0fSp7Ym94LXNpemluZzpib3JkZXItYm94fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlY3ljbGVTdGF0ZTtcblx0Ly8gcmVkdXgtcmVjeWNsZSBoaWdoZXIgb3JkZXIgcmVkdWNlclxuXHRmdW5jdGlvbiByZWN5Y2xlU3RhdGUocmVkdWNlcikge1xuXHQgIHZhciBhY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cdCAgdmFyIGluaXRpYWxTdGF0ZSA9IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgdmFyIGdldEluaXRpYWxTdGF0ZSA9IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuXHQgICAgaWYgKGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMCkge1xuXHQgICAgICByZXR1cm4gcmVkdWNlcihnZXRJbml0aWFsU3RhdGUoc3RhdGUsIGFjdGlvbiksIHsgdHlwZTogJ0BAcmVkdXgtcmVjeWNsZS9JTklUJyB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuXHQgIH07XG5cdH1cblx0Ly8gL3JlZHV4LXJlY3ljbGVcblxuLyoqKi8gfSxcbi8qIDE5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5NCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDE5NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNvcmUgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNClcblx0ICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0Lypcblx0ICBGdW5jdGlvbiB0byBnZW5lcmF0ZSBoYXNoIGNvZGUuXG5cdCAgQHByaXZhdGVcblx0ICBAcmV0dXJuIHtTdHJpbmd9IEhhc2ggY29kZS5cblx0Ki9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICB2YXIgaGFzaCA9IDAsXG5cdCAgICAgIGksXG5cdCAgICAgIGNocixcblx0ICAgICAgbGVuO1xuXHQgIGlmIChzdHIubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcblx0ICBmb3IgKGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNocjtcblx0ICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdCAgfVxuXHQgIHJldHVybiBNYXRoLmFicyhoYXNoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdC8qXG5cdCAgRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBzZWNvbmQgYXJndW1lbnQgaWYgdGhlIGZpcnN0IG9uZSBpc24ndCBzZXQuXG5cdCAgQHByaXZhdGVcblx0ICBAcGFyYW0ge0FueX0gUHJvcGVydHkgdG8gc2V0LlxuXHQgIEBwYXJhbSB7QW55fSBQcm9wZXJ0eSB0byByZXR1cm4gYXMgZmFsbGJhY2suXG5cdCAgQHJldHVybnMge0FueX0gSWYgc2V0IC0gdGhlIGZpcnN0IHByb3BlcnR5LCBpZiBub3QgLSB0aGUgc2Vjb25kLlxuXHQqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocHJvcCwgZmFsbGJhY2spIHtcblx0ICByZXR1cm4gcHJvcCAhPSBudWxsID8gcHJvcCA6IGZhbGxiYWNrO1xuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjBmYmU2MmU4OTU5OGE4ZDEwMThhXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgMGZiZTYyZTg5NTk4YThkMTAxOGFcbiAqKi8iLCIvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcbnJlcXVpcmUoJy4uL2Nzcy9tYWluJyk7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3ByZWFjdC1yZWR1eCc7XG5pbXBvcnQge3JlbmRlciwgaH0gIGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ3VydmVFZGl0b3IgIGZyb20gJy4vdGFncy9jdXJ2ZS1lZGl0b3InO1xuaW1wb3J0IGluaXRTdG9yZSAgICBmcm9tICcuL3N0b3JlJztcbmltcG9ydCBDICAgICAgICAgICAgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGhhc2ggICAgICAgICBmcm9tICcuL2hlbHBlcnMvaGFzaCc7XG5pbXBvcnQgZmFsbGJhY2tUbyAgIGZyb20gJy4vaGVscGVycy9mYWxsYmFjay10byc7XG5cbi8vIFRPRE9cbi8vICAgLSBhZGQgQVBJc1xuLy8gICAtIHJlc2l6ZSBkb3duIHdoZW4gcG9pbnRzIGFyZSBhYm92ZSB0aGUgZWRpdG9yIGJvcmRlclxuLy8gICAtIGluc3RhbmNlIGRyb3Bkb3duIG9uIGNvZGUgcGFuZWxcbi8vICAgLSBpbXBvcnQgcGF0aCBkYXRhXG4vLyAgIC0gbW92ZSBidW5jaCBvZiBwb2ludHMgYXQgb25jZVxuXG5jbGFzcyBBUEkge1xuICBjb25zdHJ1Y3RvciAoIG8gPSB7fSApIHtcbiAgICB0aGlzLl9vID0gbztcblxuICAgIHRoaXMuX2RlY2FsYXJlRGVmYXVsdHMoKTtcbiAgICB0aGlzLl92YXJzKCk7XG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5fdHJ5VG9SZXN0b3JlKCk7XG4gICAgdGhpcy5fbGlzdGVuVW5sb2FkKCk7XG5cbiAgICB0aGlzLl9zdWJzY3JpYmUoKVxuICB9XG5cbiAgX2RlY2FsYXJlRGVmYXVsdHMgKCApIHtcbiAgICB0aGlzLl9kZWZhdWx0cyA9IHtcbiAgICAgIG5hbWU6ICAgICAgICAnbW9qcy1jdXJ2ZS1lZGl0b3InLFxuICAgICAgaXNTYXZlU3RhdGU6IHRydWUsXG4gICAgfVxuICB9XG5cbiAgX3ZhcnMgKCkge1xuICAgIHRoaXMucmV2aXNpb24gPSAnMS4wLjAnO1xuICAgIHRoaXMuc3RvcmUgICAgPSBpbml0U3RvcmUoKTtcblxuICAgIGxldCBzdHIgPSBmYWxsYmFja1RvKCB0aGlzLl9vLm5hbWUsIHRoaXMuX2RlZmF1bHRzLm5hbWUgKTtcbiAgICBzdHIgKz0gKCBzdHIgPT09IHRoaXMuX2RlZmF1bHRzLm5hbWUgKSA/ICcnIDogYF9fJHt0aGlzLl9kZWZhdWx0cy5uYW1lfWA7XG4gICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gYCR7c3RyfV9fJHsgaGFzaCggc3RyICkgfWA7XG4gIH1cblxuICBfcmVuZGVyICgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3RoaXMuc3RvcmV9PlxuICAgICAgICAgIDxDdXJ2ZUVkaXRvciAvPlxuICAgICAgICA8L1Byb3ZpZGVyPiwgZG9jdW1lbnQuYm9keSk7XG4gICAgfSk7XG4gIH1cblxuICBfbGlzdGVuVW5sb2FkICgpIHtcbiAgICBjb25zdCB1bmxvYWRFdmVudCA9ICgnb25wYWdlaGlkZScgaW4gd2luZG93KSA/ICdwYWdlaGlkZScgOiAnYmVmb3JldW5sb2FkJztcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggdW5sb2FkRXZlbnQsICgpID0+IHtcbiAgICAgIFxuICAgICAgY29uc3QgcHJlU3RhdGUgPSB7IC4uLnRoaXMuc3RvcmUuZ2V0U3RhdGUoKSB9O1xuXG4gICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRzLmhpc3Rvcnk7XG4gICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRDb250cm9scy5oaXN0b3J5O1xuXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UsIEpTT04uc3RyaW5naWZ5KCBwcmVTdGF0ZSApICk7XG4gICAgfSk7XG4gIH1cblxuICBfdHJ5VG9SZXN0b3JlICgpIHtcbiAgICAvLyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UpO1xuICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2xvY2FsU3RvcmFnZSk7XG4gICAgaWYgKCBzdG9yZWQgKSB7IHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NUQVRFJywgZGF0YTogSlNPTi5wYXJzZShzdG9yZWQpIH0pO31cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQUREJywgZGF0YTogeyBwb2ludDoge3g6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWV9LCBpbmRleDogMCB9IH0pO1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7eDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWV9LCBpbmRleDogMSB9IH0pO1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9TRUxFQ1QnLCBkYXRhOiB7IGluZGV4OiAwLCB0eXBlOiAnc3RyYWlnaHQnIH0gfSk7XG4gICAgfVxuICB9XG5cbiAgX3N1YnNjcmliZSAoKSB7XG4gICAgdGhpcy5fY29tcGlsZVBhdGgoKTtcbiAgICB0aGlzLnN0b3JlLnN1YnNjcmliZSggdGhpcy5fY29tcGlsZVBhdGguYmluZCh0aGlzKSApO1xuICB9XG5cbiAgX2NvbXBpbGVQYXRoICgpIHtcbiAgICBjb25zdCBzdGF0ZSAgICAgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgICAgcG9pbnRzICAgID0gc3RhdGUucG9pbnRzLnByZXNlbnQsXG4gICAgICAgICAge3BhdGh9ICAgID0gcG9pbnRzO1xuXG4gICAgaWYgKCB0aGlzLl9wcmV2UGF0aCAhPT0gcGF0aCApIHtcbiAgICAgIHRoaXMuX3ByZXZQYXRoID0gcGF0aDtcbiAgICAgIHRoaXMuX2Vhc2luZyA9IG1vanMuZWFzaW5nLnBhdGgoIHBhdGggKTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBUEk7XG53aW5kb3cuTW9qc0N1cnZlRWRpdG9yID0gQVBJO1xuXG4vLyBjdXJ2ZVxuLy8gICAuZ2V0RnVuY3Rpb24oeyBpc0ludmVyc2VYOiBmYWxzZSwgaXNJbnZlcnNlWTogdHJ1ZSwgbmFtZTogJ1NvbWUgbmFtZScgfSlcbi8vICAgLmdldENvZGUoKVxuXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvYXBwLmJhYmVsLmpzeFxuICoqLyIsImV4cG9ydCB7IENvbXBvbmVudCwgaCBhcyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncHJlYWN0JztcblxuZXhwb3J0IGNvbnN0IENoaWxkcmVuID0ge1xuXHRvbmx5KGNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdIHx8IG51bGw7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIHByb3B0eXBlKCkge31cbnByb3B0eXBlLmlzUmVxdWlyZWQgPSBwcm9wdHlwZTtcblxuZXhwb3J0IGNvbnN0IFByb3BUeXBlcyA9IHtcblx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdGZ1bmM6IHByb3B0eXBlLFxuXHRzaGFwZTogKCkgPT4gcHJvcHR5cGVcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9zcmMvY29tcGF0LmpzXG4gKiovIiwiLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpXG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd2FybmluZy5qc1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgUHJvcFR5cGVzLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0b3JlU2hhcGUgZnJvbSAnLi4vdXRpbHMvc3RvcmVTaGFwZSdcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5cbmxldCBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlXG5mdW5jdGlvbiB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpIHtcbiAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlXG5cbiAgd2FybmluZyhcbiAgICAnPFByb3ZpZGVyPiBkb2VzIG5vdCBzdXBwb3J0IGNoYW5naW5nIGBzdG9yZWAgb24gdGhlIGZseS4gJyArXG4gICAgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArXG4gICAgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgK1xuICAgICdhdXRvbWF0aWNhbGx5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtcmVkdXgvcmVsZWFzZXMvJyArXG4gICAgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLidcbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxuICAgIHRoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gQ2hpbGRyZW4ub25seShjaGlsZHJlbilcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICBjb25zdCB7IHN0b3JlIH0gPSB0aGlzXG4gICAgY29uc3QgeyBzdG9yZTogbmV4dFN0b3JlIH0gPSBuZXh0UHJvcHNcblxuICAgIGlmIChzdG9yZSAhPT0gbmV4dFN0b3JlKSB7XG4gICAgICB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpXG4gICAgfVxuICB9XG59XG5cblByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgc3RvcmU6IHN0b3JlU2hhcGUuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWRcbn1cblByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICBzdG9yZTogc3RvcmVTaGFwZS5pc1JlcXVpcmVkXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKVxuICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpXG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBjb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKG9iakIsIGtleXNBW2ldKSB8fFxuICAgICAgICBvYmpBW2tleXNBW2ldXSAhPT0gb2JqQltrZXlzQVtpXV0pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zaGFsbG93RXF1YWwuanNcbiAqKi8iLCJpbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tICdyZWR1eCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd3JhcEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzLmpzXG4gKiovIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgc3RvcmVTaGFwZSBmcm9tICcuLi91dGlscy9zdG9yZVNoYXBlJ1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuLi91dGlscy9zaGFsbG93RXF1YWwnXG5pbXBvcnQgd3JhcEFjdGlvbkNyZWF0b3JzIGZyb20gJy4uL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycydcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICdsb2Rhc2gvaXNQbGFpbk9iamVjdCdcbmltcG9ydCBob2lzdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCdcblxuY29uc3QgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7fSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuY29uc3QgZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+ICh7IGRpc3BhdGNoIH0pXG5jb25zdCBkZWZhdWx0TWVyZ2VQcm9wcyA9IChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykgPT4gKHtcbiAgLi4ucGFyZW50UHJvcHMsXG4gIC4uLnN0YXRlUHJvcHMsXG4gIC4uLmRpc3BhdGNoUHJvcHNcbn0pXG5cbmZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnXG59XG5cbmxldCBlcnJvck9iamVjdCA9IHsgdmFsdWU6IG51bGwgfVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIGN0eCkge1xuICB0cnkge1xuICAgIHJldHVybiBmbi5hcHBseShjdHgpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvck9iamVjdC52YWx1ZSA9IGVcbiAgICByZXR1cm4gZXJyb3JPYmplY3RcbiAgfVxufVxuXG4vLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxubGV0IG5leHRWZXJzaW9uID0gMFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpXG4gIGNvbnN0IG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHNcblxuICBsZXQgbWFwRGlzcGF0Y2hcbiAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBtYXBEaXNwYXRjaCA9IG1hcERpc3BhdGNoVG9Qcm9wc1xuICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcbiAgICBtYXBEaXNwYXRjaCA9IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHNcbiAgfSBlbHNlIHtcbiAgICBtYXBEaXNwYXRjaCA9IHdyYXBBY3Rpb25DcmVhdG9ycyhtYXBEaXNwYXRjaFRvUHJvcHMpXG4gIH1cblxuICBjb25zdCBmaW5hbE1lcmdlUHJvcHMgPSBtZXJnZVByb3BzIHx8IGRlZmF1bHRNZXJnZVByb3BzXG4gIGNvbnN0IHsgcHVyZSA9IHRydWUsIHdpdGhSZWYgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICBjb25zdCBjaGVja01lcmdlZEVxdWFscyA9IHB1cmUgJiYgZmluYWxNZXJnZVByb3BzICE9PSBkZWZhdWx0TWVyZ2VQcm9wc1xuXG4gIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG4gIGNvbnN0IHZlcnNpb24gPSBuZXh0VmVyc2lvbisrXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgY29uc3QgY29ubmVjdERpc3BsYXlOYW1lID0gYENvbm5lY3QoJHtnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KX0pYFxuXG4gICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG4gICAgICBpZiAoIWlzUGxhaW5PYmplY3QocHJvcHMpKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgYCR7bWV0aG9kTmFtZX0oKSBpbiAke2Nvbm5lY3REaXNwbGF5TmFtZX0gbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QuIGAgK1xuICAgICAgICAgIGBJbnN0ZWFkIHJlY2VpdmVkICR7cHJvcHN9LmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBmaW5hbE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjaGVja1N0YXRlU2hhcGUobWVyZ2VkUHJvcHMsICdtZXJnZVByb3BzJylcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICAgIH1cblxuICAgIGNsYXNzIENvbm5lY3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWRcbiAgICAgIH1cblxuICAgICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb25cbiAgICAgICAgdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlIHx8IGNvbnRleHQuc3RvcmVcblxuICAgICAgICBpbnZhcmlhbnQodGhpcy5zdG9yZSxcbiAgICAgICAgICBgQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciBgICtcbiAgICAgICAgICBgcHJvcHMgb2YgXCIke2Nvbm5lY3REaXNwbGF5TmFtZX1cIi4gYCArXG4gICAgICAgICAgYEVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sIGAgK1xuICAgICAgICAgIGBvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIiR7Y29ubmVjdERpc3BsYXlOYW1lfVwiLmBcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgc3RvcmVTdGF0ZSB9XG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG5cbiAgICAgIGNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcFN0YXRlKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuICAgICAgICBjb25zdCBzdGF0ZVByb3BzID0gdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID9cbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBwcm9wcykgOlxuICAgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHNcbiAgICAgIH1cblxuICAgICAgY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbWFwcGVkU3RhdGUgPSBtYXBTdGF0ZShzdG9yZS5nZXRTdGF0ZSgpLCBwcm9wcylcbiAgICAgICAgY29uc3QgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZFN0YXRlID09PSAnZnVuY3Rpb24nXG5cbiAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGVcbiAgICAgICAgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcy5sZW5ndGggIT09IDFcblxuICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkU3RhdGUsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWRTdGF0ZVxuICAgICAgfVxuXG4gICAgICBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSBzdG9yZVxuICAgICAgICBjb25zdCBkaXNwYXRjaFByb3BzID0gdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID9cbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOlxuICAgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHNcbiAgICAgIH1cblxuICAgICAgY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpXG4gICAgICAgIGNvbnN0IGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJ1xuXG4gICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWREaXNwYXRjaCA6IG1hcERpc3BhdGNoXG4gICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxXG5cbiAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2hcbiAgICAgIH1cblxuICAgICAgdXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICBjb25zdCBuZXh0U3RhdGVQcm9wcyA9IHRoaXMuY29tcHV0ZVN0YXRlUHJvcHModGhpcy5zdG9yZSwgdGhpcy5wcm9wcylcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dERpc3BhdGNoUHJvcHMgPSB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICBjb25zdCBuZXh0TWVyZ2VkUHJvcHMgPSBjb21wdXRlTWVyZ2VkUHJvcHModGhpcy5zdGF0ZVByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLm1lcmdlZFByb3BzICYmIGNoZWNrTWVyZ2VkRXF1YWxzICYmIHNoYWxsb3dFcXVhbChuZXh0TWVyZ2VkUHJvcHMsIHRoaXMubWVyZ2VkUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnVuc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nXG4gICAgICB9XG5cbiAgICAgIHRyeVN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKHNob3VsZFN1YnNjcmliZSAmJiAhdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKVxuICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKClcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpXG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMudHJ5VW5zdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuXG4gICAgICBjbGVhckNhY2hlKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbFxuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IG51bGxcbiAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGxcbiAgICAgIH1cblxuICAgICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICBpZiAoIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgY29uc3QgcHJldlN0b3JlU3RhdGUgPSB0aGlzLnN0YXRlLnN0b3JlU3RhdGVcbiAgICAgICAgaWYgKHB1cmUgJiYgcHJldlN0b3JlU3RhdGUgPT09IHN0b3JlU3RhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdXJlICYmICF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpIHtcbiAgICAgICAgICBjb25zdCBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcylcbiAgICAgICAgICBpZiAoIWhhdmVTdGF0ZVByb3BzQ2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gZXJyb3JPYmplY3QudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0b3JlU3RhdGUgfSlcbiAgICAgIH1cblxuICAgICAgZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICBpbnZhcmlhbnQod2l0aFJlZixcbiAgICAgICAgICBgVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGAgK1xuICAgICAgICAgIGB7IHdpdGhSZWY6IHRydWUgfSBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IG9mIHRoZSBjb25uZWN0KCkgY2FsbC5gXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gdGhpcy5yZWZzLndyYXBwZWRJbnN0YW5jZVxuICAgICAgfVxuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkLFxuICAgICAgICAgIGhhc1N0b3JlU3RhdGVDaGFuZ2VkLFxuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQsXG4gICAgICAgICAgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IsXG4gICAgICAgICAgcmVuZGVyZWRFbGVtZW50XG4gICAgICAgIH0gPSB0aGlzXG5cbiAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsXG5cbiAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWVcbiAgICAgICAgaWYgKHB1cmUgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IChcbiAgICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzXG4gICAgICAgICAgKVxuICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPVxuICAgICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHNcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSBmYWxzZVxuICAgICAgICBsZXQgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQpIHtcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXBkYXRlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIHx8XG4gICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8XG4gICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZFxuICAgICAgICApIHtcbiAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2l0aFJlZikge1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi50aGlzLm1lcmdlZFByb3BzLFxuICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsXG4gICAgICAgICAgICB0aGlzLm1lcmdlZFByb3BzXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZWRFbGVtZW50XG4gICAgICB9XG4gICAgfVxuXG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IGNvbm5lY3REaXNwbGF5TmFtZVxuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnRcbiAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IHtcbiAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG4gICAgfVxuICAgIENvbm5lY3QucHJvcFR5cGVzID0ge1xuICAgICAgc3RvcmU6IHN0b3JlU2hhcGVcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKClcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvY29ubmVjdC5qc1xuICoqLyIsImltcG9ydCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCBQcm9wVHlwZXMuc2hhcGUoe1xuICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBnZXRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3N0b3JlU2hhcGUuanNcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanNcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanNcbiAqKi8iLCIvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG5mdW5jdGlvbiBnZXRQcm90b3R5cGUodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZUdldFByb3RvdHlwZShPYmplY3QodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzXG4gKiovIiwidmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUoJy4vX2lzSG9zdE9iamVjdCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL2lzUGxhaW5PYmplY3QuanNcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgYXJpdHk6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHsgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8a2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanNcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBOT0RFX0VOViA9IHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vaW52YXJpYW50L2ludmFyaWFudC5qc1xuICoqLyIsIi8qKiBDb3B5IG93bi1wcm9wZXJ0aWVzIGZyb20gYHByb3BzYCBvbnRvIGBvYmpgLlxuICpcdEByZXR1cm5zIG9ialxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQob2JqLCBwcm9wcykge1xuXHRpZiAocHJvcHMpIHtcblx0XHRmb3IgKGxldCBpIGluIHByb3BzKSB7XG5cdFx0XHRpZiAocHJvcHNbaV0hPT11bmRlZmluZWQpIHtcblx0XHRcdFx0b2JqW2ldID0gcHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvYmo7XG59XG5cblxuLyoqIEZhc3QgY2xvbmUuIE5vdGU6IGRvZXMgbm90IGZpbHRlciBvdXQgbm9uLW93biBwcm9wZXJ0aWVzLlxuICpcdEBzZWUgaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81NmJhYTM0ZjQ1ZGY2ODk1MDAyZTAzYjZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikge1xuXHRyZXR1cm4gZXh0ZW5kKHt9LCBvYmopO1xufVxuXG5cbi8qKiBHZXQgYSBkZWVwIHByb3BlcnR5IHZhbHVlIGZyb20gdGhlIGdpdmVuIG9iamVjdCwgZXhwcmVzc2VkIGluIGRvdC1ub3RhdGlvbi5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsdmUob2JqLCBrZXkpIHtcblx0Zm9yIChsZXQgcD1rZXkuc3BsaXQoJy4nKSwgaT0wOyBpPHAubGVuZ3RoICYmIG9iajsgaSsrKSB7XG5cdFx0b2JqID0gb2JqW3BbaV1dO1xuXHR9XG5cdHJldHVybiBvYmo7XG59XG5cblxuLyoqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYW4gQXJyYXlcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheShvYmosIG9mZnNldCkge1xuXHRyZXR1cm4gW10uc2xpY2UuY2FsbChvYmosIG9mZnNldCk7XG59XG5cblxuLyoqIEBwcml2YXRlIGlzIHRoZSBnaXZlbiBvYmplY3QgYSBGdW5jdGlvbj8gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHRyZXR1cm4gJ2Z1bmN0aW9uJz09PXR5cGVvZiBvYmo7XG59XG5cblxuLyoqIEBwcml2YXRlIGlzIHRoZSBnaXZlbiBvYmplY3QgYSBTdHJpbmc/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG5cdHJldHVybiAnc3RyaW5nJz09PXR5cGVvZiBvYmo7XG59XG5cblxuLyoqIENoZWNrIGlmIGEgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eSh4KSB7XG5cdHJldHVybiB4PT09dW5kZWZpbmVkIHx8IHg9PT1udWxsO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCwgYHVuZGVmaW5lZGAsIG9yIGV4cGxpY2l0bHkgYGZhbHNlYC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWxzZXkodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlPT09ZmFsc2UgfHwgZW1wdHkodmFsdWUpO1xufVxuXG5cbi8qKiBDb252ZXJ0IGEgaGFzaG1hcCBvZiBDU1MgY2xhc3NlcyB0byBhIHNwYWNlLWRlbGltaXRlZCBjbGFzc05hbWUgc3RyaW5nXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2hUb0NsYXNzTmFtZShjKSB7XG5cdGxldCBzdHIgPSAnJztcblx0Zm9yIChsZXQgcHJvcCBpbiBjKSB7XG5cdFx0aWYgKGNbcHJvcF0pIHtcblx0XHRcdGlmIChzdHIpIHN0ciArPSAnICc7XG5cdFx0XHRzdHIgKz0gcHJvcDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHN0cjtcbn1cblxuXG4vKiogSnVzdCBhIG1lbW9pemVkIFN0cmluZyN0b0xvd2VyQ2FzZSAqL1xubGV0IGxjQ2FjaGUgPSB7fTtcbmV4cG9ydCBjb25zdCB0b0xvd2VyQ2FzZSA9IHMgPT4gbGNDYWNoZVtzXSB8fCAobGNDYWNoZVtzXSA9IHMudG9Mb3dlckNhc2UoKSk7XG5cblxuLyoqIENhbGwgYSBmdW5jdGlvbiBhc3luY2hyb25vdXNseSwgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAqXHRAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5sZXQgcmVzb2x2ZWQgPSB0eXBlb2YgUHJvbWlzZSE9PSd1bmRlZmluZWQnICYmIFByb21pc2UucmVzb2x2ZSgpO1xuZXhwb3J0IGNvbnN0IHNldEltbWVkaWF0ZSA9IHJlc29sdmVkID8gKGYgPT4geyByZXNvbHZlZC50aGVuKGYpOyB9KSA6IHNldFRpbWVvdXQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy91dGlsLmpzXG4gKiovIiwiaW1wb3J0IHsgVk5vZGUgfSBmcm9tICcuL3Zub2RlJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBmYWxzZXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBoYXNoVG9DbGFzc05hbWUgfSBmcm9tICcuL3V0aWwnO1xuXG5cbmNvbnN0IFNIQVJFRF9URU1QX0FSUkFZID0gW107XG5cblxuLyoqIEpTWC9oeXBlcnNjcmlwdCByZXZpdmVyXG4gKlx0QHNlZSBodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3hcbiAqXHRAcHVibGljXG4gKiAgQGV4YW1wbGVcbiAqICAvKiogQGpzeCBoICpcXC9cbiAqICBpbXBvcnQgeyByZW5kZXIsIGggfSBmcm9tICdwcmVhY3QnO1xuICogIHJlbmRlcig8c3Bhbj5mb288L3NwYW4+LCBkb2N1bWVudC5ib2R5KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGZpcnN0Q2hpbGQpIHtcblx0bGV0IGxlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0Y2hpbGRyZW4sIGFyciwgbGFzdFNpbXBsZTtcblxuXG5cdGlmIChsZW4+Mikge1xuXHRcdGxldCB0eXBlID0gdHlwZW9mIGZpcnN0Q2hpbGQ7XG5cdFx0aWYgKGxlbj09PTMgJiYgdHlwZSE9PSdvYmplY3QnICYmIHR5cGUhPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAoIWZhbHNleShmaXJzdENoaWxkKSkge1xuXHRcdFx0XHRjaGlsZHJlbiA9IFtTdHJpbmcoZmlyc3RDaGlsZCldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGNoaWxkcmVuID0gW107XG5cdFx0XHRmb3IgKGxldCBpPTI7IGk8bGVuOyBpKyspIHtcblx0XHRcdFx0bGV0IHAgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdGlmIChmYWxzZXkocCkpIGNvbnRpbnVlO1xuXHRcdFx0XHRpZiAocC5qb2luKSBhcnIgPSBwO1xuXHRcdFx0XHRlbHNlIChhcnIgPSBTSEFSRURfVEVNUF9BUlJBWSlbMF0gPSBwO1xuXHRcdFx0XHRmb3IgKGxldCBqPTA7IGo8YXJyLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0bGV0IGNoaWxkID0gYXJyW2pdLFxuXHRcdFx0XHRcdFx0c2ltcGxlID0gIShmYWxzZXkoY2hpbGQpIHx8IGlzRnVuY3Rpb24oY2hpbGQpIHx8IGNoaWxkIGluc3RhbmNlb2YgVk5vZGUpO1xuXHRcdFx0XHRcdGlmIChzaW1wbGUgJiYgIWlzU3RyaW5nKGNoaWxkKSkgY2hpbGQgPSBTdHJpbmcoY2hpbGQpO1xuXHRcdFx0XHRcdGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkge1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoLTFdICs9IGNoaWxkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICghZmFsc2V5KGNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cdFx0XHRcdFx0XHRsYXN0U2ltcGxlID0gc2ltcGxlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRlbHNlIGlmIChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuY2hpbGRyZW4pIHtcblx0XHRyZXR1cm4gaChub2RlTmFtZSwgYXR0cmlidXRlcywgYXR0cmlidXRlcy5jaGlsZHJlbik7XG5cdH1cblxuXHRpZiAoYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0XHRkZWxldGUgYXR0cmlidXRlcy5jaGlsZHJlbjtcblx0XHR9XG5cblx0XHRpZiAoIWlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0XHQvLyBub3JtYWxpemUgY2xhc3NOYW1lIHRvIGNsYXNzLlxuXHRcdFx0aWYgKCdjbGFzc05hbWUnIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0YXR0cmlidXRlcy5jbGFzcyA9IGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0XHRkZWxldGUgYXR0cmlidXRlcy5jbGFzc05hbWU7XG5cdFx0XHR9XG5cblx0XHRcdGxhc3RTaW1wbGUgPSBhdHRyaWJ1dGVzLmNsYXNzO1xuXHRcdFx0aWYgKGxhc3RTaW1wbGUgJiYgIWlzU3RyaW5nKGxhc3RTaW1wbGUpKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBoYXNoVG9DbGFzc05hbWUobGFzdFNpbXBsZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxhc3RTaW1wbGUgPSBhdHRyaWJ1dGVzLnN0eWxlO1xuXHRcdFx0Ly8gaWYgKGxhc3RTaW1wbGUgJiYgIWlzU3RyaW5nKGxhc3RTaW1wbGUpKSB7XG5cdFx0XHQvLyBcdGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZU9ialRvQ3NzKGxhc3RTaW1wbGUpO1xuXHRcdFx0Ly8gfVxuXHRcdH1cblx0fVxuXG5cdGxldCBwID0gbmV3IFZOb2RlKG5vZGVOYW1lLCBhdHRyaWJ1dGVzIHx8IHVuZGVmaW5lZCwgY2hpbGRyZW4pO1xuXHRpZiAob3B0aW9ucy52bm9kZSkgb3B0aW9ucy52bm9kZShwKTtcblx0cmV0dXJuIHA7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9oLmpzXG4gKiovIiwiaW1wb3J0IHsgY2xvbmUsIGV4dGVuZCwgdG9BcnJheSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBoIH0gZnJvbSAnLi9oJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMpIHtcblx0cmV0dXJuIGgoXG5cdFx0dm5vZGUubm9kZU5hbWUsXG5cdFx0ZXh0ZW5kKGNsb25lKHZub2RlLmF0dHJpYnV0ZXMpLCBwcm9wcyksXG5cdFx0YXJndW1lbnRzLmxlbmd0aD4yID8gdG9BcnJheShhcmd1bWVudHMsIDIpIDogdm5vZGUuY2hpbGRyZW5cblx0KTtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2Nsb25lLWVsZW1lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBlbXB0eSwgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGRlbHZlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqIENyZWF0ZSBhbiBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIGdpdmVuIHN0YXRlIHByb3BlcnR5LlxuICpcdEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcdFRoZSBjb21wb25lbnQgd2hvc2Ugc3RhdGUgc2hvdWxkIGJlIHVwZGF0ZWRcbiAqXHRAcGFyYW0ge3N0cmluZ30ga2V5XHRcdFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHVwZGF0ZSBpbiB0aGUgY29tcG9uZW50J3Mgc3RhdGVcbiAqXHRAcGFyYW0ge3N0cmluZ30gZXZlbnRQYXRoXHRcdEEgZG90LW5vdGF0ZWQga2V5IHBhdGggdG8gdGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBFdmVudCBvciBjb21wb25lbnRcbiAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtlZFN0YXRlSGFuZGxlclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5rZWRTdGF0ZShjb21wb25lbnQsIGtleSwgZXZlbnRQYXRoKSB7XG5cdGxldCBwYXRoID0ga2V5LnNwbGl0KCcuJyksXG5cdFx0cDAgPSBwYXRoWzBdO1xuXHRyZXR1cm4gZnVuY3Rpb24oZSkge1xuXHRcdGxldCB0ID0gZSAmJiBlLmN1cnJlbnRUYXJnZXQgfHwgdGhpcyxcblx0XHRcdHMgPSBjb21wb25lbnQuc3RhdGUsXG5cdFx0XHRvYmogPSBzLFxuXHRcdFx0diwgaTtcblx0XHRpZiAoaXNTdHJpbmcoZXZlbnRQYXRoKSkge1xuXHRcdFx0diA9IGRlbHZlKGUsIGV2ZW50UGF0aCk7XG5cdFx0XHRpZiAoZW1wdHkodikgJiYgKHQ9dC5fY29tcG9uZW50KSkge1xuXHRcdFx0XHR2ID0gZGVsdmUodCwgZXZlbnRQYXRoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR2ID0gdC5ub2RlTmFtZSA/ICgodC5ub2RlTmFtZSt0LnR5cGUpLm1hdGNoKC9eaW5wdXQoY2hlY2t8cmFkKS9pKSA/IHQuY2hlY2tlZCA6IHQudmFsdWUpIDogZTtcblx0XHR9XG5cdFx0aWYgKGlzRnVuY3Rpb24odikpIHYgPSB2LmNhbGwodCk7XG5cdFx0aWYgKHBhdGgubGVuZ3RoPjEpIHtcblx0XHRcdGZvciAoaT0wOyBpPHBhdGgubGVuZ3RoLTE7IGkrKykge1xuXHRcdFx0XHRvYmogPSBvYmpbcGF0aFtpXV0gfHwgKG9ialtwYXRoW2ldXSA9IHt9KTtcblx0XHRcdH1cblx0XHRcdG9ialtwYXRoW2ldXSA9IHY7XG5cdFx0XHR2ID0gc1twMF07XG5cdFx0fVxuXHRcdGNvbXBvbmVudC5zZXRTdGF0ZSh7IFtwMF06IHYgfSk7XG5cdH07XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9saW5rZWQtc3RhdGUuanNcbiAqKi8iLCJpbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgc2V0SW1tZWRpYXRlIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IHJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4vdmRvbS9jb21wb25lbnQnO1xuXG4vKiogTWFuYWdlZCBxdWV1ZSBvZiBkaXJ0eSBjb21wb25lbnRzIHRvIGJlIHJlLXJlbmRlcmVkICovXG5cbi8vIGl0ZW1zL2l0ZW1zT2ZmbGluZSBzd2FwIG9uIGVhY2ggcmVyZW5kZXIoKSBjYWxsIChqdXN0IGEgc2ltcGxlIHBvb2wgdGVjaG5pcXVlKVxubGV0IGl0ZW1zID0gW10sXG5cdGl0ZW1zT2ZmbGluZSA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpIHtcblx0aWYgKGl0ZW1zLnB1c2goY29tcG9uZW50KSE9PTEpIHJldHVybjtcblxuXHQob3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyB8fCBzZXRJbW1lZGlhdGUpKHJlcmVuZGVyKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVyZW5kZXIoKSB7XG5cdGlmICghaXRlbXMubGVuZ3RoKSByZXR1cm47XG5cblx0bGV0IGN1cnJlbnRJdGVtcyA9IGl0ZW1zLFxuXHRcdHA7XG5cblx0Ly8gc3dhcCBvbmxpbmUgJiBvZmZsaW5lXG5cdGl0ZW1zID0gaXRlbXNPZmZsaW5lO1xuXHRpdGVtc09mZmxpbmUgPSBjdXJyZW50SXRlbXM7XG5cblx0d2hpbGUgKCAocCA9IGN1cnJlbnRJdGVtcy5wb3AoKSkgKSB7XG5cdFx0aWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL3JlbmRlci1xdWV1ZS5qc1xuICoqLyIsImltcG9ydCB7IEFUVFJfS0VZLCBOT05fRElNRU5TSU9OX1BST1BTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBmYWxzZXksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbCc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZU5vZGVEYXRhKG5vZGUsIGRhdGEpIHtcblx0cmV0dXJuIG5vZGVbQVRUUl9LRVldIHx8IChub2RlW0FUVFJfS0VZXSA9IChkYXRhIHx8IHt9KSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVUeXBlKG5vZGUpIHtcblx0aWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSByZXR1cm4gMztcblx0aWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSByZXR1cm4gMTtcblx0cmV0dXJuIDA7XG59XG5cblxuLyoqIFJlbW92ZXMgYSBnaXZlbiBET00gTm9kZSBmcm9tIGl0cyBwYXJlbnQuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdGxldCBwID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocCkgcC5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuXG4vKiogU2V0IGEgbmFtZWQgYXR0cmlidXRlIG9uIHRoZSBnaXZlbiBOb2RlLCB3aXRoIHNwZWNpYWwgYmVoYXZpb3IgZm9yIHNvbWUgbmFtZXMgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcdElmIGB2YWx1ZWAgaXMgYG51bGxgLCB0aGUgYXR0cmlidXRlL2hhbmRsZXIgd2lsbCBiZSByZW1vdmVkLlxuICpcdEBwYXJhbSB7RWxlbWVudH0gbm9kZVx0QW4gZWxlbWVudCB0byBtdXRhdGVcbiAqXHRAcGFyYW0ge3N0cmluZ30gbmFtZVx0VGhlIG5hbWUva2V5IHRvIHNldCwgc3VjaCBhcyBhbiBldmVudCBvciBhdHRyaWJ1dGUgbmFtZVxuICpcdEBwYXJhbSB7YW55fSB2YWx1ZVx0XHRBbiBhdHRyaWJ1dGUgdmFsdWUsIHN1Y2ggYXMgYSBmdW5jdGlvbiB0byBiZSB1c2VkIGFzIGFuIGV2ZW50IGhhbmRsZXJcbiAqXHRAcGFyYW0ge2FueX0gcHJldmlvdXNWYWx1ZVx0VGhlIGxhc3QgdmFsdWUgdGhhdCB3YXMgc2V0IGZvciB0aGlzIG5hbWUvbm9kZSBwYWlyXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEFjY2Vzc29yKG5vZGUsIG5hbWUsIHZhbHVlLCBvbGQsIGlzU3ZnKSB7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpW25hbWVdID0gdmFsdWU7XG5cblx0aWYgKG5hbWU9PT0na2V5JyB8fCBuYW1lPT09J2NoaWxkcmVuJykgcmV0dXJuO1xuXG5cdGlmIChuYW1lPT09J2NsYXNzJyAmJiAhaXNTdmcpIHtcblx0XHRub2RlLmNsYXNzTmFtZSA9IHZhbHVlIHx8ICcnO1xuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nc3R5bGUnKSB7XG5cdFx0aWYgKCF2YWx1ZSB8fCBpc1N0cmluZyh2YWx1ZSkgfHwgaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgfHwgJyc7XG5cdFx0fVxuXHRcdGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWU9PT0nb2JqZWN0Jykge1xuXHRcdFx0aWYgKCFpc1N0cmluZyhvbGQpKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgaW4gb2xkKSBpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xuXHRcdFx0fVxuXHRcdFx0Zm9yIChsZXQgaSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRub2RlLnN0eWxlW2ldID0gdHlwZW9mIHZhbHVlW2ldPT09J251bWJlcicgJiYgIU5PTl9ESU1FTlNJT05fUFJPUFNbaV0gPyAodmFsdWVbaV0rJ3B4JykgOiB2YWx1ZVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAobmFtZT09PSdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcblx0XHRpZiAodmFsdWUpIG5vZGUuaW5uZXJIVE1MID0gdmFsdWUuX19odG1sO1xuXHR9XG5cdGVsc2UgaWYgKG5hbWVbMF09PT0nbycgJiYgbmFtZVsxXT09PSduJykge1xuXHRcdGxldCBsID0gbm9kZS5fbGlzdGVuZXJzIHx8IChub2RlLl9saXN0ZW5lcnMgPSB7fSk7XG5cdFx0bmFtZSA9IHRvTG93ZXJDYXNlKG5hbWUuc3Vic3RyaW5nKDIpKTtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghbFtuYW1lXSkgbm9kZS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRlbHNlIGlmIChsW25hbWVdKSB7XG5cdFx0XHRub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSk7XG5cdFx0fVxuXHRcdGxbbmFtZV0gPSB2YWx1ZTtcblx0fVxuXHRlbHNlIGlmIChuYW1lIT09J3R5cGUnICYmICFpc1N2ZyAmJiBuYW1lIGluIG5vZGUpIHtcblx0XHRzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCBlbXB0eSh2YWx1ZSkgPyAnJyA6IHZhbHVlKTtcblx0XHRpZiAoZmFsc2V5KHZhbHVlKSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0bGV0IG5zID0gaXNTdmcgJiYgbmFtZS5tYXRjaCgvXnhsaW5rXFw6PyguKykvKTtcblx0XHRpZiAoZmFsc2V5KHZhbHVlKSkge1xuXHRcdFx0aWYgKG5zKSBub2RlLnJlbW92ZUF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pKTtcblx0XHRcdGVsc2Ugbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSE9PSdvYmplY3QnICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuXHRcdFx0aWYgKG5zKSBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pLCB2YWx1ZSk7XG5cdFx0XHRlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXR0ZW1wdCB0byBzZXQgYSBET00gcHJvcGVydHkgdG8gdGhlIGdpdmVuIHZhbHVlLlxuICpcdElFICYgRkYgdGhyb3cgZm9yIGNlcnRhaW4gcHJvcGVydHktdmFsdWUgY29tYmluYXRpb25zLlxuICovXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSkge1xuXHR0cnkge1xuXHRcdG5vZGVbbmFtZV0gPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkgeyB9XG59XG5cblxuLyoqIFByb3h5IGFuIGV2ZW50IHRvIGhvb2tlZCBldmVudCBoYW5kbGVyc1xuICpcdEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHRyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50KGUpIHx8IGUpO1xufVxuXG5cbi8qKiBHZXQgYSBub2RlJ3MgYXR0cmlidXRlcyBhcyBhIGhhc2htYXAuXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpIHtcblx0bGV0IGF0dHJzID0ge307XG5cdGZvciAobGV0IGk9bm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaS0tOyApIHtcblx0XHRhdHRyc1tub2RlLmF0dHJpYnV0ZXNbaV0ubmFtZV0gPSBub2RlLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL2luZGV4LmpzXG4gKiovIiwiaW1wb3J0IHsgY2xvbmUsIGV4dGVuZCwgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQgfSBmcm9tICcuL2Z1bmN0aW9uYWwtY29tcG9uZW50JztcbmltcG9ydCB7IGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcblxuXG4vKiogQ2hlY2sgaWYgdHdvIG5vZGVzIGFyZSBlcXVpdmFsZW50LlxuICpcdEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU5vZGVUeXBlKG5vZGUsIHZub2RlKSB7XG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRyZXR1cm4gZ2V0Tm9kZVR5cGUobm9kZSk9PT0zO1xuXHR9XG5cdGlmIChpc1N0cmluZyh2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gaXNOYW1lZE5vZGUobm9kZSwgdm5vZGUubm9kZU5hbWUpO1xuXHR9XG5cdGlmIChpc0Z1bmN0aW9uKHZub2RlLm5vZGVOYW1lKSkge1xuXHRcdHJldHVybiBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lIHx8IGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSk7XG5cdH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gaXNOYW1lZE5vZGUobm9kZSwgbm9kZU5hbWUpIHtcblx0cmV0dXJuIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lPT09bm9kZU5hbWUgfHwgdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSk9PT10b0xvd2VyQ2FzZShub2RlTmFtZSk7XG59XG5cblxuLyoqXG4gKiBSZWNvbnN0cnVjdCBDb21wb25lbnQtc3R5bGUgYHByb3BzYCBmcm9tIGEgVk5vZGUuXG4gKiBFbnN1cmVzIGRlZmF1bHQvZmFsbGJhY2sgdmFsdWVzIGZyb20gYGRlZmF1bHRQcm9wc2A6XG4gKiBPd24tcHJvcGVydGllcyBvZiBgZGVmYXVsdFByb3BzYCBub3QgcHJlc2VudCBpbiBgdm5vZGUuYXR0cmlidXRlc2AgYXJlIGFkZGVkLlxuICogQHBhcmFtIHtWTm9kZX0gdm5vZGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IHByb3BzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlUHJvcHModm5vZGUpIHtcblx0bGV0IGRlZmF1bHRQcm9wcyA9IHZub2RlLm5vZGVOYW1lLmRlZmF1bHRQcm9wcyxcblx0XHRwcm9wcyA9IGNsb25lKGRlZmF1bHRQcm9wcyB8fCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAoZGVmYXVsdFByb3BzKSBleHRlbmQocHJvcHMsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmICh2bm9kZS5jaGlsZHJlbikgcHJvcHMuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblxuXHRyZXR1cm4gcHJvcHM7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2luZGV4LmpzXG4gKiovIiwiaW1wb3J0IHsgdG9Mb3dlckNhc2UgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGVuc3VyZU5vZGVEYXRhLCBnZXROb2RlVHlwZSwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIHJlbW92ZU5vZGUgfSBmcm9tICcuL2luZGV4JztcblxuLyoqIERPTSBub2RlIHBvb2wsIGtleWVkIG9uIG5vZGVOYW1lLiAqL1xuXG5jb25zdCBub2RlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdE5vZGUobm9kZSkge1xuXHRjbGVhbk5vZGUobm9kZSk7XG5cdGxldCBuYW1lID0gdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSksXG5cdFx0bGlzdCA9IG5vZGVzW25hbWVdO1xuXHRpZiAobGlzdCkgbGlzdC5wdXNoKG5vZGUpO1xuXHRlbHNlIG5vZGVzW25hbWVdID0gW25vZGVdO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Zykge1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKSxcblx0XHRub2RlID0gbm9kZXNbbmFtZV0gJiYgbm9kZXNbbmFtZV0ucG9wKCkgfHwgKGlzU3ZnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5vZGVOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpKTtcblx0ZW5zdXJlTm9kZURhdGEobm9kZSk7XG5cdG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID0gbmFtZTtcblx0cmV0dXJuIG5vZGU7XG59XG5cblxuZnVuY3Rpb24gY2xlYW5Ob2RlKG5vZGUpIHtcblx0cmVtb3ZlTm9kZShub2RlKTtcblxuXHRpZiAoZ2V0Tm9kZVR5cGUobm9kZSkhPT0xKSByZXR1cm47XG5cblx0Ly8gV2hlbiByZWNsYWltaW5nIGV4dGVybmFsbHkgY3JlYXRlZCBub2Rlcywgc2VlZCB0aGUgYXR0cmlidXRlIGNhY2hlOiAoSXNzdWUgIzk3KVxuXG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpKTtcblxuXHRub2RlLl9jb21wb25lbnQgPSBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9IG51bGw7XG5cblx0Ly8gaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg+MCkge1xuXHQvLyBcdGNvbnNvbGUudHJhY2UoYFdhcm5pbmc6IFJlY3ljbGVyIGNvbGxlY3RpbmcgPCR7bm9kZS5ub2RlTmFtZX0+IHdpdGggJHtub2RlLmNoaWxkTm9kZXMubGVuZ3RofSBjaGlsZHJlbi5gKTtcblx0Ly8gXHRmb3IgKGxldCBpPW5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGktLTsgKSBjb2xsZWN0Tm9kZShub2RlLmNoaWxkTm9kZXNbaV0pO1xuXHQvLyB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9kb20vcmVjeWNsZXIuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB0b0xvd2VyQ2FzZSwgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBpc1NhbWVOb2RlVHlwZSwgaXNOYW1lZE5vZGUgfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGlzRnVuY3Rpb25hbENvbXBvbmVudCwgYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBidWlsZENvbXBvbmVudEZyb21WTm9kZSB9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IHNldEFjY2Vzc29yLCBnZXRSYXdOb2RlQXR0cmlidXRlcywgZ2V0Tm9kZVR5cGUgfSBmcm9tICcuLi9kb20vaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlTm9kZSwgY29sbGVjdE5vZGUgfSBmcm9tICcuLi9kb20vcmVjeWNsZXInO1xuaW1wb3J0IHsgdW5tb3VudENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcblxuXG4vKiogRGlmZiByZWN1cnNpb24gY291bnQsIHVzZWQgdG8gdHJhY2sgdGhlIGVuZCBvZiB0aGUgZGlmZiBjeWNsZS4gKi9cbmV4cG9ydCBjb25zdCBtb3VudHMgPSBbXTtcblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgbGV0IGRpZmZMZXZlbCA9IDA7XG5cbmxldCBpc1N2Z01vZGUgPSBmYWxzZTtcblxuXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hNb3VudHMoKSB7XG5cdGxldCBjO1xuXHR3aGlsZSAoKGM9bW91bnRzLnBvcCgpKSkge1xuXHRcdGlmIChjLmNvbXBvbmVudERpZE1vdW50KSBjLmNvbXBvbmVudERpZE1vdW50KCk7XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYSBnaXZlbiB2bm9kZSAoYW5kIGl0J3MgZGVlcCBjaGlsZHJlbikgdG8gYSByZWFsIERPTSBOb2RlLlxuICpcdEBwYXJhbSB7RWxlbWVudH0gW2RvbT1udWxsXVx0XHRBIERPTSBub2RlIHRvIG11dGF0ZSBpbnRvIHRoZSBzaGFwZSBvZiB0aGUgYHZub2RlYFxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRcdFx0QSBWTm9kZSAod2l0aCBkZXNjZW5kYW50cyBmb3JtaW5nIGEgdHJlZSkgcmVwcmVzZW50aW5nIHRoZSBkZXNpcmVkIERPTSBzdHJ1Y3R1cmVcbiAqXHRAcmV0dXJucyB7RWxlbWVudH0gZG9tXHRcdFx0VGhlIGNyZWF0ZWQvbXV0YXRlZCBlbGVtZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIHBhcmVudCkge1xuXHRkaWZmTGV2ZWwrKztcblx0bGV0IHJldCA9IGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0aWYgKHBhcmVudCAmJiByZXQucGFyZW50Tm9kZSE9PXBhcmVudCkgcGFyZW50LmFwcGVuZENoaWxkKHJldCk7XG5cdGlmICghLS1kaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdHJldHVybiByZXQ7XG59XG5cblxuZnVuY3Rpb24gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQXR0cmlidXRlcyA9IHZub2RlICYmIHZub2RlLmF0dHJpYnV0ZXM7XG5cblx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSkpIHtcblx0XHR2bm9kZSA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSwgY29udGV4dCk7XG5cdH1cblxuXHRpZiAoZW1wdHkodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXHR9XG5cblx0aWYgKGlzU3RyaW5nKHZub2RlKSkge1xuXHRcdGlmIChkb20pIHtcblx0XHRcdGlmIChnZXROb2RlVHlwZShkb20pPT09MyAmJiBkb20ucGFyZW50Tm9kZSkge1xuXHRcdFx0XHRpZiAoZG9tLm5vZGVWYWx1ZSE9dm5vZGUpIHtcblx0XHRcdFx0XHRkb20ubm9kZVZhbHVlID0gdm5vZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGRvbTtcblx0XHRcdH1cblx0XHRcdGNvbGxlY3ROb2RlKGRvbSk7XG5cdFx0fVxuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2bm9kZSk7XG5cdH1cblxuXHRsZXQgb3V0ID0gZG9tLFxuXHRcdG5vZGVOYW1lID0gdm5vZGUubm9kZU5hbWUsXG5cdFx0c3ZnTW9kZTtcblxuXHRpZiAoaXNGdW5jdGlvbihub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHR9XG5cblx0aWYgKCFpc1N0cmluZyhub2RlTmFtZSkpIHtcblx0XHRub2RlTmFtZSA9IFN0cmluZyhub2RlTmFtZSk7XG5cdH1cblxuXHRzdmdNb2RlID0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpPT09J3N2Zyc7XG5cblx0aWYgKHN2Z01vZGUpIGlzU3ZnTW9kZSA9IHRydWU7XG5cblx0aWYgKCFkb20pIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHR9XG5cdGVsc2UgaWYgKCFpc05hbWVkTm9kZShkb20sIG5vZGVOYW1lKSkge1xuXHRcdG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnTW9kZSk7XG5cdFx0Ly8gbW92ZSBjaGlsZHJlbiBpbnRvIHRoZSByZXBsYWNlbWVudCBub2RlXG5cdFx0d2hpbGUgKGRvbS5maXJzdENoaWxkKSBvdXQuYXBwZW5kQ2hpbGQoZG9tLmZpcnN0Q2hpbGQpO1xuXHRcdC8vIHJlY2xhaW0gZWxlbWVudCBub2Rlc1xuXHRcdHJlY29sbGVjdE5vZGVUcmVlKGRvbSk7XG5cdH1cblxuXHQvLyBmYXN0LXBhdGggZm9yIGVsZW1lbnRzIGNvbnRhaW5pbmcgYSBzaW5nbGUgVGV4dE5vZGU6XG5cdGlmICh2bm9kZS5jaGlsZHJlbiAmJiB2bm9kZS5jaGlsZHJlbi5sZW5ndGg9PT0xICYmIHR5cGVvZiB2bm9kZS5jaGlsZHJlblswXT09PSdzdHJpbmcnICYmIG91dC5jaGlsZE5vZGVzLmxlbmd0aD09PTEgJiYgb3V0LmZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBUZXh0KSB7XG5cdFx0b3V0LmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gdm5vZGUuY2hpbGRyZW5bMF07XG5cdH1cblx0ZWxzZSBpZiAodm5vZGUuY2hpbGRyZW4gfHwgb3V0LmZpcnN0Q2hpbGQpIHtcblx0XHRpbm5lckRpZmZOb2RlKG91dCwgdm5vZGUuY2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGRpZmZBdHRyaWJ1dGVzKG91dCwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKG9yaWdpbmFsQXR0cmlidXRlcyAmJiBvcmlnaW5hbEF0dHJpYnV0ZXMucmVmKSB7XG5cdFx0KG91dFtBVFRSX0tFWV0ucmVmID0gb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikob3V0KTtcblx0fVxuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSBmYWxzZTtcblxuXHRyZXR1cm4gb3V0O1xufVxuXG5cbi8qKiBBcHBseSBjaGlsZCBhbmQgYXR0cmlidXRlIGNoYW5nZXMgYmV0d2VlbiBhIFZOb2RlIGFuZCBhIERPTSBOb2RlIHRvIHRoZSBET00uICovXG5mdW5jdGlvbiBpbm5lckRpZmZOb2RlKGRvbSwgdmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgb3JpZ2luYWxDaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzLFxuXHRcdGNoaWxkcmVuID0gW10sXG5cdFx0a2V5ZWQgPSB7fSxcblx0XHRrZXllZExlbiA9IDAsXG5cdFx0bWluID0gMCxcblx0XHRsZW4gPSBvcmlnaW5hbENoaWxkcmVuLmxlbmd0aCxcblx0XHRjaGlsZHJlbkxlbiA9IDAsXG5cdFx0dmxlbiA9IHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoLFxuXHRcdGosIGMsIHZjaGlsZCwgY2hpbGQ7XG5cblx0aWYgKGxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTxsZW47IGkrKykge1xuXHRcdFx0bGV0IGNoaWxkID0gb3JpZ2luYWxDaGlsZHJlbltpXSxcblx0XHRcdFx0a2V5ID0gdmxlbiA/ICgoYyA9IGNoaWxkLl9jb21wb25lbnQpID8gYy5fX2tleSA6IChjID0gY2hpbGRbQVRUUl9LRVldKSA/IGMua2V5IDogbnVsbCkgOiBudWxsO1xuXHRcdFx0aWYgKGtleSB8fCBrZXk9PT0wKSB7XG5cdFx0XHRcdGtleWVkTGVuKys7XG5cdFx0XHRcdGtleWVkW2tleV0gPSBjaGlsZDtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjaGlsZHJlbltjaGlsZHJlbkxlbisrXSA9IGNoaWxkO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICh2bGVuKSB7XG5cdFx0Zm9yIChsZXQgaT0wOyBpPHZsZW47IGkrKykge1xuXHRcdFx0dmNoaWxkID0gdmNoaWxkcmVuW2ldO1xuXHRcdFx0Y2hpbGQgPSBudWxsO1xuXG5cdFx0XHQvLyBpZiAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZjaGlsZCkpIHtcblx0XHRcdC8vIFx0dmNoaWxkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHZjaGlsZCk7XG5cdFx0XHQvLyB9XG5cblx0XHRcdC8vIGF0dGVtcHQgdG8gZmluZCBhIG5vZGUgYmFzZWQgb24ga2V5IG1hdGNoaW5nXG5cdFx0XHRpZiAoa2V5ZWRMZW4gJiYgdmNoaWxkLmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0bGV0IGtleSA9IHZjaGlsZC5rZXk7XG5cdFx0XHRcdGlmICghZW1wdHkoa2V5KSAmJiBrZXkgaW4ga2V5ZWQpIHtcblx0XHRcdFx0XHRjaGlsZCA9IGtleWVkW2tleV07XG5cdFx0XHRcdFx0a2V5ZWRba2V5XSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRrZXllZExlbi0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGF0dGVtcHQgdG8gcGx1Y2sgYSBub2RlIG9mIHRoZSBzYW1lIHR5cGUgZnJvbSB0aGUgZXhpc3RpbmcgY2hpbGRyZW5cblx0XHRcdGlmICghY2hpbGQgJiYgbWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0XHRcdGZvciAoaj1taW47IGo8Y2hpbGRyZW5MZW47IGorKykge1xuXHRcdFx0XHRcdGMgPSBjaGlsZHJlbltqXTtcblx0XHRcdFx0XHRpZiAoYyAmJiBpc1NhbWVOb2RlVHlwZShjLCB2Y2hpbGQpKSB7XG5cdFx0XHRcdFx0XHRjaGlsZCA9IGM7XG5cdFx0XHRcdFx0XHRjaGlsZHJlbltqXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGlmIChqPT09Y2hpbGRyZW5MZW4tMSkgY2hpbGRyZW5MZW4tLTtcblx0XHRcdFx0XHRcdGlmIChqPT09bWluKSBtaW4rKztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBtb3JwaCB0aGUgbWF0Y2hlZC9mb3VuZC9jcmVhdGVkIERPTSBjaGlsZCB0byBtYXRjaCB2Y2hpbGQgKGRlZXApXG5cdFx0XHRjaGlsZCA9IGlkaWZmKGNoaWxkLCB2Y2hpbGQsIGNvbnRleHQsIG1vdW50QWxsKTtcblxuXHRcdFx0aWYgKGNoaWxkIT09b3JpZ2luYWxDaGlsZHJlbltpXSkge1xuXHRcdFx0XHRkb20uaW5zZXJ0QmVmb3JlKGNoaWxkLCBvcmlnaW5hbENoaWxkcmVuW2ldIHx8IG51bGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cblx0aWYgKGtleWVkTGVuKSB7XG5cdFx0Lyplc2xpbnQgZ3VhcmQtZm9yLWluOjAqL1xuXHRcdGZvciAobGV0IGkgaW4ga2V5ZWQpIGlmIChrZXllZFtpXSkge1xuXHRcdFx0Y2hpbGRyZW5bbWluPWNoaWxkcmVuTGVuKytdID0ga2V5ZWRbaV07XG5cdFx0fVxuXHR9XG5cblx0Ly8gcmVtb3ZlIG9ycGhhbmVkIGNoaWxkcmVuXG5cdGlmIChtaW48Y2hpbGRyZW5MZW4pIHtcblx0XHRyZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuKTtcblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGNoaWxkcmVuIHRoYXQgd2VyZSB1bnJlZmVyZW5jZWQgaW4gdGhlIGRlc2lyZWQgVlRyZWUgKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuLCB1bm1vdW50T25seSkge1xuXHRmb3IgKGxldCBpPWNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHRsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0XHRpZiAoY2hpbGQpIHtcblx0XHRcdHJlY29sbGVjdE5vZGVUcmVlKGNoaWxkLCB1bm1vdW50T25seSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIFJlY2xhaW0gYW4gZW50aXJlIHRyZWUgb2Ygbm9kZXMsIHN0YXJ0aW5nIGF0IHRoZSByb290LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHVubW91bnRPbmx5KSB7XG5cdC8vIEBUT0RPOiBOZWVkIHRvIG1ha2UgYSBjYWxsIG9uIHdoZXRoZXIgUHJlYWN0IHNob3VsZCByZW1vdmUgbm9kZXMgbm90IGNyZWF0ZWQgYnkgaXRzZWxmLlxuXHQvLyBDdXJyZW50bHkgaXQgKmRvZXMqIHJlbW92ZSB0aGVtLiBEaXNjdXNzaW9uOiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9pc3N1ZXMvMzlcblx0Ly9pZiAoIW5vZGVbQVRUUl9LRVldKSByZXR1cm47XG5cblx0bGV0IGNvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudDtcblx0aWYgKGNvbXBvbmVudCkge1xuXHRcdHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCAhdW5tb3VudE9ubHkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChub2RlW0FUVFJfS0VZXSAmJiBub2RlW0FUVFJfS0VZXS5yZWYpIG5vZGVbQVRUUl9LRVldLnJlZihudWxsKTtcblxuXHRcdGlmICghdW5tb3VudE9ubHkpIHtcblxuXHRcdFx0Y29sbGVjdE5vZGUobm9kZSk7XG5cdFx0fVxuXG5cdFx0aWYgKG5vZGUuY2hpbGROb2RlcyAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRyZW1vdmVPcnBoYW5lZENoaWxkcmVuKG5vZGUuY2hpbGROb2RlcywgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBBcHBseSBkaWZmZXJlbmNlcyBpbiBhdHRyaWJ1dGVzIGZyb20gYSBWTm9kZSB0byB0aGUgZ2l2ZW4gRE9NIE5vZGUuICovXG5mdW5jdGlvbiBkaWZmQXR0cmlidXRlcyhkb20sIGF0dHJzKSB7XG5cdGxldCBvbGQgPSBkb21bQVRUUl9LRVldIHx8IGdldFJhd05vZGVBdHRyaWJ1dGVzKGRvbSk7XG5cblx0Ly8gcmVtb3ZlQXR0cmlidXRlcyhkb20sIG9sZCwgYXR0cnMgfHwgRU1QVFkpO1xuXHRmb3IgKGxldCBuYW1lIGluIG9sZCkge1xuXHRcdGlmICghYXR0cnMgfHwgIShuYW1lIGluIGF0dHJzKSkge1xuXHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBudWxsLCBvbGRbbmFtZV0sIGlzU3ZnTW9kZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gbmV3ICYgdXBkYXRlZFxuXHRpZiAoYXR0cnMpIHtcblx0XHRmb3IgKGxldCBuYW1lIGluIGF0dHJzKSB7XG5cdFx0XHRpZiAoIShuYW1lIGluIG9sZCkgfHwgYXR0cnNbbmFtZV0hPShuYW1lPT09J3ZhbHVlJyB8fCBuYW1lPT09J3NlbGVjdGVkJyB8fCBuYW1lPT09J2NoZWNrZWQnID8gZG9tW25hbWVdIDogb2xkW25hbWVdKSkge1xuXHRcdFx0XHRzZXRBY2Nlc3Nvcihkb20sIG5hbWUsIGF0dHJzW25hbWVdLCBvbGRbbmFtZV0sIGlzU3ZnTW9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2RpZmYuanNcbiAqKi8iLCIvKiogUmV0YWlucyBhIHBvb2wgb2YgQ29tcG9uZW50cyBmb3IgcmUtdXNlLCBrZXllZCBvbiBjb21wb25lbnQgbmFtZS5cbiAqXHROb3RlOiBzaW5jZSBjb21wb25lbnQgbmFtZXMgYXJlIG5vdCB1bmlxdWUgb3IgZXZlbiBuZWNlc3NhcmlseSBhdmFpbGFibGUsIHRoZXNlIGFyZSBwcmltYXJpbHkgYSBmb3JtIG9mIHNoYXJkaW5nLlxuICpcdEBwcml2YXRlXG4gKi9cbmNvbnN0IGNvbXBvbmVudHMgPSB7fTtcblxuXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdENvbXBvbmVudChjb21wb25lbnQpIHtcblx0bGV0IG5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChjb21wb25lbnQpO1xuXHRlbHNlIGNvbXBvbmVudHNbbmFtZV0gPSBbY29tcG9uZW50XTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KEN0b3IsIHByb3BzLCBjb250ZXh0KSB7XG5cdGxldCBpbnN0ID0gbmV3IEN0b3IocHJvcHMsIGNvbnRleHQpLFxuXHRcdGxpc3QgPSBjb21wb25lbnRzW0N0b3IubmFtZV07XG5cdGlmIChsaXN0KSB7XG5cdFx0Zm9yIChsZXQgaT1saXN0Lmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdGlmIChsaXN0W2ldLmNvbnN0cnVjdG9yPT09Q3Rvcikge1xuXHRcdFx0XHRpbnN0Lm5leHRCYXNlID0gbGlzdFtpXS5uZXh0QmFzZTtcblx0XHRcdFx0bGlzdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gaW5zdDtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LXJlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgU1lOQ19SRU5ERVIsIE5PX1JFTkRFUiwgRk9SQ0VfUkVOREVSLCBBU1lOQ19SRU5ERVIsIEFUVFJfS0VZIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgY2xvbmUsIGV4dGVuZCwgZW1wdHkgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IGVucXVldWVSZW5kZXIgfSBmcm9tICcuLi9yZW5kZXItcXVldWUnO1xuaW1wb3J0IHsgZ2V0Tm9kZVByb3BzIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBkaWZmLCBtb3VudHMsIGRpZmZMZXZlbCwgZmx1c2hNb3VudHMsIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4sIHJlY29sbGVjdE5vZGVUcmVlIH0gZnJvbSAnLi9kaWZmJztcbmltcG9ydCB7IGlzRnVuY3Rpb25hbENvbXBvbmVudCwgYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQsIGNvbGxlY3RDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudC1yZWN5Y2xlcic7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcblxuXG4vKiogTWFyayBjb21wb25lbnQgYXMgZGlydHkgYW5kIHF1ZXVlIHVwIGEgcmVuZGVyLlxuICpcdEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckNvbXBvbmVudFJlbmRlcihjb21wb25lbnQpIHtcblx0aWYgKCFjb21wb25lbnQuX2RpcnR5KSB7XG5cdFx0Y29tcG9uZW50Ll9kaXJ0eSA9IHRydWU7XG5cdFx0ZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpO1xuXHR9XG59XG5cblxuXG4vKiogU2V0IGEgY29tcG9uZW50J3MgYHByb3BzYCAoZ2VuZXJhbGx5IGRlcml2ZWQgZnJvbSBKU1ggYXR0cmlidXRlcykuXG4gKlx0QHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMucmVuZGVyU3luYz1mYWxzZV1cdElmIGB0cnVlYCBhbmQge0BsaW5rIG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXN9IGlzIGB0cnVlYCwgdHJpZ2dlcnMgc3luY2hyb25vdXMgcmVuZGVyaW5nLlxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMucmVuZGVyPXRydWVdXHRcdFx0SWYgYGZhbHNlYCwgbm8gcmVuZGVyIHdpbGwgYmUgdHJpZ2dlcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29tcG9uZW50UHJvcHMoY29tcG9uZW50LCBwcm9wcywgb3B0cywgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IGIgPSBjb21wb25lbnQuYmFzZTtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXHRjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSB0cnVlO1xuXG5cdGlmICgoY29tcG9uZW50Ll9fcmVmID0gcHJvcHMucmVmKSkgZGVsZXRlIHByb3BzLnJlZjtcblx0aWYgKChjb21wb25lbnQuX19rZXkgPSBwcm9wcy5rZXkpKSBkZWxldGUgcHJvcHMua2V5O1xuXG5cdGlmIChlbXB0eShiKSB8fCBtb3VudEFsbCkge1xuXHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdH1cblx0ZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHtcblx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcywgY29udGV4dCk7XG5cdH1cblxuXHRpZiAoY29udGV4dCAmJiBjb250ZXh0IT09Y29tcG9uZW50LmNvbnRleHQpIHtcblx0XHRpZiAoIWNvbXBvbmVudC5wcmV2Q29udGV4dCkgY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQ7XG5cdFx0Y29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHR9XG5cblx0aWYgKCFjb21wb25lbnQucHJldlByb3BzKSBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByb3BzO1xuXHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblxuXHRjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSBmYWxzZTtcblxuXHRpZiAob3B0cyE9PU5PX1JFTkRFUikge1xuXHRcdGlmIChvcHRzPT09U1lOQ19SRU5ERVIgfHwgb3B0aW9ucy5zeW5jQ29tcG9uZW50VXBkYXRlcyE9PWZhbHNlIHx8ICFiKSB7XG5cdFx0XHRyZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBTWU5DX1JFTkRFUiwgbW91bnRBbGwpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYoY29tcG9uZW50KTtcbn1cblxuXG5cbi8qKiBSZW5kZXIgYSBDb21wb25lbnQsIHRyaWdnZXJpbmcgbmVjZXNzYXJ5IGxpZmVjeWNsZSBldmVudHMgYW5kIHRha2luZyBIaWdoLU9yZGVyIENvbXBvbmVudHMgaW50byBhY2NvdW50LlxuICpcdEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnRcbiAqXHRAcGFyYW0ge09iamVjdH0gW29wdHNdXG4gKlx0QHBhcmFtIHtib29sZWFufSBbb3B0cy5idWlsZD1mYWxzZV1cdFx0SWYgYHRydWVgLCBjb21wb25lbnQgd2lsbCBidWlsZCBhbmQgc3RvcmUgYSBET00gbm9kZSBpZiBub3QgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggb25lLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBvcHRzLCBtb3VudEFsbCkge1xuXHRpZiAoY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nKSByZXR1cm47XG5cblx0bGV0IHNraXAsIHJlbmRlcmVkLFxuXHRcdHByb3BzID0gY29tcG9uZW50LnByb3BzLFxuXHRcdHN0YXRlID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdGNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dCxcblx0XHRwcmV2aW91c1Byb3BzID0gY29tcG9uZW50LnByZXZQcm9wcyB8fCBwcm9wcyxcblx0XHRwcmV2aW91c1N0YXRlID0gY29tcG9uZW50LnByZXZTdGF0ZSB8fCBzdGF0ZSxcblx0XHRwcmV2aW91c0NvbnRleHQgPSBjb21wb25lbnQucHJldkNvbnRleHQgfHwgY29udGV4dCxcblx0XHRpc1VwZGF0ZSA9IGNvbXBvbmVudC5iYXNlLFxuXHRcdGluaXRpYWxCYXNlID0gaXNVcGRhdGUgfHwgY29tcG9uZW50Lm5leHRCYXNlLFxuXHRcdG5leHRTaWJsaW5nID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UubmV4dFNpYmxpbmcsXG5cdFx0YmFzZVBhcmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUsXG5cdFx0aW5pdGlhbENvbXBvbmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLl9jb21wb25lbnQsXG5cdFx0aW5pdGlhbENoaWxkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cblx0Ly8gaWYgdXBkYXRpbmdcblx0aWYgKGlzVXBkYXRlKSB7XG5cdFx0Y29tcG9uZW50LnByb3BzID0gcHJldmlvdXNQcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBwcmV2aW91c1N0YXRlO1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuXHRcdGlmIChvcHRzIT09Rk9SQ0VfUkVOREVSXG5cdFx0XHQmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlXG5cdFx0XHQmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCkgPT09IGZhbHNlKSB7XG5cdFx0XHRza2lwID0gdHJ1ZTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcblx0XHRcdGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHRcdGNvbXBvbmVudC5zdGF0ZSA9IHN0YXRlO1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJldlN0YXRlID0gY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50Lm5leHRCYXNlID0gbnVsbDtcblx0Y29tcG9uZW50Ll9kaXJ0eSA9IGZhbHNlO1xuXG5cdGlmICghc2tpcCkge1xuXHRcdGlmIChjb21wb25lbnQucmVuZGVyKSByZW5kZXJlZCA9IGNvbXBvbmVudC5yZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblxuXHRcdC8vIGNvbnRleHQgdG8gcGFzcyB0byB0aGUgY2hpbGQsIGNhbiBiZSB1cGRhdGVkIHZpYSAoZ3JhbmQtKXBhcmVudCBjb21wb25lbnRcblx0XHRpZiAoY29tcG9uZW50LmdldENoaWxkQ29udGV4dCkge1xuXHRcdFx0Y29udGV4dCA9IGV4dGVuZChjbG9uZShjb250ZXh0KSwgY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpKTtcblx0XHR9XG5cblx0XHR3aGlsZSAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkKSkge1xuXHRcdFx0cmVuZGVyZWQgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQocmVuZGVyZWQsIGNvbnRleHQpO1xuXHRcdH1cblxuXHRcdGxldCBjaGlsZENvbXBvbmVudCA9IHJlbmRlcmVkICYmIHJlbmRlcmVkLm5vZGVOYW1lLFxuXHRcdFx0dG9Vbm1vdW50LCBiYXNlO1xuXG5cdFx0aWYgKGlzRnVuY3Rpb24oY2hpbGRDb21wb25lbnQpICYmIGNoaWxkQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdC8vIHNldCB1cCBoaWdoIG9yZGVyIGNvbXBvbmVudCBsaW5rXG5cblx0XHRcdGxldCBpbnN0ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50LFxuXHRcdFx0XHRjaGlsZFByb3BzID0gZ2V0Tm9kZVByb3BzKHJlbmRlcmVkKTtcblxuXHRcdFx0aWYgKGluc3QgJiYgaW5zdC5jb25zdHJ1Y3Rvcj09PWNoaWxkQ29tcG9uZW50KSB7XG5cdFx0XHRcdHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIFNZTkNfUkVOREVSLCBjb250ZXh0KTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0b1VubW91bnQgPSBpbnN0O1xuXHRcdFx0XHRpbnN0ID0gY3JlYXRlQ29tcG9uZW50KGNoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzLCBjb250ZXh0KTtcblx0XHRcdFx0aW5zdC5fcGFyZW50Q29tcG9uZW50ID0gY29tcG9uZW50O1xuXHRcdFx0XHRjb21wb25lbnQuX2NvbXBvbmVudCA9IGluc3Q7XG5cdFx0XHRcdHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIE5PX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHRcdHJlbmRlckNvbXBvbmVudChpbnN0LCBTWU5DX1JFTkRFUik7XG5cdFx0XHR9XG5cblx0XHRcdGJhc2UgPSBpbnN0LmJhc2U7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bGV0IGNiYXNlID0gaW5pdGlhbEJhc2U7XG5cblx0XHRcdC8vIGRlc3Ryb3kgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXHRcdFx0dG9Vbm1vdW50ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXHRcdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0XHRjYmFzZSA9IGNvbXBvbmVudC5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGluaXRpYWxCYXNlIHx8IG9wdHM9PT1TWU5DX1JFTkRFUikge1xuXHRcdFx0XHRpZiAoY2Jhc2UpIGNiYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRiYXNlID0gZGlmZihjYmFzZSwgcmVuZGVyZWQsIGNvbnRleHQsIG1vdW50QWxsIHx8ICFpc1VwZGF0ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGluaXRpYWxCYXNlICYmIGJhc2UhPT1pbml0aWFsQmFzZSkge1xuXHRcdFx0aWYgKGJhc2VQYXJlbnQgJiYgYmFzZSE9PWJhc2VQYXJlbnQpIGJhc2VQYXJlbnQuaW5zZXJ0QmVmb3JlKGJhc2UsIG5leHRTaWJsaW5nIHx8IG51bGwpO1xuXHRcdFx0aWYgKCF0b1VubW91bnQgJiYgaW5pdGlhbENvbXBvbmVudD09PWNvbXBvbmVudCAmJiAhaW5pdGlhbENoaWxkQ29tcG9uZW50ICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aW5pdGlhbEJhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRcdHJlY29sbGVjdE5vZGVUcmVlKGluaXRpYWxCYXNlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodG9Vbm1vdW50KSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KHRvVW5tb3VudCwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0Y29tcG9uZW50LmJhc2UgPSBiYXNlO1xuXHRcdGlmIChiYXNlKSB7XG5cdFx0XHRsZXQgY29tcG9uZW50UmVmID0gY29tcG9uZW50LFxuXHRcdFx0XHR0ID0gY29tcG9uZW50O1xuXHRcdFx0d2hpbGUgKCh0PXQuX3BhcmVudENvbXBvbmVudCkpIHsgY29tcG9uZW50UmVmID0gdDsgfVxuXHRcdFx0YmFzZS5fY29tcG9uZW50ID0gY29tcG9uZW50UmVmO1xuXHRcdFx0YmFzZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBjb21wb25lbnRSZWYuY29uc3RydWN0b3I7XG5cdFx0fVxuXG5cdH1cblxuXHRpZiAoIWlzVXBkYXRlIHx8IG1vdW50QWxsKSB7XG5cdFx0bW91bnRzLnVuc2hpZnQoY29tcG9uZW50KTtcblx0XHRpZiAoIWRpZmZMZXZlbCkgZmx1c2hNb3VudHMoKTtcblx0fVxuXHRlbHNlIGlmICghc2tpcCAmJiBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1Byb3BzLCBwcmV2aW91c1N0YXRlLCBwcmV2aW91c0NvbnRleHQpO1xuXHR9XG5cblx0bGV0IGNiID0gY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MsIGZuO1xuXHRpZiAoY2IpIHdoaWxlICggKGZuID0gY2IucG9wKCkpICkgZm4uY2FsbChjb21wb25lbnQpO1xuXG5cdHJldHVybiByZW5kZXJlZDtcbn1cblxuXG5cbi8qKiBBcHBseSB0aGUgQ29tcG9uZW50IHJlZmVyZW5jZWQgYnkgYSBWTm9kZSB0byB0aGUgRE9NLlxuICpcdEBwYXJhbSB7RWxlbWVudH0gZG9tXHRUaGUgRE9NIG5vZGUgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdEEgQ29tcG9uZW50LXJlZmVyZW5jaW5nIFZOb2RlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0VGhlIGNyZWF0ZWQvbXV0YXRlZCBlbGVtZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBjID0gZG9tICYmIGRvbS5fY29tcG9uZW50LFxuXHRcdG9sZERvbSA9IGRvbSxcblx0XHRpc0RpcmVjdE93bmVyID0gYyAmJiBkb20uX2NvbXBvbmVudENvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWUsXG5cdFx0aXNPd25lciA9IGlzRGlyZWN0T3duZXIsXG5cdFx0cHJvcHMgPSBnZXROb2RlUHJvcHModm5vZGUpO1xuXHR3aGlsZSAoYyAmJiAhaXNPd25lciAmJiAoYz1jLl9wYXJlbnRDb21wb25lbnQpKSB7XG5cdFx0aXNPd25lciA9IGMuY29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZTtcblx0fVxuXG5cdGlmIChpc093bmVyICYmICghbW91bnRBbGwgfHwgYy5fY29tcG9uZW50KSkge1xuXHRcdHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCBBU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cdH1cblx0ZWxzZSB7XG5cdFx0aWYgKGMgJiYgIWlzRGlyZWN0T3duZXIpIHtcblx0XHRcdHVubW91bnRDb21wb25lbnQoYywgdHJ1ZSk7XG5cdFx0XHRkb20gPSBvbGREb20gPSBudWxsO1xuXHRcdH1cblxuXHRcdGMgPSBjcmVhdGVDb21wb25lbnQodm5vZGUubm9kZU5hbWUsIHByb3BzLCBjb250ZXh0KTtcblx0XHRpZiAoZG9tICYmICFjLm5leHRCYXNlKSBjLm5leHRCYXNlID0gZG9tO1xuXHRcdHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCwgbW91bnRBbGwpO1xuXHRcdGRvbSA9IGMuYmFzZTtcblxuXHRcdGlmIChvbGREb20gJiYgZG9tIT09b2xkRG9tKSB7XG5cdFx0XHRvbGREb20uX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShvbGREb20pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cblxuXG4vKiogUmVtb3ZlIGEgY29tcG9uZW50IGZyb20gdGhlIERPTSBhbmQgcmVjeWNsZSBpdC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0XHRcdEEgRE9NIG5vZGUgZnJvbSB3aGljaCB0byB1bm1vdW50IHRoZSBnaXZlbiBDb21wb25lbnRcbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgQ29tcG9uZW50IGluc3RhbmNlIHRvIHVubW91bnRcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudChjb21wb25lbnQsIHJlbW92ZSkge1xuXHQvLyBjb25zb2xlLmxvZyhgJHtyZW1vdmU/J1JlbW92aW5nJzonVW5tb3VudGluZyd9IGNvbXBvbmVudDogJHtjb21wb25lbnQuY29uc3RydWN0b3IubmFtZX1gKTtcblx0bGV0IGJhc2UgPSBjb21wb25lbnQuYmFzZTtcblxuXHRjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSB0cnVlO1xuXG5cdGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXG5cdGNvbXBvbmVudC5iYXNlID0gbnVsbDtcblxuXHQvLyByZWN1cnNpdmVseSB0ZWFyIGRvd24gJiByZWNvbGxlY3QgaGlnaC1vcmRlciBjb21wb25lbnQgY2hpbGRyZW46XG5cdGxldCBpbm5lciA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHRpZiAoaW5uZXIpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGlubmVyLCByZW1vdmUpO1xuXHR9XG5cdGVsc2UgaWYgKGJhc2UpIHtcblx0XHRpZiAoYmFzZVtBVFRSX0tFWV0gJiYgYmFzZVtBVFRSX0tFWV0ucmVmKSBiYXNlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRjb21wb25lbnQubmV4dEJhc2UgPSBiYXNlO1xuXG5cdFx0aWYgKHJlbW92ZSkge1xuXHRcdFx0cmVtb3ZlTm9kZShiYXNlKTtcblx0XHRcdGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KTtcblx0XHR9XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihiYXNlLmNoaWxkTm9kZXMsICFyZW1vdmUpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKG51bGwpO1xuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC5qc1xuICoqLyIsImltcG9ydCB7IEZPUkNFX1JFTkRFUiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGV4dGVuZCwgY2xvbmUsIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgY3JlYXRlTGlua2VkU3RhdGUgfSBmcm9tICcuL2xpbmtlZC1zdGF0ZSc7XG5pbXBvcnQgeyB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyLCByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIEJhc2UgQ29tcG9uZW50IGNsYXNzLCBmb3IgaGUgRVM2IENsYXNzIG1ldGhvZCBvZiBjcmVhdGluZyBDb21wb25lbnRzXG4gKlx0QHB1YmxpY1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdGNsYXNzIE15Rm9vIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqXHRcdHJlbmRlcihwcm9wcywgc3RhdGUpIHtcbiAqXHRcdFx0cmV0dXJuIDxkaXYgLz47XG4gKlx0XHR9XG4gKlx0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdC8qKiBAcHJpdmF0ZSAqL1xuXHR0aGlzLl9kaXJ0eSA9IHRydWU7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMuX2Rpc2FibGVSZW5kZXJpbmcgPSBmYWxzZTtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5wcmV2U3RhdGUgPSB0aGlzLnByZXZQcm9wcyA9IHRoaXMucHJldkNvbnRleHQgPSB0aGlzLmJhc2UgPSB0aGlzLm5leHRCYXNlID0gdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50ID0gdGhpcy5fX3JlZiA9IHRoaXMuX19rZXkgPSB0aGlzLl9saW5rZWRTdGF0ZXMgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSBudWxsO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLmNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuXHQvKiogQHR5cGUge29iamVjdH0gKi9cblx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHQvKiogQHR5cGUge29iamVjdH0gKi9cblx0dGhpcy5zdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgfHwge307XG59XG5cblxuZXh0ZW5kKENvbXBvbmVudC5wcm90b3R5cGUsIHtcblxuXHQvKiogUmV0dXJucyBhIGBib29sZWFuYCB2YWx1ZSBpbmRpY2F0aW5nIGlmIHRoZSBjb21wb25lbnQgc2hvdWxkIHJlLXJlbmRlciB3aGVuIHJlY2VpdmluZyB0aGUgZ2l2ZW4gYHByb3BzYCBhbmQgYHN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBuZXh0U3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBuZXh0Q29udGV4dFxuXHQgKlx0QHJldHVybnMge0Jvb2xlYW59IHNob3VsZCB0aGUgY29tcG9uZW50IHJlLXJlbmRlclxuXHQgKlx0QG5hbWUgc2hvdWxkQ29tcG9uZW50VXBkYXRlXG5cdCAqXHRAZnVuY3Rpb25cblx0ICovXG5cdC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0Ly8gXHRyZXR1cm4gdHJ1ZTtcblx0Ly8gfSxcblxuXG5cdC8qKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBzZXRzIGEgc3RhdGUgcHJvcGVydHkgd2hlbiBjYWxsZWQuXG5cdCAqXHRDYWxsaW5nIGxpbmtTdGF0ZSgpIHJlcGVhdGVkbHkgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMgcmV0dXJucyBhIGNhY2hlZCBsaW5rIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKlx0UHJvdmlkZXMgc29tZSBidWlsdC1pbiBzcGVjaWFsIGNhc2VzOlxuXHQgKlx0XHQtIENoZWNrYm94ZXMgYW5kIHJhZGlvIGJ1dHRvbnMgbGluayB0aGVpciBib29sZWFuIGBjaGVja2VkYCB2YWx1ZVxuXHQgKlx0XHQtIElucHV0cyBhdXRvbWF0aWNhbGx5IGxpbmsgdGhlaXIgYHZhbHVlYCBwcm9wZXJ0eVxuXHQgKlx0XHQtIEV2ZW50IHBhdGhzIGZhbGwgYmFjayB0byBhbnkgYXNzb2NpYXRlZCBDb21wb25lbnQgaWYgbm90IGZvdW5kIG9uIGFuIGVsZW1lbnRcblx0ICpcdFx0LSBJZiBsaW5rZWQgdmFsdWUgaXMgYSBmdW5jdGlvbiwgd2lsbCBpbnZva2UgaXQgYW5kIHVzZSB0aGUgcmVzdWx0XG5cdCAqXG5cdCAqXHRAcGFyYW0ge3N0cmluZ30ga2V5XHRcdFx0XHRUaGUgcGF0aCB0byBzZXQgLSBjYW4gYmUgYSBkb3Qtbm90YXRlZCBkZWVwIGtleVxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IFtldmVudFBhdGhdXHRcdElmIHNldCwgYXR0ZW1wdHMgdG8gZmluZCB0aGUgbmV3IHN0YXRlIHZhbHVlIGF0IGEgZ2l2ZW4gZG90LW5vdGF0ZWQgcGF0aCB3aXRoaW4gdGhlIG9iamVjdCBwYXNzZWQgdG8gdGhlIGxpbmtlZFN0YXRlIHNldHRlci5cblx0ICpcdEByZXR1cm5zIHtmdW5jdGlvbn0gbGlua1N0YXRlU2V0dGVyKGUpXG5cdCAqXG5cdCAqXHRAZXhhbXBsZSBVcGRhdGUgYSBcInRleHRcIiBzdGF0ZSB2YWx1ZSB3aGVuIGFuIGlucHV0IGNoYW5nZXM6XG5cdCAqXHRcdDxpbnB1dCBvbkNoYW5nZT17IHRoaXMubGlua1N0YXRlKCd0ZXh0JykgfSAvPlxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgU2V0IGEgZGVlcCBzdGF0ZSB2YWx1ZSBvbiBjbGlja1xuXHQgKlx0XHQ8YnV0dG9uIG9uQ2xpY2s9eyB0aGlzLmxpbmtTdGF0ZSgndG91Y2guY29vcmRzJywgJ3RvdWNoZXMuMCcpIH0+VGFwPC9idXR0b25cblx0ICovXG5cdGxpbmtTdGF0ZShrZXksIGV2ZW50UGF0aCkge1xuXHRcdGxldCBjID0gdGhpcy5fbGlua2VkU3RhdGVzIHx8ICh0aGlzLl9saW5rZWRTdGF0ZXMgPSB7fSksXG5cdFx0XHRjYWNoZUtleSA9IGtleSArICd8JyArIGV2ZW50UGF0aDtcblx0XHRyZXR1cm4gY1tjYWNoZUtleV0gfHwgKGNbY2FjaGVLZXldID0gY3JlYXRlTGlua2VkU3RhdGUodGhpcywga2V5LCBldmVudFBhdGgpKTtcblx0fSxcblxuXG5cdC8qKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGJ5IGNvcHlpbmcgcHJvcGVydGllcyBmcm9tIGBzdGF0ZWAgdG8gYHRoaXMuc3RhdGVgLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHN0YXRlXHRcdEEgaGFzaCBvZiBzdGF0ZSBwcm9wZXJ0aWVzIHRvIHVwZGF0ZSB3aXRoIG5ldyB2YWx1ZXNcblx0ICovXG5cdHNldFN0YXRlKHN0YXRlLCBjYWxsYmFjaykge1xuXHRcdGxldCBzID0gdGhpcy5zdGF0ZTtcblx0XHRpZiAoIXRoaXMucHJldlN0YXRlKSB0aGlzLnByZXZTdGF0ZSA9IGNsb25lKHMpO1xuXHRcdGV4dGVuZChzLCBpc0Z1bmN0aW9uKHN0YXRlKSA/IHN0YXRlKHMsIHRoaXMucHJvcHMpIDogc3RhdGUpO1xuXHRcdGlmIChjYWxsYmFjaykgKHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9ICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgfHwgW10pKS5wdXNoKGNhbGxiYWNrKTtcblx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKHRoaXMpO1xuXHR9LFxuXG5cblx0LyoqIEltbWVkaWF0ZWx5IHBlcmZvcm0gYSBzeW5jaHJvbm91cyByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudC5cblx0ICpcdEBwcml2YXRlXG5cdCAqL1xuXHRmb3JjZVVwZGF0ZSgpIHtcblx0XHRyZW5kZXJDb21wb25lbnQodGhpcywgRk9SQ0VfUkVOREVSKTtcblx0fSxcblxuXG5cdC8qKiBBY2NlcHRzIGBwcm9wc2AgYW5kIGBzdGF0ZWAsIGFuZCByZXR1cm5zIGEgbmV3IFZpcnR1YWwgRE9NIHRyZWUgdG8gYnVpbGQuXG5cdCAqXHRWaXJ0dWFsIERPTSBpcyBnZW5lcmFsbHkgY29uc3RydWN0ZWQgdmlhIFtKU1hdKGh0dHA6Ly9qYXNvbmZvcm1hdC5jb20vd3RmLWlzLWpzeCkuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gcHJvcHNcdFx0UHJvcHMgKGVnOiBKU1ggYXR0cmlidXRlcykgcmVjZWl2ZWQgZnJvbSBwYXJlbnQgZWxlbWVudC9jb21wb25lbnRcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRUaGUgY29tcG9uZW50J3MgY3VycmVudCBzdGF0ZVxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IGNvbnRleHRcdFx0Q29udGV4dCBvYmplY3QgKGlmIGEgcGFyZW50IGNvbXBvbmVudCBoYXMgcHJvdmlkZWQgY29udGV4dClcblx0ICpcdEByZXR1cm5zIFZOb2RlXG5cdCAqL1xuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxufSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jb21wb25lbnQuanNcbiAqKi8iLCIvLyByZW5kZXIgbW9kZXNcblxuZXhwb3J0IGNvbnN0IE5PX1JFTkRFUiA9IDA7XG5leHBvcnQgY29uc3QgU1lOQ19SRU5ERVIgPSAxO1xuZXhwb3J0IGNvbnN0IEZPUkNFX1JFTkRFUiA9IDI7XG5leHBvcnQgY29uc3QgQVNZTkNfUkVOREVSID0gMztcblxuZXhwb3J0IGNvbnN0IEVNUFRZID0ge307XG5cbmV4cG9ydCBjb25zdCBBVFRSX0tFWSA9IHR5cGVvZiBTeW1ib2whPT0ndW5kZWZpbmVkJyA/IFN5bWJvbC5mb3IoJ3ByZWFjdGF0dHInKSA6ICdfX3ByZWFjdGF0dHJfJztcblxuLy8gRE9NIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgTk9UIGhhdmUgXCJweFwiIGFkZGVkIHdoZW4gbnVtZXJpY1xuZXhwb3J0IGNvbnN0IE5PTl9ESU1FTlNJT05fUFJPUFMgPSB7XG5cdGJveEZsZXg6MSwgYm94RmxleEdyb3VwOjEsIGNvbHVtbkNvdW50OjEsIGZpbGxPcGFjaXR5OjEsIGZsZXg6MSwgZmxleEdyb3c6MSxcblx0ZmxleFBvc2l0aXZlOjEsIGZsZXhTaHJpbms6MSwgZmxleE5lZ2F0aXZlOjEsIGZvbnRXZWlnaHQ6MSwgbGluZUNsYW1wOjEsIGxpbmVIZWlnaHQ6MSxcblx0b3BhY2l0eToxLCBvcmRlcjoxLCBvcnBoYW5zOjEsIHN0cm9rZU9wYWNpdHk6MSwgd2lkb3dzOjEsIHpJbmRleDoxLCB6b29tOjFcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jb25zdGFudHMuanNcbiAqKi8iLCJpbXBvcnQgeyBkaWZmIH0gZnJvbSAnLi92ZG9tL2RpZmYnO1xuXG4vKiogUmVuZGVyIEpTWCBpbnRvIGEgYHBhcmVudGAgRWxlbWVudC5cbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRBIChKU1gpIFZOb2RlIHRvIHJlbmRlclxuICpcdEBwYXJhbSB7RWxlbWVudH0gcGFyZW50XHRcdERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBbbWVyZ2VdXHRBdHRlbXB0IHRvIHJlLXVzZSBhbiBleGlzdGluZyBET00gdHJlZSByb290ZWQgYXQgYG1lcmdlYFxuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHQvLyByZW5kZXIgYSBkaXYgaW50byA8Ym9keT46XG4gKlx0cmVuZGVyKDxkaXYgaWQ9XCJoZWxsb1wiPmhlbGxvITwvZGl2PiwgZG9jdW1lbnQuYm9keSk7XG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgXCJUaGluZ1wiIGNvbXBvbmVudCBpbnRvICNmb286XG4gKlx0Y29uc3QgVGhpbmcgPSAoeyBuYW1lIH0pID0+IDxzcGFuPnsgbmFtZSB9PC9zcGFuPjtcbiAqXHRyZW5kZXIoPFRoaW5nIG5hbWU9XCJvbmVcIiAvPiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvbycpKTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50LCBtZXJnZSkge1xuXHRyZXR1cm4gZGlmZihtZXJnZSwgdm5vZGUsIHt9LCBmYWxzZSwgcGFyZW50KTtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL3JlbmRlci5qc1xuICoqLyIsInZhciBuZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MvYnJvd3Nlci5qcycpLm5leHRUaWNrO1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xudmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcbiAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblxuICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG4gICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbi5jYWxsKG51bGwpO1xuICAgICAgfVxuICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG4gICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZDtcbn07XG5cbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcbiAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG59ICgpKVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCB0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VycyA9IHJlcXVpcmUoJy4vY29tYmluZVJlZHVjZXJzJyk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzID0gcmVxdWlyZSgnLi9iaW5kQWN0aW9uQ3JlYXRvcnMnKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL2FwcGx5TWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLypcbiogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4qL1xuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkFjdGlvblR5cGVzID0gdW5kZWZpbmVkO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUgPSByZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCdcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtpbml0aWFsU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gaW5pdGlhbFN0YXRlO1xuICAgIGluaXRpYWxTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG5cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG4gICAgICB9XG4gICAgfSwgX3JlZltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMltfc3ltYm9sT2JzZXJ2YWJsZTJbXCJkZWZhdWx0XCJdXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9jcmVhdGVTdG9yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhuYXRpdmVHZXRQcm90b3R5cGUsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdmVyQXJnO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL19vdmVyQXJnLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiBnbG9iYWwgd2luZG93ICovXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9wb255ZmlsbCcpKGdsb2JhbCB8fCB3aW5kb3cgfHwgdGhpcyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N5bWJvbC1vYnNlcnZhYmxlL3BvbnlmaWxsLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdsb2Rhc2gvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCA/ICdpbml0aWFsU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICB9KTtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgKyAnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykgKyAnbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgJyArICdjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCAnICsgJ2luIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSAnICsgJ2FjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpO1xuXG4gIHZhciBzYW5pdHlFcnJvcjtcbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2FuaXR5RXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBpZiAoc2FuaXR5RXJyb3IpIHtcbiAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24pO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvdXRpbHMvd2FybmluZy5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbXBvc2U7XG4vKipcbiAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG4gKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3JcbiAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcbiAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHJlc3QgPSBmdW5jcy5zbGljZSgwLCAtMSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2OiBmdW5jdGlvbiB2KCkge1xuICAgICAgICAgIHJldHVybiByZXN0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjb21wb3NlZCwgZikge1xuICAgICAgICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuICAgICAgICAgIH0sIGxhc3QuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KCk7XG5cbiAgICBpZiAodHlwZW9mIF9yZXQgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY29tcG9zZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCB7IEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgtdW5kbyc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JSaWdodCBmcm9tICcuL2N1cnZlLWVkaXRvci1yaWdodCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JMZWZ0ICBmcm9tICcuL2N1cnZlLWVkaXRvci1sZWZ0JztcbmltcG9ydCBJY29ucyBmcm9tICcuL2ljb25zJztcbmltcG9ydCBDb2RlUGFuZWwgZnJvbSAnLi9jb2RlLXBhbmVsJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yJyk7XG5cbmNsYXNzIEN1cnZlRWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHN0YXRlICAgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHN0eWxlICAgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cbiAgICByZXR1cm4gICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yJ119IHN0eWxlPXsgc3R5bGUgfT5cbiAgICAgICAgICAgICAgICA8SWNvbnMgLz5cbiAgICAgICAgICAgICAgICA8Q29kZVBhbmVsIHN0YXRlPXsgc3RhdGUgfS8+XG4gICAgICAgICAgICAgICAgPEN1cnZlRWRpdG9yTGVmdCBzdGF0ZT17IHN0YXRlIH0gLz5cbiAgICAgICAgICAgICAgICA8Q3VydmVFZGl0b3JSaWdodCBzdGF0ZT17IHN0YXRlIH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+KTtcbiAgfVxuXG4gIF9nZXRTdHlsZSAoc3RhdGUpIHtcbiAgICBjb25zdCBYX1NJWkUgICAgPSBDLkNVUlZFX1NJWkUgKyA1MyxcbiAgICAgICAgICBZX1NJWkUgICAgPSBDLkNVUlZFX1NJWkUgKyAyKkMuQ1VSVkVfUEFERElORyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZTtcbiAgICBsZXQge3RlbXBfdG9wLCB0ZW1wX2JvdHRvbSwgdGVtcF9yaWdodCwgdHJhbnNsYXRlfSA9IHJlc2l6ZTtcblxuICAgIHRlbXBfdG9wICAgICs9IHJlc2l6ZS50b3A7XG4gICAgdGVtcF9ib3R0b20gKz0gcmVzaXplLmJvdHRvbTtcbiAgICB0ZW1wX3JpZ2h0ICArPSByZXNpemUucmlnaHQ7XG5cbiAgICAvLyBjb25zdHJhaW4gbWluIGhlaWdodFxuICAgIGlmIChZX1NJWkUgLSB0ZW1wX3RvcCA8IFlfU0laRSkgeyB0ZW1wX3RvcCA9IDA7IH1cbiAgICBpZiAoWV9TSVpFICsgdGVtcF9ib3R0b20gPCBZX1NJWkUpIHsgdGVtcF9ib3R0b20gPSAwOyB9XG4gICAgaWYgKFhfU0laRSArIHRlbXBfcmlnaHQgPCBYX1NJWkUpIHsgdGVtcF9yaWdodCA9IDA7IH1cblxuICAgIHRlbXBfdG9wICAgID0gbW9kKCB0ZW1wX3RvcCwgLTEgKTtcbiAgICB0ZW1wX2JvdHRvbSA9IG1vZCggdGVtcF9ib3R0b20gKTtcblxuICAgIGNvbnN0IGhlaWdodCA9IGBoZWlnaHQ6ICR7WV9TSVpFIC0gdGVtcF90b3AgKyB0ZW1wX2JvdHRvbX1weGAsXG4gICAgICAgICAgd2lkdGggID0gYHdpZHRoOiAke1hfU0laRSArIHRlbXBfcmlnaHR9cHhgLFxuICAgICAgICAgIHggPSByZXNpemUueCArIHJlc2l6ZS50ZW1wWCxcbiAgICAgICAgICB5ID0gcmVzaXplLnkgKyByZXNpemUudGVtcFksXG4gICAgICAgICAgdHJhbnNmb3JtID0gYHRyYW5zZm9ybTogdHJhbnNsYXRlKCR7eH1weCwgJHt5ICsgdGVtcF90b3B9cHgpYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zZm9ybX07ICR7dHJhbnNmb3JtfTsgJHt3aWR0aH07ICR7aGVpZ2h0fTtgO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLWxlZnQtcGFuZWwnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtY1xuICAgICAgLm9uKCdwYW4nLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS5kZWx0YVgsIHkgPSBlLmRlbHRhWTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1RSQU5TTEFURScsIGRhdGE6IHsgeCwgeSB9IH0pO1xuICAgICAgfSlcbiAgICAgIC5vbigncGFuZW5kJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEVfRU5EJywgZGF0YTogeyB4LCB5IH0gfSlcbiAgICAgIH0pXG4gICAgICAvLyAub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7IH0pO1xuXG4gICAgdGhpcy5fYWRkS2V5VXAoKTtcbiAgICBzdG9yZS5zdWJzY3JpYmUodGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIF9hZGRLZXlVcCAoKSB7IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpKTsgfVxuXG4gIF9vbktleVVwIChlKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcbiAgICBpZiAoICFlLmFsdEtleSApIHsgcmV0dXJuOyB9XG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDkwOiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy51bmRvKCkpOyB9XG4gICAgICBjYXNlIDg4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy5yZWRvKCkpOyB9XG4gICAgICBjYXNlIDY4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pOyB9XG4gICAgfVxuICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzXG4gKiogbW9kdWxlIGlkID0gMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29yZSAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzXG4gKiogbW9kdWxlIGlkID0gMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanNcbiAqKiBtb2R1bGUgaWQgPSA0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qc1xuICoqIG1vZHVsZSBpZCA9IDQ3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSA1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qc1xuICoqIG1vZHVsZSBpZCA9IDUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA1NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDU3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCAkaXRlckNyZWF0ZSAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG4gICAgLCBWQUxVRVNfQlVHID0gZmFsc2VcbiAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG4gICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcbiAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoJGFueU5hdGl2ZSl7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcbiAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcbiAgICAsIGkgICAgICA9IGVudW1CdWdLZXlzLmxlbmd0aFxuICAgICwgbHQgICAgID0gJzwnXG4gICAgLCBndCAgICAgPSAnPidcbiAgICAsIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG4gIHZhciByZXN1bHQ7XG4gIGlmKE8gIT09IG51bGwpe1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRQICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGkgPSAwXG4gICAgLCBQO1xuICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qc1xuICoqIG1vZHVsZSBpZCA9IDY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9JT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGtleTtcbiAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvTGVuZ3RoICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgdG9JbmRleCAgID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoJHRoaXMpXG4gICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuICAgICAgLCB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKWlmKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pe1xuICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanNcbiAqKiBtb2R1bGUgaWQgPSA3MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanNcbiAqKiBtb2R1bGUgaWQgPSA3NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBoYXMgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4gKiogbW9kdWxlIGlkID0gNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIEl0ZXJhdG9ycyAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4gKiogbW9kdWxlIGlkID0gODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qc1xuICoqIG1vZHVsZSBpZCA9IDgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIERFU0NSSVBUT1JTICAgID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBNRVRBICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVlcbiAgLCAkZmFpbHMgICAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBzaGFyZWQgICAgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIHdrc0RlZmluZSAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuL19rZXlvZicpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKVxuICAsIGlzQXJyYXkgICAgICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIF9jcmVhdGUgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZ09QTkV4dCAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKVxuICAsICRHT1BEICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsICREUCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCAka2V5cyAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcbiAgLCBkUCAgICAgICAgICAgICA9ICREUC5mXG4gICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG4gICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcbiAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG4gICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3RbUFJPVE9UWVBFXVxuICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBkUCh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKWRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICBpdCAgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG4gICAgLCBuYW1lcyAgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCFVU0VfTkFUSVZFKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8pJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSl7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH1cbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzRGVmaW5lKHN5bWJvbHNbaSsrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gICAgdGhyb3cgVHlwZUVycm9yKGtleSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoe2E6IFN9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuICAgIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIHZhciBhcmdzID0gW2l0XVxuICAgICAgLCBpICAgID0gMVxuICAgICAgLCByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanNcbiAqKiBtb2R1bGUgaWQgPSA4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIE1FVEEgICAgID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKVxuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBoYXMgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgc2V0RGVzYyAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaWQgICAgICAgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24oaXQpe1xuICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9fSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiAgICAgIE1FVEEsXG4gIE5FRUQ6ICAgICBmYWxzZSxcbiAgZmFzdEtleTogIGZhc3RLZXksXG4gIGdldFdlYWs6ICBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanNcbiAqKiBtb2R1bGUgaWQgPSA4NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZihuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKWRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHt2YWx1ZTogd2tzRXh0LmYobmFtZSl9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA4N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdldEtleXMgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzXG4gKiogbW9kdWxlIGlkID0gOTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpe1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gOTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBnT1BOICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmZcbiAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzXG4gKiogbW9kdWxlIGlkID0gOTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzXG4gKiogbW9kdWxlIGlkID0gOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBwSUUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanNcbiAqKiBtb2R1bGUgaWQgPSA5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSA5OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXG4gKiogbW9kdWxlIGlkID0gOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuICBhbk9iamVjdChPKTtcbiAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbiAqKiBtb2R1bGUgaWQgPSAxMDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge2NyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuY29uc3QgQ1VSVkVfU0laRSA9IDM1MDtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgQ1VSVkVfU0laRSxcbiAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRS8xMDAsXG4gIENVUlZFX1BBRERJTkc6IDEwXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvY29uc3RhbnRzLmJhYmVsLmpzXG4gKiovIiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2hhbW1lcmpzL2hhbW1lci5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcbiAgfVxufShmdW5jdGlvbiAoKSB7XG4gIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblxuICAvKipcbiAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKlxuICAgKiBGZWF0dXJlczpcbiAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcbiAgICogICBlbGVtZW50cy5cbiAgICogLSBFdmVudHMgYXJlIGV4dGVuZGVkIHdpdGggYSBmdW5jdGlvbiBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgIHRvIHN0b3BcbiAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG4gICAqIC0gQW4gb3B0aW9uIGBwcmV2ZW50RGVmYXVsdGAgdG8gc3RvcCBhbGwgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSk7XG4gICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCksIHtwcmV2ZW50RGVmYXVsdDogdHJ1ZX0pO1xuICAgKlxuICAgKiBAcGFyYW0ge0hhbW1lci5NYW5hZ2VyfSBoYW1tZXIgICBBbiBoYW1tZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZSBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLlxuICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmIChoYW1tZXIuTWFuYWdlcikge1xuICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG4gICAgICAvLyBPdmVybG9hZCB0aGUgY29uc3RydWN0b3JzIHdpdGggb3VyIG93bi5cbiAgICAgIHZhciBIYW1tZXIgPSBoYW1tZXI7XG5cbiAgICAgIHZhciBQcm9wYWdhdGluZ0hhbW1lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyKGVsZW1lbnQsIG8pLCBvKTtcbiAgICAgIH07XG4gICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXG4gICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFByb3BhZ2F0aW5nSGFtbWVyO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uc1xuICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgIHZhciB3cmFwcGVyID0gT2JqZWN0LmNyZWF0ZShoYW1tZXIpO1xuXG4gICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG4gICAgdmFyIGVsZW1lbnQgPSBoYW1tZXIuZWxlbWVudDtcblxuICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcbiAgICBlbGVtZW50LmhhbW1lci5wdXNoKHdyYXBwZXIpO1xuXG4gICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG4gICAgLy8gdGFyZ2V0IGluIGEgc2luZ2xldG9uXG4gICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcbiAgICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgQXJyYXkuPGZ1bmN0aW9uPj59ICovXG4gICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudClcbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycyA9IFtdO1xuXG4gICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG4gICAgICAgICAgaGFtbWVyLm9uKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkLCBhbGwgaGFuZGxlcnMgZm9yIGdpdmVuIGV2ZW50c1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC5cbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG4gICAgICovXG4gICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG4gICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgIGlmIChfaGFuZGxlcnMpIHtcbiAgICAgICAgICBfaGFuZGxlcnMgPSBoYW5kbGVyID8gX2hhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG4gICAgICAgICAgfSkgOiBbXTtcblxuICAgICAgICAgIGlmIChfaGFuZGxlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuICAgICAgICAgICAgaGFtbWVyLm9mZihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICovXG4gICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7XG4gICAgfTtcblxuICAgIHdyYXBwZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG4gICAgICB2YXIgaGFtbWVycyA9IGhhbW1lci5lbGVtZW50LmhhbW1lcjtcbiAgICAgIHZhciBpZHggPSBoYW1tZXJzLmluZGV4T2Yod3JhcHBlcik7XG4gICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG4gICAgICBpZighaGFtbWVycy5sZW5ndGgpIGRlbGV0ZSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cbiAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuICAgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuICAgICAgaGFtbWVyLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgLy8gc3BsaXQgYSBzdHJpbmcgd2l0aCBzcGFjZSBzZXBhcmF0ZWQgd29yZHNcbiAgICBmdW5jdGlvbiBzcGxpdChldmVudHMpIHtcbiAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGV2ZW50IGhhbmRsZXIsIGFwcGx5aW5nIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnRcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuICAgICAgICAvLyBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBzYW1lIHNyY0V2ZW50IGlzIHVzZWQgd2l0aCBtdWx0aXBsZSBoYW1tZXIgZXZlbnRzLFxuICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWRcbiAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcbiAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuICAgICAgdmFyIHNyY1N0b3AgPSBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24uYmluZChldmVudC5zcmNFdmVudCk7XG4gICAgICBpZih0eXBlb2Ygc3JjU3RvcCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBzcmNTdG9wKCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuICAgICAgZXZlbnQuZmlyc3RUYXJnZXQgPSBfZmlyc3RUYXJnZXQ7XG5cbiAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcbiAgICAgIHZhciBlbGVtID0gX2ZpcnN0VGFyZ2V0O1xuICAgICAgd2hpbGUgKGVsZW0gJiYgIXN0b3BwZWQpIHtcbiAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcbiAgICAgICAgaWYoZWxlbUhhbW1lcil7XG4gICAgICAgICAgdmFyIF9oYW5kbGVycztcbiAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG4gICAgICAgICAgICBfaGFuZGxlcnMgPSBlbGVtSGFtbWVyW2tdLl9oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgICAgICAgIGlmKF9oYW5kbGVycykgZm9yICh2YXIgaSA9IDA7IGkgPCBfaGFuZGxlcnMubGVuZ3RoICYmICFzdG9wcGVkOyBpKyspIHtcbiAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcbn0pKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb3BhZ2F0aW5nLWhhbW1lcmpzL3Byb3BhZ2F0aW5nLmpzXG4gKiogbW9kdWxlIGlkID0gMTA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMucGFyc2VBY3Rpb25zID0gcGFyc2VBY3Rpb25zO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kb2FibGU7XG5leHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuZXhwb3J0cy5pbmNsdWRlQWN0aW9uID0gaW5jbHVkZUFjdGlvbjtcbmV4cG9ydHMuaWZBY3Rpb24gPSBpZkFjdGlvbjtcbmV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG4vLyBkZWJ1ZyBvdXRwdXRcbnZhciBfX0RFQlVHX18gPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBkZWJ1ZygpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHZhciBfY29uc29sZTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmICghY29uc29sZS5ncm91cCkge1xuICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG4gICAgfVxuICAgIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJncyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSkge1xuICBpZiAoX19ERUJVR19fKSB7XG4gICAgdmFyIGFyZ3MgPSBbJ2FjdGlvbicsIGFjdGlvbi50eXBlXTtcbiAgICBpZiAoY29uc29sZS5ncm91cCkge1xuICAgICAgdmFyIF9jb25zb2xlMjtcblxuICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG4gICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlZCcsIHsgc3RhdGU6IHN0YXRlLCBhY3Rpb246IGFjdGlvbiB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRlYnVnRW5kKCkge1xuICBpZiAoX19ERUJVR19fKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG59XG4vLyAvZGVidWcgb3V0cHV0XG5cbi8vIGFjdGlvbiB0eXBlc1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgVU5ETzogJ0BAcmVkdXgtdW5kby9VTkRPJyxcbiAgUkVETzogJ0BAcmVkdXgtdW5kby9SRURPJyxcbiAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuICBKVU1QX1RPX1BBU1Q6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19QQVNUJ1xufTtcbi8vIC9hY3Rpb24gdHlwZXNcblxuLy8gYWN0aW9uIGNyZWF0b3JzIHRvIGNoYW5nZSB0aGUgc3RhdGVcbnZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG4gIHVuZG86IGZ1bmN0aW9uIHVuZG8oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuVU5ETyB9O1xuICB9LFxuICByZWRvOiBmdW5jdGlvbiByZWRvKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlJFRE8gfTtcbiAgfSxcbiAganVtcFRvRnV0dXJlOiBmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaW5kZXgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRSwgaW5kZXg6IGluZGV4IH07XG4gIH0sXG4gIGp1bXBUb1Bhc3Q6IGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaW5kZXgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsIGluZGV4OiBpbmRleCB9O1xuICB9XG59O1xuLy8gL2FjdGlvbiBjcmVhdG9yc1xuXG4vLyBsZW5ndGg6IGdldCBsZW5ndGggb2YgaGlzdG9yeVxuZnVuY3Rpb24gbGVuZ3RoKGhpc3RvcnkpIHtcbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcbn1cbi8vIC9sZW5ndGhcblxuLy8gaW5zZXJ0OiBpbnNlcnQgYHN0YXRlYCBpbnRvIGhpc3RvcnksIHdoaWNoIG1lYW5zIGFkZGluZyB0aGUgY3VycmVudCBzdGF0ZVxuLy8gICAgICAgICBpbnRvIGBwYXN0YCwgc2V0dGluZyB0aGUgbmV3IGBzdGF0ZWAgYXMgYHByZXNlbnRgIGFuZCBlcmFzaW5nXG4vLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cbmZ1bmN0aW9uIGluc2VydChoaXN0b3J5LCBzdGF0ZSwgbGltaXQpIHtcbiAgZGVidWcoJ2luc2VydCcsIHsgc3RhdGU6IHN0YXRlLCBoaXN0b3J5OiBoaXN0b3J5LCBmcmVlOiBsaW1pdCAtIGxlbmd0aChoaXN0b3J5KSB9KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cbiAgdmFyIGhpc3RvcnlPdmVyZmxvdyA9IGxpbWl0ICYmIGxlbmd0aChoaXN0b3J5KSA+PSBsaW1pdDtcblxuICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gaW5pdCBoaXN0b3J5XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3Q6IFtdLFxuICAgICAgcHJlc2VudDogc3RhdGUsXG4gICAgICBmdXR1cmU6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGFzdDogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0LnNsaWNlKGhpc3RvcnlPdmVyZmxvdyA/IDEgOiAwKSksIFtwcmVzZW50XSksXG4gICAgcHJlc2VudDogc3RhdGUsXG4gICAgZnV0dXJlOiBbXVxuICB9O1xufVxuLy8gL2luc2VydFxuXG4vLyB1bmRvOiBnbyBiYWNrIHRvIHRoZSBwcmV2aW91cyBwb2ludCBpbiBoaXN0b3J5XG5mdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcbiAgZGVidWcoJ3VuZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICBpZiAocGFzdC5sZW5ndGggPD0gMCkgcmV0dXJuIGhpc3Rvcnk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIHBhc3QubGVuZ3RoIC0gMSksIC8vIHJlbW92ZSBsYXN0IGVsZW1lbnQgZnJvbSBwYXN0XG4gICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuICAgIGZ1dHVyZTogW3ByZXNlbnRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZnV0dXJlKSlcbiAgfTtcbn1cbi8vIC91bmRvXG5cbi8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3RvcnlcbmZ1bmN0aW9uIHJlZG8oaGlzdG9yeSkge1xuICBkZWJ1ZygncmVkbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG4gICAgcHJlc2VudDogZnV0dXJlWzBdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdCksIFtwcmVzZW50IC8vIG9sZCBwcmVzZW50IHN0YXRlIGlzIGluIHRoZSBwYXN0IG5vd1xuICAgIF0pXG4gIH07XG59XG4vLyAvcmVkb1xuXG4vLyBqdW1wVG9GdXR1cmU6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIGZ1dHVyZSBoaXN0b3J5XG5mdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSAwKSByZXR1cm4gcmVkbyhoaXN0b3J5KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcbiAgICBwcmVzZW50OiBmdXR1cmVbaW5kZXhdLFxuICAgIHBhc3Q6IHBhc3QuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZS5zbGljZSgwLCBpbmRleCkpXG4gIH07XG59XG4vLyAvanVtcFRvRnV0dXJlXG5cbi8vIGp1bXBUb1Bhc3Q6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIHBhc3QgaGlzdG9yeVxuZnVuY3Rpb24ganVtcFRvUGFzdChoaXN0b3J5LCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBwYXN0LnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZSksXG4gICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG4gICAgcGFzdDogcGFzdC5zbGljZSgwLCBpbmRleClcbiAgfTtcbn1cbi8vIC9qdW1wVG9QYXN0XG5cbi8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuZnVuY3Rpb24gd3JhcFN0YXRlKHN0YXRlKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICBoaXN0b3J5OiBzdGF0ZVxuICB9KTtcbn1cbi8vIC93cmFwU3RhdGVcblxuLy8gdXBkYXRlU3RhdGVcbmZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG4gIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBoaXN0b3J5KSk7XG59XG4vLyAvdXBkYXRlU3RhdGVcblxuLy8gY3JlYXRlSGlzdG9yeVxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHBhc3Q6IFtdLFxuICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgIGZ1dHVyZTogW11cbiAgfTtcbn1cbi8vIC9jcmVhdGVIaXN0b3J5XG5cbi8vIHBhcnNlQWN0aW9uc1xuZnVuY3Rpb24gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJhd0FjdGlvbnMpKSB7XG4gICAgcmV0dXJuIHJhd0FjdGlvbnM7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFtyYXdBY3Rpb25zXTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuLy8gL3BhcnNlQWN0aW9uc1xuXG4vLyByZWR1eC11bmRvIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5mdW5jdGlvbiB1bmRvYWJsZShyZWR1Y2VyKSB7XG4gIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuICBfX0RFQlVHX18gPSByYXdDb25maWcuZGVidWc7XG5cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBpbml0aWFsU3RhdGU6IHJhd0NvbmZpZy5pbml0aWFsU3RhdGUsXG4gICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuICAgIGxpbWl0OiByYXdDb25maWcubGltaXQsXG4gICAgZmlsdGVyOiByYXdDb25maWcuZmlsdGVyIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgdW5kb1R5cGU6IHJhd0NvbmZpZy51bmRvVHlwZSB8fCBBY3Rpb25UeXBlcy5VTkRPLFxuICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcbiAgICBqdW1wVG9QYXN0VHlwZTogcmF3Q29uZmlnLmp1bXBUb1Bhc3RUeXBlIHx8IEFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCxcbiAgICBqdW1wVG9GdXR1cmVUeXBlOiByYXdDb25maWcuanVtcFRvRnV0dXJlVHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRVxuICB9O1xuICBjb25maWcuaGlzdG9yeSA9IHJhd0NvbmZpZy5pbml0aWFsSGlzdG9yeSB8fCBjcmVhdGVIaXN0b3J5KGNvbmZpZy5pbml0aWFsU3RhdGUpO1xuXG4gIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUud2FybigncmVkdXgtdW5kbzogc3VwcGx5IGF0IGxlYXN0IG9uZSBhY3Rpb24gdHlwZSBpbiBpbml0VHlwZXMgdG8gZW5zdXJlIGluaXRpYWwgc3RhdGUnKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSk7XG4gICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIGNvbmZpZy51bmRvVHlwZTpcbiAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG4gICAgICAgIGRlYnVnKCdhZnRlciB1bmRvJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLnJlZG9UeXBlOlxuICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIHJlZG8nLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgY2FzZSBjb25maWcuanVtcFRvUGFzdFR5cGU6XG4gICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9QYXN0JywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb0Z1dHVyZVR5cGU6XG4gICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb0Z1dHVyZScsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5pbml0VHlwZXMuc29tZShmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBkZWJ1ZygncmVzZXQgaGlzdG9yeSBkdWUgdG8gaW5pdCBhY3Rpb24nKTtcbiAgICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBjcmVhdGVIaXN0b3J5KHJlcykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuZmlsdGVyICYmIHR5cGVvZiBjb25maWcuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKCFjb25maWcuZmlsdGVyKGFjdGlvbiwgcmVzLCBzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50KSkge1xuICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuICAgICAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoaXN0b3J5ID0gc3RhdGUgJiYgc3RhdGUucHJlc2VudCAhPT0gdW5kZWZpbmVkID8gc3RhdGUgOiBjb25maWcuaGlzdG9yeTtcbiAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIGluc2VydCcsIHsgaGlzdG9yeTogdXBkYXRlZEhpc3RvcnksIGZyZWU6IGNvbmZpZy5saW1pdCAtIGxlbmd0aCh1cGRhdGVkSGlzdG9yeSkgfSk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHVwZGF0ZWRIaXN0b3J5KSk7XG4gICAgfVxuICB9O1xufVxuLy8gL3JlZHV4LXVuZG9cblxuLy8gZGlzdGluY3RTdGF0ZSBoZWxwZXJcbmZ1bmN0aW9uIGRpc3RpbmN0U3RhdGUoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlICE9PSBwcmV2aW91c1N0YXRlO1xuICB9O1xufVxuLy8gL2Rpc3RpbmN0U3RhdGVcblxuLy8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucykge1xuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwO1xuICB9O1xufVxuLy8gL2luY2x1ZGVBY3Rpb25cblxuLy8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGlmQWN0aW9uKHJhd0FjdGlvbnMpIHtcbiAgY29uc29sZS5lcnJvcignRGVwcmVjYXRpb24gV2FybmluZzogUGxlYXNlIGNoYW5nZSBgaWZBY3Rpb25gIHRvIGBpbmNsdWRlQWN0aW9uYCcpO1xuICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcbn1cbi8vIC9pZkFjdGlvblxuXG4vLyBleGNsdWRlQWN0aW9uIGhlbHBlclxuZnVuY3Rpb24gZXhjbHVkZUFjdGlvbigpIHtcbiAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA8IDA7XG4gIH07XG59XG4vLyAvZXhjbHVkZUFjdGlvblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4LXVuZG8vbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcblxuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgWV9TSVpFID0gQy5DVVJWRV9TSVpFO1xuY29uc3QgbW9kID0gKCB0ZW1wUmVzaXplX3RvcCwgY29lZiA9IDEgKSA9PiB7XG4gIGNvbnN0IE1PRCA9IE1hdGguYWJzKHRlbXBSZXNpemVfdG9wICUgWV9TSVpFKSxcbiAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuICAgICAgICBHQVAgPSAxNTtcblxuICBpZiAoTU9EIDwgR0FQICkgeyB0ZW1wUmVzaXplX3RvcCA9IERJVipZX1NJWkU7IH1cbiAgZWxzZSBpZiAoIE1PRCA+IFlfU0laRSAtIEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBjb2VmKihESVYrMSkqWV9TSVpFOyB9XG5cbiAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9yZXNpemUtbW9kLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ3VydmUgZnJvbSAnLi9jdXJ2ZSc7XG5pbXBvcnQgUmVzaXplSGFuZGxlIGZyb20gJy4vcmVzaXplLWhhbmRsZSc7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNvbnN0IEN1cnZlRWRpdG9yUmlnaHQgPSAoe3N0YXRlfSkgPT4ge1xuICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3JpZ2h0J119PlxuICAgICAgICAgICAgPEN1cnZlIHN0YXRlID17IHN0YXRlIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cInJpZ2h0XCIgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSAvPlxuICAgICAgICAgICAgPFJlc2l6ZUhhbmRsZSB0eXBlPVwiYm90dG9tXCIgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSAvPlxuICAgICAgICAgIDwvZGl2Pilcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvclJpZ2h0O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLXJpZ2h0LmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4uL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IG1vZCBmcm9tICcuLi9oZWxwZXJzL3Jlc2l6ZS1tb2QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUnKTtcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3MuanNvbicpO1xuY2xhc3MgQ3VydmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzdGF0ZX0gICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAge3BhdGh9ICAgID0gc3RhdGUucG9pbnRzLnByZXNlbnQsXG4gICAgICAgICAgc3R5bGVzICAgID0gdGhpcy5fZ2V0U3R5bGUoIHN0YXRlICksXG4gICAgICAgICAgcG9pbnRzICAgID0gdGhpcy5fcmVuZGVyUG9pbnRzKCBzdGF0ZSApLFxuICAgICAgICAgIHNlZ21lbnRzICA9IHRoaXMuX3JlbmRlclNlZ21lbnRzKCBzdGF0ZSApO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZSddfT5cbiAgICAgICAgICAgICAgPGRpdiAgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmVfX2JhY2tncm91bmQnXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5iYWNrZ3JvdW5kfSAvPlxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50cmFuc2Zvcm19PlxuXG4gICAgICAgICAgICAgICAgeyBwb2ludHMgfVxuXG4gICAgICAgICAgICAgICAgPHN2ZyAgaGVpZ2h0PXsgQy5DVVJWRV9TSVpFIH1cbiAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImpzLXN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnJ10gfT5cblxuICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiMwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLW9wYWNpdHk9XCIwLjM1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLjc1LC43NSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiAvPlxuXG4gICAgICAgICAgICAgICAgICA8ZyBpZD1cImpzLXNlZ21lbnRzXCI+IHsgc2VnbWVudHMgfSA8L2c+XG5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG5cbiAgX2dldFN0eWxlKHN0YXRlKSB7XG4gICAgY29uc3Qge3Jlc2l6ZX0gPSBzdGF0ZTtcbiAgICBsZXQge3RlbXBfdG9wLCB0ZW1wX3JpZ2h0fSA9IHJlc2l6ZTtcblxuICAgIHRlbXBfdG9wICAgICs9IHJlc2l6ZS50b3A7XG4gICAgdGVtcF9yaWdodCAgKz0gcmVzaXplLnJpZ2h0O1xuXG4gICAgaWYgKEMuQ1VSVkVfU0laRSAtIHRlbXBfdG9wIDwgQy5DVVJWRV9TSVpFKSB7IHRlbXBfdG9wID0gMDsgfVxuICAgIHRlbXBfdG9wID0gbW9kKCB0ZW1wX3RvcCwgLTEgKTtcblxuICAgIGNvbnN0IHNjYWxlID0gYHRyYW5zZm9ybTogc2NhbGVYKCR7KEMuQ1VSVkVfU0laRSArIE1hdGgubWF4KHRlbXBfcmlnaHQsMCkpL0MuQ1VSVkVfU0laRX0pYCxcbiAgICAgICAgICBiZ1RyYW5zZm9ybSA9IGAke21vanMuaC5wcmVmaXguY3NzfSR7c2NhbGV9OyAke3NjYWxlfTtgLFxuICAgICAgICAgIGJhY2tncm91bmQgPSBgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAkey10ZW1wX3RvcCAtIDF9cHg7ICR7YmdUcmFuc2Zvcm19YCxcbiAgICAgICAgICB0cmFuc2Zvcm0gID0gYHRyYW5zZm9ybTogdHJhbnNsYXRlKDBweCwgJHstdGVtcF90b3B9cHgpYDtcbiAgICByZXR1cm4ge1xuICAgICAgYmFja2dyb3VuZCxcbiAgICAgIHRyYW5zZm9ybTogYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2Zvcm19OyAke3RyYW5zZm9ybX07YFxuICAgIH07XG4gIH1cblxuICBfcmVuZGVyUG9pbnRzIChzdGF0ZSkge1xuICAgIGNvbnN0IHBvaW50c0RhdGEgPSBzdGF0ZS5wb2ludHMucHJlc2VudC5wb2ludHMsXG4gICAgICAgICAgcG9pbnRzICAgICA9IFtdLFxuICAgICAgICAgIGxlbiAgICAgICAgPSBwb2ludHNEYXRhLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICA8UG9pbnQgcG9pbnQ9eyBwb2ludHNEYXRhW2ldIH0gc3RhdGU9e3N0YXRlfSBpbmRleD17aX0gcG9pbnRzQ291bnQ9e2xlbn0gLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xuICB9XG5cbiAgX3JlbmRlclNlZ21lbnRzIChzdGF0ZSkge1xuICAgIGNvbnN0IHtzZWdtZW50c30gID0gc3RhdGUucG9pbnRzLnByZXNlbnQsXG4gICAgICAgICAgZG9tU2VnbWVudHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICAgIGRvbVNlZ21lbnRzLnB1c2goXG4gICAgICAgIDxwYXRoIGQ9e3NlZ21lbnQuc2VnbWVudFN0cmluZ31cbiAgICAgICAgICAgICAgZGF0YS1pbmRleD17c2VnbWVudC5pbmRleH1cbiAgICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIlwiXG4gICAgICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuICAgICAgICAgICAgICBjbGFzcz17Q0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J119XG4gICAgICAgICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBkb21TZWdtZW50cztcbiAgfVxuXG4gIC8vIF9yZW5kZXJTZWdtZW50ICggaW5kZXgsIHN0cmluZykge1xuICAvLyAgIHJldHVybiA8cGF0aFxuICAvLyAgICAgICAgICAgZD17c3RyaW5nfVxuICAvLyAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XG4gIC8vICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG4gIC8vICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gIC8vICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuICAvLyAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gIC8vICAgICAgICAgICBjbGFzcz17Q0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J119XG4gIC8vICAgICAgICAgICAvPjtcbiAgLy8gfVxuXG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgZXYgICAgID0gZS5zcmNFdmVudCxcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuICAgICAgICBpZiAoIHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJyApIHsgcmV0dXJuOyB9XG4gICAgICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHggID0gZXYub2Zmc2V0WCxcbiAgICAgICAgICAgICAgeSAgPSBldi5vZmZzZXRZKkMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICsgMTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogICAgICAnUE9JTlRfQUREJyxcbiAgICAgICAgICBkYXRhOiAgICAgIHsgcG9pbnQ6IHsgeCwgeSB9LCBpbmRleCB9LFxuICAgICAgICAgIGlzUmVjb3JkOiAgdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdmcgICA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG4gICAgICAgICAgc3ZnTWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoc3ZnKSk7XG5cbiAgICBzdmdNYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgc3ZnTWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTsgfSk7XG5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLmJhYmVsLmpzeFxuICoqLyIsImV4cG9ydCBkZWZhdWx0IChhbmdsZSwgcmFkaXVzKSA9PiB7XG4gIHJldHVybiBtb2pzLmguZ2V0UmFkaWFsUG9pbnQoeyBhbmdsZSwgcmFkaXVzLCBjZW50ZXI6IHsgeDogMCwgeTogMCB9IH0pXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9hbmdsZS10by1wb2ludC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgYWRkUG9pbnRlckRvd24gZnJvbSAnLi4vaGVscGVycy9hZGQtcG9pbnRlci1kb3duJztcbmltcG9ydCBMaXR0bGVIYW5kbGUgZnJvbSAnLi9saXR0bGUtaGFuZGxlJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5pbXBvcnQgcm91bmRUbyBmcm9tICcuLi9oZWxwZXJzL3JvdW5kLXRvJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IGNsYW1wIGZyb20gJy4uL2hlbHBlcnMvY2xhbXAnO1xuaW1wb3J0IG1vZCBmcm9tICcuLi9oZWxwZXJzL3Jlc2l6ZS1tb2QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludCcpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBQb2ludCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge3BvaW50LCBzdGF0ZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHNlbGVjdGVkICA9IChwb2ludC5pc1NlbGVjdGVkKSA/IENMQVNTRVNbJ2lzLXNlbGVjdGVkJ10gOiAnJyxcbiAgICAgICAgICBoYW5kbGVzICAgPSAocG9pbnQudHlwZSA9PT0gJ3N0cmFpZ2h0JykgPyBDTEFTU0VTWydpcy1oaWRlLWhhbmRsZXMnXSA6ICcnO1xuXG4gICAgY29uc3QgbGl0dGxlSGFuZGxlcyA9IHRoaXMuX2dldExpdHRsZUhhbmRsZXMoICk7XG5cbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17YCR7Q0xBU1NFU1sncG9pbnQnXX0gJHtzZWxlY3RlZH0gJHtoYW5kbGVzfWB9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17IHRoaXMuX2dldFN0eWxlKHN0YXRlKSB9XG4gICAgICAgICAgICAgICAgICBkYXRhLWNvbXBvbmVudD1cInBvaW50XCI+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ3BvaW50X190b3VjaCddIH0gaWQ9XCJqcy1wb2ludC10b3VjaFwiIC8+XG5cbiAgICAgICAgICAgICAgeyBsaXR0bGVIYW5kbGVzIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gIH1cblxuICBfZ2V0U3R5bGUgKHN0YXRlKSB7XG4gICAgY29uc3Qge3BvaW50fSAgID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICB4ICAgICAgICAgPSBjbGFtcChwb2ludC54ICsgcG9pbnQudGVtcFgsIDAsIDEwMCksXG4gICAgICAgICAgY2xlYW5YICAgID0geCAqIHJlc2l6ZS5zY2FsZXJYLFxuICAgICAgICAgIHkgICAgICAgICA9IHBvaW50LnkgKyBwb2ludC50ZW1wWTtcblxuICAgIC8vIGNvbnNvbGUubG9nKHBvaW50KTtcblxuICAgIGNvbnN0IHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2NsZWFuWH1weCwgJHt5LTF9cHgpYDtcbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cbiAgX2dldExpdHRsZUhhbmRsZXMgKCkge1xuICAgIGNvbnN0IHtpbmRleCwgcG9pbnQsIHBvaW50c0NvdW50fSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGFuZGxlcyA9IFtdO1xuICAgIC8vIGRvbnQgc2V0IHRoZSBoYW5kbGUxIGZvciBzdGFydCBwb2ludFxuICAgIChpbmRleCAhPT0gMCkgJiYgaGFuZGxlcy5wdXNoKCB0aGlzLl9jcmVhdGVIYW5kbGUoIDEsIHBvaW50ICkgKTtcbiAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMiBmb3IgZW5kIHBvaW50XG4gICAgKGluZGV4ICE9PSBwb2ludHNDb3VudC0xKSAmJiBoYW5kbGVzLnB1c2goIHRoaXMuX2NyZWF0ZUhhbmRsZSggMiwgcG9pbnQgKSApO1xuICAgIHJldHVybiBoYW5kbGVzO1xuICB9XG5cbiAgX2NyZWF0ZUhhbmRsZSAoaW5kZXgsIHBvaW50KSAge1xuICAgIHJldHVybiA8TGl0dGxlSGFuZGxlXG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgc3RhdGU9e3RoaXMucHJvcHMuc3RhdGV9XG4gICAgICAgIHBhcmVudEluZGV4PXt0aGlzLnByb3BzLmluZGV4fVxuICAgICAgICBoYW5kbGU9e3BvaW50W2BoYW5kbGUke2luZGV4fWBdfVxuICAgICAgICB0eXBlPXtwb2ludC50eXBlfVxuICAgICAgICAvPlxuICB9XG4gIFxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBjb25zdCBnZXRUZW1wWCA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG4gICAgICAvLyBpZiBwb2ludCBpcyBub3QgbG9ja2VkIHRvIHggYXhlcyAtPlxuICAgICAgLy8gY2FsY3VsYXRlIGRlbHRhIHJlZ2FyZGluZyBzY2FsZXJcbiAgICAgIGlmICggcG9pbnQuaXNMb2NrZWRYICkgeyByZXR1cm4gMCB9O1xuICAgICAgICBcbiAgICAgIGNvbnN0IHggPSBlLmRlbHRhWC9yZXNpemUuc2NhbGVyWDtcbiAgICAgIGlmICggcG9pbnQueCArIHggPCAwICkgeyByZXR1cm4gMCAtIHBvaW50Lng7IH1cbiAgICAgIGVsc2UgaWYgKCBwb2ludC54ICsgeCA+IDEwMCApIHsgcmV0dXJuIDEwMCAtIHBvaW50Lng7IH1cbiAgICAgIHJldHVybiByb3VuZFRvKCBwb2ludC54ICsgeCwgNSwgMS41ICkgLSBwb2ludC54O1xuICAgIH1cblxuICAgIGNvbnN0IGdldFkgPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgeSA9IHBvaW50LnkgKyBlLmRlbHRhWTtcblxuICAgICAgLy8gY2xhbXAgeSB0byB0aGUgc2l6ZSBvZiBjdXJ2ZVxuICAgICAgcmV0dXJuIGNsYW1wKCB5LCByZXNpemUudG9wLCBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tICk7IFxuICAgIH1cblxuICAgIC8vIGdldCB5IGRlbHRhIHJlYWdhcmRpbmcgY3VydmUgYm91bmRzXG4gICAgY29uc3QgZ2V0VGVtcFkgPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICBsZXQgeSA9IHBvaW50LnkgKyBlLmRlbHRhWSxcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IHk7XG5cbiAgICAgIGlmICggeSA8IHJlc2l6ZS50b3AgKSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gcmVzaXplLnRvcDtcbiAgICAgIH0gZWxzZSBpZiAoIHkgPiBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tICkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b207XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb3VuZFRvKCByZXR1cm5WYWx1ZSwgNSpDLkNVUlZFX1BFUkNFTlQsIDIqQy5DVVJWRV9QRVJDRU5UICkgLSBwb2ludC55O1xuICAgIH1cblxuICAgIGNvbnN0IGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb2ludC10b3VjaCcpLFxuICAgICAgICAgIG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURScsXG4gICAgICAgICAgZGF0YTogeyB4OiBnZXRUZW1wWChlKSwgeTogZ2V0VGVtcFkoZSksIGluZGV4IH1cbiAgICAgICAgfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG4gICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEVfRU5EJywgZGF0YTogaW5kZXgsIGlzUmVjb3JkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC8vIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgIC8vICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzXG4gICAgICAvLyAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIC8vICAgICB0eXBlOiAnUE9JTlRfU0VMRUNUJyxcbiAgICAgIC8vICAgICBkYXRhOiB7XG4gICAgICAvLyAgICAgICBpbmRleCwgaXNEZXNlbGVjdDogIWUuc3JjRXZlbnQuc2hpZnRLZXksXG4gICAgICAvLyAgICAgICB0eXBlOiBwb2ludC50eXBlXG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICB9KTtcbiAgICAgIC8vICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIH0pO1xuXG4gICAgICBhZGRQb2ludGVyRG93biggZWwsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wc1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNoaWZ0S2V5LFxuICAgICAgICAgICAgdHlwZTogcG9pbnQudHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9ICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9wb2ludC5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoZWwsIGZuKSA9PiB7XG4gIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdNU1BvaW50ZXJEb3duJywgZm4pO1xuICB9IGVsc2UgaWYgKCB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZuKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmbik7XG4gIH0gZWxzZSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuICB9XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9hZGQtcG9pbnRlci1kb3duLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4uL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IHBvaW50VG9BbmdsZSBmcm9tICcuLi9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlJztcblxuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUnKTtcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBMaXR0bGVIYW5kbGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIC8vIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAgPGRpdiAgY2xhc3NOYW1lPXtDTEFTU0VTWydsaXR0bGUtaGFuZGxlJ119XG4gICAgICAgICAgICAgICAgICBkYXRhLWNvbXBvbmVudD1cImxpdHRsZS1oYW5kbGVcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPXsgQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fcG9pbnQnXSB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3RoaXMuX2dldFBvaW50U3R5bGUoKX0gLz5cblxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19saW5lJ10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRMaW5lU3R5bGUoKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ICA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBtYyAgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIHZhciB7aGFuZGxlfSA9IHRoaXMucHJvcHM7XG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtY1xuICAgICAgLm9uKCdwYW5zdGFydCcsIChlKSA9PiB7IGhhbmRsZSA9IHRoaXMucHJvcHMuaGFuZGxlOyB9KVxuICAgICAgLm9uKCdwYW4nLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7aW5kZXgsIHBhcmVudEluZGV4fSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApLFxuICAgICAgICAgICAgICBuZXdYICA9IHBvaW50LnggKyBlLmRlbHRhWCxcbiAgICAgICAgICAgICAgbmV3WSAgPSBwb2ludC55ICsgZS5kZWx0YVksXG4gICAgICAgICAgICAgIGFuZ2xlID0gcG9pbnRUb0FuZ2xlKCBuZXdYLCBuZXdZICk7XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICBkYXRhOiB7IGluZGV4LCBwYXJlbnRJbmRleCwgLi4uYW5nbGUgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIHRoaXMucHJvcHMudHlwZSA9PT0gJ21pcnJvcmVkJyApIHtcbiAgICAgICAgICBjb25zdCBpID0gKGluZGV4ID09PSAxKSA/IDIgOiAxO1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaW5kZXg6IGksIHBhcmVudEluZGV4LFxuICAgICAgICAgICAgICByYWRpdXM6IGFuZ2xlLnJhZGl1cyxcbiAgICAgICAgICAgICAgYW5nbGU6ICBhbmdsZS5hbmdsZSAtIDE4MFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLnByb3BzLnR5cGUgPT09ICdhc3ltbWV0cmljJyApIHtcbiAgICAgICAgICBjb25zdCBpID0gKGluZGV4ID09PSAxKSA/IDIgOiAxO1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaW5kZXg6IGksIHBhcmVudEluZGV4LFxuICAgICAgICAgICAgICByYWRpdXM6IGhhbmRsZS5yYWRpdXMsXG4gICAgICAgICAgICAgIGFuZ2xlOiAgYW5nbGUuYW5nbGUgLSAxODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5vbigncGFuZW5kJywgKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSk7XG4gIH1cblxuICBfZ2V0UG9pbnRTdHlsZSAoKSB7XG4gICAgY29uc3Qge2hhbmRsZX0gID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwb2ludCAgICAgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApLFxuICAgICAgICAgIHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3BvaW50Lnh9cHgsICR7cG9pbnQueX1weCkgcm90YXRlKCR7aGFuZGxlLmFuZ2xlfWRlZylgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG4gIF9nZXRMaW5lU3R5bGUgKCkge1xuICAgIGNvbnN0IHtoYW5kbGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHJhbnNsYXRlID0gYHRyYW5zZm9ybTogcm90YXRlKCR7aGFuZGxlLmFuZ2xlfWRlZykgc2NhbGVZKCR7aGFuZGxlLnJhZGl1c30pYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpdHRsZUhhbmRsZTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvYXNzaWduXCIpO1xuXG52YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qc1xuICoqIG1vZHVsZSBpZCA9IDExOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDExOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJT2JqZWN0ICA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgdmFyIEEgPSB7fVxuICAgICwgQiA9IHt9XG4gICAgLCBTID0gU3ltYm9sKClcbiAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG4gICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGluZGV4ID0gMVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuICB3aGlsZShhTGVuID4gaW5kZXgpe1xuICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcbiAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgLCBqICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShsZW5ndGggPiBqKWlmKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydCBkZWZhdWx0ICh4LCB5KSA9PiB7XG4gIGxldCAgIHJhZGl1cyAgPSBNYXRoLnNxcnQoIHgqeCArIHkqeSApLFxuICAgICAgICBhbmdsZSAgID0gTWF0aC5hdGFuKCB5L3ggKSAqICgxODAvTWF0aC5QSSkgLSA5MDtcbiAgaWYgKCB4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuXG4gIHJldHVybiB7IHJhZGl1cywgYW5nbGUgfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2xpdHRsZS1oYW5kbGVfaXcycnVfM3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjA7aGVpZ2h0OjB9Ll9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0zcHg7bWFyZ2luLXRvcDotM3B4O2JhY2tncm91bmQ6I2ZmNTEyZjtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC41KX0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzE6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyMDAlO2hlaWdodDoyMDAlO2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTEwMCU7bWFyZ2luLXRvcDotMTAwJX0uX2xpdHRsZS1oYW5kbGVfX2xpbmVfaXcycnVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxcHg7aGVpZ2h0OjFweDttYXJnaW4tbGVmdDotMXB4O21hcmdpbi10b3A6LTFweDtsZWZ0OjUwJTt0b3A6NTAlO2JhY2tncm91bmQ6I2ZmNTEyZjstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblxyXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcclxuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdH1cclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihzb3VyY2VNYXApIHtcclxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHJcblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRpZihvbGRTcmMpXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwibGl0dGxlLWhhbmRsZVwiOiBcIl9saXR0bGUtaGFuZGxlX2l3MnJ1XzNcIixcblx0XCJsaXR0bGUtaGFuZGxlX19wb2ludFwiOiBcIl9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xXCIsXG5cdFwibGl0dGxlLWhhbmRsZV9fbGluZVwiOiBcIl9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmV4cG9ydCBkZWZhdWx0ICh2YWx1ZSwgYmFzZSwgc25hcCkgPT4ge1xuICBjb25zdCBtb2RpZmllZCA9IE1hdGgucm91bmQodmFsdWUvYmFzZSkqYmFzZTtcblxuICByZXR1cm4gKCBNYXRoLmFicyh2YWx1ZSAtIG1vZGlmaWVkKSA8IHNuYXAgKSA/IG1vZGlmaWVkIDogdmFsdWU7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qc1xuICoqLyIsIlxuXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIG1pbiwgbWF4KSA9PiB7XG4gIHJldHVybiAodmFsdWUgPCBtaW4pXG4gICAgPyBtaW5cbiAgICA6ICh2YWx1ZSA+IG1heCkgPyBtYXggOiB2YWx1ZTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NsYW1wLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludF8xN3BiMV81e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tdG9wOi01cHg7Y3Vyc29yOm1vdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3otaW5kZXg6Mztib3gtc2hhZG93OjNweCAzcHggMCByZ2JhKDAsMCwwLC41KTtib3JkZXI6MnB4IHNvbGlkICNmZmZ9Ll9wb2ludF8xN3BiMV81IFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9Ll9wb2ludF9fdG91Y2hfMTdwYjFfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLWxlZnQ6LTEwcHg7bWFyZ2luLXRvcDotMTBweH0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxLC5fcG9pbnRfMTdwYjFfNTpob3Zlcntib3JkZXItY29sb3I6I2ZmNTEyZn0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5OmJsb2NrfS5fcG9pbnRfMTdwYjFfNS5faXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInBvaW50XCI6IFwiX3BvaW50XzE3cGIxXzVcIixcblx0XCJwb2ludF9fdG91Y2hcIjogXCJfcG9pbnRfX3RvdWNoXzE3cGIxXzFcIixcblx0XCJpcy1zZWxlY3RlZFwiOiBcIl9pcy1zZWxlY3RlZF8xN3BiMV8zMVwiLFxuXHRcImlzLWhpZGUtaGFuZGxlc1wiOiBcIl9pcy1oaWRlLWhhbmRsZXNfMTdwYjFfNDJcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZV9ndmNybl81e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMHB4O2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC43NSk7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgNHB4IDRweCAwIHJnYmEoMCwwLDAsLjUpO3otaW5kZXg6Mn0uX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO3RvcDowO2JvdHRvbTowO3dpZHRoOjM1MHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0xNzVweDtvcGFjaXR5Oi41O2JvcmRlci1yYWRpdXM6aW5oZXJpdDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K1BITjJaeUIzYVdSMGFEMGlNelV3Y0hnaUlHaGxhV2RvZEQwaU16VXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXpOVEFnTXpVd0lpQjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnSUNBZ0lDQWdQSFJwZEd4bFBsTnNhV05sSURFOEwzUnBkR3hsUGlBZ0lDQThaR1Z6WXo1RGNtVmhkR1ZrSUhkcGRHZ2dVMnRsZEdOb0xqd3ZaR1Z6WXo0Z0lDQWdQR1JsWm5NK1BDOWtaV1p6UGlBZ0lDQThaeUJwWkQwaVVHRm5aUzB4SWlCemRISnZhMlU5SW01dmJtVWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0Z0lDQWdJQ0FnSUR4bklHbGtQU0pIY205MWNDSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFdU1EQXdNREF3TENBd0xqQXdNREF3TUNraUlITjBjbTlyWlQwaUkwWkdSa1pHUmlJK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE16TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16TXpMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXhOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpFMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nams0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk0TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qZ3dMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTBOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpRMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nakk0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl4TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qRXdMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRrekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMU9TNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFU1TGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTVM0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UUXhMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXlOQzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRJMExqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFd05pNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEEyTGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVGN4TGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU56RXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVTBMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTlRRdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMkxqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1Nell1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU1Ua3VNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVGt1TURBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERFNUxqQXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERNMkxqVXdNakUzT1RNZ1RERXVNREF4TURnNE15d3pOaTQxTURJeE56a3pJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9DdzFOQzR3TURJeE56a3pJRXd4TGpBd01UQTRPRE1zTlRRdU1EQXlNVGM1TXlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTnpFdU5UQXlNVGM1TXlCTU1TNHdNREV3T0RnekxEY3hMalV3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERXdOaTQxTURJeE56a2dUREV1TURBeE1EZzRNeXd4TURZdU5UQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4TWpRdU1EQXlNVGM1SUV3eExqQXdNVEE0T0RNc01USTBMakF3TWpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01UUXhMalV3TWpFM09TQk1NUzR3TURFd09EZ3pMREUwTVM0MU1ESXhOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREUxT1M0d01ESXhOemtnVERFdU1EQXhNRGc0TXl3eE5Ua3VNREF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE9UTXVNVEkzTVRjNUlFd3hMakF3TVRBNE9ETXNNVGt6TGpFeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNakV3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJeE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJeU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lNamd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3lORFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTWpRMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpnd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESTRNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESTVPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5T1RndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d6TVRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc016RTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc016TXpMakV5TnpFM09TQk1NUzR3TURFd09EZ3pMRE16TXk0eE1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMDRPQzR3TmpReE16VXlMREVnVERnNExqQTJOREV6TlRJc016VXhJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweE56VXVNVEk0TWpjc01TQk1NVGMxTGpFeU9ESTNMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5Nall5TGpFNU1qUXdOaXd4SUV3eU5qSXVNVGt5TkRBMkxETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXdMalUyTXpVNU1TdzRPQzR3TmpRMk56a3pJRXd3TGpVMk16VTVNVEF5TWl3NE9DNHdOalEyTnpreklpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRBdU5UWXpOVGt4TERFM05TNDFOalEyTnprZ1REQXVOVFl6TlRreE1ESXlMREUzTlM0MU5qUTJOemtpSUdsa1BTSndZWFJvT0RJeE5TSWdiM0JoWTJsMGVUMGlNQzQxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNQzQxTmpNMU9URXNNall6TGpBMk5EWTNPU0JNTUM0MU5qTTFPVEV3TWpJc01qWXpMakEyTkRZM09TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y21WamRDQnBaRDBpY21WamRERXdNRGM0SWlCdmNHRmphWFI1UFNJd0xqYzFJaUI0UFNJd0xqZzNNamd4TnprMU5TSWdlVDBpTVNJZ2QybGtkR2c5SWpNMU1DSWdhR1ZwWjJoMFBTSXpOVEFpUGp3dmNtVmpkRDRnSUNBZ0lDQWdJRHd2Wno0Z0lDQWdQQzluUGp3dmMzWm5QZz09KX0uX2N1cnZlX19zdmctd3JhcHBlcl9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtsZWZ0Oi0xcHg7cmlnaHQ6LTFweH0uX2N1cnZlX19zdmdfZ3Zjcm5fMXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGU7d2lkdGg6MTAwJX0uX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xe3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoycHg7Y3Vyc29yOmNyb3NzaGFpcn0uX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xOmhvdmVye3N0cm9rZTojZmY1MTJmfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjdXJ2ZVwiOiBcIl9jdXJ2ZV9ndmNybl81XCIsXG5cdFwiY3VydmVfX2JhY2tncm91bmRcIjogXCJfY3VydmVfX2JhY2tncm91bmRfZ3Zjcm5fMVwiLFxuXHRcImN1cnZlX19zdmctd3JhcHBlclwiOiBcIl9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMVwiLFxuXHRcImN1cnZlX19zdmdcIjogXCJfY3VydmVfX3N2Z19ndmNybl8xXCIsXG5cdFwiY3VydmVfX3N2Zy1zZWdtZW50XCI6IFwiX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlJyk7XG5jbGFzcyBSZXNpemVIYW5kbGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHt0eXBlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gYCR7Q0xBU1NFU1sncmVzaXplLWhhbmRsZSddfWAsXG4gICAgICAgICAgY2xhc3NUeXBlID0gYCR7Q0xBU1NFU1sncmVzaXplLWhhbmRsZS0tJyArIHR5cGUgXX1gO1xuICAgIHJldHVybiA8ZGl2XG4gICAgICBjbGFzc05hbWU9eyBgJHtjbGFzc05hbWV9ICR7Y2xhc3NUeXBlfSAke3RoaXMucHJvcHMuY2xhc3NOYW1lfWAgfVxuICAgICAgZGF0YS10eXBlPXt0eXBlfVxuICAgICAgZGF0YS1jb21wb25lbnQ9XCJyZXNpemUtaGFuZGxlXCI+XG4gICAgICAgIDxJY29uIHNoYXBlPVwiZWxsaXBzaXNcIiAvPlxuICAgICAgPC9kaXY+O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAge3R5cGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWMgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFX0VORCcsIGRhdGE6IHsgeCwgeSwgdHlwZSB9IH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzaXplSGFuZGxlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcmVzaXplLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24nKTtcblxuY2xhc3MgSWNvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge3NoYXBlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWFya3VwID0gYDxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiPjx1c2UgeGxpbms6aHJlZj1cIiMke3NoYXBlfS1zaGFwZVwiIC8+PC9zdmc+YDtcbiAgICByZXR1cm4gIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snaWNvbiddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJpY29uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWFya3VwIH19PlxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24ucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb25fNGE4bGZfNXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMnB4O2hlaWdodDozMnB4O2N1cnNvcjpwb2ludGVyO2ZpbGw6I2ZmZjtkaXNwbGF5OmJsb2NrfS5faWNvbl80YThsZl81PnN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU+c3ZnPnVzZXtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XCJyZXNpemUtaGFuZGxlLS1yaWdodFwiOiBcIl9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xXCIsXG5cdFwicmVzaXplLWhhbmRsZS0tYm90dG9tXCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjdXJ2ZS1lZGl0b3JcIjogXCJfY3VydmUtZWRpdG9yXzFmOHI1XzRcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX3JpZ2h0XCI6IFwiX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZVwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ29cIjogXCJfY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5pbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IENvZGVCdXR0b24gZnJvbSAnLi9jb2RlLWJ1dHRvbic7XG5pbXBvcnQgSWNvbkRpdmlkZXIgZnJvbSAnLi9pY29uLWRpdmlkZXInO1xuaW1wb3J0IFBvaW50Q29udHJvbHMgZnJvbSAnLi9wb2ludC1jb250cm9scyc7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNvbnN0IEN1cnZlRWRpdG9yTGVmdCA9ICh7c3RhdGV9KSA9PiB7XG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddfSBpZD1cImpzLWxlZnQtcGFuZWxcIj5cbiAgICAgICAgICAgIDxDb2RlQnV0dG9uIHN0YXRlPXtzdGF0ZX0gLz5cbiAgICAgICAgICAgIDxJY29uRGl2aWRlciAvPlxuICAgICAgICAgICAgPFBvaW50Q29udHJvbHMgc3RhdGU9e3N0YXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9ucyddfSAvPlxuICAgICAgICAgICAgPGEgIGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19tb2pzLWxvZ28nXX1cbiAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2xlZ29tdXNocm9vbS9tb2pzLWN1cnZlLWVkaXRvclwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgICA8SWNvbiBzaGFwZT1cIm1vanMtbG9nb1wiIC8+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvckxlZnQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1sZWZ0LmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnLi9pY29uLWJ1dHRvbic7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5cbmNsYXNzIENvZGVCdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiA8SWNvbkJ1dHRvbiBzaGFwZT1cImNvZGVcIiBpc0NoZWNrPXtzdGF0ZS5jb250cm9scy5pc0NvZGV9IC8+O1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuICAgIG1jLmFkZChuZXcgSGFtbWVyLlRhcCk7XG5cbiAgICBtYy5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQ09ERV9UQVAnIH0pOyB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2RlQnV0dG9uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY29kZS1idXR0b24uYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG4vLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24tYnV0dG9uJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIEljb25CdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGNoZWNrID0gKHRoaXMucHJvcHMuaXNDaGVjaykgPyBDTEFTU0VTWydpcy1jaGVja2VkJ10gOiAnJztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17YCR7Q0xBU1NFU1snaWNvbi1idXR0b24nXX0gJHtjaGVja31gfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9eydpY29uLWJ1dHRvbid9PlxuICAgICAgICAgICAgICA8SWNvbiBzaGFwZT17dGhpcy5wcm9wcy5zaGFwZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIHR5cGVvZiB0aGlzLnByb3BzLm9uVGFwID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgdmFyIGhhbW1lcnRpbWUgPSBuZXcgSGFtbWVyKHRoaXMuYmFzZSlcbiAgICAgICAgLm9uKCd0YXAnLCAoZSkgPT4geyB0aGlzLnByb3BzLm9uVGFwKCBlLCB0aGlzLnByb3BzICkgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25CdXR0b247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tYnV0dG9uXzZ5c2RpXzR7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6IzNhMDgzOTtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC4xNSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3Zlcntib3gtc2hhZG93Om5vbmV9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVyIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmV7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggMCBoc2xhKDAsMCUsMTAwJSwuMjUpLGluc2V0IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjQpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSBbZGF0YS1jb21wb25lbnQ9aWNvbl0sLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZSBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiaWNvbi1idXR0b25cIjogXCJfaWNvbi1idXR0b25fNnlzZGlfNFwiLFxuXHRcImlzLWNoZWNrZWRcIjogXCJfaXMtY2hlY2tlZF82eXNkaV8zMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTUxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXInKTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24tZGl2aWRlciddfVxuICAgICAgICAgICAgICBkYXRhLWNvbXBvbmVudD1cImljb24tZGl2aWRlclwiIC8+O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi1kaXZpZGVyLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb24tZGl2aWRlclwiOiBcIl9pY29uLWRpdmlkZXJfZnRhc2tfM1wiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1kaXZpZGVyX2Z0YXNrXzN7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bzt3aWR0aDoxNnB4O2hlaWdodDoxcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgwLDAsMCwuMyl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4vaWNvbi1idXR0b24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50Q29udHJvbHMgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtzdGF0ZX0gICA9IHAsXG4gICAgICAgICAgY29udHJvbHMgID0gc3RhdGUucG9pbnRDb250cm9scy5wcmVzZW50LFxuICAgICAgICAgIHNob3cgICAgICA9IChjb250cm9scy5pc1Nob3cpID8gQ0xBU1NFU1snaXMtc2hvdyddIDogJycsXG4gICAgICAgICAgY2xhc3NOYW1lID0gYCR7cC5jbGFzc05hbWV9ICR7Q0xBU1NFU1sncG9pbnQtY29udHJvbHMnXX0gJHtzaG93fWAsXG4gICAgICAgICAgYnV0dG9ucyAgID0gdGhpcy5fYWRkQnV0dG9ucyhjb250cm9scyk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+IHtidXR0b25zfSA8L2Rpdj5cbiAgfVxuXG4gIF9vbkJ1dHRvblRhcCAodHlwZSkge1xuICAgIHJldHVybiAoZSkgPT4ge1xuICAgICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcblxuICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQ0hBTkdFX1RZUEUnLCBkYXRhOiB0eXBlLCBpc1JlY29yZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBfYWRkQnV0dG9ucyAoY29udHJvbHMpIHtcbiAgICBjb25zdCBidXR0b25zTWFwICA9IFsgJ3N0cmFpZ2h0JywgJ2Rpc2Nvbm5lY3RlZCcsICdtaXJyb3JlZCcsICdhc3ltbWV0cmljJyBdLFxuICAgICAgICAgIGJ1dHRvbnMgICAgID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnNNYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBidXR0b25zTWFwW2ldO1xuICAgICAgYnV0dG9ucy5wdXNoKDxJY29uQnV0dG9uICBzaGFwZT17YHBvaW50LSR7dHlwZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrPXsgY29udHJvbHMudHlwZSA9PT0gdHlwZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVGFwPXsgdGhpcy5fb25CdXR0b25UYXAodHlwZSkgfSAvPik7XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50Q29udHJvbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9wb2ludC1jb250cm9scy5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzR7ZGlzcGxheTpub25lfS5fcG9pbnQtY29udHJvbHNfMXhjdTdfNCBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25dOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6M3B4O2hlaWdodDo3LjVweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjJweDtsZWZ0Oi0xMHB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMy43NXB4O2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXVtjbGFzcyo9aXMtY2hlY2tlZF06YWZ0ZXIsLl9wb2ludC1jb250cm9sc18xeGN1N180Ll9pcy1zaG93XzF4Y3U3Xzd7ZGlzcGxheTpibG9ja31cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwicG9pbnQtY29udHJvbHNcIjogXCJfcG9pbnQtY29udHJvbHNfMXhjdTdfNFwiLFxuXHRcImlzLXNob3dcIjogXCJfaXMtc2hvd18xeGN1N183XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5jb25zdCBJY29ucyA9ICgpID0+IHtcbiAgcmV0dXJuIDxkaXYgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBgPHN2ZyBoZWlnaHQ9XCIwXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBtYXJnaW4tbGVmdDogLTEwMCU7IHdpZHRoOjA7IGhlaWdodDowO1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxuICAgICAgPGcgaWQ9XCJlbGxpcHNpcy1zaGFwZVwiPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE2XCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIyMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgPC9nPlxuICAgICAgPHBhdGggaWQ9XCJjb2RlLXNoYXBlXCIgZD1cIk04LDE2LjA4NDk2NDggQzgsMTUuODIxMDc5MyA4LjExMTQ5MDY5LDE1LjYxMjkzOTMgOC4zMzQ4MzQwNSwxNS40NjA5MDY1IEwxMi4zMzkwODc0LDEyLjg0MTk2MTIgQzEyLjM4OTc2NDksMTIuODAxNDE5MiAxMi40NjU3ODEzLDEyLjc4MTE0ODEgMTIuNTY3NDk4NSwxMi43ODExNDgxIEMxMi43Mzk4MDIzLDEyLjc4MTE0ODEgMTIuOTA0ODY2NCwxMi44NTcxNjQ1IDEzLjA2MjMyODksMTMuMDA5NTU5MiBDMTMuMjE5NDI5NCwxMy4xNjE5NTQgMTMuMjk4MzQxNywxMy4zMzkzMjU1IDEzLjI5ODM0MTcsMTMuNTQyMzk3OSBDMTMuMjk4MzQxNywxMy43MzUzMzQ3IDEzLjIyMTk2MzMsMTMuODgyNjYxNyAxMy4wNjkyMDY2LDEzLjk4NDAxNjggTDkuODU3Njk1NTMsMTYuMDg0OTY0OCBMMTMuMDY5MjA2NiwxOC4xODYyNzQ3IEMxMy4yMjE5NjMzLDE4LjI2NzcyMDggMTMuMjk4MzQxNywxOC40MTQ2ODU4IDEzLjI5ODM0MTcsMTguNjI3ODkzNyBDMTMuMjk4MzQxNywxOC44MzA5NjYgMTMuMjE5NzkxNCwxOS4wMDYxNjU3IDEzLjA2MjMyODksMTkuMTUzMTMwNyBDMTIuOTA0ODY2NCwxOS4zMDA0NTc2IDEyLjczOTgwMjMsMTkuMzczOTQwMSAxMi41Njc0OTg1LDE5LjM3Mzk0MDEgQzEyLjQ2NTc4MTMsMTkuMzczOTQwMSAxMi4zODk3NjQ5LDE5LjM1MzY2OTEgMTIuMzM5MDg3NCwxOS4zMTMxMjcgTDguMzM0ODM0MDUsMTYuNjkzODE5OCBDOC4xMTE0OTA2OSwxNi41NDE0MjUgOCwxNi4zMzg3MTQ3IDgsMTYuMDg0OTY0OCBMOCwxNi4wODQ5NjQ4IFogTTE0LjEzOTk1MTYsMjAuNjg3NTc1NiBDMTQuMTI2NTU4MiwyMC42MDc1Nzc0IDE0LjEyODczMDEsMjAuNTMwMTEzMSAxNC4xNDY4MjkzLDIwLjQ1NDgyMDcgTDE2LjkzOTUyNjMsMTEuMzU2MDIyIEMxNi45ODkxMTc5LDExLjE2MjM2MTIgMTcuMTIzNzc1NSwxMS4wNDY4ODg3IDE3LjM0NDIyMywxMS4wMDk2MDQ1IEMxNy41MDQyMTk0LDEwLjk4MjQ1NTggMTcuNjU4Nzg2LDExLjAxMjg2MjMgMTcuODA3NTYwOSwxMS4xMDA4MjQyIEMxNy45NTYzMzU4LDExLjE4OTE0NzkgMTguMDQ0Mjk3NiwxMS4zMTMzMDggMTguMDcxMDg0NCwxMS40NzMzMDQ0IEMxOC4wODYyODc2LDExLjU2MzQzODEgMTguMDc5NzcyLDExLjY0NzA1NjEgMTguMDUxODk5MywxMS43MjM3OTY1IEwxNS4yNjY0NDE5LDIwLjc3NDgxMzQgQzE1LjIwODUyNDcsMjAuOTgwMDU3NyAxNS4wNTkzODc4LDIxLjEwMzEzMTggMTQuODE5MzkzMiwyMS4xNDQwMzU4IEMxNC42NDg4OTkzLDIxLjE3Mjk5NDUgMTQuNDk5NDAwNSwyMS4xMzg5NjgxIDE0LjM2OTgxMDYsMjEuMDQyNjgwNyBDMTQuMjQwMjIwOCwyMC45NDYwMzEzIDE0LjE2Mzg0MjQsMjAuODI3NjYyOSAxNC4xMzk5NTE2LDIwLjY4NzU3NTYgTDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBaIE0xOC45NTI4NzQ0LDE5LjE1Mjc2ODcgQzE4Ljc5NTQxMTksMTkuMDA1ODAzNyAxOC43MTY4NjE2LDE4LjgzMDYwNCAxOC43MTY4NjE2LDE4LjYyNzUzMTcgQzE4LjcxNjg2MTYsMTguNDI0NDU5NCAxOC43ODc4MTAyLDE4LjI3NzQ5NDQgMTguOTMwMDY5NSwxOC4xODU5MTI3IEwyMi4xNDI2NjY1LDE2LjA4NDYwMjggTDE4LjkzMDA2OTUsMTMuOTgzNjU0OSBDMTguNzg3ODEwMiwxMy44NzE4MDIyIDE4LjcxNjg2MTYsMTMuNzI0ODM3MiAxOC43MTY4NjE2LDEzLjU0MjAzNTkgQzE4LjcxNjg2MTYsMTMuMzM4OTYzNiAxOC43OTU0MTE5LDEzLjE2MTU5MiAxOC45NTI4NzQ0LDEzLjAwOTE5NzMgQzE5LjExMDMzNjksMTIuODU2ODAyNSAxOS4yNzUwMzksMTIuNzgwNzg2MSAxOS40NDc3MDQ4LDEyLjc4MDc4NjEgQzE5LjUzODkyNDUsMTIuNzgwNzg2MSAxOS42MDk4NzMxLDEyLjgwMTQxOTIgMTkuNjYwOTEyNiwxMi44NDE1OTkyIEwyMy42NjUxNjU5LDE1LjQ2MDU0NDUgQzIzLjg4ODE0NzMsMTUuNjEyOTM5MyAyNCwxNS44MjEwNzkzIDI0LDE2LjA4NDYwMjggQzI0LDE2LjM0ODg1MDIgMjMuODg4MTQ3MywxNi41NTE1NjA2IDIzLjY2NTE2NTksMTYuNjkzODE5OCBMMTkuNjYwOTEyNiwxOS4zMTI3NjUxIEMxOS42MDk4NzMxLDE5LjM1MzMwNzEgMTkuNTM4OTI0NSwxOS4zNzM1NzgyIDE5LjQ0NzcwNDgsMTkuMzczNTc4MiBDMTkuMjc1MDM5LDE5LjM3MzU3ODIgMTkuMTEwMzM2OSwxOS4zMDAwOTU3IDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBMMTguOTUyODc0NCwxOS4xNTI3Njg3IFpcIj48L3BhdGg+XG4gICAgICA8ZyBpZD1cInBvaW50LXN0cmFpZ2h0LXNoYXBlXCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgPHBvbHlsaW5lIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIHBvaW50cz1cIjcuODgxIDIwLjU2OCAxNS40NTEgMTIuMjQxIDIzLjg5MiAyMC41NjhcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LW1pcnJvcmVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMS45MDEyNjMyIEM3Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgNy41OTI4NzE3MiwxMy41NzQwNTM3IDE1LjQ1MTQ0MjMsMTMuNTc0MDUzNyBDMjMuMzEwMDEyOSwxMy41NzQwNTM3IDIzLjg5MjEyMjgsMjEuOTAxMjYzMiAyMy44OTIxMjI4LDIxLjkwMTI2MzJcIi8+XG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTcuMTM4ODM1MjcsMTMuMzMzMzMzMyBMMjUuODA1NTAxMywxMy4zMzMzMzMzXCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxNC45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTMuMzMzXCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjI0XCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1kaXNjb25uZWN0ZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIwLjU2NzkyOTggQzcuODgxNDQ4NDEsMjAuNTY3OTI5OCA3LjU5Mjg3MTcyLDEyLjI0MDcyMDQgMTUuNDUxNDQyMywxMi4yNDA3MjA0IEMyMS4yMDA1MjA3LDE3Ljg4NzM3IDIzLjg5MjEyMjgsMjAuNTY3OTI5OCAyMy44OTIxMjI4LDIwLjU2NzkyOThcIi8+XG4gICAgICAgIDxwb2x5bGluZSBzdHJva2U9XCIjRkY1MTJGXCIgcG9pbnRzPVwiNi4xMzMgMTIgMTUuMjI4IDEyIDIzLjkzMyAyMC42MDJcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyMS44ODZcIiB5PVwiMTguNTUyXCIgZmlsbD1cIiNGRjUxMkZcIiB0cmFuc2Zvcm09XCJyb3RhdGUoNDUgMjMuMjE5IDE5Ljg4NilcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMC42NjdcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtYXN5bW1ldHJpYy1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg3LjY2NyA5LjMzMylcIj5cbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk0wLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IEMwLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IC0wLjM3MzUxMTg2OSwyLjkwNzA5NjEzIDcuNzg0Nzc1NjQsMi45MDczODcwNCBDMTAuNzUwMDAwMywyLjkwNzQ5Mjc3IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NSAxNi4yMjU0NTYyLDExLjIzNDU5NjVcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjlcIiBjeT1cIjQuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNMi41Mjc4ODUwMywyLjY2NjY2NjY3IEwxOC4xMzg4MzQ2LDIuNjY2NjY2NjdcIi8+XG4gICAgICAgIDxlbGxpcHNlIGN4PVwiNy42NjdcIiBjeT1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjE2LjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiLjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPHBhdGggaWQ9XCJtb2pzLWxvZ28tc2hhcGVcIiBkPVwiTTE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBDMTkuNDg4NTg2LDMuMjU3NTg2MjUgMjAuMjc4OTIyNyw0LjE4NDIxNjUxIDIwLjg3ODIzLDUuMTk3MzU3OSBDMjQuMDgwNzc4OCwxMC41MDE0NTEgMjcuMjc3NzA5MSwxNS44MTEzMTE2IDMwLjQ4MDI1OCwyMS4xMTU0MDQ3IEMzMS4xMzIwMDQ3LDIyLjE2MTIyODEgMzEuNzcwNjQxNywyMy4yNjQ3MjU2IDMxLjkzNTQ1MTIsMjQuNTE2MjUzMiBDMzIuMTg4Mjg0LDI2LjA2MTkxODYgMzEuNjkxOTgyNiwyNy43MzYzODk1IDMwLjU1ODkxNzEsMjguODAzMzYgQzI5LjQ1MDE5ODQsMjkuODg1NzEwMyAyNy44ODA3NjIyLDMwLjMxODI2NTkgMjYuMzgwNjIwOSwzMC4zMDQ4MDg2IEMxOS40NTExMjkzLDMwLjMwODY1MzUgMTIuNTIzNTEwNiwzMC4zMDg2NTM1IDUuNTk0MDE5MDEsMzAuMzA0ODA4NiBDMy43MTU1NjQ5NCwzMC4zNDMyNTggMS42OTg1MjEwNCwyOS41NzIzNDc4IDAuNjgzNDQ0MTY1LDI3Ljg3MDk2MjMgQy0wLjQwNjU0NjEzMiwyNi4xMDk5ODAzIC0wLjA5NzUyODI2NDMsMjMuNzkxNDgyMiAwLjk0MDAyMjYzNywyMi4wODQzMjkzIEM0LjM0Mjk2NDg1LDE2LjQxMzA0NDUgNy43NjY1MDgyNiwxMC43NTMyOTQ1IDExLjE4MjU2MDMsNS4wODk2OTk2MSBDMTEuOTc0NzY5OCwzLjc0NzgxNTk1IDEzLjE4NDYyMTUsMi42MDIwMjQxOCAxNC42ODQ3NjI4LDIuMTgyOTI1ODQgQzE1Ljk0NTE4MTIsMS44MTU3MzQxOCAxNy4zMzQ4MjUxLDIuMDExODI2MDYgMTguNDY3ODkwNywyLjY3NzAwMDQ4IFogTTE1LjMzMzQ2NjgsOS41MTUyNjg0OSBDMTUuNjE0NjIzOCw5LjAzNzc5NDc2IDE2LjA3OTE1OTcsOS4wMjI1MDY1NSAxNi4zNzg1Njc5LDkuNDkyOTU0NyBMMjUuMjc2MzU1NSwyMy40NzM2OTEzIEMyNS41NzIzOTE5LDIzLjkzODg0MTQgMjUuMzU2ODQzMywyNC4zMTU5MjAxIDI0LjgwNzQzOTgsMjQuMzE1OTIwMiBMNy42MjMxNDY0NywyNC4zMTU5MjA1IEM3LjA2ODEzNTA1LDI0LjMxNTkyMDYgNi44NDYyMjc5OCwyMy45Mjg2ODg5IDcuMTI3Mjg5MTMsMjMuNDUxMzc3OSBMMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IFpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PC9wYXRoPlxuICAgIDwvc3ZnPmAgfX0+PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25zO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbnMuYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZSBmcm9tICcuL3Jlc2l6ZS1oYW5kbGUnO1xuXG4vLyBjb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2NvZGUtcGFuZWwnKTtcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvbicpO1xuZXhwb3J0IGRlZmF1bHQgKHtzdGF0ZX0pID0+IHtcbiAgY29uc3Qge3BvaW50cywgY29udHJvbHN9ID0gc3RhdGUsXG4gICAgICAgIG9wZW4gICAgICA9IChjb250cm9scy5pc0NvZGUpID8gQ0xBU1NFU1snaXMtb3BlbiddIDogJycsXG4gICAgICAgIG1haW5DbGFzcyA9IGAke0NMQVNTRVNbJ2NvZGUtcGFuZWwnXX0gJHtvcGVufWA7XG5cbiAgcmV0dXJuICA8ZGl2IGNsYXNzTmFtZT17bWFpbkNsYXNzfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY29kZS1wYW5lbF9faW5uZXInXSB9PlxuICAgICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJ0b3BcIiAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LXdyYXAnXSB9PlxuICAgICAgICAgICAgICAgIDxpbnB1dCAgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY29kZS1wYW5lbF9faW5wdXQtZmllbGQnXSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyBwb2ludHMucHJlc2VudC5wYXRoIH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj47XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jb2RlLXBhbmVsLmJhYmVsLmpzeFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jb2RlLXBhbmVsX25uYjlwXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3JpZ2h0OjEwcHg7Ym90dG9tOjEwMCU7ei1pbmRleDoxO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXRvcDoxNnB4O2JveC1zaXppbmc6Y29udGVudC1ib3h9Ll9jb2RlLXBhbmVsX25uYjlwXzMgW2RhdGEtY29tcG9uZW50PXJlc2l6ZS1oYW5kbGVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JvdHRvbToxMDAlfS5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXtib3JkZXItcmFkaXVzOjZweCA2cHggMCAwO2JhY2tncm91bmQ6IzNkMWIzYztwYWRkaW5nOjRweCA1cHggNXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXQ7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0fS5fY29kZS1wYW5lbF9faW5wdXQtd3JhcF9ubmI5cF8xe2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6IzQyMTAzZjtib3JkZXI6MXB4IHNvbGlkICM5YzgyOWE7Ym94LXNoYWRvdzppbnNldCAycHggMnB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9jb2RlLXBhbmVsX19pbnB1dC1maWVsZF9ubmI5cF8xe2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6LjQ1cHg7Zm9udC13ZWlnaHQ6MTAwO3BhZGRpbmc6MCAuM2VtIDAgLjhlbTtib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyMXB4O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6LW1vei1zZWxlY3Rpb24sLmNvZGUtcGFuZWwgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjpzZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zLl9pcy1vcGVuX25uYjlwXzYxIC5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImNvZGUtcGFuZWxcIjogXCJfY29kZS1wYW5lbF9ubmI5cF8zXCIsXG5cdFwiY29kZS1wYW5lbF9faW5uZXJcIjogXCJfY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMVwiLFxuXHRcImNvZGUtcGFuZWxfX2lucHV0LXdyYXBcIjogXCJfY29kZS1wYW5lbF9faW5wdXQtd3JhcF9ubmI5cF8xXCIsXG5cdFwiY29kZS1wYW5lbF9faW5wdXQtZmllbGRcIjogXCJfY29kZS1wYW5lbF9faW5wdXQtZmllbGRfbm5iOXBfMVwiLFxuXHRcImlzLW9wZW5cIjogXCJfaXMtb3Blbl9ubmI5cF82MVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlLWVkaXRvcl8xZjhyNV80e3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDt0b3A6MDt3aWR0aDo0MDNweDtoZWlnaHQ6Mzc4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC44NSk7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzoycHggMnB4IDJweCByZ2JhKDAsMCwwLC4zOCl9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MnB4O2xlZnQ6MDt0b3A6MDtib3R0b206MDtwYWRkaW5nOjEwcHg7Y3Vyc29yOm1vdmV9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1kaXZpZGVyXXttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXXttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7Y3JlYXRlU3RvcmV9IGZyb20gJ3JlZHV4Jztcbi8vIGltcG9ydCByZWR1Y2VyXG5pbXBvcnQgcmVkdWNlciBmcm9tICcuL3JlZHVjZXJzL2luZGV4LXJlZHVjZXInO1xuXG5jb25zdCBpbml0U3RvcmUgPSAoKSA9PiB7IHJldHVybiBjcmVhdGVTdG9yZSggcmVkdWNlciApOyAgfVxuXG5leHBvcnQgZGVmYXVsdCBpbml0U3RvcmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvc3RvcmUuYmFiZWwuanNcbiAqKi8iLCIvLyBSZWR1eCB1dGlsaXR5IGZ1bmN0aW9uc1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuLy8gcmVkdXgtdW5kbyBoaWdoZXItb3JkZXIgcmVkdWNlclxuaW1wb3J0IHVuZG9hYmxlIGZyb20gJ3JlZHV4LXVuZG8nO1xuXG5pbXBvcnQgcmVzaXplUmVkdWNlciAgICAgICAgZnJvbSAnLi9yZXNpemUtcmVkdWNlcic7XG5pbXBvcnQgcG9pbnRzUmVkdWNlciAgICAgICAgZnJvbSAnLi9wb2ludHMtcmVkdWNlcic7XG5pbXBvcnQgY29udHJvbHNSZWR1Y2VyICAgICAgZnJvbSAnLi9jb250cm9scy1yZWR1Y2VyJztcbmltcG9ydCBwb2ludENvbnRyb2xzUmVkdWNlciBmcm9tICcuL3BvaW50LWNvbnRyb2xzLXJlZHVjZXInO1xuXG5jb25zdCBVTkRPQUJMRV9PUFRTID0ge1xuICBsaW1pdDogMTAsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuICAgIHJldHVybiBhY3Rpb24uaXNSZWNvcmQ7IC8vIG9ubHkgYWRkIHRvIGhpc3RvcnkgaWYgaXNSZWNvcmQgc2V0IG9uIGFjdGlvblxuICB9LFxuICBkZWJ1ZzogZmFsc2Vcbn07XG5cbmltcG9ydCByZWN5Y2xlU3RhdGUgZnJvbSAncmVkdXgtcmVjeWNsZSdcblxuY29uc3QgcmVkdWNlciA9IHJlY3ljbGVTdGF0ZShjb21iaW5lUmVkdWNlcnMoe1xuICByZXNpemU6ICAgICAgICByZXNpemVSZWR1Y2VyLFxuICBwb2ludHM6ICAgICAgICB1bmRvYWJsZShwb2ludHNSZWR1Y2VyLCB7IC4uLlVORE9BQkxFX09QVFMgfSksXG4gIGNvbnRyb2xzOiAgICAgIGNvbnRyb2xzUmVkdWNlcixcbiAgcG9pbnRDb250cm9sczogdW5kb2FibGUocG9pbnRDb250cm9sc1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KVxufSksIFsnU0VUX1NUQVRFJ10sIChzdGF0ZSwgYWN0aW9uKSA9PiBhY3Rpb24uZGF0YSApO1xuXG5leHBvcnQgZGVmYXVsdCByZWR1Y2VyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL2luZGV4LXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICB4OiAgICAgICAgICAgIDE1MCxcbiAgdGVtcFg6ICAgICAgICAwLFxuXG4gIHk6ICAgICAgICAgICAgMTAwLFxuICB0ZW1wWTogICAgICAgIDAsXG5cbiAgdG9wOiAgICAgICAgICAwLFxuICB0ZW1wX3RvcDogICAgIDAsXG5cbiAgcmlnaHQ6ICAgICAgICAwLFxuICB0ZW1wX3JpZ2h0OiAgIDAsXG5cbiAgYm90dG9tOiAgICAgICAwLFxuICB0ZW1wX2JvdHRvbTogIDAsXG4gIHNjYWxlclg6ICAgICAgQy5DVVJWRV9QRVJDRU5UXG59XG5cbmNvbnN0IHJlc2l6ZVJlZHVjZXIgPSAoc3RhdGUgPSBJTklUSUFMX1NUQVRFLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ0VESVRPUl9SRVNJWkUnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gPSBhY3Rpb24sXG4gICAgICAgICAgICB7dHlwZX0gPSBkYXRhLFxuICAgICAgICAgICAgZGVsdGEgID0gKCB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyApID8gZGF0YS55IDogZGF0YS54O1xuXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUsIFtgdGVtcF8ke3R5cGV9YF06IGRlbHRhIH07XG4gICAgICAvLyBpZiBgcmlnaHRgc2l6ZSBjaGFuZ2VkIC0gY2FsY3VsYXRlIHRoZSBzY2FsZXIgZm9yIHggYXhpc1xuICAgICAgaWYgKCB0eXBlID09PSAncmlnaHQnICkge1xuICAgICAgICBuZXdTdGF0ZVsgJ3NjYWxlclgnIF0gPSAoQy5DVVJWRV9TSVpFICsgTWF0aC5tYXgoIHN0YXRlLnJpZ2h0ICsgZGVsdGEsIDAgKSkvMTAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9SRVNJWkVfRU5EJzoge1xuICAgICAgY29uc3Qge2RhdGF9ID0gYWN0aW9uO1xuICAgICAgY29uc3Qge3R5cGV9ID0gZGF0YTtcbiAgICAgIGNvbnN0IGRlbHRhID0gKCB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyApID8gZGF0YS55IDogZGF0YS54O1xuICAgICAgLy8gZ2V0IHRoZSB0b3RhbCByZXNpemUgdmFsdWUgKCB0ZW1wb3JhcnkgKyBhY3R1YWwgKVxuICAgICAgY29uc3QgcmVzaXplID0gc3RhdGVbYCR7YWN0aW9uLmRhdGEudHlwZX1gXSArIGRlbHRhO1xuICAgICAgLy8gaWYgdGhlIHR5cGUgaWYgdG8gLSBpdCBoYXMgdGhlIGAtYCBhcyBiYXNlIHNvIHdlIG5lZWQgdG8gc3dhcCBtZXRob2RzXG4gICAgICBjb25zdCBtYXRoTWV0aG9kID0gKCB0eXBlID09PSAndG9wJyApID8gJ21pbicgOiAnbWF4JztcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSxcbiAgICAgICAgW2Ake2FjdGlvbi5kYXRhLnR5cGV9YF06IE1hdGhbbWF0aE1ldGhvZF0oMCwgcmVzaXplKSxcbiAgICAgICAgW2B0ZW1wXyR7YWN0aW9uLmRhdGEudHlwZX1gXTogMFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7eCwgeX0gPSBhY3Rpb24uZGF0YTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB0ZW1wWDogeCwgdGVtcFk6IHkgfTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFX0VORCc6IHtcbiAgICAgIGxldCB7eCwgeX0gPSBhY3Rpb24uZGF0YTtcbiAgICAgIHggKz0gc3RhdGUueDtcbiAgICAgIHkgKz0gc3RhdGUueTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB4LCB5LCB0ZW1wWDogMCwgdGVtcFk6IDAgfTtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc2l6ZVJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcmVzaXplLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtYWtlUG9pbnQgZnJvbSAnLi4vaGVscGVycy9tYWtlLXBvaW50JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgaW5pdFBvaW50cyBmcm9tICcuLi9oZWxwZXJzL2luaXQtcG9pbnRzJztcbmltcG9ydCBjYWxjdWxhdGVQYXRoIGZyb20gJy4uL2hlbHBlcnMvY2FsY3VsYXRlLXBhdGgnO1xuXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBwYXRoOiAgICAgICAnJyxcbiAgc2VnbWVudHM6ICAgW10sXG4gIHBvaW50czogICAgIFtdXG4gIC8vIHBvaW50czogaW5pdFBvaW50cyhbXG4gIC8vICAgbWFrZVBvaW50KHsgeDogMCwgICB5OiBDLkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9KSxcbiAgLy8gICAvLyBtYWtlUG9pbnQoeyB4OiA1MCwgIHk6IEMuQ1VSVkVfU0laRS8yLCB0eXBlOiAnbWlycm9yZWQnIH0pLFxuICAvLyAgIG1ha2VQb2ludCh7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0pXG4gIC8vIF0pXG59XG5cbmNvbnN0IGRlc2VsZWN0QWxsID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgcG9pbnRzOiBbXSB9LFxuICAgICAgICBwb2ludHMgICA9IHN0YXRlLnBvaW50cztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIG5ld1N0YXRlLnBvaW50cy5wdXNoKHsgLi4ucG9pbnRzW2ldLCBpc1NlbGVjdGVkOiBmYWxzZSB9KTtcbiAgfVxuICByZXR1cm4gbmV3U3RhdGU7XG59XG5cbmNvbnN0IGZpbmRTZWxlY3RlZEluZGVjaWVzID0gKHBvaW50cykgPT4ge1xuICBjb25zdCBpbmRlY2llcyAgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIHBvaW50c1tpXS5pc1NlbGVjdGVkICYmIGluZGVjaWVzLnB1c2goIGkgKTtcbiAgfVxuICByZXR1cm4gaW5kZWNpZXM7XG59XG5cbmNvbnN0IHBvaW50c1JlZHVjZXIgPSAoc3RhdGUgPSBJTklUSUFMX1NUQVRFLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoKCBhY3Rpb24udHlwZSApIHtcbiAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXh9ICAgPSBkYXRhLFxuICAgICAgICAgICAge3BvaW50c30gID0gc3RhdGUsXG4gICAgICAgICAgICBvbGRQb2ludCAgPSBwb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgbmV3UG9pbnRzID0gWyAuLi5wb2ludHMgXTtcblxuICAgICAgbmV3UG9pbnRzWyBkYXRhLmluZGV4IF0gPSB7IC4uLm9sZFBvaW50LCB0ZW1wWDogZGF0YS54LCB0ZW1wWTogZGF0YS55IH1cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBjb25zdCBpbmRleCAgICAgPSBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgIHtwb2ludHN9ICA9IHN0YXRlLFxuICAgICAgICAgICAgb2xkUG9pbnQgID0gcG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgIG5ld1BvaW50cyA9IFsgLi4ucG9pbnRzIF07XG5cbiAgICAgIG5ld1BvaW50c1sgaW5kZXggXSA9IHtcbiAgICAgICAgICAuLi5vbGRQb2ludCxcbiAgICAgICAgICB4OiBvbGRQb2ludC54ICsgb2xkUG9pbnQudGVtcFgsXG4gICAgICAgICAgeTogb2xkUG9pbnQueSArIG9sZFBvaW50LnRlbXBZLFxuICAgICAgICAgIHRlbXBYOiAwLCB0ZW1wWTogMFxuICAgICAgICB9XG5cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cbiAgICBcbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gICAgICAgICAgICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4LCBpc0Rlc2VsZWN0fSA9IGRhdGEsXG4gICAgICAgICAgICBuZXdTdGF0ZSAgICAgICAgICAgID0gKGlzRGVzZWxlY3QpID8gZGVzZWxlY3RBbGwoIHN0YXRlICkgOiB7IC4uLnN0YXRlIH0sXG4gICAgICAgICAgICB7cG9pbnRzfSAgICAgICAgICAgID0gbmV3U3RhdGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2luZGV4XTtcbiAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50cyB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0FERCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXgsIHBvaW50fT0gZGF0YSxcbiAgICAgICAgICAgIGRlc2VsZWN0ZWQgICAgPSBkZXNlbGVjdEFsbCggc3RhdGUgKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW1xuICAgICAgICAuLi5kZXNlbGVjdGVkLnBvaW50cy5zbGljZSggMCwgaW5kZXggKSxcbiAgICAgICAgbWFrZVBvaW50KHsgLi4ucG9pbnQgfSksXG4gICAgICAgIC4uLmRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKCBpbmRleCApXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBwb2ludHMgPSAobmV3UG9pbnRzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGluaXRQb2ludHMoIG5ld1BvaW50cyApIDogbmV3UG9pbnRzO1xuXG4gICAgICBjb25zdCBwYXRoID0gKHBvaW50cy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlUGF0aCggcG9pbnRzICkgOiB7fTtcblxuICAgICAgcmV0dXJuIHsgcG9pbnRzLCAuLi5wYXRoIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFTEVURSc6IHtcbiAgICAgIGNvbnN0IHtwb2ludHN9ID0gc3RhdGUsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHBvaW50cyk7XG5cbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHBvaW50c1tpXTtcbiAgICAgICAgKCBzZWxlY3RlZC5pbmRleE9mKGkpID09PSAtMSB8fCBpdGVtLmlzTG9ja2VkWCApICYmIG5ld1BvaW50cy5wdXNoKCBpdGVtICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzoge1xuICAgICAgY29uc3Qge3BvaW50c30gPSBzdGF0ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMocG9pbnRzKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gcG9pbnRzW2ldLFxuICAgICAgICAgICAgICB0eXBlID0gYWN0aW9uLmRhdGE7XG4gICAgICAgIC8vIGNvcHkgYWxsIGl0ZW1zIGZyb20gcHJldmlvdXMgcG9pbnRzXG4gICAgICAgIG5ld1BvaW50cy5wdXNoKCB7IC4uLml0ZW0gfSApO1xuICAgICAgICAvLyBpZiBpdGVtIHdhcyBzZWxlY3RlZCAtIHNldCB0aGUgbmV3IGB0eXBlYFxuICAgICAgICAoIHNlbGVjdGVkLmluZGV4T2YoaSkgIT09IC0xICkgJiYgKG5ld1BvaW50c1tpXS50eXBlID0gdHlwZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IGksXG4gICAgICAgICAgICAgIHBvaW50ID0gbmV3UG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgICAgc2liUG9pbnQgPSAoaW5kZXggPT09IG5ld1BvaW50cy5sZW5ndGgtMSlcbiAgICAgICAgICAgICAgICA/IG5ld1BvaW50c1tpbmRleC0xXSA6IG5ld1BvaW50c1tpbmRleCsxXTtcblxuICAgICAgICBjb25zdCBoYW5kbGVJbmRleCA9IChpbmRleCA9PT0gbmV3UG9pbnRzLmxlbmd0aC0xKSA/IDEgOiAyLFxuICAgICAgICAgICAgICBzaWJIYW5kbGVJbmRleCA9IChoYW5kbGVJbmRleCA9PT0gMSkgPyAyIDogMSxcbiAgICAgICAgICAgICAgaGFuZGxlTmFtZSA9IGBoYW5kbGUke2hhbmRsZUluZGV4fWAsXG4gICAgICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSBgaGFuZGxlJHtzaWJIYW5kbGVJbmRleH1gLFxuICAgICAgICAgICAgICBoYW5kbGUgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH0sXG4gICAgICAgICAgICAgIHNpYkhhbmRsZSA9IHsgLi4ucG9pbnRbc2liSGFuZGxlTmFtZV0gfTtcblxuICAgICAgICBwb2ludFtoYW5kbGVOYW1lXSA9IGhhbmRsZTtcbiAgICAgICAgcG9pbnRbc2liSGFuZGxlTmFtZV0gPSBzaWJIYW5kbGU7XG5cbiAgICAgICAgaWYgKCB0eXBlID09PSAnbWlycm9yZWQnIHx8IHR5cGUgPT09ICdhc3ltbWV0cmljJyApIHtcbiAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG4gICAgICAgICAgaWYgKCB0eXBlID09PSAnbWlycm9yZWQnICkgeyBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1czsgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6IHtcbiAgICAgIHJldHVybiB7IC4uLmRlc2VsZWN0QWxsKCBzdGF0ZSApIH07XG4gICAgfVxuXG4gICAgLy8gSEFORExFU1xuICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSAgPSBzdGF0ZSxcbiAgICAgICAgICAgIHtkYXRhfSAgICA9IGFjdGlvbjtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbLi4ucG9pbnRzXSxcbiAgICAgICAgICAgIG5ld1BvaW50ICA9IHsgLi4ubmV3UG9pbnRzW2RhdGEucGFyZW50SW5kZXhdIH07XG5cbiAgICAgIG5ld1BvaW50c1tkYXRhLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcbiAgICAgIGNvbnN0IGhhbmRsZU5hbWUgPSBgaGFuZGxlJHtkYXRhLmluZGV4fWAsXG4gICAgICAgICAgICBuZXdIYW5kbGUgPSB7IC4uLm5ld1BvaW50W2hhbmRsZU5hbWVdIH07XG5cbiAgICAgIG5ld1BvaW50WyBoYW5kbGVOYW1lIF0gPSBuZXdIYW5kbGU7XG4gICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG4gICAgICBuZXdIYW5kbGUuYW5nbGUgID0gZGF0YS5hbmdsZTtcbiAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBkYXRhLnJhZGl1cztcblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgLy8gY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcbiAgICAvLyBjYXNlICdQT0lOVF9UUkFOU0xBVEVfRU5EJzpcbiAgICAvLyBjYXNlICdQT0lOVF9BREQnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX1JFTU9WREUnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzpcbiAgICAvLyBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcbiAgICAvLyAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5jYWxjdWxhdGVQYXRoKCBzdGF0ZS5wb2ludHMucHJlc2VudCApIH1cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50c1JlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gcmVxdWlyZShcIi4uL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxudmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMTcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTczXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZyb207XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBjYWxsICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJylcbiAgLCB0b0xlbmd0aCAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKVxuICAsIGdldEl0ZXJGbiAgICAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcbiAgICB2YXIgTyAgICAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcbiAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcbiAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgbWFwZm4gICA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG4gICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4gKiogbW9kdWxlIGlkID0gMTc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjICAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBpbmRleCwgdmFsdWUpe1xuICBpZihpbmRleCBpbiBvYmplY3QpJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4gKiogbW9kdWxlIGlkID0gMTc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gMTgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE4MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5jb25zdCBmYWxsYmFjayA9ICggdmFsdWUsIGZhbGxiYWNrICkgPT4ge1xuICByZXR1cm4gKCB2YWx1ZSAhPSBudWxsICkgPyB2YWx1ZSA6IGZhbGxiYWNrO1xufVxuXG5cbmNvbnN0IG1ha2VIYW5kbGVQb2ludCA9IChvPXt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6ICAgIGZhbGxiYWNrKCBvLmluZGV4LCAwICksXG4gICAgLy8gY29vcmRpbmF0ZXNcbiAgICBhbmdsZTogICAgZmFsbGJhY2soIG8uYW5nbGUsICBudWxsICksXG4gICAgcmFkaXVzOiAgIGZhbGxiYWNrKCBvLnJhZGl1cywgbnVsbCApLFxuICAgIC8vIHN0YXRlXG4gICAgaXNUb3VjaGVkOiAgZmFsbGJhY2soIG8uaXNUb3VjaGVkLCBmYWxzZSApLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKCBvLmlzU2VsZWN0ZWQsIGZhbHNlICksXG4gIH07XG59XG5cbmNvbnN0IG1ha2VQb3NpdGlvblBvaW50ID0gKG89e30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICAvLyBjb29yZGluYXRlc1xuICAgIHg6ICAgIGZhbGxiYWNrKCBvLngsIDAgKSxcbiAgICB5OiAgICBmYWxsYmFjayggby55LCAwICksXG4gICAgLy8gdGVtcG9yYXJ5IGNvb3JkaW5hdGVzICh3aGVuIHVzZXIgbW92ZXMgdGhlIHBvaW50KSAtXG4gICAgLy8gc2hvdWxkIG5vdCBiZSBpbiBoaXN0b3J5XG4gICAgdGVtcFg6IGZhbGxiYWNrKCBvLnRlbXBYLCAwICksXG4gICAgdGVtcFk6IGZhbGxiYWNrKCBvLnRlbXBZLCAwICksXG4gICAgLy8gc3RhdGVcbiAgICBpc1RvdWNoZWQ6ICBmYWxsYmFjayggby5pc1RvdWNoZWQsIGZhbHNlICksXG4gICAgaXNTZWxlY3RlZDogZmFsbGJhY2soIG8uaXNTZWxlY3RlZCwgZmFsc2UgKSxcbiAgfTtcbn1cblxuY29uc3QgbWFrZVBvaW50ID0gKG8gPSB7fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIHN0YXRlXG4gICAgLy8gaXNPbmVIYW5kbGU6IGZhbGxiYWNrKCBvLmlzT25lSGFuZGxlLCBmYWxzZSApLFxuICAgIGlzTG9ja2VkWDogICBmYWxsYmFjayggby5pc0xvY2tlZFgsIGZhbHNlICksXG4gICAgaXNMb2NrZWRZOiAgIGZhbGxiYWNrKCBvLmlzTG9ja2VkWSwgZmFsc2UgKSxcbiAgICAvLyB0eXBlIG9mIHRoZSBwb2ludDpcbiAgICAvLyAgICdzdHJhaWdodCcgfHwgJ21pcnJvcmVkJyB8fCAnZGlzY29ubmVjdGVkJyB8fCAnYXN5bWV0cmljJ1xuICAgIHR5cGU6ICAgICAgIGZhbGxiYWNrKCBvLnR5cGUsICdzdHJhaWdodCcgKSxcbiAgICAvLyBhZGQgcG9zaXRpb24gYXR0cmlidXRlcyB0byBzZWxmXG4gICAgLi4ubWFrZVBvc2l0aW9uUG9pbnQobyksXG4gICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcbiAgICBoYW5kbGUxOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUxIHx8IHsgaW5kZXg6IDEgfSksXG4gICAgaGFuZGxlMjogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMiB8fCB7IGluZGV4OiAyIH0pXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VQb2ludDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL21ha2UtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgaW5pdFBvaW50IGZyb20gJy4vaW5pdC1wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludHMpID0+IHtcblxuICBjb25zdCBuZXdQb2ludHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXSxcbiAgICAgICAgICBzaWJQb2ludCA9IChpID09PSBwb2ludHMubGVuZ3RoLTEpXG4gICAgICAgICAgICA/IHBvaW50c1tpLTFdIDogcG9pbnRzW2krMV0sXG4gICAgICAgICAgaGFuZGxlSW5kZXggPSAoaSA9PT0gcG9pbnRzLmxlbmd0aC0xKSA/IDEgOiAyO1xuXG4gICAgbmV3UG9pbnRzLnB1c2goIGluaXRQb2ludCggcG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCApICk7XG4gIH1cbiAgcmV0dXJuIG5ld1BvaW50cztcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2luaXQtcG9pbnRzLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpID0+IHtcblxuICBwb2ludCA9IHsgLi4ucG9pbnQgfTtcblxuICBjb25zdCBoYW5kbGVOYW1lICAgICA9IGBoYW5kbGUke2hhbmRsZUluZGV4fWAsXG4gICAgICAgIHNpYkhhbmRsZUluZGV4ID0gKGhhbmRsZUluZGV4ID09PSAxKSA/IDIgOiAxLFxuICAgICAgICBzaWJIYW5kbGVOYW1lICA9IGBoYW5kbGUke3NpYkhhbmRsZUluZGV4fWAsXG4gICAgICAgIGhhbmRsZSAgICAgICAgID0geyAuLi5wb2ludFtoYW5kbGVOYW1lXSB9LFxuICAgICAgICBzaWJIYW5kbGUgICAgICA9IHsgLi4ucG9pbnRbc2liSGFuZGxlTmFtZV0gfSxcbiAgICAgICAgdHlwZSAgICAgICAgICAgPSBwb2ludC50eXBlO1xuXG4gIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblxuICBpZiAoIGhhbmRsZS5hbmdsZSA9PSBudWxsIHx8IGhhbmRsZS5yYWRpdXMgPT0gbnVsbCApIHtcbiAgICBoYW5kbGUucmFkaXVzID0gNTA7XG5cbiAgICBjb25zdCBkeSA9IChzaWJQb2ludC55IC0gcG9pbnQueSkgLyBDLkNVUlZFX1BFUkNFTlQsXG4gICAgICAgICAgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcbiAgICBcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4oIGR5L2R4ICkgKiAoMTgwL01hdGguUEkpIC0gOTA7XG4gICAgaWYgKCBkeCA+IDAgKSB7IGFuZ2xlID0gYW5nbGUgLSAxODAgfTtcblxuICAgIGhhbmRsZS5hbmdsZSA9IGFuZ2xlO1xuICAgIHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzO1xuICAgIHNpYkhhbmRsZS5hbmdsZSAgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG4gIH1cblxuICByZXR1cm4gcG9pbnQ7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzXG4gKiovIiwiXG5pbXBvcnQgY2FsY3VsYXRlU2VnbWVudCBmcm9tICcuL2NhbGN1bGF0ZS1zZWdtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50cykgPT4ge1xuICBsZXQgcGF0aCAgICAgPSAnJyxcbiAgICAgIHNlZ21lbnRzID0gW107XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBvaW50cy5sZW5ndGgtMTsgaW5kZXgrKykge1xuICAgIGNvbnN0IHBvaW50ICAgICA9IHBvaW50c1tpbmRleF0sXG4gICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2luZGV4KzFdO1xuXG4gICAgY29uc3Qgc2VnbWVudCA9IGNhbGN1bGF0ZVNlZ21lbnQoIHBvaW50LCBuZXh0UG9pbnQsIGluZGV4ICk7XG4gICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICBcbiAgICBwYXRoICs9IHNlZ21lbnQuc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHsgcGF0aCwgc2VnbWVudHMgfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBjYWxjdWxhdGVQb2ludCBmcm9tICcuL2NhbGN1bGF0ZS1wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludCwgbmV4dFBvaW50LCBpbmRleCkgPT4ge1xuICAgIGlmICggIW5leHRQb2ludCApIHsgcmV0dXJuIDE7IH1cblxuICAgIGxldCBzdHJpbmcgPSAnJyxcbiAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXG4gICAgY29uc3QgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcbiAgICAgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuICAgICAgICAgIHhOZXh0ID0gbmV4dFBvaW50LnggKyBuZXh0UG9pbnQudGVtcFgsXG4gICAgICAgICAgeU5leHQgPSBuZXh0UG9pbnQueSArIG5leHRQb2ludC50ZW1wWTtcblxuICAgIGNvbnN0IHBhcnQxID0gYE0ke3h9LCAke3kvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICAgIGlmICggaW5kZXggPT09IDAgKSB7IHN0cmluZyArPSBwYXJ0MSB9XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MTtcblxuICAgIGNvbnN0IHBhcnQyID0gY2FsY3VsYXRlUG9pbnQoIHBvaW50LCAyICk7XG4gICAgc3RyaW5nICs9IHBhcnQyO1xuICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDI7XG5cbiAgICBjb25zdCBwYXJ0MyA9IGNhbGN1bGF0ZVBvaW50KCBuZXh0UG9pbnQsIDEgKTtcbiAgICBzdHJpbmcgKz0gcGFydDM7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MztcblxuICAgIGNvbnN0IHBhcnQ0ID0gYCR7eE5leHR9LCAke3lOZXh0L0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgICBzdHJpbmcgKz0gcGFydDQ7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0NDtcblxuICAgIHJldHVybiB7IHN0cmluZywgc2VnbWVudFN0cmluZywgaW5kZXggfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1zZWdtZW50LmJhYmVsLmpzXG4gKiovIiwiXG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4vYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50LCBoYW5kbGVJbmRleCA9IDEpID0+IHtcbiAgICBjb25zdCB4ICAgICAgPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG4gICAgICAgICAgeSAgICAgID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuICAgICAgICAgIGhhbmRsZSA9IHBvaW50W2BoYW5kbGUke2hhbmRsZUluZGV4fWBdO1xuXG4gIGNvbnN0IENIQVIgPSAoIGhhbmRsZUluZGV4ID09PSAyICkgPyAnQycgOiAnJztcbiAgaWYgKCBwb2ludC50eXBlICE9PSAnc3RyYWlnaHQnICkge1xuICAgIGNvbnN0IGhhbmRsZUNvb3JkcyA9IGFuZ2xlVG9Qb2ludCggaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzICk7XG4gICAgcmV0dXJuIGAke0NIQVJ9JHt4ICsgaGFuZGxlQ29vcmRzLngvQy5DVVJWRV9QRVJDRU5UfSwgJHsoeSArIGhhbmRsZUNvb3Jkcy55KS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke0NIQVJ9JHt4fSwgJHt5L0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvY2FsY3VsYXRlLXBvaW50LmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IGNhbGN1bGF0ZVBhdGggZnJvbSAnLi4vaGVscGVycy9jYWxjdWxhdGUtcGF0aCc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIGlzQ29kZTogZmFsc2Vcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQ09ERV9UQVAnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNDb2RlOiAhc3RhdGUuaXNDb2RlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRDb250cm9scztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBpc1Nob3c6IGZhbHNlLFxuICB0eXBlOiAgICdzdHJhaWdodCdcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gcHJvYmFibHkgcmVkdW5kYW50XG4gICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9O1xuICAgIC8vIH1cbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB0eXBlID0gYWN0aW9uLmRhdGEudHlwZTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZSB9O1xuICAgIH1cbiAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB0eXBlOiBhY3Rpb24uZGF0YSB9OyBcbiAgICB9XG4gICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogZmFsc2UgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3BvaW50LWNvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL21haW4ucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL21haW4ucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSxodG1se21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kOiNmZmY1ZTR9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSByZWN5Y2xlU3RhdGU7XG4vLyByZWR1eC1yZWN5Y2xlIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5mdW5jdGlvbiByZWN5Y2xlU3RhdGUocmVkdWNlcikge1xuICB2YXIgYWN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuICB2YXIgaW5pdGlhbFN0YXRlID0gYXJndW1lbnRzWzJdO1xuXG4gIHZhciBnZXRJbml0aWFsU3RhdGUgPSB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpbml0aWFsU3RhdGU7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMCkge1xuICAgICAgcmV0dXJuIHJlZHVjZXIoZ2V0SW5pdGlhbFN0YXRlKHN0YXRlLCBhY3Rpb24pLCB7IHR5cGU6ICdAQHJlZHV4LXJlY3ljbGUvSU5JVCcgfSk7XG4gICAgfVxuICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICB9O1xufVxuLy8gL3JlZHV4LXJlY3ljbGVcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC1yZWN5Y2xlL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gMTkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAxOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXG4gIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGhhc2ggY29kZS5cbiAgQHByaXZhdGVcbiAgQHJldHVybiB7U3RyaW5nfSBIYXNoIGNvZGUuXG4qL1xuXG5leHBvcnQgZGVmYXVsdCAoc3RyKSA9PiB7XG4gIHZhciBoYXNoID0gMCwgaSwgY2hyLCBsZW47XG4gIGlmIChzdHIubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcbiAgZm9yIChpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY2hyICAgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hyO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cbiAgcmV0dXJuIE1hdGguYWJzKCBoYXNoICk7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9oYXNoLmJhYmVsLmpzXG4gKiovIiwiLypcbiAgRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBzZWNvbmQgYXJndW1lbnQgaWYgdGhlIGZpcnN0IG9uZSBpc24ndCBzZXQuXG4gIEBwcml2YXRlXG4gIEBwYXJhbSB7QW55fSBQcm9wZXJ0eSB0byBzZXQuXG4gIEBwYXJhbSB7QW55fSBQcm9wZXJ0eSB0byByZXR1cm4gYXMgZmFsbGJhY2suXG4gIEByZXR1cm5zIHtBbnl9IElmIHNldCAtIHRoZSBmaXJzdCBwcm9wZXJ0eSwgaWYgbm90IC0gdGhlIHNlY29uZC5cbiovXG5leHBvcnQgZGVmYXVsdCAocHJvcCwgZmFsbGJhY2spID0+IHtcbiAgcmV0dXJuICggcHJvcCAhPSBudWxsICkgPyBwcm9wIDogZmFsbGJhY2s7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9mYWxsYmFjay10by5iYWJlbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=