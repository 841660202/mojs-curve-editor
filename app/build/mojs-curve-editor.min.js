!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+I+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===M&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===M&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=P[t];if(!n)return p;var r=function(e){return n.hot.active?P[e]?(P[e].parents.indexOf(t)<0&&P[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void b.push(t):M},addStatusHandler:function(t){b.push(t)},removeStatusHandler:function(t){var e=b.indexOf(t);e>=0&&b.splice(e,1)},data:x[t]};return e}function i(t){M=t;for(var e=0;e<b.length;e++)b[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);A={},E={},j={};for(var r=0;r<n.c.length;r++)E[n.c[r]]=!0;_=n.h,i("prepare"),g=e,y={};var o=0;c(o),"prepare"===M&&0===C&&0===T&&l()})}function u(t,e){if(E[t]&&A[t]){A[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y[n]=e[n]);0===--T&&0===C&&l()}}function c(t){E[t]?(A[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=P[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=P[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=y[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];P[f]&&P[f].hot._selfAccepted&&h.push({module:f,errorHandler:P[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=P[f];if(m){for(var b={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(b)}x[f]=b,m.hot.active=!1,delete P[f];for(var C=0;C<m.children.length;C++){var A=P[m.children[C]];if(A){var E=A.parents.indexOf(f);E>=0&&A.parents.splice(E,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=P[f],O=s[f],C=0;C<O.length;C++){var S=O[C],E=m.children.indexOf(S);E>=0&&m.children.splice(E,1)}i("apply"),I=_;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=P[f],O=s[f],N=[],v=0;v<O.length;v++){var S=O[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(k){D||(D=k)}}}for(var v=0;v<h.length;v++){var L=h[v],f=L.module;w=[f];try{p(f)}catch(k){if("function"==typeof L.errorHandler)try{L.errorHandler(k)}catch(k){D||(D=k)}else D||(D=k)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(P[e])return P[e].exports;var n=P[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,y,_,m=!0,I="13c3afd561d1cd32c030",x={},w=[],b=[],M="idle",T=0,C=0,j={},A={},E={},P={};return p.m=t,p.c=P,p.p="build/",p.h=function(){return I},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(2),i=n(5),a=r(i),s=n(146),u=r(s),c=n(177);n(178),document.addEventListener("DOMContentLoaded",function(){(0,o.render)((0,o.h)(c.Provider,{store:u["default"]},(0,o.h)(a["default"],null)),document.body)})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var y=i[g],_=!(c(y)||a(y)||y instanceof e);_&&!s(y)&&(y=String(y)),_&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=_)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function y(t,e){return t.nodeName(j(t),e||$)}function _(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function I(t){var e=t.parentNode;e&&e.removeChild(t)}function x(t,e,n,r,o){if(_(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=V(e.substring(2)),n?l[e]||t.addEventListener(e,b):l[e]&&t.removeEventListener(e,b),l[e]=n}else if("type"!==e&&!o&&e in t)w(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",V(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",V(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function w(t,e,n){try{t[e]=n}catch(r){}}function b(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function M(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||V(t.nodeName)===V(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function A(t){P(t);var e=V(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function E(t,e){var n=V(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return _(r),r.normalizedNodeName=n,r}function P(t){I(t),1===m(t)&&(_(t,M(t)),t._component=t._componentConstructor=null)}function O(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||O(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=y(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;A(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return X(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===V(l),i&&(st=!0),t){if(!C(t,l)){for(c=E(l,st);t.firstChild;)c.appendChild(t.firstChild);L(t)}}else c=E(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var y=0;y<h;y++){var _=c[y],m=g?(i=_._component)?i.__key:(i=_[tt])?i.key:null:null;m||0===m?(p++,f[m]=_):l[v++]=_}if(g)for(var y=0;y<g;y++){if(a=e[y],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[y]&&t.insertBefore(s,c[y]||null)}if(p)for(var y in f)f[y]&&(l[d=v++]=f[y]);d<v&&k(l)}function k(t,e){for(var n=t.length;n--;){var r=t[n];r&&L(r,e)}}function L(t,e){var n=t._component;n?Y(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||A(t),t.childNodes&&t.childNodes.length&&k(t.childNodes,e))}function R(t,e){var n=t[tt]||M(t);for(var r in n)e&&r in e||x(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||x(t,o,e[o],n[o],st)}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function U(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function B(t){t._dirty||(t._dirty=!0,h(t))}function F(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?B(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,_=v&&v.nextSibling,m=v&&v.parentNode,I=v&&v._component,x=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=y(s,l);var w,b,M=s&&s.nodeName;if(a(M)&&M.prototype.render){var T=x,C=j(s);T&&T.constructor===M?F(T,C,1,l):(w=T,T=U(M,C,l),T._parentComponent=t,t._component=T,F(T,C,0,l),G(T,1)),b=T.base}else{var A=v;w=x,w&&(A=t._component=null),(v||1===e)&&(A&&(A._component=null),b=S(A,s,l,o||!h))}if(v&&b!==v&&(m&&b!==m&&m.insertBefore(b,_||null),w||I!==t||x||!v.parentNode||(v._component=null,L(v))),w&&Y(w,!0),t.base=b,b){for(var E=t,P=t;P=P._parentComponent;)E=P;b._component=E,b._componentConstructor=E.constructor}}!h||o?(it.unshift(t),at||O()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function X(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(Y(o,!0),t=i=null),o=U(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),F(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,L(i))):(F(o,u,3,n,r),t=o.base),t}function Y(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?Y(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(I(n),z(t)),k(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},V=function(t){return W[t]||(W[t]=t.toLowerCase())},Q="undefined"!=typeof Promise&&Promise.resolve(),J=Q?function(t){Q.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),B(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(3).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(4).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(3).setImmediate,n(3).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(92),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),x=n(95),w=n(96),b=r(w),M=n(97),T=r(M),C=n(130),j=r(C),A=n(143),E=r(A);n(144);var P=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(129),e=this.context.store,r=e.getState(),o=this._getStyle(r);return(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(E["default"],null),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,b["default"])(o,-1),i=(0,b["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-left-panel"),n=(0,I["default"])(new _["default"].Manager(e));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}),this._addKeyUp(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp.bind(this))}},{key:"_onKeyUp",value:function(t){var e=this.context.store;if(t.altKey)switch(t.which){case 90:return e.dispatch(x.ActionCreators.undo());case 88:return e.dispatch(x.ActionCreators.redo());case 68:return e.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=P},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){n(8),t.exports=n(19).Object.getPrototypeOf},function(t,e,n){var r=n(9),o=n(11);n(17)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(10);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(12),o=n(9),i=n(13)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(14)("keys"),o=n(16);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(15),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(18),o=n(19),i=n(28);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(15),o=n(19),i=n(20),a=n(22),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,_=d?o:o[e]||(o[e]={}),m=_[s],I=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&I&&void 0!==I[c],l&&c in _||(f=l?I[c]:n[c],_[c]=d&&"function"!=typeof I[c]?n[c]:g&&l?i(f,r):y&&I[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(23),o=n(31);t.exports=n(27)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(24),o=n(26),i=n(30),a=Object.defineProperty;e.f=n(27)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(25);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(27)&&!n(28)(function(){return 7!=Object.defineProperty(n(29)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(25),o=n(15).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(25);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(34),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(35),__esModule:!0}},function(t,e,n){n(36);var r=n(19).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(18);r(r.S+r.F*!n(27),"Object",{defineProperty:n(23).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(38),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(39),i=r(o),a=n(68),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(40),__esModule:!0}},function(t,e,n){n(41),n(63),t.exports=n(67).f("iterator")},function(t,e,n){"use strict";var r=n(42)(!0);n(44)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(43),o=n(10);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(45),o=n(18),i=n(46),a=n(22),s=n(12),u=n(47),c=n(48),l=n(61),f=n(11),p=n(62)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,_,m,I,x){c(n,e,_);var w,b,M,T=function(t){if(!d&&t in E)return E[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,A=!1,E=t.prototype,P=E[p]||E[h]||m&&E[m],O=P||T(m),S=m?j?T("entries"):O:void 0,D="Array"==e?E.entries||P:P;if(D&&(M=f(D.call(new t)),M!==Object.prototype&&(l(M,C,!0),r||s(M,p)||a(M,p,y))),j&&P&&P.name!==g&&(A=!0,O=function(){return P.call(this)}),r&&!x||!d&&!A&&E[p]||a(E,p,O),u[e]=O,u[C]=y,m)if(w={values:j?O:T(g),keys:I?O:T(v),entries:S},x)for(b in w)b in E||i(E,b,w[b]);else o(o.P+o.F*(d||A),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(22)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(49),o=n(31),i=n(61),a={};n(22)(a,n(62)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(24),o=n(50),i=n(59),a=n(13)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(29)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(60).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(23),o=n(24),i=n(51);t.exports=n(27)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(52),o=n(59);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(12),o=n(53),i=n(56)(!1),a=n(13)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(54),o=n(10);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(55);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(53),o=n(57),i=n(58);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(43),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(43),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(15).document&&document.documentElement},function(t,e,n){var r=n(23).f,o=n(12),i=n(62)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(14)("wks"),o=n(16),i=n(15).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(64);for(var r=n(15),o=n(22),i=n(47),a=n(62)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(65),o=n(66),i=n(47),a=n(53);t.exports=n(44)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(62)},function(t,e,n){t.exports={"default":n(69),__esModule:!0}},function(t,e,n){n(70),n(81),n(82),n(83),t.exports=n(19).Symbol},function(t,e,n){"use strict";var r=n(15),o=n(12),i=n(27),a=n(18),s=n(46),u=n(71).KEY,c=n(28),l=n(14),f=n(61),p=n(16),d=n(62),h=n(67),v=n(72),g=n(73),y=n(74),_=n(77),m=n(24),I=n(53),x=n(30),w=n(31),b=n(49),M=n(78),T=n(80),C=n(23),j=n(51),A=T.f,E=C.f,P=M.f,O=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",k=d("_hidden"),L=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),F=Object[N],G="function"==typeof O,X=r.QObject,Y=!X||!X[N]||!X[N].findChild,H=i&&c(function(){return 7!=b(E({},"a",{
get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(F,e);r&&delete F[e],E(t,e,n),r&&t!==F&&E(F,e,r)}:E,Z=function(t){var e=U[t]=b(O[N]);return e._k=t,e},W=G&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},V=function(t,e,n){return t===F&&V(B,e,n),m(t),e=x(e,!0),m(n),o(U,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=b(n,{enumerable:w(0,!1)})):(o(t,k)||E(t,k,w(1,{})),t[k][e]=!0),H(t,e,n)):E(t,e,n)},Q=function(t,e){m(t);for(var n,r=y(e=I(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?b(t):Q(b(t),e)},q=function(t){var e=R.call(this,t=x(t,!0));return!(this===F&&o(U,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,k)&&this[k][t])||e)},K=function(t,e){if(t=I(t),e=x(e,!0),t!==F||!o(U,e)||o(B,e)){var n=A(t,e);return!n||!o(U,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=P(I(t)),r=[],i=0;n.length>i;)o(U,e=n[i++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===F,r=P(n?B:I(t)),i=[],a=0;r.length>a;)!o(U,e=r[a++])||n&&!o(F,e)||i.push(U[e]);return i};G||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,w(1,n))};return i&&Y&&H(F,t,{configurable:!0,set:e}),Z(t)},s(O[N],"toString",function(){return this._k}),T.f=K,C.f=V,n(79).f=M.f=$,n(76).f=q,n(75).f=tt,i&&!n(45)&&s(F,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=O(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),O[N][L]||n(22)(O[N],L,O[N].valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(16)("meta"),o=n(25),i=n(12),a=n(23).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(28)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(15),o=n(19),i=n(45),a=n(67),s=n(23).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(51),o=n(53);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(51),o=n(75),i=n(76);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(55);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(53),o=n(79).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(52),o=n(59).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(76),o=n(31),i=n(53),a=n(30),s=n(12),u=n(26),c=Object.getOwnPropertyDescriptor;e.f=n(27)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(72)("asyncIterator")},function(t,e,n){n(72)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(85),i=r(o),a=n(89),s=r(a),u=n(38),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(86),__esModule:!0}},function(t,e,n){n(87),t.exports=n(19).Object.setPrototypeOf},function(t,e,n){var r=n(18);r(r.S,"Object",{setPrototypeOf:n(88).set})},function(t,e,n){var r=n(25),o=n(24),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(20)(Function.call,n(80).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(90),__esModule:!0}},function(t,e,n){n(91);var r=n(19).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(18);r(r.S,"Object",{create:n(49)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==_t?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(I(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(I(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return Mt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function A(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:At?H:Ct?W:F)(t,E)}function E(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(Lt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=xt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),O(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=It(c.x)>It(c.y)?c.x:c.y,e.scale=a?B(a.pointers,r):1,e.rotation=a?U(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;_(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function O(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=k(u,c,l);r=f.x,o=f.y,n=It(f.x)>It(f.y)?f.x:f.y,i=L(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:xt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?zt:It(t)>=It(e)?t<0?Ut:Bt:e<0?Ft:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function U(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function B(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function F(){this.evEl=Qt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function X(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function Y(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Lt|Rt)&&(n=b(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Nt|kt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return _(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Lt|Rt)&&delete r[a[o].identifier],o++;return s.length?[b(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,Q.call(this,e)):t&(Lt|Rt)&&Q.call(this,e)}function Q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&Ie?"end":t&me?"move":t&_e?"start":""}function nt(t){return t==Gt?"down":t==Ft?"up":t==Ut?"left":t==Bt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=A(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=M(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],yt=i.createElement("div"),_t="function",mt=Math.round,It=Math.abs,xt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),bt=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Mt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=M(o,"PointerEvent")!==s,At=Ct&&Tt.test(navigator.userAgent),Et="touch",Pt="pen",Ot="mouse",St="kinect",Dt=25,Nt=1,kt=2,Lt=4,Rt=8,zt=1,Ut=2,Bt=4,Ft=8,Gt=16,Xt=Ut|Bt,Yt=Ft|Gt,Ht=Xt|Yt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Nt,mousemove:kt,mouseup:Lt},Qt="mousedown",Jt="mousemove mouseup";p(F,j,{handler:function(t){var e=Vt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ot,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:kt,pointerup:Lt,pointercancel:Rt,pointerout:Rt},Kt={2:Et,3:Pt,4:Ot,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==Et,s=x(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Lt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(X,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(Lt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==Et,o=n.pointerType==Ot;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=M(yt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Xt||a&&n&Yt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ye=1,_e=2,me=4,Ie=8,xe=Ie,we=16,be=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),x(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<Ie&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=Ie&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|ye)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(xe|we|be)&&(this.state=ye),this.state=this.process(e),void(this.state&(_e|me|Ie|we)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(_e|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Lt?e|Ie:e&_e?e|me:_e:be}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Xt&&e.push(ve),t&Yt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Xt?(o=0===i?zt:i<0?Ut:Bt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Ft:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&_e||!(this.state&_e)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&_e)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=xe,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return xe;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===xe&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=xt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&_e)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Xt|Yt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Xt|Yt)?e=t.overallVelocity:n&Xt?e=t.overallVelocityX:n&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&It(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=xe,this.tryEmit()},e.interval,this),_e):xe}return be},failTimeout:function(){return this._timer=u(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Xt}],[it,{direction:Xt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Me=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&xe)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(_e|me|Ie)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(I(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(I(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:kt,INPUT_END:Lt,INPUT_CANCEL:Rt,STATE_POSSIBLE:ye,STATE_BEGAN:_e,STATE_CHANGED:me,STATE_ENDED:Ie,STATE_RECOGNIZED:xe,STATE_CANCELLED:we,STATE_FAILED:be,DIRECTION_NONE:zt,DIRECTION_LEFT:Ut,DIRECTION_RIGHT:Bt,DIRECTION_UP:Ft,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Xt,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:F,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:X,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:y,each:l,merge:bt,extend:wt,assign:vt,inherit:p,bindFn:d,prefixed:M});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(w){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(w){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(w)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return x({},t,{history:t})}function d(t,e){return p(x({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||b.UNDO,redoType:e.redoType||b.REDO,jumpToPastType:e.jumpToPastType||b.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||b.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(x({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(x({},e,{present:g}));var y=e&&void 0!==e.present?e:n.history,_=s(y,g,n.limit);return r("after insert",{history:_,free:n.limit-a(_)}),i(),p(x({},e,_))}}}function y(){return function(t,e,n){return e!==n}}function _(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(t)}function I(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=y,e.includeAction=_,e.ifAction=m,e.excludeAction=I;var w=void 0,b=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:b.UNDO}},redo:function(){return{type:b.REDO}},jumpToFuture:function(t){return{type:b.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:b.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(92),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(98),a=r(i),s=n(121),u=r(s),c=n(129),l=function(t){var e=t.state;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e}),(0,o.h)(u["default"],{type:"top",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(99),g=r(v),y=n(100),_=r(y),m=n(96),I=r(m),x=n(92),w=r(x),b=n(93),M=r(b),T=n(94),C=r(T);n(118);var j=n(120),A=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=this._getStyle(t),n=this._renderPoints(t),r=this._getPath(t),o=r.path,i=r.segments;return(0,h.h)("div",{className:j.curve},(0,h.h)("div",{className:j.curve__background,style:e.background}),(0,h.h)("div",{className:j["curve__svg-wrapper"],style:e.transform},n,(0,h.h)("svg",{height:w["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none",id:"js-svg","class":j.curve__svg},(0,h.h)("path",{d:o,stroke:"#000000","stroke-opacity":"0.35","stroke-width":"4","vector-effect":"non-scaling-stroke",transform:"translate(.75,.75)",fill:"none"}),(0,h.h)("g",{id:"js-segments"},i))))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,w["default"].CURVE_SIZE-n<w["default"].CURVE_SIZE&&(n=0),n=(0,I["default"])(n,-1);var o="transform: scaleX("+(w["default"].CURVE_SIZE+Math.max(r,0))/w["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(_["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}},{key:"_getPath",value:function(t){for(var e=t.points.present,n="",r=[],o=0;o<e.length-1;o++){var i=e[o],a=e[o+1],s=this._getSegment(i,a,o);n+=s.string,r.push(this._renderSegment(o,s.segmentString))}return{path:n,segments:r}}},{key:"_renderSegment",value:function(t,e){return(0,h.h)("path",{d:e,"data-index":t,stroke:"white",fill:"none","stroke-width":"","vector-effect":"non-scaling-stroke","class":j["curve__svg-segment"]})}},{key:"_getSegment",value:function(t,e,n){if(!e)return 1;var r="",o="",i=t.x+t.tempX,a=t.y+t.tempY,s=e.x+e.tempX,u=e.y+e.tempY,c="M"+i+", "+a/w["default"].CURVE_PERCENT+" ";0===n&&(r+=c),o+=c;var l=this._getPoint(t,2);r+=l,o+=l;var f=this._getPoint(e,1);r+=f,o+=f;var p=s+", "+u/w["default"].CURVE_PERCENT+" ";return r+=p,o+=p,{string:r,segmentString:o}}},{key:"_getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=t.x+t.tempX,r=t.y+t.tempY,o=t["handle"+e],i=2===e?"C":"";if("straight"!==t.type){var a=(0,g["default"])(o.angle,o.radius);return""+i+(n+a.x/w["default"].CURVE_PERCENT)+", "+(r+a.y)/w["default"].CURVE_PERCENT+" "}return""+i+n+", "+r/w["default"].CURVE_PERCENT+" "}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-segments"),n=(0,C["default"])(new M["default"].Manager(e));n.add(new M["default"].Tap),n.on("tap",function(e){var n=e.srcEvent,r=n.target;if("path"===r.tagName.toLowerCase()){var o=n.offsetX,i=n.offsetY*w["default"].CURVE_PERCENT,a=parseInt(r.getAttribute("data-index"))+1;t.dispatch({type:"POINT_ADD",data:{x:o,y:i,index:a},isRecord:!0}),t.dispatch({type:"POINT_SELECT",data:{index:a,type:"straight"}}),e.stopPropagation()}});var r=this.base.querySelector("#js-svg"),o=(0,C["default"])(new M["default"].Manager(r));o.add(new M["default"].Tap),o.on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})})}}]),e}(h.Component);e["default"]=A},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(101),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),x=n(113),w=r(x),b=n(114),M=r(b),T=n(96),C=(r(T),n(92)),j=r(C);n(115);var A=n(117),E=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?A["is-selected"]:"",o="straight"===e.type?A["is-hide-handles"]:"",i=this._getLittleHandles(n);return(0,h.h)("div",{className:A.point+" "+r+" "+o,style:this._getStyle(n),"data-component":"point"},(0,h.h)("div",{className:A.point__touch,id:"js-point-touch"
}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,M["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(t){var e=this.props,n=e.index,r=e.point,o=e.pointsCount,i=[];return 0!==n&&i.push(this._createHandle(1,r)),n!==o-1&&i.push(this._createHandle(2,r)),i}},{key:"_createHandle",value:function(t,e){return(0,h.h)(g["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,w["default"])(o.x+i,5,1.5)-o.x},r=function(e){var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>j["default"].CURVE_SIZE+n.bottom&&(a=j["default"].CURVE_SIZE+n.bottom),(0,w["default"])(a,5*j["default"].CURVE_PERCENT,2*j["default"].CURVE_PERCENT)-o.y},o=this.base.querySelector("#js-point-touch"),i=(0,I["default"])(new _["default"].Manager(o));i.add(new _["default"].Pan({threshold:0})),i.add(new _["default"].Tap),i.on("pan",function(o){var i=t.props,a=(i.point,i.index);e.dispatch({type:"POINT_TRANSLATE",data:{x:n(o),y:r(o),index:a}}),o.stopPropagation()}).on("panend",function(n){var r=t.props,o=(r.point,r.index);e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),n.stopPropagation()}).on("tap",function(n){var r=t.props,o=r.point,i=r.index;e.dispatch({type:"POINT_SELECT",data:{index:i,isDeselect:!n.srcEvent.shiftKey,type:o.type}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(102),i=r(o),a=n(6),s=r(a),u=n(32),c=r(u),l=n(33),f=r(l),p=n(37),d=r(p),h=n(84),v=r(h),g=n(2),y=n(99),_=r(y),m=n(107),I=r(m),x=n(93),w=r(x),b=n(94),M=r(b);n(108);var T=n(112),C=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:T["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":T["little-handle__point"],style:this._getPointStyle()}),(0,g.h)("div",{"class":T["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,M["default"])(new w["default"].Manager(this.base)),r=this.props.handle;n.add(new w["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=(0,_["default"])(r.angle,r.radius),c=u.x+n.deltaX,l=u.y+n.deltaY,f=(0,I["default"])(c,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},f)}),"mirrored"===t.props.type){var p=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:p,parentIndex:s,radius:f.radius,angle:f.angle-180}})}if("asymmetric"===t.props.type){var d=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:d,parentIndex:s,radius:r.radius,angle:f.angle-180}})}n.stopPropagation()}).on("panend",function(t){t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props.handle,e=(0,_["default"])(t.angle,t.radius),n="transform: translate("+e.x+"px, "+e.y+"px) rotate("+t.angle+"deg)";return""+mojs.h.prefix.css+n+"; "+n}},{key:"_getLineStyle",value:function(){var t=this.props.handle,e="transform: rotate("+t.angle+"deg) scaleY("+t.radius+")";return""+mojs.h.prefix.css+e+"; "+e}}]),e}(g.Component);e["default"]=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(103),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(104),__esModule:!0}},function(t,e,n){n(105),t.exports=n(19).Object.assign},function(t,e,n){var r=n(18);r(r.S+r.F,"Object",{assign:n(106)})},function(t,e,n){"use strict";var r=n(51),o=n(75),i=n(76),a=n(9),s=n(54),u=Object.assign;t.exports=!u||n(28)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(109);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(109,function(){var e=n(109);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._little-handle_iw2ru_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_iw2ru_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__point_iw2ru_1:after{content:'';position:absolute;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_iw2ru_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=_++;n=y||(y=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=I(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var I=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={"little-handle":"_little-handle_iw2ru_3","little-handle__point":"_little-handle__point_iw2ru_1","little-handle__line":"_little-handle__line_iw2ru_1"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(116);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(116,function(){var e=n(116);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._point_17pb1_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5);border:2px solid #fff}._point_17pb1_5 [data-component=little-handle]{display:none}._point__touch_17pb1_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_17pb1_5._is-selected_17pb1_31,._point_17pb1_5:hover{border-color:#ff512f}._point_17pb1_5._is-selected_17pb1_31 [data-component=little-handle]{display:block}._point_17pb1_5._is-hide-handles_17pb1_42 [data-component=little-handle]{display:none}",""])},function(t,e){t.exports={point:"_point_17pb1_5",point__touch:"_point__touch_17pb1_1","is-selected":"_is-selected_17pb1_31","is-hide-handles":"_is-hide-handles_17pb1_42"}},function(t,e,n){var r=n(119);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(119,function(){var e=n(119);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._curve_gvcrn_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_gvcrn_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_gvcrn_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_gvcrn_1{display:block;overflow:visible;width:100%}._curve__svg-segment_gvcrn_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_gvcrn_1:hover{stroke:#ff512f}",""])},function(t,e){t.exports={curve:"_curve_gvcrn_5",curve__background:"_curve__background_gvcrn_1","curve__svg-wrapper":"_curve__svg-wrapper_gvcrn_1",curve__svg:"_curve__svg_gvcrn_1","curve__svg-segment":"_curve__svg-segment_gvcrn_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(122),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),x=n(126);n(127);var w=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+x["resize-handle"],n=""+x["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,I["default"])(new _["default"].Manager(this.base));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(123);n(124);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(125);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(125,function(){var e=n(125);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(128);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(128,function(){var e=n(128);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1f8r5_4","curve-editor__left":"_curve-editor__left_1f8r5_1","curve-editor__right":"_curve-editor__right_1f8r5_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1f8r5_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1f8r5_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1f8r5_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(122),a=r(i),s=n(131),u=r(s),c=n(135),l=r(c),f=n(139),p=r(f),d=n(129),h=function(t){var e=t.state;return(0,o.h)("div",{className:d["curve-editor__left"],id:"js-left-panel"},(0,o.h)(u["default"],{shape:"code"}),(0,o.h)(l["default"],null),(0,o.h)(p["default"],{state:e,className:d["curve-editor__anchor-buttons"]}),(0,o.h)("a",{className:d["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(93),v=r(h),g=n(2),y=n(122),_=r(y);n(132);var m=n(134),I=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.isCheck?m["is-checked"]:"";return(0,g.h)("div",{className:m["icon-button"]+" "+t,"data-component":"icon-button"},(0,g.h)(_["default"],{shape:this.props.shape}))}},{key:"componentDidMount",value:function(){var t=this;if("function"==typeof this.props.onTap){new v["default"](this.base).on("tap",function(e){t.props.onTap(e,t.props)})}}}]),e}(g.Component);e["default"]=I},function(t,e,n){var r=n(133);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(133,function(){var e=n(133);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._icon-button_6ysdi_4{position:relative;width:24px;height:24px;display:block;background:#3a0839;border-radius:3px;box-shadow:1px 1px 0 rgba(0,0,0,.15)}._icon-button_6ysdi_4 [data-component=icon]{position:absolute;left:50%;top:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._icon-button_6ysdi_4:hover{box-shadow:none}._icon-button_6ysdi_4:hover [data-component=icon]{-webkit-transform:translate(-52%,-52%);transform:translate(-52%,-52%)}._icon-button_6ysdi_4._is-checked_6ysdi_31,._icon-button_6ysdi_4:active{border-radius:3px;box-shadow:inset -1px -1px 0 hsla(0,0%,100%,.25),inset 1px 1px 1px rgba(0,0,0,.4)}._icon-button_6ysdi_4._is-checked_6ysdi_31 [data-component=icon],._icon-button_6ysdi_4:active [data-component=icon]{-webkit-transform:translate(-54%,-54%) scale(.95);transform:translate(-54%,-54%) scale(.95)}",""])},function(t,e){t.exports={"icon-button":"_icon-button_6ysdi_4","is-checked":"_is-checked_6ysdi_31"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(136);n(137),e["default"]=function(){return(0,r.h)("div",{className:o["icon-divider"],"data-component":"icon-divider"})}},function(t,e){t.exports={"icon-divider":"_icon-divider_ftask_3"}},function(t,e,n){var r=n(138);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(138,function(){var e=n(138);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._icon-divider_ftask_3{position:relative;margin:0 auto;width:16px;height:1px;display:block;background:hsla(0,0%,100%,.3);box-shadow:0 1px 0 rgba(0,0,0,.3)}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(131),g=r(v);n(140);var y=n(142),_=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.state,n=e.pointControls.present,r=n.isShow?y["is-show"]:"",o=t.className+" "+y["point-controls"]+" "+r,i=this._addButtons(n);return(0,h.h)("div",{className:o}," ",i," ")}},{key:"_onButtonTap",value:function(t){var e=this;return function(n){var r=e.context.store;r.dispatch({type:"POINT_CHANGE_TYPE",data:t,isRecord:!0})}}},{key:"_addButtons",value:function(t){for(var e=["straight","disconnected","mirrored","asymmetric"],n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)(g["default"],{shape:"point-"+o,isCheck:t.type===o,onTap:this._onButtonTap(o)}))}return n}}]),e}(h.Component);e["default"]=_},function(t,e,n){var r=n(141);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(141,function(){var e=n(141);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._point-controls_1j5f4_4{display:none}._point-controls_1j5f4_4._is-show_1j5f4_7{display:block}",""])},function(t,e){t.exports={"point-controls":"_point-controls_1j5f4_4","is-show":"_is-show_1j5f4_7"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'
}})};e["default"]=o},function(t,e,n){var r=n(145);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(145,function(){var e=n(145);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"._curve-editor_1f8r5_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:rgba(58,8,58,.85);z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1f8r5_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px;cursor:move}._curve-editor__left_1f8r5_1 [data-component=icon-divider]{margin:10px auto}._curve-editor__right_1f8r5_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1f8r5_1{position:absolute}._curve-editor__resize-handle_1f8r5_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1f8r5_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1f8r5_1[data-type=bottom],._curve-editor__resize-handle_1f8r5_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1f8r5_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1f8r5_1{margin-top:10px}._curve-editor__anchor-buttons_1f8r5_1 [data-component=icon-button]{margin-bottom:5px}._curve-editor__mojs-logo_1f8r5_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1f8r5_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(147),i=n(161),a=r(i),s=(0,o.createStore)(a["default"]);e["default"]=s},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(148),a=r(i),s=n(156),u=r(s),c=n(158),l=r(c),f=n(159),p=r(f),d=n(160),h=r(d),v=n(157),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(4))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){y===g&&(y=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,t)}finally{_=!1}for(var e=g=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],y=g,_=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(149),a=r(i),s=n(154),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(150),i=n(152),a=n(153),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(151),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(155)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var y=o(d,n);throw new Error(y)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(148),c=n(149),l=r(c),f=n(157),p=r(f)}).call(e,n(4))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(160),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(102),i=r(o),a=n(147),s=n(95),u=r(s),c=n(162),l=r(c),f=n(164),p=r(f),d=n(176),h=r(d),v={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},g=(0,a.combineReducers)({pointControls:(0,u["default"])(h["default"],(0,i["default"])({},v)),resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},v))});e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(163),i=r(o),a=n(102),s=r(a),u=n(92),c=r(u),l={x:150,tempX:0,y:100,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var y=e.data,_=y.x,m=y.y;return(0,s["default"])({},t,{tempX:_,tempY:m});case"EDITOR_TRANSLATE_END":var I=e.data,x=I.x,w=I.y;return x+=t.x,w+=t.y,(0,s["default"])({},t,{x:x,y:w,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(34),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(165),i=r(o),a=n(102),s=r(a),u=n(175),c=r(u),l=n(92),f=r(l),p=n(180),d=r(p),h=[(0,c["default"])({x:0,y:f["default"].CURVE_SIZE,isLockedX:!0,type:"straight"}),(0,c["default"])({x:50,y:f["default"].CURVE_SIZE/2,type:"mirrored"}),(0,c["default"])({x:100,y:0,isLockedX:!0})],v=function(t){for(var e=[],n=0;n<t.length;n++)e.push((0,s["default"])({},t[n],{isSelected:!1}));return e},g=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},y=function(){var t=arguments.length<=0||void 0===arguments[0]?(0,d["default"])(h):arguments[0],e=arguments[1];switch(e.type){case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t[r],a=[].concat((0,i["default"])(t));return a[n.index]=(0,s["default"])({},o,{tempX:n.x,tempY:n.y}),a;case"POINT_TRANSLATE_END":var u=e.data,l=t[u],f=[].concat((0,i["default"])(t));return f[u]=(0,s["default"])({},l,{x:l.x+l.tempX,y:l.y+l.tempY,tempX:0,tempY:0}),f;case"POINT_SELECT":var p=e.data,y=p.index,_=p.isDeselect,m=_?v(t):[].concat((0,i["default"])(t)),I=m[y];return I.isSelected=!0,m;case"POINT_ADD":var x=e.data,w=x.x,b=x.y,M=x.index,T=v(t),C=[].concat((0,i["default"])(T.slice(0,M)),[(0,c["default"])({x:w,y:b,isSelected:!0})],(0,i["default"])(T.slice(M)));return(0,d["default"])(C);case"POINT_DELETE":for(var j=g(t),A=[],E=0;E<t.length;E++){var P=t[E];(j.indexOf(E)===-1||P.isLockedX)&&A.push(P)}return A;case"POINT_CHANGE_TYPE":for(var O=g(t),S=[],E=0;E<t.length;E++){var D=t[E],N=e.data;S.push((0,s["default"])({},D)),O.indexOf(E)!==-1&&(S[E].type=N);var k=E,L=S[k],R=(k===S.length-1?S[k-1]:S[k+1],k===S.length-1?1:2),z=1===R?2:1,U="handle"+R,B="handle"+z,F=(0,s["default"])({},L[U]),G=(0,s["default"])({},L[B]);L[U]=F,L[B]=G,"mirrored"!==N&&"asymmetric"!==N||(G.angle=F.angle-180,"mirrored"===N&&(G.radius=F.radius))}return S;case"POINT_DESELECT_ALL":return v(t);case"HANDLE_TRANSLATE":var X=e.data,Y=[].concat((0,i["default"])(t)),H=(0,s["default"])({},Y[X.parentIndex]);Y[X.parentIndex]=H;var Z="handle"+X.index,W=(0,s["default"])({},H[Z]);return H[Z]=W,W.angle=X.angle,W.radius=X.radius,Y}return t};e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(166),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(167),__esModule:!0}},function(t,e,n){n(41),n(168),t.exports=n(19).Array.from},function(t,e,n){"use strict";var r=n(20),o=n(18),i=n(9),a=n(169),s=n(170),u=n(57),c=n(171),l=n(172);o(o.S+o.F*!n(174)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,_=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(p.length),n=new d(e);e>y;y++)c(n,y,g?v(p[y],y):p[y]);else for(f=_.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,g?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(24);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(47),o=n(62)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(23),o=n(31);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(173),o=n(62)("iterator"),i=n(47);t.exports=n(19).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(55),o=n(62)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(62)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(102),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(102),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":var n=e.data.type;return(0,i["default"])({},t,{isShow:!e.isDeselect,type:n});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e,n){!function(t,r){r(e,n(2),n(147))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||P,d=void 0;d="function"==typeof n?n:n?u(n):O;var h=r||S,g=o.pure,y=void 0===g||g,_=o.withRef,m=void 0!==_&&_,I=y&&h!==S,x=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=x,n.store=t.store||e.store,E(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&I&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){y&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!y||e!==t){if(y&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return E(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;y&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==x&&(this.version=x,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,y=function(t){function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);y.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},y.childContextTypes={store:v.isRequired};var _=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=_&&"object"==typeof _&&"default"in _?_["default"]:_,I=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),x=I&&"object"==typeof I&&"default"in I?I["default"]:I,w=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),b=w&&"object"==typeof w&&"default"in w?w["default"]:w,M=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=b,r=x,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=M&&"object"==typeof M&&"default"in M?M["default"]:M,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,A=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),E=A&&"object"==typeof A&&"default"in A?A["default"]:A,P=function(t){return{}},O=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=y,t.connect=f})},function(t,e,n){var r=n(179);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(111)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(179,function(){var e=n(179);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(110)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(181),i=r(o);e["default"]=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=n===t.length-1?t[n-1]:t[n+1],a=n===t.length-1?1:2;e.push((0,i["default"])(r,o,a))}return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(102),i=r(o),a=n(92),s=r(a);e["default"]=function(t,e,n){t=(0,i["default"])({},t);var r="handle"+n,o=1===n?2:1,a="handle"+o,u=(0,i["default"])({},t[r]),c=(0,i["default"])({},t[a]);t.type;if(t[r]=u,t[a]=c,null==u.angle||null==u.radius){u.radius=50;var l=(e.y-t.y)/s["default"].CURVE_PERCENT,f=e.x-t.x,p=Math.atan(l/f)*(180/Math.PI)-90;f>0&&(p-=180),u.angle=p,c.radius=u.radius,c.angle=u.angle-180}return t}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDEzYzNhZmQ1NjFkMWNkMzJjMDMwIiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9oLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9saW5rZWQtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9kb20vcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQtcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3IuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2NvbnN0YW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hhbW1lcmpzL2hhbW1lci5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3BhZ2F0aW5nLWhhbW1lcmpzL3Byb3BhZ2F0aW5nLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtdW5kby9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvcmVzaXplLW1vZC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItcmlnaHQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2N1cnZlLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9hbmdsZS10by1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9wb2ludC5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3M/MjcwNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcz9lZGM5Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3M/NWE1ZCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzP2JiYzEiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcz8xNjlhIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24tYnV0dG9uLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcz8zNmNlIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvaWNvbi1kaXZpZGVyLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3M/YjFiMCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvcG9pbnQtY29udHJvbHMuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzP2M3ZDgiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29ucy5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzP2U4M2MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy9zdG9yZS5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jcmVhdGVTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX292ZXJBcmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3N5bWJvbC1vYnNlcnZhYmxlL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi91dGlscy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY29tcG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcmVzaXplLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL3BvaW50cy1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL21ha2UtcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL3BvaW50LWNvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wYXQuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3N0b3JlU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9pbnZhcmlhbnQvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzcz85YWRkIiwid2VicGFjazovLy8uL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwiaG90Q3VycmVudEhhc2giLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsImVuc3VyZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsImhvdENodW5rc0xvYWRpbmciLCJmaW5pc2hDaHVua0xvYWRpbmciLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJjYWxsIiwiZm4iLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImhvdEN1cnJlbnRQYXJlbnRzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiYWNjZXB0IiwiZGVwIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJpc051bWJlciIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdEF2YWlsaWJsZUZpbGVzTWFwIiwiYyIsImhvdFVwZGF0ZU5ld0hhc2giLCJoIiwiaG90Q2FsbGJhY2siLCJob3RVcGRhdGUiLCJob3RBZGRVcGRhdGVDaHVuayIsIm1vcmVNb2R1bGVzIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImdldEFmZmVjdGVkU3R1ZmYiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJwb3AiLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsInJlc3VsdCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJkaXNwb3NlSGFuZGxlcnMiLCJqIiwiY2IiLCJjaGlsZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsImVycm9yIiwiY2FsbGJhY2tzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9wcmVhY3QiLCJfY3VydmVFZGl0b3IiLCJfY3VydmVFZGl0b3IyIiwiX3N0b3JlIiwiX3N0b3JlMiIsIl9wcmVhY3RSZWR1eCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJQcm92aWRlciIsInN0b3JlIiwiYm9keSIsInNldEltbWVkaWF0ZSIsImdsb2JhbCIsIlZOb2RlIiwibm9kZU5hbWUiLCJhdHRyaWJ1dGVzIiwia2V5IiwiZXh0ZW5kIiwicHJvcHMiLCJ1bmRlZmluZWQiLCJjbG9uZSIsImRlbHZlIiwic3BsaXQiLCJ0b0FycmF5Iiwib2Zmc2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiZW1wdHkiLCJmYWxzZXkiLCJoYXNoVG9DbGFzc05hbWUiLCJzdHIiLCJwcm9wIiwiZmlyc3RDaGlsZCIsImFyciIsImxhc3RTaW1wbGUiLCJsZW4iLCJhcmd1bWVudHMiLCJTdHJpbmciLCJfcCIsImpvaW4iLCJTSEFSRURfVEVNUF9BUlJBWSIsInNpbXBsZSIsImNsYXNzTmFtZSIsInZub2RlIiwiY2xvbmVFbGVtZW50IiwiY3JlYXRlTGlua2VkU3RhdGUiLCJjb21wb25lbnQiLCJldmVudFBhdGgiLCJwYXRoIiwicDAiLCJfY29tcG9uZW50JHNldFN0YXRlIiwidiIsInQiLCJjdXJyZW50VGFyZ2V0IiwicyIsInN0YXRlIiwiX2NvbXBvbmVudCIsIm1hdGNoIiwiY2hlY2tlZCIsInNldFN0YXRlIiwiZW5xdWV1ZVJlbmRlciIsIml0ZW1zIiwicmVyZW5kZXIiLCJjdXJyZW50SXRlbXMiLCJpdGVtc09mZmxpbmUiLCJpc0Z1bmN0aW9uYWxDb21wb25lbnQiLCJidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQiLCJjb250ZXh0IiwiZ2V0Tm9kZVByb3BzIiwiRU1QVFkiLCJlbnN1cmVOb2RlRGF0YSIsIm5vZGUiLCJBVFRSX0tFWSIsImdldE5vZGVUeXBlIiwiVGV4dCIsIkVsZW1lbnQiLCJyZW1vdmVOb2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0QWNjZXNzb3IiLCJvbGQiLCJpc1N2ZyIsInN0eWxlIiwiY3NzVGV4dCIsIk5PTl9ESU1FTlNJT05fUFJPUFMiLCJpbm5lckhUTUwiLCJfX2h0bWwiLCJfbGlzdGVuZXJzIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJldmVudFByb3h5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFByb3BlcnR5IiwicmVtb3ZlQXR0cmlidXRlIiwibnMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJnZXRSYXdOb2RlQXR0cmlidXRlcyIsImF0dHJzIiwiaXNTYW1lTm9kZVR5cGUiLCJpc05hbWVkTm9kZSIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsIm5vcm1hbGl6ZWROb2RlTmFtZSIsImRlZmF1bHRQcm9wcyIsImNvbGxlY3ROb2RlIiwiY2xlYW5Ob2RlIiwibGlzdCIsIm5vZGVzIiwiY3JlYXRlTm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImZsdXNoTW91bnRzIiwibW91bnRzIiwiZGlmZiIsImRvbSIsIm1vdW50QWxsIiwiZGlmZkxldmVsIiwicmV0IiwiaWRpZmYiLCJvcmlnaW5hbEF0dHJpYnV0ZXMiLCJub2RlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInN2Z01vZGUiLCJvdXQiLCJpc1N2Z01vZGUiLCJyZWNvbGxlY3ROb2RlVHJlZSIsImNoaWxkTm9kZXMiLCJpbm5lckRpZmZOb2RlIiwiZGlmZkF0dHJpYnV0ZXMiLCJyZWYiLCJ2Y2hpbGRyZW4iLCJ2Y2hpbGQiLCJrZXllZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjaGlsZHJlbkxlbiIsInZsZW4iLCJfY2hpbGQiLCJfX2tleSIsImtleWVkTGVuIiwibWluIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlT3JwaGFuZWRDaGlsZHJlbiIsInVubW91bnRPbmx5IiwiX25hbWUiLCJfbmFtZTIiLCJjb2xsZWN0Q29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJjb21wb25lbnRzIiwiY3JlYXRlQ29tcG9uZW50IiwiQ3RvciIsImluc3QiLCJuZXh0QmFzZSIsInRyaWdnZXJDb21wb25lbnRSZW5kZXIiLCJfZGlydHkiLCJzZXRDb21wb25lbnRQcm9wcyIsIm9wdHMiLCJiYXNlIiwiX2Rpc2FibGVSZW5kZXJpbmciLCJfX3JlZiIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJwcmV2Q29udGV4dCIsInByZXZQcm9wcyIsInN5bmNDb21wb25lbnRVcGRhdGVzIiwicmVuZGVyQ29tcG9uZW50Iiwic2tpcCIsInJlbmRlcmVkIiwicHJldmlvdXNTdGF0ZSIsInByZXZTdGF0ZSIsInByZXZpb3VzQ29udGV4dCIsImlzVXBkYXRlIiwiaW5pdGlhbEJhc2UiLCJuZXh0U2libGluZyIsImJhc2VQYXJlbnQiLCJpbml0aWFsQ29tcG9uZW50IiwiaW5pdGlhbENoaWxkQ29tcG9uZW50IiwicHJldmlvdXNQcm9wcyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJnZXRDaGlsZENvbnRleHQiLCJ0b1VubW91bnQiLCJjaGlsZENvbXBvbmVudCIsImNoaWxkUHJvcHMiLCJfcGFyZW50Q29tcG9uZW50IiwiY2Jhc2UiLCJ1bm1vdW50Q29tcG9uZW50IiwiY29tcG9uZW50UmVmIiwidW5zaGlmdCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJidWlsZENvbXBvbmVudEZyb21WTm9kZSIsIm9sZERvbSIsImlzRGlyZWN0T3duZXIiLCJpc093bmVyIiwicmVtb3ZlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbm5lciIsImNvbXBvbmVudERpZFVubW91bnQiLCJDb21wb25lbnQiLCJfbGlua2VkU3RhdGVzIiwiZ2V0SW5pdGlhbFN0YXRlIiwibWVyZ2UiLCJsY0NhY2hlIiwicmVzb2x2ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImYiLCJ0aGVuIiwic2V0VGltZW91dCIsIlN5bWJvbCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleCIsImZsZXhHcm93IiwiZmxleFBvc2l0aXZlIiwiZmxleFNocmluayIsImZsZXhOZWdhdGl2ZSIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInN0cm9rZU9wYWNpdHkiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwibGlua1N0YXRlIiwiY2FjaGVLZXkiLCJmb3JjZVVwZGF0ZSIsImNsZWFySW1tZWRpYXRlIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsIm5leHRUaWNrIiwiRnVuY3Rpb24iLCJBcnJheSIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJfb25UaW1lb3V0IiwiYXJncyIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJjYWNoZWRTZXRUaW1lb3V0IiwicnVuIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImZ1biIsImFycmF5Iiwibm9vcCIsInByb2Nlc3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfY29uc3RhbnRzIiwiX2NvbnN0YW50czIiLCJfaGFtbWVyanMiLCJfaGFtbWVyanMyIiwiX3Byb3BhZ2F0aW5nSGFtbWVyanMiLCJfcHJvcGFnYXRpbmdIYW1tZXJqczIiLCJfcmVkdXhVbmRvIiwiX3Jlc2l6ZU1vZCIsIl9yZXNpemVNb2QyIiwiX2N1cnZlRWRpdG9yUmlnaHQiLCJfY3VydmVFZGl0b3JSaWdodDIiLCJfY3VydmVFZGl0b3JMZWZ0IiwiX2N1cnZlRWRpdG9yTGVmdDIiLCJfaWNvbnMiLCJfaWNvbnMyIiwiQ3VydmVFZGl0b3IiLCJfQ29tcG9uZW50IiwiQ0xBU1NFUyIsImdldFN0YXRlIiwiX2dldFN0eWxlIiwiWF9TSVpFIiwiQ1VSVkVfU0laRSIsIllfU0laRSIsIkNVUlZFX1BBRERJTkciLCJyZXNpemUiLCJ0ZW1wX3RvcCIsInRlbXBfYm90dG9tIiwidGVtcF9yaWdodCIsInRyYW5zbGF0ZSIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ0ZW1wWCIsInkiLCJ0ZW1wWSIsInRyYW5zZm9ybSIsIm1vanMiLCJwcmVmaXgiLCJjc3MiLCJlbCIsInF1ZXJ5U2VsZWN0b3IiLCJtYyIsIk1hbmFnZXIiLCJhZGQiLCJQYW4iLCJ0aHJlc2hvbGQiLCJkZWx0YVgiLCJkZWx0YVkiLCJkaXNwYXRjaCIsIl9hZGRLZXlVcCIsInN1YnNjcmliZSIsImJpbmQiLCJfb25LZXlVcCIsImFsdEtleSIsIndoaWNoIiwiQWN0aW9uQ3JlYXRvcnMiLCJ1bmRvIiwicmVkbyIsImdldFByb3RvdHlwZU9mIiwidG9PYmplY3QiLCIkZ2V0UHJvdG90eXBlT2YiLCJpdCIsImRlZmluZWQiLCJUeXBlRXJyb3IiLCJoYXMiLCJJRV9QUk9UTyIsIk9iamVjdFByb3RvIiwiTyIsInNoYXJlZCIsInVpZCIsIlNIQVJFRCIsIk1hdGgiLCJzZWxmIiwiX19nIiwicHgiLCJyYW5kb20iLCJ0b1N0cmluZyIsIiRleHBvcnQiLCJjb3JlIiwiZmFpbHMiLCJLRVkiLCJleGVjIiwiZXhwIiwiUyIsIkYiLCJjdHgiLCJoaWRlIiwiUFJPVE9UWVBFIiwic291cmNlIiwib3duIiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsInRhcmdldCIsIkMiLCJ2aXJ0dWFsIiwiUiIsIlUiLCJfX2UiLCJhRnVuY3Rpb24iLCJ0aGF0IiwiZFAiLCJjcmVhdGVEZXNjIiwib2JqZWN0IiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiQXR0cmlidXRlcyIsImlzT2JqZWN0IiwiaXMiLCJ2YWwiLCJ2YWx1ZU9mIiwiYml0bWFwIiwid3JpdGFibGUiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiJE9iamVjdCIsImRlc2MiLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiUmVmZXJlbmNlRXJyb3IiLCJfaXRlcmF0b3IiLCJfaXRlcmF0b3IyIiwiX3N5bWJvbCIsIl9zeW1ib2wyIiwiX3R5cGVvZiIsIiRhdCIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsInBvaW50IiwiaW5kZXgiLCJkb25lIiwidG9JbnRlZ2VyIiwiVE9fU1RSSU5HIiwicG9zIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsImNlaWwiLCJmbG9vciIsImlzTmFOIiwiTElCUkFSWSIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsIklURVJBVE9SIiwiQlVHR1kiLCJrZXlzIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwibmV4dCIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJraW5kIiwicHJvdG8iLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJjcmVhdGUiLCJkUHMiLCJlbnVtQnVnS2V5cyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwibHQiLCJndCIsImRpc3BsYXkiLCJjb250ZW50V2luZG93Iiwid3JpdGUiLCJQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsIiRrZXlzIiwidG9JT2JqZWN0IiwiYXJyYXlJbmRleE9mIiwibmFtZXMiLCJJT2JqZWN0IiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xlbmd0aCIsInRvSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwibWF4IiwiZG9jdW1lbnRFbGVtZW50IiwiZGVmIiwidGFnIiwic3RhdCIsIlVTRV9TWU1CT0wiLCIkZXhwb3J0cyIsIlRPX1NUUklOR19UQUciLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb24iLCJhZGRUb1Vuc2NvcGFibGVzIiwic3RlcCIsIl9rIiwiQXJndW1lbnRzIiwiREVTQ1JJUFRPUlMiLCJNRVRBIiwiJGZhaWxzIiwid2tzIiwid2tzRXh0Iiwid2tzRGVmaW5lIiwia2V5T2YiLCJlbnVtS2V5cyIsImlzQXJyYXkiLCJfY3JlYXRlIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiZ09QRCIsImdPUE4iLCIkU3ltYm9sIiwiJEpTT04iLCJfc3RyaW5naWZ5Iiwic3RyaW5naWZ5IiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiaXNFbnVtIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwiRCIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJpc1N5bWJvbCIsIml0ZXJhdG9yIiwiJGRlZmluZVByb3BlcnR5IiwiJGRlZmluZVByb3BlcnRpZXMiLCIkY3JlYXRlIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJzeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInJlcGxhY2VyIiwiJHJlcGxhY2VyIiwic2V0RGVzYyIsImlzRXh0ZW5zaWJsZSIsIkZSRUVaRSIsInByZXZlbnRFeHRlbnNpb25zIiwic2V0TWV0YSIsInciLCJmYXN0S2V5IiwiZ2V0V2VhayIsIm9uRnJlZXplIiwibWV0YSIsIk5FRUQiLCJnT1BTIiwicElFIiwiZ2V0U3ltYm9scyIsImFyZyIsIndpbmRvd05hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCJoaWRkZW5LZXlzIiwiX3NldFByb3RvdHlwZU9mIiwiX3NldFByb3RvdHlwZU9mMiIsIl9jcmVhdGUyIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiX19wcm90b19fIiwic2V0UHJvdG90eXBlT2YiLCJ0ZXN0IiwiYnVnZ3kiLCJDVVJWRV9QRVJDRU5UIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJleHBvcnROYW1lIiwic2V0VGltZW91dENvbnRleHQiLCJiaW5kRm4iLCJpbnZva2VBcnJheUFyZyIsImVhY2giLCJmb3JFYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwibWVzc2FnZSIsImRlcHJlY2F0aW9uTWVzc2FnZSIsInN0YWNrIiwicmVwbGFjZSIsImxvZyIsImluaGVyaXQiLCJwcm9wZXJ0aWVzIiwiY2hpbGRQIiwiYmFzZVAiLCJfc3VwZXIiLCJhc3NpZ24iLCJib29sT3JGbiIsIlRZUEVfRlVOQ1RJT04iLCJpZlVuZGVmaW5lZCIsInZhbDEiLCJ2YWwyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0eXBlcyIsImhhbmRsZXIiLCJzcGxpdFN0ciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiaGFzUGFyZW50IiwiaW5TdHIiLCJmaW5kIiwidHJpbSIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwicHJlZml4ZWQiLCJwcm9wZXJ0eSIsImNhbWVsUHJvcCIsInRvVXBwZXJDYXNlIiwiVkVORE9SX1BSRUZJWEVTIiwidW5pcXVlSWQiLCJfdW5pcXVlSWQiLCJnZXRXaW5kb3dGb3JFbGVtZW50IiwiZWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIklucHV0IiwibWFuYWdlciIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5pdCIsImNyZWF0ZUlucHV0SW5zdGFuY2UiLCJUeXBlIiwiaW5wdXRDbGFzcyIsIlNVUFBPUlRfUE9JTlRFUl9FVkVOVFMiLCJQb2ludGVyRXZlbnRJbnB1dCIsIlNVUFBPUlRfT05MWV9UT1VDSCIsIlRvdWNoSW5wdXQiLCJTVVBQT1JUX1RPVUNIIiwiVG91Y2hNb3VzZUlucHV0IiwiTW91c2VJbnB1dCIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJwb2ludGVycyIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJJTlBVVF9TVEFSVCIsImlzRmluYWwiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJzZXNzaW9uIiwiY29tcHV0ZUlucHV0RGF0YSIsInJlY29nbml6ZSIsInByZXZJbnB1dCIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImNlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsIm5vdyIsImRlbHRhVGltZSIsImFuZ2xlIiwiZ2V0QW5nbGUiLCJkaXN0YW5jZSIsImdldERpc3RhbmNlIiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJnZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwiYWJzIiwic2NhbGUiLCJnZXRTY2FsZSIsInJvdGF0aW9uIiwiZ2V0Um90YXRpb24iLCJtYXhQb2ludGVycyIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsInNyY0V2ZW50Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImRpcmVjdGlvbiIsImxhc3QiLCJsYXN0SW50ZXJ2YWwiLCJDT01QVVRFX0lOVEVSVkFMIiwiY2xpZW50WCIsInJvdW5kIiwiY2xpZW50WSIsIkRJUkVDVElPTl9OT05FIiwiRElSRUNUSU9OX0xFRlQiLCJESVJFQ1RJT05fUklHSFQiLCJESVJFQ1RJT05fVVAiLCJESVJFQ1RJT05fRE9XTiIsInAxIiwicDIiLCJQUk9QU19YWSIsInNxcnQiLCJhdGFuMiIsIlBJIiwic3RhcnQiLCJlbmQiLCJQUk9QU19DTElFTlRfWFkiLCJldkVsIiwiTU9VU0VfRUxFTUVOVF9FVkVOVFMiLCJldldpbiIsIk1PVVNFX1dJTkRPV19FVkVOVFMiLCJwcmVzc2VkIiwiUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyIsIlBPSU5URVJfV0lORE9XX0VWRU5UUyIsInBvaW50ZXJFdmVudHMiLCJTaW5nbGVUb3VjaElucHV0IiwiZXZUYXJnZXQiLCJTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTIiwic3RhcnRlZCIsIm5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMiLCJhbGwiLCJ0b3VjaGVzIiwiY2hhbmdlZCIsImNoYW5nZWRUb3VjaGVzIiwiVE9VQ0hfVEFSR0VUX0VWRU5UUyIsInRhcmdldElkcyIsImdldFRvdWNoZXMiLCJhbGxUb3VjaGVzIiwiSU5QVVRfTU9WRSIsImlkZW50aWZpZXIiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRhcmdldFRvdWNoZXMiLCJmaWx0ZXIiLCJ0b3VjaCIsIm1vdXNlIiwicHJpbWFyeVRvdWNoIiwibGFzdFRvdWNoZXMiLCJyZWNvcmRUb3VjaGVzIiwiZXZlbnREYXRhIiwic2V0TGFzdFRvdWNoIiwibGFzdFRvdWNoIiwibHRzIiwicmVtb3ZlTGFzdFRvdWNoIiwiREVEVVBfVElNRU9VVCIsImlzU3ludGhldGljRXZlbnQiLCJkeCIsImR5IiwiREVEVVBfRElTVEFOQ0UiLCJUb3VjaEFjdGlvbiIsImNsZWFuVG91Y2hBY3Rpb25zIiwiYWN0aW9ucyIsIlRPVUNIX0FDVElPTl9OT05FIiwiaGFzUGFuWCIsIlRPVUNIX0FDVElPTl9QQU5fWCIsImhhc1BhblkiLCJUT1VDSF9BQ1RJT05fUEFOX1kiLCJUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OIiwiVE9VQ0hfQUNUSU9OX0FVVE8iLCJnZXRUb3VjaEFjdGlvblByb3BzIiwiTkFUSVZFX1RPVUNIX0FDVElPTiIsInRvdWNoTWFwIiwiY3NzU3VwcG9ydHMiLCJDU1MiLCJzdXBwb3J0cyIsIlJlY29nbml6ZXIiLCJkZWZhdWx0cyIsIlNUQVRFX1BPU1NJQkxFIiwic2ltdWx0YW5lb3VzIiwicmVxdWlyZUZhaWwiLCJzdGF0ZVN0ciIsIlNUQVRFX0NBTkNFTExFRCIsIlNUQVRFX0VOREVEIiwiU1RBVEVfQ0hBTkdFRCIsIlNUQVRFX0JFR0FOIiwiZGlyZWN0aW9uU3RyIiwiZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlciIsIm90aGVyUmVjb2duaXplciIsInJlY29nbml6ZXIiLCJBdHRyUmVjb2duaXplciIsIlBhblJlY29nbml6ZXIiLCJwWCIsInBZIiwiUGluY2hSZWNvZ25pemVyIiwiUHJlc3NSZWNvZ25pemVyIiwiX3RpbWVyIiwiX2lucHV0IiwiUm90YXRlUmVjb2duaXplciIsIlN3aXBlUmVjb2duaXplciIsIlRhcFJlY29nbml6ZXIiLCJwVGltZSIsInBDZW50ZXIiLCJjb3VudCIsIkhhbW1lciIsInJlY29nbml6ZXJzIiwicHJlc2V0IiwiaGFuZGxlcnMiLCJvbGRDc3NQcm9wcyIsInRvdWNoQWN0aW9uIiwidG9nZ2xlQ3NzUHJvcHMiLCJyZWNvZ25pemVXaXRoIiwicmVxdWlyZUZhaWx1cmUiLCJjc3NQcm9wcyIsInRyaWdnZXJEb21FdmVudCIsImdlc3R1cmVFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZ2VzdHVyZSIsImRpc3BhdGNoRXZlbnQiLCJURVNUX0VMRU1FTlQiLCJEYXRlIiwib3V0cHV0IiwibmV4dEtleSIsImRlc3QiLCJNT0JJTEVfUkVHRVgiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJJTlBVVF9UWVBFX1RPVUNIIiwiSU5QVVRfVFlQRV9QRU4iLCJJTlBVVF9UWVBFX01PVVNFIiwiSU5QVVRfVFlQRV9LSU5FQ1QiLCJESVJFQ1RJT05fSE9SSVpPTlRBTCIsIkRJUkVDVElPTl9WRVJUSUNBTCIsIkRJUkVDVElPTl9BTEwiLCJkZXN0cm95IiwiTU9VU0VfSU5QVVRfTUFQIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsImJ1dHRvbiIsInBvaW50ZXJUeXBlIiwiUE9JTlRFUl9JTlBVVF9NQVAiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsInBvaW50ZXJvdXQiLCJJRTEwX1BPSU5URVJfVFlQRV9FTlVNIiwiMiIsIjMiLCI0IiwiNSIsIk1TUG9pbnRlckV2ZW50IiwiUG9pbnRlckV2ZW50IiwicmVtb3ZlUG9pbnRlciIsImV2ZW50VHlwZU5vcm1hbGl6ZWQiLCJpc1RvdWNoIiwic3RvcmVJbmRleCIsInBvaW50ZXJJZCIsIlNJTkdMRV9UT1VDSF9JTlBVVF9NQVAiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCIsIlRPVUNIX0lOUFVUX01BUCIsImlucHV0RXZlbnQiLCJpbnB1dERhdGEiLCJpc01vdXNlIiwic291cmNlQ2FwYWJpbGl0aWVzIiwiZmlyZXNUb3VjaEV2ZW50cyIsIlBSRUZJWEVEX1RPVUNIX0FDVElPTiIsIlRPVUNIX0FDVElPTl9DT01QVVRFIiwiVE9VQ0hfQUNUSU9OX01BUCIsImNvbXB1dGUiLCJnZXRUb3VjaEFjdGlvbiIsInByZXZlbnREZWZhdWx0cyIsInByZXZlbnRlZCIsInByZXZlbnREZWZhdWx0IiwiaGFzTm9uZSIsImlzVGFwUG9pbnRlciIsImlzVGFwTW92ZW1lbnQiLCJpc1RhcFRvdWNoVGltZSIsInByZXZlbnRTcmMiLCJTVEFURV9SRUNPR05JWkVEIiwiU1RBVEVfRkFJTEVEIiwiZHJvcFJlY29nbml6ZVdpdGgiLCJkcm9wUmVxdWlyZUZhaWx1cmUiLCJoYXNSZXF1aXJlRmFpbHVyZXMiLCJjYW5SZWNvZ25pemVXaXRoIiwiYWRkaXRpb25hbEV2ZW50IiwidHJ5RW1pdCIsImNhbkVtaXQiLCJpbnB1dERhdGFDbG9uZSIsInJlc2V0IiwiYXR0clRlc3QiLCJvcHRpb25Qb2ludGVycyIsImlzUmVjb2duaXplZCIsImlzVmFsaWQiLCJkaXJlY3Rpb25UZXN0IiwiaGFzTW92ZWQiLCJpbk91dCIsInRpbWUiLCJ2YWxpZFBvaW50ZXJzIiwidmFsaWRNb3ZlbWVudCIsInZhbGlkVGltZSIsInRhcHMiLCJpbnRlcnZhbCIsInBvc1RocmVzaG9sZCIsInZhbGlkVG91Y2hUaW1lIiwiZmFpbFRpbWVvdXQiLCJ2YWxpZEludGVydmFsIiwidmFsaWRNdWx0aVRhcCIsInRhcENvdW50IiwiVkVSU0lPTiIsImRvbUV2ZW50cyIsInVzZXJTZWxlY3QiLCJ0b3VjaFNlbGVjdCIsInRvdWNoQ2FsbG91dCIsImNvbnRlbnRab29taW5nIiwidXNlckRyYWciLCJ0YXBIaWdobGlnaHRDb2xvciIsIlNUT1AiLCJGT1JDRURfU1RPUCIsInN0b3AiLCJmb3JjZSIsInN0b3BwZWQiLCJjdXJSZWNvZ25pemVyIiwiZXhpc3RpbmciLCJldmVudHMiLCJUYXAiLCJTd2lwZSIsIlBpbmNoIiwiUm90YXRlIiwiUHJlc3MiLCJmcmVlR2xvYmFsIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9maXJzdFRhcmdldCIsInByb3BhZ2F0aW5nIiwiaGFtbWVyIiwicHJvcGFnYXRlZEhhbmRsZXIiLCJfaGFuZGxlZCIsInN0b3BQcm9wYWdhdGlvbiIsInNyY1N0b3AiLCJmaXJzdFRhcmdldCIsImVsZW0iLCJlbGVtSGFtbWVyIiwiX2hhbmRsZXJzIiwiayIsIl9vcHRpb25zIiwiUHJvcGFnYXRpbmdIYW1tZXIiLCJvIiwid3JhcHBlciIsImhhbW1lcnMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZnJvbSIsImRlYnVnIiwiX19ERUJVR19fIiwiX2NvbnNvbGUiLCJfbGVuIiwiX2tleSIsImdyb3VwIiwiZGVidWdTdGFydCIsImFjdGlvbiIsIl9jb25zb2xlMiIsImdyb3VwQ29sbGFwc2VkIiwiZGVidWdFbmQiLCJncm91cEVuZCIsImhpc3RvcnkiLCJwYXN0IiwiZnV0dXJlIiwiaW5zZXJ0IiwibGltaXQiLCJmcmVlIiwicHJlc2VudCIsImhpc3RvcnlPdmVyZmxvdyIsImp1bXBUb0Z1dHVyZSIsImp1bXBUb1Bhc3QiLCJ3cmFwU3RhdGUiLCJfZXh0ZW5kcyIsInVwZGF0ZVN0YXRlIiwiY3JlYXRlSGlzdG9yeSIsInBhcnNlQWN0aW9ucyIsInJhd0FjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJ1bmRvYWJsZSIsInJlZHVjZXIiLCJyYXdDb25maWciLCJjb25maWciLCJpbml0aWFsU3RhdGUiLCJpbml0VHlwZXMiLCJ1bmRvVHlwZSIsIkFjdGlvblR5cGVzIiwiVU5ETyIsInJlZG9UeXBlIiwiUkVETyIsImp1bXBUb1Bhc3RUeXBlIiwiSlVNUF9UT19QQVNUIiwianVtcFRvRnV0dXJlVHlwZSIsIkpVTVBfVE9fRlVUVVJFIiwiaW5pdGlhbEhpc3RvcnkiLCJyZXMiLCJzb21lIiwiYWN0aW9uVHlwZSIsInVwZGF0ZWRIaXN0b3J5IiwiZGlzdGluY3RTdGF0ZSIsImN1cnJlbnRTdGF0ZSIsImluY2x1ZGVBY3Rpb24iLCJpZkFjdGlvbiIsImV4Y2x1ZGVBY3Rpb24iLCJtb2QiLCJ0ZW1wUmVzaXplX3RvcCIsImNvZWYiLCJNT0QiLCJESVYiLCJwYXJzZUludCIsIkdBUCIsIl9jdXJ2ZSIsIl9jdXJ2ZTIiLCJfcmVzaXplSGFuZGxlIiwiX3Jlc2l6ZUhhbmRsZTIiLCJDdXJ2ZUVkaXRvclJpZ2h0IiwiX3JlZiIsIl9hbmdsZVRvUG9pbnQiLCJfYW5nbGVUb1BvaW50MiIsIl9wb2ludCIsIl9wb2ludDIiLCJDdXJ2ZSIsInN0eWxlcyIsInBvaW50cyIsIl9yZW5kZXJQb2ludHMiLCJfZ2V0UGF0aDIiLCJfZ2V0UGF0aCIsInNlZ21lbnRzIiwiYmFja2dyb3VuZCIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiY2xhc3MiLCJkIiwic3Ryb2tlIiwic3Ryb2tlLW9wYWNpdHkiLCJzdHJva2Utd2lkdGgiLCJ2ZWN0b3ItZWZmZWN0IiwiZmlsbCIsImJnVHJhbnNmb3JtIiwicG9pbnRzRGF0YSIsInBvaW50c0NvdW50IiwibmV4dFBvaW50Iiwic2VnbWVudCIsIl9nZXRTZWdtZW50Iiwic3RyaW5nIiwiX3JlbmRlclNlZ21lbnQiLCJzZWdtZW50U3RyaW5nIiwiZGF0YS1pbmRleCIsInhOZXh0IiwieU5leHQiLCJwYXJ0MSIsInBhcnQyIiwiX2dldFBvaW50IiwicGFydDMiLCJwYXJ0NCIsImhhbmRsZUluZGV4IiwiaGFuZGxlIiwiQ0hBUiIsImhhbmRsZUNvb3JkcyIsInJhZGl1cyIsInRhZ05hbWUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldEF0dHJpYnV0ZSIsImlzUmVjb3JkIiwic3ZnIiwic3ZnTWMiLCJnZXRSYWRpYWxQb2ludCIsIl9saXR0bGVIYW5kbGUiLCJfbGl0dGxlSGFuZGxlMiIsIl9yb3VuZFRvIiwiX3JvdW5kVG8yIiwiX2NsYW1wIiwiX2NsYW1wMiIsIlBvaW50IiwiX3Byb3BzIiwic2VsZWN0ZWQiLCJpc1NlbGVjdGVkIiwiaGFuZGxlcyIsImxpdHRsZUhhbmRsZXMiLCJfZ2V0TGl0dGxlSGFuZGxlcyIsImRhdGEtY29tcG9uZW50IiwiY2xlYW5YIiwic2NhbGVyWCIsIl9wcm9wczIiLCJfY3JlYXRlSGFuZGxlIiwicGFyZW50SW5kZXgiLCJfdGhpczIiLCJnZXRUZW1wWCIsIl9wcm9wczMiLCJpc0xvY2tlZFgiLCJnZXRUZW1wWSIsIl9wcm9wczUiLCJyZXR1cm5WYWx1ZSIsIl9wcm9wczYiLCJfcHJvcHM3IiwiX3Byb3BzOCIsImlzRGVzZWxlY3QiLCJzaGlmdEtleSIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9wb2ludFRvQW5nbGUiLCJfcG9pbnRUb0FuZ2xlMiIsIkxpdHRsZUhhbmRsZSIsIl9nZXRQb2ludFN0eWxlIiwiX2dldExpbmVTdHlsZSIsIm5ld1giLCJuZXdZIiwiX2Fzc2lnbiIsIl9hc3NpZ24yIiwiJGFzc2lnbiIsIkEiLCJLIiwiVCIsImFMZW4iLCJhdGFuIiwiY29udGVudCIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwic3R5bGVTaGVldCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsIm1lbW9pemUiLCJtZW1vIiwiaXNPbGRJRSIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlbWVudCIsIkJvb2xlYW4iLCJsaXR0bGUtaGFuZGxlIiwibGl0dGxlLWhhbmRsZV9fcG9pbnQiLCJsaXR0bGUtaGFuZGxlX19saW5lIiwic25hcCIsIm1vZGlmaWVkIiwicG9pbnRfX3RvdWNoIiwiaXMtc2VsZWN0ZWQiLCJpcy1oaWRlLWhhbmRsZXMiLCJjdXJ2ZSIsImN1cnZlX19iYWNrZ3JvdW5kIiwiY3VydmVfX3N2Zy13cmFwcGVyIiwiY3VydmVfX3N2ZyIsImN1cnZlX19zdmctc2VnbWVudCIsIl9pY29uIiwiX2ljb24yIiwiUmVzaXplSGFuZGxlIiwiY2xhc3NUeXBlIiwiZGF0YS10eXBlIiwic2hhcGUiLCJJY29uIiwibWFya3VwIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpY29uIiwicmVzaXplLWhhbmRsZSIsInJlc2l6ZS1oYW5kbGUtLXJpZ2h0IiwicmVzaXplLWhhbmRsZS0tYm90dG9tIiwiY3VydmUtZWRpdG9yIiwiY3VydmUtZWRpdG9yX19sZWZ0IiwiY3VydmUtZWRpdG9yX19yaWdodCIsImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSIsImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMiLCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyIsIl9pY29uQnV0dG9uIiwiX2ljb25CdXR0b24yIiwiX2ljb25EaXZpZGVyIiwiX2ljb25EaXZpZGVyMiIsIl9wb2ludENvbnRyb2xzIiwiX3BvaW50Q29udHJvbHMyIiwiQ3VydmVFZGl0b3JMZWZ0IiwiSWNvbkJ1dHRvbiIsImlzQ2hlY2siLCJvblRhcCIsImljb24tYnV0dG9uIiwiaXMtY2hlY2tlZCIsImljb24tZGl2aWRlciIsIlBvaW50Q29udHJvbHMiLCJjb250cm9scyIsInBvaW50Q29udHJvbHMiLCJzaG93IiwiaXNTaG93IiwiYnV0dG9ucyIsIl9hZGRCdXR0b25zIiwiYnV0dG9uc01hcCIsIl9vbkJ1dHRvblRhcCIsInBvaW50LWNvbnRyb2xzIiwiaXMtc2hvdyIsIkljb25zIiwiX3JlZHV4IiwiX2luZGV4UmVkdWNlciIsIl9pbmRleFJlZHVjZXIyIiwiY3JlYXRlU3RvcmUiLCJpc0NydXNoZWQiLCJjb21wb3NlIiwiYXBwbHlNaWRkbGV3YXJlIiwiYmluZEFjdGlvbkNyZWF0b3JzIiwiY29tYmluZVJlZHVjZXJzIiwiX2NyZWF0ZVN0b3JlIiwiX2NyZWF0ZVN0b3JlMiIsIl9jb21iaW5lUmVkdWNlcnMiLCJfY29tYmluZVJlZHVjZXJzMiIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMiLCJfYmluZEFjdGlvbkNyZWF0b3JzMiIsIl9hcHBseU1pZGRsZXdhcmUiLCJfYXBwbHlNaWRkbGV3YXJlMiIsIl9jb21wb3NlIiwiX2NvbXBvc2UyIiwiX3dhcm5pbmciLCJfd2FybmluZzIiLCJOT0RFX0VOViIsImVuaGFuY2VyIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJjdXJyZW50TGlzdGVuZXJzIiwibGlzdGVuZXIiLCJpc1N1YnNjcmliZWQiLCJfaXNQbGFpbk9iamVjdDIiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJsaXN0ZW5lcnMiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwiSU5JVCIsIm9ic2VydmFibGUiLCJvdXRlclN1YnNjcmliZSIsIm9ic2VydmVyIiwib2JzZXJ2ZVN0YXRlIiwidW5zdWJzY3JpYmUiLCJfc3ltYm9sT2JzZXJ2YWJsZTIiLCJfcmVmMiIsIl9pc1BsYWluT2JqZWN0IiwiX3N5bWJvbE9ic2VydmFibGUiLCJpc1BsYWluT2JqZWN0IiwiaXNPYmplY3RMaWtlIiwib2JqZWN0VG9TdHJpbmciLCJvYmplY3RUYWciLCJpc0hvc3RPYmplY3QiLCJnZXRQcm90b3R5cGUiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2JqZWN0UHJvdG8iLCJvdmVyQXJnIiwibmF0aXZlR2V0UHJvdG90eXBlIiwiZnVuYyIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uTmFtZSIsImdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UiLCJpbnB1dFN0YXRlIiwicmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImFyZ3VtZW50TmFtZSIsInVuZXhwZWN0ZWRLZXlzIiwiYXNzZXJ0UmVkdWNlclNhbml0eSIsImZpbmFsUmVkdWNlcnMiLCJzYW5pdHlFcnJvciIsImZpbmFsUmVkdWNlcktleXMiLCJ3YXJuaW5nTWVzc2FnZSIsImhhc0NoYW5nZWQiLCJuZXh0U3RhdGUiLCJwcmV2aW91c1N0YXRlRm9yS2V5IiwibmV4dFN0YXRlRm9yS2V5IiwiZXJyb3JNZXNzYWdlIiwid2FybmluZyIsImJpbmRBY3Rpb25DcmVhdG9yIiwiYWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3JzIiwiYm91bmRBY3Rpb25DcmVhdG9ycyIsIm1pZGRsZXdhcmVzIiwiX2Rpc3BhdGNoIiwiY2hhaW4iLCJtaWRkbGV3YXJlQVBJIiwibWFwIiwibWlkZGxld2FyZSIsImZ1bmNzIiwiX3JldCIsInJlc3QiLCJyZWR1Y2VSaWdodCIsImNvbXBvc2VkIiwiX3JlZHV4VW5kbzIiLCJfcmVzaXplUmVkdWNlciIsIl9yZXNpemVSZWR1Y2VyMiIsIl9wb2ludHNSZWR1Y2VyIiwiX3BvaW50c1JlZHVjZXIyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyMiIsIlVORE9BQkxFX09QVFMiLCJjdXJyU3RhdGUiLCJfZGVmaW5lUHJvcGVydHkzIiwiX2V4dGVuZHM0IiwiX2V4dGVuZHM1IiwiSU5JVElBTF9TVEFURSIsInJlc2l6ZVJlZHVjZXIiLCJkZWx0YSIsIm5ld1N0YXRlIiwiX2RhdGEiLCJfdHlwZSIsIl9kZWx0YSIsIm1hdGhNZXRob2QiLCJfbmV3U3RhdGUiLCJfYWN0aW9uJGRhdGEiLCJfYWN0aW9uJGRhdGEyIiwiX3gyIiwiX3kiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9tYWtlUG9pbnQiLCJfbWFrZVBvaW50MiIsIl9pbml0UG9pbnRzIiwiX2luaXRQb2ludHMyIiwiZGVzbGVjdEFsbCIsImZpbmRTZWxlY3RlZEluZGVjaWVzIiwiaW5kZWNpZXMiLCJwb2ludHNSZWR1Y2VyIiwib2xkUG9pbnQiLCJfaW5kZXgiLCJfb2xkUG9pbnQiLCJfaW5kZXgyIiwiX25ld1N0YXRlMiIsIl9kYXRhMiIsIl9pbmRleDMiLCJkZXNlbGVjdGVkIiwiX25ld1N0YXRlMyIsIl9uZXdTdGF0ZTQiLCJfc2VsZWN0ZWQiLCJfbmV3U3RhdGU1IiwiX2l0ZW0iLCJfaW5kZXg0Iiwic2liSGFuZGxlSW5kZXgiLCJoYW5kbGVOYW1lIiwic2liSGFuZGxlTmFtZSIsInNpYkhhbmRsZSIsIl9kYXRhMyIsIl9uZXdTdGF0ZTYiLCJuZXdQb2ludCIsIl9oYW5kbGVOYW1lIiwibmV3SGFuZGxlIiwiX2Zyb20iLCJfZnJvbTIiLCJpc0FycmF5SXRlciIsImNyZWF0ZVByb3BlcnR5IiwiZ2V0SXRlckZuIiwiaXRlciIsImFycmF5TGlrZSIsIm1hcGZuIiwibWFwcGluZyIsIml0ZXJGbiIsIkFycmF5UHJvdG8iLCJjbGFzc29mIiwiZ2V0SXRlcmF0b3JNZXRob2QiLCJBUkciLCJ0cnlHZXQiLCJjYWxsZWUiLCJTQUZFX0NMT1NJTkciLCJyaXRlciIsInNraXBDbG9zaW5nIiwic2FmZSIsImZhbGxiYWNrIiwiX2ZhbGxiYWNrIiwibWFrZUhhbmRsZVBvaW50IiwiaXNUb3VjaGVkIiwibWFrZVBvc2l0aW9uUG9pbnQiLCJtYWtlUG9pbnQiLCJpc0xvY2tlZFkiLCJoYW5kbGUxIiwiaGFuZGxlMiIsInByZWFjdCIsInJlZHV4IiwiX19jb21tb25qcyIsInByb3B0eXBlIiwid2FybkFib3V0UmVjZWl2aW5nU3RvcmUiLCJkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSIsInNoYWxsb3dFcXVhbCIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzQiIsImhhc093biIsIndyYXBBY3Rpb25DcmVhdG9ycyIsImdldERpc3BsYXlOYW1lIiwiV3JhcHBlZENvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwidHJ5Q2F0Y2giLCJlcnJvck9iamVjdCIsImNvbm5lY3QiLCJtYXBTdGF0ZVRvUHJvcHMiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJtZXJnZVByb3BzIiwic2hvdWxkU3Vic2NyaWJlIiwibWFwU3RhdGUiLCJkZWZhdWx0TWFwU3RhdGVUb1Byb3BzIiwibWFwRGlzcGF0Y2giLCJkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzIiwiZmluYWxNZXJnZVByb3BzIiwiZGVmYXVsdE1lcmdlUHJvcHMiLCJfb3B0aW9ucyRwdXJlIiwicHVyZSIsIl9vcHRpb25zJHdpdGhSZWYiLCJ3aXRoUmVmIiwiY2hlY2tNZXJnZWRFcXVhbHMiLCJuZXh0VmVyc2lvbiIsImNoZWNrU3RhdGVTaGFwZSIsIm1ldGhvZE5hbWUiLCJjb25uZWN0RGlzcGxheU5hbWUiLCJjb21wdXRlTWVyZ2VkUHJvcHMiLCJzdGF0ZVByb3BzIiwiZGlzcGF0Y2hQcm9wcyIsInBhcmVudFByb3BzIiwibWVyZ2VkUHJvcHMiLCJDb25uZWN0IiwiYmFiZWxIZWxwZXJzIiwiY2xhc3NDYWxsQ2hlY2siLCJfdGhpcyIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJpbnZhcmlhbnQkMSIsInN0b3JlU3RhdGUiLCJjbGVhckNhY2hlIiwiaW5oZXJpdHMiLCJoYXZlT3duUHJvcHNDaGFuZ2VkIiwiaGFzU3RvcmVTdGF0ZUNoYW5nZWQiLCJjb21wdXRlU3RhdGVQcm9wcyIsImZpbmFsTWFwU3RhdGVUb1Byb3BzIiwiY29uZmlndXJlRmluYWxNYXBTdGF0ZSIsImRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMiLCJtYXBwZWRTdGF0ZSIsImlzRmFjdG9yeSIsImNvbXB1dGVEaXNwYXRjaFByb3BzIiwiZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMiLCJjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoIiwiZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyIsIm1hcHBlZERpc3BhdGNoIiwidXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkIiwibmV4dFN0YXRlUHJvcHMiLCJ1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQiLCJuZXh0RGlzcGF0Y2hQcm9wcyIsInVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQiLCJuZXh0TWVyZ2VkUHJvcHMiLCJ0cnlTdWJzY3JpYmUiLCJoYW5kbGVDaGFuZ2UiLCJ0cnlVbnN1YnNjcmliZSIsImNvbXBvbmVudERpZE1vdW50IiwibmV4dFByb3BzIiwiaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCIsInN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yIiwicmVuZGVyZWRFbGVtZW50IiwicHJldlN0b3JlU3RhdGUiLCJoYXZlU3RhdGVQcm9wc0NoYW5nZWQiLCJnZXRXcmFwcGVkSW5zdGFuY2UiLCJ3cmFwcGVkSW5zdGFuY2UiLCJzaG91bGRVcGRhdGVTdGF0ZVByb3BzIiwic2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyIsImhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCIsImhhdmVNZXJnZWRQcm9wc0NoYW5nZWQiLCJjb250ZXh0VHlwZXMiLCJzdG9yZVNoYXBlIiwiaG9pc3RTdGF0aWNzIiwiQ2hpbGRyZW4iLCJvbmx5IiwiaXNSZXF1aXJlZCIsIlByb3BUeXBlcyIsIm5leHRTdG9yZSIsImNoaWxkQ29udGV4dFR5cGVzIiwicmVxdWlyZSQkMCIsIl9pc0hvc3RPYmplY3QiLCJyZXF1aXJlJCQxIiwiX2dldFByb3RvdHlwZSIsInJlcXVpcmUkJDIiLCJpc1BsYWluT2JqZWN0JDEiLCJSRUFDVF9TVEFUSUNTIiwiZ2V0RGVmYXVsdFByb3BzIiwibWl4aW5zIiwicHJvcFR5cGVzIiwiS05PV05fU1RBVElDUyIsImNhbGxlciIsImFyaXR5IiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsIl9pbml0UG9pbnQiLCJfaW5pdFBvaW50MiIsIm5ld1BvaW50cyIsInNpYlBvaW50Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSx1QkFBQUgsR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxxQkFBQUQsSUFFQUQsRUFBQSxxQkFBQUMsS0FDQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVD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RUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZqRixPQUFPSSxlQUFlbkUsRUFBUyxjQUN6QndFLE9BQU8sR0FHYixJQUFJZ3NDLEdBQVl4dkMsRUFBb0IsS0FFaEN5dkMsRUFBWTFuQyxFQUF1QnluQyxHOE0vblZ4QzEwQixFQUFBOWEsRUFBQSxJOU1tb1ZLK2EsRUFBY2hULEVBQXVCK1MsRUFJekM5YixjOE1yb1ZjLFNBQUNnbEIsRUFBT2ttQyxFQUFVdGQsR0FFL0I1b0IsR0FBQSxFQUFBeXJCLGlCQUFhenJCLEVBRWIsSUFBTXM4QixHQUFBLFNBQTBCMVQsRUFDMUJ5VCxFQUFrQyxJQUFoQnpULEVBQXFCLEVBQUksRUFDM0MyVCxFQUFBLFNBQTBCRixFQUMxQnhULEdBQUEsRUFBQTRDLGlCQUFzQnpyQixFQUFNczhCLElBQzVCRSxHQUFBLEVBQUEvUSxpQkFBc0J6ckIsRUFBTXU4QixHQUNYdjhCLEdBQU1ua0IsSUFLN0IsSUFIQW1rQixFQUFNczhCLEdBQWN6VCxFQUNwQjdvQixFQUFNdThCLEdBQWlCQyxFQUVGLE1BQWhCM1QsRUFBT3ZZLE9BQWtDLE1BQWpCdVksRUFBT0csT0FBaUIsQ0FDbkRILEVBQU9HLE9BQVMsRUFFaEIsSUFBTXJULElBQU11d0IsRUFBU2p0QyxFQUFJK0csRUFBTS9HLEdBQUtsQyxhQUFFdVQsY0FDaENvTCxFQUFLd3dCLEVBQVNyaUQsRUFBSW1jLEVBQU1uYyxFQUUxQnlzQixFQUFRL1UsS0FBS2l4QixLQUFNN1csRUFBR0QsSUFBUSxJQUFJbmEsS0FBS3dYLElBQU0sRUFDNUMyQyxHQUFLLElBQU1wRixHQUFnQixLQUVoQ3VZLEVBQU92WSxNQUFRQSxFQUNma3NCLEVBQVV4VCxPQUFTSCxFQUFPRyxPQUMxQndULEVBQVVsc0IsTUFBU3VZLEVBQU92WSxNQUFRLElBR3BDLE1BQU90USIsImZpbGUiOiJtb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm1vanMtY3VydmUtZWRpdG9yXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtb2pzLWN1cnZlLWVkaXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbi8qKioqKiovIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbi8qKioqKiovIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuLyoqKioqKi8gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHR0cnkge1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4vKioqKioqLyBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdH0gY2F0Y2goeCkge1xyXG4vKioqKioqLyBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjEzYzNhZmQ1NjFkMWNkMzJjMDMwXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZmluYWxseSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiYnVpbGQvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvcik7XG5cdFxuXHR2YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpO1xuXHRcblx0dmFyIF9zdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yZSk7XG5cdFxuXHR2YXIgX3ByZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIGltcG9ydCAnLi90YWdzL2N1cnZlLWVkaXRvci50YWcnO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG5cdFxuXHRcblx0Ly8gVE9ET1xuXHQvLyAgIC0gc2VsZWN0IGF0IHRvdWNoXG5cdC8vICAgLSBtb3ZlIGJ1bmNoIG9mIHBvaW50cyBhdCBvbmNlXG5cdC8vICAgLSBhZGQgQVBJc1xuXHRcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAoMCwgX3ByZWFjdC5yZW5kZXIpKCgwLCBfcHJlYWN0LmgpKFxuXHQgICAgX3ByZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgICAgeyBzdG9yZTogX3N0b3JlMi5kZWZhdWx0IH0sXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3IyLmRlZmF1bHQsIG51bGwpXG5cdCAgKSwgZG9jdW1lbnQuYm9keSk7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHNldEltbWVkaWF0ZSkgeyFmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgICB0cnVlID8gZmFjdG9yeShleHBvcnRzKSA6ICdmdW5jdGlvbicgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsgJ2V4cG9ydHMnIF0sIGZhY3RvcnkpIDogZmFjdG9yeShnbG9iYWwucHJlYWN0ID0gZ2xvYmFsLnByZWFjdCB8fCB7fSk7XG5cdH0odGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXHQgICAgZnVuY3Rpb24gVk5vZGUobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGNoaWxkcmVuKSB7XG5cdCAgICAgICAgdGhpcy5ub2RlTmFtZSA9IG5vZGVOYW1lO1xuXHQgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG5cdCAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHQgICAgICAgIHRoaXMua2V5ID0gYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmtleTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGV4dGVuZChvYmosIHByb3BzKSB7XG5cdCAgICAgICAgaWYgKHByb3BzKSBmb3IgKHZhciBpIGluIHByb3BzKSBpZiAodm9pZCAwICE9PSBwcm9wc1tpXSkgb2JqW2ldID0gcHJvcHNbaV07XG5cdCAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsb25lKG9iaikge1xuXHQgICAgICAgIHJldHVybiBleHRlbmQoe30sIG9iaik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkZWx2ZShvYmosIGtleSkge1xuXHQgICAgICAgIGZvciAodmFyIHAgPSBrZXkuc3BsaXQoJy4nKSwgaSA9IDA7IGkgPCBwLmxlbmd0aCAmJiBvYmo7IGkrKykgb2JqID0gb2JqW3BbaV1dO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB0b0FycmF5KG9iaiwgb2Zmc2V0KSB7XG5cdCAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PSB0eXBlb2Ygb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuICdzdHJpbmcnID09IHR5cGVvZiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbXB0eSh4KSB7XG5cdCAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0geCB8fCBudWxsID09PSB4O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlID09PSAhMSB8fCBlbXB0eSh2YWx1ZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHQgICAgICAgIHZhciBzdHIgPSAnJztcblx0ICAgICAgICBmb3IgKHZhciBwcm9wIGluIGMpIGlmIChjW3Byb3BdKSB7XG5cdCAgICAgICAgICAgIGlmIChzdHIpIHN0ciArPSAnICc7XG5cdCAgICAgICAgICAgIHN0ciArPSBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaChub2RlTmFtZSwgYXR0cmlidXRlcywgZmlyc3RDaGlsZCkge1xuXHQgICAgICAgIHZhciBjaGlsZHJlbiwgYXJyLCBsYXN0U2ltcGxlLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgICAgIGlmIChsZW4gPiAyKSB7XG5cdCAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGZpcnN0Q2hpbGQ7XG5cdCAgICAgICAgICAgIGlmICgzID09PSBsZW4gJiYgJ29iamVjdCcgIT09IHR5cGUgJiYgJ2Z1bmN0aW9uJyAhPT0gdHlwZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIGNoaWxkcmVuID0gWyBTdHJpbmcoZmlyc3RDaGlsZCkgXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gW107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIF9wID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZmFsc2V5KF9wKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Auam9pbikgYXJyID0gX3A7IGVsc2UgKGFyciA9IFNIQVJFRF9URU1QX0FSUkFZKVswXSA9IF9wO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gYXJyW2pdLCBzaW1wbGUgPSAhKGZhbHNleShjaGlsZCkgfHwgaXNGdW5jdGlvbihjaGlsZCkgfHwgY2hpbGQgaW5zdGFuY2VvZiBWTm9kZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkgY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0gKz0gY2hpbGQ7IGVsc2UgaWYgKCFmYWxzZXkoY2hpbGQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSA7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5jaGlsZHJlbikgcmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmIChhdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmNoaWxkcmVuKSBkZWxldGUgYXR0cmlidXRlcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCdjbGFzc05hbWUnIGluIGF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gYXR0cmlidXRlcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgbGFzdFNpbXBsZSA9IGF0dHJpYnV0ZXMuY2xhc3M7XG5cdCAgICAgICAgICAgICAgICBpZiAobGFzdFNpbXBsZSAmJiAhaXNTdHJpbmcobGFzdFNpbXBsZSkpIGF0dHJpYnV0ZXMuY2xhc3MgPSBoYXNoVG9DbGFzc05hbWUobGFzdFNpbXBsZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHAgPSBuZXcgVk5vZGUobm9kZU5hbWUsIGF0dHJpYnV0ZXMgfHwgdm9pZCAwLCBjaGlsZHJlbik7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdCAgICAgICAgcmV0dXJuIHA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuIGgodm5vZGUubm9kZU5hbWUsIGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUxpbmtlZFN0YXRlKGNvbXBvbmVudCwga2V5LCBldmVudFBhdGgpIHtcblx0ICAgICAgICB2YXIgcGF0aCA9IGtleS5zcGxpdCgnLicpLCBwMCA9IHBhdGhbMF07XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgdmFyIF9jb21wb25lbnQkc2V0U3RhdGU7XG5cdCAgICAgICAgICAgIHZhciB2LCBpLCB0ID0gZSAmJiBlLmN1cnJlbnRUYXJnZXQgfHwgdGhpcywgcyA9IGNvbXBvbmVudC5zdGF0ZSwgb2JqID0gcztcblx0ICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0ICAgICAgICAgICAgICAgIHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGVtcHR5KHYpICYmICh0ID0gdC5fY29tcG9uZW50KSkgdiA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB2ID0gdC5ub2RlTmFtZSA/ICh0Lm5vZGVOYW1lICsgdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlIDogZTtcblx0ICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odikpIHYgPSB2LmNhbGwodCk7XG5cdCAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykgb2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdCAgICAgICAgICAgICAgICBvYmpbcGF0aFtpXV0gPSB2O1xuXHQgICAgICAgICAgICAgICAgdiA9IHNbcDBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5zZXRTdGF0ZSgoX2NvbXBvbmVudCRzZXRTdGF0ZSA9IHt9LCBfY29tcG9uZW50JHNldFN0YXRlW3AwXSA9IHYsIF9jb21wb25lbnQkc2V0U3RhdGUpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpIHtcblx0ICAgICAgICBpZiAoMSA9PT0gaXRlbXMucHVzaChjb21wb25lbnQpKSAob3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyB8fCBzZXRJbW1lZGlhdGUpKHJlcmVuZGVyKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHQgICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgdmFyIHAsIGN1cnJlbnRJdGVtcyA9IGl0ZW1zO1xuXHQgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0ICAgICAgICAgICAgaXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXHQgICAgICAgICAgICB3aGlsZSAocCA9IGN1cnJlbnRJdGVtcy5wb3AoKSkgaWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKSB7XG5cdCAgICAgICAgdmFyIG5vZGVOYW1lID0gdm5vZGUgJiYgdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgcmV0dXJuIG5vZGVOYW1lICYmIGlzRnVuY3Rpb24obm9kZU5hbWUpICYmICEobm9kZU5hbWUucHJvdG90eXBlICYmIG5vZGVOYW1lLnByb3RvdHlwZS5yZW5kZXIpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlLCBjb250ZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHZub2RlLm5vZGVOYW1lKGdldE5vZGVQcm9wcyh2bm9kZSksIGNvbnRleHQgfHwgRU1QVFkpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW5zdXJlTm9kZURhdGEobm9kZSwgZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSBkYXRhIHx8IHt9KTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldE5vZGVUeXBlKG5vZGUpIHtcblx0ICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHQpIHJldHVybiAzO1xuXHQgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7IGVsc2UgcmV0dXJuIDA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0ICAgICAgICB2YXIgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0ICAgICAgICBpZiAocCkgcC5yZW1vdmVDaGlsZChub2RlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldEFjY2Vzc29yKG5vZGUsIG5hbWUsIHZhbHVlLCBvbGQsIGlzU3ZnKSB7XG5cdCAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSlbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICBpZiAoJ2tleScgIT09IG5hbWUgJiYgJ2NoaWxkcmVuJyAhPT0gbmFtZSkgaWYgKCdjbGFzcycgPT09IG5hbWUgJiYgIWlzU3ZnKSBub2RlLmNsYXNzTmFtZSA9IHZhbHVlIHx8ICcnOyBlbHNlIGlmICgnc3R5bGUnID09PSBuYW1lKSB7XG5cdCAgICAgICAgICAgIGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgJiYgJ29iamVjdCcgPT0gdHlwZW9mIHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWlzU3RyaW5nKG9sZCkpIGZvciAodmFyIGkgaW4gb2xkKSBpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB2YWx1ZSkgbm9kZS5zdHlsZVtpXSA9ICdudW1iZXInID09IHR5cGVvZiB2YWx1ZVtpXSAmJiAhTk9OX0RJTUVOU0lPTl9QUk9QU1tpXSA/IHZhbHVlW2ldICsgJ3B4JyA6IHZhbHVlW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmICgnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnID09PSBuYW1lKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSkgbm9kZS5pbm5lckhUTUwgPSB2YWx1ZS5fX2h0bWw7XG5cdCAgICAgICAgfSBlbHNlIGlmICgnbycgPT09IG5hbWVbMF0gJiYgJ24nID09PSBuYW1lWzFdKSB7XG5cdCAgICAgICAgICAgIHZhciBsID0gbm9kZS5fbGlzdGVuZXJzIHx8IChub2RlLl9saXN0ZW5lcnMgPSB7fSk7XG5cdCAgICAgICAgICAgIG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFsW25hbWVdKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAobFtuYW1lXSkgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHQgICAgICAgICAgICBsW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIGlmICgndHlwZScgIT09IG5hbWUgJiYgIWlzU3ZnICYmIG5hbWUgaW4gbm9kZSkge1xuXHQgICAgICAgICAgICBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCBlbXB0eSh2YWx1ZSkgPyAnJyA6IHZhbHVlKTtcblx0ICAgICAgICAgICAgaWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdCAgICAgICAgICAgIGlmIChmYWxzZXkodmFsdWUpKSBpZiAobnMpIG5vZGUucmVtb3ZlQXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCB0b0xvd2VyQ2FzZShuc1sxXSkpOyBlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpOyBlbHNlIGlmICgnb2JqZWN0JyAhPSB0eXBlb2YgdmFsdWUgJiYgIWlzRnVuY3Rpb24odmFsdWUpKSBpZiAobnMpIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCB0b0xvd2VyQ2FzZShuc1sxXSksIHZhbHVlKTsgZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBub2RlW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbZS50eXBlXShvcHRpb25zLmV2ZW50ICYmIG9wdGlvbnMuZXZlbnQoZSkgfHwgZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdCAgICAgICAgdmFyIGF0dHJzID0ge307XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSBhdHRyc1tub2RlLmF0dHJpYnV0ZXNbaV0ubmFtZV0gPSBub2RlLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGF0dHJzO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNTYW1lTm9kZVR5cGUobm9kZSwgdm5vZGUpIHtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUpKSByZXR1cm4gMyA9PT0gZ2V0Tm9kZVR5cGUobm9kZSk7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlLm5vZGVOYW1lKSkgcmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHJldHVybiBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUgfHwgaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKTsgZWxzZSA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc05hbWVkTm9kZShub2RlLCBub2RlTmFtZSkge1xuXHQgICAgICAgIHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9PT0gbm9kZU5hbWUgfHwgdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSkgPT09IHRvTG93ZXJDYXNlKG5vZGVOYW1lKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldE5vZGVQcm9wcyh2bm9kZSkge1xuXHQgICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsIHByb3BzID0gY2xvbmUoZGVmYXVsdFByb3BzIHx8IHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmIChkZWZhdWx0UHJvcHMpIGV4dGVuZChwcm9wcywgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSBwcm9wcy5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXHQgICAgICAgIHJldHVybiBwcm9wcztcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0ICAgICAgICBjbGVhbk5vZGUobm9kZSk7XG5cdCAgICAgICAgdmFyIG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlLm5vZGVOYW1lKSwgbGlzdCA9IG5vZGVzW25hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBsaXN0LnB1c2gobm9kZSk7IGVsc2Ugbm9kZXNbbmFtZV0gPSBbIG5vZGUgXTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnKSB7XG5cdCAgICAgICAgdmFyIG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksIG5vZGUgPSBub2Rlc1tuYW1lXSAmJiBub2Rlc1tuYW1lXS5wb3AoKSB8fCAoaXNTdmcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbm9kZU5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSkpO1xuXHQgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHQgICAgICAgIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID0gbmFtZTtcblx0ICAgICAgICByZXR1cm4gbm9kZTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdCAgICAgICAgcmVtb3ZlTm9kZShub2RlKTtcblx0ICAgICAgICBpZiAoMSA9PT0gZ2V0Tm9kZVR5cGUobm9kZSkpIHtcblx0ICAgICAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMobm9kZSkpO1xuXHQgICAgICAgICAgICBub2RlLl9jb21wb25lbnQgPSBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZmx1c2hNb3VudHMoKSB7XG5cdCAgICAgICAgdmFyIGM7XG5cdCAgICAgICAgd2hpbGUgKGMgPSBtb3VudHMucG9wKCkpIGlmIChjLmNvbXBvbmVudERpZE1vdW50KSBjLmNvbXBvbmVudERpZE1vdW50KCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ICAgICAgICBkaWZmTGV2ZWwrKztcblx0ICAgICAgICB2YXIgcmV0ID0gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUgIT09IHBhcmVudCkgcGFyZW50LmFwcGVuZENoaWxkKHJldCk7XG5cdCAgICAgICAgaWYgKCEtLWRpZmZMZXZlbCkgZmx1c2hNb3VudHMoKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgb3JpZ2luYWxBdHRyaWJ1dGVzID0gdm5vZGUgJiYgdm5vZGUuYXR0cmlidXRlcztcblx0ICAgICAgICB3aGlsZSAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKSkgdm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHQgICAgICAgIGlmIChlbXB0eSh2bm9kZSkpIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdCAgICAgICAgICAgIGlmIChkb20pIHtcblx0ICAgICAgICAgICAgICAgIGlmICgzID09PSBnZXROb2RlVHlwZShkb20pICYmIGRvbS5wYXJlbnROb2RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGRvbS5ub2RlVmFsdWUgIT0gdm5vZGUpIGRvbS5ub2RlVmFsdWUgPSB2bm9kZTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY29sbGVjdE5vZGUoZG9tKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc3ZnTW9kZSwgb3V0ID0gZG9tLCBub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKG5vZGVOYW1lKSkgcmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBpZiAoIWlzU3RyaW5nKG5vZGVOYW1lKSkgbm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHQgICAgICAgIHN2Z01vZGUgPSAnc3ZnJyA9PT0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xuXHQgICAgICAgIGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSAhMDtcblx0ICAgICAgICBpZiAoIWRvbSkgb3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTsgZWxzZSBpZiAoIWlzTmFtZWROb2RlKGRvbSwgbm9kZU5hbWUpKSB7XG5cdCAgICAgICAgICAgIG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnTW9kZSk7XG5cdCAgICAgICAgICAgIHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0ICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoZG9tKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuICYmIDEgPT09IHZub2RlLmNoaWxkcmVuLmxlbmd0aCAmJiAnc3RyaW5nJyA9PSB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF0gJiYgMSA9PT0gb3V0LmNoaWxkTm9kZXMubGVuZ3RoICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkgb3V0LmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gdm5vZGUuY2hpbGRyZW5bMF07IGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSBpbm5lckRpZmZOb2RlKG91dCwgdm5vZGUuY2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikgKG91dFtBVFRSX0tFWV0ucmVmID0gb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikob3V0KTtcblx0ICAgICAgICBpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gITE7XG5cdCAgICAgICAgcmV0dXJuIG91dDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlubmVyRGlmZk5vZGUoZG9tLCB2Y2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGosIGMsIHZjaGlsZCwgY2hpbGQsIG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2RlcywgY2hpbGRyZW4gPSBbXSwga2V5ZWQgPSB7fSwga2V5ZWRMZW4gPSAwLCBtaW4gPSAwLCBsZW4gPSBvcmlnaW5hbENoaWxkcmVuLmxlbmd0aCwgY2hpbGRyZW5MZW4gPSAwLCB2bGVuID0gdmNoaWxkcmVuICYmIHZjaGlsZHJlbi5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbikgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgX2NoaWxkID0gb3JpZ2luYWxDaGlsZHJlbltpXSwga2V5ID0gdmxlbiA/IChjID0gX2NoaWxkLl9jb21wb25lbnQpID8gYy5fX2tleSA6IChjID0gX2NoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwgOiBudWxsO1xuXHQgICAgICAgICAgICBpZiAoa2V5IHx8IDAgPT09IGtleSkge1xuXHQgICAgICAgICAgICAgICAga2V5ZWRMZW4rKztcblx0ICAgICAgICAgICAgICAgIGtleWVkW2tleV0gPSBfY2hpbGQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBjaGlsZHJlbltjaGlsZHJlbkxlbisrXSA9IF9jaGlsZDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHZsZW4pIGZvciAodmFyIGkgPSAwOyBpIDwgdmxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0ICAgICAgICAgICAgY2hpbGQgPSBudWxsO1xuXHQgICAgICAgICAgICBpZiAoa2V5ZWRMZW4gJiYgdmNoaWxkLmF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXkgPSB2Y2hpbGQua2V5O1xuXHQgICAgICAgICAgICAgICAgaWYgKCFlbXB0eShrZXkpICYmIGtleSBpbiBrZXllZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkID0ga2V5ZWRba2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICBrZXllZFtrZXldID0gdm9pZCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGtleWVkTGVuLS07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFjaGlsZCAmJiBtaW4gPCBjaGlsZHJlbkxlbikgZm9yIChqID0gbWluOyBqIDwgY2hpbGRyZW5MZW47IGorKykge1xuXHQgICAgICAgICAgICAgICAgYyA9IGNoaWxkcmVuW2pdO1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gYztcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltqXSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gY2hpbGRyZW5MZW4gLSAxKSBjaGlsZHJlbkxlbi0tO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBtaW4pIG1pbisrO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNoaWxkID0gaWRpZmYoY2hpbGQsIHZjaGlsZCwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQgIT09IG9yaWdpbmFsQ2hpbGRyZW5baV0pIGRvbS5pbnNlcnRCZWZvcmUoY2hpbGQsIG9yaWdpbmFsQ2hpbGRyZW5baV0gfHwgbnVsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChrZXllZExlbikgZm9yICh2YXIgaSBpbiBrZXllZCkgaWYgKGtleWVkW2ldKSBjaGlsZHJlblttaW4gPSBjaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHQgICAgICAgIGlmIChtaW4gPCBjaGlsZHJlbkxlbikgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuLCB1bm1vdW50T25seSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQpIHJlY29sbGVjdE5vZGVUcmVlKGNoaWxkLCB1bm1vdW50T25seSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVjb2xsZWN0Tm9kZVRyZWUobm9kZSwgdW5tb3VudE9ubHkpIHtcblx0ICAgICAgICB2YXIgY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50O1xuXHQgICAgICAgIGlmIChjb21wb25lbnQpIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCAhdW5tb3VudE9ubHkpOyBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKG5vZGVbQVRUUl9LRVldICYmIG5vZGVbQVRUUl9LRVldLnJlZikgbm9kZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXHQgICAgICAgICAgICBpZiAoIXVubW91bnRPbmx5KSBjb2xsZWN0Tm9kZShub2RlKTtcblx0ICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGROb2RlcyAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSByZW1vdmVPcnBoYW5lZENoaWxkcmVuKG5vZGUuY2hpbGROb2RlcywgdW5tb3VudE9ubHkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpZmZBdHRyaWJ1dGVzKGRvbSwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXHQgICAgICAgIGZvciAodmFyIF9uYW1lIGluIG9sZCkgaWYgKCEoYXR0cnMgJiYgX25hbWUgaW4gYXR0cnMpKSBzZXRBY2Nlc3Nvcihkb20sIF9uYW1lLCBudWxsLCBvbGRbX25hbWVdLCBpc1N2Z01vZGUpO1xuXHQgICAgICAgIGlmIChhdHRycykgZm9yICh2YXIgX25hbWUyIGluIGF0dHJzKSBpZiAoIShfbmFtZTIgaW4gb2xkKSB8fCBhdHRyc1tfbmFtZTJdICE9ICgndmFsdWUnID09PSBfbmFtZTIgfHwgJ3NlbGVjdGVkJyA9PT0gX25hbWUyIHx8ICdjaGVja2VkJyA9PT0gX25hbWUyID8gZG9tW19uYW1lMl0gOiBvbGRbX25hbWUyXSkpIHNldEFjY2Vzc29yKGRvbSwgX25hbWUyLCBhdHRyc1tfbmFtZTJdLCBvbGRbX25hbWUyXSwgaXNTdmdNb2RlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSwgbGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGxpc3QucHVzaChjb21wb25lbnQpOyBlbHNlIGNvbXBvbmVudHNbbmFtZV0gPSBbIGNvbXBvbmVudCBdO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KEN0b3IsIHByb3BzLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdmFyIGluc3QgPSBuZXcgQ3Rvcihwcm9wcywgY29udGV4dCksIGxpc3QgPSBjb21wb25lbnRzW0N0b3IubmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGZvciAodmFyIGkgPSBsaXN0Lmxlbmd0aDsgaS0tOyApIGlmIChsaXN0W2ldLmNvbnN0cnVjdG9yID09PSBDdG9yKSB7XG5cdCAgICAgICAgICAgIGluc3QubmV4dEJhc2UgPSBsaXN0W2ldLm5leHRCYXNlO1xuXHQgICAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBpbnN0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdHJpZ2dlckNvbXBvbmVudFJlbmRlcihjb21wb25lbnQpIHtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlydHkpIHtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXJ0eSA9ICEwO1xuXHQgICAgICAgICAgICBlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0Q29tcG9uZW50UHJvcHMoY29tcG9uZW50LCBwcm9wcywgb3B0cywgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgYiA9IGNvbXBvbmVudC5iYXNlO1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nKSB7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICEwO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmID0gcHJvcHMucmVmKSBkZWxldGUgcHJvcHMucmVmO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSBkZWxldGUgcHJvcHMua2V5O1xuXHQgICAgICAgICAgICBpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dCAhPT0gY29tcG9uZW50LmNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LnByZXZDb250ZXh0KSBjb21wb25lbnQucHJldkNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dDtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWNvbXBvbmVudC5wcmV2UHJvcHMpIGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJvcHM7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMTtcblx0ICAgICAgICAgICAgaWYgKDAgIT09IG9wdHMpIGlmICgxID09PSBvcHRzIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMgIT09ICExIHx8ICFiKSByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCAxLCBtb3VudEFsbCk7IGVsc2UgdHJpZ2dlckNvbXBvbmVudFJlbmRlcihjb21wb25lbnQpO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYoY29tcG9uZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBvcHRzLCBtb3VudEFsbCkge1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nKSB7XG5cdCAgICAgICAgICAgIHZhciBza2lwLCByZW5kZXJlZCwgcHJvcHMgPSBjb21wb25lbnQucHJvcHMsIHN0YXRlID0gY29tcG9uZW50LnN0YXRlLCBjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsIHByZXZpb3VzUHJvcHMgPSBjb21wb25lbnQucHJldlByb3BzIHx8IHByb3BzLCBwcmV2aW91c1N0YXRlID0gY29tcG9uZW50LnByZXZTdGF0ZSB8fCBzdGF0ZSwgcHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsIGlzVXBkYXRlID0gY29tcG9uZW50LmJhc2UsIGluaXRpYWxCYXNlID0gaXNVcGRhdGUgfHwgY29tcG9uZW50Lm5leHRCYXNlLCBuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLCBiYXNlUGFyZW50ID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UucGFyZW50Tm9kZSwgaW5pdGlhbENvbXBvbmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLl9jb21wb25lbnQsIGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHQgICAgICAgICAgICBpZiAoaXNVcGRhdGUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwcmV2aW91c1N0YXRlO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG5cdCAgICAgICAgICAgICAgICBpZiAoMiAhPT0gb3B0cyAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KSA9PT0gITEpIHNraXAgPSAhMDsgZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHN0YXRlO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJldlN0YXRlID0gY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50Lm5leHRCYXNlID0gbnVsbDtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXJ0eSA9ICExO1xuXHQgICAgICAgICAgICBpZiAoIXNraXApIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQucmVuZGVyKSByZW5kZXJlZCA9IGNvbXBvbmVudC5yZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSBjb250ZXh0ID0gZXh0ZW5kKGNsb25lKGNvbnRleHQpLCBjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KCkpO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIHZhciB0b1VubW91bnQsIGJhc2UsIGNoaWxkQ29tcG9uZW50ID0gcmVuZGVyZWQgJiYgcmVuZGVyZWQubm9kZU5hbWU7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjaGlsZENvbXBvbmVudCkgJiYgY2hpbGRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzID0gZ2V0Tm9kZVByb3BzKHJlbmRlcmVkKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdCAmJiBpbnN0LmNvbnN0cnVjdG9yID09PSBjaGlsZENvbXBvbmVudCkgc2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMSwgY29udGV4dCk7IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b1VubW91bnQgPSBpbnN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnN0ID0gY3JlYXRlQ29tcG9uZW50KGNoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5fcGFyZW50Q29tcG9uZW50ID0gY29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuX2NvbXBvbmVudCA9IGluc3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDAsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJDb21wb25lbnQoaW5zdCwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBpbnN0LmJhc2U7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXHQgICAgICAgICAgICAgICAgICAgIHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodG9Vbm1vdW50KSBjYmFzZSA9IGNvbXBvbmVudC5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEJhc2UgfHwgMSA9PT0gb3B0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Jhc2UpIGNiYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBiYXNlID0gZGlmZihjYmFzZSwgcmVuZGVyZWQsIGNvbnRleHQsIG1vdW50QWxsIHx8ICFpc1VwZGF0ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxCYXNlICYmIGJhc2UgIT09IGluaXRpYWxCYXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VQYXJlbnQgJiYgYmFzZSAhPT0gYmFzZVBhcmVudCkgYmFzZVBhcmVudC5pbnNlcnRCZWZvcmUoYmFzZSwgbmV4dFNpYmxpbmcgfHwgbnVsbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCF0b1VubW91bnQgJiYgaW5pdGlhbENvbXBvbmVudCA9PT0gY29tcG9uZW50ICYmICFpbml0aWFsQ2hpbGRDb21wb25lbnQgJiYgaW5pdGlhbEJhc2UucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsQmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoaW5pdGlhbEJhc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh0b1VubW91bnQpIHVubW91bnRDb21wb25lbnQodG9Vbm1vdW50LCAhMCk7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuYmFzZSA9IGJhc2U7XG5cdCAgICAgICAgICAgICAgICBpZiAoYmFzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnQsIHQgPSBjb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPSB0Ll9wYXJlbnRDb21wb25lbnQpIGNvbXBvbmVudFJlZiA9IHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZS5fY29tcG9uZW50ID0gY29tcG9uZW50UmVmO1xuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghaXNVcGRhdGUgfHwgbW91bnRBbGwpIHtcblx0ICAgICAgICAgICAgICAgIG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWRpZmZMZXZlbCkgZmx1c2hNb3VudHMoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICghc2tpcCAmJiBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzUHJvcHMsIHByZXZpb3VzU3RhdGUsIHByZXZpb3VzQ29udGV4dCk7XG5cdCAgICAgICAgICAgIHZhciBmbiwgY2IgPSBjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcztcblx0ICAgICAgICAgICAgaWYgKGNiKSB3aGlsZSAoZm4gPSBjYi5wb3AoKSkgZm4uY2FsbChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmVuZGVyZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCwgb2xkRG9tID0gZG9tLCBpc0RpcmVjdE93bmVyID0gYyAmJiBkb20uX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZSwgaXNPd25lciA9IGlzRGlyZWN0T3duZXIsIHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0ICAgICAgICB3aGlsZSAoYyAmJiAhaXNPd25lciAmJiAoYyA9IGMuX3BhcmVudENvbXBvbmVudCkpIGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICBpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0ICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDMsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgZG9tID0gYy5iYXNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdCAgICAgICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KGMsICEwKTtcblx0ICAgICAgICAgICAgICAgIGRvbSA9IG9sZERvbSA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYyA9IGNyZWF0ZUNvbXBvbmVudCh2bm9kZS5ub2RlTmFtZSwgcHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICBpZiAoZG9tICYmICFjLm5leHRCYXNlKSBjLm5leHRCYXNlID0gZG9tO1xuXHQgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBkb20gPSBjLmJhc2U7XG5cdCAgICAgICAgICAgIGlmIChvbGREb20gJiYgZG9tICE9PSBvbGREb20pIHtcblx0ICAgICAgICAgICAgICAgIG9sZERvbS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKG9sZERvbSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGRvbTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0ICAgICAgICB2YXIgYmFzZSA9IGNvbXBvbmVudC5iYXNlO1xuXHQgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICEwO1xuXHQgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHQgICAgICAgIGNvbXBvbmVudC5iYXNlID0gbnVsbDtcblx0ICAgICAgICB2YXIgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0ICAgICAgICBpZiAoaW5uZXIpIHVubW91bnRDb21wb25lbnQoaW5uZXIsIHJlbW92ZSk7IGVsc2UgaWYgKGJhc2UpIHtcblx0ICAgICAgICAgICAgaWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXHQgICAgICAgICAgICBjb21wb25lbnQubmV4dEJhc2UgPSBiYXNlO1xuXHQgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG5cdCAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGJhc2UpO1xuXHQgICAgICAgICAgICAgICAgY29sbGVjdENvbXBvbmVudChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKG51bGwpO1xuXHQgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudERpZFVubW91bnQoKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQgICAgICAgIHRoaXMuX2RpcnR5ID0gITA7XG5cdCAgICAgICAgdGhpcy5fZGlzYWJsZVJlbmRlcmluZyA9ICExO1xuXHQgICAgICAgIHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0ICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuXHQgICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUoKSB8fCB7fTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50LCBtZXJnZSkge1xuXHQgICAgICAgIHJldHVybiBkaWZmKG1lcmdlLCB2bm9kZSwge30sICExLCBwYXJlbnQpO1xuXHQgICAgfVxuXHQgICAgdmFyIGxjQ2FjaGUgPSB7fTtcblx0ICAgIHZhciB0b0xvd2VyQ2FzZSA9IGZ1bmN0aW9uKHMpIHtcblx0ICAgICAgICByZXR1cm4gbGNDYWNoZVtzXSB8fCAobGNDYWNoZVtzXSA9IHMudG9Mb3dlckNhc2UoKSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIHJlc29sdmVkID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICB2YXIgc2V0SW1tZWRpYXRlID0gcmVzb2x2ZWQgPyBmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmVzb2x2ZWQudGhlbihmKTtcblx0ICAgIH0gOiBzZXRUaW1lb3V0O1xuXHQgICAgdmFyIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgdm5vZGU6IGVtcHR5XG5cdCAgICB9O1xuXHQgICAgdmFyIFNIQVJFRF9URU1QX0FSUkFZID0gW107XG5cdCAgICB2YXIgRU1QVFkgPSB7fTtcblx0ICAgIHZhciBBVFRSX0tFWSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cdCAgICB2YXIgTk9OX0RJTUVOU0lPTl9QUk9QUyA9IHtcblx0ICAgICAgICBib3hGbGV4OiAxLFxuXHQgICAgICAgIGJveEZsZXhHcm91cDogMSxcblx0ICAgICAgICBjb2x1bW5Db3VudDogMSxcblx0ICAgICAgICBmaWxsT3BhY2l0eTogMSxcblx0ICAgICAgICBmbGV4OiAxLFxuXHQgICAgICAgIGZsZXhHcm93OiAxLFxuXHQgICAgICAgIGZsZXhQb3NpdGl2ZTogMSxcblx0ICAgICAgICBmbGV4U2hyaW5rOiAxLFxuXHQgICAgICAgIGZsZXhOZWdhdGl2ZTogMSxcblx0ICAgICAgICBmb250V2VpZ2h0OiAxLFxuXHQgICAgICAgIGxpbmVDbGFtcDogMSxcblx0ICAgICAgICBsaW5lSGVpZ2h0OiAxLFxuXHQgICAgICAgIG9wYWNpdHk6IDEsXG5cdCAgICAgICAgb3JkZXI6IDEsXG5cdCAgICAgICAgb3JwaGFuczogMSxcblx0ICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxuXHQgICAgICAgIHdpZG93czogMSxcblx0ICAgICAgICB6SW5kZXg6IDEsXG5cdCAgICAgICAgem9vbTogMVxuXHQgICAgfTtcblx0ICAgIHZhciBpdGVtcyA9IFtdO1xuXHQgICAgdmFyIGl0ZW1zT2ZmbGluZSA9IFtdO1xuXHQgICAgdmFyIG5vZGVzID0ge307XG5cdCAgICB2YXIgbW91bnRzID0gW107XG5cdCAgICB2YXIgZGlmZkxldmVsID0gMDtcblx0ICAgIHZhciBpc1N2Z01vZGUgPSAhMTtcblx0ICAgIHZhciBjb21wb25lbnRzID0ge307XG5cdCAgICBleHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZSwge1xuXHQgICAgICAgIGxpbmtTdGF0ZTogZnVuY3Rpb24oa2V5LCBldmVudFBhdGgpIHtcblx0ICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9saW5rZWRTdGF0ZXMgfHwgKHRoaXMuX2xpbmtlZFN0YXRlcyA9IHt9KSwgY2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdCAgICAgICAgICAgIHJldHVybiBjW2NhY2hlS2V5XSB8fCAoY1tjYWNoZUtleV0gPSBjcmVhdGVMaW5rZWRTdGF0ZSh0aGlzLCBrZXksIGV2ZW50UGF0aCkpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0U3RhdGU6IGZ1bmN0aW9uKHN0YXRlLCBjYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc3RhdGU7XG5cdCAgICAgICAgICAgIGlmICghdGhpcy5wcmV2U3RhdGUpIHRoaXMucHJldlN0YXRlID0gY2xvbmUocyk7XG5cdCAgICAgICAgICAgIGV4dGVuZChzLCBpc0Z1bmN0aW9uKHN0YXRlKSA/IHN0YXRlKHMsIHRoaXMucHJvcHMpIDogc3RhdGUpO1xuXHQgICAgICAgICAgICBpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgfHwgW10pLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICAgICAgICB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKHRoaXMpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZm9yY2VVcGRhdGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZW5kZXJDb21wb25lbnQodGhpcywgMik7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGV4cG9ydHMuaCA9IGg7XG5cdCAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGNsb25lRWxlbWVudDtcblx0ICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuXHQgICAgZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cdCAgICBleHBvcnRzLnJlcmVuZGVyID0gcmVyZW5kZXI7XG5cdCAgICBleHBvcnRzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHR9KTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLnNldEltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oc2V0SW1tZWRpYXRlLCBjbGVhckltbWVkaWF0ZSkge3ZhciBuZXh0VGljayA9IF9fd2VicGFja19yZXF1aXJlX18oNCkubmV4dFRpY2s7XG5cdHZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgaW1tZWRpYXRlSWRzID0ge307XG5cdHZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXHRcblx0Ly8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3Ncblx0XG5cdGV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcblx0fTtcblx0ZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xuXHR9O1xuXHRleHBvcnRzLmNsZWFyVGltZW91dCA9XG5cdGV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXHRcblx0ZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuXHQgIHRoaXMuX2lkID0gaWQ7XG5cdCAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG5cdH1cblx0VGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuXHRUaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcblx0fTtcblx0XG5cdC8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuXHRleHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdFxuXHQgIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuXHQgIGlmIChtc2VjcyA+PSAwKSB7XG5cdCAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG5cdCAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG5cdCAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG5cdCAgICB9LCBtc2Vjcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5cdGV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcblx0ICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcblx0ICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFxuXHQgIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXHRcblx0ICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuXHQgICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcblx0ICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuXHQgICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuXHQgICAgICBpZiAoYXJncykge1xuXHQgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZuLmNhbGwobnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG5cdCAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gaWQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG5cdH07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLnNldEltbWVkaWF0ZSwgX193ZWJwYWNrX3JlcXVpcmVfXygzKS5jbGVhckltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0XG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHRyeSB7XG5cdCAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdHJ5IHtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9ICgpKVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCB0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBkcmFpblF1ZXVlLCAwKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9yZWR1eFVuZG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvclJpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yUmlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3VydmVFZGl0b3JSaWdodCk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yTGVmdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JMZWZ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yTGVmdCk7XG5cdFxuXHR2YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXHRcblx0dmFyIF9pY29uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29ucyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcblx0dmFyIEN1cnZlRWRpdG9yID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDdXJ2ZUVkaXRvciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEN1cnZlRWRpdG9yKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ3VydmVFZGl0b3IpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ3VydmVFZGl0b3IpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ3VydmVFZGl0b3IsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdCAgICAgIHZhciBzdHlsZSA9IHRoaXMuX2dldFN0eWxlKHN0YXRlKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yJ10sIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uczIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlRWRpdG9yTGVmdDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlRWRpdG9yUmlnaHQyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoc3RhdGUpIHtcblx0ICAgICAgdmFyIFhfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIDUzO1xuXHQgICAgICB2YXIgWV9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgMiAqIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEFERElORztcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIHRlbXBfdG9wID0gcmVzaXplLnRlbXBfdG9wO1xuXHQgICAgICB2YXIgdGVtcF9ib3R0b20gPSByZXNpemUudGVtcF9ib3R0b207XG5cdCAgICAgIHZhciB0ZW1wX3JpZ2h0ID0gcmVzaXplLnRlbXBfcmlnaHQ7XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSByZXNpemUudHJhbnNsYXRlO1xuXHRcblx0XG5cdCAgICAgIHRlbXBfdG9wICs9IHJlc2l6ZS50b3A7XG5cdCAgICAgIHRlbXBfYm90dG9tICs9IHJlc2l6ZS5ib3R0b207XG5cdCAgICAgIHRlbXBfcmlnaHQgKz0gcmVzaXplLnJpZ2h0O1xuXHRcblx0ICAgICAgLy8gY29uc3RyYWluIG1pbiBoZWlnaHRcblx0ICAgICAgaWYgKFlfU0laRSAtIHRlbXBfdG9wIDwgWV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF90b3AgPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChZX1NJWkUgKyB0ZW1wX2JvdHRvbSA8IFlfU0laRSkge1xuXHQgICAgICAgIHRlbXBfYm90dG9tID0gMDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoWF9TSVpFICsgdGVtcF9yaWdodCA8IFhfU0laRSkge1xuXHQgICAgICAgIHRlbXBfcmlnaHQgPSAwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0ZW1wX3RvcCA9ICgwLCBfcmVzaXplTW9kMi5kZWZhdWx0KSh0ZW1wX3RvcCwgLTEpO1xuXHQgICAgICB0ZW1wX2JvdHRvbSA9ICgwLCBfcmVzaXplTW9kMi5kZWZhdWx0KSh0ZW1wX2JvdHRvbSk7XG5cdFxuXHQgICAgICB2YXIgaGVpZ2h0ID0gJ2hlaWdodDogJyArIChZX1NJWkUgLSB0ZW1wX3RvcCArIHRlbXBfYm90dG9tKSArICdweCcsXG5cdCAgICAgICAgICB3aWR0aCA9ICd3aWR0aDogJyArIChYX1NJWkUgKyB0ZW1wX3JpZ2h0KSArICdweCcsXG5cdCAgICAgICAgICB4ID0gcmVzaXplLnggKyByZXNpemUudGVtcFgsXG5cdCAgICAgICAgICB5ID0gcmVzaXplLnkgKyByZXNpemUudGVtcFksXG5cdCAgICAgICAgICB0cmFuc2Zvcm0gPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoJyArIHggKyAncHgsICcgKyAoeSArIHRlbXBfdG9wKSArICdweCknO1xuXHRcblx0ICAgICAgcmV0dXJuICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2Zvcm0gKyAnOyAnICsgdHJhbnNmb3JtICsgJzsgJyArIHdpZHRoICsgJzsgJyArIGhlaWdodCArICc7Jztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1sZWZ0LXBhbmVsJyk7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKGVsKSk7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1RSQU5TTEFURScsIGRhdGE6IHsgeDogeCwgeTogeSB9IH0pO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1RSQU5TTEFURV9FTkQnLCBkYXRhOiB7IHg6IHgsIHk6IHkgfSB9KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIC8vIC5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTsgfSk7XG5cdFxuXHQgICAgICB0aGlzLl9hZGRLZXlVcCgpO1xuXHQgICAgICBzdG9yZS5zdWJzY3JpYmUodGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYWRkS2V5VXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRLZXlVcCgpIHtcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9vbktleVVwLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19vbktleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25LZXlVcChlKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdCAgICAgIGlmICghZS5hbHRLZXkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG5cdCAgICAgICAgY2FzZSA5MDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKF9yZWR1eFVuZG8uQWN0aW9uQ3JlYXRvcnMudW5kbygpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIDg4OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goX3JlZHV4VW5kby5BY3Rpb25DcmVhdG9ycy5yZWRvKCkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgNjg6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZUVkaXRvcjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvcjtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblx0dmFyIHRvT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsICRnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuXHQgICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuXHQgIH07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxuXHR2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxuXHR2YXIgaGFzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgdG9PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCBjb3JlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0ICAsIGZhaWxzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuXHQgIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cblx0ICAgICwgZXhwID0ge307XG5cdCAgZXhwW0tFWV0gPSBleGVjKGZuKTtcblx0ICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cdHZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcblx0ICBhRnVuY3Rpb24oZm4pO1xuXHQgIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG5cdCAgc3dpdGNoKGxlbmd0aCl7XG5cdCAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKVxuXHQgICwgY3JlYXRlRGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHR9IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuXHQgIHJldHVybiBvYmplY3Q7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG5cdCAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXygyOCkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiAhIWV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpLmRvY3VtZW50XG5cdCAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG5cdCAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdC8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG5cdC8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuXHQgIHZhciBmbiwgdmFsO1xuXHQgIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG5cdCAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0ICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHQgICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzNSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygyNyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMjMpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblx0XG5cdHZhciBfc3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHR2YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9IDogZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KS5mKCdpdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSh0cnVlKTtcblx0XG5cdC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBpbmRleCA9IHRoaXMuX2lcblx0ICAgICwgcG9pbnQ7XG5cdCAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcblx0ICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG5cdCAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG5cdCAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4xLjQgVG9JbnRlZ2VyXG5cdHZhciBjZWlsICA9IE1hdGguY2VpbFxuXHQgICwgZmxvb3IgPSBNYXRoLmZsb29yO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBMSUJSQVJZICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdCAgLCBoaWRlICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpXG5cdCAgLCBJdGVyYXRvcnMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cdFxuXHR2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuXHQgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblx0ICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG5cdCAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2goa2luZCl7XG5cdCAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICB9O1xuXHQgIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG5cdCAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuXHQgICAgLCBWQUxVRVNfQlVHID0gZmFsc2Vcblx0ICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG5cdCAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cblx0ICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG5cdCAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG5cdCAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG5cdCAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmKCRhbnlOYXRpdmUpe1xuXHQgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcblx0ICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuXHQgICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcblx0ICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG5cdCAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuXHQgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG5cdCAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuXHQgIH1cblx0ICAvLyBQbHVnIGZvciBsaWJyYXJ5XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG5cdCAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcblx0ICBpZihERUZBVUxUKXtcblx0ICAgIG1ldGhvZHMgPSB7XG5cdCAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG5cdCAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG5cdCAgICB9O1xuXHQgICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG5cdCAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjcmVhdGUgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpXG5cdCAgLCBkZXNjcmlwdG9yICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXHRcblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMikoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcblx0ICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdHZhciBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCBkUHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCdJRV9QUk9UTycpXG5cdCAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHQvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cdHZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgnaWZyYW1lJylcblx0ICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG5cdCAgICAsIGx0ICAgICA9ICc8J1xuXHQgICAgLCBndCAgICAgPSAnPidcblx0ICAgICwgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg2MCkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuXHQgIHJldHVybiBjcmVhdGVEaWN0KCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYoTyAhPT0gbnVsbCl7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcblx0ICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcblx0ICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMylcblx0ICAsIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGkgPSAwXG5cdCAgICAsIFA7XG5cdCAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxuXHR2YXIgJGtleXMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBoYXMgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgdG9JT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIGFycmF5SW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpKGZhbHNlKVxuXHQgICwgSUVfUFJPVE8gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoJ0lFX1BST1RPJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGtleTtcblx0ICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcblx0ICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG5cdHZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NClcblx0ICAsIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcblx0Ly8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpXG5cdCAgLCB0b0xlbmd0aCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KVxuXHQgICwgdG9JbmRleCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuXHQgIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG5cdCAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuXHQgICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuXHQgICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG5cdCAgICAgICwgdmFsdWU7XG5cdCAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG5cdCAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG5cdCAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcblx0ICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG5cdCAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG5cdCAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcblx0ICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuXHQgICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjE1IFRvTGVuZ3RoXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKVxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG5cdCAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuXHQgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcblx0KS5zcGxpdCgnLCcpO1xuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSkuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5mXG5cdCAgLCBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MikoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpKCd3a3MnKVxuXHQgICwgdWlkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBTeW1ib2wgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSkuU3ltYm9sXG5cdCAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cdFxuXHQkZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHR2YXIgZ2xvYmFsICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBoaWRlICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0ICAsIEl0ZXJhdG9ycyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHQgICwgVE9fU1RSSU5HX1RBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0Zm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG5cdCAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuXHQgICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG5cdCAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuXHQgIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSlcblx0ICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KVxuXHQgICwgSXRlcmF0b3JzICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHQvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG5cdC8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG5cdC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcblx0Ly8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcblx0ICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0ICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuXHQvLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcblx0fSwgZnVuY3Rpb24oKXtcblx0ICB2YXIgTyAgICAgPSB0aGlzLl90XG5cdCAgICAsIGtpbmQgID0gdGhpcy5fa1xuXHQgICAgLCBpbmRleCA9IHRoaXMuX2krKztcblx0ICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG5cdCAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuIHN0ZXAoMSk7XG5cdCAgfVxuXHQgIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuXHQgIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuXHQgIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcblx0fSwgJ3ZhbHVlcycpO1xuXHRcblx0Ly8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuXHRJdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXHRcblx0YWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcblx0ICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNjkpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuU3ltYm9sO1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgREVTQ1JJUFRPUlMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KVxuXHQgICwgTUVUQSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKS5LRVlcblx0ICAsICRmYWlscyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsIHNoYXJlZCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSlcblx0ICAsIHVpZCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIHdrcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Milcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nylcblx0ICAsIHdrc0RlZmluZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Milcblx0ICAsIGtleU9mICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mylcblx0ICAsIGVudW1LZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NClcblx0ICAsIGlzQXJyYXkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nylcblx0ICAsIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsIF9jcmVhdGUgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSlcblx0ICAsIGdPUE5FeHQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OClcblx0ICAsICRHT1BEICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0ICAsICREUCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMylcblx0ICAsICRrZXlzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuXHQgICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuXHQgICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcblx0ICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuXHQgICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuXHQgICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcblx0ICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcblx0ICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcblx0ICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG5cdCAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG5cdCAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jylcblx0ICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcblx0ICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcblx0ICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cblx0ICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuXHQgICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcblx0Ly8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG5cdHZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG5cdHZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG5cdCAgfSkpLmEgIT0gNztcblx0fSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcblx0ICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcblx0ICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG5cdCAgZFAoaXQsIGtleSwgRCk7XG5cdCAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuXHR9IDogZFA7XG5cdFxuXHR2YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG5cdCAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcblx0ICBzeW0uX2sgPSB0YWc7XG5cdCAgcmV0dXJuIHN5bTtcblx0fTtcblx0XG5cdHZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcblx0fSA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xuXHR9O1xuXHRcblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGFuT2JqZWN0KEQpO1xuXHQgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcblx0ICAgIGlmKCFELmVudW1lcmFibGUpe1xuXHQgICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcblx0ICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG5cdCAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuXHQgICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcblx0ICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcblx0fTtcblx0dmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcblx0ICAgICwgaSAgICA9IDBcblx0ICAgICwgbCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcblx0ICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG5cdH07XG5cdHZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuXHQgIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG5cdCAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG5cdCAgaXQgID0gdG9JT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG5cdCAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuXHQgIHJldHVybiBEO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuXHQgIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cblx0ICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuXHQgICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0Ly8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5cdGlmKCFVU0VfTkFUSVZFKXtcblx0ICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG5cdCAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcblx0ICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuXHQgICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdCAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcblx0ICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuXHQgICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHQgICAgfTtcblx0ICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuXHQgICAgcmV0dXJuIHdyYXAodGFnKTtcblx0ICB9O1xuXHQgIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcblx0ICAgIHJldHVybiB0aGlzLl9rO1xuXHQgIH0pO1xuXHRcblx0ICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0ICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oNzkpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblx0XG5cdCAgaWYoREVTQ1JJUFRPUlMgJiYgIV9fd2VicGFja19yZXF1aXJlX18oNDUpKXtcblx0ICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuXHQgIH1cblx0XG5cdCAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcblx0ICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cdFxuXHRmb3IodmFyIHN5bWJvbHMgPSAoXG5cdCAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcblx0ICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG5cdCkuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcblx0ICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcblx0ICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcblx0ICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcblx0ICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG5cdCAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcblx0ICB9LFxuXHQgIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuXHQgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG5cdCAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcblx0ICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcblx0ICB9LFxuXHQgIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcblx0ICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG5cdH0pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcblx0ICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdCAgY3JlYXRlOiAkY3JlYXRlLFxuXHQgIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQgIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG5cdCAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcblx0ICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcblx0ICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG5cdCAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuXHQgIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdCAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuXHQgIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xuXHR9KTtcblx0XG5cdC8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuXHQkSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcblx0ICB2YXIgUyA9ICRTeW1ib2woKTtcblx0ICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuXHQgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuXHQgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG5cdCAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcblx0fSkpLCAnSlNPTicsIHtcblx0ICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG5cdCAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcblx0ICAgIHZhciBhcmdzID0gW2l0XVxuXHQgICAgICAsIGkgICAgPSAxXG5cdCAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcblx0ICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG5cdCAgICByZXBsYWNlciA9IGFyZ3NbMV07XG5cdCAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcblx0ICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0ICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG5cdCAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuXHQgICAgfTtcblx0ICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcblx0ICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0Ly8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuXHQkU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuXHQvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5cdHNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcblx0Ly8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuXHQvLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgTUVUQSAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSgnbWV0YScpXG5cdCAgLCBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBoYXMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpXG5cdCAgLCBzZXREZXNjICA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpLmZcblx0ICAsIGlkICAgICAgID0gMDtcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0dmFyIEZSRUVaRSA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG5cdH0pO1xuXHR2YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcblx0ICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuXHQgICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcblx0ICB9fSk7XG5cdH07XG5cdHZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcblx0ICBpZighaGFzKGl0LCBNRVRBKSl7XG5cdCAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuXHQgICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG5cdCAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXHQgICAgc2V0TWV0YShpdCk7XG5cdCAgLy8gcmV0dXJuIG9iamVjdCBJRFxuXHQgIH0gcmV0dXJuIGl0W01FVEFdLmk7XG5cdH07XG5cdHZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuXHQgICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcblx0ICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfSByZXR1cm4gaXRbTUVUQV0udztcblx0fTtcblx0Ly8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG5cdHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIEtFWTogICAgICBNRVRBLFxuXHQgIE5FRUQ6ICAgICBmYWxzZSxcblx0ICBmYXN0S2V5OiAgZmFzdEtleSxcblx0ICBnZXRXZWFrOiAgZ2V0V2Vhayxcblx0ICBvbkZyZWV6ZTogb25GcmVlemVcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgY29yZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuXHQgICwgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KVxuXHQgICwgd2tzRXh0ICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHQgICwgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5mO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuXHQgIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG5cdCAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdldEtleXMgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpXG5cdCAgLCB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpbmRleCAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG5cdHZhciBnZXRLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUFMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KVxuXHQgICwgcElFICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG5cdCAgaWYoZ2V0U3ltYm9scyl7XG5cdCAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG5cdCAgICAgICwgaXNFbnVtICA9IHBJRS5mXG5cdCAgICAgICwgaSAgICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG5cdCAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xuXHR2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIGdPUE4gICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpLmZcblx0ICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXHRcblx0dmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcblx0ICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblx0XG5cdHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGdPUE4oaXQpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblx0dmFyICRrZXlzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXHQgICwgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXHRcblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHBJRSAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMilcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcblx0ICBPID0gdG9JT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuXHQgICAgcmV0dXJuIGdPUEQoTywgUCk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzIpKCdhc3luY0l0ZXJhdG9yJyk7XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MikoJ29ic2VydmFibGUnKTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcblx0ICB9XG5cdFxuXHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG5cdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHQgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG5cdCAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHQkZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogX193ZWJwYWNrX3JlcXVpcmVfXyg4OCkuc2V0fSk7XG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHR2YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApKEZ1bmN0aW9uLmNhbGwsIF9fd2VicGFja19yZXF1aXJlX18oODApLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG5cdCAgICAgICAgc2V0KHRlc3QsIFtdKTtcblx0ICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcblx0ICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG5cdCAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuXHQgICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG5cdCAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuXHQgICAgICAgIHJldHVybiBPO1xuXHQgICAgICB9O1xuXHQgICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcblx0ICBjaGVjazogY2hlY2tcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oOTApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuT2JqZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcblx0ICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KX0pO1xuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgQ1VSVkVfU0laRSA9IDM1MDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIENVUlZFX1NJWkU6IENVUlZFX1NJWkUsXG5cdCAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRSAvIDEwMCxcblx0ICBDVVJWRV9QQURESU5HOiAxMFxuXHR9O1xuXG4vKioqLyB9LFxuLyogOTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuXHQgKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cblx0KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcblx0dmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcblx0dmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblx0dmFyIGFicyA9IE1hdGguYWJzO1xuXHR2YXIgbm93ID0gRGF0ZS5ub3c7XG5cdFxuXHQvKipcblx0ICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICogQHJldHVybnMge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG5cdCAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuXHQgKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cblx0ICogQHBhcmFtIHsqfEFycmF5fSBhcmdcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdCAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICovXG5cdGZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuXHQgICAgdmFyIGk7XG5cdFxuXHQgICAgaWYgKCFvYmopIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9iai5mb3JFYWNoKSB7XG5cdCAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuXHQgICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvciAoaSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG5cdCAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG5cdCAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXHRcblx0ICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcblx0ICAgICAgICBpZiAobG9nKSB7XG5cdCAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcblx0ICovXG5cdHZhciBhc3NpZ247XG5cdGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuXHQgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG5cdCAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cdCAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXHR9IGVsc2Uge1xuXHQgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3JjXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuXHQgICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGVzdDtcblx0fSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cblx0ICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcblx0ICogQHBhcmFtIHtPYmplY3R9IGRlc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IHNyY1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG5cdH0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2Vcblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuXHQgICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG5cdCAgICAgICAgY2hpbGRQO1xuXHRcblx0ICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuXHQgICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG5cdCAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cdFxuXHQgICAgaWYgKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cblx0ICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuXHQgICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuXHQgICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWw7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuXHQgKiBAcGFyYW0geyp9IHZhbDFcblx0ICogQHBhcmFtIHsqfSB2YWwyXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuXHQgICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2Vcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG5cdCAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuXHQgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgKi9cblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuXHQgICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcblx0ICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcblx0ICogQG1ldGhvZCBoYXNQYXJlbnRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcblx0ICovXG5cdGZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcblx0ICAgIHdoaWxlIChub2RlKSB7XG5cdCAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcblx0ICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG5cdCAqL1xuXHRmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcblx0ICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBzcmNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG5cdCAqL1xuXHRmdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG5cdCAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuXHQgICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHJldHVybnMge0FycmF5fVxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BcnJheShvYmopIHtcblx0ICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuXHQgKi9cblx0ZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcblx0ICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICB2YXIgdmFsdWVzID0gW107XG5cdCAgICB2YXIgaSA9IDA7XG5cdFxuXHQgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuXHQgICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcblx0ICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHNvcnQpIHtcblx0ICAgICAgICBpZiAoIWtleSkge1xuXHQgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHRzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcblx0ICovXG5cdGZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcblx0ICAgIHZhciBwcmVmaXgsIHByb3A7XG5cdCAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXHRcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuXHQgICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcblx0ICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblx0XG5cdCAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdW5pcXVlIGlkXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG5cdCAqL1xuXHR2YXIgX3VuaXF1ZUlkID0gMTtcblx0ZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG5cdCAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG5cdCAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG5cdCAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG5cdH1cblx0XG5cdHZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cdFxuXHR2YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xuXHR2YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG5cdHZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRcblx0dmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xuXHR2YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcblx0dmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xuXHR2YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0Jztcblx0XG5cdHZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cdFxuXHR2YXIgSU5QVVRfU1RBUlQgPSAxO1xuXHR2YXIgSU5QVVRfTU9WRSA9IDI7XG5cdHZhciBJTlBVVF9FTkQgPSA0O1xuXHR2YXIgSU5QVVRfQ0FOQ0VMID0gODtcblx0XG5cdHZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG5cdHZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG5cdHZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xuXHR2YXIgRElSRUNUSU9OX1VQID0gODtcblx0dmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cdFxuXHR2YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcblx0dmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xuXHR2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXHRcblx0dmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcblx0dmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHtJbnB1dH1cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcblx0ICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0ICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXHRcblx0ICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuXHQgICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuXHQgICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcblx0ICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuXHQgICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5pbml0KCk7XG5cdFxuXHR9XG5cdFxuXHRJbnB1dC5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG5cdCAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuXHQgKiBAcmV0dXJucyB7SW5wdXR9XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcblx0ICAgIHZhciBUeXBlO1xuXHQgICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblx0XG5cdCAgICBpZiAoaW5wdXRDbGFzcykge1xuXHQgICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG5cdCAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcblx0ICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcblx0ICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuXHQgICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cdCAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblx0XG5cdCAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuXHQgICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblx0XG5cdCAgICBpZiAoaXNGaXJzdCkge1xuXHQgICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG5cdCAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcblx0ICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblx0XG5cdCAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcblx0ICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG5cdCAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblx0XG5cdCAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG5cdCAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuXHQgICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG5cdCAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcblx0ICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblx0XG5cdCAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG5cdCAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG5cdCAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG5cdCAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcblx0ICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblx0XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcblx0ICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuXHQgICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cdFxuXHQgICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cdCAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblx0XG5cdCAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG5cdCAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXHRcblx0ICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXHRcblx0ICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG5cdCAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXHRcblx0ICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuXHQgICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblx0XG5cdCAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG5cdCAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcblx0ICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG5cdCAgICB9XG5cdCAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuXHQgICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cdFxuXHQgICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG5cdCAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcblx0ICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcblx0ICAgICAgICAgICAgeDogY2VudGVyLngsXG5cdCAgICAgICAgICAgIHk6IGNlbnRlci55XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcblx0ICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuXHQgICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuXHQgICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXHRcblx0ICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG5cdCAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuXHQgICAgICAgIHZlbG9jaXR5WCA9IHYueDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG5cdCAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG5cdCAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblx0XG5cdCAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuXHQgICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcblx0ICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcblx0ICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuXHQgICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuXHQgICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuXHQgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuXHQgICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG5cdCAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcblx0ICAgIHZhciBwb2ludGVycyA9IFtdO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcblx0ICAgICAgICBwb2ludGVyc1tpXSA9IHtcblx0ICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG5cdCAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuXHQgICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcblx0ICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG5cdCAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG5cdCAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcblx0ICovXG5cdGZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuXHQgICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXHRcblx0ICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcblx0ICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuXHQgICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcblx0ICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcblx0ICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcblx0ICovXG5cdGZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG5cdCAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcblx0ICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHRcblx0ICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gcDFcblx0ICogQHBhcmFtIHtPYmplY3R9IHAyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHQgICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG5cdCAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuXHQgKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcblx0ICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcblx0ICovXG5cdGZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcblx0ICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcblx0fVxuXHRcblx0dmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcblx0ICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG5cdCAgICBtb3VzZXVwOiBJTlBVVF9FTkRcblx0fTtcblx0XG5cdHZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xuXHR2YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cdFxuXHQvKipcblx0ICogTW91c2UgZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cdFxuXHQgICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG5cdCAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG5cdCAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuXHQgICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuXHQgICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHQvLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxuXHR2YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcblx0ICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAzOiBJTlBVVF9UWVBFX1BFTixcblx0ICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG5cdCAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcblx0fTtcblx0XG5cdHZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcblx0dmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cdFxuXHQvLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcblx0aWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuXHQgICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcblx0ICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuXHQgICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG5cdH1cblx0XG5cdGluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuXHQgICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcblx0ICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblx0XG5cdCAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cdFxuXHQgICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cdCAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblx0XG5cdCAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG5cdCAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG5cdCAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3Zlcilcblx0ICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcblx0ICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuXHQgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcblx0ICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0Jztcblx0dmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBUb3VjaCBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuXHQgICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuXHQgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHRcblx0ICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG5cdCAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcblx0ICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEB0aGlzIHtUb3VjaElucHV0fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuXHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuXHQgKi9cblx0ZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuXHQgICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG5cdCAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXHRcblx0ICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcblx0fVxuXHRcblx0dmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcblx0ICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHQgICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblx0ICAgICAgICBpZiAoIXRvdWNoZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBAdGhpcyB7VG91Y2hJbnB1dH1cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cblx0ICovXG5cdGZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcblx0ICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcblx0ICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblx0XG5cdCAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuXHQgICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpLFxuXHQgICAgICAgIHRhcmdldFRvdWNoZXMsXG5cdCAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcblx0ICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuXHQgICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXHRcblx0ICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcblx0ICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuXHQgICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gY29sbGVjdCB0b3VjaGVzXG5cdCAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG5cdCAgICBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuXHQgICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG5cdCAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcblx0ICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG5cdCAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcblx0ICAgIF07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcblx0ICpcblx0ICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG5cdCAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRcblx0dmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xuXHR2YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblx0XG5cdGZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcblx0ICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXHQgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cdFxuXHQgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuXHQgICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xuXHR9XG5cdFxuXHRpbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuXHQgICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcblx0ICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cdFxuXHQgICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG5cdCAgICAgICAgaWYgKGlzVG91Y2gpIHtcblx0ICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuXHQgICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcblx0ICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuXHQgICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuXHQgICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblx0XG5cdCAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcblx0ICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuXHQgICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuXHQgICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuXHQgICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuXHQgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG5cdCAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG5cdCAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG5cdCAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0dmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG5cdHZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cdFxuXHQvLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG5cdHZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcblx0dmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcblx0dmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14Jztcblx0dmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXHRcblx0LyoqXG5cdCAqIFRvdWNoIEFjdGlvblxuXHQgKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cdCAgICB0aGlzLnNldCh2YWx1ZSk7XG5cdH1cblx0XG5cdFRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG5cdCAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuXHQgICAgICovXG5cdCAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3Ncblx0ICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cdCAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcblx0ICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3Jcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblx0XG5cdCAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG5cdCAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuXHQgICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcblx0ICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG5cdCAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cdFxuXHQgICAgICAgIGlmIChoYXNOb25lKSB7XG5cdCAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cdFxuXHQgICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuXHQgICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcblx0ICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaGFzTm9uZSB8fFxuXHQgICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcblx0ICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcblx0ICAgICAqL1xuXHQgICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcblx0ICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuXHQgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuXHQgICAgLy8gbm9uZVxuXHQgICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG5cdCAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cdFxuXHQgICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG5cdCAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcblx0ICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuXHQgICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcblx0ICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcGFuLXggT1IgcGFuLXlcblx0ICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBtYW5pcHVsYXRpb25cblx0ICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcblx0ICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuXHQgICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuXHQgICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblx0XG5cdCAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG5cdCAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuXHQgICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdG91Y2hNYXA7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG5cdCAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cblx0ICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG5cdCAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuXHQgKlxuXHQgKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG5cdCAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG5cdCAqXG5cdCAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cblx0ICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cblx0ICpcblx0ICogICAgICAgICAgICAgICBQb3NzaWJsZVxuXHQgKiAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuXHQgKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcblx0ICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuXHQgKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuXHQgKi9cblx0dmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcblx0dmFyIFNUQVRFX0JFR0FOID0gMjtcblx0dmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xuXHR2YXIgU1RBVEVfRU5ERUQgPSA4O1xuXHR2YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xuXHR2YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG5cdHZhciBTVEFURV9GQUlMRUQgPSAzMjtcblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyXG5cdCAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRmdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cdFxuXHQgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cdFxuXHQgICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblx0XG5cdCAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG5cdCAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cdFxuXHQgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXHRcblx0ICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG5cdCAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG5cdH1cblx0XG5cdFJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHt9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IG9wdGlvbnNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcblx0ICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcblx0ICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcblx0ICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcblx0ICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuXHQgICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG5cdCAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcblx0ICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cdFxuXHQgICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG5cdCAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG5cdCAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuXHQgICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuXHQgICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYW4gd2UgZW1pdD9cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuXHQgICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG5cdCAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcblx0ICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cdFxuXHQgICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuXHQgICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXHRcblx0ICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcblx0ICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHJldHVybnMge0FycmF5fVxuXHQgICAgICovXG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuXHQgICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqL1xuXHQgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG5cdCAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuXHQgICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdlbmQnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcblx0ICAgICAgICByZXR1cm4gJ21vdmUnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG5cdCAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcblx0ICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqL1xuXHRmdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG5cdCAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG5cdCAgICAgICAgcmV0dXJuICdkb3duJztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuXHQgICAgICAgIHJldHVybiAndXAnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcblx0ICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG5cdCAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuXHQgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICogQHJldHVybnMge1JlY29nbml6ZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuXHQgICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG5cdCAgICBpZiAobWFuYWdlcikge1xuXHQgICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgICAgICogQGRlZmF1bHQgMVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBvaW50ZXJzOiAxXG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuXHQgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG5cdCAgICAgKi9cblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuXHQgICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cdFxuXHQgICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcblx0ICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQYW5cblx0ICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnBYID0gbnVsbDtcblx0ICAgIHRoaXMucFkgPSBudWxsO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwYW4nLFxuXHQgICAgICAgIHRocmVzaG9sZDogMTAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdCAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuXHQgICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG5cdCAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG5cdCAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG5cdCAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuXHQgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG5cdCAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcblx0ICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdCAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0XG5cdCAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcblx0ICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQaW5jaFxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3BpbmNoJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDJcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG5cdCAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0Jztcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFByZXNzXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcblx0fVxuXHRcblx0aW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncHJlc3MnLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcblx0ICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHQgICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuXHQgICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcblx0ICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXHRcblx0ICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuXHQgICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcblx0ICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG5cdCAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUm90YXRlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3JvdGF0ZScsXG5cdCAgICAgICAgdGhyZXNob2xkOiAwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAyXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFN3aXBlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3N3aXBlJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuXHQgICAgICAgIHZlbG9jaXR5OiAwLjMsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcblx0ICAgICAgICBwb2ludGVyczogMVxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB2ZWxvY2l0eTtcblx0XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuXHQgICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcblx0ICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG5cdCAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcblx0ICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG5cdCAqIGEgc2luZ2xlIHRhcC5cblx0ICpcblx0ICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG5cdCAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG5cdCAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuXHQgICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG5cdCAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG5cdCAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblx0XG5cdCAgICB0aGlzLl90aW1lciA9IG51bGw7XG5cdCAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cdCAgICB0aGlzLmNvdW50ID0gMDtcblx0fVxuXHRcblx0aW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3RhcCcsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgdGFwczogMSxcblx0ICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuXHQgICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcblx0ICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG5cdCAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcblx0ICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG5cdCAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdFxuXHQgICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcblx0ICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cdCAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuXHQgICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblx0XG5cdCAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG5cdCAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblx0XG5cdCAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cdFxuXHQgICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG5cdCAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG5cdCAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG5cdCAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuXHQgICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG5cdCAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAY29uc3Qge3N0cmluZ31cblx0ICovXG5cdEhhbW1lci5WRVJTSU9OID0gJzIuMC43Jztcblx0XG5cdC8qKlxuXHQgKiBkZWZhdWx0IHNldHRpbmdzXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICovXG5cdEhhbW1lci5kZWZhdWx0cyA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cblx0ICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGRvbUV2ZW50czogZmFsc2UsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cblx0ICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuXHQgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcblx0ICAgICAqL1xuXHQgICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGVuYWJsZTogdHJ1ZSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcblx0ICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuXHQgICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cblx0ICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuXHQgICAgICogQGRlZmF1bHQgbnVsbFxuXHQgICAgICovXG5cdCAgICBpbnB1dFRhcmdldDogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG5cdCAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cblx0ICAgICAqIEBkZWZhdWx0IG51bGxcblx0ICAgICAqL1xuXHQgICAgaW5wdXRDbGFzczogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuXHQgICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgcHJlc2V0OiBbXG5cdCAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG5cdCAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG5cdCAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcblx0ICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuXHQgICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG5cdCAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuXHQgICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG5cdCAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cblx0ICAgIF0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuXHQgICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICovXG5cdCAgICBjc3NQcm9wczoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuXHQgICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuXHQgICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuXHQgICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBTVE9QID0gMTtcblx0dmFyIEZPUkNFRF9TVE9QID0gMjtcblx0XG5cdC8qKlxuXHQgKiBNYW5hZ2VyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXHRcblx0ICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXHRcblx0ICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblx0ICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuXHQgICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXHRcblx0ICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcblx0ICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0XG5cdCAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblx0XG5cdCAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG5cdCAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG5cdCAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuXHQgICAgfSwgdGhpcyk7XG5cdH1cblx0XG5cdE1hbmFnZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuXHQgICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG5cdCAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuXHQgICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG5cdCAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cblx0ICAgICAqL1xuXHQgICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcblx0ICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG5cdCAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG5cdCAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcblx0ICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblx0ICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXI7XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0XG5cdCAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuXHQgICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcblx0ICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblx0XG5cdCAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcblx0ICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cblx0ICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG5cdCAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblx0XG5cdCAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cblx0ICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG5cdCAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuXHQgICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cblx0ICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG5cdCAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuXHQgICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcblx0ICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuXHQgICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcblx0ICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG5cdCAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuXHQgICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cblx0ICAgICAqL1xuXHQgICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG5cdCAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG5cdCAgICAgKi9cblx0ICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZW1vdmUgZXhpc3Rpbmdcblx0ICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuXHQgICAgICAgIGlmIChleGlzdGluZykge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG5cdCAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblx0XG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2Vcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuXHQgICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdCAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGJpbmQgZXZlbnRcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcblx0ICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcblx0ICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuXHQgICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuXHQgICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgICAgICovXG5cdCAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuXHQgICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuXHQgICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcblx0ICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG5cdCAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuXHQgICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblx0XG5cdCAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG5cdCAqL1xuXHRmdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcblx0ICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb3A7XG5cdCAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG5cdCAgICAgICAgaWYgKGFkZCkge1xuXHQgICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcblx0ICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKCFhZGQpIHtcblx0ICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB0cmlnZ2VyIGRvbSBldmVudFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICovXG5cdGZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuXHQgICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHQgICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG5cdCAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG5cdH1cblx0XG5cdGFzc2lnbihIYW1tZXIsIHtcblx0ICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcblx0ICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG5cdCAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcblx0ICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXHRcblx0ICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcblx0ICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcblx0ICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG5cdCAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG5cdCAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuXHQgICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG5cdCAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblx0XG5cdCAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG5cdCAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG5cdCAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcblx0ICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuXHQgICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuXHQgICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuXHQgICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG5cdCAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXHRcblx0ICAgIE1hbmFnZXI6IE1hbmFnZXIsXG5cdCAgICBJbnB1dDogSW5wdXQsXG5cdCAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cdFxuXHQgICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcblx0ICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG5cdCAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG5cdCAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcblx0ICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cdFxuXHQgICAgUmVjb2duaXplcjogUmVjb2duaXplcixcblx0ICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcblx0ICAgIFRhcDogVGFwUmVjb2duaXplcixcblx0ICAgIFBhbjogUGFuUmVjb2duaXplcixcblx0ICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG5cdCAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuXHQgICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuXHQgICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblx0XG5cdCAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG5cdCAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuXHQgICAgZWFjaDogZWFjaCxcblx0ICAgIG1lcmdlOiBtZXJnZSxcblx0ICAgIGV4dGVuZDogZXh0ZW5kLFxuXHQgICAgYXNzaWduOiBhc3NpZ24sXG5cdCAgICBpbmhlcml0OiBpbmhlcml0LFxuXHQgICAgYmluZEZuOiBiaW5kRm4sXG5cdCAgICBwcmVmaXhlZDogcHJlZml4ZWRcblx0fSk7XG5cdFxuXHQvLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuXHQvLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cblx0dmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRmcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblx0XG5cdGlmICh0cnVlKSB7XG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIEhhbW1lcjtcblx0ICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG5cdH0gZWxzZSB7XG5cdCAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG5cdH1cblx0XG5cdH0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyd1c2Ugc3RyaWN0Jztcblx0XG5cdChmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQgIGlmICh0cnVlKSB7XG5cdCAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAvLyBsaWtlIE5vZGUuXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcblx0ICB9XG5cdH0oZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblx0XG5cdCAgLyoqXG5cdCAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuXHQgICAqXG5cdCAgICogRmVhdHVyZXM6XG5cdCAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcblx0ICAgKiAgIGVsZW1lbnRzLlxuXHQgICAqIC0gRXZlbnRzIGFyZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gYGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpYCB0byBzdG9wXG5cdCAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG5cdCAgICogLSBBbiBvcHRpb24gYHByZXZlbnREZWZhdWx0YCB0byBzdG9wIGFsbCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG5cdCAgICpcblx0ICAgKiBVc2FnZTpcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpKTtcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpLCB7cHJldmVudERlZmF1bHQ6IHRydWV9KTtcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7SGFtbWVyLk1hbmFnZXJ9IGhhbW1lciAgIEFuIGhhbW1lciBpbnN0YW5jZS5cblx0ICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgb3B0aW9uczpcblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBiZSBzZXQgdG8gYGZhbHNlYC5cblx0ICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5XG5cdCAgICovXG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuXHQgICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyB8fCB7XG5cdCAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZVxuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHtcblx0ICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG5cdCAgICAgIC8vIE92ZXJsb2FkIHRoZSBjb25zdHJ1Y3RvcnMgd2l0aCBvdXIgb3duLlxuXHQgICAgICB2YXIgSGFtbWVyID0gaGFtbWVyO1xuXHRcblx0ICAgICAgdmFyIFByb3BhZ2F0aW5nSGFtbWVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIoZWxlbWVudCwgbyksIG8pO1xuXHQgICAgICB9O1xuXHQgICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXHRcblx0ICAgICAgUHJvcGFnYXRpbmdIYW1tZXIuTWFuYWdlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcblx0ICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsZW1lbnQsIG8pLCBvKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBmdW5jdGlvbnNcblx0ICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgdmFyIHdyYXBwZXIgPSBPYmplY3QuY3JlYXRlKGhhbW1lcik7XG5cdFxuXHQgICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG5cdCAgICB2YXIgZWxlbWVudCA9IGhhbW1lci5lbGVtZW50O1xuXHRcblx0ICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcblx0ICAgIGVsZW1lbnQuaGFtbWVyLnB1c2god3JhcHBlcik7XG5cdFxuXHQgICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG5cdCAgICAvLyB0YXJnZXQgaW4gYSBzaW5nbGV0b25cblx0ICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcblx0ICAgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIEFycmF5LjxmdW5jdGlvbj4+fSAqL1xuXHQgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayBmdW5jdGlvbiwgY2FsbGVkIGFzIGhhbmRsZXIoZXZlbnQpXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuXHQgICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuXHQgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzID0gW107XG5cdFxuXHQgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG5cdCAgICAgICAgICBoYW1tZXIub24oZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQsIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4gZXZlbnRzXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHJlbW92ZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIub2ZmID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG5cdCAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgIGlmIChfaGFuZGxlcnMpIHtcblx0ICAgICAgICAgIF9oYW5kbGVycyA9IGhhbmRsZXIgPyBfaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuXHQgICAgICAgICAgfSkgOiBbXTtcblx0XG5cdCAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuXHQgICAgICAgICAgICBoYW1tZXIub2ZmKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVtaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuXHQgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuXHQgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIGhhbW1lci5lbWl0KGV2ZW50VHlwZSwgZXZlbnQpO1xuXHQgICAgfTtcblx0XG5cdCAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG5cdCAgICAgIHZhciBoYW1tZXJzID0gaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXHQgICAgICB2YXIgaWR4ID0gaGFtbWVycy5pbmRleE9mKHdyYXBwZXIpO1xuXHQgICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgIGlmKCFoYW1tZXJzLmxlbmd0aCkgZGVsZXRlIGhhbW1lci5lbGVtZW50LmhhbW1lcjtcblx0XG5cdCAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuXHQgICAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXHRcblx0ICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuXHQgICAgICBoYW1tZXIuZGVzdHJveSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBzcGxpdCBhIHN0cmluZyB3aXRoIHNwYWNlIHNlcGFyYXRlZCB3b3Jkc1xuXHQgICAgZnVuY3Rpb24gc3BsaXQoZXZlbnRzKSB7XG5cdCAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzdGF0aWMgZXZlbnQgaGFuZGxlciwgYXBwbHlpbmcgZXZlbnQgcHJvcGFnYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcHJvcGFnYXRlZEhhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgLy8gbGV0IG9ubHkgYSBzaW5nbGUgaGFtbWVyIGluc3RhbmNlIGhhbmRsZSB0aGlzIGV2ZW50XG5cdCAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuXHQgICAgICAgIC8vIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIHNhbWUgc3JjRXZlbnQgaXMgdXNlZCB3aXRoIG11bHRpcGxlIGhhbW1lciBldmVudHMsXG5cdCAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvbiB3aGljaCBldmVudHMgYXJlIGhhbmRsZWQgaW4gYW4gb2JqZWN0IF9oYW5kbGVkXG5cdCAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuXHQgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQgPSB7fTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcblx0ICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcblx0ICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuXHQgICAgICB2YXIgc3JjU3RvcCA9IGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbi5iaW5kKGV2ZW50LnNyY0V2ZW50KTtcblx0ICAgICAgaWYodHlwZW9mIHNyY1N0b3AgPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICAgIHNyY1N0b3AoKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuXHQgICAgICBldmVudC5maXJzdFRhcmdldCA9IF9maXJzdFRhcmdldDtcblx0XG5cdCAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcblx0ICAgICAgdmFyIGVsZW0gPSBfZmlyc3RUYXJnZXQ7XG5cdCAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7XG5cdCAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcblx0ICAgICAgICBpZihlbGVtSGFtbWVyKXtcblx0ICAgICAgICAgIHZhciBfaGFuZGxlcnM7XG5cdCAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG5cdCAgICAgICAgICAgIF9oYW5kbGVycyA9IGVsZW1IYW1tZXJba10uX2hhbmRsZXJzW2V2ZW50LnR5cGVdO1xuXHQgICAgICAgICAgICBpZihfaGFuZGxlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgX2hhbmRsZXJzLmxlbmd0aCAmJiAhc3RvcHBlZDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgfTtcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiA5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZUFjdGlvbnMgPSBwYXJzZUFjdGlvbnM7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuXHRleHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuXHRleHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuXHRleHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5cdGV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdC8vIGRlYnVnIG91dHB1dFxuXHR2YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBkZWJ1ZygpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgX2NvbnNvbGU7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG5cdCAgICB9XG5cdCAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgYXJncyA9IFsnYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuXHQgICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgdmFyIF9jb25zb2xlMjtcblx0XG5cdCAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuXHQgICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcblx0ICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkJywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbjogYWN0aW9uIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gZGVidWdFbmQoKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuXHQgIH1cblx0fVxuXHQvLyAvZGVidWcgb3V0cHV0XG5cdFxuXHQvLyBhY3Rpb24gdHlwZXNcblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBVTkRPOiAnQEByZWR1eC11bmRvL1VORE8nLFxuXHQgIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG5cdCAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuXHQgIEpVTVBfVE9fUEFTVDogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX1BBU1QnXG5cdH07XG5cdC8vIC9hY3Rpb24gdHlwZXNcblx0XG5cdC8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG5cdHZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG5cdCAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcblx0ICB9LFxuXHQgIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG5cdCAgfSxcblx0ICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuXHQgIH0sXG5cdCAganVtcFRvUGFzdDogZnVuY3Rpb24ganVtcFRvUGFzdChpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcblx0ICB9XG5cdH07XG5cdC8vIC9hY3Rpb24gY3JlYXRvcnNcblx0XG5cdC8vIGxlbmd0aDogZ2V0IGxlbmd0aCBvZiBoaXN0b3J5XG5cdGZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0ICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcblx0fVxuXHQvLyAvbGVuZ3RoXG5cdFxuXHQvLyBpbnNlcnQ6IGluc2VydCBgc3RhdGVgIGludG8gaGlzdG9yeSwgd2hpY2ggbWVhbnMgYWRkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG5cdC8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuXHQvLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cblx0ZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCkge1xuXHQgIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHRcblx0ICB2YXIgaGlzdG9yeU92ZXJmbG93ID0gbGltaXQgJiYgbGVuZ3RoKGhpc3RvcnkpID49IGxpbWl0O1xuXHRcblx0ICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvLyBpbml0IGhpc3Rvcnlcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHBhc3Q6IFtdLFxuXHQgICAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgICAgZnV0dXJlOiBbXVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3Quc2xpY2UoaGlzdG9yeU92ZXJmbG93ID8gMSA6IDApKSwgW3ByZXNlbnRdKSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2luc2VydFxuXHRcblx0Ly8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuXHRmdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcblx0ICBkZWJ1ZygndW5kbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuXHQgICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuXHQgICAgZnV0dXJlOiBbcHJlc2VudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmdXR1cmUpKVxuXHQgIH07XG5cdH1cblx0Ly8gL3VuZG9cblx0XG5cdC8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3Rvcnlcblx0ZnVuY3Rpb24gcmVkbyhoaXN0b3J5KSB7XG5cdCAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG5cdCAgICBwcmVzZW50OiBmdXR1cmVbMF0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcblx0ICAgIF0pXG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkb1xuXHRcblx0Ly8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuXHRmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IDApIHJldHVybiByZWRvKGhpc3RvcnkpO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcblx0ICAgIHByZXNlbnQ6IGZ1dHVyZVtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb0Z1dHVyZVxuXHRcblx0Ly8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5cdGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuXHQgICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIGluZGV4KVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb1Bhc3Rcblx0XG5cdC8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuXHRmdW5jdGlvbiB3cmFwU3RhdGUoc3RhdGUpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG5cdCAgICBoaXN0b3J5OiBzdGF0ZVxuXHQgIH0pO1xuXHR9XG5cdC8vIC93cmFwU3RhdGVcblx0XG5cdC8vIHVwZGF0ZVN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG5cdCAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGhpc3RvcnkpKTtcblx0fVxuXHQvLyAvdXBkYXRlU3RhdGVcblx0XG5cdC8vIGNyZWF0ZUhpc3Rvcnlcblx0ZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2NyZWF0ZUhpc3Rvcnlcblx0XG5cdC8vIHBhcnNlQWN0aW9uc1xuXHRmdW5jdGlvbiBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucykge1xuXHQgIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcblx0ICAgIHJldHVybiByYXdBY3Rpb25zO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuXHQgIH1cblx0ICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHR9XG5cdC8vIC9wYXJzZUFjdGlvbnNcblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcblx0ZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuXHQgIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXHRcblx0ICB2YXIgY29uZmlnID0ge1xuXHQgICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuXHQgICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuXHQgICAgbGltaXQ6IHJhd0NvbmZpZy5saW1pdCxcblx0ICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0ICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcblx0ICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcblx0ICAgIGp1bXBUb1Bhc3RUeXBlOiByYXdDb25maWcuanVtcFRvUGFzdFR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuXHQgICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcblx0ICB9O1xuXHQgIGNvbmZpZy5oaXN0b3J5ID0gcmF3Q29uZmlnLmluaXRpYWxIaXN0b3J5IHx8IGNyZWF0ZUhpc3RvcnkoY29uZmlnLmluaXRpYWxTdGF0ZSk7XG5cdFxuXHQgIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgY29uc29sZS53YXJuKCdyZWR1eC11bmRvOiBzdXBwbHkgYXQgbGVhc3Qgb25lIGFjdGlvbiB0eXBlIGluIGluaXRUeXBlcyB0byBlbnN1cmUgaW5pdGlhbCBzdGF0ZScpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuXHQgICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG5cdCAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIHVuZG8nLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcblx0ICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgcmVkbycsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb1Bhc3QnLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvRnV0dXJlJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcblx0ICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG5cdCAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGNyZWF0ZUhpc3RvcnkocmVzKSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXIgJiYgdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcblx0ICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuXHQgICAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuXHQgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG5cdCAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgaW5zZXJ0JywgeyBoaXN0b3J5OiB1cGRhdGVkSGlzdG9yeSwgZnJlZTogY29uZmlnLmxpbWl0IC0gbGVuZ3RoKHVwZGF0ZWRIaXN0b3J5KSB9KTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHRcblx0ICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgdXBkYXRlZEhpc3RvcnkpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdC8vIC9yZWR1eC11bmRvXG5cdFxuXHQvLyBkaXN0aW5jdFN0YXRlIGhlbHBlclxuXHRmdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcblx0ICAgIHJldHVybiBjdXJyZW50U3RhdGUgIT09IHByZXZpb3VzU3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvLyAvZGlzdGluY3RTdGF0ZVxuXHRcblx0Ly8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKSB7XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDA7XG5cdCAgfTtcblx0fVxuXHQvLyAvaW5jbHVkZUFjdGlvblxuXHRcblx0Ly8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaWZBY3Rpb24ocmF3QWN0aW9ucykge1xuXHQgIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcblx0ICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcblx0fVxuXHQvLyAvaWZBY3Rpb25cblx0XG5cdC8vIGV4Y2x1ZGVBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG5cdCAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpIDwgMDtcblx0ICB9O1xuXHR9XG5cdC8vIC9leGNsdWRlQWN0aW9uXG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFlfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRTtcblx0dmFyIG1vZCA9IGZ1bmN0aW9uIG1vZCh0ZW1wUmVzaXplX3RvcCkge1xuXHQgICAgICB2YXIgY29lZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICB2YXIgTU9EID0gTWF0aC5hYnModGVtcFJlc2l6ZV90b3AgJSBZX1NJWkUpLFxuXHQgICAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuXHQgICAgICAgICAgR0FQID0gMTU7XG5cdFxuXHQgICAgICBpZiAoTU9EIDwgR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gRElWICogWV9TSVpFO1xuXHQgICAgICB9IGVsc2UgaWYgKE1PRCA+IFlfU0laRSAtIEdBUCkge1xuXHQgICAgICAgICAgICB0ZW1wUmVzaXplX3RvcCA9IGNvZWYgKiAoRElWICsgMSkgKiBZX1NJWkU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG1vZDtcblxuLyoqKi8gfSxcbi8qIDk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9jdXJ2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xuXHRcblx0dmFyIF9jdXJ2ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3JSaWdodCA9IGZ1bmN0aW9uIEN1cnZlRWRpdG9yUmlnaHQoX3JlZikge1xuXHQgICAgICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0XG5cdCAgICAgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmlnaHQnXSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZTIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAndG9wJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdyaWdodCcsIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAnYm90dG9tJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KVxuXHQgICAgICAgICAgKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yUmlnaHQ7XG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9wb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfcG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnQpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCk7XG5cdFxuXHR2YXIgQ3VydmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEN1cnZlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ3VydmUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDdXJ2ZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDdXJ2ZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDdXJ2ZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgc3R5bGVzID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpO1xuXHQgICAgICB2YXIgcG9pbnRzID0gdGhpcy5fcmVuZGVyUG9pbnRzKHN0YXRlKTtcblx0XG5cdCAgICAgIHZhciBfZ2V0UGF0aDIgPSB0aGlzLl9nZXRQYXRoKHN0YXRlKTtcblx0XG5cdCAgICAgIHZhciBwYXRoID0gX2dldFBhdGgyLnBhdGg7XG5cdCAgICAgIHZhciBzZWdtZW50cyA9IF9nZXRQYXRoMi5zZWdtZW50cztcblx0XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlJ10gfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlX19iYWNrZ3JvdW5kJ10sXG5cdCAgICAgICAgICBzdHlsZTogc3R5bGVzLmJhY2tncm91bmQgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXSxcblx0ICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy50cmFuc2Zvcm0gfSxcblx0ICAgICAgICAgIHBvaW50cyxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAnc3ZnJyxcblx0ICAgICAgICAgICAgeyBoZWlnaHQ6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSxcblx0ICAgICAgICAgICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnLFxuXHQgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdub25lJyxcblx0ICAgICAgICAgICAgICBpZDogJ2pzLXN2ZycsXG5cdCAgICAgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snY3VydmVfX3N2ZyddIH0sXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKCdwYXRoJywgeyBkOiBwYXRoLFxuXHQgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxuXHQgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6ICcwLjM1Jyxcblx0ICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzQnLFxuXHQgICAgICAgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC43NSwuNzUpJyxcblx0ICAgICAgICAgICAgICBmaWxsOiAnbm9uZScgfSksXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAgICdnJyxcblx0ICAgICAgICAgICAgICB7IGlkOiAnanMtc2VnbWVudHMnIH0sXG5cdCAgICAgICAgICAgICAgc2VnbWVudHNcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgdGVtcF90b3AgPSByZXNpemUudGVtcF90b3A7XG5cdCAgICAgIHZhciB0ZW1wX3JpZ2h0ID0gcmVzaXplLnRlbXBfcmlnaHQ7XG5cdFxuXHRcblx0ICAgICAgdGVtcF90b3AgKz0gcmVzaXplLnRvcDtcblx0ICAgICAgdGVtcF9yaWdodCArPSByZXNpemUucmlnaHQ7XG5cdFxuXHQgICAgICBpZiAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFIC0gdGVtcF90b3AgPCBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3RvcCA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgdGVtcF90b3AgPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF90b3AsIC0xKTtcblx0XG5cdCAgICAgIHZhciBzY2FsZSA9ICd0cmFuc2Zvcm06IHNjYWxlWCgnICsgKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIE1hdGgubWF4KHRlbXBfcmlnaHQsIDApKSAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArICcpJyxcblx0ICAgICAgICAgIGJnVHJhbnNmb3JtID0gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHNjYWxlICsgJzsgJyArIHNjYWxlICsgJzsnLFxuXHQgICAgICAgICAgYmFja2dyb3VuZCA9ICdiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwICcgKyAoLXRlbXBfdG9wIC0gMSkgKyAncHg7ICcgKyBiZ1RyYW5zZm9ybSxcblx0ICAgICAgICAgIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsICcgKyAtdGVtcF90b3AgKyAncHgpJztcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuXHQgICAgICAgIHRyYW5zZm9ybTogJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOydcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyUG9pbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyUG9pbnRzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQsXG5cdCAgICAgICAgICBwb2ludHMgPSBbXSxcblx0ICAgICAgICAgIGxlbiA9IHBvaW50c0RhdGEubGVuZ3RoO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHBvaW50cy5wdXNoKCgwLCBfcHJlYWN0LmgpKF9wb2ludDIuZGVmYXVsdCwgeyBwb2ludDogcG9pbnRzRGF0YVtpXSwgc3RhdGU6IHN0YXRlLCBpbmRleDogaSwgcG9pbnRzQ291bnQ6IGxlbiB9KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBwb2ludHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFBhdGgnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRQYXRoKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQ7XG5cdFxuXHQgICAgICB2YXIgcGF0aCA9ICcnLFxuXHQgICAgICAgICAgc2VnbWVudHMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBwb2ludHNEYXRhLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcblx0ICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNEYXRhW2luZGV4XSxcblx0ICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzRGF0YVtpbmRleCArIDFdO1xuXHRcblx0ICAgICAgICB2YXIgc2VnbWVudCA9IHRoaXMuX2dldFNlZ21lbnQocG9pbnQsIG5leHRQb2ludCwgaW5kZXgpO1xuXHQgICAgICAgIHBhdGggKz0gc2VnbWVudC5zdHJpbmc7XG5cdCAgICAgICAgc2VnbWVudHMucHVzaCh0aGlzLl9yZW5kZXJTZWdtZW50KGluZGV4LCBzZWdtZW50LnNlZ21lbnRTdHJpbmcpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHsgcGF0aDogcGF0aCwgc2VnbWVudHM6IHNlZ21lbnRzIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3JlbmRlclNlZ21lbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJTZWdtZW50KGluZGV4LCBzdHJpbmcpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdwYXRoJywge1xuXHQgICAgICAgIGQ6IHN0cmluZyxcblx0ICAgICAgICAnZGF0YS1pbmRleCc6IGluZGV4LFxuXHQgICAgICAgIHN0cm9rZTogJ3doaXRlJyxcblx0ICAgICAgICBmaWxsOiAnbm9uZScsXG5cdCAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcnLFxuXHQgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J11cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFNlZ21lbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTZWdtZW50KHBvaW50LCBuZXh0UG9pbnQsIGkpIHtcblx0ICAgICAgaWYgKCFuZXh0UG9pbnQpIHtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHN0cmluZyA9ICcnLFxuXHQgICAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXHRcblx0ICAgICAgdmFyIHggPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG5cdCAgICAgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuXHQgICAgICAgICAgeE5leHQgPSBuZXh0UG9pbnQueCArIG5leHRQb2ludC50ZW1wWCxcblx0ICAgICAgICAgIHlOZXh0ID0gbmV4dFBvaW50LnkgKyBuZXh0UG9pbnQudGVtcFk7XG5cdFxuXHQgICAgICB2YXIgcGFydDEgPSAnTScgKyB4ICsgJywgJyArIHkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgICAgIGlmIChpID09PSAwKSB7XG5cdCAgICAgICAgc3RyaW5nICs9IHBhcnQxO1xuXHQgICAgICB9XG5cdCAgICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDE7XG5cdFxuXHQgICAgICB2YXIgcGFydDIgPSB0aGlzLl9nZXRQb2ludChwb2ludCwgMik7XG5cdCAgICAgIHN0cmluZyArPSBwYXJ0Mjtcblx0ICAgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mjtcblx0XG5cdCAgICAgIHZhciBwYXJ0MyA9IHRoaXMuX2dldFBvaW50KG5leHRQb2ludCwgMSk7XG5cdCAgICAgIHN0cmluZyArPSBwYXJ0Mztcblx0ICAgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mztcblx0XG5cdCAgICAgIHZhciBwYXJ0NCA9IHhOZXh0ICsgJywgJyArIHlOZXh0IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgICBzdHJpbmcgKz0gcGFydDQ7XG5cdCAgICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDQ7XG5cdFxuXHQgICAgICByZXR1cm4geyBzdHJpbmc6IHN0cmluZywgc2VnbWVudFN0cmluZzogc2VnbWVudFN0cmluZyB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRQb2ludCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBvaW50KHBvaW50KSB7XG5cdCAgICAgIHZhciBoYW5kbGVJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICB2YXIgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcblx0ICAgICAgICAgIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFksXG5cdCAgICAgICAgICBoYW5kbGUgPSBwb2ludFsnaGFuZGxlJyArIGhhbmRsZUluZGV4XTtcblx0XG5cdCAgICAgIHZhciBDSEFSID0gaGFuZGxlSW5kZXggPT09IDIgPyAnQycgOiAnJztcblx0ICAgICAgaWYgKHBvaW50LnR5cGUgIT09ICdzdHJhaWdodCcpIHtcblx0ICAgICAgICB2YXIgaGFuZGxlQ29vcmRzID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICAgICAgcmV0dXJuICcnICsgQ0hBUiArICh4ICsgaGFuZGxlQ29vcmRzLnggLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQpICsgJywgJyArICh5ICsgaGFuZGxlQ29vcmRzLnkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAnJyArIENIQVIgKyB4ICsgJywgJyArIHkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdFxuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXNlZ21lbnRzJyksXG5cdCAgICAgICAgICBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKGVsKSk7XG5cdFxuXHQgICAgICAvLyBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5UYXAoKSk7XG5cdFxuXHQgICAgICBtYy5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgZXYgPSBlLnNyY0V2ZW50LFxuXHQgICAgICAgICAgICB0YXJnZXQgPSBldi50YXJnZXQ7XG5cdCAgICAgICAgLy8gaGFuZGxlIHBhdGhzIG9ubHlcblx0ICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3BhdGgnKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIGNvb3JkaW5hdGVzXG5cdCAgICAgICAgdmFyIHggPSBldi5vZmZzZXRYLFxuXHQgICAgICAgICAgICB5ID0gZXYub2Zmc2V0WSAqIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCxcblx0ICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICsgMTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX0FERCcsXG5cdCAgICAgICAgICBkYXRhOiB7IHg6IHgsIHk6IHksIGluZGV4OiBpbmRleCB9LFxuXHQgICAgICAgICAgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7IGluZGV4OiBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIHN2ZyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG5cdCAgICAgICAgICBzdmdNYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHN2ZykpO1xuXHRcblx0ICAgICAgc3ZnTWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgc3ZnTWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZTtcblxuLyoqKi8gfSxcbi8qIDk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFuZ2xlLCByYWRpdXMpIHtcblx0ICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGU6IGFuZ2xlLCByYWRpdXM6IHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfbGl0dGxlSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuXHRcblx0dmFyIF9saXR0bGVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGl0dGxlSGFuZGxlKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3JvdW5kVG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdFxuXHR2YXIgX3JvdW5kVG8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91bmRUbyk7XG5cdFxuXHR2YXIgX2NsYW1wID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jbGFtcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFtcCk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZCA9IF9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplTW9kKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cdFxuXHR2YXIgUG9pbnQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvaW50LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUG9pbnQoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQb2ludCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQb2ludCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb2ludCwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzLnBvaW50O1xuXHQgICAgICB2YXIgc3RhdGUgPSBfcHJvcHMuc3RhdGU7XG5cdCAgICAgIHZhciBzZWxlY3RlZCA9IHBvaW50LmlzU2VsZWN0ZWQgPyBDTEFTU0VTWydpcy1zZWxlY3RlZCddIDogJyc7XG5cdCAgICAgIHZhciBoYW5kbGVzID0gcG9pbnQudHlwZSA9PT0gJ3N0cmFpZ2h0JyA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cdFxuXHQgICAgICB2YXIgbGl0dGxlSGFuZGxlcyA9IHRoaXMuX2dldExpdHRsZUhhbmRsZXMoc3RhdGUpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydwb2ludCddICsgJyAnICsgc2VsZWN0ZWQgKyAnICcgKyBoYW5kbGVzLFxuXHQgICAgICAgICAgc3R5bGU6IHRoaXMuX2dldFN0eWxlKHN0YXRlKSxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdwb2ludCcgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ3BvaW50X190b3VjaCddLCBpZDogJ2pzLXBvaW50LXRvdWNoJyB9KSxcblx0ICAgICAgICBsaXR0bGVIYW5kbGVzXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoc3RhdGUpIHtcblx0ICAgICAgdmFyIHBvaW50ID0gdGhpcy5wcm9wcy5wb2ludDtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIHggPSAoMCwgX2NsYW1wMi5kZWZhdWx0KShwb2ludC54ICsgcG9pbnQudGVtcFgsIDAsIDEwMCk7XG5cdCAgICAgIHZhciBjbGVhblggPSB4ICogcmVzaXplLnNjYWxlclg7XG5cdCAgICAgIHZhciB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZO1xuXHRcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgY2xlYW5YICsgJ3B4LCAnICsgKHkgLSAxKSArICdweCknO1xuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldExpdHRsZUhhbmRsZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRMaXR0bGVIYW5kbGVzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMi5wb2ludDtcblx0ICAgICAgdmFyIHBvaW50c0NvdW50ID0gX3Byb3BzMi5wb2ludHNDb3VudDtcblx0ICAgICAgdmFyIGhhbmRsZXMgPSBbXTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTEgZm9yIHN0YXJ0IHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSAwICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMSwgcG9pbnQpKTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuXHQgICAgICBpbmRleCAhPT0gcG9pbnRzQ291bnQgLSAxICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMiwgcG9pbnQpKTtcblx0ICAgICAgcmV0dXJuIGhhbmRsZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2NyZWF0ZUhhbmRsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUhhbmRsZShpbmRleCwgcG9pbnQpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKF9saXR0bGVIYW5kbGUyLmRlZmF1bHQsIHtcblx0ICAgICAgICBpbmRleDogaW5kZXgsXG5cdCAgICAgICAgc3RhdGU6IHRoaXMucHJvcHMuc3RhdGUsXG5cdCAgICAgICAgcGFyZW50SW5kZXg6IHRoaXMucHJvcHMuaW5kZXgsXG5cdCAgICAgICAgaGFuZGxlOiBwb2ludFsnaGFuZGxlJyArIGluZGV4XSxcblx0ICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgdmFyIGdldFRlbXBYID0gZnVuY3Rpb24gZ2V0VGVtcFgoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHMzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczMucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMy5pbmRleDtcblx0ICAgICAgICAvLyBpZiBwb2ludCBpcyBub3QgbG9ja2VkIHRvIHggYXhlcyAtPlxuXHQgICAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSByZWdhcmRpbmcgc2NhbGVyXG5cdFxuXHQgICAgICAgIGlmIChwb2ludC5pc0xvY2tlZFgpIHtcblx0ICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVggLyByZXNpemUuc2NhbGVyWDtcblx0ICAgICAgICBpZiAocG9pbnQueCArIHggPCAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwb2ludC54ICsgeCA+IDEwMCkge1xuXHQgICAgICAgICAgcmV0dXJuIDEwMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHBvaW50LnggKyB4LCA1LCAxLjUpIC0gcG9pbnQueDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBnZXRZID0gZnVuY3Rpb24gZ2V0WShlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczQgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNC5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM0LmluZGV4O1xuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBjbGFtcCB5IHRvIHRoZSBzaXplIG9mIGN1cnZlXG5cdCAgICAgICAgcmV0dXJuICgwLCBfY2xhbXAyLmRlZmF1bHQpKHksIHJlc2l6ZS50b3AsIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy8gZ2V0IHkgZGVsdGEgcmVhZ2FyZGluZyBjdXJ2ZSBib3VuZHNcblx0ICAgICAgdmFyIGdldFRlbXBZID0gZnVuY3Rpb24gZ2V0VGVtcFkoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHM1ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczUucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNS5pbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZLFxuXHQgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHk7XG5cdFxuXHQgICAgICAgIGlmICh5IDwgcmVzaXplLnRvcCkge1xuXHQgICAgICAgICAgcmV0dXJuVmFsdWUgPSByZXNpemUudG9wO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoeSA+IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pIHtcblx0ICAgICAgICAgIHJldHVyblZhbHVlID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHJldHVyblZhbHVlLCA1ICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULCAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UKSAtIHBvaW50Lnk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXBvaW50LXRvdWNoJyksXG5cdCAgICAgICAgICBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKGVsKSk7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5UYXAoKSk7XG5cdFxuXHQgICAgICBtYy5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzNiA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM2LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczYuaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogeyB4OiBnZXRUZW1wWChlKSwgeTogZ2V0VGVtcFkoZSksIGluZGV4OiBpbmRleCB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczcgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNy5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM3LmluZGV4O1xuXHQgICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURV9FTkQnLCBkYXRhOiBpbmRleCwgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzOCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM4LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczguaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAgICAgZGF0YToge1xuXHQgICAgICAgICAgICBpbmRleDogaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNyY0V2ZW50LnNoaWZ0S2V5LFxuXHQgICAgICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQb2ludDtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcblxuLyoqKi8gfSxcbi8qIDEwMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ2xlVG9Qb2ludCk7XG5cdFxuXHR2YXIgX3BvaW50VG9BbmdsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfcG9pbnRUb0FuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50VG9BbmdsZSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMik7XG5cdFxuXHR2YXIgTGl0dGxlSGFuZGxlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShMaXR0bGVIYW5kbGUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBMaXR0bGVIYW5kbGUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBMaXR0bGVIYW5kbGUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoTGl0dGxlSGFuZGxlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKExpdHRsZUhhbmRsZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlJ10sXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAnbGl0dGxlLWhhbmRsZScgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fcG9pbnQnXSxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRQb2ludFN0eWxlKCkgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX2xpbmUnXSxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRMaW5lU3R5bGUoKSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO3ZhciBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgaGFuZGxlID0gX3RoaXMyLnByb3BzLmhhbmRsZTtcblx0ICAgICAgfSkub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHMuaW5kZXg7XG5cdCAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gX3Byb3BzLnBhcmVudEluZGV4O1xuXHRcblx0XG5cdCAgICAgICAgdmFyIHBvaW50ID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyksXG5cdCAgICAgICAgICAgIG5ld1ggPSBwb2ludC54ICsgZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIG5ld1kgPSBwb2ludC55ICsgZS5kZWx0YVksXG5cdCAgICAgICAgICAgIGFuZ2xlID0gKDAsIF9wb2ludFRvQW5nbGUyLmRlZmF1bHQpKG5ld1gsIG5ld1kpO1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICBkYXRhOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgaW5kZXg6IGluZGV4LCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXggfSwgYW5nbGUpXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ21pcnJvcmVkJykge1xuXHQgICAgICAgICAgdmFyIGkgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogaSwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuXHQgICAgICAgICAgICAgIHJhZGl1czogYW5nbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ2FzeW1tZXRyaWMnKSB7XG5cdCAgICAgICAgICB2YXIgX2kgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogX2ksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGhhbmRsZS5yYWRpdXMsXG5cdCAgICAgICAgICAgICAgYW5nbGU6IGFuZ2xlLmFuZ2xlIC0gMTgwXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0UG9pbnRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBvaW50U3R5bGUoKSB7XG5cdCAgICAgIHZhciBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTtcblx0ICAgICAgdmFyIHBvaW50ID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoJyArIHBvaW50LnggKyAncHgsICcgKyBwb2ludC55ICsgJ3B4KSByb3RhdGUoJyArIGhhbmRsZS5hbmdsZSArICdkZWcpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TGluZVN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGluZVN0eWxlKCkge1xuXHQgICAgICB2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiByb3RhdGUoJyArIGhhbmRsZS5hbmdsZSArICdkZWcpIHNjYWxlWSgnICsgaGFuZGxlLnJhZGl1cyArICcpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIExpdHRsZUhhbmRsZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXR0bGVIYW5kbGU7XG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDMpO1xuXHRcblx0dmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEwNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpLk9iamVjdC5hc3NpZ247XG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMTA2KX0pO1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcblx0dmFyIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUFMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSlcblx0ICAsIHBJRSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHQgICwgSU9iamVjdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KVxuXHQgICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXHRcblx0Ly8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cdG1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygyOCkoZnVuY3Rpb24oKXtcblx0ICB2YXIgQSA9IHt9XG5cdCAgICAsIEIgPSB7fVxuXHQgICAgLCBTID0gU3ltYm9sKClcblx0ICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtTXSA9IDc7XG5cdCAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuXHQgIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xuXHR9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG5cdCAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgLCBpbmRleCA9IDFcblx0ICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuXHQgICAgLCBpc0VudW0gICAgID0gcElFLmY7XG5cdCAgd2hpbGUoYUxlbiA+IGluZGV4KXtcblx0ICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcblx0ICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG5cdCAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICAgLCBqICAgICAgPSAwXG5cdCAgICAgICwga2V5O1xuXHQgICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcblx0ICB9IHJldHVybiBUO1xuXHR9IDogJGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDEwNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdCAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSxcblx0ICAgICAgYW5nbGUgPSBNYXRoLmF0YW4oeSAvIHgpICogKDE4MCAvIE1hdGguUEkpIC0gOTA7XG5cdCAgaWYgKHggPiAwKSB7XG5cdCAgICBhbmdsZSA9IGFuZ2xlIC0gMTgwO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB7IHJhZGl1czogcmFkaXVzLCBhbmdsZTogYW5nbGUgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTA5LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fbGl0dGxlLWhhbmRsZV9pdzJydV8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MDtoZWlnaHQ6MH0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjZweDtoZWlnaHQ6NnB4O2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTNweDttYXJnaW4tdG9wOi0zcHg7YmFja2dyb3VuZDojZmY1MTJmO2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjUpfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCU7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotMTAwJTttYXJnaW4tdG9wOi0xMDAlfS5fbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O21hcmdpbi1sZWZ0Oi0xcHg7bWFyZ2luLXRvcDotMXB4O2xlZnQ6NTAlO3RvcDo1MCU7YmFja2dyb3VuZDojZmY1MTJmOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDExMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypcclxuXHRcdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0XHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcblx0Ki9cclxuXHQvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IFtdO1xyXG5cdFxyXG5cdFx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdFx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHRcdH07XHJcblx0XHJcblx0XHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdFx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGxpc3Q7XHJcblx0fTtcclxuXG5cbi8qKiovIH0sXG4vKiAxMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdFx0aWYoZmFsc2UpIHtcclxuXHRcdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0XHR9XHJcblx0XHJcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHRcdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdFx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblx0XHJcblx0XHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHRcclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0XHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0XHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRcdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdFx0aWYoaWR4ID49IDApIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHRcdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdFx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0XHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdFx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cdFxyXG5cdFx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHRcdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dXBkYXRlKG9iaik7XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0dmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cdFxyXG5cdFx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0XHJcblx0XHRpZihtZWRpYSkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0XHR9XHJcblx0XHJcblx0XHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cdFxyXG5cdFx0aWYoc291cmNlTWFwKSB7XHJcblx0XHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHRcdH1cclxuXHRcclxuXHRcdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cdFxyXG5cdFx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblx0XHJcblx0XHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHRcclxuXHRcdGlmKG9sZFNyYylcclxuXHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG5cdH1cclxuXG5cbi8qKiovIH0sXG4vKiAxMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwibGl0dGxlLWhhbmRsZVwiOiBcIl9saXR0bGUtaGFuZGxlX2l3MnJ1XzNcIixcblx0XHRcImxpdHRsZS1oYW5kbGVfX3BvaW50XCI6IFwiX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzFcIixcblx0XHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh2YWx1ZSwgYmFzZSwgc25hcCkge1xuXHQgIHZhciBtb2RpZmllZCA9IE1hdGgucm91bmQodmFsdWUgLyBiYXNlKSAqIGJhc2U7XG5cdFxuXHQgIHJldHVybiBNYXRoLmFicyh2YWx1ZSAtIG1vZGlmaWVkKSA8IHNuYXAgPyBtb2RpZmllZCA6IHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCkge1xuXHQgIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDExNiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50XzE3cGIxXzV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDttYXJnaW4tbGVmdDotNXB4O21hcmdpbi10b3A6LTVweDtjdXJzb3I6bW92ZTtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7ei1pbmRleDozO2JveC1zaGFkb3c6M3B4IDNweCAwIHJnYmEoMCwwLDAsLjUpO2JvcmRlcjoycHggc29saWQgI2ZmZn0uX3BvaW50XzE3cGIxXzUgW2RhdGEtY29tcG9uZW50PWxpdHRsZS1oYW5kbGVde2Rpc3BsYXk6bm9uZX0uX3BvaW50X190b3VjaF8xN3BiMV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDttYXJnaW4tbGVmdDotMTBweDttYXJnaW4tdG9wOi0xMHB4fS5fcG9pbnRfMTdwYjFfNS5faXMtc2VsZWN0ZWRfMTdwYjFfMzEsLl9wb2ludF8xN3BiMV81OmhvdmVye2JvcmRlci1jb2xvcjojZmY1MTJmfS5fcG9pbnRfMTdwYjFfNS5faXMtc2VsZWN0ZWRfMTdwYjFfMzEgW2RhdGEtY29tcG9uZW50PWxpdHRsZS1oYW5kbGVde2Rpc3BsYXk6YmxvY2t9Ll9wb2ludF8xN3BiMV81Ll9pcy1oaWRlLWhhbmRsZXNfMTdwYjFfNDIgW2RhdGEtY29tcG9uZW50PWxpdHRsZS1oYW5kbGVde2Rpc3BsYXk6bm9uZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicG9pbnRcIjogXCJfcG9pbnRfMTdwYjFfNVwiLFxuXHRcdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xN3BiMV8xXCIsXG5cdFx0XCJpcy1zZWxlY3RlZFwiOiBcIl9pcy1zZWxlY3RlZF8xN3BiMV8zMVwiLFxuXHRcdFwiaXMtaGlkZS1oYW5kbGVzXCI6IFwiX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MlwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDExOSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlX2d2Y3JuXzV7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDoxMHB4O3JpZ2h0OjEwcHg7Ym90dG9tOjEwcHg7Ym9yZGVyLXJhZGl1czoycHg7YmFja2dyb3VuZDpyZ2JhKDU4LDgsNTgsLjc1KTtib3JkZXI6MXB4IHNvbGlkICM5YzgyOWE7Ym94LXNoYWRvdzppbnNldCA0cHggNHB4IDAgcmdiYSgwLDAsMCwuNSk7ei1pbmRleDoyfS5fY3VydmVfX2JhY2tncm91bmRfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjA7dG9wOjA7Ym90dG9tOjA7d2lkdGg6MzUwcHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTE3NXB4O29wYWNpdHk6LjU7Ym9yZGVyLXJhZGl1czppbmhlcml0O2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpSUhOMFlXNWtZV3h2Ym1VOUltNXZJajgrUEhOMlp5QjNhV1IwYUQwaU16VXdjSGdpSUdobGFXZG9kRDBpTXpVd2NIZ2lJSFpwWlhkQ2IzZzlJakFnTUNBek5UQWdNelV3SWlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaVBpQWdJQ0FnSUNBZ1BIUnBkR3hsUGxOc2FXTmxJREU4TDNScGRHeGxQaUFnSUNBOFpHVnpZejVEY21WaGRHVmtJSGRwZEdnZ1UydGxkR05vTGp3dlpHVnpZejRnSUNBZ1BHUmxabk0rUEM5a1pXWnpQaUFnSUNBOFp5QnBaRDBpVUdGblpTMHhJaUJ6ZEhKdmEyVTlJbTV2Ym1VaUlITjBjbTlyWlMxM2FXUjBhRDBpTVNJZ1ptbHNiRDBpYm05dVpTSWdabWxzYkMxeWRXeGxQU0psZG1WdWIyUmtJajRnSUNBZ0lDQWdJRHhuSUdsa1BTSkhjbTkxY0NJZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9MVEV1TURBd01EQXdMQ0F3TGpBd01EQXdNQ2tpSUhOMGNtOXJaVDBpSTBaR1JrWkdSaUkrSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXpNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpNekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNeE5TNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NekUxTGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk1T0M0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qazRMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTRNQzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpnd0xqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJME5TNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NalExTGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl5T0M0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qSTRMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXhNQzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpFd0xqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNU15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NVGt6TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUxT1M0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UVTVMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTBNUzQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRReExqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFeU5DNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEkwTGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV3Tmk0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UQTJMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUY3hMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTnpFdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRVMExqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1OVFF1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0yTGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU16WXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTVRrdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01Ua3VNREF5TVRjNU15Qk1NUzR3TURFd09EZ3pMREU1TGpBd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMRE0yTGpVd01qRTNPVE1nVERFdU1EQXhNRGc0TXl3ek5pNDFNREl4TnpreklpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3MU5DNHdNREl4TnpreklFd3hMakF3TVRBNE9ETXNOVFF1TURBeU1UYzVNeUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NOekV1TlRBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERjeExqVXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFd05pNDFNREl4TnprZ1RERXVNREF4TURnNE15d3hNRFl1TlRBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hNalF1TURBeU1UYzVJRXd4TGpBd01UQTRPRE1zTVRJMExqQXdNakUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRReExqVXdNakUzT1NCTU1TNHdNREV3T0RnekxERTBNUzQxTURJeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERTFPUzR3TURJeE56a2dUREV1TURBeE1EZzRNeXd4TlRrdU1EQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4T1RNdU1USTNNVGM1SUV3eExqQXdNVEE0T0RNc01Ua3pMakV5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qRXdMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREl4TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREl5T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU1qZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eU5EVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNalExTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNamd3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJNE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJNU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lPVGd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3pNVFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTXpFMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTXpNekxqRXlOekUzT1NCTU1TNHdNREV3T0RnekxETXpNeTR4TWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswNE9DNHdOalF4TXpVeUxERWdURGc0TGpBMk5ERXpOVElzTXpVeElpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB4TnpVdU1USTRNamNzTVNCTU1UYzFMakV5T0RJM0xETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk1qWXlMakU1TWpRd05pd3hJRXd5TmpJdU1Ua3lOREEyTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVd0xqVTJNelU1TVN3NE9DNHdOalEyTnpreklFd3dMalUyTXpVNU1UQXlNaXc0T0M0d05qUTJOemt6SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEF1TlRZek5Ua3hMREUzTlM0MU5qUTJOemtnVERBdU5UWXpOVGt4TURJeUxERTNOUzQxTmpRMk56a2lJR2xrUFNKd1lYUm9PREl4TlNJZ2IzQmhZMmwwZVQwaU1DNDFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1DNDFOak0xT1RFc01qWXpMakEyTkRZM09TQk1NQzQxTmpNMU9URXdNaklzTWpZekxqQTJORFkzT1NJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjbVZqZENCcFpEMGljbVZqZERFd01EYzRJaUJ2Y0dGamFYUjVQU0l3TGpjMUlpQjRQU0l3TGpnM01qZ3hOemsxTlNJZ2VUMGlNU0lnZDJsa2RHZzlJak0xTUNJZ2FHVnBaMmgwUFNJek5UQWlQand2Y21WamRENGdJQ0FnSUNBZ0lEd3ZaejRnSUNBZ1BDOW5Qand2YzNablBnPT0pfS5fY3VydmVfX3N2Zy13cmFwcGVyX2d2Y3JuXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2xlZnQ6LTFweDtyaWdodDotMXB4fS5fY3VydmVfX3N2Z19ndmNybl8xe2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3c6dmlzaWJsZTt3aWR0aDoxMDAlfS5fY3VydmVfX3N2Zy1zZWdtZW50X2d2Y3JuXzF7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjJweDtjdXJzb3I6Y3Jvc3NoYWlyfS5fY3VydmVfX3N2Zy1zZWdtZW50X2d2Y3JuXzE6aG92ZXJ7c3Ryb2tlOiNmZjUxMmZ9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImN1cnZlXCI6IFwiX2N1cnZlX2d2Y3JuXzVcIixcblx0XHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzFcIixcblx0XHRcImN1cnZlX19zdmctd3JhcHBlclwiOiBcIl9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMVwiLFxuXHRcdFwiY3VydmVfX3N2Z1wiOiBcIl9jdXJ2ZV9fc3ZnX2d2Y3JuXzFcIixcblx0XHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO1xuXHRcblx0dmFyIFJlc2l6ZUhhbmRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUmVzaXplSGFuZGxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUmVzaXplSGFuZGxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUmVzaXplSGFuZGxlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShSZXNpemVIYW5kbGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSAnJyArIENMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXTtcblx0ICAgICAgdmFyIGNsYXNzVHlwZSA9ICcnICsgQ0xBU1NFU1sncmVzaXplLWhhbmRsZS0tJyArIHR5cGVdO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnICcgKyBjbGFzc1R5cGUgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICdkYXRhLXR5cGUnOiB0eXBlIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb24yLmRlZmF1bHQsIHsgc2hhcGU6ICdlbGxpcHNpcycgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRV9FTkQnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFJlc2l6ZUhhbmRsZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSZXNpemVIYW5kbGU7XG5cbi8qKiovIH0sXG4vKiAxMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblx0XG5cdHZhciBJY29uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShJY29uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSWNvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEljb24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoSWNvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJY29uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzaGFwZSA9IHRoaXMucHJvcHMuc2hhcGU7XG5cdCAgICAgIHZhciBtYXJrdXAgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+PHVzZSB4bGluazpocmVmPVwiIycgKyBzaGFwZSArICctc2hhcGVcIiAvPjwvc3ZnPic7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbiddLFxuXHQgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uJyxcblx0ICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IG1hcmt1cCB9IH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWNvbjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29uO1xuXG4vKioqLyB9LFxuLyogMTIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTI1LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbl80YThsZl81e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Y3Vyc29yOnBvaW50ZXI7ZmlsbDojZmZmO2Rpc3BsYXk6YmxvY2t9Ll9pY29uXzRhOGxmXzU+c3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNT5zdmc+dXNle2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6MX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLXJpZ2h0XCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzFcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDEyOCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xZjhyNV80XCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fcmlnaHRcIjogXCJfY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nb1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbkJ1dHRvbik7XG5cdFxuXHR2YXIgX2ljb25EaXZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXHRcblx0dmFyIF9pY29uRGl2aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uRGl2aWRlcik7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9scyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3JMZWZ0ID0gZnVuY3Rpb24gQ3VydmVFZGl0b3JMZWZ0KF9yZWYpIHtcblx0ICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXHRcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2xlZnQnXSwgaWQ6ICdqcy1sZWZ0LXBhbmVsJyB9LFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX2ljb25CdXR0b24yLmRlZmF1bHQsIHsgc2hhcGU6ICdjb2RlJyB9KSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKF9pY29uRGl2aWRlcjIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfcG9pbnRDb250cm9sczIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUsXG5cdCAgICAgIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9ucyddIH0pLFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICdhJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvJ10sXG5cdCAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3InLCB0YXJnZXQ6ICdfYmxhbmsnIH0sXG5cdCAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiAnbW9qcy1sb2dvJyB9KVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvckxlZnQ7XG5cbi8qKiovIH0sXG4vKiAxMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMik7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHRcblx0dmFyIEljb25CdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEljb25CdXR0b24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBJY29uQnV0dG9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWNvbkJ1dHRvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShJY29uQnV0dG9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEljb25CdXR0b24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIGNoZWNrID0gdGhpcy5wcm9wcy5pc0NoZWNrID8gQ0xBU1NFU1snaXMtY2hlY2tlZCddIDogJyc7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbi1idXR0b24nXSArICcgJyArIGNoZWNrLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24tYnV0dG9uJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiB0aGlzLnByb3BzLnNoYXBlIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vblRhcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHZhciBoYW1tZXJ0aW1lID0gbmV3IF9oYW1tZXJqczIuZGVmYXVsdCh0aGlzLmJhc2UpLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgX3RoaXMyLnByb3BzLm9uVGFwKGUsIF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEljb25CdXR0b247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbkJ1dHRvbjtcblxuLyoqKi8gfSxcbi8qIDEzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTMzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMyk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1idXR0b25fNnlzZGlfNHtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDojM2EwODM5O2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjE1KX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQgW2RhdGEtY29tcG9uZW50PWljb25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVye2JveC1zaGFkb3c6bm9uZX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQ6aG92ZXIgW2RhdGEtY29tcG9uZW50PWljb25dey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTIlLC01MiUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQuX2lzLWNoZWNrZWRfNnlzZGlfMzEsLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZXtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93Omluc2V0IC0xcHggLTFweCAwIGhzbGEoMCwwJSwxMDAlLC4yNSksaW5zZXQgMXB4IDFweCAxcHggcmdiYSgwLDAsMCwuNCl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxIFtkYXRhLWNvbXBvbmVudD1pY29uXSwuX2ljb24tYnV0dG9uXzZ5c2RpXzQ6YWN0aXZlIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uLWJ1dHRvblwiOiBcIl9pY29uLWJ1dHRvbl82eXNkaV80XCIsXG5cdFx0XCJpcy1jaGVja2VkXCI6IFwiX2lzLWNoZWNrZWRfNnlzZGlfMzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbi1kaXZpZGVyJ10sXG5cdCAgICAnZGF0YS1jb21wb25lbnQnOiAnaWNvbi1kaXZpZGVyJyB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uLWRpdmlkZXJcIjogXCJfaWNvbi1kaXZpZGVyX2Z0YXNrXzNcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMzgsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uLWRpdmlkZXJfZnRhc2tfM3twb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MCBhdXRvO3dpZHRoOjE2cHg7aGVpZ2h0OjFweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6aHNsYSgwLDAlLDEwMCUsLjMpO2JveC1zaGFkb3c6MCAxcHggMCByZ2JhKDAsMCwwLC4zKX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbkJ1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcblx0XG5cdHZhciBQb2ludENvbnRyb2xzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShQb2ludENvbnRyb2xzLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUG9pbnRDb250cm9scygpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFBvaW50Q29udHJvbHMpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9pbnRDb250cm9scykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb2ludENvbnRyb2xzLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBwID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIHN0YXRlID0gcC5zdGF0ZTtcblx0ICAgICAgdmFyIGNvbnRyb2xzID0gc3RhdGUucG9pbnRDb250cm9scy5wcmVzZW50O1xuXHQgICAgICB2YXIgc2hvdyA9IGNvbnRyb2xzLmlzU2hvdyA/IENMQVNTRVNbJ2lzLXNob3cnXSA6ICcnO1xuXHQgICAgICB2YXIgY2xhc3NOYW1lID0gcC5jbGFzc05hbWUgKyAnICcgKyBDTEFTU0VTWydwb2ludC1jb250cm9scyddICsgJyAnICsgc2hvdztcblx0ICAgICAgdmFyIGJ1dHRvbnMgPSB0aGlzLl9hZGRCdXR0b25zKGNvbnRyb2xzKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICAgICAgJyAnLFxuXHQgICAgICAgIGJ1dHRvbnMsXG5cdCAgICAgICAgJyAnXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX29uQnV0dG9uVGFwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25CdXR0b25UYXAodHlwZSkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IF90aGlzMi5jb250ZXh0LnN0b3JlO1xuXHRcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQ0hBTkdFX1RZUEUnLCBkYXRhOiB0eXBlLCBpc1JlY29yZDogdHJ1ZSB9KTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYWRkQnV0dG9ucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEJ1dHRvbnMoY29udHJvbHMpIHtcblx0ICAgICAgdmFyIGJ1dHRvbnNNYXAgPSBbJ3N0cmFpZ2h0JywgJ2Rpc2Nvbm5lY3RlZCcsICdtaXJyb3JlZCcsICdhc3ltbWV0cmljJ10sXG5cdCAgICAgICAgICBidXR0b25zID0gW107XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnNNYXAubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IGJ1dHRvbnNNYXBbaV07XG5cdCAgICAgICAgYnV0dG9ucy5wdXNoKCgwLCBfcHJlYWN0LmgpKF9pY29uQnV0dG9uMi5kZWZhdWx0LCB7IHNoYXBlOiAncG9pbnQtJyArIHR5cGUsXG5cdCAgICAgICAgICBpc0NoZWNrOiBjb250cm9scy50eXBlID09PSB0eXBlLFxuXHQgICAgICAgICAgb25UYXA6IHRoaXMuX29uQnV0dG9uVGFwKHR5cGUpIH0pKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gYnV0dG9ucztcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFBvaW50Q29udHJvbHM7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTQxLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnQtY29udHJvbHNfMWo1ZjRfNHtkaXNwbGF5Om5vbmV9Ll9wb2ludC1jb250cm9sc18xajVmNF80Ll9pcy1zaG93XzFqNWY0Xzd7ZGlzcGxheTpibG9ja31cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicG9pbnQtY29udHJvbHNcIjogXCJfcG9pbnQtY29udHJvbHNfMWo1ZjRfNFwiLFxuXHRcdFwiaXMtc2hvd1wiOiBcIl9pcy1zaG93XzFqNWY0XzdcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBJY29ucyA9IGZ1bmN0aW9uIEljb25zKCkge1xuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6ICc8c3ZnIGhlaWdodD1cIjBcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMTAwJTsgd2lkdGg6MDsgaGVpZ2h0OjA7XCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+XFxuICAgICAgPGcgaWQ9XCJlbGxpcHNpcy1zaGFwZVwiPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIyMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cImNvZGUtc2hhcGVcIiBkPVwiTTgsMTYuMDg0OTY0OCBDOCwxNS44MjEwNzkzIDguMTExNDkwNjksMTUuNjEyOTM5MyA4LjMzNDgzNDA1LDE1LjQ2MDkwNjUgTDEyLjMzOTA4NzQsMTIuODQxOTYxMiBDMTIuMzg5NzY0OSwxMi44MDE0MTkyIDEyLjQ2NTc4MTMsMTIuNzgxMTQ4MSAxMi41Njc0OTg1LDEyLjc4MTE0ODEgQzEyLjczOTgwMjMsMTIuNzgxMTQ4MSAxMi45MDQ4NjY0LDEyLjg1NzE2NDUgMTMuMDYyMzI4OSwxMy4wMDk1NTkyIEMxMy4yMTk0Mjk0LDEzLjE2MTk1NCAxMy4yOTgzNDE3LDEzLjMzOTMyNTUgMTMuMjk4MzQxNywxMy41NDIzOTc5IEMxMy4yOTgzNDE3LDEzLjczNTMzNDcgMTMuMjIxOTYzMywxMy44ODI2NjE3IDEzLjA2OTIwNjYsMTMuOTg0MDE2OCBMOS44NTc2OTU1MywxNi4wODQ5NjQ4IEwxMy4wNjkyMDY2LDE4LjE4NjI3NDcgQzEzLjIyMTk2MzMsMTguMjY3NzIwOCAxMy4yOTgzNDE3LDE4LjQxNDY4NTggMTMuMjk4MzQxNywxOC42Mjc4OTM3IEMxMy4yOTgzNDE3LDE4LjgzMDk2NiAxMy4yMTk3OTE0LDE5LjAwNjE2NTcgMTMuMDYyMzI4OSwxOS4xNTMxMzA3IEMxMi45MDQ4NjY0LDE5LjMwMDQ1NzYgMTIuNzM5ODAyMywxOS4zNzM5NDAxIDEyLjU2NzQ5ODUsMTkuMzczOTQwMSBDMTIuNDY1NzgxMywxOS4zNzM5NDAxIDEyLjM4OTc2NDksMTkuMzUzNjY5MSAxMi4zMzkwODc0LDE5LjMxMzEyNyBMOC4zMzQ4MzQwNSwxNi42OTM4MTk4IEM4LjExMTQ5MDY5LDE2LjU0MTQyNSA4LDE2LjMzODcxNDcgOCwxNi4wODQ5NjQ4IEw4LDE2LjA4NDk2NDggWiBNMTQuMTM5OTUxNiwyMC42ODc1NzU2IEMxNC4xMjY1NTgyLDIwLjYwNzU3NzQgMTQuMTI4NzMwMSwyMC41MzAxMTMxIDE0LjE0NjgyOTMsMjAuNDU0ODIwNyBMMTYuOTM5NTI2MywxMS4zNTYwMjIgQzE2Ljk4OTExNzksMTEuMTYyMzYxMiAxNy4xMjM3NzU1LDExLjA0Njg4ODcgMTcuMzQ0MjIzLDExLjAwOTYwNDUgQzE3LjUwNDIxOTQsMTAuOTgyNDU1OCAxNy42NTg3ODYsMTEuMDEyODYyMyAxNy44MDc1NjA5LDExLjEwMDgyNDIgQzE3Ljk1NjMzNTgsMTEuMTg5MTQ3OSAxOC4wNDQyOTc2LDExLjMxMzMwOCAxOC4wNzEwODQ0LDExLjQ3MzMwNDQgQzE4LjA4NjI4NzYsMTEuNTYzNDM4MSAxOC4wNzk3NzIsMTEuNjQ3MDU2MSAxOC4wNTE4OTkzLDExLjcyMzc5NjUgTDE1LjI2NjQ0MTksMjAuNzc0ODEzNCBDMTUuMjA4NTI0NywyMC45ODAwNTc3IDE1LjA1OTM4NzgsMjEuMTAzMTMxOCAxNC44MTkzOTMyLDIxLjE0NDAzNTggQzE0LjY0ODg5OTMsMjEuMTcyOTk0NSAxNC40OTk0MDA1LDIxLjEzODk2ODEgMTQuMzY5ODEwNiwyMS4wNDI2ODA3IEMxNC4yNDAyMjA4LDIwLjk0NjAzMTMgMTQuMTYzODQyNCwyMC44Mjc2NjI5IDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBMMTQuMTM5OTUxNiwyMC42ODc1NzU2IFogTTE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBDMTguNzk1NDExOSwxOS4wMDU4MDM3IDE4LjcxNjg2MTYsMTguODMwNjA0IDE4LjcxNjg2MTYsMTguNjI3NTMxNyBDMTguNzE2ODYxNiwxOC40MjQ0NTk0IDE4Ljc4NzgxMDIsMTguMjc3NDk0NCAxOC45MzAwNjk1LDE4LjE4NTkxMjcgTDIyLjE0MjY2NjUsMTYuMDg0NjAyOCBMMTguOTMwMDY5NSwxMy45ODM2NTQ5IEMxOC43ODc4MTAyLDEzLjg3MTgwMjIgMTguNzE2ODYxNiwxMy43MjQ4MzcyIDE4LjcxNjg2MTYsMTMuNTQyMDM1OSBDMTguNzE2ODYxNiwxMy4zMzg5NjM2IDE4Ljc5NTQxMTksMTMuMTYxNTkyIDE4Ljk1Mjg3NDQsMTMuMDA5MTk3MyBDMTkuMTEwMzM2OSwxMi44NTY4MDI1IDE5LjI3NTAzOSwxMi43ODA3ODYxIDE5LjQ0NzcwNDgsMTIuNzgwNzg2MSBDMTkuNTM4OTI0NSwxMi43ODA3ODYxIDE5LjYwOTg3MzEsMTIuODAxNDE5MiAxOS42NjA5MTI2LDEyLjg0MTU5OTIgTDIzLjY2NTE2NTksMTUuNDYwNTQ0NSBDMjMuODg4MTQ3MywxNS42MTI5MzkzIDI0LDE1LjgyMTA3OTMgMjQsMTYuMDg0NjAyOCBDMjQsMTYuMzQ4ODUwMiAyMy44ODgxNDczLDE2LjU1MTU2MDYgMjMuNjY1MTY1OSwxNi42OTM4MTk4IEwxOS42NjA5MTI2LDE5LjMxMjc2NTEgQzE5LjYwOTg3MzEsMTkuMzUzMzA3MSAxOS41Mzg5MjQ1LDE5LjM3MzU3ODIgMTkuNDQ3NzA0OCwxOS4zNzM1NzgyIEMxOS4yNzUwMzksMTkuMzczNTc4MiAxOS4xMTAzMzY5LDE5LjMwMDA5NTcgMTguOTUyODc0NCwxOS4xNTI3Njg3IEwxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgWlwiPjwvcGF0aD5cXG4gICAgICA8ZyBpZD1cInBvaW50LXN0cmFpZ2h0LXNoYXBlXCIgZmlsbD1cIm5vbmVcIj5cXG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtbWlycm9yZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMS45MDEyNjMyIEM3Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgNy41OTI4NzE3MiwxMy41NzQwNTM3IDE1LjQ1MTQ0MjMsMTMuNTc0MDUzNyBDMjMuMzEwMDEyOSwxMy41NzQwNTM3IDIzLjg5MjEyMjgsMjEuOTAxMjYzMiAyMy44OTIxMjI4LDIxLjkwMTI2MzJcIi8+XFxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjE0LjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTMuMzMzXCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjAuNTY3OTI5OCBDNy44ODE0NDg0MSwyMC41Njc5Mjk4IDcuNTkyODcxNzIsMTIuMjQwNzIwNCAxNS40NTE0NDIzLDEyLjI0MDcyMDQgQzIxLjIwMDUyMDcsMTcuODg3MzcgMjMuODkyMTIyOCwyMC41Njc5Mjk4IDIzLjg5MjEyMjgsMjAuNTY3OTI5OFwiLz5cXG4gICAgICAgIDxwb2x5bGluZSBzdHJva2U9XCIjRkY1MTJGXCIgcG9pbnRzPVwiNi4xMzMgMTIgMTUuMjI4IDEyIDIzLjkzMyAyMC42MDJcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyMS44ODZcIiB5PVwiMTguNTUyXCIgZmlsbD1cIiNGRjUxMkZcIiB0cmFuc2Zvcm09XCJyb3RhdGUoNDUgMjMuMjE5IDE5Ljg4NilcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtYXN5bW1ldHJpYy1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg3LjY2NyA5LjMzMylcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiOVwiIGN5PVwiNC40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNMi41Mjc4ODUwMywyLjY2NjY2NjY3IEwxOC4xMzg4MzQ2LDIuNjY2NjY2NjdcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMTYuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiLjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cIm1vanMtbG9nby1zaGFwZVwiIGQ9XCJNMTguNDY3ODkwNywyLjY3NzAwMDQ4IEMxOS40ODg1ODYsMy4yNTc1ODYyNSAyMC4yNzg5MjI3LDQuMTg0MjE2NTEgMjAuODc4MjMsNS4xOTczNTc5IEMyNC4wODA3Nzg4LDEwLjUwMTQ1MSAyNy4yNzc3MDkxLDE1LjgxMTMxMTYgMzAuNDgwMjU4LDIxLjExNTQwNDcgQzMxLjEzMjAwNDcsMjIuMTYxMjI4MSAzMS43NzA2NDE3LDIzLjI2NDcyNTYgMzEuOTM1NDUxMiwyNC41MTYyNTMyIEMzMi4xODgyODQsMjYuMDYxOTE4NiAzMS42OTE5ODI2LDI3LjczNjM4OTUgMzAuNTU4OTE3MSwyOC44MDMzNiBDMjkuNDUwMTk4NCwyOS44ODU3MTAzIDI3Ljg4MDc2MjIsMzAuMzE4MjY1OSAyNi4zODA2MjA5LDMwLjMwNDgwODYgQzE5LjQ1MTEyOTMsMzAuMzA4NjUzNSAxMi41MjM1MTA2LDMwLjMwODY1MzUgNS41OTQwMTkwMSwzMC4zMDQ4MDg2IEMzLjcxNTU2NDk0LDMwLjM0MzI1OCAxLjY5ODUyMTA0LDI5LjU3MjM0NzggMC42ODM0NDQxNjUsMjcuODcwOTYyMyBDLTAuNDA2NTQ2MTMyLDI2LjEwOTk4MDMgLTAuMDk3NTI4MjY0MywyMy43OTE0ODIyIDAuOTQwMDIyNjM3LDIyLjA4NDMyOTMgQzQuMzQyOTY0ODUsMTYuNDEzMDQ0NSA3Ljc2NjUwODI2LDEwLjc1MzI5NDUgMTEuMTgyNTYwMyw1LjA4OTY5OTYxIEMxMS45NzQ3Njk4LDMuNzQ3ODE1OTUgMTMuMTg0NjIxNSwyLjYwMjAyNDE4IDE0LjY4NDc2MjgsMi4xODI5MjU4NCBDMTUuOTQ1MTgxMiwxLjgxNTczNDE4IDE3LjMzNDgyNTEsMi4wMTE4MjYwNiAxOC40Njc4OTA3LDIuNjc3MDAwNDggWiBNMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IEMxNS42MTQ2MjM4LDkuMDM3Nzk0NzYgMTYuMDc5MTU5Nyw5LjAyMjUwNjU1IDE2LjM3ODU2NzksOS40OTI5NTQ3IEwyNS4yNzYzNTU1LDIzLjQ3MzY5MTMgQzI1LjU3MjM5MTksMjMuOTM4ODQxNCAyNS4zNTY4NDMzLDI0LjMxNTkyMDEgMjQuODA3NDM5OCwyNC4zMTU5MjAyIEw3LjYyMzE0NjQ3LDI0LjMxNTkyMDUgQzcuMDY4MTM1MDUsMjQuMzE1OTIwNiA2Ljg0NjIyNzk4LDIzLjkyODY4ODkgNy4xMjcyODkxMywyMy40NTEzNzc5IEwxNS4zMzM0NjY4LDkuNTE1MjY4NDkgWlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48L3BhdGg+XFxuICAgIDwvc3ZnPicgfSB9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb25zO1xuXG4vKioqLyB9LFxuLyogMTQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNDUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZS1lZGl0b3JfMWY4cjVfNHtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7d2lkdGg6NDAzcHg7aGVpZ2h0OjM3OHB4O2JvcmRlci1yYWRpdXM6MTJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuODUpO3otaW5kZXg6MTAwO2JveC1zaGFkb3c6MnB4IDJweCAycHggcmdiYSgwLDAsMCwuMzgpfS5fY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NDJweDtsZWZ0OjA7dG9wOjA7Ym90dG9tOjA7cGFkZGluZzoxMHB4O2N1cnNvcjptb3ZlfS5fY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tZGl2aWRlcl17bWFyZ2luOjEwcHggYXV0b30uX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjQzcHg7dG9wOjA7cmlnaHQ6MDtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17dG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPWJvdHRvbV17Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXSwuX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT10b3Bde2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0yMXB4fS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXJpZ2h0XXtyaWdodDotMTZweDt0b3A6NTAlO21hcmdpbi10b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzF7bWFyZ2luLXRvcDoxMHB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uLWJ1dHRvbl17bWFyZ2luLWJvdHRvbTo1cHh9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbToxN3B4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0OjFweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbl17ZmlsbDojZmY1MTJmO3dpZHRoOjEycHg7aGVpZ2h0OjEycHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYxKTtcblx0XG5cdHZhciBfaW5kZXhSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4UmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4UmVkdWNlcjIuZGVmYXVsdCk7XG5cdC8vIGltcG9ydCByZWR1Y2VyXG5cdGV4cG9ydHMuZGVmYXVsdCA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogMTQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cdFxuXHR2YXIgX2NvbWJpbmVSZWR1Y2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cdFxuXHR2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblx0XG5cdHZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblx0XG5cdHZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG5cdFxuXHR2YXIgX2NvbXBvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qXG5cdCogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuXHQqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cblx0Ki9cblx0ZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG5cdCAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSkpXG5cbi8qKiovIH0sXG4vKiAxNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG5cdCAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG5cdCAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuXHQgKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG5cdCAqL1xuXHR2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuXHQgIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG5cdCAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuXHQgKlxuXHQgKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG5cdCAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcblx0ICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG5cdCAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0gW2luaXRpYWxTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG5cdCAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG5cdCAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG5cdCAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcblx0ICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZW5oYW5jZXIgVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG5cdCAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcblx0ICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cblx0ICpcblx0ICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcblx0ICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgIHZhciBfcmVmMjtcblx0XG5cdCAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgZW5oYW5jZXIgPSBpbml0aWFsU3RhdGU7XG5cdCAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcblx0ICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG5cdCAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuXHQgIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG5cdCAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuXHQgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG5cdCAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cblx0ICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cblx0ICAgKlxuXHQgICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG5cdCAgICogY2F2ZWF0czpcblx0ICAgKlxuXHQgICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cblx0ICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcblx0ICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cblx0ICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcblx0ICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuXHQgICAqXG5cdCAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG5cdCAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcblx0ICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuXHQgICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3Rcblx0ICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cdFxuXHQgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuXHQgICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cblx0ICAgKlxuXHQgICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcblx0ICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG5cdCAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuXHQgICAqIHdpbGwgYmUgbm90aWZpZWQuXG5cdCAgICpcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuXHQgICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG5cdCAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG5cdCAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuXHQgICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuXHQgICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG5cdCAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcblx0ICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2Vcblx0ICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG5cdCAgICpcblx0ICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG5cdCAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuXHQgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG5cdCAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYWN0aW9uO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG5cdCAgICpcblx0ICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG5cdCAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuXHQgICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG5cdCAgICogQHJldHVybnMge3ZvaWR9XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuXHQgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG5cdCAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG5cdCAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcblx0ICAgKiBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcblx0ICAgIHZhciBfcmVmO1xuXHRcblx0ICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcblx0ICAgIHJldHVybiBfcmVmID0ge1xuXHQgICAgICAvKipcblx0ICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuXHQgICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cblx0ICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cblx0ICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuXHQgICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuXHQgICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcblx0ICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuXHQgICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG5cdCAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG5cdCAgICAgIH1cblx0ICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSwgX3JlZjtcblx0ICB9XG5cdFxuXHQgIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG5cdCAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG5cdCAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblx0ICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgIHJldHVybiBfcmVmMiA9IHtcblx0ICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcblx0ICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuXHQgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG5cdCAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcblx0fVxuXG4vKioqLyB9LFxuLyogMTQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2V0UHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTApLFxuXHQgICAgaXNIb3N0T2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpLFxuXHQgICAgaXNPYmplY3RMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXHRcblx0LyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdCAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuXHQgKiBvZiB2YWx1ZXMuXG5cdCAqL1xuXHR2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdCAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMC44LjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHQgKiAgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAqICAgdGhpcy5hID0gMTtcblx0ICogfVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICovXG5cdGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcblx0ICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcblx0ICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0ICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHQgIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogMTUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgb3ZlckFyZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUxKTtcblx0XG5cdC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdCAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuLyoqKi8gfSxcbi8qIDE1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuXHQgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcblx0ICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG5cblxuLyoqKi8gfSxcbi8qIDE1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdCAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3Ncblx0ICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuXHQgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0ICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdCAgICB9IGNhdGNoIChlKSB7fVxuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogMTUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdCAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgNC4wLjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG4vKioqLyB9LFxuLyogMTU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMTU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdFx0dmFyIHJlc3VsdDtcblx0XHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cdFxuXHRcdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTU2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU3KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcblx0ICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcblx0ICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cdFxuXHQgIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXHRcblx0ICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuXHQgIH1cblx0XG5cdCAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcblx0ICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcblx0ICB9XG5cdFxuXHQgIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG5cdCAgfSk7XG5cdFxuXHQgIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdCAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcblx0ICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG5cdCAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcblx0ICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcblx0ICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuXHQgKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcblx0ICogcmVkdWNlciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG5cdCAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cblx0ICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cblx0ICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuXHQgKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcblx0ICogdW5yZWNvZ25pemVkIGFjdGlvbi5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuXHQgKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cdCAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblx0XG5cdCAgdmFyIHNhbml0eUVycm9yO1xuXHQgIHRyeSB7XG5cdCAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHNhbml0eUVycm9yID0gZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBpZiAoc2FuaXR5RXJyb3IpIHtcblx0ICAgICAgdGhyb3cgc2FuaXR5RXJyb3I7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcblx0ICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG5cdCAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuXHQgICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG5cdCAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cdCAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbik7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgbmV4dFN0YXRlW2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG5cdCAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSkpXG5cbi8qKiovIH0sXG4vKiAxNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcblx0LyoqXG5cdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgIH1cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0ICB0cnkge1xuXHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG5cdCAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuXHQgICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG5cdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHQgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuXHRmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG5cdCAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcblx0ICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG5cdCAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG5cdCAqXG5cdCAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuXHQgKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG5cdCAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2Bcblx0ICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcblx0ICogc3RvcmUuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG5cdCAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcblx0ICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG5cdCAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG5cdCAgfVxuXHRcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcblx0ICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcblx0fVxuXG4vKioqLyB9LFxuLyogMTU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2Rcblx0ICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuXHQgKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuXHQgKlxuXHQgKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG5cdCAqXG5cdCAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuXHQgKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcblx0ICogYXMgbmFtZWQgYXJndW1lbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcblx0ICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHQgICAgICB2YXIgY2hhaW4gPSBbXTtcblx0XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuXHQgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcblx0ICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cdFxuXHQgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0b3JlLCB7XG5cdCAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcblx0LyoqXG5cdCAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG5cdCAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuXHQgKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcblx0ICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcblx0ICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gY29tcG9zZSgpIHtcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcblx0ICAgICAgcmV0dXJuIGFyZztcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuXHQgICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2OiBmdW5jdGlvbiB2KCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNvbXBvc2VkLCBmKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcblx0ICAgICAgICAgIH0sIGxhc3QuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9KCk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuLyogMTYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBfcmVkdXhVbmRvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFVuZG8pO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZVJlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50c1JlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sc1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9sc1JlZHVjZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyLW9yZGVyIHJlZHVjZXJcblx0dmFyIFVORE9BQkxFX09QVFMgPSB7XG5cdCAgbGltaXQ6IDEwLFxuXHQgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuXHQgICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG5cdCAgfSxcblx0ICBkZWJ1ZzogZmFsc2Vcblx0fTsgLy8gUmVkdXggdXRpbGl0eSBmdW5jdGlvbnNcblx0XG5cdFxuXHR2YXIgcmVkdWNlciA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgcG9pbnRDb250cm9sczogKDAsIF9yZWR1eFVuZG8yLmRlZmF1bHQpKF9wb2ludENvbnRyb2xzUmVkdWNlcjIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgVU5ET0FCTEVfT1BUUykpLFxuXHQgIHJlc2l6ZTogX3Jlc2l6ZVJlZHVjZXIyLmRlZmF1bHQsXG5cdCAgcG9pbnRzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50c1JlZHVjZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIFVORE9BQkxFX09QVFMpKVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Myk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHM0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9leHRlbmRzNSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHM0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIHg6IDE1MCxcblx0ICB0ZW1wWDogMCxcblx0XG5cdCAgeTogMTAwLFxuXHQgIHRlbXBZOiAwLFxuXHRcblx0ICB0b3A6IDAsXG5cdCAgdGVtcF90b3A6IDAsXG5cdFxuXHQgIHJpZ2h0OiAwLFxuXHQgIHRlbXBfcmlnaHQ6IDAsXG5cdFxuXHQgIGJvdHRvbTogMCxcblx0ICB0ZW1wX2JvdHRvbTogMCxcblx0ICBzY2FsZXJYOiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlRcblx0fTtcblx0XG5cdHZhciByZXNpemVSZWR1Y2VyID0gZnVuY3Rpb24gcmVzaXplUmVkdWNlcigpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ0VESVRPUl9SRVNJWkUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0ICAgICAgICB2YXIgZGVsdGEgPSB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyA/IGRhdGEueSA6IGRhdGEueDtcblx0XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKHt9LCAndGVtcF8nICsgdHlwZSwgZGVsdGEpKTtcblx0ICAgICAgICAvLyBpZiBgcmlnaHRgc2l6ZSBjaGFuZ2VkIC0gY2FsY3VsYXRlIHRoZSBzY2FsZXIgZm9yIHggYXhpc1xuXHQgICAgICAgIGlmICh0eXBlID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgICBuZXdTdGF0ZVsnc2NhbGVyWCddID0gKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIE1hdGgubWF4KHN0YXRlLnJpZ2h0ICsgZGVsdGEsIDApKSAvIDEwMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1JFU0laRV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9leHRlbmRzMztcblx0XG5cdCAgICAgICAgdmFyIF9kYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF90eXBlID0gX2RhdGEudHlwZTtcblx0XG5cdCAgICAgICAgdmFyIF9kZWx0YSA9IF90eXBlID09PSAndG9wJyB8fCBfdHlwZSA9PT0gJ2JvdHRvbScgPyBfZGF0YS55IDogX2RhdGEueDtcblx0ICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIHJlc2l6ZSB2YWx1ZSAoIHRlbXBvcmFyeSArIGFjdHVhbCApXG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlWycnICsgYWN0aW9uLmRhdGEudHlwZV0gKyBfZGVsdGE7XG5cdCAgICAgICAgLy8gaWYgdGhlIHR5cGUgaWYgdG8gLSBpdCBoYXMgdGhlIGAtYCBhcyBiYXNlIHNvIHdlIG5lZWQgdG8gc3dhcCBtZXRob2RzXG5cdCAgICAgICAgdmFyIG1hdGhNZXRob2QgPSBfdHlwZSA9PT0gJ3RvcCcgPyAnbWluJyA6ICdtYXgnO1xuXHQgICAgICAgIHZhciBfbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgKF9leHRlbmRzMyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfZXh0ZW5kczMsICcnICsgYWN0aW9uLmRhdGEudHlwZSwgTWF0aFttYXRoTWV0aG9kXSgwLCByZXNpemUpKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX2V4dGVuZHMzLCAndGVtcF8nICsgYWN0aW9uLmRhdGEudHlwZSwgMCksIF9leHRlbmRzMykpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX25ld1N0YXRlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2FjdGlvbiRkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIHggPSBfYWN0aW9uJGRhdGEueDtcblx0ICAgICAgICB2YXIgeSA9IF9hY3Rpb24kZGF0YS55O1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgdGVtcFg6IHgsIHRlbXBZOiB5IH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9hY3Rpb24kZGF0YTIgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX3gyID0gX2FjdGlvbiRkYXRhMi54O1xuXHQgICAgICAgIHZhciBfeSA9IF9hY3Rpb24kZGF0YTIueTtcblx0XG5cdCAgICAgICAgX3gyICs9IHN0YXRlLng7XG5cdCAgICAgICAgX3kgKz0gc3RhdGUueTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgeDogX3gyLCB5OiBfeSwgdGVtcFg6IDAsIHRlbXBZOiAwIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSByZXNpemVSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG5cdCAgaWYgKGtleSBpbiBvYmopIHtcblx0ICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKG9iaiwga2V5LCB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG9ialtrZXldID0gdmFsdWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2JqO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX21ha2VQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblx0XG5cdHZhciBfbWFrZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VQb2ludCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaW5pdFBvaW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcblx0XG5cdHZhciBfaW5pdFBvaW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0UG9pbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IFsoMCwgX21ha2VQb2ludDIuZGVmYXVsdCkoeyB4OiAwLCB5OiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9KSwgKDAsIF9tYWtlUG9pbnQyLmRlZmF1bHQpKHsgeDogNTAsIHk6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSAvIDIsIHR5cGU6ICdtaXJyb3JlZCcgfSksICgwLCBfbWFrZVBvaW50Mi5kZWZhdWx0KSh7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0pXTtcblx0XG5cdHZhciBkZXNsZWN0QWxsID0gZnVuY3Rpb24gZGVzbGVjdEFsbChzdGF0ZSkge1xuXHQgIHZhciBuZXdTdGF0ZSA9IFtdO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcblx0ICAgIG5ld1N0YXRlLnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGVbaV0sIHsgaXNTZWxlY3RlZDogZmFsc2UgfSkpO1xuXHQgIH1cblx0ICByZXR1cm4gbmV3U3RhdGU7XG5cdH07XG5cdFxuXHR2YXIgZmluZFNlbGVjdGVkSW5kZWNpZXMgPSBmdW5jdGlvbiBmaW5kU2VsZWN0ZWRJbmRlY2llcyhzdGF0ZSkge1xuXHQgIHZhciBpbmRlY2llcyA9IFtdO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcblx0ICAgIHN0YXRlW2ldLmlzU2VsZWN0ZWQgJiYgaW5kZWNpZXMucHVzaChpKTtcblx0ICB9XG5cdCAgcmV0dXJuIGluZGVjaWVzO1xuXHR9O1xuXHRcblx0dmFyIHBvaW50c1JlZHVjZXIgPSBmdW5jdGlvbiBwb2ludHNSZWR1Y2VyKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICgwLCBfaW5pdFBvaW50czIuZGVmYXVsdCkoSU5JVElBTF9TVEFURSkgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gZGF0YS5pbmRleDtcblx0ICAgICAgICB2YXIgb2xkUG9pbnQgPSBzdGF0ZVtpbmRleF07XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKHN0YXRlKSk7XG5cdFxuXHQgICAgICAgIG5ld1N0YXRlW2RhdGEuaW5kZXhdID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb2xkUG9pbnQsIHsgdGVtcFg6IGRhdGEueCwgdGVtcFk6IGRhdGEueSB9KTtcblx0ICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfaW5kZXggPSBhY3Rpb24uZGF0YSxcblx0ICAgICAgICAgICAgX29sZFBvaW50ID0gc3RhdGVbX2luZGV4XSxcblx0ICAgICAgICAgICAgX25ld1N0YXRlID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKHN0YXRlKSk7XG5cdFxuXHQgICAgICAgIF9uZXdTdGF0ZVtfaW5kZXhdID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX29sZFBvaW50LCB7XG5cdCAgICAgICAgICB4OiBfb2xkUG9pbnQueCArIF9vbGRQb2ludC50ZW1wWCxcblx0ICAgICAgICAgIHk6IF9vbGRQb2ludC55ICsgX29sZFBvaW50LnRlbXBZLFxuXHQgICAgICAgICAgdGVtcFg6IDAsIHRlbXBZOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9kYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF9pbmRleDIgPSBfZGF0YS5pbmRleDtcblx0ICAgICAgICB2YXIgaXNEZXNlbGVjdCA9IF9kYXRhLmlzRGVzZWxlY3Q7XG5cdCAgICAgICAgdmFyIF9uZXdTdGF0ZTIgPSBpc0Rlc2VsZWN0ID8gZGVzbGVjdEFsbChzdGF0ZSkgOiBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoc3RhdGUpKTtcblx0XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX25ld1N0YXRlMltfaW5kZXgyXTtcblx0ICAgICAgICBwb2ludC5pc1NlbGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gX25ld1N0YXRlMjtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0FERCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2RhdGEyID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIHggPSBfZGF0YTIueDtcblx0ICAgICAgICB2YXIgeSA9IF9kYXRhMi55O1xuXHQgICAgICAgIHZhciBfaW5kZXgzID0gX2RhdGEyLmluZGV4O1xuXHQgICAgICAgIHZhciBkZXNlbGVjdGVkID0gZGVzbGVjdEFsbChzdGF0ZSk7XG5cdFxuXHQgICAgICAgIHZhciBfbmV3U3RhdGUzID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKGRlc2VsZWN0ZWQuc2xpY2UoMCwgX2luZGV4MykpLCBbKDAsIF9tYWtlUG9pbnQyLmRlZmF1bHQpKHsgeDogeCwgeTogeSwgaXNTZWxlY3RlZDogdHJ1ZSB9KV0sICgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKGRlc2VsZWN0ZWQuc2xpY2UoX2luZGV4MykpKTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfaW5pdFBvaW50czIuZGVmYXVsdCkoX25ld1N0YXRlMyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9ERUxFVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoc3RhdGUpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1N0YXRlNCA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBpdGVtID0gc3RhdGVbaV07XG5cdCAgICAgICAgICAoc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFgpICYmIF9uZXdTdGF0ZTQucHVzaChpdGVtKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGU0O1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9zZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHN0YXRlKTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdTdGF0ZTUgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICB2YXIgX2l0ZW0gPSBzdGF0ZVtpXTtcblx0ICAgICAgICAgIHZhciB0eXBlID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgICAvLyBjb3B5IGFsbCBpdGVtcyBmcm9tIHByZXZpb3VzIHN0YXRlXG5cdCAgICAgICAgICBfbmV3U3RhdGU1LnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX2l0ZW0pKTtcblx0ICAgICAgICAgIC8vIGlmIGl0ZW0gd2FzIHNlbGVjdGVkIC0gc2V0IHRoZSBuZXcgYHR5cGVgXG5cdCAgICAgICAgICBfc2VsZWN0ZWQuaW5kZXhPZihpKSAhPT0gLTEgJiYgKF9uZXdTdGF0ZTVbaV0udHlwZSA9IHR5cGUpO1xuXHRcblx0ICAgICAgICAgIHZhciBfaW5kZXg0ID0gaTtcblx0ICAgICAgICAgIHZhciBfcG9pbnQgPSBfbmV3U3RhdGU1W19pbmRleDRdO1xuXHQgICAgICAgICAgdmFyIHNpYlBvaW50ID0gX2luZGV4NCA9PT0gX25ld1N0YXRlNS5sZW5ndGggLSAxID8gX25ld1N0YXRlNVtfaW5kZXg0IC0gMV0gOiBfbmV3U3RhdGU1W19pbmRleDQgKyAxXTtcblx0XG5cdCAgICAgICAgICB2YXIgaGFuZGxlSW5kZXggPSBfaW5kZXg0ID09PSBfbmV3U3RhdGU1Lmxlbmd0aCAtIDEgPyAxIDogMjtcblx0ICAgICAgICAgIHZhciBzaWJIYW5kbGVJbmRleCA9IGhhbmRsZUluZGV4ID09PSAxID8gMiA6IDE7XG5cdCAgICAgICAgICB2YXIgaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgaGFuZGxlSW5kZXg7XG5cdCAgICAgICAgICB2YXIgc2liSGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgc2liSGFuZGxlSW5kZXg7XG5cdCAgICAgICAgICB2YXIgaGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX3BvaW50W2hhbmRsZU5hbWVdKTtcblx0ICAgICAgICAgIHZhciBzaWJIYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfcG9pbnRbc2liSGFuZGxlTmFtZV0pO1xuXHQgICAgICAgICAgX3BvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuXHQgICAgICAgICAgX3BvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnIHx8IHR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG5cdCAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnKSB7XG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGU1O1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiBkZXNsZWN0QWxsKHN0YXRlKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIC8vIEhBTkRMRVNcblx0ICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9kYXRhMyA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG5cdFxuXHQgICAgICAgIHZhciBfbmV3U3RhdGU2ID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKHN0YXRlKSk7XG5cdCAgICAgICAgdmFyIG5ld1BvaW50ID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX25ld1N0YXRlNltfZGF0YTMucGFyZW50SW5kZXhdKTtcblx0ICAgICAgICBfbmV3U3RhdGU2W19kYXRhMy5wYXJlbnRJbmRleF0gPSBuZXdQb2ludDtcblx0ICAgICAgICAvLyBjcmVhdGUgaGFuZGxlIGFuZCBjb3B5IGl0IGludG8gdGhlIG5ldyBwb2ludFxuXHQgICAgICAgIHZhciBfaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgX2RhdGEzLmluZGV4O1xuXHQgICAgICAgIHZhciBuZXdIYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBuZXdQb2ludFtfaGFuZGxlTmFtZV0pO1xuXHQgICAgICAgIG5ld1BvaW50W19oYW5kbGVOYW1lXSA9IG5ld0hhbmRsZTtcblx0ICAgICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG5cdCAgICAgICAgbmV3SGFuZGxlLmFuZ2xlID0gX2RhdGEzLmFuZ2xlO1xuXHQgICAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBfZGF0YTMucmFkaXVzO1xuXHRcblx0ICAgICAgICByZXR1cm4gX25ld1N0YXRlNjtcblx0ICAgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwb2ludHNSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Zyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdFxuXHR2YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgYXJyMltpXSA9IGFycltpXTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYXJyMjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuQXJyYXkuZnJvbTtcblxuLyoqKi8gfSxcbi8qIDE2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgY3R4ICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQgICwgdG9PYmplY3QgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBjYWxsICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTY5KVxuXHQgICwgaXNBcnJheUl0ZXIgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MClcblx0ICAsIHRvTGVuZ3RoICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nylcblx0ICAsIGNyZWF0ZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpXG5cdCAgLCBnZXRJdGVyRm4gICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oMTc0KShmdW5jdGlvbihpdGVyKXsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcblx0ICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG5cdCAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQqLyl7XG5cdCAgICB2YXIgTyAgICAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcblx0ICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheVxuXHQgICAgICAsIGFMZW4gICAgPSBhcmd1bWVudHMubGVuZ3RoXG5cdCAgICAgICwgbWFwZm4gICA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG5cdCAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcblx0ICAgICAgLCBpbmRleCAgID0gMFxuXHQgICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcblx0ICAgICAgLCBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG5cdCAgICBpZihtYXBwaW5nKW1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG5cdCAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2Vcblx0ICAgIGlmKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKXtcblx0ICAgICAgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuXHQgICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuXHQgICAgICBmb3IocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuXHQgICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH1cblx0fSk7XG5cblxuLyoqKi8gfSxcbi8qIDE2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxuXHR2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcblx0ICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuXHQgICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcblx0ICAgIHRocm93IGU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG5cdHZhciBJdGVyYXRvcnMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nylcblx0ICAsIElURVJBVE9SICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSgnaXRlcmF0b3InKVxuXHQgICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpXG5cdCAgLCBjcmVhdGVEZXNjICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBpbmRleCwgdmFsdWUpe1xuXHQgIGlmKGluZGV4IGluIG9iamVjdCkkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG5cdCAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBjbGFzc29mICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mylcblx0ICAsIElURVJBVE9SICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpXG5cdCAgLCBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuXHQgICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuXHQgICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcblx0dmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpXG5cdCAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSgndG9TdHJpbmdUYWcnKVxuXHQgIC8vIEVTMyB3cm9uZyBoZXJlXG5cdCAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblx0XG5cdC8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG5cdHZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGl0W2tleV07XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgdmFyIE8sIFQsIEI7XG5cdCAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG5cdCAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2Vcblx0ICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcblx0ICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuXHQgICAgOiBBUkcgPyBjb2YoTylcblx0ICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcblx0ICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgSVRFUkFUT1IgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MikoJ2l0ZXJhdG9yJylcblx0ICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXHRcblx0dHJ5IHtcblx0ICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG5cdCAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcblx0ICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcblx0fSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG5cdCAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuXHQgIHZhciBzYWZlID0gZmFsc2U7XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBhcnIgID0gWzddXG5cdCAgICAgICwgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcblx0ICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuXHQgICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuXHQgICAgZXhlYyhhcnIpO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0ICByZXR1cm4gc2FmZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZmFsbGJhY2sgPSBmdW5jdGlvbiBmYWxsYmFjayh2YWx1ZSwgX2ZhbGxiYWNrKSB7XG5cdCAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IF9mYWxsYmFjaztcblx0fTtcblx0XG5cdHZhciBtYWtlSGFuZGxlUG9pbnQgPSBmdW5jdGlvbiBtYWtlSGFuZGxlUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGluZGV4OiBmYWxsYmFjayhvLmluZGV4LCAwKSxcblx0ICAgIC8vIGNvb3JkaW5hdGVzXG5cdCAgICBhbmdsZTogZmFsbGJhY2soby5hbmdsZSwgbnVsbCksXG5cdCAgICByYWRpdXM6IGZhbGxiYWNrKG8ucmFkaXVzLCBudWxsKSxcblx0ICAgIC8vIHN0YXRlXG5cdCAgICBpc1RvdWNoZWQ6IGZhbGxiYWNrKG8uaXNUb3VjaGVkLCBmYWxzZSksXG5cdCAgICBpc1NlbGVjdGVkOiBmYWxsYmFjayhvLmlzU2VsZWN0ZWQsIGZhbHNlKVxuXHQgIH07XG5cdH07XG5cdFxuXHR2YXIgbWFrZVBvc2l0aW9uUG9pbnQgPSBmdW5jdGlvbiBtYWtlUG9zaXRpb25Qb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgIHg6IGZhbGxiYWNrKG8ueCwgMCksXG5cdCAgICB5OiBmYWxsYmFjayhvLnksIDApLFxuXHQgICAgLy8gdGVtcG9yYXJ5IGNvb3JkaW5hdGVzICh3aGVuIHVzZXIgbW92ZXMgdGhlIHBvaW50KSAtXG5cdCAgICAvLyBzaG91bGQgbm90IGJlIGluIGhpc3Rvcnlcblx0ICAgIHRlbXBYOiBmYWxsYmFjayhvLnRlbXBYLCAwKSxcblx0ICAgIHRlbXBZOiBmYWxsYmFjayhvLnRlbXBZLCAwKSxcblx0ICAgIC8vIHN0YXRlXG5cdCAgICBpc1RvdWNoZWQ6IGZhbGxiYWNrKG8uaXNUb3VjaGVkLCBmYWxzZSksXG5cdCAgICBpc1NlbGVjdGVkOiBmYWxsYmFjayhvLmlzU2VsZWN0ZWQsIGZhbHNlKVxuXHQgIH07XG5cdH07XG5cdFxuXHR2YXIgbWFrZVBvaW50ID0gZnVuY3Rpb24gbWFrZVBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHtcblx0ICAgIC8vIHN0YXRlXG5cdCAgICAvLyBpc09uZUhhbmRsZTogZmFsbGJhY2soIG8uaXNPbmVIYW5kbGUsIGZhbHNlICksXG5cdCAgICBpc0xvY2tlZFg6IGZhbGxiYWNrKG8uaXNMb2NrZWRYLCBmYWxzZSksXG5cdCAgICBpc0xvY2tlZFk6IGZhbGxiYWNrKG8uaXNMb2NrZWRZLCBmYWxzZSksXG5cdCAgICAvLyB0eXBlIG9mIHRoZSBwb2ludDpcblx0ICAgIC8vICAgJ3N0cmFpZ2h0JyB8fCAnbWlycm9yZWQnIHx8ICdkaXNjb25uZWN0ZWQnIHx8ICdhc3ltZXRyaWMnXG5cdCAgICB0eXBlOiBmYWxsYmFjayhvLnR5cGUsICdzdHJhaWdodCcpXG5cdCAgfSwgbWFrZVBvc2l0aW9uUG9pbnQobyksIHtcblx0ICAgIC8vIGFkZCBjdXJ2ZSBoYW5kbGVzXG5cdCAgICBoYW5kbGUxOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUxIHx8IHsgaW5kZXg6IDEgfSksXG5cdCAgICBoYW5kbGUyOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUyIHx8IHsgaW5kZXg6IDIgfSlcblx0ICB9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG1ha2VQb2ludDtcblxuLyoqKi8gfSxcbi8qIDE3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBpc1Nob3c6IGZhbHNlLFxuXHQgIHR5cGU6ICdzdHJhaWdodCdcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IHJlZHVuZGFudFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuXHQgICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG5cdCAgICAvLyB9XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogdHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0XHQgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpKSA6XG5cdFx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdwcmVhY3QnLCAncmVkdXgnXSwgZmFjdG9yeSkgOlxuXHRcdChmYWN0b3J5KChnbG9iYWwucHJlYWN0UmVkdXggPSBnbG9iYWwucHJlYWN0UmVkdXggfHwge30pLGdsb2JhbC5wcmVhY3QsZ2xvYmFsLnJlZHV4KSk7XG5cdH0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMscHJlYWN0LHJlZHV4KSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ZnVuY3Rpb24gX19jb21tb25qcyhmbiwgbW9kdWxlKSB7IHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0czsgfVxuXHRcblx0XG5cdFx0dmFyIGJhYmVsSGVscGVycyA9IHt9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdFx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHRcdCAgfVxuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXHRcblx0XHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHRcdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdFx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0YXJnZXQ7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG5cdFx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdFx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuXHRcdCAgfVxuXHRcblx0XHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHRcdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHRcdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0XHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0XHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0XHQgICAgfVxuXHRcdCAgfSk7XG5cdFx0ICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuXHRcdCAgaWYgKCFzZWxmKSB7XG5cdFx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnM7XG5cdFxuXHRcdHZhciBDaGlsZHJlbiA9IHtcblx0XHRcdG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHRcdFx0XHRyZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW5bMF0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5cdFx0cHJvcHR5cGUuaXNSZXF1aXJlZCA9IHByb3B0eXBlO1xuXHRcblx0XHR2YXIgUHJvcFR5cGVzID0ge1xuXHRcdFx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdFx0XHRmdW5jOiBwcm9wdHlwZSxcblx0XHRcdHNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBwcm9wdHlwZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHR2YXIgc3RvcmVTaGFwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG5cdFx0ICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0XHQgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG5cdFx0fSk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cblx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcblx0XHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHQgIH1cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHRcdCAgdHJ5IHtcblx0XHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdFx0ICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdFx0ICB9IGNhdGNoIChlKSB7fVxuXHRcdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHRcdH1cblx0XG5cdFx0dmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG5cdFx0ZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG5cdFx0ICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcblx0XHQgICAgcmV0dXJuO1xuXHRcdCAgfVxuXHRcdCAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlO1xuXHRcblx0XHQgIHdhcm5pbmcoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHRcdCAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9O1xuXHRcdCAgfTtcblx0XG5cdFx0ICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXHRcblx0XHQgICAgdmFyIF90aGlzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cdFxuXHRcdCAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuXHRcdCAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICB9XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0XG5cdFx0ICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblx0XHQgIH07XG5cdFxuXHRcdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHRcdH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdGlmICh0cnVlKSB7XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcblx0XHQgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0XHQgICAgdmFyIG5leHRTdG9yZSA9IG5leHRQcm9wcy5zdG9yZTtcblx0XG5cdFxuXHRcdCAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuXHRcdCAgICAgIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcblx0XHQgIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWRcblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuXHRcdCAgaWYgKG9iakEgPT09IG9iakIpIHtcblx0XHQgICAgcmV0dXJuIHRydWU7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG5cdFx0ICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblx0XG5cdFx0ICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcblx0XHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgfVxuXHRcblx0XHQgIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG5cdFx0ICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG5cdFx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICB9XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcblx0XHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0XHQgICAgcmV0dXJuIHJlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdHZhciBpc09iamVjdExpa2UgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdFx0ICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSA0LjAuMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2Uoe30pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcblx0XHQgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMCA9IGlzT2JqZWN0TGlrZSAmJiB0eXBlb2YgaXNPYmplY3RMaWtlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNPYmplY3RMaWtlID8gaXNPYmplY3RMaWtlWydkZWZhdWx0J10gOiBpc09iamVjdExpa2U7XG5cdFxuXHRcdHZhciBfaXNIb3N0T2JqZWN0ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHRcdCAgICpcblx0XHQgICAqIEBwcml2YXRlXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdFx0ICAgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdFx0ICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0XHQgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdFx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0XHQgICAgfVxuXHRcdCAgICByZXR1cm4gcmVzdWx0O1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMSA9IF9pc0hvc3RPYmplY3QgJiYgdHlwZW9mIF9pc0hvc3RPYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfaXNIb3N0T2JqZWN0ID8gX2lzSG9zdE9iamVjdFsnZGVmYXVsdCddIDogX2lzSG9zdE9iamVjdDtcblx0XG5cdFx0dmFyIF9nZXRQcm90b3R5cGUgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0XHQgIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdFx0ICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciByZXF1aXJlJCQyID0gX2dldFByb3RvdHlwZSAmJiB0eXBlb2YgX2dldFByb3RvdHlwZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIF9nZXRQcm90b3R5cGUgPyBfZ2V0UHJvdG90eXBlWydkZWZhdWx0J10gOiBfZ2V0UHJvdG90eXBlO1xuXHRcblx0XHR2YXIgaXNQbGFpbk9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgdmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUkJDIsXG5cdFx0ICAgICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSQkMSxcblx0XHQgICAgICBpc09iamVjdExpa2UgPSByZXF1aXJlJCQwO1xuXHRcblx0XHQgIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0XHQgIHZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdFx0ICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0XHQgIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdFx0ICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdFx0ICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdFx0ICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0XHQgICAqIG9mIHZhbHVlcy5cblx0XHQgICAqL1xuXHRcdCAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdFx0ICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSAwLjguMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG5cdFx0ICAgKiAgZWxzZSBgZmFsc2VgLlxuXHRcdCAgICogQGV4YW1wbGVcblx0XHQgICAqXG5cdFx0ICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdFx0ICAgKiAgIHRoaXMuYSA9IDE7XG5cdFx0ICAgKiB9XG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuXHRcdCAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0XHQgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdCAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QkMSA9IGlzUGxhaW5PYmplY3QgJiYgdHlwZW9mIGlzUGxhaW5PYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpc1BsYWluT2JqZWN0ID8gaXNQbGFpbk9iamVjdFsnZGVmYXVsdCddIDogaXNQbGFpbk9iamVjdDtcblx0XG5cdFx0dmFyIGluZGV4ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cblx0XHQgICAgICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuXHRcdCAgICAgKi9cblx0XHQgICAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0XHQgICAgdmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuXHRcdCAgICAgICAgbWl4aW5zOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvcFR5cGVzOiB0cnVlLFxuXHRcdCAgICAgICAgdHlwZTogdHJ1ZVxuXHRcdCAgICB9O1xuXHRcblx0XHQgICAgdmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBuYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgbGVuZ3RoOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvdG90eXBlOiB0cnVlLFxuXHRcdCAgICAgICAgY2FsbGVyOiB0cnVlLFxuXHRcdCAgICAgICAgYXJndW1lbnRzOiB0cnVlLFxuXHRcdCAgICAgICAgYXJpdHk6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcblx0XHQgICAgICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuXHRcdCAgICAgICAgICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cdFx0ICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXHRcdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHRcdCAgICAgICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuXHRcdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cdFx0ICAgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcblx0XHQgICAgfTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGhvaXN0U3RhdGljcyA9IGluZGV4ICYmIHR5cGVvZiBpbmRleCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGluZGV4ID8gaW5kZXhbJ2RlZmF1bHQnXSA6IGluZGV4O1xuXHRcblx0XHR2YXIgaW52YXJpYW50ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdFx0ICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHRcdCAgICpcblx0XHQgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHRcdCAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdFx0ICAgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0XHQgICAqL1xuXHRcblx0XHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAvKipcblx0XHQgICAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0XHQgICAqXG5cdFx0ICAgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHRcdCAgICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdFx0ICAgKiBleHBlY3RpbmcuXG5cdFx0ICAgKlxuXHRcdCAgICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0XHQgICAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0XHQgICAqL1xuXHRcblx0XHQgIHZhciBOT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XG5cdFxuXHRcdCAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdCAgICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcblx0XHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0XHQgICAgICB2YXIgZXJyb3I7XG5cdFx0ICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0XHQgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0XHQgICAgICAgIH0pKTtcblx0XHQgICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdFx0ICAgICAgdGhyb3cgZXJyb3I7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpbnZhcmlhbnQkMSA9IGludmFyaWFudCAmJiB0eXBlb2YgaW52YXJpYW50ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaW52YXJpYW50ID8gaW52YXJpYW50WydkZWZhdWx0J10gOiBpbnZhcmlhbnQ7XG5cdFxuXHRcdHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdFx0ICByZXR1cm4ge307XG5cdFx0fTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHZhciBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICByZXR1cm4geyBkaXNwYXRjaDogZGlzcGF0Y2ggfTtcblx0XHR9O1xuXHRcdHZhciBkZWZhdWx0TWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgcmV0dXJuIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHRcdH1cblx0XG5cdFx0dmFyIGVycm9yT2JqZWN0ID0geyB2YWx1ZTogbnVsbCB9O1xuXHRcdGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcblx0XHQgIHRyeSB7XG5cdFx0ICAgIHJldHVybiBmbi5hcHBseShjdHgpO1xuXHRcdCAgfSBjYXRjaCAoZSkge1xuXHRcdCAgICBlcnJvck9iamVjdC52YWx1ZSA9IGU7XG5cdFx0ICAgIHJldHVybiBlcnJvck9iamVjdDtcblx0XHQgIH1cblx0XHR9XG5cdFxuXHRcdC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0dmFyIG5leHRWZXJzaW9uID0gMDtcblx0XG5cdFx0ZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykge1xuXHRcdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdFx0ICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuXHRcdCAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG5cdFxuXHRcdCAgdmFyIG1hcERpc3BhdGNoID0gdm9pZCAwO1xuXHRcdCAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHM7XG5cdFx0ICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKTtcblx0XHQgIH1cblx0XG5cdFx0ICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XHQgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuXHRcdCAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcblx0XHQgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuXHRcdCAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG5cdFxuXHRcdCAgdmFyIGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzO1xuXHRcblx0XHQgIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0ICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG5cdFxuXHRcdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG5cdFx0ICAgIHZhciBjb25uZWN0RGlzcGxheU5hbWUgPSAnQ29ubmVjdCgnICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcblx0XHQgICAgICBpZiAoIWlzUGxhaW5PYmplY3QkMShwcm9wcykpIHtcblx0XHQgICAgICAgIHdhcm5pbmcobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgICAgIHZhciBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcyk7XG5cdFx0ICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgZnVuY3Rpb24gQ29ubmVjdChwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICAgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXHRcblx0XHQgICAgICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdCAgICAgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlO1xuXHRcblx0XHQgICAgICAgIGludmFyaWFudCQxKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnICsgKCdwcm9wcyBvZiBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuICcpICsgJ0VpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcgKyAoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICdcIi4nKSk7XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfTtcblx0XHQgICAgICAgIF90aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICAgIHJldHVybiBfdGhpcztcblx0XHQgICAgICB9XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpO1xuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShzdGF0ZVByb3BzLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gc3RhdGVQcm9wcztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGU7XG5cdFx0ICAgICAgICB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcHV0ZURpc3BhdGNoUHJvcHMgPSBmdW5jdGlvbiBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpO1xuXHRcdCAgICAgICAgdmFyIGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJztcblx0XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcblx0XHQgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuXHRcblx0XHQgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBtYXBwZWREaXNwYXRjaDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzO1xuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcblx0XHQgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcblx0XHQgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcblx0XHQgICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG5cdFx0ICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcyk7XG5cdFx0ICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RvcmVTdGF0ZTogc3RvcmVTdGF0ZSB9KTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMSh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAneyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuJyk7XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdCAgICAgICAgdmFyIGhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQ7XG5cdFx0ICAgICAgICB2YXIgaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMucmVuZGVyZWRFbGVtZW50O1xuXHRcblx0XG5cdFx0ICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFxuXHRcdCAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG5cdFx0ICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcztcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG5cdFx0ICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHwgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAod2l0aFJlZikge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCB0aGlzLm1lcmdlZFByb3BzLCB7XG5cdFx0ICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuXHRcdCAgICAgICAgICB9KSk7XG5cdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICByZXR1cm4gQ29ubmVjdDtcblx0XHQgICAgfShwcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG5cdFx0ICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cdFx0ICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge1xuXHRcdCAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG5cdFx0ICAgIH07XG5cdFxuXHRcblx0XHQgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcblx0XHQgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuXHRcdCAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdGV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcblx0XHRleHBvcnRzLmNvbm5lY3QgPSBjb25uZWN0O1xuXG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMTc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNzksIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSxodG1se21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kOiNmZmY1ZTR9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfaW5pdFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODEpO1xuXHRcblx0dmFyIF9pbml0UG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG5cdFxuXHQgIHZhciBuZXdQb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuXHQgICAgICAgIHNpYlBvaW50ID0gaSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludHNbaSAtIDFdIDogcG9pbnRzW2kgKyAxXSxcblx0ICAgICAgICBoYW5kbGVJbmRleCA9IGkgPT09IHBvaW50cy5sZW5ndGggLSAxID8gMSA6IDI7XG5cdFxuXHQgICAgbmV3UG9pbnRzLnB1c2goKDAsIF9pbml0UG9pbnQyLmRlZmF1bHQpKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1BvaW50cztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkge1xuXHRcblx0ICAgICAgcG9pbnQgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwb2ludCk7XG5cdFxuXHQgICAgICB2YXIgaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgaGFuZGxlSW5kZXgsXG5cdCAgICAgICAgICBzaWJIYW5kbGVJbmRleCA9IGhhbmRsZUluZGV4ID09PSAxID8gMiA6IDEsXG5cdCAgICAgICAgICBzaWJIYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBzaWJIYW5kbGVJbmRleCxcblx0ICAgICAgICAgIGhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50W2hhbmRsZU5hbWVdKSxcblx0ICAgICAgICAgIHNpYkhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50W3NpYkhhbmRsZU5hbWVdKSxcblx0ICAgICAgICAgIHR5cGUgPSBwb2ludC50eXBlO1xuXHRcblx0ICAgICAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG5cdCAgICAgIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgaWYgKGhhbmRsZS5hbmdsZSA9PSBudWxsIHx8IGhhbmRsZS5yYWRpdXMgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBoYW5kbGUucmFkaXVzID0gNTA7XG5cdFxuXHQgICAgICAgICAgICB2YXIgZHkgPSAoc2liUG9pbnQueSAtIHBvaW50LnkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULFxuXHQgICAgICAgICAgICAgICAgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcblx0XG5cdCAgICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbihkeSAvIGR4KSAqICgxODAgLyBNYXRoLlBJKSAtIDkwO1xuXHQgICAgICAgICAgICBpZiAoZHggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgIGFuZ2xlID0gYW5nbGUgLSAxODA7XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBoYW5kbGUuYW5nbGUgPSBhbmdsZTtcblx0ICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG5cdCAgICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHBvaW50O1xuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjEzYzNhZmQ1NjFkMWNkMzJjMDMwXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgMTNjM2FmZDU2MWQxY2QzMmMwMzBcbiAqKi8iLCIvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcbnJlcXVpcmUoJy4uL2Nzcy9tYWluJyk7XG5pbXBvcnQge3JlbmRlciwgaH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDdXJ2ZUVkaXRvciBmcm9tICcuL3RhZ3MvY3VydmUtZWRpdG9yJztcbmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncHJlYWN0LXJlZHV4JztcblxuLy8gVE9ET1xuLy8gICAtIHNlbGVjdCBhdCB0b3VjaFxuLy8gICAtIG1vdmUgYnVuY2ggb2YgcG9pbnRzIGF0IG9uY2Vcbi8vICAgLSBhZGQgQVBJc1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICByZW5kZXIoXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gICAgICA8Q3VydmVFZGl0b3IgLz5cbiAgICA8L1Byb3ZpZGVyPiwgZG9jdW1lbnQuYm9keSk7XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2FwcC5iYWJlbC5qc3hcbiAqKi8iLCIvKiogQ29weSBvd24tcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqXHRAcmV0dXJucyBvYmpcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0aWYgKHByb3BzKSB7XG5cdFx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldIT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9ialtpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBGYXN0IGNsb25lLiBOb3RlOiBkb2VzIG5vdCBmaWx0ZXIgb3V0IG5vbi1vd24gcHJvcGVydGllcy5cbiAqXHRAc2VlIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTZiYWEzNGY0NWRmNjg5NTAwMmUwM2I2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0cmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuXG4vKiogR2V0IGEgZGVlcCBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QsIGV4cHJlc3NlZCBpbiBkb3Qtbm90YXRpb24uXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdGZvciAobGV0IHA9a2V5LnNwbGl0KCcuJyksIGk9MDsgaTxwLmxlbmd0aCAmJiBvYmo7IGkrKykge1xuXHRcdG9iaiA9IG9ialtwW2ldXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIEFycmF5XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0cmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgRnVuY3Rpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuICdmdW5jdGlvbic9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgU3RyaW5nPyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHRyZXR1cm4gJ3N0cmluZyc9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHRyZXR1cm4geD09PXVuZGVmaW5lZCB8fCB4PT09bnVsbDtcbn1cblxuXG4vKiogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBleHBsaWNpdGx5IGBmYWxzZWAuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZT09PWZhbHNlIHx8IGVtcHR5KHZhbHVlKTtcbn1cblxuXG4vKiogQ29udmVydCBhIGhhc2htYXAgb2YgQ1NTIGNsYXNzZXMgdG8gYSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NOYW1lIHN0cmluZ1xuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IHByb3AgaW4gYykge1xuXHRcdGlmIChjW3Byb3BdKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0c3RyICs9IHByb3A7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG5cblxuLyoqIEp1c3QgYSBtZW1vaXplZCBTdHJpbmcjdG9Mb3dlckNhc2UgKi9cbmxldCBsY0NhY2hlID0ge307XG5leHBvcnQgY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuXG4gKlx0QHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xubGV0IHJlc29sdmVkID0gdHlwZW9mIFByb21pc2UhPT0ndW5kZWZpbmVkJyAmJiBQcm9taXNlLnJlc29sdmUoKTtcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IChmID0+IHsgcmVzb2x2ZWQudGhlbihmKTsgfSkgOiBzZXRUaW1lb3V0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZmFsc2V5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzaFRvQ2xhc3NOYW1lIH0gZnJvbSAnLi91dGlsJztcblxuXG5jb25zdCBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXG5cbi8qKiBKU1gvaHlwZXJzY3JpcHQgcmV2aXZlclxuICpcdEBzZWUgaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4XG4gKlx0QHB1YmxpY1xuICogIEBleGFtcGxlXG4gKiAgLyoqIEBqc3ggaCAqXFwvXG4gKiAgaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbiAqICByZW5kZXIoPHNwYW4+Zm9vPC9zcGFuPiwgZG9jdW1lbnQuYm9keSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdGxldCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGU7XG5cblxuXHRpZiAobGVuPjIpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHRcdGlmIChsZW49PT0zICYmIHR5cGUhPT0nb2JqZWN0JyAmJiB0eXBlIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbU3RyaW5nKGZpcnN0Q2hpbGQpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaT0yOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdGxldCBwID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoZmFsc2V5KHApKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHAuam9pbikgYXJyID0gcDtcblx0XHRcdFx0ZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gcDtcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPGFyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGxldCBjaGlsZCA9IGFycltqXSxcblx0XHRcdFx0XHRcdHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXSArPSBjaGlsZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0XHRcdFx0bGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikge1xuXHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHRcdFx0Ly8gbm9ybWFsaXplIGNsYXNzTmFtZSB0byBjbGFzcy5cblx0XHRcdGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0XHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0XHRcdGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5zdHlsZTtcblx0XHRcdC8vIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0Ly8gXHRhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVPYmpUb0NzcyhsYXN0U2ltcGxlKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cdH1cblxuXHRsZXQgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB1bmRlZmluZWQsIGNoaWxkcmVuKTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdHJldHVybiBwO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvaC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIHRvQXJyYXkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHJldHVybiBoKFxuXHRcdHZub2RlLm5vZGVOYW1lLFxuXHRcdGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLFxuXHRcdGFyZ3VtZW50cy5sZW5ndGg+MiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuXG5cdCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzXG4gKiovIiwiaW1wb3J0IHsgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBkZWx2ZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKiBDcmVhdGUgYW4gRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHNldHMgYSBnaXZlbiBzdGF0ZSBwcm9wZXJ0eS5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgY29tcG9uZW50IHdob3NlIHN0YXRlIHNob3VsZCBiZSB1cGRhdGVkXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0QSBkb3Qtbm90YXRlZCBrZXkgcGF0aCB0byB1cGRhdGUgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGV2ZW50UGF0aFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRXZlbnQgb3IgY29tcG9uZW50XG4gKlx0QHJldHVybnMge2Z1bmN0aW9ufSBsaW5rZWRTdGF0ZUhhbmRsZXJcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHRsZXQgcGF0aCA9IGtleS5zcGxpdCgnLicpLFxuXHRcdHAwID0gcGF0aFswXTtcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsXG5cdFx0XHRzID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdFx0b2JqID0gcyxcblx0XHRcdHYsIGk7XG5cdFx0aWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0XHRcdHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHRcdFx0aWYgKGVtcHR5KHYpICYmICh0PXQuX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0diA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0diA9IHQubm9kZU5hbWUgPyAoKHQubm9kZU5hbWUrdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlKSA6IGU7XG5cdFx0fVxuXHRcdGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHRcdGlmIChwYXRoLmxlbmd0aD4xKSB7XG5cdFx0XHRmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0b2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdFx0XHR9XG5cdFx0XHRvYmpbcGF0aFtpXV0gPSB2O1xuXHRcdFx0diA9IHNbcDBdO1xuXHRcdH1cblx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBbcDBdOiB2IH0pO1xuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzXG4gKiovIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNldEltbWVkaWF0ZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG4vLyBpdGVtcy9pdGVtc09mZmxpbmUgc3dhcCBvbiBlYWNoIHJlcmVuZGVyKCkgY2FsbCAoanVzdCBhIHNpbXBsZSBwb29sIHRlY2huaXF1ZSlcbmxldCBpdGVtcyA9IFtdLFxuXHRpdGVtc09mZmxpbmUgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmIChpdGVtcy5wdXNoKGNvbXBvbmVudCkhPT0xKSByZXR1cm47XG5cblx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHRpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG5cdGxldCBjdXJyZW50SXRlbXMgPSBpdGVtcyxcblx0XHRwO1xuXG5cdC8vIHN3YXAgb25saW5lICYgb2ZmbGluZVxuXHRpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0aXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXG5cdHdoaWxlICggKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpICkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSwgTk9OX0RJTUVOU0lPTl9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHRvTG93ZXJDYXNlLCBlbXB0eSwgZmFsc2V5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSAoZGF0YSB8fCB7fSkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7XG5cdHJldHVybiAwO1xufVxuXG5cbi8qKiBSZW1vdmVzIGEgZ2l2ZW4gRE9NIE5vZGUgZnJvbSBpdHMgcGFyZW50LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdFx0QW4gYXR0cmlidXRlIHZhbHVlLCBzdWNoIGFzIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyXG4gKlx0QHBhcmFtIHthbnl9IHByZXZpb3VzVmFsdWVcdFRoZSBsYXN0IHZhbHVlIHRoYXQgd2FzIHNldCBmb3IgdGhpcyBuYW1lL25vZGUgcGFpclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHRlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXG5cdGlmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdjaGlsZHJlbicpIHJldHVybjtcblxuXHRpZiAobmFtZT09PSdjbGFzcycgJiYgIWlzU3ZnKSB7XG5cdFx0bm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJztcblx0fVxuXHRlbHNlIGlmIChuYW1lPT09J3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlPT09J29iamVjdCcpIHtcblx0XHRcdGlmICghaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHR5cGVvZiB2YWx1ZVtpXT09PSdudW1iZXInICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gKHZhbHVlW2ldKydweCcpIDogdmFsdWVbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0fVxuXHRlbHNlIGlmIChuYW1lWzBdPT09J28nICYmIG5hbWVbMV09PT0nbicpIHtcblx0XHRsZXQgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHRcdG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAobFtuYW1lXSkge1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRsW25hbWVdID0gdmFsdWU7XG5cdH1cblx0ZWxzZSBpZiAobmFtZSE9PSd0eXBlJyAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdFx0c2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxldCBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7XG5cdFx0XHRlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0eXBlb2YgdmFsdWUhPT0nb2JqZWN0JyAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpO1xuXHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIEF0dGVtcHQgdG8gc2V0IGEgRE9NIHByb3BlcnR5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXHRJRSAmIEZGIHRocm93IGZvciBjZXJ0YWluIHByb3BlcnR5LXZhbHVlIGNvbWJpbmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0dHJ5IHtcblx0XHRub2RlW25hbWVdID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5cbi8qKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcbn1cblxuXG4vKiogR2V0IGEgbm9kZSdzIGF0dHJpYnV0ZXMgYXMgYSBoYXNobWFwLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdGxldCBhdHRycyA9IHt9O1xuXHRmb3IgKGxldCBpPW5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0YXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBhdHRycztcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0xvd2VyQ2FzZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXROb2RlVHlwZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIENoZWNrIGlmIHR3byBub2RlcyBhcmUgZXF1aXZhbGVudC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHRpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGdldE5vZGVUeXBlKG5vZGUpPT09Mztcblx0fVxuXHRpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpO1xuXHR9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZT09PW5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpPT09dG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xufVxuXG5cbi8qKlxuICogUmVjb25zdHJ1Y3QgQ29tcG9uZW50LXN0eWxlIGBwcm9wc2AgZnJvbSBhIFZOb2RlLlxuICogRW5zdXJlcyBkZWZhdWx0L2ZhbGxiYWNrIHZhbHVlcyBmcm9tIGBkZWZhdWx0UHJvcHNgOlxuICogT3duLXByb3BlcnRpZXMgb2YgYGRlZmF1bHRQcm9wc2Agbm90IHByZXNlbnQgaW4gYHZub2RlLmF0dHJpYnV0ZXNgIGFyZSBhZGRlZC5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdGxldCBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsXG5cdFx0cHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnN1cmVOb2RlRGF0YSwgZ2V0Tm9kZVR5cGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzLCByZW1vdmVOb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKiBET00gbm9kZSBwb29sLCBrZXllZCBvbiBub2RlTmFtZS4gKi9cblxuY29uc3Qgbm9kZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0Y2xlYW5Ob2RlKG5vZGUpO1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLFxuXHRcdGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTtcblx0ZWxzZSBub2Rlc1tuYW1lXSA9IFtub2RlXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0bGV0IG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksXG5cdFx0bm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdHJlbW92ZU5vZGUobm9kZSk7XG5cblx0aWYgKGdldE5vZGVUeXBlKG5vZGUpIT09MSkgcmV0dXJuO1xuXG5cdC8vIFdoZW4gcmVjbGFpbWluZyBleHRlcm5hbGx5IGNyZWF0ZWQgbm9kZXMsIHNlZWQgdGhlIGF0dHJpYnV0ZSBjYWNoZTogKElzc3VlICM5NylcblxuXHRlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cblx0bm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXG5cdC8vIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPjApIHtcblx0Ly8gXHRjb25zb2xlLnRyYWNlKGBXYXJuaW5nOiBSZWN5Y2xlciBjb2xsZWN0aW5nIDwke25vZGUubm9kZU5hbWV9PiB3aXRoICR7bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH0gY2hpbGRyZW4uYCk7XG5cdC8vIFx0Zm9yIChsZXQgaT1ub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpLS07ICkgY29sbGVjdE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0Ly8gfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgQVRUUl9LRVkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNTYW1lTm9kZVR5cGUsIGlzTmFtZWROb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgYnVpbGRDb21wb25lbnRGcm9tVk5vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzZXRBY2Nlc3NvciwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZU5vZGUsIGNvbGxlY3ROb2RlIH0gZnJvbSAnLi4vZG9tL3JlY3ljbGVyJztcbmltcG9ydCB7IHVubW91bnRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgY29uc3QgbW91bnRzID0gW107XG5cbi8qKiBEaWZmIHJlY3Vyc2lvbiBjb3VudCwgdXNlZCB0byB0cmFjayB0aGUgZW5kIG9mIHRoZSBkaWZmIGN5Y2xlLiAqL1xuZXhwb3J0IGxldCBkaWZmTGV2ZWwgPSAwO1xuXG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHRsZXQgYztcblx0d2hpbGUgKChjPW1vdW50cy5wb3AoKSkpIHtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cblxuLyoqIEFwcGx5IGRpZmZlcmVuY2VzIGluIGEgZ2l2ZW4gdm5vZGUgKGFuZCBpdCdzIGRlZXAgY2hpbGRyZW4pIHRvIGEgcmVhbCBET00gTm9kZS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IFtkb209bnVsbF1cdFx0QSBET00gbm9kZSB0byBtdXRhdGUgaW50byB0aGUgc2hhcGUgb2YgdGhlIGB2bm9kZWBcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRcdEEgVk5vZGUgKHdpdGggZGVzY2VuZGFudHMgZm9ybWluZyBhIHRyZWUpIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBET00gc3RydWN0dXJlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0XHRcdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ZGlmZkxldmVsKys7XG5cdGxldCByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUhPT1wYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHRpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXG5cdHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGVtcHR5KHZub2RlKSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0fVxuXG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRpZiAoZG9tKSB7XG5cdFx0XHRpZiAoZ2V0Tm9kZVR5cGUoZG9tKT09PTMgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aWYgKGRvbS5ub2RlVmFsdWUhPXZub2RlKSB7XG5cdFx0XHRcdFx0ZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkb207XG5cdFx0XHR9XG5cdFx0XHRjb2xsZWN0Tm9kZShkb20pO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHR9XG5cblx0bGV0IG91dCA9IGRvbSxcblx0XHRub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lLFxuXHRcdHN2Z01vZGU7XG5cblx0aWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSB7XG5cdFx0bm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHR9XG5cblx0c3ZnTW9kZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKT09PSdzdmcnO1xuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSB0cnVlO1xuXG5cdGlmICghZG9tKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0fVxuXHRlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHRcdC8vIG1vdmUgY2hpbGRyZW4gaW50byB0aGUgcmVwbGFjZW1lbnQgbm9kZVxuXHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHQvLyByZWNsYWltIGVsZW1lbnQgbm9kZXNcblx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHR9XG5cblx0Ly8gZmFzdC1wYXRoIGZvciBlbGVtZW50cyBjb250YWluaW5nIGEgc2luZ2xlIFRleHROb2RlOlxuXHRpZiAodm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoPT09MSAmJiB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF09PT0nc3RyaW5nJyAmJiBvdXQuY2hpbGROb2Rlcy5sZW5ndGg9PT0xICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkge1xuXHRcdG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdO1xuXHR9XG5cdGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSB7XG5cdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdH1cblxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikge1xuXHRcdChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdH1cblxuXHRpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gZmFsc2U7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiogQXBwbHkgY2hpbGQgYW5kIGF0dHJpYnV0ZSBjaGFuZ2VzIGJldHdlZW4gYSBWTm9kZSBhbmQgYSBET00gTm9kZSB0byB0aGUgRE9NLiAqL1xuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2Rlcyxcblx0XHRjaGlsZHJlbiA9IFtdLFxuXHRcdGtleWVkID0ge30sXG5cdFx0a2V5ZWRMZW4gPSAwLFxuXHRcdG1pbiA9IDAsXG5cdFx0bGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdFx0Y2hpbGRyZW5MZW4gPSAwLFxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCxcblx0XHRqLCBjLCB2Y2hpbGQsIGNoaWxkO1xuXG5cdGlmIChsZW4pIHtcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHRcdGtleSA9IHZsZW4gPyAoKGMgPSBjaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IGNoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwpIDogbnVsbDtcblx0XHRcdGlmIChrZXkgfHwga2V5PT09MCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gY2hpbGQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBjaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTx2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0Ly8gaWYgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpKSB7XG5cdFx0XHQvLyBcdHZjaGlsZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIGZpbmQgYSBub2RlIGJhc2VkIG9uIGtleSBtYXRjaGluZ1xuXHRcdFx0aWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xuXHRcdFx0XHRpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXG5cdFx0XHRpZiAoIWNoaWxkICYmIG1pbjxjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRmb3IgKGo9bWluOyBqPGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRjID0gY2hpbGRyZW5bal07XG5cdFx0XHRcdFx0aWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRpZiAoaj09PWNoaWxkcmVuTGVuLTEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRpZiAoaj09PW1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9ycGggdGhlIG1hdGNoZWQvZm91bmQvY3JlYXRlZCBET00gY2hpbGQgdG8gbWF0Y2ggdmNoaWxkIChkZWVwKVxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGlmIChjaGlsZCE9PW9yaWdpbmFsQ2hpbGRyZW5baV0pIHtcblx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGlmIChrZXllZExlbikge1xuXHRcdC8qZXNsaW50IGd1YXJkLWZvci1pbjowKi9cblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIHtcblx0XHRcdGNoaWxkcmVuW21pbj1jaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCBjaGlsZHJlblxuXHRpZiAobWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdH1cbn1cblxuXG4vKiogUmVjbGFpbSBjaGlsZHJlbiB0aGF0IHdlcmUgdW5yZWZlcmVuY2VkIGluIHRoZSBkZXNpcmVkIFZUcmVlICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0Zm9yIChsZXQgaT1jaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0bGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGFuIGVudGlyZSB0cmVlIG9mIG5vZGVzLCBzdGFydGluZyBhdCB0aGUgcm9vdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQvLyBAVE9ETzogTmVlZCB0byBtYWtlIGEgY2FsbCBvbiB3aGV0aGVyIFByZWFjdCBzaG91bGQgcmVtb3ZlIG5vZGVzIG5vdCBjcmVhdGVkIGJ5IGl0c2VsZi5cblx0Ly8gQ3VycmVudGx5IGl0ICpkb2VzKiByZW1vdmUgdGhlbS4gRGlzY3Vzc2lvbjogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvaXNzdWVzLzM5XG5cdC8vaWYgKCFub2RlW0FUVFJfS0VZXSkgcmV0dXJuO1xuXG5cdGxldCBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTtcblx0fVxuXHRlbHNlIHtcblx0XHRpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRpZiAoIXVubW91bnRPbmx5KSB7XG5cblx0XHRcdGNvbGxlY3ROb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYXR0cmlidXRlcyBmcm9tIGEgVk5vZGUgdG8gdGhlIGdpdmVuIERPTSBOb2RlLiAqL1xuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHRsZXQgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXG5cdC8vIHJlbW92ZUF0dHJpYnV0ZXMoZG9tLCBvbGQsIGF0dHJzIHx8IEVNUFRZKTtcblx0Zm9yIChsZXQgbmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIWF0dHJzIHx8ICEobmFtZSBpbiBhdHRycykpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgbnVsbCwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG5ldyAmIHVwZGF0ZWRcblx0aWYgKGF0dHJzKSB7XG5cdFx0Zm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuXHRcdFx0aWYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdIT0obmFtZT09PSd2YWx1ZScgfHwgbmFtZT09PSdzZWxlY3RlZCcgfHwgbmFtZT09PSdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpIHtcblx0XHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBhdHRyc1tuYW1lXSwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9kaWZmLmpzXG4gKiovIiwiLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG5jb25zdCBjb21wb25lbnRzID0ge307XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0bGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTtcblx0ZWxzZSBjb21wb25lbnRzW25hbWVdID0gW2NvbXBvbmVudF07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHRsZXQgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHRpZiAobGlzdCkge1xuXHRcdGZvciAobGV0IGk9bGlzdC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5jb25zdHJ1Y3Rvcj09PUN0b3IpIHtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdFx0XHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGluc3Q7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC1yZWN5Y2xlci5qc1xuICoqLyIsImltcG9ydCB7IFNZTkNfUkVOREVSLCBOT19SRU5ERVIsIEZPUkNFX1JFTkRFUiwgQVNZTkNfUkVOREVSLCBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGNsb25lLCBleHRlbmQsIGVtcHR5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyLXF1ZXVlJztcbmltcG9ydCB7IGdldE5vZGVQcm9wcyB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgZGlmZiwgbW91bnRzLCBkaWZmTGV2ZWwsIGZsdXNoTW91bnRzLCByZW1vdmVPcnBoYW5lZENoaWxkcmVuLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vZGlmZic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50LCBjb2xsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtcmVjeWNsZXInO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIE1hcmsgY29tcG9uZW50IGFzIGRpcnR5IGFuZCBxdWV1ZSB1cCBhIHJlbmRlci5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHRcdGNvbXBvbmVudC5fZGlydHkgPSB0cnVlO1xuXHRcdGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0fVxufVxuXG5cblxuLyoqIFNldCBhIGNvbXBvbmVudCdzIGBwcm9wc2AgKGdlbmVyYWxseSBkZXJpdmVkIGZyb20gSlNYIGF0dHJpYnV0ZXMpLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlclN5bmM9ZmFsc2VdXHRJZiBgdHJ1ZWAgYW5kIHtAbGluayBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzfSBpcyBgdHJ1ZWAsIHRyaWdnZXJzIHN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlcj10cnVlXVx0XHRcdElmIGBmYWxzZWAsIG5vIHJlbmRlciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBiID0gY29tcG9uZW50LmJhc2U7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGlmICgoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSkgZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9XG5cdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCE9PWNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cblx0aWYgKG9wdHMhPT1OT19SRU5ERVIpIHtcblx0XHRpZiAob3B0cz09PVNZTkNfUkVOREVSIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMhPT1mYWxzZSB8fCAhYikge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgU1lOQ19SRU5ERVIsIG1vdW50QWxsKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cblxuXG4vKiogUmVuZGVyIGEgQ29tcG9uZW50LCB0cmlnZ2VyaW5nIG5lY2Vzc2FyeSBsaWZlY3ljbGUgZXZlbnRzIGFuZCB0YWtpbmcgSGlnaC1PcmRlciBDb21wb25lbnRzIGludG8gYWNjb3VudC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYnVpbGQ9ZmFsc2VdXHRcdElmIGB0cnVlYCwgY29tcG9uZW50IHdpbGwgYnVpbGQgYW5kIHN0b3JlIGEgRE9NIG5vZGUgaWYgbm90IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIG9uZS5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXG5cdGxldCBza2lwLCByZW5kZXJlZCxcblx0XHRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcblx0XHRzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0XHRjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdFx0cHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsXG5cdFx0cHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdFx0cHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdFx0aXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSxcblx0XHRpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0XHRuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLFxuXHRcdGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLFxuXHRcdGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LFxuXHRcdGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyE9PUZPUkNFX1JFTkRFUlxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSBmYWxzZSkge1xuXHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cblx0XHQvLyBjb250ZXh0IHRvIHBhc3MgdG8gdGhlIGNoaWxkLCBjYW4gYmUgdXBkYXRlZCB2aWEgKGdyYW5kLSlwYXJlbnQgY29tcG9uZW50XG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHtcblx0XHRcdHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHRcdHRvVW5tb3VudCwgYmFzZTtcblxuXHRcdGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHQvLyBzZXQgdXAgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXG5cdFx0XHRsZXQgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCxcblx0XHRcdFx0Y2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3I9PT1jaGlsZENvbXBvbmVudCkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblx0XHRcdFx0aW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBOT19SRU5ERVIsIGNvbnRleHQpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgU1lOQ19SRU5ERVIpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHQvLyBkZXN0cm95IGhpZ2ggb3JkZXIgY29tcG9uZW50IGxpbmtcblx0XHRcdHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0XHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdFx0Y2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0aWFsQmFzZSB8fCBvcHRzPT09U1lOQ19SRU5ERVIpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlIT09aW5pdGlhbEJhc2UpIHtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UhPT1iYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0XHRcdGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQ9PT1jb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsIHRydWUpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSkge1xuXHRcdFx0bGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdFx0dCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICgodD10Ll9wYXJlbnRDb21wb25lbnQpKSB7IGNvbXBvbmVudFJlZiA9IHQ7IH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdFx0aWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdH1cblx0ZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0fVxuXG5cdGxldCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLCBmbjtcblx0aWYgKGNiKSB3aGlsZSAoIChmbiA9IGNiLnBvcCgpKSApIGZuLmNhbGwoY29tcG9uZW50KTtcblxuXHRyZXR1cm4gcmVuZGVyZWQ7XG59XG5cblxuXG4vKiogQXBwbHkgdGhlIENvbXBvbmVudCByZWZlcmVuY2VkIGJ5IGEgVk5vZGUgdG8gdGhlIERPTS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0VGhlIERPTSBub2RlIHRvIG11dGF0ZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIENvbXBvbmVudC1yZWZlcmVuY2luZyBWTm9kZVxuICpcdEByZXR1cm5zIHtFbGVtZW50fSBkb21cdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0XHRvbGREb20gPSBkb20sXG5cdFx0aXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lLFxuXHRcdGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHRcdHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGM9Yy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgQVNZTkNfUkVOREVSLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KGMsIHRydWUpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSE9PW9sZERvbSkge1xuXHRcdFx0b2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5cblxuLyoqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBET00gYW5kIHJlY3ljbGUgaXQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRBIERPTSBub2RlIGZyb20gd2hpY2ggdG8gdW5tb3VudCB0aGUgZ2l2ZW4gQ29tcG9uZW50XG4gKlx0QHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFx0VGhlIENvbXBvbmVudCBpbnN0YW5jZSB0byB1bm1vdW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0Ly8gY29uc29sZS5sb2coYCR7cmVtb3ZlPydSZW1vdmluZyc6J1VubW91bnRpbmcnfSBjb21wb25lbnQ6ICR7Y29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cdGxldCBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0Ly8gcmVjdXJzaXZlbHkgdGVhciBkb3duICYgcmVjb2xsZWN0IGhpZ2gtb3JkZXIgY29tcG9uZW50IGNoaWxkcmVuOlxuXHRsZXQgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0aWYgKGlubmVyKSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTtcblx0fVxuXHRlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBGT1JDRV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBleHRlbmQsIGNsb25lLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNyZWF0ZUxpbmtlZFN0YXRlIH0gZnJvbSAnLi9saW5rZWQtc3RhdGUnO1xuaW1wb3J0IHsgdHJpZ2dlckNvbXBvbmVudFJlbmRlciwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi92ZG9tL2NvbXBvbmVudCc7XG5cbi8qKiBCYXNlIENvbXBvbmVudCBjbGFzcywgZm9yIGhlIEVTNiBDbGFzcyBtZXRob2Qgb2YgY3JlYXRpbmcgQ29tcG9uZW50c1xuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHRjbGFzcyBNeUZvbyBleHRlbmRzIENvbXBvbmVudCB7XG4gKlx0XHRyZW5kZXIocHJvcHMsIHN0YXRlKSB7XG4gKlx0XHRcdHJldHVybiA8ZGl2IC8+O1xuICpcdFx0fVxuICpcdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQvKiogQHByaXZhdGUgKi9cblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xufVxuXG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFN0YXRlXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcblx0ICpcdEByZXR1cm5zIHtCb29sZWFufSBzaG91bGQgdGhlIGNvbXBvbmVudCByZS1yZW5kZXJcblx0ICpcdEBuYW1lIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKlx0QGZ1bmN0aW9uXG5cdCAqL1xuXHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdC8vIFx0cmV0dXJuIHRydWU7XG5cdC8vIH0sXG5cblxuXHQvKiogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIHN0YXRlIHByb3BlcnR5IHdoZW4gY2FsbGVkLlxuXHQgKlx0Q2FsbGluZyBsaW5rU3RhdGUoKSByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHJldHVybnMgYSBjYWNoZWQgbGluayBmdW5jdGlvbi5cblx0ICpcblx0ICpcdFByb3ZpZGVzIHNvbWUgYnVpbHQtaW4gc3BlY2lhbCBjYXNlczpcblx0ICpcdFx0LSBDaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGxpbmsgdGhlaXIgYm9vbGVhbiBgY2hlY2tlZGAgdmFsdWVcblx0ICpcdFx0LSBJbnB1dHMgYXV0b21hdGljYWxseSBsaW5rIHRoZWlyIGB2YWx1ZWAgcHJvcGVydHlcblx0ICpcdFx0LSBFdmVudCBwYXRocyBmYWxsIGJhY2sgdG8gYW55IGFzc29jaWF0ZWQgQ29tcG9uZW50IGlmIG5vdCBmb3VuZCBvbiBhbiBlbGVtZW50XG5cdCAqXHRcdC0gSWYgbGlua2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHdpbGwgaW52b2tlIGl0IGFuZCB1c2UgdGhlIHJlc3VsdFxuXHQgKlxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0VGhlIHBhdGggdG8gc2V0IC0gY2FuIGJlIGEgZG90LW5vdGF0ZWQgZGVlcCBrZXlcblx0ICpcdEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRQYXRoXVx0XHRJZiBzZXQsIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5ldyBzdGF0ZSB2YWx1ZSBhdCBhIGdpdmVuIGRvdC1ub3RhdGVkIHBhdGggd2l0aGluIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBsaW5rZWRTdGF0ZSBzZXR0ZXIuXG5cdCAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtTdGF0ZVNldHRlcihlKVxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgVXBkYXRlIGEgXCJ0ZXh0XCIgc3RhdGUgdmFsdWUgd2hlbiBhbiBpbnB1dCBjaGFuZ2VzOlxuXHQgKlx0XHQ8aW5wdXQgb25DaGFuZ2U9eyB0aGlzLmxpbmtTdGF0ZSgndGV4dCcpIH0gLz5cblx0ICpcblx0ICpcdEBleGFtcGxlIFNldCBhIGRlZXAgc3RhdGUgdmFsdWUgb24gY2xpY2tcblx0ICpcdFx0PGJ1dHRvbiBvbkNsaWNrPXsgdGhpcy5saW5rU3RhdGUoJ3RvdWNoLmNvb3JkcycsICd0b3VjaGVzLjAnKSB9PlRhcDwvYnV0dG9uXG5cdCAqL1xuXHRsaW5rU3RhdGUoa2V5LCBldmVudFBhdGgpIHtcblx0XHRsZXQgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLFxuXHRcdFx0Y2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdFx0cmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdH0sXG5cblxuXHQvKiogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBieSBjb3B5aW5nIHByb3BlcnRpZXMgZnJvbSBgc3RhdGVgIHRvIGB0aGlzLnN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG5cdCAqL1xuXHRzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRsZXQgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0XHRleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdFx0dHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0fSxcblxuXG5cdC8qKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqXHRAcHJpdmF0ZVxuXHQgKi9cblx0Zm9yY2VVcGRhdGUoKSB7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIEZPUkNFX1JFTkRFUik7XG5cdH0sXG5cblxuXHQvKiogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuXHQgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHByb3BzXHRcdFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50IGVsZW1lbnQvY29tcG9uZW50XG5cdCAqXHRAcGFyYW0ge29iamVjdH0gc3RhdGVcdFx0VGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG5cdCAqXHRAcmV0dXJucyBWTm9kZVxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzXG4gKiovIiwiLy8gcmVuZGVyIG1vZGVzXG5cbmV4cG9ydCBjb25zdCBOT19SRU5ERVIgPSAwO1xuZXhwb3J0IGNvbnN0IFNZTkNfUkVOREVSID0gMTtcbmV4cG9ydCBjb25zdCBGT1JDRV9SRU5ERVIgPSAyO1xuZXhwb3J0IGNvbnN0IEFTWU5DX1JFTkRFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IHt9O1xuXG5leHBvcnQgY29uc3QgQVRUUl9LRVkgPSB0eXBlb2YgU3ltYm9sIT09J3VuZGVmaW5lZCcgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHRib3hGbGV4OjEsIGJveEZsZXhHcm91cDoxLCBjb2x1bW5Db3VudDoxLCBmaWxsT3BhY2l0eToxLCBmbGV4OjEsIGZsZXhHcm93OjEsXG5cdGZsZXhQb3NpdGl2ZToxLCBmbGV4U2hyaW5rOjEsIGZsZXhOZWdhdGl2ZToxLCBmb250V2VpZ2h0OjEsIGxpbmVDbGFtcDoxLCBsaW5lSGVpZ2h0OjEsXG5cdG9wYWNpdHk6MSwgb3JkZXI6MSwgb3JwaGFuczoxLCBzdHJva2VPcGFjaXR5OjEsIHdpZG93czoxLCB6SW5kZXg6MSwgem9vbToxXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vdmRvbS9kaWZmJztcblxuLyoqIFJlbmRlciBKU1ggaW50byBhIGBwYXJlbnRgIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0QSAoSlNYKSBWTm9kZSB0byByZW5kZXJcbiAqXHRAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFx0XHRET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICpcdEBwYXJhbSB7RWxlbWVudH0gW21lcmdlXVx0QXR0ZW1wdCB0byByZS11c2UgYW4gZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGBtZXJnZWBcbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgZGl2IGludG8gPGJvZHk+OlxuICpcdHJlbmRlcig8ZGl2IGlkPVwiaGVsbG9cIj5oZWxsbyE8L2Rpdj4sIGRvY3VtZW50LmJvZHkpO1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdC8vIHJlbmRlciBhIFwiVGhpbmdcIiBjb21wb25lbnQgaW50byAjZm9vOlxuICpcdGNvbnN0IFRoaW5nID0gKHsgbmFtZSB9KSA9PiA8c3Bhbj57IG5hbWUgfTwvc3Bhbj47XG4gKlx0cmVuZGVyKDxUaGluZyBuYW1lPVwib25lXCIgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb28nKSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0cmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXIuanNcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxufSAoKSlcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgdGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCB7IEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgtdW5kbyc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JSaWdodCBmcm9tICcuL2N1cnZlLWVkaXRvci1yaWdodCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JMZWZ0ICBmcm9tICcuL2N1cnZlLWVkaXRvci1sZWZ0JztcbmltcG9ydCBJY29ucyBmcm9tICcuL2ljb25zJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yJyk7XG5cbmNsYXNzIEN1cnZlRWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHN0YXRlICAgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHN0eWxlICAgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cbiAgICByZXR1cm4gICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yJ119IHN0eWxlPXsgc3R5bGUgfT5cbiAgICAgICAgICAgICAgICA8SWNvbnMgLz5cbiAgICAgICAgICAgICAgICA8Q3VydmVFZGl0b3JMZWZ0IHN0YXRlPXsgc3RhdGUgfSAvPlxuICAgICAgICAgICAgICAgIDxDdXJ2ZUVkaXRvclJpZ2h0IHN0YXRlPXsgc3RhdGUgfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj4pO1xuICB9XG5cbiAgX2dldFN0eWxlIChzdGF0ZSkge1xuICAgIGNvbnN0IFhfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDUzLFxuICAgICAgICAgIFlfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDIqQy5DVVJWRV9QQURESU5HLFxuICAgICAgICAgIHtyZXNpemV9ICA9IHN0YXRlO1xuICAgIGxldCB7dGVtcF90b3AsIHRlbXBfYm90dG9tLCB0ZW1wX3JpZ2h0LCB0cmFuc2xhdGV9ID0gcmVzaXplO1xuXG4gICAgdGVtcF90b3AgICAgKz0gcmVzaXplLnRvcDtcbiAgICB0ZW1wX2JvdHRvbSArPSByZXNpemUuYm90dG9tO1xuICAgIHRlbXBfcmlnaHQgICs9IHJlc2l6ZS5yaWdodDtcblxuICAgIC8vIGNvbnN0cmFpbiBtaW4gaGVpZ2h0XG4gICAgaWYgKFlfU0laRSAtIHRlbXBfdG9wIDwgWV9TSVpFKSB7IHRlbXBfdG9wID0gMDsgfVxuICAgIGlmIChZX1NJWkUgKyB0ZW1wX2JvdHRvbSA8IFlfU0laRSkgeyB0ZW1wX2JvdHRvbSA9IDA7IH1cbiAgICBpZiAoWF9TSVpFICsgdGVtcF9yaWdodCA8IFhfU0laRSkgeyB0ZW1wX3JpZ2h0ID0gMDsgfVxuXG4gICAgdGVtcF90b3AgICAgPSBtb2QoIHRlbXBfdG9wLCAtMSApO1xuICAgIHRlbXBfYm90dG9tID0gbW9kKCB0ZW1wX2JvdHRvbSApO1xuXG4gICAgY29uc3QgaGVpZ2h0ID0gYGhlaWdodDogJHtZX1NJWkUgLSB0ZW1wX3RvcCArIHRlbXBfYm90dG9tfXB4YCxcbiAgICAgICAgICB3aWR0aCAgPSBgd2lkdGg6ICR7WF9TSVpFICsgdGVtcF9yaWdodH1weGAsXG4gICAgICAgICAgeCA9IHJlc2l6ZS54ICsgcmVzaXplLnRlbXBYLFxuICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHt4fXB4LCAke3kgKyB0ZW1wX3RvcH1weClgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNmb3JtfTsgJHt0cmFuc2Zvcm19OyAke3dpZHRofTsgJHtoZWlnaHR9O2A7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtbGVmdC1wYW5lbCcpLFxuICAgICAgICAgIG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFJywgZGF0YTogeyB4LCB5IH0gfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS5kZWx0YVgsIHkgPSBlLmRlbHRhWTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1RSQU5TTEFURV9FTkQnLCBkYXRhOiB7IHgsIHkgfSB9KVxuICAgICAgfSlcbiAgICAgIC8vIC5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTsgfSk7XG5cbiAgICB0aGlzLl9hZGRLZXlVcCgpO1xuICAgIHN0b3JlLnN1YnNjcmliZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX2FkZEtleVVwICgpIHsgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9vbktleVVwLmJpbmQodGhpcykpOyB9XG5cbiAgX29uS2V5VXAgKGUpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0O1xuICAgIGlmICggIWUuYWx0S2V5ICkgeyByZXR1cm47IH1cbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgOTA6IHsgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKEFjdGlvbkNyZWF0b3JzLnVuZG8oKSk7IH1cbiAgICAgIGNhc2UgODg6IHsgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKEFjdGlvbkNyZWF0b3JzLnJlZG8oKSk7IH1cbiAgICAgIGNhc2UgNjg6IHsgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFTEVURScgfSk7IH1cbiAgICB9XG4gIH1cblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEN1cnZlRWRpdG9yO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3IuYmFiZWwuanN4XG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanNcbiAqKiBtb2R1bGUgaWQgPSAxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgSVNfV1JBUCAgID0gdHlwZSAmICRleHBvcnQuV1xuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZihJU19QUk9UTyl7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbiAqKiBtb2R1bGUgaWQgPSAzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAzNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzXG4gKiogbW9kdWxlIGlkID0gMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanNcbiAqKiBtb2R1bGUgaWQgPSA0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBoaWRlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJdGVyYXRvcnMgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgJGl0ZXJDcmVhdGUgICAgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBJVEVSQVRPUiAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG4gICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuICAgICwgJGVudHJpZXMgICA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWRcbiAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG4gICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKCRhbnlOYXRpdmUpe1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG4gICAgaWYoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpe1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBkUHMgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcbiAgICAsIGx0ICAgICA9ICc8J1xuICAgICwgZ3QgICAgID0gJz4nXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkUCAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpID0gMFxuICAgICwgUDtcbiAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbiAqKiBtb2R1bGUgaWQgPSA1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbiAqKiBtb2R1bGUgaWQgPSA2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanNcbiAqKiBtb2R1bGUgaWQgPSA2OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgTUVUQSAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCB3a3NEZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fa2V5b2YnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJylcbiAgLCBpc0FycmF5ICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBfY3JlYXRlICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGdPUE5FeHQgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0JylcbiAgLCAkR09QRCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCAkRFAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGtleXMgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG4gICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cbiAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgaXQgID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighVVNFX05BVElWRSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuZm9yKHZhciBzeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblxuZm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIGlmKGlzU3ltYm9sKGtleSkpcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF1cbiAgICAgICwgaSAgICA9IDFcbiAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICBpZigkcmVwbGFjZXIpdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4gKiogbW9kdWxlIGlkID0gNzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBNRVRBICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJylcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgaGFzICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHNldERlc2MgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGlkICAgICAgID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcbiAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfX0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG4gIGlmKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSlzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogICAgICBNRVRBLFxuICBORUVEOiAgICAgZmFsc2UsXG4gIGZhc3RLZXk6ICBmYXN0S2V5LFxuICBnZXRXZWFrOiAgZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4gKiogbW9kdWxlIGlkID0gNzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRLZXlzICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanNcbiAqKiBtb2R1bGUgaWQgPSA3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSBwSUUuZlxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qc1xuICoqIG1vZHVsZSBpZCA9IDc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pe1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1xuICoqIG1vZHVsZSBpZCA9IDc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzXG4gKiogbW9kdWxlIGlkID0gODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA4MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qc1xuICoqIG1vZHVsZSBpZCA9IDg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA4NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0fSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzXG4gKiogbW9kdWxlIGlkID0gODhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA4OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG4gIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA5MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gOTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuY29uc3QgQ1VSVkVfU0laRSA9IDM1MDtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgQ1VSVkVfU0laRSxcbiAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRS8xMDAsXG4gIENVUlZFX1BBRERJTkc6IDEwXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvY29uc3RhbnRzLmJhYmVsLmpzXG4gKiovIiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2hhbW1lcmpzL2hhbW1lci5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgd2luZG93LnByb3BhZ2F0aW5nID0gZmFjdG9yeSgpO1xuICB9XG59KGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9maXJzdFRhcmdldCA9IG51bGw7IC8vIHNpbmdsZXRvbiwgd2lsbCBjb250YWluIHRoZSB0YXJnZXQgZWxlbWVudCB3aGVyZSB0aGUgdG91Y2ggZXZlbnQgc3RhcnRlZFxuXG4gIC8qKlxuICAgKiBFeHRlbmQgYW4gSGFtbWVyLmpzIGluc3RhbmNlIHdpdGggZXZlbnQgcHJvcGFnYXRpb24uXG4gICAqXG4gICAqIEZlYXR1cmVzOlxuICAgKiAtIEV2ZW50cyBlbWl0dGVkIGJ5IGhhbW1lciB3aWxsIHByb3BhZ2F0ZSBpbiBvcmRlciBmcm9tIGNoaWxkIHRvIHBhcmVudFxuICAgKiAgIGVsZW1lbnRzLlxuICAgKiAtIEV2ZW50cyBhcmUgZXh0ZW5kZWQgd2l0aCBhIGZ1bmN0aW9uIGBldmVudC5zdG9wUHJvcGFnYXRpb24oKWAgdG8gc3RvcFxuICAgKiAgIHByb3BhZ2F0aW9uIHRvIHBhcmVudCBlbGVtZW50cy5cbiAgICogLSBBbiBvcHRpb24gYHByZXZlbnREZWZhdWx0YCB0byBzdG9wIGFsbCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG4gICAqXG4gICAqIFVzYWdlOlxuICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpKTtcbiAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSwge3ByZXZlbnREZWZhdWx0OiB0cnVlfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7SGFtbWVyLk1hbmFnZXJ9IGhhbW1lciAgIEFuIGhhbW1lciBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYHByZXZlbnREZWZhdWx0OiB0cnVlIHwgZmFsc2UgfCAnbW91c2UnIHwgJ3RvdWNoJyB8ICdwZW4nYC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5ub3QgYmUgc2V0IHRvIGBmYWxzZWAuXG4gICAqIEByZXR1cm4ge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBzYW1lIGhhbW1lciBpbnN0YW5jZSB3aXRoIGV4dGVuZGVkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gcHJvcGFnYXRpbmcoaGFtbWVyLCBvcHRpb25zKSB7XG4gICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyB8fCB7XG4gICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2VcbiAgICB9O1xuXG4gICAgaWYgKGhhbW1lci5NYW5hZ2VyKSB7XG4gICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgdGhlIEhhbW1lciBjb25zdHJ1Y3Rvci5cbiAgICAgIC8vIE92ZXJsb2FkIHRoZSBjb25zdHJ1Y3RvcnMgd2l0aCBvdXIgb3duLlxuICAgICAgdmFyIEhhbW1lciA9IGhhbW1lcjtcblxuICAgICAgdmFyIFByb3BhZ2F0aW5nSGFtbWVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIoZWxlbWVudCwgbyksIG8pO1xuICAgICAgfTtcbiAgICAgIEhhbW1lci5hc3NpZ24oUHJvcGFnYXRpbmdIYW1tZXIsIEhhbW1lcik7XG5cbiAgICAgIFByb3BhZ2F0aW5nSGFtbWVyLk1hbmFnZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbGVtZW50LCBvKSwgbyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gUHJvcGFnYXRpbmdIYW1tZXI7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGEgd3JhcHBlciBvYmplY3Qgd2hpY2ggd2lsbCBvdmVycmlkZSB0aGUgZnVuY3Rpb25zXG4gICAgLy8gYG9uYCwgYG9mZmAsIGBkZXN0cm95YCwgYW5kIGBlbWl0YCBvZiB0aGUgaGFtbWVyIGluc3RhbmNlXG4gICAgdmFyIHdyYXBwZXIgPSBPYmplY3QuY3JlYXRlKGhhbW1lcik7XG5cbiAgICAvLyBhdHRhY2ggdG8gRE9NIGVsZW1lbnRcbiAgICB2YXIgZWxlbWVudCA9IGhhbW1lci5lbGVtZW50O1xuXG4gICAgaWYoIWVsZW1lbnQuaGFtbWVyKSBlbGVtZW50LmhhbW1lciA9IFtdO1xuICAgIGVsZW1lbnQuaGFtbWVyLnB1c2god3JhcHBlcik7XG5cbiAgICAvLyByZWdpc3RlciBhbiBldmVudCB0byBjYXRjaCB0aGUgc3RhcnQgb2YgYSBnZXN0dXJlIGFuZCBzdG9yZSB0aGVcbiAgICAvLyB0YXJnZXQgaW4gYSBzaW5nbGV0b25cbiAgICBoYW1tZXIub24oJ2hhbW1lci5pbnB1dCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSB0cnVlIHx8IChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gZXZlbnQucG9pbnRlclR5cGUpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQuaXNGaXJzdCkge1xuICAgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKiogQHR5cGUge09iamVjdC48U3RyaW5nLCBBcnJheS48ZnVuY3Rpb24+Pn0gKi9cbiAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIEEgY2FsbGJhY2sgZnVuY3Rpb24sIGNhbGxlZCBhcyBoYW5kbGVyKGV2ZW50KVxuICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG4gICAgICovXG4gICAgd3JhcHBlci5vbiA9IGZ1bmN0aW9uIChldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgIC8vIHJlZ2lzdGVyIHRoZSBoYW5kbGVyXG4gICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgIGlmICghX2hhbmRsZXJzKSB7XG4gICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzID0gW107XG5cbiAgICAgICAgICAvLyByZWdpc3RlciB0aGUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcbiAgICAgICAgICBoYW1tZXIub24oZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBfaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXJdIE9wdGlvbmFsLiBUaGUgcmVnaXN0ZXJlZCBoYW5kbGVyLiBJZiBub3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQsIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4gZXZlbnRzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSByZW1vdmVkLlxuICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gICBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2VcbiAgICAgKi9cbiAgICB3cmFwcGVyLm9mZiA9IGZ1bmN0aW9uIChldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIGhhbmRsZXJcbiAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgaWYgKF9oYW5kbGVycykge1xuICAgICAgICAgIF9oYW5kbGVycyA9IGhhbmRsZXIgPyBfaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICByZXR1cm4gaCAhPT0gaGFuZGxlcjtcbiAgICAgICAgICB9KSA6IFtdO1xuXG4gICAgICAgICAgaWYgKF9oYW5kbGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG4gICAgICAgICAgICBoYW1tZXIub2ZmKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG4gICAgICAgICAgICBkZWxldGUgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IHRvIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKi9cbiAgICB3cmFwcGVyLmVtaXQgPSBmdW5jdGlvbihldmVudFR5cGUsIGV2ZW50KSB7XG4gICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBoYW1tZXIuZW1pdChldmVudFR5cGUsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgd3JhcHBlci5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gRGV0YWNoIGZyb20gRE9NIGVsZW1lbnRcbiAgICAgIHZhciBoYW1tZXJzID0gaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuICAgICAgdmFyIGlkeCA9IGhhbW1lcnMuaW5kZXhPZih3cmFwcGVyKTtcbiAgICAgIGlmKGlkeCAhPT0gLTEpIGhhbW1lcnMuc3BsaWNlKGlkeCwxKTtcbiAgICAgIGlmKCFoYW1tZXJzLmxlbmd0aCkgZGVsZXRlIGhhbW1lci5lbGVtZW50LmhhbW1lcjtcblxuICAgICAgLy8gY2xlYXIgYWxsIGhhbmRsZXJzXG4gICAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXG4gICAgICAvLyBjYWxsIG9yaWdpbmFsIGhhbW1lciBkZXN0cm95XG4gICAgICBoYW1tZXIuZGVzdHJveSgpO1xuICAgIH07XG5cbiAgICAvLyBzcGxpdCBhIHN0cmluZyB3aXRoIHNwYWNlIHNlcGFyYXRlZCB3b3Jkc1xuICAgIGZ1bmN0aW9uIHNwbGl0KGV2ZW50cykge1xuICAgICAgcmV0dXJuIGV2ZW50cy5tYXRjaCgvW14gXSsvZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgZXZlbnQgaGFuZGxlciwgYXBwbHlpbmcgZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlZEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgIC8vIGxldCBvbmx5IGEgc2luZ2xlIGhhbW1lciBpbnN0YW5jZSBoYW5kbGUgdGhpcyBldmVudFxuICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdoYW1tZXIuaW5wdXQnKSB7XG4gICAgICAgIC8vIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIHNhbWUgc3JjRXZlbnQgaXMgdXNlZCB3aXRoIG11bHRpcGxlIGhhbW1lciBldmVudHMsXG4gICAgICAgIC8vIHdlIGtlZXAgdHJhY2sgb24gd2hpY2ggZXZlbnRzIGFyZSBoYW5kbGVkIGluIGFuIG9iamVjdCBfaGFuZGxlZFxuICAgICAgICBpZiAoIWV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkKSB7XG4gICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIGEgc3RvcFByb3BhZ2F0aW9uIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxuICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICAvL3dyYXAgdGhlIHNyY0V2ZW50J3Mgc3RvcFByb3BhZ2F0aW9uIHRvIGFsc28gc3RvcCBoYW1tZXIgcHJvcGFnYXRpb246XG4gICAgICB2YXIgc3JjU3RvcCA9IGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbi5iaW5kKGV2ZW50LnNyY0V2ZW50KTtcbiAgICAgIGlmKHR5cGVvZiBzcmNTdG9wID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpe1xuICAgICAgICAgIHNyY1N0b3AoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggZmlyc3RUYXJnZXQgcHJvcGVydHkgdG8gdGhlIGV2ZW50XG4gICAgICBldmVudC5maXJzdFRhcmdldCA9IF9maXJzdFRhcmdldDtcblxuICAgICAgLy8gcHJvcGFnYXRlIG92ZXIgYWxsIGVsZW1lbnRzICh1bnRpbCBzdG9wcGVkKVxuICAgICAgdmFyIGVsZW0gPSBfZmlyc3RUYXJnZXQ7XG4gICAgICB3aGlsZSAoZWxlbSAmJiAhc3RvcHBlZCkge1xuICAgICAgICB2YXIgZWxlbUhhbW1lciA9IGVsZW0uaGFtbWVyO1xuICAgICAgICBpZihlbGVtSGFtbWVyKXtcbiAgICAgICAgICB2YXIgX2hhbmRsZXJzO1xuICAgICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCBlbGVtSGFtbWVyLmxlbmd0aDsgaysrKXtcbiAgICAgICAgICAgIF9oYW5kbGVycyA9IGVsZW1IYW1tZXJba10uX2hhbmRsZXJzW2V2ZW50LnR5cGVdO1xuICAgICAgICAgICAgaWYoX2hhbmRsZXJzKSBmb3IgKHZhciBpID0gMDsgaSA8IF9oYW5kbGVycy5sZW5ndGggJiYgIXN0b3BwZWQ7IGkrKykge1xuICAgICAgICAgICAgICBfaGFuZGxlcnNbaV0oZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3cmFwcGVyO1xuICB9O1xufSkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvcGFnYXRpbmctaGFtbWVyanMvcHJvcGFnYXRpbmcuanNcbiAqKiBtb2R1bGUgaWQgPSA5NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLnBhcnNlQWN0aW9ucyA9IHBhcnNlQWN0aW9ucztcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuZXhwb3J0cy5kaXN0aW5jdFN0YXRlID0gZGlzdGluY3RTdGF0ZTtcbmV4cG9ydHMuaW5jbHVkZUFjdGlvbiA9IGluY2x1ZGVBY3Rpb247XG5leHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5leHBvcnRzLmV4Y2x1ZGVBY3Rpb24gPSBleGNsdWRlQWN0aW9uO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLy8gZGVidWcgb3V0cHV0XG52YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZGVidWcoKSB7XG4gIGlmIChfX0RFQlVHX18pIHtcbiAgICB2YXIgX2NvbnNvbGU7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgIH1cbiAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHZhciBhcmdzID0gWydhY3Rpb24nLCBhY3Rpb24udHlwZV07XG4gICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIHZhciBfY29uc29sZTI7XG5cbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmdyb3VwQ29sbGFwc2VkLmFwcGx5KF9jb25zb2xlMiwgYXJncyk7XG4gICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQnLCB7IHN0YXRlOiBzdGF0ZSwgYWN0aW9uOiBhY3Rpb24gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z0VuZCgpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHJldHVybiBjb25zb2xlLmdyb3VwRW5kICYmIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufVxuLy8gL2RlYnVnIG91dHB1dFxuXG4vLyBhY3Rpb24gdHlwZXNcbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIFVORE86ICdAQHJlZHV4LXVuZG8vVU5ETycsXG4gIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG4gIEpVTVBfVE9fRlVUVVJFOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fRlVUVVJFJyxcbiAgSlVNUF9UT19QQVNUOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fUEFTVCdcbn07XG4vLyAvYWN0aW9uIHR5cGVzXG5cbi8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG52YXIgQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLkFjdGlvbkNyZWF0b3JzID0ge1xuICB1bmRvOiBmdW5jdGlvbiB1bmRvKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcbiAgfSxcbiAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG4gIH0sXG4gIGp1bXBUb0Z1dHVyZTogZnVuY3Rpb24ganVtcFRvRnV0dXJlKGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuICB9LFxuICBqdW1wVG9QYXN0OiBmdW5jdGlvbiBqdW1wVG9QYXN0KGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcbiAgfVxufTtcbi8vIC9hY3Rpb24gY3JlYXRvcnNcblxuLy8gbGVuZ3RoOiBnZXQgbGVuZ3RoIG9mIGhpc3RvcnlcbmZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cbiAgcmV0dXJuIHBhc3QubGVuZ3RoICsgMSArIGZ1dHVyZS5sZW5ndGg7XG59XG4vLyAvbGVuZ3RoXG5cbi8vIGluc2VydDogaW5zZXJ0IGBzdGF0ZWAgaW50byBoaXN0b3J5LCB3aGljaCBtZWFucyBhZGRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbi8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuLy8gICAgICAgICB0aGUgYGZ1dHVyZWAuXG5mdW5jdGlvbiBpbnNlcnQoaGlzdG9yeSwgc3RhdGUsIGxpbWl0KSB7XG4gIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXG4gIHZhciBoaXN0b3J5T3ZlcmZsb3cgPSBsaW1pdCAmJiBsZW5ndGgoaGlzdG9yeSkgPj0gbGltaXQ7XG5cbiAgaWYgKHByZXNlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGluaXQgaGlzdG9yeVxuICAgIHJldHVybiB7XG4gICAgICBwYXN0OiBbXSxcbiAgICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgICAgZnV0dXJlOiBbXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdC5zbGljZShoaXN0b3J5T3ZlcmZsb3cgPyAxIDogMCkpLCBbcHJlc2VudF0pLFxuICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgIGZ1dHVyZTogW11cbiAgfTtcbn1cbi8vIC9pbnNlcnRcblxuLy8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuZnVuY3Rpb24gdW5kbyhoaXN0b3J5KSB7XG4gIGRlYnVnKCd1bmRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXG4gIHJldHVybiB7XG4gICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuICAgIHByZXNlbnQ6IHBhc3RbcGFzdC5sZW5ndGggLSAxXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBmdXR1cmU6IFtwcmVzZW50XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZ1dHVyZSkpXG4gIH07XG59XG4vLyAvdW5kb1xuXG4vLyByZWRvOiBnbyB0byB0aGUgbmV4dCBwb2ludCBpbiBoaXN0b3J5XG5mdW5jdGlvbiByZWRvKGhpc3RvcnkpIHtcbiAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICBpZiAoZnV0dXJlLmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKDEsIGZ1dHVyZS5sZW5ndGgpLCAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGZ1dHVyZVxuICAgIHByZXNlbnQ6IGZ1dHVyZVswXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcbiAgICBdKVxuICB9O1xufVxuLy8gL3JlZG9cblxuLy8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuZnVuY3Rpb24ganVtcFRvRnV0dXJlKGhpc3RvcnksIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuIHJlZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKGluZGV4ICsgMSksXG4gICAgcHJlc2VudDogZnV0dXJlW2luZGV4XSxcbiAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuICB9O1xufVxuLy8gL2p1bXBUb0Z1dHVyZVxuXG4vLyBqdW1wVG9QYXN0OiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBwYXN0IGhpc3RvcnlcbmZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSBoaXN0b3J5LnBhc3QubGVuZ3RoIC0gMSkgcmV0dXJuIHVuZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuICAgIHByZXNlbnQ6IHBhc3RbaW5kZXhdLFxuICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgaW5kZXgpXG4gIH07XG59XG4vLyAvanVtcFRvUGFzdFxuXG4vLyB3cmFwU3RhdGU6IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byAwLjRcbmZ1bmN0aW9uIHdyYXBTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgaGlzdG9yeTogc3RhdGVcbiAgfSk7XG59XG4vLyAvd3JhcFN0YXRlXG5cbi8vIHVwZGF0ZVN0YXRlXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZShzdGF0ZSwgaGlzdG9yeSkge1xuICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgaGlzdG9yeSkpO1xufVxuLy8gL3VwZGF0ZVN0YXRlXG5cbi8vIGNyZWF0ZUhpc3RvcnlcbmZ1bmN0aW9uIGNyZWF0ZUhpc3Rvcnkoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBbXSxcbiAgICBwcmVzZW50OiBzdGF0ZSxcbiAgICBmdXR1cmU6IFtdXG4gIH07XG59XG4vLyAvY3JlYXRlSGlzdG9yeVxuXG4vLyBwYXJzZUFjdGlvbnNcbmZ1bmN0aW9uIHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKSB7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyYXdBY3Rpb25zKSkge1xuICAgIHJldHVybiByYXdBY3Rpb25zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByYXdBY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBbcmF3QWN0aW9uc107XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbi8vIC9wYXJzZUFjdGlvbnNcblxuLy8gcmVkdXgtdW5kbyBoaWdoZXIgb3JkZXIgcmVkdWNlclxuZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuICB2YXIgcmF3Q29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXG4gIHZhciBjb25maWcgPSB7XG4gICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuICAgIGluaXRUeXBlczogcGFyc2VBY3Rpb25zKHJhd0NvbmZpZy5pbml0VHlwZXMsIFsnQEByZWR1eC9JTklUJywgJ0BASU5JVCddKSxcbiAgICBsaW1pdDogcmF3Q29uZmlnLmxpbWl0LFxuICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcbiAgICByZWRvVHlwZTogcmF3Q29uZmlnLnJlZG9UeXBlIHx8IEFjdGlvblR5cGVzLlJFRE8sXG4gICAganVtcFRvUGFzdFR5cGU6IHJhd0NvbmZpZy5qdW1wVG9QYXN0VHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsXG4gICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcbiAgfTtcbiAgY29uZmlnLmhpc3RvcnkgPSByYXdDb25maWcuaW5pdGlhbEhpc3RvcnkgfHwgY3JlYXRlSGlzdG9yeShjb25maWcuaW5pdGlhbFN0YXRlKTtcblxuICBpZiAoY29uZmlnLmluaXRUeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLndhcm4oJ3JlZHV4LXVuZG86IHN1cHBseSBhdCBsZWFzdCBvbmUgYWN0aW9uIHR5cGUgaW4gaW5pdFR5cGVzIHRvIGVuc3VyZSBpbml0aWFsIHN0YXRlJyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuICAgIHZhciByZXMgPSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG4gICAgICAgIHJlcyA9IHVuZG8oc3RhdGUpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIgdW5kbycsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcbiAgICAgICAgcmVzID0gcmVkbyhzdGF0ZSk7XG4gICAgICAgIGRlYnVnKCdhZnRlciByZWRvJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9QYXN0KHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvUGFzdCcsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9GdXR1cmUoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9GdXR1cmUnLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzID0gcmVkdWNlcihzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50LCBhY3Rpb24pO1xuXG4gICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uVHlwZSA9PT0gYWN0aW9uLnR5cGU7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG4gICAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgY3JlYXRlSGlzdG9yeShyZXMpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmZpbHRlciAmJiB0eXBlb2YgY29uZmlnLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcbiAgICAgICAgICAgIGRlYnVnKCdmaWx0ZXIgcHJldmVudGVkIGFjdGlvbiwgbm90IHN0b3JpbmcgaXQnKTtcbiAgICAgICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBwcmVzZW50OiByZXNcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG4gICAgICAgIHZhciB1cGRhdGVkSGlzdG9yeSA9IGluc2VydChoaXN0b3J5LCByZXMsIGNvbmZpZy5saW1pdCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBpbnNlcnQnLCB7IGhpc3Rvcnk6IHVwZGF0ZWRIaXN0b3J5LCBmcmVlOiBjb25maWcubGltaXQgLSBsZW5ndGgodXBkYXRlZEhpc3RvcnkpIH0pO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuXG4gICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB1cGRhdGVkSGlzdG9yeSkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIC9yZWR1eC11bmRvXG5cbi8vIGRpc3RpbmN0U3RhdGUgaGVscGVyXG5mdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgY3VycmVudFN0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZSAhPT0gcHJldmlvdXNTdGF0ZTtcbiAgfTtcbn1cbi8vIC9kaXN0aW5jdFN0YXRlXG5cbi8vIGluY2x1ZGVBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMDtcbiAgfTtcbn1cbi8vIC9pbmNsdWRlQWN0aW9uXG5cbi8vIGRlcHJlY2F0ZWQgaWZBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpZkFjdGlvbihyYXdBY3Rpb25zKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcbiAgcmV0dXJuIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucyk7XG59XG4vLyAvaWZBY3Rpb25cblxuLy8gZXhjbHVkZUFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG4gIHZhciByYXdBY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPCAwO1xuICB9O1xufVxuLy8gL2V4Y2x1ZGVBY3Rpb25cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC11bmRvL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDk1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcblxuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgWV9TSVpFID0gQy5DVVJWRV9TSVpFO1xuY29uc3QgbW9kID0gKCB0ZW1wUmVzaXplX3RvcCwgY29lZiA9IDEgKSA9PiB7XG4gIGNvbnN0IE1PRCA9IE1hdGguYWJzKHRlbXBSZXNpemVfdG9wICUgWV9TSVpFKSxcbiAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuICAgICAgICBHQVAgPSAxNTtcblxuICBpZiAoTU9EIDwgR0FQICkgeyB0ZW1wUmVzaXplX3RvcCA9IERJVipZX1NJWkU7IH1cbiAgZWxzZSBpZiAoIE1PRCA+IFlfU0laRSAtIEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBjb2VmKihESVYrMSkqWV9TSVpFOyB9XG5cbiAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9yZXNpemUtbW9kLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ3VydmUgZnJvbSAnLi9jdXJ2ZSc7XG5pbXBvcnQgUmVzaXplSGFuZGxlIGZyb20gJy4vcmVzaXplLWhhbmRsZSc7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNvbnN0IEN1cnZlRWRpdG9yUmlnaHQgPSAoe3N0YXRlfSkgPT4ge1xuICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3JpZ2h0J119PlxuICAgICAgICAgICAgPEN1cnZlIHN0YXRlID17IHN0YXRlIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cInRvcFwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cInJpZ2h0XCIgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSAvPlxuICAgICAgICAgICAgPFJlc2l6ZUhhbmRsZSB0eXBlPVwiYm90dG9tXCIgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSAvPlxuICAgICAgICAgIDwvZGl2Pilcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvclJpZ2h0O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLXJpZ2h0LmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4uL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IG1vZCBmcm9tICcuLi9oZWxwZXJzL3Jlc2l6ZS1tb2QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUnKTtcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3MuanNvbicpO1xuY2xhc3MgQ3VydmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlcyAgPSB0aGlzLl9nZXRTdHlsZSggc3RhdGUgKSxcbiAgICAgICAgICBwb2ludHMgID0gdGhpcy5fcmVuZGVyUG9pbnRzKCBzdGF0ZSApLFxuICAgICAgICAgIHtwYXRoLCBzZWdtZW50c30gPSB0aGlzLl9nZXRQYXRoKCBzdGF0ZSApO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZSddfT5cbiAgICAgICAgICAgICAgPGRpdiAgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmVfX2JhY2tncm91bmQnXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5iYWNrZ3JvdW5kfSAvPlxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50cmFuc2Zvcm19PlxuXG4gICAgICAgICAgICAgICAgeyBwb2ludHMgfVxuXG4gICAgICAgICAgICAgICAgPHN2ZyAgaGVpZ2h0PXsgQy5DVVJWRV9TSVpFIH1cbiAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImpzLXN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnJ10gfT5cblxuICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiMwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLW9wYWNpdHk9XCIwLjM1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLjc1LC43NSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiAvPlxuXG4gICAgICAgICAgICAgICAgICA8ZyBpZD1cImpzLXNlZ21lbnRzXCI+XG4gICAgICAgICAgICAgICAgICAgIHsgc2VnbWVudHMgfVxuICAgICAgICAgICAgICAgICAgPC9nPlxuXG4gICAgICAgICAgICAgICAgPC9zdmc+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIF9nZXRTdHlsZShzdGF0ZSkge1xuICAgIGNvbnN0IHtyZXNpemV9ID0gc3RhdGU7XG4gICAgbGV0IHt0ZW1wX3RvcCwgdGVtcF9yaWdodH0gPSByZXNpemU7XG5cbiAgICB0ZW1wX3RvcCAgICArPSByZXNpemUudG9wO1xuICAgIHRlbXBfcmlnaHQgICs9IHJlc2l6ZS5yaWdodDtcblxuICAgIGlmIChDLkNVUlZFX1NJWkUgLSB0ZW1wX3RvcCA8IEMuQ1VSVkVfU0laRSkgeyB0ZW1wX3RvcCA9IDA7IH1cbiAgICB0ZW1wX3RvcCA9IG1vZCggdGVtcF90b3AsIC0xICk7XG5cbiAgICBjb25zdCBzY2FsZSA9IGB0cmFuc2Zvcm06IHNjYWxlWCgkeyhDLkNVUlZFX1NJWkUgKyBNYXRoLm1heCh0ZW1wX3JpZ2h0LDApKS9DLkNVUlZFX1NJWkV9KWAsXG4gICAgICAgICAgYmdUcmFuc2Zvcm0gPSBgJHttb2pzLmgucHJlZml4LmNzc30ke3NjYWxlfTsgJHtzY2FsZX07YCxcbiAgICAgICAgICBiYWNrZ3JvdW5kID0gYGJhY2tncm91bmQtcG9zaXRpb246IDAgJHstdGVtcF90b3AgLSAxfXB4OyAke2JnVHJhbnNmb3JtfWAsXG4gICAgICAgICAgdHJhbnNmb3JtICA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsICR7LXRlbXBfdG9wfXB4KWA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhY2tncm91bmQsXG4gICAgICB0cmFuc2Zvcm06IGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNmb3JtfTsgJHt0cmFuc2Zvcm19O2BcbiAgICB9O1xuICB9XG5cbiAgX3JlbmRlclBvaW50cyAoc3RhdGUpIHtcbiAgICBjb25zdCBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQsXG4gICAgICAgICAgcG9pbnRzICAgICA9IFtdLFxuICAgICAgICAgIGxlbiAgICAgICAgPSBwb2ludHNEYXRhLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICA8UG9pbnQgcG9pbnQ9eyBwb2ludHNEYXRhW2ldIH0gc3RhdGU9e3N0YXRlfSBpbmRleD17aX0gcG9pbnRzQ291bnQ9e2xlbn0gLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xuICB9XG5cbiAgX2dldFBhdGggKHN0YXRlKSB7XG4gICAgY29uc3QgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50O1xuXG4gICAgbGV0IHBhdGggICAgID0gJycsXG4gICAgICAgIHNlZ21lbnRzID0gW107XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9pbnRzRGF0YS5sZW5ndGgtMTsgaW5kZXgrKykge1xuICAgICAgY29uc3QgcG9pbnQgICAgID0gcG9pbnRzRGF0YVtpbmRleF0sXG4gICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNEYXRhW2luZGV4KzFdO1xuXG4gICAgICBjb25zdCBzZWdtZW50ID0gdGhpcy5fZ2V0U2VnbWVudCggcG9pbnQsIG5leHRQb2ludCwgaW5kZXggKTtcbiAgICAgIHBhdGggKz0gc2VnbWVudC5zdHJpbmc7XG4gICAgICBzZWdtZW50cy5wdXNoKHRoaXMuX3JlbmRlclNlZ21lbnQoaW5kZXgsIHNlZ21lbnQuc2VnbWVudFN0cmluZykpO1xuICAgIH1cblxuICAgIHJldHVybiB7IHBhdGgsIHNlZ21lbnRzIH07XG4gIH1cblxuICBfcmVuZGVyU2VnbWVudCAoIGluZGV4LCBzdHJpbmcpIHtcbiAgICByZXR1cm4gPHBhdGhcbiAgICAgICAgICAgIGQ9e3N0cmluZ31cbiAgICAgICAgICAgIGRhdGEtaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiXCJcbiAgICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuICAgICAgICAgICAgY2xhc3M9e0NMQVNTRVNbJ2N1cnZlX19zdmctc2VnbWVudCddfVxuICAgICAgICAgICAgLz47XG4gIH1cblxuICBfZ2V0U2VnbWVudCAocG9pbnQsIG5leHRQb2ludCwgaSkge1xuICAgIGlmICggIW5leHRQb2ludCApIHsgcmV0dXJuIDE7IH1cblxuICAgIGxldCBzdHJpbmcgPSAnJyxcbiAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXG4gICAgY29uc3QgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcbiAgICAgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuICAgICAgICAgIHhOZXh0ID0gbmV4dFBvaW50LnggKyBuZXh0UG9pbnQudGVtcFgsXG4gICAgICAgICAgeU5leHQgPSBuZXh0UG9pbnQueSArIG5leHRQb2ludC50ZW1wWTtcblxuICAgIGNvbnN0IHBhcnQxID0gYE0ke3h9LCAke3kvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICAgIGlmICggaSA9PT0gMCApIHsgc3RyaW5nICs9IHBhcnQxIH1cbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQxO1xuXG4gICAgY29uc3QgcGFydDIgPSB0aGlzLl9nZXRQb2ludCggcG9pbnQsIDIgKTtcbiAgICBzdHJpbmcgKz0gcGFydDI7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MjtcblxuICAgIGNvbnN0IHBhcnQzID0gdGhpcy5fZ2V0UG9pbnQoIG5leHRQb2ludCwgMSApO1xuICAgIHN0cmluZyArPSBwYXJ0MztcbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQzO1xuXG4gICAgY29uc3QgcGFydDQgPSBgJHt4TmV4dH0sICR7eU5leHQvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICAgIHN0cmluZyArPSBwYXJ0NDtcbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQ0O1xuXG4gICAgcmV0dXJuIHsgc3RyaW5nLCBzZWdtZW50U3RyaW5nIH07XG4gIH1cbiAgX2dldFBvaW50IChwb2ludCwgaGFuZGxlSW5kZXggPSAxKSB7XG4gICAgY29uc3QgeCAgICAgID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuICAgICAgICAgIHkgICAgICA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcbiAgICAgICAgICBoYW5kbGUgPSBwb2ludFtgaGFuZGxlJHtoYW5kbGVJbmRleH1gXTtcblxuICAgIGNvbnN0IENIQVIgPSAoIGhhbmRsZUluZGV4ID09PSAyICkgPyAnQycgOiAnJztcbiAgICBpZiAoIHBvaW50LnR5cGUgIT09ICdzdHJhaWdodCcgKSB7XG4gICAgICBjb25zdCBoYW5kbGVDb29yZHMgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApO1xuICAgICAgcmV0dXJuIGAke0NIQVJ9JHt4ICsgaGFuZGxlQ29vcmRzLngvQy5DVVJWRV9QRVJDRU5UfSwgJHsoeSArIGhhbmRsZUNvb3Jkcy55KS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtDSEFSfSR7eH0sICR7eS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgZXYgICAgID0gZS5zcmNFdmVudCxcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuICAgICAgICBpZiAoIHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJyApIHsgcmV0dXJuOyB9XG4gICAgICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHggID0gZXYub2Zmc2V0WCxcbiAgICAgICAgICAgICAgeSAgPSBldi5vZmZzZXRZKkMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICsgMTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogICAgICAnUE9JTlRfQUREJyxcbiAgICAgICAgICBkYXRhOiAgICAgIHsgeCwgeSwgaW5kZXggfSxcbiAgICAgICAgICBpc1JlY29yZDogIHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuICAgICAgICAgIGRhdGE6IHsgaW5kZXgsIHR5cGU6ICdzdHJhaWdodCcgfVxuICAgICAgICB9KTtcblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3ZnICAgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXN2ZycpLFxuICAgICAgICAgIHN2Z01jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKHN2ZykpO1xuXG4gICAgc3ZnTWMuYWRkKG5ldyBIYW1tZXIuVGFwKTtcblxuICAgIHN2Z01jXG4gICAgICAub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7IH0pO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoYW5nbGUsIHJhZGl1cykgPT4ge1xuICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGUsIHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IExpdHRsZUhhbmRsZSBmcm9tICcuL2xpdHRsZS1oYW5kbGUnO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHJvdW5kVG8gZnJvbSAnLi4vaGVscGVycy9yb3VuZC10byc7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vaGVscGVycy9jbGFtcCc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50Jyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7cG9pbnQsIHN0YXRlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2VsZWN0ZWQgID0gKHBvaW50LmlzU2VsZWN0ZWQpID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnLFxuICAgICAgICAgIGhhbmRsZXMgICA9IChwb2ludC50eXBlID09PSAnc3RyYWlnaHQnKSA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cbiAgICBjb25zdCBsaXR0bGVIYW5kbGVzID0gdGhpcy5fZ2V0TGl0dGxlSGFuZGxlcyggc3RhdGUgKTtcblxuICAgIHJldHVybiAgPGRpdiAgY2xhc3NOYW1lPXtgJHtDTEFTU0VTWydwb2ludCddfSAke3NlbGVjdGVkfSAke2hhbmRsZXN9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXsgdGhpcy5fZ2V0U3R5bGUoc3RhdGUpIH1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwicG9pbnRcIj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1sncG9pbnRfX3RvdWNoJ10gfSBpZD1cImpzLXBvaW50LXRvdWNoXCIgLz5cblxuICAgICAgICAgICAgICB7IGxpdHRsZUhhbmRsZXMgfVxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgfVxuXG4gIF9nZXRTdHlsZSAoc3RhdGUpIHtcbiAgICBjb25zdCB7cG9pbnR9ICAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtyZXNpemV9ICA9IHN0YXRlLFxuICAgICAgICAgIHggICAgICAgICA9IGNsYW1wKHBvaW50LnggKyBwb2ludC50ZW1wWCwgMCwgMTAwKSxcbiAgICAgICAgICBjbGVhblggICAgPSB4ICogcmVzaXplLnNjYWxlclgsXG4gICAgICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWTtcblxuICAgIGNvbnN0IHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2NsZWFuWH1weCwgJHt5LTF9cHgpYDtcbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cbiAgX2dldExpdHRsZUhhbmRsZXMgKHN0YXRlKSB7XG4gICAgY29uc3Qge2luZGV4LCBwb2ludCwgcG9pbnRzQ291bnR9ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBoYW5kbGVzID0gW107XG4gICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTEgZm9yIHN0YXJ0IHBvaW50XG4gICAgKGluZGV4ICE9PSAwKSAmJiBoYW5kbGVzLnB1c2goIHRoaXMuX2NyZWF0ZUhhbmRsZSggMSwgcG9pbnQgKSApO1xuICAgIC8vIGRvbnQgc2V0IHRoZSBoYW5kbGUyIGZvciBlbmQgcG9pbnRcbiAgICAoaW5kZXggIT09IHBvaW50c0NvdW50LTEpICYmIGhhbmRsZXMucHVzaCggdGhpcy5fY3JlYXRlSGFuZGxlKCAyLCBwb2ludCApICk7XG4gICAgcmV0dXJuIGhhbmRsZXM7XG4gIH1cblxuICBfY3JlYXRlSGFuZGxlIChpbmRleCwgcG9pbnQpICB7XG4gICAgcmV0dXJuIDxMaXR0bGVIYW5kbGVcbiAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICBzdGF0ZT17dGhpcy5wcm9wcy5zdGF0ZX1cbiAgICAgICAgcGFyZW50SW5kZXg9e3RoaXMucHJvcHMuaW5kZXh9XG4gICAgICAgIGhhbmRsZT17cG9pbnRbYGhhbmRsZSR7aW5kZXh9YF19XG4gICAgICAgIHR5cGU9e3BvaW50LnR5cGV9XG4gICAgICAgIC8+XG4gIH1cbiAgXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ICA9IHRoaXMuY29udGV4dDtcblxuICAgIGNvbnN0IGdldFRlbXBYID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcbiAgICAgIC8vIGlmIHBvaW50IGlzIG5vdCBsb2NrZWQgdG8geCBheGVzIC0+XG4gICAgICAvLyBjYWxjdWxhdGUgZGVsdGEgcmVnYXJkaW5nIHNjYWxlclxuICAgICAgaWYgKCBwb2ludC5pc0xvY2tlZFggKSB7IHJldHVybiAwIH07XG4gICAgICAgIFxuICAgICAgY29uc3QgeCA9IGUuZGVsdGFYL3Jlc2l6ZS5zY2FsZXJYO1xuICAgICAgaWYgKCBwb2ludC54ICsgeCA8IDAgKSB7IHJldHVybiAwIC0gcG9pbnQueDsgfVxuICAgICAgZWxzZSBpZiAoIHBvaW50LnggKyB4ID4gMTAwICkgeyByZXR1cm4gMTAwIC0gcG9pbnQueDsgfVxuICAgICAgcmV0dXJuIHJvdW5kVG8oIHBvaW50LnggKyB4LCA1LCAxLjUgKSAtIHBvaW50Lng7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0WSA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB5ID0gcG9pbnQueSArIGUuZGVsdGFZO1xuXG4gICAgICAvLyBjbGFtcCB5IHRvIHRoZSBzaXplIG9mIGN1cnZlXG4gICAgICByZXR1cm4gY2xhbXAoIHksIHJlc2l6ZS50b3AsIEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20gKTsgXG4gICAgfVxuXG4gICAgLy8gZ2V0IHkgZGVsdGEgcmVhZ2FyZGluZyBjdXJ2ZSBib3VuZHNcbiAgICBjb25zdCBnZXRUZW1wWSA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG5cbiAgICAgIGxldCB5ID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgIHJldHVyblZhbHVlID0geTtcblxuICAgICAgaWYgKCB5IDwgcmVzaXplLnRvcCApIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSByZXNpemUudG9wO1xuICAgICAgfSBlbHNlIGlmICggeSA+IEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20gKSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJvdW5kVG8oIHJldHVyblZhbHVlLCA1KkMuQ1VSVkVfUEVSQ0VOVCwgMipDLkNVUlZFX1BFUkNFTlQgKSAtIHBvaW50Lnk7XG4gICAgfVxuXG4gICAgY29uc3QgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXBvaW50LXRvdWNoJyksXG4gICAgICAgICAgbWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWwpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuVGFwKTtcblxuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuICAgICAgICAgIGRhdGE6IHsgeDogZ2V0VGVtcFgoZSksIHk6IGdldFRlbXBZKGUpLCBpbmRleCB9XG4gICAgICAgIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5vbigncGFuZW5kJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFX0VORCcsIGRhdGE6IGluZGV4LCBpc1JlY29yZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3RhcCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wc1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNyY0V2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgdHlwZTogcG9pbnQudHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL3BvaW50LmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBwb2ludFRvQW5nbGUgZnJvbSAnLi4vaGVscGVycy9wb2ludC10by1hbmdsZSc7XG5cbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgTGl0dGxlSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17Q0xBU1NFU1snbGl0dGxlLWhhbmRsZSddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJsaXR0bGUtaGFuZGxlXCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRQb2ludFN0eWxlKCl9IC8+XG5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPXsgQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fbGluZSddIH1cbiAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5fZ2V0TGluZVN0eWxlKCl9IC8+XG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgbWMgICAgICAgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICB2YXIge2hhbmRsZX0gPSB0aGlzLnByb3BzO1xuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuc3RhcnQnLCAoZSkgPT4geyBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTsgfSlcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge2luZGV4LCBwYXJlbnRJbmRleH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICAgICAgbmV3WCAgPSBwb2ludC54ICsgZS5kZWx0YVgsXG4gICAgICAgICAgICAgIG5ld1kgID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgICAgICBhbmdsZSA9IHBvaW50VG9BbmdsZSggbmV3WCwgbmV3WSApO1xuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgcGFyZW50SW5kZXgsIC4uLmFuZ2xlIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCB0aGlzLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBhbmdsZS5yYWRpdXMsXG4gICAgICAgICAgICAgIGFuZ2xlOiAgYW5nbGUuYW5nbGUgLSAxODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5wcm9wcy50eXBlID09PSAnYXN5bW1ldHJpYycgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuICAgICAgICAgICAgICBhbmdsZTogIGFuZ2xlLmFuZ2xlIC0gMTgwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pO1xuICB9XG5cbiAgX2dldFBvaW50U3R5bGUgKCkge1xuICAgIGNvbnN0IHtoYW5kbGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcG9pbnQgICAgID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtwb2ludC54fXB4LCAke3BvaW50Lnl9cHgpIHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuICBfZ2V0TGluZVN0eWxlICgpIHtcbiAgICBjb25zdCB7aGFuZGxlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpIHNjYWxlWSgke2hhbmRsZS5yYWRpdXN9KWA7XG5cbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXR0bGVIYW5kbGU7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2xpdHRsZS1oYW5kbGUuYmFiZWwuanN4XG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfYXNzaWduID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2Fzc2lnblwiKTtcblxudmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX2Fzc2lnbjIuZGVmYXVsdCB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5hc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSU9iamVjdCAgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCAkYXNzaWduICA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHZhciBBID0ge31cbiAgICAsIEIgPSB7fVxuICAgICwgUyA9IFN5bWJvbCgpXG4gICAgLCBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oayl7IEJba10gPSBrOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgICAgID0gdG9PYmplY3QodGFyZ2V0KVxuICAgICwgYUxlbiAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpbmRleCA9IDFcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmZcbiAgICAsIGlzRW51bSAgICAgPSBwSUUuZjtcbiAgd2hpbGUoYUxlbiA+IGluZGV4KXtcbiAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pXG4gICAgICAsIGtleXMgICA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUylcbiAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICwgaiAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoeCwgeSkgPT4ge1xuICBsZXQgICByYWRpdXMgID0gTWF0aC5zcXJ0KCB4KnggKyB5KnkgKSxcbiAgICAgICAgYW5nbGUgICA9IE1hdGguYXRhbiggeS94ICkgKiAoMTgwL01hdGguUEkpIC0gOTA7XG4gIGlmICggeCA+IDAgKSB7IGFuZ2xlID0gYW5nbGUgLSAxODAgfTtcblxuICByZXR1cm4geyByYWRpdXMsIGFuZ2xlIH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9wb2ludC10by1hbmdsZS5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9saXR0bGUtaGFuZGxlX2l3MnJ1XzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDowO2hlaWdodDowfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6NnB4O2hlaWdodDo2cHg7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotM3B4O21hcmdpbi10b3A6LTNweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjAwJTtoZWlnaHQ6MjAwJTtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0xMDAlO21hcmdpbi10b3A6LTEwMCV9Ll9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7bWFyZ2luLWxlZnQ6LTFweDttYXJnaW4tdG9wOi0xcHg7bGVmdDo1MCU7dG9wOjUwJTtiYWNrZ3JvdW5kOiNmZjUxMmY7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEwOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImxpdHRsZS1oYW5kbGVcIjogXCJfbGl0dGxlLWhhbmRsZV9pdzJydV8zXCIsXG5cdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMVwiLFxuXHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDExMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIGJhc2UsIHNuYXApID0+IHtcbiAgY29uc3QgbW9kaWZpZWQgPSBNYXRoLnJvdW5kKHZhbHVlL2Jhc2UpKmJhc2U7XG5cbiAgcmV0dXJuICggTWF0aC5hYnModmFsdWUgLSBtb2RpZmllZCkgPCBzbmFwICkgPyBtb2RpZmllZCA6IHZhbHVlO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcm91bmQtdG8uYmFiZWwuanNcbiAqKi8iLCJcblxuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xuICByZXR1cm4gKHZhbHVlIDwgbWluKVxuICAgID8gbWluXG4gICAgOiAodmFsdWUgPiBtYXgpID8gbWF4IDogdmFsdWU7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTdwYjFfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSk7Ym9yZGVyOjJweCBzb2xpZCAjZmZmfS5fcG9pbnRfMTdwYjFfNSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfS5fcG9pbnRfX3RvdWNoXzE3cGIxXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O21hcmdpbi1sZWZ0Oi0xMHB4O21hcmdpbi10b3A6LTEwcHh9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSwuX3BvaW50XzE3cGIxXzU6aG92ZXJ7Ym9yZGVyLWNvbG9yOiNmZjUxMmZ9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE3cGIxXzUuX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MiBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJwb2ludFwiOiBcIl9wb2ludF8xN3BiMV81XCIsXG5cdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xN3BiMV8xXCIsXG5cdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTdwYjFfMzFcIixcblx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfZ3Zjcm5fNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnX2d2Y3JuXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDExOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmVcIjogXCJfY3VydmVfZ3Zjcm5fNVwiLFxuXHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfZ3Zjcm5fMVwiLFxuXHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZScpO1xuY2xhc3MgUmVzaXplSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7dHlwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXX1gLFxuICAgICAgICAgIGNsYXNzVHlwZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlIF19YDtcbiAgICByZXR1cm4gPGRpdlxuICAgICAgY2xhc3NOYW1lPXsgYCR7Y2xhc3NOYW1lfSAke2NsYXNzVHlwZX0gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gIH1cbiAgICAgIGRhdGEtdHlwZT17dHlwZX0+XG4gICAgICAgIDxJY29uIHNoYXBlPVwiZWxsaXBzaXNcIiAvPlxuICAgICAgPC9kaXY+O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAge3R5cGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWMgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFX0VORCcsIGRhdGE6IHsgeCwgeSwgdHlwZSB9IH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzaXplSGFuZGxlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcmVzaXplLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24nKTtcblxuY2xhc3MgSWNvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge3NoYXBlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWFya3VwID0gYDxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiPjx1c2UgeGxpbms6aHJlZj1cIiMke3NoYXBlfS1zaGFwZVwiIC8+PC9zdmc+YDtcbiAgICByZXR1cm4gIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snaWNvbiddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJpY29uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWFya3VwIH19PlxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24ucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb25fNGE4bGZfNXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMnB4O2hlaWdodDozMnB4O2N1cnNvcjpwb2ludGVyO2ZpbGw6I2ZmZjtkaXNwbGF5OmJsb2NrfS5faWNvbl80YThsZl81PnN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU+c3ZnPnVzZXtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XCJyZXNpemUtaGFuZGxlLS1yaWdodFwiOiBcIl9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xXCIsXG5cdFwicmVzaXplLWhhbmRsZS0tYm90dG9tXCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjdXJ2ZS1lZGl0b3JcIjogXCJfY3VydmUtZWRpdG9yXzFmOHI1XzRcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX3JpZ2h0XCI6IFwiX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZVwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ29cIjogXCJfY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5pbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnLi9pY29uLWJ1dHRvbic7XG5pbXBvcnQgSWNvbkRpdmlkZXIgZnJvbSAnLi9pY29uLWRpdmlkZXInO1xuaW1wb3J0IFBvaW50Q29udHJvbHMgZnJvbSAnLi9wb2ludC1jb250cm9scyc7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNvbnN0IEN1cnZlRWRpdG9yTGVmdCA9ICh7c3RhdGV9KSA9PiB7XG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddfSBpZD1cImpzLWxlZnQtcGFuZWxcIj5cbiAgICAgICAgICAgIDxJY29uQnV0dG9uIHNoYXBlPVwiY29kZVwiIC8+XG4gICAgICAgICAgICA8SWNvbkRpdmlkZXIgLz5cbiAgICAgICAgICAgIDxQb2ludENvbnRyb2xzICBzdGF0ZT17c3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zJ119IC8+XG4gICAgICAgICAgICA8YSAgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyddfVxuICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vbGVnb211c2hyb29tL21vanMtY3VydmUtZWRpdG9yXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgIDxJY29uIHNoYXBlPVwibW9qcy1sb2dvXCIgLz5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj47XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1cnZlRWRpdG9yTGVmdDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG4vLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24tYnV0dG9uJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIEljb25CdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGNoZWNrID0gKHRoaXMucHJvcHMuaXNDaGVjaykgPyBDTEFTU0VTWydpcy1jaGVja2VkJ10gOiAnJztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17YCR7Q0xBU1NFU1snaWNvbi1idXR0b24nXX0gJHtjaGVja31gfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9eydpY29uLWJ1dHRvbid9PlxuICAgICAgICAgICAgICA8SWNvbiBzaGFwZT17dGhpcy5wcm9wcy5zaGFwZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIHR5cGVvZiB0aGlzLnByb3BzLm9uVGFwID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgdmFyIGhhbW1lcnRpbWUgPSBuZXcgSGFtbWVyKHRoaXMuYmFzZSlcbiAgICAgICAgLm9uKCd0YXAnLCAoZSkgPT4geyB0aGlzLnByb3BzLm9uVGFwKCBlLCB0aGlzLnByb3BzICkgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25CdXR0b247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tYnV0dG9uXzZ5c2RpXzR7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6IzNhMDgzOTtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC4xNSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3Zlcntib3gtc2hhZG93Om5vbmV9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVyIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmV7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggMCBoc2xhKDAsMCUsMTAwJSwuMjUpLGluc2V0IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjQpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSBbZGF0YS1jb21wb25lbnQ9aWNvbl0sLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZSBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiaWNvbi1idXR0b25cIjogXCJfaWNvbi1idXR0b25fNnlzZGlfNFwiLFxuXHRcImlzLWNoZWNrZWRcIjogXCJfaXMtY2hlY2tlZF82eXNkaV8zMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXInKTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24tZGl2aWRlciddfVxuICAgICAgICAgICAgICBkYXRhLWNvbXBvbmVudD1cImljb24tZGl2aWRlclwiIC8+O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi1kaXZpZGVyLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb24tZGl2aWRlclwiOiBcIl9pY29uLWRpdmlkZXJfZnRhc2tfM1wiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1kaXZpZGVyX2Z0YXNrXzN7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bzt3aWR0aDoxNnB4O2hlaWdodDoxcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgwLDAsMCwuMyl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4vaWNvbi1idXR0b24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50Q29udHJvbHMgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtzdGF0ZX0gICA9IHAsXG4gICAgICAgICAgY29udHJvbHMgID0gc3RhdGUucG9pbnRDb250cm9scy5wcmVzZW50LFxuICAgICAgICAgIHNob3cgICAgICA9IChjb250cm9scy5pc1Nob3cpID8gQ0xBU1NFU1snaXMtc2hvdyddIDogJycsXG4gICAgICAgICAgY2xhc3NOYW1lID0gYCR7cC5jbGFzc05hbWV9ICR7Q0xBU1NFU1sncG9pbnQtY29udHJvbHMnXX0gJHtzaG93fWAsXG4gICAgICAgICAgYnV0dG9ucyAgID0gdGhpcy5fYWRkQnV0dG9ucyhjb250cm9scyk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+IHtidXR0b25zfSA8L2Rpdj5cbiAgfVxuXG4gIF9vbkJ1dHRvblRhcCAodHlwZSkge1xuICAgIHJldHVybiAoZSkgPT4ge1xuICAgICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcblxuICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQ0hBTkdFX1RZUEUnLCBkYXRhOiB0eXBlLCBpc1JlY29yZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBfYWRkQnV0dG9ucyAoY29udHJvbHMpIHtcbiAgICBjb25zdCBidXR0b25zTWFwICA9IFsgJ3N0cmFpZ2h0JywgJ2Rpc2Nvbm5lY3RlZCcsICdtaXJyb3JlZCcsICdhc3ltbWV0cmljJyBdLFxuICAgICAgICAgIGJ1dHRvbnMgICAgID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnNNYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBidXR0b25zTWFwW2ldO1xuICAgICAgYnV0dG9ucy5wdXNoKDxJY29uQnV0dG9uICBzaGFwZT17YHBvaW50LSR7dHlwZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrPXsgY29udHJvbHMudHlwZSA9PT0gdHlwZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVGFwPXsgdGhpcy5fb25CdXR0b25UYXAodHlwZSkgfSAvPik7XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50Q29udHJvbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9wb2ludC1jb250cm9scy5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50LWNvbnRyb2xzXzFqNWY0XzR7ZGlzcGxheTpub25lfS5fcG9pbnQtY29udHJvbHNfMWo1ZjRfNC5faXMtc2hvd18xajVmNF83e2Rpc3BsYXk6YmxvY2t9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInBvaW50LWNvbnRyb2xzXCI6IFwiX3BvaW50LWNvbnRyb2xzXzFqNWY0XzRcIixcblx0XCJpcy1zaG93XCI6IFwiX2lzLXNob3dfMWo1ZjRfN1wiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgSWNvbnMgPSAoKSA9PiB7XG4gIHJldHVybiA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYDxzdmcgaGVpZ2h0PVwiMFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xMDAlOyB3aWR0aDowOyBoZWlnaHQ6MDtcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj5cbiAgICAgIDxnIGlkPVwiZWxsaXBzaXMtc2hhcGVcIj5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNlwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMjFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwiY29kZS1zaGFwZVwiIGQ9XCJNOCwxNi4wODQ5NjQ4IEM4LDE1LjgyMTA3OTMgOC4xMTE0OTA2OSwxNS42MTI5MzkzIDguMzM0ODM0MDUsMTUuNDYwOTA2NSBMMTIuMzM5MDg3NCwxMi44NDE5NjEyIEMxMi4zODk3NjQ5LDEyLjgwMTQxOTIgMTIuNDY1NzgxMywxMi43ODExNDgxIDEyLjU2NzQ5ODUsMTIuNzgxMTQ4MSBDMTIuNzM5ODAyMywxMi43ODExNDgxIDEyLjkwNDg2NjQsMTIuODU3MTY0NSAxMy4wNjIzMjg5LDEzLjAwOTU1OTIgQzEzLjIxOTQyOTQsMTMuMTYxOTU0IDEzLjI5ODM0MTcsMTMuMzM5MzI1NSAxMy4yOTgzNDE3LDEzLjU0MjM5NzkgQzEzLjI5ODM0MTcsMTMuNzM1MzM0NyAxMy4yMjE5NjMzLDEzLjg4MjY2MTcgMTMuMDY5MjA2NiwxMy45ODQwMTY4IEw5Ljg1NzY5NTUzLDE2LjA4NDk2NDggTDEzLjA2OTIwNjYsMTguMTg2Mjc0NyBDMTMuMjIxOTYzMywxOC4yNjc3MjA4IDEzLjI5ODM0MTcsMTguNDE0Njg1OCAxMy4yOTgzNDE3LDE4LjYyNzg5MzcgQzEzLjI5ODM0MTcsMTguODMwOTY2IDEzLjIxOTc5MTQsMTkuMDA2MTY1NyAxMy4wNjIzMjg5LDE5LjE1MzEzMDcgQzEyLjkwNDg2NjQsMTkuMzAwNDU3NiAxMi43Mzk4MDIzLDE5LjM3Mzk0MDEgMTIuNTY3NDk4NSwxOS4zNzM5NDAxIEMxMi40NjU3ODEzLDE5LjM3Mzk0MDEgMTIuMzg5NzY0OSwxOS4zNTM2NjkxIDEyLjMzOTA4NzQsMTkuMzEzMTI3IEw4LjMzNDgzNDA1LDE2LjY5MzgxOTggQzguMTExNDkwNjksMTYuNTQxNDI1IDgsMTYuMzM4NzE0NyA4LDE2LjA4NDk2NDggTDgsMTYuMDg0OTY0OCBaIE0xNC4xMzk5NTE2LDIwLjY4NzU3NTYgQzE0LjEyNjU1ODIsMjAuNjA3NTc3NCAxNC4xMjg3MzAxLDIwLjUzMDExMzEgMTQuMTQ2ODI5MywyMC40NTQ4MjA3IEwxNi45Mzk1MjYzLDExLjM1NjAyMiBDMTYuOTg5MTE3OSwxMS4xNjIzNjEyIDE3LjEyMzc3NTUsMTEuMDQ2ODg4NyAxNy4zNDQyMjMsMTEuMDA5NjA0NSBDMTcuNTA0MjE5NCwxMC45ODI0NTU4IDE3LjY1ODc4NiwxMS4wMTI4NjIzIDE3LjgwNzU2MDksMTEuMTAwODI0MiBDMTcuOTU2MzM1OCwxMS4xODkxNDc5IDE4LjA0NDI5NzYsMTEuMzEzMzA4IDE4LjA3MTA4NDQsMTEuNDczMzA0NCBDMTguMDg2Mjg3NiwxMS41NjM0MzgxIDE4LjA3OTc3MiwxMS42NDcwNTYxIDE4LjA1MTg5OTMsMTEuNzIzNzk2NSBMMTUuMjY2NDQxOSwyMC43NzQ4MTM0IEMxNS4yMDg1MjQ3LDIwLjk4MDA1NzcgMTUuMDU5Mzg3OCwyMS4xMDMxMzE4IDE0LjgxOTM5MzIsMjEuMTQ0MDM1OCBDMTQuNjQ4ODk5MywyMS4xNzI5OTQ1IDE0LjQ5OTQwMDUsMjEuMTM4OTY4MSAxNC4zNjk4MTA2LDIxLjA0MjY4MDcgQzE0LjI0MDIyMDgsMjAuOTQ2MDMxMyAxNC4xNjM4NDI0LDIwLjgyNzY2MjkgMTQuMTM5OTUxNiwyMC42ODc1NzU2IEwxNC4xMzk5NTE2LDIwLjY4NzU3NTYgWiBNMTguOTUyODc0NCwxOS4xNTI3Njg3IEMxOC43OTU0MTE5LDE5LjAwNTgwMzcgMTguNzE2ODYxNiwxOC44MzA2MDQgMTguNzE2ODYxNiwxOC42Mjc1MzE3IEMxOC43MTY4NjE2LDE4LjQyNDQ1OTQgMTguNzg3ODEwMiwxOC4yNzc0OTQ0IDE4LjkzMDA2OTUsMTguMTg1OTEyNyBMMjIuMTQyNjY2NSwxNi4wODQ2MDI4IEwxOC45MzAwNjk1LDEzLjk4MzY1NDkgQzE4Ljc4NzgxMDIsMTMuODcxODAyMiAxOC43MTY4NjE2LDEzLjcyNDgzNzIgMTguNzE2ODYxNiwxMy41NDIwMzU5IEMxOC43MTY4NjE2LDEzLjMzODk2MzYgMTguNzk1NDExOSwxMy4xNjE1OTIgMTguOTUyODc0NCwxMy4wMDkxOTczIEMxOS4xMTAzMzY5LDEyLjg1NjgwMjUgMTkuMjc1MDM5LDEyLjc4MDc4NjEgMTkuNDQ3NzA0OCwxMi43ODA3ODYxIEMxOS41Mzg5MjQ1LDEyLjc4MDc4NjEgMTkuNjA5ODczMSwxMi44MDE0MTkyIDE5LjY2MDkxMjYsMTIuODQxNTk5MiBMMjMuNjY1MTY1OSwxNS40NjA1NDQ1IEMyMy44ODgxNDczLDE1LjYxMjkzOTMgMjQsMTUuODIxMDc5MyAyNCwxNi4wODQ2MDI4IEMyNCwxNi4zNDg4NTAyIDIzLjg4ODE0NzMsMTYuNTUxNTYwNiAyMy42NjUxNjU5LDE2LjY5MzgxOTggTDE5LjY2MDkxMjYsMTkuMzEyNzY1MSBDMTkuNjA5ODczMSwxOS4zNTMzMDcxIDE5LjUzODkyNDUsMTkuMzczNTc4MiAxOS40NDc3MDQ4LDE5LjM3MzU3ODIgQzE5LjI3NTAzOSwxOS4zNzM1NzgyIDE5LjExMDMzNjksMTkuMzAwMDk1NyAxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgTDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBaXCI+PC9wYXRoPlxuICAgICAgPGcgaWQ9XCJwb2ludC1zdHJhaWdodC1zaGFwZVwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1taXJyb3JlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjEuOTAxMjYzMiBDNy44ODE0NDg0MSwyMS45MDEyNjMyIDcuNTkyODcxNzIsMTMuNTc0MDUzNyAxNS40NTE0NDIzLDEzLjU3NDA1MzcgQzIzLjMxMDAxMjksMTMuNTc0MDUzNyAyMy44OTIxMjI4LDIxLjkwMTI2MzIgMjMuODkyMTIyOCwyMS45MDEyNjMyXCIvPlxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTQuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPGVsbGlwc2UgY3g9XCIxNS4zMzNcIiBjeT1cIjEzLjMzM1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMC41Njc5Mjk4IEM3Ljg4MTQ0ODQxLDIwLjU2NzkyOTggNy41OTI4NzE3MiwxMi4yNDA3MjA0IDE1LjQ1MTQ0MjMsMTIuMjQwNzIwNCBDMjEuMjAwNTIwNywxNy44ODczNyAyMy44OTIxMjI4LDIwLjU2NzkyOTggMjMuODkyMTIyOCwyMC41Njc5Mjk4XCIvPlxuICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPVwiI0ZGNTEyRlwiIHBvaW50cz1cIjYuMTMzIDEyIDE1LjIyOCAxMiAyMy45MzMgMjAuNjAyXCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjEuODg2XCIgeT1cIjE4LjU1MlwiIGZpbGw9XCIjRkY1MTJGXCIgdHJhbnNmb3JtPVwicm90YXRlKDQ1IDIzLjIxOSAxOS44ODYpXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LWFzeW1tZXRyaWMtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNy42NjcgOS4zMzMpXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCI5XCIgY3k9XCI0LjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTIuNTI3ODg1MDMsMi42NjY2NjY2NyBMMTguMTM4ODM0NiwyLjY2NjY2NjY3XCIvPlxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIxNi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwibW9qcy1sb2dvLXNoYXBlXCIgZD1cIk0xOC40Njc4OTA3LDIuNjc3MDAwNDggQzE5LjQ4ODU4NiwzLjI1NzU4NjI1IDIwLjI3ODkyMjcsNC4xODQyMTY1MSAyMC44NzgyMyw1LjE5NzM1NzkgQzI0LjA4MDc3ODgsMTAuNTAxNDUxIDI3LjI3NzcwOTEsMTUuODExMzExNiAzMC40ODAyNTgsMjEuMTE1NDA0NyBDMzEuMTMyMDA0NywyMi4xNjEyMjgxIDMxLjc3MDY0MTcsMjMuMjY0NzI1NiAzMS45MzU0NTEyLDI0LjUxNjI1MzIgQzMyLjE4ODI4NCwyNi4wNjE5MTg2IDMxLjY5MTk4MjYsMjcuNzM2Mzg5NSAzMC41NTg5MTcxLDI4LjgwMzM2IEMyOS40NTAxOTg0LDI5Ljg4NTcxMDMgMjcuODgwNzYyMiwzMC4zMTgyNjU5IDI2LjM4MDYyMDksMzAuMzA0ODA4NiBDMTkuNDUxMTI5MywzMC4zMDg2NTM1IDEyLjUyMzUxMDYsMzAuMzA4NjUzNSA1LjU5NDAxOTAxLDMwLjMwNDgwODYgQzMuNzE1NTY0OTQsMzAuMzQzMjU4IDEuNjk4NTIxMDQsMjkuNTcyMzQ3OCAwLjY4MzQ0NDE2NSwyNy44NzA5NjIzIEMtMC40MDY1NDYxMzIsMjYuMTA5OTgwMyAtMC4wOTc1MjgyNjQzLDIzLjc5MTQ4MjIgMC45NDAwMjI2MzcsMjIuMDg0MzI5MyBDNC4zNDI5NjQ4NSwxNi40MTMwNDQ1IDcuNzY2NTA4MjYsMTAuNzUzMjk0NSAxMS4xODI1NjAzLDUuMDg5Njk5NjEgQzExLjk3NDc2OTgsMy43NDc4MTU5NSAxMy4xODQ2MjE1LDIuNjAyMDI0MTggMTQuNjg0NzYyOCwyLjE4MjkyNTg0IEMxNS45NDUxODEyLDEuODE1NzM0MTggMTcuMzM0ODI1MSwyLjAxMTgyNjA2IDE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBaIE0xNS4zMzM0NjY4LDkuNTE1MjY4NDkgQzE1LjYxNDYyMzgsOS4wMzc3OTQ3NiAxNi4wNzkxNTk3LDkuMDIyNTA2NTUgMTYuMzc4NTY3OSw5LjQ5Mjk1NDcgTDI1LjI3NjM1NTUsMjMuNDczNjkxMyBDMjUuNTcyMzkxOSwyMy45Mzg4NDE0IDI1LjM1Njg0MzMsMjQuMzE1OTIwMSAyNC44MDc0Mzk4LDI0LjMxNTkyMDIgTDcuNjIzMTQ2NDcsMjQuMzE1OTIwNSBDNy4wNjgxMzUwNSwyNC4zMTU5MjA2IDYuODQ2MjI3OTgsMjMuOTI4Njg4OSA3LjEyNzI4OTEzLDIzLjQ1MTM3NzkgTDE1LjMzMzQ2NjgsOS41MTUyNjg0OSBaXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjwvcGF0aD5cbiAgICA8L3N2Zz5gIH19PjwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29ucztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2ljb25zLmJhYmVsLmpzeFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlLWVkaXRvcl8xZjhyNV80e3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDt0b3A6MDt3aWR0aDo0MDNweDtoZWlnaHQ6Mzc4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC44NSk7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzoycHggMnB4IDJweCByZ2JhKDAsMCwwLC4zOCl9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MnB4O2xlZnQ6MDt0b3A6MDtib3R0b206MDtwYWRkaW5nOjEwcHg7Y3Vyc29yOm1vdmV9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1kaXZpZGVyXXttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXXttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7Y3JlYXRlU3RvcmV9IGZyb20gJ3JlZHV4Jztcbi8vIGltcG9ydCByZWR1Y2VyXG5pbXBvcnQgcmVkdWNlciBmcm9tICcuL3JlZHVjZXJzL2luZGV4LXJlZHVjZXInO1xuXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKCByZWR1Y2VyICk7XG5cbmV4cG9ydCBkZWZhdWx0IHN0b3JlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuL2JpbmRBY3Rpb25DcmVhdG9ycycpO1xuXG52YXIgX2JpbmRBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5kQWN0aW9uQ3JlYXRvcnMpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vYXBwbHlNaWRkbGV3YXJlJyk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKlxuKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4qIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiovXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gX2JpbmRBY3Rpb25DcmVhdG9yczJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbaW5pdGlhbFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKlxuICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKG5hdGl2ZUdldFByb3RvdHlwZSwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fb3ZlckFyZy5qc1xuICoqIG1vZHVsZSBpZCA9IDE1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvcG9ueWZpbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdsb2Rhc2gvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCA/ICdpbml0aWFsU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICB9KTtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgKyAnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykgKyAnbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgJyArICdjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCAnICsgJ2luIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSAnICsgJ2FjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpO1xuXG4gIHZhciBzYW5pdHlFcnJvcjtcbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2FuaXR5RXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBpZiAoc2FuaXR5RXJyb3IpIHtcbiAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24pO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL3V0aWxzL3dhcm5pbmcuanNcbiAqKiBtb2R1bGUgaWQgPSAxNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2NvbXBvc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFJlZHV4IHV0aWxpdHkgZnVuY3Rpb25zXG5pbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCc7XG4vLyByZWR1eC11bmRvIGhpZ2hlci1vcmRlciByZWR1Y2VyXG5pbXBvcnQgdW5kb2FibGUgZnJvbSAncmVkdXgtdW5kbyc7XG5cbmltcG9ydCByZXNpemVSZWR1Y2VyICAgIGZyb20gJy4vcmVzaXplLXJlZHVjZXInO1xuaW1wb3J0IHBvaW50c1JlZHVjZXIgICAgZnJvbSAnLi9wb2ludHMtcmVkdWNlcic7XG5pbXBvcnQgcG9pbnRDb250cm9sc1JlZHVjZXIgIGZyb20gJy4vcG9pbnQtY29udHJvbHMtcmVkdWNlcic7XG5cbmNvbnN0IFVORE9BQkxFX09QVFMgPSB7XG4gIGxpbWl0OiAxMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXJBY3Rpb25zKGFjdGlvbiwgY3VyclN0YXRlLCBoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG4gIH0sXG4gIGRlYnVnOiBmYWxzZVxufTtcblxuY29uc3QgcmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIHBvaW50Q29udHJvbHM6IHVuZG9hYmxlKHBvaW50Q29udHJvbHNSZWR1Y2VyLCB7IC4uLlVORE9BQkxFX09QVFMgfSksXG4gIHJlc2l6ZTogICAgICAgIHJlc2l6ZVJlZHVjZXIsXG4gIHBvaW50czogICAgICAgIHVuZG9hYmxlKHBvaW50c1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHg6ICAgICAgICAgICAgMTUwLFxuICB0ZW1wWDogICAgICAgIDAsXG5cbiAgeTogICAgICAgICAgICAxMDAsXG4gIHRlbXBZOiAgICAgICAgMCxcblxuICB0b3A6ICAgICAgICAgIDAsXG4gIHRlbXBfdG9wOiAgICAgMCxcblxuICByaWdodDogICAgICAgIDAsXG4gIHRlbXBfcmlnaHQ6ICAgMCxcblxuICBib3R0b206ICAgICAgIDAsXG4gIHRlbXBfYm90dG9tOiAgMCxcbiAgc2NhbGVyWDogICAgICBDLkNVUlZFX1BFUkNFTlRcbn1cblxuY29uc3QgcmVzaXplUmVkdWNlciA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnRURJVE9SX1JFU0laRSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbixcbiAgICAgICAgICAgIHt0eXBlfSA9IGRhdGEsXG4gICAgICAgICAgICBkZWx0YSAgPSAoIHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nICkgPyBkYXRhLnkgOiBkYXRhLng7XG5cbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgW2B0ZW1wXyR7dHlwZX1gXTogZGVsdGEgfTtcbiAgICAgIC8vIGlmIGByaWdodGBzaXplIGNoYW5nZWQgLSBjYWxjdWxhdGUgdGhlIHNjYWxlciBmb3IgeCBheGlzXG4gICAgICBpZiAoIHR5cGUgPT09ICdyaWdodCcgKSB7XG4gICAgICAgIG5ld1N0YXRlWyAnc2NhbGVyWCcgXSA9IChDLkNVUlZFX1NJWkUgKyBNYXRoLm1heCggc3RhdGUucmlnaHQgKyBkZWx0YSwgMCApKS8xMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1JFU0laRV9FTkQnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gPSBhY3Rpb247XG4gICAgICBjb25zdCB7dHlwZX0gPSBkYXRhO1xuICAgICAgY29uc3QgZGVsdGEgPSAoIHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nICkgPyBkYXRhLnkgOiBkYXRhLng7XG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIHJlc2l6ZSB2YWx1ZSAoIHRlbXBvcmFyeSArIGFjdHVhbCApXG4gICAgICBjb25zdCByZXNpemUgPSBzdGF0ZVtgJHthY3Rpb24uZGF0YS50eXBlfWBdICsgZGVsdGE7XG4gICAgICAvLyBpZiB0aGUgdHlwZSBpZiB0byAtIGl0IGhhcyB0aGUgYC1gIGFzIGJhc2Ugc28gd2UgbmVlZCB0byBzd2FwIG1ldGhvZHNcbiAgICAgIGNvbnN0IG1hdGhNZXRob2QgPSAoIHR5cGUgPT09ICd0b3AnICkgPyAnbWluJyA6ICdtYXgnO1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlLFxuICAgICAgICBbYCR7YWN0aW9uLmRhdGEudHlwZX1gXTogTWF0aFttYXRoTWV0aG9kXSgwLCByZXNpemUpLFxuICAgICAgICBbYHRlbXBfJHthY3Rpb24uZGF0YS50eXBlfWBdOiAwXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IGFjdGlvbi5kYXRhO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHRlbXBYOiB4LCB0ZW1wWTogeSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEVfRU5EJzoge1xuICAgICAgbGV0IHt4LCB5fSA9IGFjdGlvbi5kYXRhO1xuICAgICAgeCArPSBzdGF0ZS54O1xuICAgICAgeSArPSBzdGF0ZS55O1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHgsIHksIHRlbXBYOiAwLCB0ZW1wWTogMCB9O1xuICAgIH1cblxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzaXplUmVkdWNlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDE2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IG1ha2VQb2ludCBmcm9tICcuLi9oZWxwZXJzL21ha2UtcG9pbnQnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBpbml0UG9pbnRzIGZyb20gJy4uL2hlbHBlcnMvaW5pdC1wb2ludHMnO1xuXG5jb25zdCBJTklUSUFMX1NUQVRFID0gW1xuICAgIG1ha2VQb2ludCh7IHg6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUsIHR5cGU6ICdzdHJhaWdodCcgfSksXG4gICAgbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcbiAgICBtYWtlUG9pbnQoeyB4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZSB9KVxuICBdO1xuXG5jb25zdCBkZXNsZWN0QWxsID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IG5ld1N0YXRlID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdTdGF0ZS5wdXNoKHsgLi4uc3RhdGVbaV0sIGlzU2VsZWN0ZWQ6IGZhbHNlIH0pO1xuICB9XG4gIHJldHVybiBuZXdTdGF0ZTtcbn1cblxuY29uc3QgZmluZFNlbGVjdGVkSW5kZWNpZXMgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgaW5kZWNpZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgIHN0YXRlW2ldLmlzU2VsZWN0ZWQgJiYgaW5kZWNpZXMucHVzaCggaSApO1xuICB9XG4gIHJldHVybiBpbmRlY2llcztcbn1cblxuY29uc3QgcG9pbnRzUmVkdWNlciA9IChzdGF0ZSA9IGluaXRQb2ludHMoSU5JVElBTF9TVEFURSksIGFjdGlvbikgPT4ge1xuICBzd2l0Y2goIGFjdGlvbi50eXBlICkge1xuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4fSAgPSBkYXRhLFxuICAgICAgICAgICAgb2xkUG9pbnQgPSBzdGF0ZVtpbmRleF0sXG4gICAgICAgICAgICBuZXdTdGF0ZSA9IFsgLi4uc3RhdGUgXTtcblxuICAgICAgbmV3U3RhdGVbIGRhdGEuaW5kZXggXSA9IHsgLi4ub2xkUG9pbnQsIHRlbXBYOiBkYXRhLngsIHRlbXBZOiBkYXRhLnkgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBjb25zdCBpbmRleCAgICA9IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAgb2xkUG9pbnQgPSBzdGF0ZVtpbmRleF0sXG4gICAgICAgICAgICBuZXdTdGF0ZSA9IFsgLi4uc3RhdGUgXTtcblxuICAgICAgbmV3U3RhdGVbIGluZGV4IF0gPSB7XG4gICAgICAgICAgLi4ub2xkUG9pbnQsXG4gICAgICAgICAgeDogb2xkUG9pbnQueCArIG9sZFBvaW50LnRlbXBYLFxuICAgICAgICAgIHk6IG9sZFBvaW50LnkgKyBvbGRQb2ludC50ZW1wWSxcbiAgICAgICAgICB0ZW1wWDogMCwgdGVtcFk6IDBcbiAgICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgICAgICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXgsIGlzRGVzZWxlY3R9ID0gZGF0YSxcbiAgICAgICAgICAgIG5ld1N0YXRlICAgICAgICAgICAgPSAoaXNEZXNlbGVjdCkgPyBkZXNsZWN0QWxsKCBzdGF0ZSApIDogWyAuLi5zdGF0ZSBdO1xuICAgICAgXG4gICAgICBjb25zdCBwb2ludCA9IG5ld1N0YXRlW2luZGV4XTtcbiAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0FERCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7eCwgeSwgaW5kZXh9ID0gZGF0YSxcbiAgICAgICAgICAgIGRlc2VsZWN0ZWQgPSBkZXNsZWN0QWxsKCBzdGF0ZSApO1xuXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IFtcbiAgICAgICAgLi4uZGVzZWxlY3RlZC5zbGljZSggMCwgaW5kZXggKSxcbiAgICAgICAgbWFrZVBvaW50KHsgeCwgeSwgaXNTZWxlY3RlZDogdHJ1ZSB9KSxcbiAgICAgICAgLi4uZGVzZWxlY3RlZC5zbGljZSggaW5kZXggKVxuICAgICAgXTtcblxuICAgICAgcmV0dXJuIGluaXRQb2ludHMoIG5ld1N0YXRlICk7XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFTEVURSc6IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoc3RhdGUpO1xuXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gc3RhdGVbaV07XG4gICAgICAgICggc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFggKSAmJiBuZXdTdGF0ZS5wdXNoKCBpdGVtICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoc3RhdGUpO1xuXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gc3RhdGVbaV07XG4gICAgICAgIGNvbnN0IHR5cGUgPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBzdGF0ZVxuICAgICAgICBuZXdTdGF0ZS5wdXNoKCB7IC4uLml0ZW0gfSApO1xuICAgICAgICAvLyBpZiBpdGVtIHdhcyBzZWxlY3RlZCAtIHNldCB0aGUgbmV3IGB0eXBlYFxuICAgICAgICAoIHNlbGVjdGVkLmluZGV4T2YoaSkgIT09IC0xICkgJiYgKG5ld1N0YXRlW2ldLnR5cGUgPSB0eXBlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXdTdGF0ZVtpbmRleF07XG4gICAgICAgIGNvbnN0IHNpYlBvaW50ID0gKGluZGV4ID09PSBuZXdTdGF0ZS5sZW5ndGgtMSlcbiAgICAgICAgICAgICAgICA/IG5ld1N0YXRlW2luZGV4LTFdIDogbmV3U3RhdGVbaW5kZXgrMV07XG5cbiAgICAgICAgY29uc3QgaGFuZGxlSW5kZXggPSAoaW5kZXggPT09IG5ld1N0YXRlLmxlbmd0aC0xKSA/IDEgOiAyO1xuICAgICAgICBjb25zdCBzaWJIYW5kbGVJbmRleCA9IChoYW5kbGVJbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgY29uc3QgaGFuZGxlTmFtZSA9IGBoYW5kbGUke2hhbmRsZUluZGV4fWA7XG4gICAgICAgIGNvbnN0IHNpYkhhbmRsZU5hbWUgPSBgaGFuZGxlJHtzaWJIYW5kbGVJbmRleH1gO1xuICAgICAgICBjb25zdCBoYW5kbGUgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH07XG4gICAgICAgIGNvbnN0IHNpYkhhbmRsZSA9IHsgLi4ucG9pbnRbc2liSGFuZGxlTmFtZV0gfTtcbiAgICAgICAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG4gICAgICAgIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXG4gICAgICAgIGlmICggdHlwZSA9PT0gJ21pcnJvcmVkJyB8fCB0eXBlID09PSAnYXN5bW1ldHJpYycgKSB7XG4gICAgICAgICAgc2liSGFuZGxlLmFuZ2xlID0gaGFuZGxlLmFuZ2xlIC0gMTgwO1xuICAgICAgICAgIGlmICggdHlwZSA9PT0gJ21pcnJvcmVkJyApIHsgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7IH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgXG4gICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzoge1xuICAgICAgcmV0dXJuIGRlc2xlY3RBbGwoIHN0YXRlICk7XG4gICAgfVxuXG5cbiAgICAvLyBIQU5ETEVTXG4gICAgY2FzZSAnSEFORExFX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbjtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IFsuLi5zdGF0ZV07XG4gICAgICBjb25zdCBuZXdQb2ludCA9IHsgLi4ubmV3U3RhdGVbZGF0YS5wYXJlbnRJbmRleF0gfTtcbiAgICAgIG5ld1N0YXRlW2RhdGEucGFyZW50SW5kZXhdID0gbmV3UG9pbnQ7XG4gICAgICAvLyBjcmVhdGUgaGFuZGxlIGFuZCBjb3B5IGl0IGludG8gdGhlIG5ldyBwb2ludFxuICAgICAgY29uc3QgaGFuZGxlTmFtZSA9IGBoYW5kbGUke2RhdGEuaW5kZXh9YDtcbiAgICAgIGNvbnN0IG5ld0hhbmRsZSA9IHsgLi4ubmV3UG9pbnRbaGFuZGxlTmFtZV0gfTtcbiAgICAgIG5ld1BvaW50WyBoYW5kbGVOYW1lIF0gPSBuZXdIYW5kbGU7XG4gICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG4gICAgICBuZXdIYW5kbGUuYW5nbGUgID0gZGF0YS5hbmdsZTtcbiAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBkYXRhLnJhZGl1cztcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50c1JlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gcmVxdWlyZShcIi4uL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxudmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMTY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZyb207XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBjYWxsICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJylcbiAgLCB0b0xlbmd0aCAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKVxuICAsIGdldEl0ZXJGbiAgICAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcbiAgICB2YXIgTyAgICAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcbiAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcbiAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgbWFwZm4gICA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG4gICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4gKiogbW9kdWxlIGlkID0gMTY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjICAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBpbmRleCwgdmFsdWUpe1xuICBpZihpbmRleCBpbiBvYmplY3QpJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4gKiogbW9kdWxlIGlkID0gMTcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gMTczXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5jb25zdCBmYWxsYmFjayA9ICggdmFsdWUsIGZhbGxiYWNrICkgPT4ge1xuICByZXR1cm4gKCB2YWx1ZSAhPSBudWxsICkgPyB2YWx1ZSA6IGZhbGxiYWNrO1xufVxuXG5cbmNvbnN0IG1ha2VIYW5kbGVQb2ludCA9IChvPXt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6ICAgIGZhbGxiYWNrKCBvLmluZGV4LCAwICksXG4gICAgLy8gY29vcmRpbmF0ZXNcbiAgICBhbmdsZTogICAgZmFsbGJhY2soIG8uYW5nbGUsICBudWxsICksXG4gICAgcmFkaXVzOiAgIGZhbGxiYWNrKCBvLnJhZGl1cywgbnVsbCApLFxuICAgIC8vIHN0YXRlXG4gICAgaXNUb3VjaGVkOiAgZmFsbGJhY2soIG8uaXNUb3VjaGVkLCBmYWxzZSApLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKCBvLmlzU2VsZWN0ZWQsIGZhbHNlICksXG4gIH07XG59XG5cbmNvbnN0IG1ha2VQb3NpdGlvblBvaW50ID0gKG89e30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICAvLyBjb29yZGluYXRlc1xuICAgIHg6ICAgIGZhbGxiYWNrKCBvLngsIDAgKSxcbiAgICB5OiAgICBmYWxsYmFjayggby55LCAwICksXG4gICAgLy8gdGVtcG9yYXJ5IGNvb3JkaW5hdGVzICh3aGVuIHVzZXIgbW92ZXMgdGhlIHBvaW50KSAtXG4gICAgLy8gc2hvdWxkIG5vdCBiZSBpbiBoaXN0b3J5XG4gICAgdGVtcFg6IGZhbGxiYWNrKCBvLnRlbXBYLCAwICksXG4gICAgdGVtcFk6IGZhbGxiYWNrKCBvLnRlbXBZLCAwICksXG4gICAgLy8gc3RhdGVcbiAgICBpc1RvdWNoZWQ6ICBmYWxsYmFjayggby5pc1RvdWNoZWQsIGZhbHNlICksXG4gICAgaXNTZWxlY3RlZDogZmFsbGJhY2soIG8uaXNTZWxlY3RlZCwgZmFsc2UgKSxcbiAgfTtcbn1cblxuY29uc3QgbWFrZVBvaW50ID0gKG8gPSB7fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIHN0YXRlXG4gICAgLy8gaXNPbmVIYW5kbGU6IGZhbGxiYWNrKCBvLmlzT25lSGFuZGxlLCBmYWxzZSApLFxuICAgIGlzTG9ja2VkWDogICBmYWxsYmFjayggby5pc0xvY2tlZFgsIGZhbHNlICksXG4gICAgaXNMb2NrZWRZOiAgIGZhbGxiYWNrKCBvLmlzTG9ja2VkWSwgZmFsc2UgKSxcbiAgICAvLyB0eXBlIG9mIHRoZSBwb2ludDpcbiAgICAvLyAgICdzdHJhaWdodCcgfHwgJ21pcnJvcmVkJyB8fCAnZGlzY29ubmVjdGVkJyB8fCAnYXN5bWV0cmljJ1xuICAgIHR5cGU6ICAgICAgIGZhbGxiYWNrKCBvLnR5cGUsICdzdHJhaWdodCcgKSxcbiAgICAvLyBhZGQgcG9zaXRpb24gYXR0cmlidXRlcyB0byBzZWxmXG4gICAgLi4ubWFrZVBvc2l0aW9uUG9pbnQobyksXG4gICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcbiAgICBoYW5kbGUxOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUxIHx8IHsgaW5kZXg6IDEgfSksXG4gICAgaGFuZGxlMjogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMiB8fCB7IGluZGV4OiAyIH0pXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VQb2ludDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL21ha2UtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJcbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIGlzU2hvdzogZmFsc2UsXG4gIHR5cGU6ICAgJ3N0cmFpZ2h0J1xufVxuXG5jb25zdCBwb2ludENvbnRyb2xzID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAvLyBwcm9iYWJseSByZWR1bmRhbnRcbiAgICAvLyBjYXNlICdQT0lOVF9BREQnOiB7XG4gICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG4gICAgLy8gfVxuICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogIWFjdGlvbi5pc0Rlc2VsZWN0LCB0eXBlIH07XG4gICAgfVxuICAgIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHR5cGU6IGFjdGlvbi5kYXRhIH07IFxuICAgIH1cbiAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiBmYWxzZSB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50Q29udHJvbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcG9pbnQtY29udHJvbHMtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsImV4cG9ydCB7IENvbXBvbmVudCwgaCBhcyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncHJlYWN0JztcblxuZXhwb3J0IGNvbnN0IENoaWxkcmVuID0ge1xuXHRvbmx5KGNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdIHx8IG51bGw7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIHByb3B0eXBlKCkge31cbnByb3B0eXBlLmlzUmVxdWlyZWQgPSBwcm9wdHlwZTtcblxuZXhwb3J0IGNvbnN0IFByb3BUeXBlcyA9IHtcblx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdGZ1bmM6IHByb3B0eXBlLFxuXHRzaGFwZTogKCkgPT4gcHJvcHR5cGVcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9zcmMvY29tcGF0LmpzXG4gKiovIiwiLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpXG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd2FybmluZy5qc1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgUHJvcFR5cGVzLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0b3JlU2hhcGUgZnJvbSAnLi4vdXRpbHMvc3RvcmVTaGFwZSdcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5cbmxldCBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlXG5mdW5jdGlvbiB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpIHtcbiAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlXG5cbiAgd2FybmluZyhcbiAgICAnPFByb3ZpZGVyPiBkb2VzIG5vdCBzdXBwb3J0IGNoYW5naW5nIGBzdG9yZWAgb24gdGhlIGZseS4gJyArXG4gICAgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArXG4gICAgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgK1xuICAgICdhdXRvbWF0aWNhbGx5LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3QtcmVkdXgvcmVsZWFzZXMvJyArXG4gICAgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLidcbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxuICAgIHRoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gQ2hpbGRyZW4ub25seShjaGlsZHJlbilcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICBjb25zdCB7IHN0b3JlIH0gPSB0aGlzXG4gICAgY29uc3QgeyBzdG9yZTogbmV4dFN0b3JlIH0gPSBuZXh0UHJvcHNcblxuICAgIGlmIChzdG9yZSAhPT0gbmV4dFN0b3JlKSB7XG4gICAgICB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpXG4gICAgfVxuICB9XG59XG5cblByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgc3RvcmU6IHN0b3JlU2hhcGUuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWRcbn1cblByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICBzdG9yZTogc3RvcmVTaGFwZS5pc1JlcXVpcmVkXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKVxuICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpXG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBjb25zdCBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKG9iakIsIGtleXNBW2ldKSB8fFxuICAgICAgICBvYmpBW2tleXNBW2ldXSAhPT0gb2JqQltrZXlzQVtpXV0pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zaGFsbG93RXF1YWwuanNcbiAqKi8iLCJpbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tICdyZWR1eCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd3JhcEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzLmpzXG4gKiovIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgc3RvcmVTaGFwZSBmcm9tICcuLi91dGlscy9zdG9yZVNoYXBlJ1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICcuLi91dGlscy9zaGFsbG93RXF1YWwnXG5pbXBvcnQgd3JhcEFjdGlvbkNyZWF0b3JzIGZyb20gJy4uL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycydcbmltcG9ydCB3YXJuaW5nIGZyb20gJy4uL3V0aWxzL3dhcm5pbmcnXG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICdsb2Rhc2gvaXNQbGFpbk9iamVjdCdcbmltcG9ydCBob2lzdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCdcblxuY29uc3QgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7fSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuY29uc3QgZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyA9IGRpc3BhdGNoID0+ICh7IGRpc3BhdGNoIH0pXG5jb25zdCBkZWZhdWx0TWVyZ2VQcm9wcyA9IChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykgPT4gKHtcbiAgLi4ucGFyZW50UHJvcHMsXG4gIC4uLnN0YXRlUHJvcHMsXG4gIC4uLmRpc3BhdGNoUHJvcHNcbn0pXG5cbmZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnXG59XG5cbmxldCBlcnJvck9iamVjdCA9IHsgdmFsdWU6IG51bGwgfVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIGN0eCkge1xuICB0cnkge1xuICAgIHJldHVybiBmbi5hcHBseShjdHgpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnJvck9iamVjdC52YWx1ZSA9IGVcbiAgICByZXR1cm4gZXJyb3JPYmplY3RcbiAgfVxufVxuXG4vLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxubGV0IG5leHRWZXJzaW9uID0gMFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpXG4gIGNvbnN0IG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHNcblxuICBsZXQgbWFwRGlzcGF0Y2hcbiAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBtYXBEaXNwYXRjaCA9IG1hcERpc3BhdGNoVG9Qcm9wc1xuICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcbiAgICBtYXBEaXNwYXRjaCA9IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHNcbiAgfSBlbHNlIHtcbiAgICBtYXBEaXNwYXRjaCA9IHdyYXBBY3Rpb25DcmVhdG9ycyhtYXBEaXNwYXRjaFRvUHJvcHMpXG4gIH1cblxuICBjb25zdCBmaW5hbE1lcmdlUHJvcHMgPSBtZXJnZVByb3BzIHx8IGRlZmF1bHRNZXJnZVByb3BzXG4gIGNvbnN0IHsgcHVyZSA9IHRydWUsIHdpdGhSZWYgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICBjb25zdCBjaGVja01lcmdlZEVxdWFscyA9IHB1cmUgJiYgZmluYWxNZXJnZVByb3BzICE9PSBkZWZhdWx0TWVyZ2VQcm9wc1xuXG4gIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG4gIGNvbnN0IHZlcnNpb24gPSBuZXh0VmVyc2lvbisrXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgY29uc3QgY29ubmVjdERpc3BsYXlOYW1lID0gYENvbm5lY3QoJHtnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KX0pYFxuXG4gICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG4gICAgICBpZiAoIWlzUGxhaW5PYmplY3QocHJvcHMpKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgYCR7bWV0aG9kTmFtZX0oKSBpbiAke2Nvbm5lY3REaXNwbGF5TmFtZX0gbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QuIGAgK1xuICAgICAgICAgIGBJbnN0ZWFkIHJlY2VpdmVkICR7cHJvcHN9LmBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuICAgICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBmaW5hbE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjaGVja1N0YXRlU2hhcGUobWVyZ2VkUHJvcHMsICdtZXJnZVByb3BzJylcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wc1xuICAgIH1cblxuICAgIGNsYXNzIENvbm5lY3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWRcbiAgICAgIH1cblxuICAgICAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIGNvbnRleHQpXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb25cbiAgICAgICAgdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlIHx8IGNvbnRleHQuc3RvcmVcblxuICAgICAgICBpbnZhcmlhbnQodGhpcy5zdG9yZSxcbiAgICAgICAgICBgQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciBgICtcbiAgICAgICAgICBgcHJvcHMgb2YgXCIke2Nvbm5lY3REaXNwbGF5TmFtZX1cIi4gYCArXG4gICAgICAgICAgYEVpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sIGAgK1xuICAgICAgICAgIGBvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIiR7Y29ubmVjdERpc3BsYXlOYW1lfVwiLmBcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHsgc3RvcmVTdGF0ZSB9XG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG5cbiAgICAgIGNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcFN0YXRlKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuICAgICAgICBjb25zdCBzdGF0ZVByb3BzID0gdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID9cbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBwcm9wcykgOlxuICAgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHNcbiAgICAgIH1cblxuICAgICAgY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbWFwcGVkU3RhdGUgPSBtYXBTdGF0ZShzdG9yZS5nZXRTdGF0ZSgpLCBwcm9wcylcbiAgICAgICAgY29uc3QgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZFN0YXRlID09PSAnZnVuY3Rpb24nXG5cbiAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGVcbiAgICAgICAgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcy5sZW5ndGggIT09IDFcblxuICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkU3RhdGUsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWRTdGF0ZVxuICAgICAgfVxuXG4gICAgICBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSBzdG9yZVxuICAgICAgICBjb25zdCBkaXNwYXRjaFByb3BzID0gdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID9cbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOlxuICAgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpXG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHNcbiAgICAgIH1cblxuICAgICAgY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpXG4gICAgICAgIGNvbnN0IGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJ1xuXG4gICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWREaXNwYXRjaCA6IG1hcERpc3BhdGNoXG4gICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxXG5cbiAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2hcbiAgICAgIH1cblxuICAgICAgdXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICBjb25zdCBuZXh0U3RhdGVQcm9wcyA9IHRoaXMuY29tcHV0ZVN0YXRlUHJvcHModGhpcy5zdG9yZSwgdGhpcy5wcm9wcylcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dERpc3BhdGNoUHJvcHMgPSB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICBjb25zdCBuZXh0TWVyZ2VkUHJvcHMgPSBjb21wdXRlTWVyZ2VkUHJvcHModGhpcy5zdGF0ZVByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLm1lcmdlZFByb3BzICYmIGNoZWNrTWVyZ2VkRXF1YWxzICYmIHNoYWxsb3dFcXVhbChuZXh0TWVyZ2VkUHJvcHMsIHRoaXMubWVyZ2VkUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbmV4dE1lcmdlZFByb3BzXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnVuc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nXG4gICAgICB9XG5cbiAgICAgIHRyeVN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKHNob3VsZFN1YnNjcmliZSAmJiAhdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKVxuICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnlVbnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKClcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpXG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMudHJ5VW5zdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuXG4gICAgICBjbGVhckNhY2hlKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbFxuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IG51bGxcbiAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGxcbiAgICAgIH1cblxuICAgICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICBpZiAoIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgY29uc3QgcHJldlN0b3JlU3RhdGUgPSB0aGlzLnN0YXRlLnN0b3JlU3RhdGVcbiAgICAgICAgaWYgKHB1cmUgJiYgcHJldlN0b3JlU3RhdGUgPT09IHN0b3JlU3RhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdXJlICYmICF0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMpIHtcbiAgICAgICAgICBjb25zdCBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcylcbiAgICAgICAgICBpZiAoIWhhdmVTdGF0ZVByb3BzQ2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gZXJyb3JPYmplY3QudmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0b3JlU3RhdGUgfSlcbiAgICAgIH1cblxuICAgICAgZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuICAgICAgICBpbnZhcmlhbnQod2l0aFJlZixcbiAgICAgICAgICBgVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGAgK1xuICAgICAgICAgIGB7IHdpdGhSZWY6IHRydWUgfSBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IG9mIHRoZSBjb25uZWN0KCkgY2FsbC5gXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gdGhpcy5yZWZzLndyYXBwZWRJbnN0YW5jZVxuICAgICAgfVxuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkLFxuICAgICAgICAgIGhhc1N0b3JlU3RhdGVDaGFuZ2VkLFxuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQsXG4gICAgICAgICAgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IsXG4gICAgICAgICAgcmVuZGVyZWRFbGVtZW50XG4gICAgICAgIH0gPSB0aGlzXG5cbiAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsXG5cbiAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3JcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWVcbiAgICAgICAgaWYgKHB1cmUgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IChcbiAgICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzXG4gICAgICAgICAgKVxuICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPVxuICAgICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHNcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSBmYWxzZVxuICAgICAgICBsZXQgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQpIHtcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXBkYXRlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIHx8XG4gICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8XG4gICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZFxuICAgICAgICApIHtcbiAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2l0aFJlZikge1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi50aGlzLm1lcmdlZFByb3BzLFxuICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsXG4gICAgICAgICAgICB0aGlzLm1lcmdlZFByb3BzXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZWRFbGVtZW50XG4gICAgICB9XG4gICAgfVxuXG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IGNvbm5lY3REaXNwbGF5TmFtZVxuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnRcbiAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IHtcbiAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG4gICAgfVxuICAgIENvbm5lY3QucHJvcFR5cGVzID0ge1xuICAgICAgc3RvcmU6IHN0b3JlU2hhcGVcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKClcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvY29ubmVjdC5qc1xuICoqLyIsImltcG9ydCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCBQcm9wVHlwZXMuc2hhcGUoe1xuICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBnZXRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3N0b3JlU2hhcGUuanNcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanNcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanNcbiAqKi8iLCIvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG5mdW5jdGlvbiBnZXRQcm90b3R5cGUodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZUdldFByb3RvdHlwZShPYmplY3QodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzXG4gKiovIiwidmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUoJy4vX2lzSG9zdE9iamVjdCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL2lzUGxhaW5PYmplY3QuanNcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgYXJpdHk6IHRydWVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcbiAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHsgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8a2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanNcbiAqKi8iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBOT0RFX0VOViA9IHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vaW52YXJpYW50L2ludmFyaWFudC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5LGh0bWx7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQ6I2ZmZjVlNH0qe2JveC1zaXppbmc6Ym9yZGVyLWJveH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBpbml0UG9pbnQgZnJvbSAnLi9pbml0LXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50cykgPT4ge1xuXG4gIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldLFxuICAgICAgICAgIHNpYlBvaW50ID0gKGkgPT09IHBvaW50cy5sZW5ndGgtMSlcbiAgICAgICAgICAgID8gcG9pbnRzW2ktMV0gOiBwb2ludHNbaSsxXSxcbiAgICAgICAgICBoYW5kbGVJbmRleCA9IChpID09PSBwb2ludHMubGVuZ3RoLTEpID8gMSA6IDI7XG5cbiAgICBuZXdQb2ludHMucHVzaCggaW5pdFBvaW50KCBwb2ludCwgc2liUG9pbnQsIGhhbmRsZUluZGV4ICkgKTtcbiAgfVxuICByZXR1cm4gbmV3UG9pbnRzO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvaW5pdC1wb2ludHMuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkgPT4ge1xuXG4gIHBvaW50ID0geyAuLi5wb2ludCB9O1xuXG4gIGNvbnN0IGhhbmRsZU5hbWUgICAgID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YCxcbiAgICAgICAgc2liSGFuZGxlSW5kZXggPSAoaGFuZGxlSW5kZXggPT09IDEpID8gMiA6IDEsXG4gICAgICAgIHNpYkhhbmRsZU5hbWUgID0gYGhhbmRsZSR7c2liSGFuZGxlSW5kZXh9YCxcbiAgICAgICAgaGFuZGxlICAgICAgICAgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH0sXG4gICAgICAgIHNpYkhhbmRsZSAgICAgID0geyAuLi5wb2ludFtzaWJIYW5kbGVOYW1lXSB9LFxuICAgICAgICB0eXBlICAgICAgICAgICA9IHBvaW50LnR5cGU7XG5cbiAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG4gIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXG4gIGlmICggaGFuZGxlLmFuZ2xlID09IG51bGwgfHwgaGFuZGxlLnJhZGl1cyA9PSBudWxsICkge1xuICAgIGhhbmRsZS5yYWRpdXMgPSA1MDtcblxuICAgIGNvbnN0IGR5ID0gKHNpYlBvaW50LnkgLSBwb2ludC55KSAvIEMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICBkeCA9IHNpYlBvaW50LnggLSBwb2ludC54O1xuICAgIFxuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbiggZHkvZHggKSAqICgxODAvTWF0aC5QSSkgLSA5MDtcbiAgICBpZiAoIGR4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuXG4gICAgaGFuZGxlLmFuZ2xlID0gYW5nbGU7XG4gICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG4gICAgc2liSGFuZGxlLmFuZ2xlICA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgfVxuXG4gIHJldHVybiBwb2ludDtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2luaXQtcG9pbnQuYmFiZWwuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9