!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+b+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===M&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===M&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=P[t];if(!n)return p;var r=function(e){return n.hot.active?P[e]?(P[e].parents.indexOf(t)<0&&P[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void I.push(t):M},addStatusHandler:function(t){I.push(t)},removeStatusHandler:function(t){var e=I.indexOf(t);e>=0&&I.splice(e,1)},data:x[t]};return e}function i(t){M=t;for(var e=0;e<I.length;e++)I[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);E={},A={},j={};for(var r=0;r<n.c.length;r++)A[n.c[r]]=!0;_=n.h,i("prepare"),g=e,y={};var o=0;c(o),"prepare"===M&&0===C&&0===T&&l()})}function u(t,e){if(A[t]&&E[t]){E[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y[n]=e[n]);0===--T&&0===C&&l()}}function c(t){A[t]?(E[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=P[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=P[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=y[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];P[f]&&P[f].hot._selfAccepted&&h.push({module:f,errorHandler:P[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=P[f];if(m){for(var I={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(I)}x[f]=I,m.hot.active=!1,delete P[f];for(var C=0;C<m.children.length;C++){var E=P[m.children[C]];if(E){var A=E.parents.indexOf(f);A>=0&&E.parents.splice(A,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=P[f],O=s[f],C=0;C<O.length;C++){var S=O[C],A=m.children.indexOf(S);A>=0&&m.children.splice(A,1)}i("apply"),b=_;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=P[f],O=s[f],N=[],v=0;v<O.length;v++){var S=O[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(k){D||(D=k)}}}for(var v=0;v<h.length;v++){var L=h[v],f=L.module;w=[f];try{p(f)}catch(k){if("function"==typeof L.errorHandler)try{L.errorHandler(k)}catch(k){D||(D=k)}else D||(D=k)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(P[e])return P[e].exports;var n=P[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,y,_,m=!0,b="a29b187a11600f68e189",x={},w=[],I=[],M="idle",T=0,C=0,j={},E={},A={},P={};return p.m=t,p.c=P,p.p="build/",p.h=function(){return b},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(5),s=r(a),u=n(42),c=r(u),l=n(43),f=r(l),p=n(47),d=n(48),h=n(65),v=r(h),g=n(169),y=r(g),_=n(114),m=r(_),b=n(193),x=r(b),w=n(194),I=r(w),M=n(202),T=r(M);n(195);var C=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,c["default"])(this,t),this._o=e,this._decalareDefaults(),this._extendDefaults(),this._vars(),this._render(),this._tryToRestore(),this._listenUnload(),this._subscribe()}return(0,f["default"])(t,[{key:"_decalareDefaults",value:function(){this._defaults={name:"mojs-curve-editor",isSaveState:!0}}},{key:"_extendDefaults",value:function(){this._props={};for(var t in this._defaults)this._props[t]=(0,I["default"])(this._o[t],this._defaults[t])}},{key:"_vars",value:function(){this.revision="1.0.0",this.store=(0,y["default"])(),this._easings=[],this._progressLines=[];var t=(0,I["default"])(this._o.name,this._defaults.name);t+=t===this._defaults.name?"":"__"+this._defaults.name,this._localStorage=t+"__"+(0,x["default"])(t)}},{key:"_render",value:function(){var t=this;document.addEventListener("DOMContentLoaded",function(){(0,d.render)((0,d.h)(p.Provider,{store:t.store},(0,d.h)(v["default"],{progressLines:t._progressLines})),document.body)})}},{key:"_listenUnload",value:function(){var t=this,e="onpagehide"in window?"pagehide":"beforeunload";window.addEventListener(e,function(){if(t._props.isSaveState){var e=(0,s["default"])({},t.store.getState());delete e.points.history,delete e.pointControls.history,e.progressLines.lines=[],localStorage.setItem(t._localStorage,(0,i["default"])(e))}else localStorage.removeItem(t._localStorage)})}},{key:"_tryToRestore",value:function(){var t=localStorage.getItem(this._localStorage);t?this.store.dispatch({type:"SET_STATE",data:JSON.parse(t)}):(this.store.dispatch({type:"POINT_ADD",data:{point:{x:0,y:m["default"].CURVE_SIZE,isLockedX:!0},index:0}}),this.store.dispatch({type:"POINT_ADD",data:{point:{x:100,y:0,isLockedX:!0},index:1}}))}},{key:"_subscribe",value:function(){this._compilePath(),this.store.subscribe(this._compilePath.bind(this))}},{key:"_compilePath",value:function(){var t=this.store.getState(),e=t.points.present,n=e.path;this._prevPath!==n&&(this._prevPath=n,this._easing=mojs.easing.path(n),this._fireOnChange(n))}},{key:"_fireOnChange",value:function(t){for(var e=0;e<this._easings.length;e++){var n=this._easings[e],r=n.options,o=n.easing,i=r.onChange;"function"==typeof i&&i(o,t),this._updateParent(o)}}},{key:"_updateParent",value:function(t){var e=t._parent;e&&e.setProgress?this._triggerParent(e):e.timeline?this._triggerParent(e.timeline):e.tween&&this._triggerParent(e.tween)}},{key:"_triggerParent",value:function(t){var e=.001,n=t.progress,r=n+e<1?n+e:n-e;t.setProgress(r),t.setProgress(n)}},{key:"getEasing",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=function(){var e=t._easings.length;return function(n){t._updateProgressLine(n,e,t._progressLines);var r=t._easings[e].options.transform;return r?r(t._easing(n)):t._easing(n)}}();return this.store.dispatch({type:"ADD_PROGRESS_LINE",data:{}}),this._easings.push({options:e,easing:n}),(0,T["default"])(function(){t._fireOnChange(t._prevPath)}),n}},{key:"_updateProgressLine",value:function(t,e,n){var r=n[e],o=this.store.getState();o.resize;r&&(r.style.left=100*t+"%")}}]),t}();e["default"]=C,window.MojsCurveEditor=C},function(t,e,n){t.exports={"default":n(3),__esModule:!0}},function(t,e,n){var r=n(4),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(6),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){n(8),t.exports=n(4).Object.assign},function(t,e,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(23)})},function(t,e,n){var r=n(10),o=n(4),i=n(11),a=n(13),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,_=d?o:o[e]||(o[e]={}),m=_[s],b=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in _||(f=l?b[c]:n[c],_[c]=d&&"function"!=typeof b[c]?n[c]:g&&l?i(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),o=n(22);t.exports=n(18)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15),o=n(17),i=n(21),a=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),o=n(10).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(24),o=n(39),i=n(40),a=n(41),s=n(28),u=Object.assign;t.exports=!u||n(19)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e,n){var r=n(25),o=n(38);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=n(27),i=n(31)(!1),a=n(35)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(28),o=n(30);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),o=n(32),i=n(34);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(33),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(36)("keys"),o=n(37);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(10),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(44),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(45),__esModule:!0}},function(t,e,n){n(46);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){!function(t,r){r(e,n(48),n(51))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||P,d=void 0;d="function"==typeof n?n:n?u(n):O;var h=r||S,g=o.pure,y=void 0===g||g,_=o.withRef,m=void 0!==_&&_,b=y&&h!==S,x=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=x,n.store=t.store||e.store,A(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&b&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){y&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!y||e!==t){if(y&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return A(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;y&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==x&&(this.version=x,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,y=function(t){function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);y.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},y.childContextTypes={store:v.isRequired};var _=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=_&&"object"==typeof _&&"default"in _?_["default"]:_,b=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),x=b&&"object"==typeof b&&"default"in b?b["default"]:b,w=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),I=w&&"object"==typeof w&&"default"in w?w["default"]:w,M=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=I,r=x,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=M&&"object"==typeof M&&"default"in M?M["default"]:M,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,E=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),A=E&&"object"==typeof E&&"default"in E?E["default"]:E,P=function(t){return{}},O=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=y,t.connect=f})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var y=i[g],_=!(c(y)||a(y)||y instanceof e);_&&!s(y)&&(y=String(y)),_&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=_)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function y(t,e){return t.nodeName(j(t),e||$)}function _(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function x(t,e,n,r,o){if(_(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=V(e.substring(2)),n?l[e]||t.addEventListener(e,I):l[e]&&t.removeEventListener(e,I),l[e]=n}else if("type"!==e&&!o&&e in t)w(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",V(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",V(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function w(t,e,n){try{t[e]=n}catch(r){}}function I(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function M(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||V(t.nodeName)===V(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function E(t){P(t);var e=V(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function A(t,e){var n=V(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return _(r),r.normalizedNodeName=n,r}function P(t){b(t),1===m(t)&&(_(t,M(t)),t._component=t._componentConstructor=null)}function O(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||O(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=y(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;E(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return X(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===V(l),i&&(st=!0),t){if(!C(t,l)){for(c=A(l,st);t.firstChild;)c.appendChild(t.firstChild);L(t)}}else c=A(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var y=0;y<h;y++){var _=c[y],m=g?(i=_._component)?i.__key:(i=_[tt])?i.key:null:null;m||0===m?(p++,f[m]=_):l[v++]=_}if(g)for(var y=0;y<g;y++){if(a=e[y],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[y]&&t.insertBefore(s,c[y]||null)}if(p)for(var y in f)f[y]&&(l[d=v++]=f[y]);d<v&&k(l)}function k(t,e){for(var n=t.length;n--;){var r=t[n];r&&L(r,e)}}function L(t,e){var n=t._component;n?Y(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||E(t),t.childNodes&&t.childNodes.length&&k(t.childNodes,e))}function R(t,e){var n=t[tt]||M(t);for(var r in n)e&&r in e||x(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||x(t,o,e[o],n[o],st)}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function F(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r;
}function U(t){t._dirty||(t._dirty=!0,h(t))}function B(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?U(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,_=v&&v.nextSibling,m=v&&v.parentNode,b=v&&v._component,x=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=y(s,l);var w,I,M=s&&s.nodeName;if(a(M)&&M.prototype.render){var T=x,C=j(s);T&&T.constructor===M?B(T,C,1,l):(w=T,T=F(M,C,l),T._parentComponent=t,t._component=T,B(T,C,0,l),G(T,1)),I=T.base}else{var E=v;w=x,w&&(E=t._component=null),(v||1===e)&&(E&&(E._component=null),I=S(E,s,l,o||!h))}if(v&&I!==v&&(m&&I!==m&&m.insertBefore(I,_||null),w||b!==t||x||!v.parentNode||(v._component=null,L(v))),w&&Y(w,!0),t.base=I,I){for(var A=t,P=t;P=P._parentComponent;)A=P;I._component=A,I._componentConstructor=A.constructor}}!h||o?(it.unshift(t),at||O()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function X(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(Y(o,!0),t=i=null),o=F(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),B(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,L(i))):(B(o,u,3,n,r),t=o.base),t}function Y(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?Y(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(b(n),z(t)),k(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},V=function(t){return W[t]||(W[t]=t.toLowerCase())},Q="undefined"!=typeof Promise&&Promise.resolve(),J=Q?function(t){Q.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),U(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(49).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(50).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(49).setImmediate,n(49).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(52),a=r(i),s=n(60),u=r(s),c=n(62),l=r(c),f=n(63),p=r(f),d=n(64),h=r(d),v=n(61),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(50))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){y===g&&(y=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,t)}finally{_=!1}for(var e=g=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],y=g,_=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(53),a=r(i),s=n(58),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(54),i=n(56),a=n(57),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(55),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(59)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var y=o(d,n);throw new Error(y)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(52),c=n(53),l=r(c),f=n(61),p=r(f)}).call(e,n(50))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(64),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(114),g=r(v),y=n(115),_=r(y),m=n(116),b=r(m),x=n(117),w=n(119),I=r(w),M=n(148),T=r(M),C=n(163),j=r(C),E=n(162),A=r(E),P=n(118),O=r(P);n(167);var S=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(147),e=this.context.store,r=e.getState(),o=this._getStyle(r),i=this.props;return(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(A["default"],null),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}),(0,h.h)(I["default"],{state:r,progressLines:i.progressLines}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,O["default"])(o,-1),i=(0,O["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-left-panel"),n=(0,b["default"])(new _["default"].Manager(e));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}),this._addKeyUp(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp.bind(this))}},{key:"_onKeyUp",value:function(t){var e=this.context.store;if(t.altKey)switch(t.which){case 90:return e.dispatch(x.ActionCreators.undo());case 88:return e.dispatch(x.ActionCreators.redo());case 68:return e.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=S},function(t,e,n){t.exports={"default":n(67),__esModule:!0}},function(t,e,n){n(68),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var r=n(41),o=n(69);n(70)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(26),o=n(41),i=n(35)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(9),o=n(4),i=n(19);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(72),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(73),i=r(o),a=n(92),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(74),__esModule:!0}},function(t,e,n){n(75),n(87),t.exports=n(91).f("iterator")},function(t,e,n){"use strict";var r=n(76)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(33),o=n(30);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e,n){"use strict";var r=n(78),o=n(9),i=n(79),a=n(13),s=n(26),u=n(80),c=n(81),l=n(85),f=n(69),p=n(86)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,_,m,b,x){c(n,e,_);var w,I,M,T=function(t){if(!d&&t in A)return A[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,E=!1,A=t.prototype,P=A[p]||A[h]||m&&A[m],O=P||T(m),S=m?j?T("entries"):O:void 0,D="Array"==e?A.entries||P:P;if(D&&(M=f(D.call(new t)),M!==Object.prototype&&(l(M,C,!0),r||s(M,p)||a(M,p,y))),j&&P&&P.name!==g&&(E=!0,O=function(){return P.call(this)}),r&&!x||!d&&!E&&A[p]||a(A,p,O),u[e]=O,u[C]=y,m)if(w={values:j?O:T(g),keys:b?O:T(v),entries:S},x)for(I in w)I in A||i(A,I,w[I]);else o(o.P+o.F*(d||E),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(13)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(82),o=n(22),i=n(85),a={};n(13)(a,n(86)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(15),o=n(83),i=n(38),a=n(35)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(20)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(84).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(14),o=n(15),i=n(24);t.exports=n(18)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){var r=n(14).f,o=n(26),i=n(86)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(36)("wks"),o=n(37),i=n(10).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(88);for(var r=n(10),o=n(13),i=n(80),a=n(86)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(89),o=n(90),i=n(80),a=n(27);t.exports=n(77)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(86)},function(t,e,n){t.exports={"default":n(93),__esModule:!0}},function(t,e,n){n(94),n(103),n(104),n(105),t.exports=n(4).Symbol},function(t,e,n){"use strict";var r=n(10),o=n(26),i=n(18),a=n(9),s=n(79),u=n(95).KEY,c=n(19),l=n(36),f=n(85),p=n(37),d=n(86),h=n(91),v=n(96),g=n(97),y=n(98),_=n(99),m=n(15),b=n(27),x=n(21),w=n(22),I=n(82),M=n(100),T=n(102),C=n(14),j=n(24),E=T.f,A=C.f,P=M.f,O=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",k=d("_hidden"),L=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),B=Object[N],G="function"==typeof O,X=r.QObject,Y=!X||!X[N]||!X[N].findChild,H=i&&c(function(){return 7!=I(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(B,e);r&&delete B[e],A(t,e,n),r&&t!==B&&A(B,e,r)}:A,Z=function(t){var e=F[t]=I(O[N]);return e._k=t,e},W=G&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},V=function(t,e,n){return t===B&&V(U,e,n),m(t),e=x(e,!0),m(n),o(F,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=I(n,{enumerable:w(0,!1)})):(o(t,k)||A(t,k,w(1,{})),t[k][e]=!0),H(t,e,n)):A(t,e,n)},Q=function(t,e){m(t);for(var n,r=y(e=b(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?I(t):Q(I(t),e)},q=function(t){var e=R.call(this,t=x(t,!0));return!(this===B&&o(F,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,k)&&this[k][t])||e)},K=function(t,e){if(t=b(t),e=x(e,!0),t!==B||!o(F,e)||o(U,e)){var n=E(t,e);return!n||!o(F,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=P(b(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=P(n?U:b(t)),i=[],a=0;r.length>a;)!o(F,e=r[a++])||n&&!o(B,e)||i.push(F[e]);return i};G||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,w(1,n))};return i&&Y&&H(B,t,{configurable:!0,set:e}),Z(t)},s(O[N],"toString",function(){return this._k}),T.f=K,C.f=V,n(101).f=M.f=$,n(40).f=q,n(39).f=tt,i&&!n(78)&&s(B,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=O(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),O[N][L]||n(13)(O[N],L,O[N].valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(37)("meta"),o=n(16),i=n(26),a=n(14).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(19)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(10),o=n(4),i=n(78),a=n(91),s=n(14).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(24),o=n(27);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(24),o=n(39),i=n(40);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(29);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(27),o=n(101).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(25),o=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(40),o=n(22),i=n(27),a=n(21),s=n(26),u=n(17),c=Object.getOwnPropertyDescriptor;e.f=n(18)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(96)("asyncIterator")},function(t,e,n){n(96)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(107),i=r(o),a=n(111),s=r(a),u=n(72),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(108),__esModule:!0}},function(t,e,n){n(109),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(110).set})},function(t,e,n){var r=n(16),o=n(15),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(11)(Function.call,n(102).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(112),__esModule:!0}},function(t,e,n){n(113);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(9);r(r.S,"Object",{create:n(82)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==_t?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(b(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(b(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return Mt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function E(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:Et?H:Ct?W:B)(t,A)}function A(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(Lt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=xt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),O(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=bt(c.x)>bt(c.y)?c.x:c.y,e.scale=a?U(a.pointers,r):1,e.rotation=a?F(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;_(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function O(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=k(u,c,l);r=f.x,o=f.y,n=bt(f.x)>bt(f.y)?f.x:f.y,i=L(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:xt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?zt:bt(t)>=bt(e)?t<0?Ft:Ut:e<0?Bt:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function F(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function U(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function B(){this.evEl=Qt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function X(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function Y(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Lt|Rt)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Nt|kt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return _(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Lt|Rt)&&delete r[a[o].identifier],o++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,Q.call(this,e)):t&(Lt|Rt)&&Q.call(this,e)}function Q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&be?"end":t&me?"move":t&_e?"start":""}function nt(t){return t==Gt?"down":t==Bt?"up":t==Ft?"left":t==Ut?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=E(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=M(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],yt=i.createElement("div"),_t="function",mt=Math.round,bt=Math.abs,xt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),It=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Mt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=M(o,"PointerEvent")!==s,Et=Ct&&Tt.test(navigator.userAgent),At="touch",Pt="pen",Ot="mouse",St="kinect",Dt=25,Nt=1,kt=2,Lt=4,Rt=8,zt=1,Ft=2,Ut=4,Bt=8,Gt=16,Xt=Ft|Ut,Yt=Bt|Gt,Ht=Xt|Yt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Nt,mousemove:kt,mouseup:Lt},Qt="mousedown",Jt="mousemove mouseup";p(B,j,{handler:function(t){var e=Vt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ot,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:kt,pointerup:Lt,pointercancel:Rt,pointerout:Rt},Kt={2:At,3:Pt,4:Ot,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==At,s=x(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Lt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(X,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(Lt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==At,o=n.pointerType==Ot;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=M(yt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Xt||a&&n&Yt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ye=1,_e=2,me=4,be=8,xe=be,we=16,Ie=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),x(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<be&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=be&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Ie)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ie|ye)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(xe|we|Ie)&&(this.state=ye),this.state=this.process(e),void(this.state&(_e|me|be|we)&&this.tryEmit(e))):(this.reset(),void(this.state=Ie))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(_e|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Lt?e|be:e&_e?e|me:_e:Ie}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Xt&&e.push(ve),t&Yt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Xt?(o=0===i?zt:i<0?Ft:Ut,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Bt:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&_e||!(this.state&_e)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&_e)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=xe,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return xe;return Ie},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===xe&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=xt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&_e)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Xt|Yt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Xt|Yt)?e=t.overallVelocity:n&Xt?e=t.overallVelocityX:n&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=xe,this.tryEmit()},e.interval,this),_e):xe}return Ie},failTimeout:function(){return this._timer=u(function(){this.state=Ie},this.options.interval,this),Ie},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Xt}],[it,{direction:Xt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Me=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&xe)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(_e|me|be)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(b(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:kt,INPUT_END:Lt,INPUT_CANCEL:Rt,STATE_POSSIBLE:ye,STATE_BEGAN:_e,STATE_CHANGED:me,STATE_ENDED:be,STATE_RECOGNIZED:xe,STATE_CANCELLED:we,STATE_FAILED:Ie,DIRECTION_NONE:zt,DIRECTION_LEFT:Ft,DIRECTION_RIGHT:Ut,DIRECTION_UP:Bt,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Xt,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:B,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:X,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:y,each:l,merge:It,extend:wt,assign:vt,inherit:p,bindFn:d,prefixed:M});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(w){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(w){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(w)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return x({},t,{history:t})}function d(t,e){return p(x({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||I.UNDO,redoType:e.redoType||I.REDO,jumpToPastType:e.jumpToPastType||I.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||I.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(x({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(x({},e,{present:g}));var y=e&&void 0!==e.present?e:n.history,_=s(y,g,n.limit);return r("after insert",{history:_,free:n.limit-a(_)}),i(),p(x({},e,_))}}}function y(){return function(t,e,n){return e!==n}}function _(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(t)}function b(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=y,e.includeAction=_,e.ifAction=m,e.excludeAction=b;var w=void 0,I=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:I.UNDO}},redo:function(){return{type:I.REDO}},jumpToFuture:function(t){return{type:I.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:I.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(120),a=r(i),s=n(139),u=r(s),c=n(147),l=function(t){var e=t.state,n=t.progressLines;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e,progressLines:n}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(121),g=(r(v),n(197)),y=r(g),_=n(122),m=r(_),b=n(118),x=r(b),w=n(114),I=r(w),M=n(115),T=r(M),C=n(116),j=r(C);n(136);var E=n(138),A=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=t.points.present.path,n=this._getStyle(t),r=this._renderPoints(t),o=this._renderSegments(t),i=this._renderProgressLines(t);return(0,h.h)("div",{className:E.curve},(0,h.h)("div",{id:"js-background",className:E.curve__background,style:n.background}),i,(0,h.h)("div",{className:E["curve__svg-wrapper"],style:n.transform},r,(0,h.h)("svg",{height:I["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none",id:"js-svg","class":E.curve__svg},(0,h.h)("path",{d:e,stroke:"#000000","stroke-opacity":"0.35","stroke-width":"4","vector-effect":"non-scaling-stroke",transform:"translate(.75,.75)",fill:"none"}),(0,h.h)("g",{id:"js-segments"}," ",o," "))))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,I["default"].CURVE_SIZE-n<I["default"].CURVE_SIZE&&(n=0),n=(0,x["default"])(n,-1);var o="transform: scaleX("+(I["default"].CURVE_SIZE+Math.max(r,0))/I["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present.points,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(m["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}},{key:"_renderSegments",value:function(t){for(var e=t.points.present.segments,n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)("path",{d:o.segmentString,"data-index":o.index,stroke:"white",fill:"none","stroke-width":"","vector-effect":"non-scaling-stroke","class":E["curve__svg-segment"]}))}return n}},{key:"_renderProgressLines",value:function(t){for(var e=t.progressLines,n=e.lines,r=[],o=n.length-1;o>=0;o--){var i=n[o];r.push((0,h.h)(y["default"],i))}return r}},{key:"_updateDomProgressLines",value:function(){var t=this.props.progressLines;t.length=0;for(var e=this.base.querySelectorAll('[data-component="progress-line"]'),n=0;n<e.length;n++)t[n]=e[n]}},{key:"componentDidUpdate",value:function(){this._updateDomProgressLines()}},{key:"componentDidMount",value:function(){this._updateDomProgressLines();var t=this.context.store,e=this.base.querySelector("#js-segments"),n=(0,j["default"])(new T["default"].Manager(e));n.add(new T["default"].Tap),n.on("tap",function(e){var n=e.srcEvent,r=n.target;if("path"===r.tagName.toLowerCase()){var o=n.offsetX,i=n.offsetY*I["default"].CURVE_PERCENT,a=parseInt(r.getAttribute("data-index"))+1;t.dispatch({type:"POINT_ADD",data:{point:{x:o,y:i},index:a},isRecord:!0}),t.dispatch({type:"POINT_SELECT",data:{index:a,type:"straight"}}),e.stopPropagation()}});var r=(this.base.querySelector("#js-svg"),(0,j["default"])(new T["default"].Manager(this.base)));r.add(new T["default"].Tap),r.on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})})}}]),e}(h.Component);e["default"]=A},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(123),g=r(v),y=n(124),_=r(y),m=n(116),b=r(m),x=n(131),w=r(x),I=n(115),M=r(I),T=n(132),C=r(T),j=n(118),E=(r(j),n(114)),A=r(E);n(133);var P=n(135),O=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?P["is-selected"]:"",o="straight"===e.type?P["is-hide-handles"]:"",i=this._getLittleHandles();return(0,h.h)("div",{className:P.point+" "+r+" "+o,style:this._getStyle(n),"data-component":"point"},(0,h.h)("div",{className:P.point__touch,id:"js-point-touch"}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,C["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(){var t=this.props,e=t.index,n=t.point,r=t.pointsCount,o=[];
return 0!==e&&o.push(this._createHandle(1,n)),e!==r-1&&o.push(this._createHandle(2,n)),o}},{key:"_createHandle",value:function(t,e){return(0,h.h)(_["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,w["default"])(o.x+i,5,1.5)-o.x},r=function(e){var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>A["default"].CURVE_SIZE+n.bottom&&(a=A["default"].CURVE_SIZE+n.bottom),(0,w["default"])(a,5*A["default"].CURVE_PERCENT,2*A["default"].CURVE_PERCENT)-o.y},o=this.base.querySelector("#js-point-touch"),i=(0,b["default"])(new M["default"].Manager(o));i.add(new M["default"].Pan({threshold:0})),i.on("pan",function(o){var i=t.props,a=(i.point,i.index);e.dispatch({type:"POINT_TRANSLATE",data:{x:n(o),y:r(o),index:a}}),o.stopPropagation()}).on("panend",function(n){var r=t.props,o=(r.point,r.index);e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),n.stopPropagation()}).on("tap",function(t){t.stopPropagation()}),(0,g["default"])(o,function(n){var r=t.props,o=r.point,i=r.index;e.dispatch({type:"POINT_SELECT",data:{index:i,isDeselect:!n.shiftKey,type:o.type}})})}}]),e}(h.Component);e["default"]=O},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",e):void 0!==window.ontouchstart?(t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)):t.addEventListener("mousedown",e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(66),s=r(a),u=n(42),c=r(u),l=n(43),f=r(l),p=n(71),d=r(p),h=n(106),v=r(h),g=n(48),y=n(121),_=r(y),m=n(125),b=r(m),x=n(114),w=(r(x),n(115)),I=r(w),M=n(116),T=r(M);n(126);var C=n(130),j=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:C["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":C["little-handle__point"],style:this._getPointStyle()},(0,g.h)("div",{className:C["little-handle__easy-touch"]})),(0,g.h)("div",{"class":C["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,T["default"])(new I["default"].Manager(this.base)),r=this.props.handle;n.add(new I["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=o.state,c=(0,_["default"])(r.angle,r.radius),l=c.y+n.deltaY,f=u.resize,p=c.x+n.deltaX/f.absScalerX,d=(0,b["default"])(p,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},d)}),"mirrored"===t.props.type){var h=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:h,parentIndex:s,radius:d.radius,angle:d.angle-180}})}if("asymmetric"===t.props.type){var v=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:v,parentIndex:s,radius:r.radius,angle:d.angle-180}})}n.stopPropagation()}).on("panend",function(t){e.dispatch({type:"HANDLE_TRANSLATE_END",isRecord:!0}),t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props,e=t.handle,n=t.state,r=n.resize,o=(0,_["default"])(e.angle,e.radius),i="transform: translate("+o.x*r.absScalerX+"px, "+o.y+"px) rotate("+e.angle+"deg)";return""+mojs.h.prefix.css+i+"; "+i}},{key:"_getLineStyle",value:function(){var t=this.props,e=t.handle,n=t.state,r=n.resize,o=(0,_["default"])(e.angle,e.radius),i=(0,b["default"])(o.x*r.absScalerX,o.y),a="transform: rotate("+i.angle+"deg) scaleY("+i.radius+")";return""+mojs.h.prefix.css+a+"; "+a}}]),e}(g.Component);e["default"]=j},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(127);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(127,function(){var e=n(127);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._little-handle_x1mg1_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_x1mg1_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__easy-touch_x1mg1_1{position:absolute;z-index:1;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_x1mg1_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=_++;n=y||(y=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={"little-handle":"_little-handle_x1mg1_3","little-handle__point":"_little-handle__point_x1mg1_1","little-handle__easy-touch":"_little-handle__easy-touch_x1mg1_1","little-handle__line":"_little-handle__line_x1mg1_1"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(134);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(134,function(){var e=n(134);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._point_14jnp_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5)}._point_14jnp_5 [data-component=little-handle]{display:none}._point__touch_14jnp_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_14jnp_5._is-selected_14jnp_31,._point_14jnp_5:hover{background:#ff512f}._point_14jnp_5._is-selected_14jnp_31 [data-component=little-handle]{display:block}._point_14jnp_5._is-hide-handles_14jnp_43 [data-component=little-handle]{display:none}",""])},function(t,e){t.exports={point:"_point_14jnp_5",point__touch:"_point__touch_14jnp_1","is-selected":"_is-selected_14jnp_31","is-hide-handles":"_is-hide-handles_14jnp_43"}},function(t,e,n){var r=n(137);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(137,function(){var e=n(137);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._curve_gvcrn_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_gvcrn_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_gvcrn_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_gvcrn_1{display:block;overflow:visible;width:100%}._curve__svg-segment_gvcrn_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_gvcrn_1:hover{stroke:#ff512f}",""])},function(t,e){t.exports={curve:"_curve_gvcrn_5",curve__background:"_curve__background_gvcrn_1","curve__svg-wrapper":"_curve__svg-wrapper_gvcrn_1",curve__svg:"_curve__svg_gvcrn_1","curve__svg-segment":"_curve__svg-segment_gvcrn_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(140),g=r(v),y=n(115),_=r(y),m=n(116),b=r(m),x=n(144);n(145);var w=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+x["resize-handle"],n=""+x["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t,"data-component":"resize-handle"},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,b["default"])(new _["default"].Manager(this.base));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(141);n(142);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(143);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(143,function(){var e=n(143);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(146);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(146,function(){var e=n(146);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1f8r5_4","curve-editor__left":"_curve-editor__left_1f8r5_1","curve-editor__right":"_curve-editor__right_1f8r5_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1f8r5_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1f8r5_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1f8r5_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(140),a=r(i),s=n(149),u=r(s),c=n(154),l=r(c),f=n(158),p=r(f),d=n(147),h=function(t){var e=t.state;return(0,o.h)("div",{className:d["curve-editor__left"],id:"js-left-panel"},(0,o.h)(u["default"],{state:e}),(0,o.h)(l["default"],null),(0,o.h)(p["default"],{state:e,className:d["curve-editor__anchor-buttons"]}),(0,o.h)("a",{className:d["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(150),g=r(v),y=n(116),_=r(y),m=n(115),b=r(m),x=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state;return(0,h.h)(g["default"],{shape:"code",isCheck:t.controls.isCode})}},{key:"componentDidMount",value:function(){var t=this.context.store,e=(0,_["default"])(new b["default"].Manager(this.base));e.add(new b["default"].Tap),e.on("tap",function(e){t.dispatch({type:"CODE_TAP"})})}}]),e}(h.Component);e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(115),v=r(h),g=n(48),y=n(140),_=r(y);n(151);var m=n(153),b=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.isCheck?m["is-checked"]:"";return(0,g.h)("div",{className:m["icon-button"]+" "+t,"data-component":"icon-button"},(0,g.h)(_["default"],{shape:this.props.shape}))}},{key:"componentDidMount",value:function(){var t=this;if("function"==typeof this.props.onTap){new v["default"](this.base).on("tap",function(e){t.props.onTap(e,t.props)})}}}]),e}(g.Component);e["default"]=b},function(t,e,n){var r=n(152);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(152,function(){var e=n(152);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._icon-button_6ysdi_4{position:relative;width:24px;height:24px;display:block;background:#3a0839;border-radius:3px;box-shadow:1px 1px 0 rgba(0,0,0,.15)}._icon-button_6ysdi_4 [data-component=icon]{position:absolute;left:50%;top:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._icon-button_6ysdi_4:hover{box-shadow:none}._icon-button_6ysdi_4:hover [data-component=icon]{-webkit-transform:translate(-52%,-52%);transform:translate(-52%,-52%)}._icon-button_6ysdi_4._is-checked_6ysdi_31,._icon-button_6ysdi_4:active{border-radius:3px;box-shadow:inset -1px -1px 0 hsla(0,0%,100%,.25),inset 1px 1px 1px rgba(0,0,0,.4)}._icon-button_6ysdi_4._is-checked_6ysdi_31 [data-component=icon],._icon-button_6ysdi_4:active [data-component=icon]{-webkit-transform:translate(-54%,-54%) scale(.95);transform:translate(-54%,-54%) scale(.95)}",""])},function(t,e){t.exports={"icon-button":"_icon-button_6ysdi_4","is-checked":"_is-checked_6ysdi_31"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=n(155);n(156),e["default"]=function(){return(0,r.h)("div",{className:o["icon-divider"],"data-component":"icon-divider"})}},function(t,e){t.exports={"icon-divider":"_icon-divider_ftask_3"}},function(t,e,n){var r=n(157);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(157,function(){var e=n(157);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._icon-divider_ftask_3{position:relative;margin:0 auto;width:16px;height:1px;display:block;background:hsla(0,0%,100%,.3);box-shadow:0 1px 0 rgba(0,0,0,.3)}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(150),g=r(v);n(159);var y=n(161),_=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.state,n=e.pointControls.present,r=n.isShow?y["is-show"]:"",o=t.className+" "+y["point-controls"]+" "+r,i=this._addButtons(n);return(0,h.h)("div",{className:o}," ",i," ")}},{key:"_onButtonTap",value:function(t){var e=this;return function(n){var r=e.context.store;r.dispatch({type:"POINT_CHANGE_TYPE",data:t,isRecord:!0})}}},{key:"_addButtons",value:function(t){for(var e=["straight","disconnected","mirrored","asymmetric"],n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)(g["default"],{shape:"point-"+o,isCheck:t.type===o,onTap:this._onButtonTap(o)}))}return n}}]),e}(h.Component);e["default"]=_},function(t,e,n){var r=n(160);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(160,function(){var e=n(160);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._point-controls_1xcu7_4{display:none}._point-controls_1xcu7_4 [data-component=icon-button]:after{content:'';position:absolute;width:3px;height:7.5px;background:#ff512f;border-top-right-radius:2px;border-bottom-right-radius:2px;left:-10px;top:50%;margin-top:-3.75px;display:none}._point-controls_1xcu7_4 [data-component=icon-button][class*=is-checked]:after,._point-controls_1xcu7_4._is-show_1xcu7_7{display:block}",""])},function(t,e){t.exports={"point-controls":"_point-controls_1xcu7_4","is-show":"_is-show_1xcu7_7"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'
}})};e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(139),a=r(i);n(164);var s=n(166);e["default"]=function(t){var e=t.state,n=e.points,r=e.controls,i=r.isCode?s["is-open"]:"",u=s["code-panel"]+" "+i;return(0,o.h)("div",{className:u},(0,o.h)("div",{className:s["code-panel__inner"]},(0,o.h)(a["default"],{type:"top"}),(0,o.h)("div",{className:s["code-panel__input-wrap"]},(0,o.h)("input",{className:s["code-panel__input-field"],type:"text",readonly:"readonly",value:n.present.path}))))}},function(t,e,n){var r=n(165);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(165,function(){var e=n(165);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._code-panel_nnb9p_3{position:absolute;left:10px;right:10px;bottom:100%;z-index:1;overflow:hidden;padding-top:16px;box-sizing:content-box}._code-panel_nnb9p_3 [data-component=resize-handle]{position:absolute;left:50%;bottom:100%}._code-panel__inner_nnb9p_1{border-radius:6px 6px 0 0;background:#3d1b3c;padding:4px 5px 5px;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:all .2s ease-out;transition:all .2s ease-out}._code-panel__input-wrap_nnb9p_1{border-radius:2px;background:#42103f;border:1px solid #9c829a;box-shadow:inset 2px 2px 0 rgba(0,0,0,.5)}._code-panel__input-field_nnb9p_1{display:block;background:transparent;color:#fff;font-size:9px;font-family:Arial,Helvetica,sans-serif;letter-spacing:.45px;font-weight:100;padding:0 .3em 0 .8em;border:none;width:100%;height:21px;white-space:nowrap;text-overflow:ellipsis}._code-panel_nnb9p_3 ::-moz-selection,.code-panel ::-moz-selection{background:#ff512f}._code-panel_nnb9p_3 ::selection{background:#ff512f}._code-panel_nnb9p_3._is-open_nnb9p_61 ._code-panel__inner_nnb9p_1{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(t,e){t.exports={"code-panel":"_code-panel_nnb9p_3","code-panel__inner":"_code-panel__inner_nnb9p_1","code-panel__input-wrap":"_code-panel__input-wrap_nnb9p_1","code-panel__input-field":"_code-panel__input-field_nnb9p_1","is-open":"_is-open_nnb9p_61"}},function(t,e,n){var r=n(168);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(168,function(){var e=n(168);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._curve-editor_1f8r5_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:rgba(58,8,58,.85);z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1f8r5_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px;cursor:move}._curve-editor__left_1f8r5_1 [data-component=icon-divider]{margin:10px auto}._curve-editor__right_1f8r5_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1f8r5_1{position:absolute}._curve-editor__resize-handle_1f8r5_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1f8r5_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1f8r5_1[data-type=bottom],._curve-editor__resize-handle_1f8r5_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1f8r5_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1f8r5_1{margin-top:10px}._curve-editor__anchor-buttons_1f8r5_1 [data-component=icon-button]{margin-bottom:5px}._curve-editor__mojs-logo_1f8r5_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1f8r5_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),i=n(170),a=r(i),s=function(){return(0,o.createStore)(a["default"])};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(51),s=n(117),u=r(s),c=n(171),l=r(c),f=n(173),p=r(f),d=n(190),h=r(d),v=n(191),g=r(v),y=n(201),_=r(y),m=n(192),b=r(m),x={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},w=(0,b["default"])((0,a.combineReducers)({resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},x)),controls:h["default"],pointControls:(0,u["default"])(g["default"],(0,i["default"])({},x)),progressLines:_["default"]}),["SET_STATE"],function(t,e){return e.data});e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(172),i=r(o),a=n(5),s=r(a),u=n(114),c=r(u),l={x:20,tempX:0,y:20,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT,absScalerX:1},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100,a.absScalerX=a.scalerX/c["default"].CURVE_PERCENT),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var y=e.data,_=y.x,m=y.y;return(0,s["default"])({},t,{tempX:_,tempY:m});case"EDITOR_TRANSLATE_END":var b=e.data,x=b.x,w=b.y;return x+=t.x,w+=t.y,(0,s["default"])({},t,{x:x,y:w,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(44),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(174),i=r(o),a=n(5),s=r(a),u=n(184),c=r(u),l=n(114),f=(r(l),n(185)),p=r(f),d=n(187),h=r(d),v={path:"",segments:[],points:[]},g=function(t){for(var e=(0,s["default"])({},t,{points:[]}),n=t.points,r=0;r<n.length;r++)e.points.push((0,s["default"])({},n[r],{isSelected:!1}));return e},y=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},_=function(){var t=arguments.length<=0||void 0===arguments[0]?v:arguments[0],e=arguments[1];switch(e.type){case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t.points,a=o[r],u=[].concat((0,i["default"])(o));return u[n.index]=(0,s["default"])({},a,{tempX:n.x,tempY:n.y}),(0,s["default"])({points:u},(0,h["default"])(u));case"POINT_TRANSLATE_END":var l=e.data,f=t.points,d=f[l],_=[].concat((0,i["default"])(f));return _[l]=(0,s["default"])({},d,{x:d.x+d.tempX,y:d.y+d.tempY,tempX:0,tempY:0}),(0,s["default"])({points:_},(0,h["default"])(_));case"POINT_SELECT":var m=e.data,b=m.index,x=m.isDeselect,w=x?g(t):(0,s["default"])({},t),I=w.points,M=I[b];return M.isSelected=!0,(0,s["default"])({},t,{points:I});case"POINT_ADD":var T=e.data,C=T.index,j=T.point,E=g(t),A=[].concat((0,i["default"])(E.points.slice(0,C)),[(0,c["default"])((0,s["default"])({},j))],(0,i["default"])(E.points.slice(C))),P=A.length>1?(0,p["default"])(A):A,O=P.length>1?(0,h["default"])(P):{};return(0,s["default"])({points:P},O);case"POINT_DELETE":for(var S=t.points,D=y(S),N=[],k=0;k<S.length;k++){var L=S[k];(D.indexOf(k)===-1||L.isLockedX)&&N.push(L)}return(0,s["default"])({points:N},(0,h["default"])(N));case"POINT_CHANGE_TYPE":for(var R=t.points,z=y(R),F=[],k=0;k<R.length;k++){var U=R[k],B=e.data;F.push((0,s["default"])({},U)),z.indexOf(k)!==-1&&(F[k].type=B);var G=k,X=F[G],Y=(G===F.length-1?F[G-1]:F[G+1],G===F.length-1?1:2),H=1===Y?2:1,Z="handle"+Y,W="handle"+H,V=(0,s["default"])({},X[Z]),Q=(0,s["default"])({},X[W]);X[Z]=V,X[W]=Q,"mirrored"!==B&&"asymmetric"!==B||(Q.angle=V.angle-180,"mirrored"===B&&(Q.radius=V.radius))}return(0,s["default"])({points:F},(0,h["default"])(F));case"POINT_DESELECT_ALL":return(0,s["default"])({},g(t));case"HANDLE_TRANSLATE":var J=t.points,q=e.data,K=[].concat((0,i["default"])(J)),$=(0,s["default"])({},K[q.parentIndex]);K[q.parentIndex]=$;var tt="handle"+q.index,et=(0,s["default"])({},$[tt]);return $[tt]=et,et.angle=q.angle,et.radius=q.radius,(0,s["default"])({points:K},(0,h["default"])(K));case"HANDLE_TRANSLATE_END":return t}return t};e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(175),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(176),__esModule:!0}},function(t,e,n){n(75),n(177),t.exports=n(4).Array.from},function(t,e,n){"use strict";var r=n(11),o=n(9),i=n(41),a=n(178),s=n(179),u=n(32),c=n(180),l=n(181);o(o.S+o.F*!n(183)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,_=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(p.length),n=new d(e);e>y;y++)c(n,y,g?v(p[y],y):p[y]);else for(f=_.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,g?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(15);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(80),o=n(86)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(14),o=n(22);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(182),o=n(86)("iterator"),i=n(80);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(29),o=n(86)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(86)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(186),i=r(o);e["default"]=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=n===t.length-1?t[n-1]:t[n+1],a=n===t.length-1?1:2;e.push((0,i["default"])(r,o,a))}return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(114),s=r(a);e["default"]=function(t,e,n){t=(0,i["default"])({},t);var r="handle"+n,o=1===n?2:1,a="handle"+o,u=(0,i["default"])({},t[r]),c=(0,i["default"])({},t[a]);t.type;if(t[r]=u,t[a]=c,null==u.angle||null==u.radius){u.radius=50;var l=(e.y-t.y)/s["default"].CURVE_PERCENT,f=e.x-t.x,p=Math.atan(l/f)*(180/Math.PI)-90;f>0&&(p-=180),u.angle=p,c.radius=u.radius,c.angle=u.angle-180}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(188),i=r(o);e["default"]=function(t){for(var e="",n=[],r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=(0,i["default"])(o,a,r);n.push(s),e+=s.string}return{path:e,segments:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=n(189),s=r(a);e["default"]=function(t,e,n){if(!e)return 1;var r="",o="",a=t.x+t.tempX,u=t.y+t.tempY,c=e.x+e.tempX,l=e.y+e.tempY,f="M"+a+", "+u/i["default"].CURVE_PERCENT+" ";0===n&&(r+=f),o+=f;var p=(0,s["default"])(t,2);r+=p,o+=p;var d=(0,s["default"])(e,1);r+=d,o+=d;var h=c+", "+l/i["default"].CURVE_PERCENT+" ";return r+=h,o+=h,{string:r,segmentString:o,index:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(121),i=r(o),a=n(114),s=r(a);e["default"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=t.x+t.tempX,r=t.y+t.tempY,o=t["handle"+e],a=2===e?"C":"";if("straight"!==t.type){var u=(0,i["default"])(o.angle,o.radius);return""+a+(n+u.x/s["default"].CURVE_PERCENT)+", "+(r+u.y)/s["default"].CURVE_PERCENT+" "}return""+a+n+", "+r/s["default"].CURVE_PERCENT+" "}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(187),s=(r(a),{isCode:!1}),u=function(){var t=arguments.length<=0||void 0===arguments[0]?s:arguments[0],e=arguments[1];switch(e.type){case"CODE_TAP":return(0,i["default"])({},t,{isCode:!t.isCode})}return t};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":var n=e.data.type;return(0,i["default"])({},t,{isShow:!e.isDeselect,type:n});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2],r="function"==typeof n?n:function(){return n};return function(n,o){return e.indexOf(o.type)>=0?t(r(n,o),{type:"@@redux-recycle/INIT"}):t(n,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e,n,r,o=0;if(0===t.length)return o;for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),o=(o<<5)-o+n,o|=0;return Math.abs(o)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return null!=t?t:e}},function(t,e,n){var r=n(196);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(196,function(){var e=n(196);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48);n(198);var v=n(200),g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e={backgroundColor:t.color};return(0,h.h)("div",{className:v["progress-line"],style:e,"data-component":"progress-line"})}}]),e}(h.Component);e["default"]=g},function(t,e,n){var r=n(199);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(129)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(199,function(){var e=n(199);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(128)(),e.push([t.id,"._progress-line_1j4pp_3{position:absolute;top:0;bottom:0;width:1px;margin-left:-1.5px}",""])},function(t,e){t.exports={"progress-line":"_progress-line_1j4pp_3"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(174),i=r(o),a=n(5),s=r(a),u={selected:0,lines:[]},c=function(t){var e=["#FF512F","#FF00C5","#00FF69","white","#1B8FE6","CYAN","YELLOW"];return e[t.length%e.length]},l=function(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]),e=t.lines;return{color:c(e),name:"easing"+(e.length+1)}},f=function(){var t=arguments.length<=0||void 0===arguments[0]?u:arguments[0],e=arguments[1];switch(e.type){case"ADD_PROGRESS_LINE":var n=(0,s["default"])({},t);return n.lines=[].concat((0,i["default"])(n.lines),[l(e.data,t)]),n;case"SET_SELECTED_PROGRESS_LINE":var r=e.index;return(0,s["default"])({},t,{selected:r})}return t};e["default"]=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){setTimeout(t,1)}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGEyOWIxODdhMTE2MDBmNjhlMTg5Iiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wYXQuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3N0b3JlU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9pbnZhcmlhbnQvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9oLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9saW5rZWQtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9kb20vcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQtcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jcmVhdGVTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX292ZXJBcmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3N5bWJvbC1vYnNlcnZhYmxlL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi91dGlscy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY29tcG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3IuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvY29uc3RhbnRzLmJhYmVsLmpzIiwid2VicGFjazovLy8uL34vaGFtbWVyanMvaGFtbWVyLmpzIiwid2VicGFjazovLy8uL34vcHJvcGFnYXRpbmctaGFtbWVyanMvcHJvcGFnYXRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC11bmRvL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yZXNpemUtbW9kLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1yaWdodC5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3BvaW50LmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9hZGQtcG9pbnRlci1kb3duLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2xpdHRsZS1oYW5kbGUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3M/MjcwNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcz9lZGM5Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3M/NWE1ZCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzP2JiYzEiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcz8xNjlhIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtYnV0dG9uLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3M/MzZjZSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24tZGl2aWRlci5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzP2IxYjAiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3BvaW50LWNvbnRyb2xzLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcz9jN2Q4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvaWNvbnMuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtcGFuZWwuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3M/YjRmNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3M/ZTgzYyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9pbmRleC1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1zZWdtZW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvY29udHJvbHMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnQtY29udHJvbHMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LXJlY3ljbGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2hhc2guYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvZmFsbGJhY2stdG8uYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzPzlhZGQiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3Byb2dyZXNzLWxpbmUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3M/ZDJkNyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcHJvZ3Jlc3Nlcy1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2RlZmVyLmJhYmVsLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwiaG90Q3VycmVudEhhc2giLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsImVuc3VyZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsImhvdENodW5rc0xvYWRpbmciLCJmaW5pc2hDaHVua0xvYWRpbmciLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJjYWxsIiwiZm4iLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImhvdEN1cnJlbnRQYXJlbnRzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiYWNjZXB0IiwiZGVwIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJpc051bWJlciIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdEF2YWlsaWJsZUZpbGVzTWFwIiwiYyIsImhvdFVwZGF0ZU5ld0hhc2giLCJoIiwiaG90Q2FsbGJhY2siLCJob3RVcGRhdGUiLCJob3RBZGRVcGRhdGVDaHVuayIsIm1vcmVNb2R1bGVzIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImdldEFmZmVjdGVkU3R1ZmYiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJwb3AiLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsInJlc3VsdCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJkaXNwb3NlSGFuZGxlcnMiLCJqIiwiY2IiLCJjaGlsZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsImVycm9yIiwiY2FsbGJhY2tzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9zdHJpbmdpZnkiLCJfc3RyaW5naWZ5MiIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2NyZWF0ZUNsYXNzMiIsIl9jcmVhdGVDbGFzczMiLCJfcHJlYWN0UmVkdXgiLCJfcHJlYWN0IiwiX2N1cnZlRWRpdG9yIiwiX2N1cnZlRWRpdG9yMiIsIl9zdG9yZSIsIl9zdG9yZTIiLCJfY29uc3RhbnRzIiwiX2NvbnN0YW50czIiLCJfaGFzaCIsIl9oYXNoMiIsIl9mYWxsYmFja1RvIiwiX2ZhbGxiYWNrVG8yIiwiX2RlZmVyIiwiX2RlZmVyMiIsIkFQSSIsIm8iLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfbyIsIl9kZWNhbGFyZURlZmF1bHRzIiwiX2V4dGVuZERlZmF1bHRzIiwiX3ZhcnMiLCJfcmVuZGVyIiwiX3RyeVRvUmVzdG9yZSIsIl9saXN0ZW5VbmxvYWQiLCJfc3Vic2NyaWJlIiwia2V5IiwiX2RlZmF1bHRzIiwiaXNTYXZlU3RhdGUiLCJfcHJvcHMiLCJyZXZpc2lvbiIsInN0b3JlIiwiX2Vhc2luZ3MiLCJfcHJvZ3Jlc3NMaW5lcyIsInN0ciIsIl9sb2NhbFN0b3JhZ2UiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJQcm92aWRlciIsInByb2dyZXNzTGluZXMiLCJib2R5IiwiX3RoaXMyIiwidW5sb2FkRXZlbnQiLCJ3aW5kb3ciLCJwcmVTdGF0ZSIsImdldFN0YXRlIiwicG9pbnRzIiwiaGlzdG9yeSIsInBvaW50Q29udHJvbHMiLCJsaW5lcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic3RvcmVkIiwiZ2V0SXRlbSIsImRpc3BhdGNoIiwicG9pbnQiLCJ5IiwiQ1VSVkVfU0laRSIsImlzTG9ja2VkWCIsImluZGV4IiwiX2NvbXBpbGVQYXRoIiwic3Vic2NyaWJlIiwiYmluZCIsInN0YXRlIiwicHJlc2VudCIsInBhdGgiLCJfcHJldlBhdGgiLCJfZWFzaW5nIiwibW9qcyIsImVhc2luZyIsIl9maXJlT25DaGFuZ2UiLCJyZWNvcmQiLCJvbkNoYW5nZSIsIl91cGRhdGVQYXJlbnQiLCJfcGFyZW50Iiwic2V0UHJvZ3Jlc3MiLCJfdHJpZ2dlclBhcmVudCIsInRpbWVsaW5lIiwidHdlZW4iLCJzdGVwIiwicHJvZ3Jlc3MiLCJ1cGRhdGVQcm9ncmVzcyIsIl90aGlzMyIsImZ1biIsImsiLCJfdXBkYXRlUHJvZ3Jlc3NMaW5lIiwidHJhbnNmb3JtIiwiZWwiLCJyZXNpemUiLCJzdHlsZSIsImxlZnQiLCJNb2pzQ3VydmVFZGl0b3IiLCJjb3JlIiwiJEpTT04iLCJzdHJpbmdpZnkiLCJpdCIsInZlcnNpb24iLCJfX2UiLCJfYXNzaWduIiwiX2Fzc2lnbjIiLCJ0YXJnZXQiLCJzb3VyY2UiLCJhc3NpZ24iLCIkZXhwb3J0IiwiUyIsIkYiLCJnbG9iYWwiLCJjdHgiLCJoaWRlIiwiUFJPVE9UWVBFIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsIkMiLCJGdW5jdGlvbiIsInZpcnR1YWwiLCJSIiwiVSIsIk1hdGgiLCJzZWxmIiwiX19nIiwiYUZ1bmN0aW9uIiwidGhhdCIsIlR5cGVFcnJvciIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImYiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJPIiwiQXR0cmlidXRlcyIsImlzT2JqZWN0IiwiZXhlYyIsImlzIiwidmFsIiwidG9TdHJpbmciLCJ2YWx1ZU9mIiwiYml0bWFwIiwid3JpdGFibGUiLCJnZXRLZXlzIiwiZ09QUyIsInBJRSIsInRvT2JqZWN0IiwiSU9iamVjdCIsIiRhc3NpZ24iLCJBIiwiU3ltYm9sIiwiSyIsInNwbGl0IiwiZm9yRWFjaCIsImtleXMiLCJqb2luIiwiVCIsImFMZW4iLCJnZXRTeW1ib2xzIiwiaXNFbnVtIiwiY29uY2F0IiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsImhhcyIsInRvSU9iamVjdCIsImFycmF5SW5kZXhPZiIsIklFX1BST1RPIiwibmFtZXMiLCJkZWZpbmVkIiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xlbmd0aCIsInRvSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwidG9JbnRlZ2VyIiwibWluIiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCJtYXgiLCJzaGFyZWQiLCJ1aWQiLCJTSEFSRUQiLCJweCIsInJhbmRvbSIsImdldE93blByb3BlcnR5U3ltYm9scyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIiRPYmplY3QiLCJkZXNjIiwicHJlYWN0IiwicmVkdXgiLCJfX2NvbW1vbmpzIiwicHJvcHR5cGUiLCJ3YXJuaW5nIiwibWVzc2FnZSIsIndhcm5BYm91dFJlY2VpdmluZ1N0b3JlIiwiZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUiLCJzaGFsbG93RXF1YWwiLCJvYmpBIiwib2JqQiIsImtleXNBIiwia2V5c0IiLCJoYXNPd24iLCJ3cmFwQWN0aW9uQ3JlYXRvcnMiLCJhY3Rpb25DcmVhdG9ycyIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImdldERpc3BsYXlOYW1lIiwiV3JhcHBlZENvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwidHJ5Q2F0Y2giLCJlcnJvck9iamVjdCIsImNvbm5lY3QiLCJtYXBTdGF0ZVRvUHJvcHMiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJtZXJnZVByb3BzIiwic2hvdWxkU3Vic2NyaWJlIiwiQm9vbGVhbiIsIm1hcFN0YXRlIiwiZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoIiwiZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyIsImZpbmFsTWVyZ2VQcm9wcyIsImRlZmF1bHRNZXJnZVByb3BzIiwiX29wdGlvbnMkcHVyZSIsInB1cmUiLCJfb3B0aW9ucyR3aXRoUmVmIiwid2l0aFJlZiIsImNoZWNrTWVyZ2VkRXF1YWxzIiwibmV4dFZlcnNpb24iLCJjaGVja1N0YXRlU2hhcGUiLCJtZXRob2ROYW1lIiwiaXNQbGFpbk9iamVjdCIsImNvbm5lY3REaXNwbGF5TmFtZSIsImNvbXB1dGVNZXJnZWRQcm9wcyIsInN0YXRlUHJvcHMiLCJkaXNwYXRjaFByb3BzIiwicGFyZW50UHJvcHMiLCJtZXJnZWRQcm9wcyIsIkNvbm5lY3QiLCJfQ29tcG9uZW50IiwiY29udGV4dCIsImJhYmVsSGVscGVycyIsImNsYXNzQ2FsbENoZWNrIiwicG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImludmFyaWFudCQxIiwic3RvcmVTdGF0ZSIsImNsZWFyQ2FjaGUiLCJpbmhlcml0cyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImhhdmVPd25Qcm9wc0NoYW5nZWQiLCJoYXNTdG9yZVN0YXRlQ2hhbmdlZCIsImNvbXB1dGVTdGF0ZVByb3BzIiwiZmluYWxNYXBTdGF0ZVRvUHJvcHMiLCJjb25maWd1cmVGaW5hbE1hcFN0YXRlIiwiZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyIsIm1hcHBlZFN0YXRlIiwiaXNGYWN0b3J5IiwiY29tcHV0ZURpc3BhdGNoUHJvcHMiLCJmaW5hbE1hcERpc3BhdGNoVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2giLCJkb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkRGlzcGF0Y2giLCJ1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQiLCJuZXh0U3RhdGVQcm9wcyIsInVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCIsIm5leHREaXNwYXRjaFByb3BzIiwidXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCIsIm5leHRNZXJnZWRQcm9wcyIsImlzU3Vic2NyaWJlZCIsInVuc3Vic2NyaWJlIiwidHJ5U3Vic2NyaWJlIiwiaGFuZGxlQ2hhbmdlIiwidHJ5VW5zdWJzY3JpYmUiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQiLCJzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciIsInJlbmRlcmVkRWxlbWVudCIsInByZXZTdG9yZVN0YXRlIiwiaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIiwic2V0U3RhdGUiLCJnZXRXcmFwcGVkSW5zdGFuY2UiLCJyZWZzIiwid3JhcHBlZEluc3RhbmNlIiwic2hvdWxkVXBkYXRlU3RhdGVQcm9wcyIsInNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMiLCJoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQiLCJoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkIiwicmVmIiwiQ29tcG9uZW50IiwiY29udGV4dFR5cGVzIiwic3RvcmVTaGFwZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJob2lzdFN0YXRpY3MiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiUmVmZXJlbmNlRXJyb3IiLCJDaGlsZHJlbiIsIm9ubHkiLCJpc1JlcXVpcmVkIiwiUHJvcFR5cGVzIiwiZWxlbWVudCIsImZ1bmMiLCJzaGFwZSIsImdldENoaWxkQ29udGV4dCIsIm5leHRTdG9yZSIsImNoaWxkQ29udGV4dFR5cGVzIiwiaXNPYmplY3RMaWtlIiwicmVxdWlyZSQkMCIsIl9pc0hvc3RPYmplY3QiLCJpc0hvc3RPYmplY3QiLCJyZXF1aXJlJCQxIiwiX2dldFByb3RvdHlwZSIsImdldFByb3RvdHlwZSIsIm5hdGl2ZUdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwicmVxdWlyZSQkMiIsIm9iamVjdFRvU3RyaW5nIiwib2JqZWN0VGFnIiwicHJvdG8iLCJDdG9yIiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsIm9iamVjdFByb3RvIiwiaXNQbGFpbk9iamVjdCQxIiwiUkVBQ1RfU1RBVElDUyIsImRlZmF1bHRQcm9wcyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsInByb3BUeXBlcyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJhcml0eSIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpbnZhcmlhbnQiLCJOT0RFX0VOViIsImNvbmRpdGlvbiIsImZvcm1hdCIsImQiLCJhcmdzIiwiYXJnSW5kZXgiLCJyZXBsYWNlIiwiZnJhbWVzVG9Qb3AiLCJzZXRJbW1lZGlhdGUiLCJWTm9kZSIsIm5vZGVOYW1lIiwiYXR0cmlidXRlcyIsImV4dGVuZCIsImNsb25lIiwiZGVsdmUiLCJ0b0FycmF5Iiwib2Zmc2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiZW1wdHkiLCJmYWxzZXkiLCJoYXNoVG9DbGFzc05hbWUiLCJwcm9wIiwiZmlyc3RDaGlsZCIsImFyciIsImxhc3RTaW1wbGUiLCJsZW4iLCJTdHJpbmciLCJfcCIsIlNIQVJFRF9URU1QX0FSUkFZIiwic2ltcGxlIiwiY2xhc3NOYW1lIiwidm5vZGUiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVMaW5rZWRTdGF0ZSIsImNvbXBvbmVudCIsImV2ZW50UGF0aCIsInAwIiwiX2NvbXBvbmVudCRzZXRTdGF0ZSIsInYiLCJ0IiwiY3VycmVudFRhcmdldCIsInMiLCJfY29tcG9uZW50IiwibWF0Y2giLCJjaGVja2VkIiwiZW5xdWV1ZVJlbmRlciIsIml0ZW1zIiwicmVyZW5kZXIiLCJjdXJyZW50SXRlbXMiLCJpdGVtc09mZmxpbmUiLCJpc0Z1bmN0aW9uYWxDb21wb25lbnQiLCJidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQiLCJnZXROb2RlUHJvcHMiLCJFTVBUWSIsImVuc3VyZU5vZGVEYXRhIiwibm9kZSIsIkFUVFJfS0VZIiwiZ2V0Tm9kZVR5cGUiLCJUZXh0IiwiRWxlbWVudCIsInJlbW92ZU5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRBY2Nlc3NvciIsIm9sZCIsImlzU3ZnIiwiY3NzVGV4dCIsIk5PTl9ESU1FTlNJT05fUFJPUFMiLCJpbm5lckhUTUwiLCJfX2h0bWwiLCJfbGlzdGVuZXJzIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJldmVudFByb3h5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFByb3BlcnR5IiwicmVtb3ZlQXR0cmlidXRlIiwibnMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJnZXRSYXdOb2RlQXR0cmlidXRlcyIsImF0dHJzIiwiaXNTYW1lTm9kZVR5cGUiLCJpc05hbWVkTm9kZSIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsIm5vcm1hbGl6ZWROb2RlTmFtZSIsImNvbGxlY3ROb2RlIiwiY2xlYW5Ob2RlIiwibGlzdCIsIm5vZGVzIiwiY3JlYXRlTm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImZsdXNoTW91bnRzIiwibW91bnRzIiwiZGlmZiIsImRvbSIsIm1vdW50QWxsIiwiZGlmZkxldmVsIiwicmV0IiwiaWRpZmYiLCJvcmlnaW5hbEF0dHJpYnV0ZXMiLCJub2RlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInN2Z01vZGUiLCJpc1N2Z01vZGUiLCJyZWNvbGxlY3ROb2RlVHJlZSIsImNoaWxkTm9kZXMiLCJpbm5lckRpZmZOb2RlIiwiZGlmZkF0dHJpYnV0ZXMiLCJ2Y2hpbGRyZW4iLCJ2Y2hpbGQiLCJrZXllZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjaGlsZHJlbkxlbiIsInZsZW4iLCJfY2hpbGQiLCJfX2tleSIsImtleWVkTGVuIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlT3JwaGFuZWRDaGlsZHJlbiIsInVubW91bnRPbmx5IiwiX25hbWUiLCJfbmFtZTIiLCJjb2xsZWN0Q29tcG9uZW50IiwiY29tcG9uZW50cyIsImNyZWF0ZUNvbXBvbmVudCIsImluc3QiLCJuZXh0QmFzZSIsInRyaWdnZXJDb21wb25lbnRSZW5kZXIiLCJfZGlydHkiLCJzZXRDb21wb25lbnRQcm9wcyIsIm9wdHMiLCJiYXNlIiwiX2Rpc2FibGVSZW5kZXJpbmciLCJfX3JlZiIsImNvbXBvbmVudFdpbGxNb3VudCIsInByZXZDb250ZXh0IiwicHJldlByb3BzIiwic3luY0NvbXBvbmVudFVwZGF0ZXMiLCJyZW5kZXJDb21wb25lbnQiLCJza2lwIiwicmVuZGVyZWQiLCJwcmV2aW91c1N0YXRlIiwicHJldlN0YXRlIiwicHJldmlvdXNDb250ZXh0IiwiaXNVcGRhdGUiLCJpbml0aWFsQmFzZSIsIm5leHRTaWJsaW5nIiwiYmFzZVBhcmVudCIsImluaXRpYWxDb21wb25lbnQiLCJpbml0aWFsQ2hpbGRDb21wb25lbnQiLCJwcmV2aW91c1Byb3BzIiwidG9Vbm1vdW50IiwiY2hpbGRDb21wb25lbnQiLCJjaGlsZFByb3BzIiwiX3BhcmVudENvbXBvbmVudCIsImNiYXNlIiwidW5tb3VudENvbXBvbmVudCIsImNvbXBvbmVudFJlZiIsInVuc2hpZnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJfcmVuZGVyQ2FsbGJhY2tzIiwiYnVpbGRDb21wb25lbnRGcm9tVk5vZGUiLCJvbGREb20iLCJpc0RpcmVjdE93bmVyIiwiaXNPd25lciIsInJlbW92ZSIsImlubmVyIiwiY29tcG9uZW50RGlkVW5tb3VudCIsIl9saW5rZWRTdGF0ZXMiLCJnZXRJbml0aWFsU3RhdGUiLCJtZXJnZSIsImxjQ2FjaGUiLCJyZXNvbHZlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInNldFRpbWVvdXQiLCJib3hGbGV4IiwiYm94RmxleEdyb3VwIiwiY29sdW1uQ291bnQiLCJmaWxsT3BhY2l0eSIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJzdHJva2VPcGFjaXR5Iiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImxpbmtTdGF0ZSIsImNhY2hlS2V5IiwiZm9yY2VVcGRhdGUiLCJjbGVhckltbWVkaWF0ZSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJuZXh0VGljayIsIkFycmF5IiwiaW1tZWRpYXRlSWRzIiwibmV4dEltbWVkaWF0ZUlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2xvc2UiLCJ1bnJlZiIsImVucm9sbCIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1biIsImNhY2hlZENsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJwcm9jZXNzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImlzQ3J1c2hlZCIsImNvbXBvc2UiLCJhcHBseU1pZGRsZXdhcmUiLCJjb21iaW5lUmVkdWNlcnMiLCJjcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZTIiLCJfY29tYmluZVJlZHVjZXJzIiwiX2NvbWJpbmVSZWR1Y2VyczIiLCJfYmluZEFjdGlvbkNyZWF0b3JzIiwiX2JpbmRBY3Rpb25DcmVhdG9yczIiLCJfYXBwbHlNaWRkbGV3YXJlIiwiX2FwcGx5TWlkZGxld2FyZTIiLCJfY29tcG9zZSIsIl9jb21wb3NlMiIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwicmVkdWNlciIsImluaXRpYWxTdGF0ZSIsImVuaGFuY2VyIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJjdXJyZW50TGlzdGVuZXJzIiwiY3VycmVudFN0YXRlIiwibGlzdGVuZXIiLCJhY3Rpb24iLCJfaXNQbGFpbk9iamVjdDIiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJsaXN0ZW5lcnMiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwiQWN0aW9uVHlwZXMiLCJJTklUIiwib2JzZXJ2YWJsZSIsIl9yZWYiLCJvdXRlclN1YnNjcmliZSIsIm9ic2VydmVyIiwib2JzZXJ2ZVN0YXRlIiwibmV4dCIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9yZWYyIiwiX2lzUGxhaW5PYmplY3QiLCJfc3ltYm9sT2JzZXJ2YWJsZSIsIm92ZXJBcmciLCJhcmciLCJnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZSIsImFjdGlvblR5cGUiLCJhY3Rpb25OYW1lIiwiZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZSIsImlucHV0U3RhdGUiLCJyZWR1Y2VycyIsInJlZHVjZXJLZXlzIiwiYXJndW1lbnROYW1lIiwidW5leHBlY3RlZEtleXMiLCJmaWx0ZXIiLCJhc3NlcnRSZWR1Y2VyU2FuaXR5IiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsIndhcm5pbmdNZXNzYWdlIiwiaGFzQ2hhbmdlZCIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGVGb3JLZXkiLCJuZXh0U3RhdGVGb3JLZXkiLCJlcnJvck1lc3NhZ2UiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsIl9kaXNwYXRjaCIsImNoYWluIiwibWlkZGxld2FyZUFQSSIsIm1hcCIsIm1pZGRsZXdhcmUiLCJfZXh0ZW5kcyIsImZ1bmNzIiwiX3JldCIsImxhc3QiLCJyZXN0IiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMyIiwiX2luaGVyaXRzMyIsIl9oYW1tZXJqcyIsIl9oYW1tZXJqczIiLCJfcHJvcGFnYXRpbmdIYW1tZXJqcyIsIl9wcm9wYWdhdGluZ0hhbW1lcmpzMiIsIl9yZWR1eFVuZG8iLCJfY3VydmVFZGl0b3JSaWdodCIsIl9jdXJ2ZUVkaXRvclJpZ2h0MiIsIl9jdXJ2ZUVkaXRvckxlZnQiLCJfY3VydmVFZGl0b3JMZWZ0MiIsIl9jb2RlUGFuZWwiLCJfY29kZVBhbmVsMiIsIl9pY29ucyIsIl9pY29uczIiLCJfcmVzaXplTW9kIiwiX3Jlc2l6ZU1vZDIiLCJDdXJ2ZUVkaXRvciIsIkNMQVNTRVMiLCJfZ2V0U3R5bGUiLCJYX1NJWkUiLCJZX1NJWkUiLCJDVVJWRV9QQURESU5HIiwidGVtcF90b3AiLCJ0ZW1wX2JvdHRvbSIsInRlbXBfcmlnaHQiLCJ0cmFuc2xhdGUiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImhlaWdodCIsIndpZHRoIiwidGVtcFgiLCJ0ZW1wWSIsInByZWZpeCIsImNzcyIsInF1ZXJ5U2VsZWN0b3IiLCJtYyIsIk1hbmFnZXIiLCJhZGQiLCJQYW4iLCJ0aHJlc2hvbGQiLCJkZWx0YVgiLCJkZWx0YVkiLCJfYWRkS2V5VXAiLCJfb25LZXlVcCIsImFsdEtleSIsIndoaWNoIiwiQWN0aW9uQ3JlYXRvcnMiLCJ1bmRvIiwicmVkbyIsIiRnZXRQcm90b3R5cGVPZiIsIk9iamVjdFByb3RvIiwiZmFpbHMiLCJLRVkiLCJleHAiLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiX2l0ZXJhdG9yIiwiX2l0ZXJhdG9yMiIsIl9zeW1ib2wiLCJfc3ltYm9sMiIsIl90eXBlb2YiLCIkYXQiLCJpdGVyYXRlZCIsIl90IiwiX2kiLCJkb25lIiwiVE9fU1RSSU5HIiwicG9zIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsIkxJQlJBUlkiLCJyZWRlZmluZSIsIkl0ZXJhdG9ycyIsIiRpdGVyQ3JlYXRlIiwic2V0VG9TdHJpbmdUYWciLCJJVEVSQVRPUiIsIkJVR0dZIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJkUHMiLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsImx0IiwiZ3QiLCJkaXNwbGF5IiwiY29udGVudFdpbmRvdyIsIndyaXRlIiwiUHJvcGVydGllcyIsImRvY3VtZW50RWxlbWVudCIsImRlZiIsInRhZyIsInN0YXQiLCJVU0VfU1lNQk9MIiwiJGV4cG9ydHMiLCJUT19TVFJJTkdfVEFHIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9uIiwiYWRkVG9VbnNjb3BhYmxlcyIsIl9rIiwiQXJndW1lbnRzIiwiREVTQ1JJUFRPUlMiLCJNRVRBIiwiJGZhaWxzIiwid2tzIiwid2tzRXh0Iiwid2tzRGVmaW5lIiwia2V5T2YiLCJlbnVtS2V5cyIsImlzQXJyYXkiLCJfY3JlYXRlIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiZ09QRCIsImdPUE4iLCIkU3ltYm9sIiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwiRCIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJpc1N5bWJvbCIsIml0ZXJhdG9yIiwiJGRlZmluZVByb3BlcnR5IiwiJGRlZmluZVByb3BlcnRpZXMiLCIkY3JlYXRlIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJzeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsIndpbmRvd05hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCJoaWRkZW5LZXlzIiwiX3NldFByb3RvdHlwZU9mIiwiX3NldFByb3RvdHlwZU9mMiIsIl9jcmVhdGUyIiwidGVzdCIsImJ1Z2d5IiwiQ1VSVkVfUEVSQ0VOVCIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZXhwb3J0TmFtZSIsInNldFRpbWVvdXRDb250ZXh0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJlYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwiZGVwcmVjYXRpb25NZXNzYWdlIiwic3RhY2siLCJsb2ciLCJpbmhlcml0IiwicHJvcGVydGllcyIsImNoaWxkUCIsImJhc2VQIiwiX3N1cGVyIiwiYm9vbE9yRm4iLCJUWVBFX0ZVTkNUSU9OIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwidHlwZXMiLCJoYW5kbGVyIiwic3BsaXRTdHIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhc1BhcmVudCIsImluU3RyIiwiZmluZCIsInRyaW0iLCJpbkFycmF5IiwiZmluZEJ5S2V5IiwidW5pcXVlQXJyYXkiLCJzb3J0IiwicmVzdWx0cyIsInByZWZpeGVkIiwicHJvcGVydHkiLCJjYW1lbFByb3AiLCJ0b1VwcGVyQ2FzZSIsIlZFTkRPUl9QUkVGSVhFUyIsInVuaXF1ZUlkIiwiX3VuaXF1ZUlkIiwiZ2V0V2luZG93Rm9yRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIklucHV0IiwibWFuYWdlciIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5pdCIsImNyZWF0ZUlucHV0SW5zdGFuY2UiLCJUeXBlIiwiaW5wdXRDbGFzcyIsIlNVUFBPUlRfUE9JTlRFUl9FVkVOVFMiLCJQb2ludGVyRXZlbnRJbnB1dCIsIlNVUFBPUlRfT05MWV9UT1VDSCIsIlRvdWNoSW5wdXQiLCJTVVBQT1JUX1RPVUNIIiwiVG91Y2hNb3VzZUlucHV0IiwiTW91c2VJbnB1dCIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJwb2ludGVycyIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJJTlBVVF9TVEFSVCIsImlzRmluYWwiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJzZXNzaW9uIiwiY29tcHV0ZUlucHV0RGF0YSIsInJlY29nbml6ZSIsInByZXZJbnB1dCIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImNlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsIm5vdyIsImRlbHRhVGltZSIsImFuZ2xlIiwiZ2V0QW5nbGUiLCJkaXN0YW5jZSIsImdldERpc3RhbmNlIiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJnZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwiYWJzIiwic2NhbGUiLCJnZXRTY2FsZSIsInJvdGF0aW9uIiwiZ2V0Um90YXRpb24iLCJtYXhQb2ludGVycyIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsInNyY0V2ZW50Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImRpcmVjdGlvbiIsImxhc3RJbnRlcnZhbCIsIkNPTVBVVEVfSU5URVJWQUwiLCJjbGllbnRYIiwicm91bmQiLCJjbGllbnRZIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fTEVGVCIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9VUCIsIkRJUkVDVElPTl9ET1dOIiwicDEiLCJwMiIsIlBST1BTX1hZIiwic3FydCIsImF0YW4yIiwiUEkiLCJzdGFydCIsImVuZCIsIlBST1BTX0NMSUVOVF9YWSIsImV2RWwiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsImV2V2luIiwiTU9VU0VfV0lORE9XX0VWRU5UUyIsInByZXNzZWQiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwicG9pbnRlckV2ZW50cyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJldlRhcmdldCIsIlNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTIiwiU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMiLCJzdGFydGVkIiwibm9ybWFsaXplU2luZ2xlVG91Y2hlcyIsImFsbCIsInRvdWNoZXMiLCJjaGFuZ2VkIiwiY2hhbmdlZFRvdWNoZXMiLCJUT1VDSF9UQVJHRVRfRVZFTlRTIiwidGFyZ2V0SWRzIiwiZ2V0VG91Y2hlcyIsImFsbFRvdWNoZXMiLCJJTlBVVF9NT1ZFIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsInRvdWNoIiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInJlY29yZFRvdWNoZXMiLCJldmVudERhdGEiLCJzZXRMYXN0VG91Y2giLCJsYXN0VG91Y2giLCJsdHMiLCJyZW1vdmVMYXN0VG91Y2giLCJERURVUF9USU1FT1VUIiwiaXNTeW50aGV0aWNFdmVudCIsImR4IiwiZHkiLCJERURVUF9ESVNUQU5DRSIsIlRvdWNoQWN0aW9uIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJhY3Rpb25zIiwiVE9VQ0hfQUNUSU9OX05PTkUiLCJoYXNQYW5YIiwiVE9VQ0hfQUNUSU9OX1BBTl9YIiwiaGFzUGFuWSIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fQVVUTyIsImdldFRvdWNoQWN0aW9uUHJvcHMiLCJOQVRJVkVfVE9VQ0hfQUNUSU9OIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsIkNTUyIsInN1cHBvcnRzIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwiU1RBVEVfUE9TU0lCTEUiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfQkVHQU4iLCJkaXJlY3Rpb25TdHIiLCJnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyIiwib3RoZXJSZWNvZ25pemVyIiwicmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwiSGFtbWVyIiwicmVjb2duaXplcnMiLCJwcmVzZXQiLCJoYW5kbGVycyIsIm9sZENzc1Byb3BzIiwidG91Y2hBY3Rpb24iLCJ0b2dnbGVDc3NQcm9wcyIsInJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImNzc1Byb3BzIiwidHJpZ2dlckRvbUV2ZW50IiwiZ2VzdHVyZUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJnZXN0dXJlIiwiZGlzcGF0Y2hFdmVudCIsIlRFU1RfRUxFTUVOVCIsIkRhdGUiLCJvdXRwdXQiLCJuZXh0S2V5IiwiZGVzdCIsIk1PQklMRV9SRUdFWCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIklOUFVUX1RZUEVfVE9VQ0giLCJJTlBVVF9UWVBFX1BFTiIsIklOUFVUX1RZUEVfTU9VU0UiLCJJTlBVVF9UWVBFX0tJTkVDVCIsIkRJUkVDVElPTl9IT1JJWk9OVEFMIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwiRElSRUNUSU9OX0FMTCIsImRlc3Ryb3kiLCJNT1VTRV9JTlBVVF9NQVAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwiYnV0dG9uIiwicG9pbnRlclR5cGUiLCJQT0lOVEVSX0lOUFVUX01BUCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm91dCIsIklFMTBfUE9JTlRFUl9UWVBFX0VOVU0iLCIyIiwiMyIsIjQiLCI1IiwiTVNQb2ludGVyRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJyZW1vdmVQb2ludGVyIiwiZXZlbnRUeXBlTm9ybWFsaXplZCIsImlzVG91Y2giLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwiVE9VQ0hfSU5QVVRfTUFQIiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiVE9VQ0hfQUNUSU9OX0NPTVBVVEUiLCJUT1VDSF9BQ1RJT05fTUFQIiwiY29tcHV0ZSIsImdldFRvdWNoQWN0aW9uIiwicHJldmVudERlZmF1bHRzIiwicHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwicHJldmVudFNyYyIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9GQUlMRUQiLCJkcm9wUmVjb2duaXplV2l0aCIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicmVzZXQiLCJhdHRyVGVzdCIsIm9wdGlvblBvaW50ZXJzIiwiaXNSZWNvZ25pemVkIiwiaXNWYWxpZCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiU1RPUCIsIkZPUkNFRF9TVE9QIiwic3RvcCIsImZvcmNlIiwic3RvcHBlZCIsImN1clJlY29nbml6ZXIiLCJleGlzdGluZyIsImV2ZW50cyIsIlRhcCIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsImZyZWVHbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX2ZpcnN0VGFyZ2V0IiwicHJvcGFnYXRpbmciLCJoYW1tZXIiLCJwcm9wYWdhdGVkSGFuZGxlciIsIl9oYW5kbGVkIiwic3RvcFByb3BhZ2F0aW9uIiwic3JjU3RvcCIsImZpcnN0VGFyZ2V0IiwiZWxlbSIsImVsZW1IYW1tZXIiLCJfaGFuZGxlcnMiLCJfb3B0aW9ucyIsIlByb3BhZ2F0aW5nSGFtbWVyIiwid3JhcHBlciIsImhhbW1lcnMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZnJvbSIsImRlYnVnIiwiX19ERUJVR19fIiwiX2NvbnNvbGUiLCJncm91cCIsImRlYnVnU3RhcnQiLCJfY29uc29sZTIiLCJncm91cENvbGxhcHNlZCIsImRlYnVnRW5kIiwiZ3JvdXBFbmQiLCJwYXN0IiwiZnV0dXJlIiwiaW5zZXJ0IiwibGltaXQiLCJmcmVlIiwiaGlzdG9yeU92ZXJmbG93IiwianVtcFRvRnV0dXJlIiwianVtcFRvUGFzdCIsIndyYXBTdGF0ZSIsInVwZGF0ZVN0YXRlIiwiY3JlYXRlSGlzdG9yeSIsInBhcnNlQWN0aW9ucyIsInJhd0FjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJ1bmRvYWJsZSIsInJhd0NvbmZpZyIsImNvbmZpZyIsImluaXRUeXBlcyIsInVuZG9UeXBlIiwiVU5ETyIsInJlZG9UeXBlIiwiUkVETyIsImp1bXBUb1Bhc3RUeXBlIiwiSlVNUF9UT19QQVNUIiwianVtcFRvRnV0dXJlVHlwZSIsIkpVTVBfVE9fRlVUVVJFIiwiaW5pdGlhbEhpc3RvcnkiLCJyZXMiLCJzb21lIiwidXBkYXRlZEhpc3RvcnkiLCJkaXN0aW5jdFN0YXRlIiwiaW5jbHVkZUFjdGlvbiIsImlmQWN0aW9uIiwiZXhjbHVkZUFjdGlvbiIsIm1vZCIsInRlbXBSZXNpemVfdG9wIiwiY29lZiIsIk1PRCIsIkRJViIsInBhcnNlSW50IiwiR0FQIiwiX2N1cnZlIiwiX2N1cnZlMiIsIl9yZXNpemVIYW5kbGUiLCJfcmVzaXplSGFuZGxlMiIsIkN1cnZlRWRpdG9yUmlnaHQiLCJfYW5nbGVUb1BvaW50IiwiX3Byb2dyZXNzTGluZSIsIl9wcm9ncmVzc0xpbmUyIiwiX3BvaW50IiwiX3BvaW50MiIsIkN1cnZlIiwic3R5bGVzIiwiX3JlbmRlclBvaW50cyIsInNlZ21lbnRzIiwiX3JlbmRlclNlZ21lbnRzIiwiX3JlbmRlclByb2dyZXNzTGluZXMiLCJiYWNrZ3JvdW5kIiwidmlld0JveCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJjbGFzcyIsInN0cm9rZSIsInN0cm9rZS1vcGFjaXR5Iiwic3Ryb2tlLXdpZHRoIiwidmVjdG9yLWVmZmVjdCIsImZpbGwiLCJiZ1RyYW5zZm9ybSIsInBvaW50c0RhdGEiLCJwb2ludHNDb3VudCIsImRvbVNlZ21lbnRzIiwic2VnbWVudCIsInNlZ21lbnRTdHJpbmciLCJkYXRhLWluZGV4IiwicmVuZGVyZWRMaW5lcyIsImxpbmUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3VwZGF0ZURvbVByb2dyZXNzTGluZXMiLCJ0YWdOYW1lIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJnZXRBdHRyaWJ1dGUiLCJpc1JlY29yZCIsInN2Z01jIiwicmFkaXVzIiwiZ2V0UmFkaWFsUG9pbnQiLCJfYWRkUG9pbnRlckRvd24iLCJfYWRkUG9pbnRlckRvd24yIiwiX2xpdHRsZUhhbmRsZSIsIl9saXR0bGVIYW5kbGUyIiwiX3JvdW5kVG8iLCJfcm91bmRUbzIiLCJfY2xhbXAiLCJfY2xhbXAyIiwiUG9pbnQiLCJzZWxlY3RlZCIsImlzU2VsZWN0ZWQiLCJoYW5kbGVzIiwibGl0dGxlSGFuZGxlcyIsIl9nZXRMaXR0bGVIYW5kbGVzIiwiZGF0YS1jb21wb25lbnQiLCJjbGVhblgiLCJzY2FsZXJYIiwiX3Byb3BzMiIsIl9jcmVhdGVIYW5kbGUiLCJwYXJlbnRJbmRleCIsImhhbmRsZSIsImdldFRlbXBYIiwiX3Byb3BzMyIsImdldFRlbXBZIiwiX3Byb3BzNSIsInJldHVyblZhbHVlIiwiX3Byb3BzNiIsIl9wcm9wczciLCJfcHJvcHM4IiwiaXNEZXNlbGVjdCIsInNoaWZ0S2V5IiwibXNQb2ludGVyRW5hYmxlZCIsIm9udG91Y2hzdGFydCIsIl9hbmdsZVRvUG9pbnQyIiwiX3BvaW50VG9BbmdsZSIsIl9wb2ludFRvQW5nbGUyIiwiTGl0dGxlSGFuZGxlIiwiX2dldFBvaW50U3R5bGUiLCJfZ2V0TGluZVN0eWxlIiwibmV3WSIsImFic1giLCJhYnNTY2FsZXJYIiwibmV3VmVjdG9yIiwiYXRhbiIsImNvbnRlbnQiLCJsb2NhbHMiLCJuZXdDb250ZW50IiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJhZGRTdHlsZXNUb0RvbSIsImRvbVN0eWxlIiwic3R5bGVzSW5Eb20iLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwic3R5bGVTaGVldCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsIm1lbW9pemUiLCJtZW1vIiwiaXNPbGRJRSIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlbWVudCIsImxpdHRsZS1oYW5kbGUiLCJsaXR0bGUtaGFuZGxlX19wb2ludCIsImxpdHRsZS1oYW5kbGVfX2Vhc3ktdG91Y2giLCJsaXR0bGUtaGFuZGxlX19saW5lIiwic25hcCIsIm1vZGlmaWVkIiwicG9pbnRfX3RvdWNoIiwiaXMtc2VsZWN0ZWQiLCJpcy1oaWRlLWhhbmRsZXMiLCJjdXJ2ZSIsImN1cnZlX19iYWNrZ3JvdW5kIiwiY3VydmVfX3N2Zy13cmFwcGVyIiwiY3VydmVfX3N2ZyIsImN1cnZlX19zdmctc2VnbWVudCIsIl9pY29uIiwiX2ljb24yIiwiUmVzaXplSGFuZGxlIiwiY2xhc3NUeXBlIiwiZGF0YS10eXBlIiwiSWNvbiIsIm1hcmt1cCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiaWNvbiIsInJlc2l6ZS1oYW5kbGUiLCJyZXNpemUtaGFuZGxlLS1yaWdodCIsInJlc2l6ZS1oYW5kbGUtLWJvdHRvbSIsImN1cnZlLWVkaXRvciIsImN1cnZlLWVkaXRvcl9fbGVmdCIsImN1cnZlLWVkaXRvcl9fcmlnaHQiLCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUiLCJjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zIiwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ28iLCJfY29kZUJ1dHRvbiIsIl9jb2RlQnV0dG9uMiIsIl9pY29uRGl2aWRlciIsIl9pY29uRGl2aWRlcjIiLCJfcG9pbnRDb250cm9scyIsIl9wb2ludENvbnRyb2xzMiIsIkN1cnZlRWRpdG9yTGVmdCIsIl9pY29uQnV0dG9uIiwiX2ljb25CdXR0b24yIiwiQ29kZUJ1dHRvbiIsImlzQ2hlY2siLCJjb250cm9scyIsImlzQ29kZSIsIkljb25CdXR0b24iLCJvblRhcCIsImljb24tYnV0dG9uIiwiaXMtY2hlY2tlZCIsImljb24tZGl2aWRlciIsIlBvaW50Q29udHJvbHMiLCJzaG93IiwiaXNTaG93IiwiYnV0dG9ucyIsIl9hZGRCdXR0b25zIiwiYnV0dG9uc01hcCIsIl9vbkJ1dHRvblRhcCIsInBvaW50LWNvbnRyb2xzIiwiaXMtc2hvdyIsIkljb25zIiwibWFpbkNsYXNzIiwicmVhZG9ubHkiLCJjb2RlLXBhbmVsIiwiY29kZS1wYW5lbF9faW5uZXIiLCJjb2RlLXBhbmVsX19pbnB1dC13cmFwIiwiY29kZS1wYW5lbF9faW5wdXQtZmllbGQiLCJpcy1vcGVuIiwiX3JlZHV4IiwiX2luZGV4UmVkdWNlciIsIl9pbmRleFJlZHVjZXIyIiwiaW5pdFN0b3JlIiwiX3JlZHV4VW5kbzIiLCJfcmVzaXplUmVkdWNlciIsIl9yZXNpemVSZWR1Y2VyMiIsIl9wb2ludHNSZWR1Y2VyIiwiX3BvaW50c1JlZHVjZXIyIiwiX2NvbnRyb2xzUmVkdWNlciIsIl9jb250cm9sc1JlZHVjZXIyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyMiIsIl9wcm9ncmVzc2VzUmVkdWNlciIsIl9wcm9ncmVzc2VzUmVkdWNlcjIiLCJfcmVkdXhSZWN5Y2xlIiwiX3JlZHV4UmVjeWNsZTIiLCJVTkRPQUJMRV9PUFRTIiwiY3VyclN0YXRlIiwiX2RlZmluZVByb3BlcnR5MyIsIl9leHRlbmRzNCIsIl9leHRlbmRzNSIsIklOSVRJQUxfU1RBVEUiLCJyZXNpemVSZWR1Y2VyIiwiZGVsdGEiLCJuZXdTdGF0ZSIsIl9kYXRhIiwiX3R5cGUiLCJfZGVsdGEiLCJtYXRoTWV0aG9kIiwiX25ld1N0YXRlIiwiX2FjdGlvbiRkYXRhIiwiX2FjdGlvbiRkYXRhMiIsIl94MiIsIl95IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsIl90b0NvbnN1bWFibGVBcnJheTMiLCJfbWFrZVBvaW50IiwiX21ha2VQb2ludDIiLCJfaW5pdFBvaW50cyIsIl9pbml0UG9pbnRzMiIsIl9jYWxjdWxhdGVQYXRoIiwiX2NhbGN1bGF0ZVBhdGgyIiwiZGVzZWxlY3RBbGwiLCJmaW5kU2VsZWN0ZWRJbmRlY2llcyIsImluZGVjaWVzIiwicG9pbnRzUmVkdWNlciIsIm9sZFBvaW50IiwibmV3UG9pbnRzIiwiX2luZGV4IiwiX3BvaW50cyIsIl9vbGRQb2ludCIsIl9uZXdQb2ludHMiLCJfaW5kZXgyIiwiX3BvaW50czIiLCJfZGF0YTIiLCJfaW5kZXgzIiwiZGVzZWxlY3RlZCIsIl9uZXdQb2ludHMyIiwiX3BvaW50czMiLCJfcG9pbnRzNCIsIl9uZXdQb2ludHMzIiwiX3BvaW50czUiLCJfc2VsZWN0ZWQiLCJfbmV3UG9pbnRzNCIsIl9pdGVtIiwiX2luZGV4NCIsImhhbmRsZUluZGV4Iiwic2liSGFuZGxlSW5kZXgiLCJoYW5kbGVOYW1lIiwic2liSGFuZGxlTmFtZSIsInNpYkhhbmRsZSIsIl9wb2ludHM2IiwiX2RhdGEzIiwiX25ld1BvaW50czUiLCJuZXdQb2ludCIsIl9oYW5kbGVOYW1lIiwibmV3SGFuZGxlIiwiX2Zyb20iLCJfZnJvbTIiLCJpc0FycmF5SXRlciIsImNyZWF0ZVByb3BlcnR5IiwiZ2V0SXRlckZuIiwiaXRlciIsImFycmF5TGlrZSIsIm1hcGZuIiwibWFwcGluZyIsIml0ZXJGbiIsIkFycmF5UHJvdG8iLCJjbGFzc29mIiwiZ2V0SXRlcmF0b3JNZXRob2QiLCJBUkciLCJ0cnlHZXQiLCJjYWxsZWUiLCJTQUZFX0NMT1NJTkciLCJyaXRlciIsInNraXBDbG9zaW5nIiwic2FmZSIsImZhbGxiYWNrIiwiX2ZhbGxiYWNrIiwibWFrZUhhbmRsZVBvaW50IiwiaXNUb3VjaGVkIiwibWFrZVBvc2l0aW9uUG9pbnQiLCJtYWtlUG9pbnQiLCJpc0xvY2tlZFkiLCJoYW5kbGUxIiwiaGFuZGxlMiIsIl9pbml0UG9pbnQiLCJfaW5pdFBvaW50MiIsInNpYlBvaW50IiwiX2NhbGN1bGF0ZVNlZ21lbnQiLCJfY2FsY3VsYXRlU2VnbWVudDIiLCJuZXh0UG9pbnQiLCJzdHJpbmciLCJfY2FsY3VsYXRlUG9pbnQiLCJfY2FsY3VsYXRlUG9pbnQyIiwieE5leHQiLCJ5TmV4dCIsInBhcnQxIiwicGFydDIiLCJwYXJ0MyIsInBhcnQ0IiwiQ0hBUiIsImhhbmRsZUNvb3JkcyIsInJlY3ljbGVTdGF0ZSIsImNociIsImhhc2giLCJQcm9ncmVzc0xpbmUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInByb2dyZXNzLWxpbmUiLCJnZXRDb2xvciIsIkNPTE9SUyIsIm1ha2VQcm9ncmVzc0xpbmUiLCJwcm9ncmVzc2VzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSx1QkFBQUgsR0FDQSxnQkFBQUMsU0FDQUEsUUFBQSxxQkFBQUQsSUFFQUQsRUFBQSxxQkFBQUMsS0FDQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDSDFCLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxR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U0FHakNzc0QsRUFBbUIsV0FBa0IsR0FBVjVqRCxJQUFVakQsVUFBQXpGLFFBQUEsR0FBQTBGLFNBQUFELFVBQUEsTUFBQUEsVUFBQSxHQUFBQSxVQUFBLElBQ2xDa0MsRUFBU2UsRUFBVGYsS0FDUCxRQUVFdWtELE1BQWNFLEVBQVN6a0QsR0FDdkIvSSxLQUFBLFVBQXVCK0ksRUFBTTNILE9BQU8sS0FJbEN1c0QsRUFBYSxXQUFtQyxHQUFsQzdqRCxHQUFrQ2pELFVBQUF6RixRQUFBLEdBQUEwRixTQUFBRCxVQUFBLEdBQTFCOC9DLEVBQTBCOS9DLFVBQUEsR0FBWGluQixFQUFXam5CLFVBQUEsRUFDcEQsUUFBUWluQixFQUFPL3dCLE1BRWIsSUFBSyxvQkFDSCxHQUFNK3BELElBQUEsRUFBQXRoRCxpQkFBZ0JzRSxFQUV0QixPQURBZzlDLEdBQVMvOUMsU0FBVHdILFFBQUEsRUFBQWszQyxjQUFzQlgsRUFBUy85QyxRQUFPMmtELEVBQWtCNS9CLEVBQU8zckIsS0FBTTJILEtBQzlEZzlDLENBR1QsS0FBSyw2QkFBOEIsR0FDMUJwOUMsR0FBWW9rQixFQUFacGtCLEtBQ1AsVUFBQWxFLGlCQUFZc0UsR0FBTzJ4QyxTQUFVL3hDLElBaUJqQyxNQUFPSSxHbE84alhSNU4sY2tPM2pYY3l4RCxHbE8ralhULFNBQVN4eEQsRUFBUUQsR0FFdEIsWUFFQStELFFBQU9JLGVBQWVuRSxFQUFTLGNBQzdCd0UsT0FBTyxJQUdUeEUsYW1Pem5YYyxTQUFDa0QsR0FDZHdvQixXQUFZeG9CLEVBQUkiLCJmaWxlIjoibW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtb2pzLWN1cnZlLWVkaXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwibW9qcy1jdXJ2ZS1lZGl0b3JcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuLyoqKioqKi8gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4vKioqKioqLyBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuLyoqKioqKi8gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4vKioqKioqLyBcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbi8qKioqKiovIFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHRpbWVvdXRcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrKGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1cGRhdGUpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYmVmNDViMC9zcmMvc2hhcmVkL3V0aWxzL2NhbkRlZmluZVByb3BlcnR5LmpzXHJcbi8qKioqKiovIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbi8qKioqKiovIFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJ4XCIsIHtcclxuLyoqKioqKi8gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR9IGNhdGNoKHgpIHtcclxuLyoqKioqKi8gXHRcdC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCJhMjliMTg3YTExNjAwZjY4ZTE4OVwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuLyoqKioqKi8gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIChmdW5jdGlvbihuYW1lKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0obmFtZSkpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZW5zdXJlKGNodW5rSWQsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuLyoqKioqKi8gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG51bGwsIGZuKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdHZhbHVlOiBlbnN1cmVcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRmbi5lID0gZW5zdXJlO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIGZuO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhvdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbi8qKioqKiovIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJudW1iZXJcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbi8qKioqKiovIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuLyoqKioqKi8gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbi8qKioqKiovIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuLyoqKioqKi8gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuLyoqKioqKi8gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHksIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBhcHBseSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4vKioqKioqLyBcdFx0aG90RG93bmxvYWRNYW5pZmVzdChmdW5jdGlvbihlcnIsIHVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRpZighdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB1cGRhdGUuYy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcFt1cGRhdGUuY1tpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbi8qKioqKiovIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbi8qKioqKiovIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbi8qKioqKiovIFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRob3RDYWxsYmFjayA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRpZighY2FsbGJhY2spIHJldHVybjtcclxuLyoqKioqKi8gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSwgY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgbW9kdWxlSWQgKyBcIiBpbiBcIiArIHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIFtvdXRkYXRlZE1vZHVsZXMsIG91dGRhdGVkRGVwZW5kZW5jaWVzXTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuLyoqKioqKi8gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0WzBdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdFsxXSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0WzFdW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuLyoqKioqKi8gXHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2Iob3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4vKioqKioqLyBcdFx0aWYoZXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbi8qKioqKiovIFx0XHRcdHBhcmVudHM6IGhvdEN1cnJlbnRQYXJlbnRzLFxuLyoqKioqKi8gXHRcdFx0Y2hpbGRyZW46IFtdXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfc3RyaW5naWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ2lmeSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcHJlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yKTtcblx0XG5cdHZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cdFxuXHR2YXIgX3N0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkzKTtcblx0XG5cdHZhciBfaGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNoKTtcblx0XG5cdHZhciBfZmFsbGJhY2tUbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk0KTtcblx0XG5cdHZhciBfZmFsbGJhY2tUbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mYWxsYmFja1RvKTtcblx0XG5cdHZhciBfZGVmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMik7XG5cdFxuXHR2YXIgX2RlZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxOTUpO1xuXHRcblx0Ly8gVE9ET1xuXHQvLyAgIC0gaGFuZGxlIHRyYW5zbGF0ZSBpc1JlY29yZFxuXHQvLyAgIC0gbXVsdGlwbGUgZWRpdG9ycyBzaG9ydCBjdXRzXG5cdC8vICAgLSByZXNpemUgZG93biB3aGVuIHBvaW50cyBhcmUgYWJvdmUgdGhlIGVkaXRvciBib3JkZXJcblx0Ly8gICAtIGluc3RhbmNlIGRyb3Bkb3duIG9uIGNvZGUgcGFuZWxcblx0Ly8gICAtIGltcG9ydCBwYXRoIGRhdGFcblx0Ly8gICAtIG1vdmUgYnVuY2ggb2YgcG9pbnRzIGF0IG9uY2Vcblx0XG5cdHZhciBBUEkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQVBJKCkge1xuXHQgICAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEFQSSk7XG5cdFxuXHQgICAgdGhpcy5fbyA9IG87XG5cdFxuXHQgICAgdGhpcy5fZGVjYWxhcmVEZWZhdWx0cygpO1xuXHQgICAgdGhpcy5fZXh0ZW5kRGVmYXVsdHMoKTtcblx0ICAgIHRoaXMuX3ZhcnMoKTtcblx0ICAgIHRoaXMuX3JlbmRlcigpO1xuXHQgICAgdGhpcy5fdHJ5VG9SZXN0b3JlKCk7XG5cdCAgICB0aGlzLl9saXN0ZW5VbmxvYWQoKTtcblx0XG5cdCAgICB0aGlzLl9zdWJzY3JpYmUoKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEFQSSwgW3tcblx0ICAgIGtleTogJ19kZWNhbGFyZURlZmF1bHRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVjYWxhcmVEZWZhdWx0cygpIHtcblx0ICAgICAgdGhpcy5fZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbmFtZTogJ21vanMtY3VydmUtZWRpdG9yJyxcblx0ICAgICAgICBpc1NhdmVTdGF0ZTogdHJ1ZVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19leHRlbmREZWZhdWx0cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2V4dGVuZERlZmF1bHRzKCkge1xuXHQgICAgICB0aGlzLl9wcm9wcyA9IHt9O1xuXHRcblx0ICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX2RlZmF1bHRzKSB7XG5cdCAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9ICgwLCBfZmFsbGJhY2tUbzIuZGVmYXVsdCkodGhpcy5fb1trZXldLCB0aGlzLl9kZWZhdWx0c1trZXldKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ192YXJzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdmFycygpIHtcblx0ICAgICAgdGhpcy5yZXZpc2lvbiA9ICcxLjAuMCc7XG5cdCAgICAgIHRoaXMuc3RvcmUgPSAoMCwgX3N0b3JlMi5kZWZhdWx0KSgpO1xuXHRcblx0ICAgICAgdGhpcy5fZWFzaW5ncyA9IFtdO1xuXHQgICAgICB0aGlzLl9wcm9ncmVzc0xpbmVzID0gW107XG5cdFxuXHQgICAgICB2YXIgc3RyID0gKDAsIF9mYWxsYmFja1RvMi5kZWZhdWx0KSh0aGlzLl9vLm5hbWUsIHRoaXMuX2RlZmF1bHRzLm5hbWUpO1xuXHQgICAgICBzdHIgKz0gc3RyID09PSB0aGlzLl9kZWZhdWx0cy5uYW1lID8gJycgOiAnX18nICsgdGhpcy5fZGVmYXVsdHMubmFtZTtcblx0ICAgICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gc3RyICsgJ19fJyArICgwLCBfaGFzaDIuZGVmYXVsdCkoc3RyKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAoMCwgX3ByZWFjdC5yZW5kZXIpKCgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgX3ByZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgICAgICAgICAgeyBzdG9yZTogX3RoaXMuc3RvcmUgfSxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvcjIuZGVmYXVsdCwgeyBwcm9ncmVzc0xpbmVzOiBfdGhpcy5fcHJvZ3Jlc3NMaW5lcyB9KVxuXHQgICAgICAgICksIGRvY3VtZW50LmJvZHkpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfbGlzdGVuVW5sb2FkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfbGlzdGVuVW5sb2FkKCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciB1bmxvYWRFdmVudCA9ICdvbnBhZ2VoaWRlJyBpbiB3aW5kb3cgPyAncGFnZWhpZGUnIDogJ2JlZm9yZXVubG9hZCc7XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHVubG9hZEV2ZW50LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKF90aGlzMi5fcHJvcHMuaXNTYXZlU3RhdGUpIHtcblx0ICAgICAgICAgIHZhciBwcmVTdGF0ZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzMi5zdG9yZS5nZXRTdGF0ZSgpKTtcblx0XG5cdCAgICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRzLmhpc3Rvcnk7XG5cdCAgICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRDb250cm9scy5oaXN0b3J5O1xuXHQgICAgICAgICAgcHJlU3RhdGUucHJvZ3Jlc3NMaW5lcy5saW5lcyA9IFtdO1xuXHRcblx0ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKF90aGlzMi5fbG9jYWxTdG9yYWdlLCAoMCwgX3N0cmluZ2lmeTIuZGVmYXVsdCkocHJlU3RhdGUpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oX3RoaXMyLl9sb2NhbFN0b3JhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3RyeVRvUmVzdG9yZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3RyeVRvUmVzdG9yZSgpIHtcblx0ICAgICAgdmFyIHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2xvY2FsU3RvcmFnZSk7XG5cdCAgICAgIGlmIChzdG9yZWQpIHtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TVEFURScsIGRhdGE6IEpTT04ucGFyc2Uoc3RvcmVkKSB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHsgeDogMCwgeTogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUgfSwgaW5kZXg6IDAgfSB9KTtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSwgaW5kZXg6IDEgfSB9KTtcblx0ICAgICAgICAvLyB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX1NFTEVDVCcsIGRhdGE6IHsgaW5kZXg6IDAsIHR5cGU6ICdzdHJhaWdodCcgfSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdWJzY3JpYmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdWJzY3JpYmUoKSB7XG5cdCAgICAgIHRoaXMuX2NvbXBpbGVQYXRoKCk7XG5cdCAgICAgIHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuX2NvbXBpbGVQYXRoLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19jb21waWxlUGF0aCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbXBpbGVQYXRoKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG5cdCAgICAgIHZhciBwb2ludHMgPSBzdGF0ZS5wb2ludHMucHJlc2VudDtcblx0ICAgICAgdmFyIHBhdGggPSBwb2ludHMucGF0aDtcblx0XG5cdFxuXHQgICAgICBpZiAodGhpcy5fcHJldlBhdGggIT09IHBhdGgpIHtcblx0ICAgICAgICB0aGlzLl9wcmV2UGF0aCA9IHBhdGg7XG5cdCAgICAgICAgdGhpcy5fZWFzaW5nID0gbW9qcy5lYXNpbmcucGF0aChwYXRoKTtcblx0ICAgICAgICB0aGlzLl9maXJlT25DaGFuZ2UocGF0aCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZmlyZU9uQ2hhbmdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZmlyZU9uQ2hhbmdlKHBhdGgpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lYXNpbmdzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMuX2Vhc2luZ3NbaV07XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSByZWNvcmQub3B0aW9ucztcblx0ICAgICAgICB2YXIgZWFzaW5nID0gcmVjb3JkLmVhc2luZztcblx0ICAgICAgICB2YXIgb25DaGFuZ2UgPSBvcHRpb25zLm9uQ2hhbmdlO1xuXHRcblx0XG5cdCAgICAgICAgdHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nICYmIG9uQ2hhbmdlKGVhc2luZywgcGF0aCk7XG5cdCAgICAgICAgdGhpcy5fdXBkYXRlUGFyZW50KGVhc2luZyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfdXBkYXRlUGFyZW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlUGFyZW50KGVhc2luZykge1xuXHQgICAgICB2YXIgcGFyZW50ID0gZWFzaW5nLl9wYXJlbnQ7XG5cdFxuXHQgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5zZXRQcm9ncmVzcykge1xuXHQgICAgICAgIHRoaXMuX3RyaWdnZXJQYXJlbnQocGFyZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChwYXJlbnQudGltZWxpbmUpIHtcblx0ICAgICAgICB0aGlzLl90cmlnZ2VyUGFyZW50KHBhcmVudC50aW1lbGluZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFyZW50LnR3ZWVuKSB7XG5cdCAgICAgICAgdGhpcy5fdHJpZ2dlclBhcmVudChwYXJlbnQudHdlZW4pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3RyaWdnZXJQYXJlbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF90cmlnZ2VyUGFyZW50KHBhcmVudCkge1xuXHQgICAgICB2YXIgc3RlcCA9IDAuMDAxO1xuXHQgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJlbnQucHJvZ3Jlc3M7XG5cdCAgICAgIHZhciB1cGRhdGVQcm9ncmVzcyA9IHByb2dyZXNzICsgc3RlcCA8IDEgPyBwcm9ncmVzcyArIHN0ZXAgOiBwcm9ncmVzcyAtIHN0ZXA7XG5cdFxuXHQgICAgICBwYXJlbnQuc2V0UHJvZ3Jlc3ModXBkYXRlUHJvZ3Jlc3MpO1xuXHQgICAgICBwYXJlbnQuc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEVhc2luZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWFzaW5nKCkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgICAvLyBnZXQgdGhlIGVhc2luZyBmdW5jdGlvbiByZWdhcmRpbmcgcmV2ZXJzZSBvcHRpb25zXG5cdCAgICAgIHZhciBmdW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGkgPSBfdGhpczMuX2Vhc2luZ3MubGVuZ3RoO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaykge1xuXHQgICAgICAgICAgX3RoaXMzLl91cGRhdGVQcm9ncmVzc0xpbmUoaywgaSwgX3RoaXMzLl9wcm9ncmVzc0xpbmVzKTtcblx0ICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSBfdGhpczMuX2Vhc2luZ3NbaV0ub3B0aW9ucy50cmFuc2Zvcm07XG5cdCAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtID8gdHJhbnNmb3JtKF90aGlzMy5fZWFzaW5nKGspKSA6IF90aGlzMy5fZWFzaW5nKGspO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0oKTtcblx0XG5cdCAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQUREX1BST0dSRVNTX0xJTkUnLCBkYXRhOiB7fSB9KTtcblx0ICAgICAgdGhpcy5fZWFzaW5ncy5wdXNoKHsgb3B0aW9uczogbywgZWFzaW5nOiBmdW4gfSk7XG5cdFxuXHQgICAgICAoMCwgX2RlZmVyMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMzLl9maXJlT25DaGFuZ2UoX3RoaXMzLl9wcmV2UGF0aCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gZnVuO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ191cGRhdGVQcm9ncmVzc0xpbmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVQcm9ncmVzc0xpbmUocCwgaSwgbGluZXMpIHtcblx0ICAgICAgdmFyIGVsID0gbGluZXNbaV07XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0XG5cdFxuXHQgICAgICBpZiAoIWVsKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBlbC5zdHlsZS5sZWZ0ID0gcCAqIDEwMCArICclJztcblx0XG5cdCAgICAgIC8vIGNvbnN0IHggPSBwICogKCBDLkNVUlZFX1NJWkUgKyByZXNpemUudGVtcF9yaWdodCArIHJlc2l6ZS5yaWdodCApLFxuXHQgICAgICAvLyAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3h9cHgpYDtcblx0XG5cdCAgICAgIC8vIG1vanMuaC5zZXRQcmVmaXhlZFN0eWxlKCBlbCwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSApO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQVBJO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBUEk7XG5cdFxuXHR3aW5kb3cuTW9qc0N1cnZlRWRpdG9yID0gQVBJO1xuXHRcblx0Ly8gY3VydmVcblx0Ly8gICAuZ2V0RnVuY3Rpb24oeyBpc0ludmVyc2VYOiBmYWxzZSwgaXNJbnZlcnNlWTogdHJ1ZSwgbmFtZTogJ1NvbWUgbmFtZScgfSlcblx0Ly8gICAuZ2V0Q29kZSgpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMyksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBjb3JlICA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0ICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Fzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9hc3NpZ24yLmRlZmF1bHQgfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHQgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXHRcblx0ICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcblx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGFyZ2V0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuT2JqZWN0LmFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogX193ZWJwYWNrX3JlcXVpcmVfXygyMyl9KTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY29yZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcblx0dmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG5cdCAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHRpZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXHR2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG5cdCAgYUZ1bmN0aW9uKGZuKTtcblx0ICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuXHQgIHN3aXRjaChsZW5ndGgpe1xuXHQgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG5cdCAgICB9O1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkUCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcblx0fSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG5cdCAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcblx0ICByZXR1cm4gb2JqZWN0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG5cdCAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuXHQgIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcblx0ICByZXR1cm4gTztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgJiYgIV9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcblx0bW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gISFleGVjKCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5kb2N1bWVudFxuXHQgIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuXHQgICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHQvLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuXHQvLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcblx0ICB2YXIgZm4sIHZhbDtcblx0ICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcblx0ICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcblx0ICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcblx0ICAgIHZhbHVlICAgICAgIDogdmFsdWVcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxuXHR2YXIgZ2V0S2V5cyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgZ09QUyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQgICwgcElFICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgSU9iamVjdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuXHQgICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXHRcblx0Ly8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cdG1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICB2YXIgQSA9IHt9XG5cdCAgICAsIEIgPSB7fVxuXHQgICAgLCBTID0gU3ltYm9sKClcblx0ICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtTXSA9IDc7XG5cdCAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuXHQgIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xuXHR9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG5cdCAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgLCBpbmRleCA9IDFcblx0ICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuXHQgICAgLCBpc0VudW0gICAgID0gcElFLmY7XG5cdCAgd2hpbGUoYUxlbiA+IGluZGV4KXtcblx0ICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcblx0ICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG5cdCAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICAgLCBqICAgICAgPSAwXG5cdCAgICAgICwga2V5O1xuXHQgICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcblx0ICB9IHJldHVybiBUO1xuXHR9IDogJGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcblx0dmFyICRrZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSlcblx0ICAsIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgaGFzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHRvSU9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBhcnJheUluZGV4T2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKShmYWxzZSlcblx0ICAsIElFX1BST1RPICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBrZXk7XG5cdCAgZm9yKGtleSBpbiBPKWlmKGtleSAhPSBJRV9QUk9UTyloYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuXHQgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG5cdCAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuXHQgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXHR2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpXG5cdCAgLCBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG5cdC8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgdG9MZW5ndGggID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMilcblx0ICAsIHRvSW5kZXggICA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcblx0ICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuXHQgICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcblx0ICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcblx0ICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuXHQgICAgICAsIHZhbHVlO1xuXHQgICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuXHQgICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuXHQgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG5cdCAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuXHQgICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuXHQgICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG5cdCAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcblx0ICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcblx0ICB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xNSBUb0xlbmd0aFxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMS40IFRvSW50ZWdlclxuXHR2YXIgY2VpbCAgPSBNYXRoLmNlaWxcblx0ICAsIGZsb29yID0gTWF0aC5mbG9vcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG5cdCAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuXHQgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSgna2V5cycpXG5cdCAgLCB1aWQgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuXHQgICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGlkID0gMFxuXHQgICwgcHggPSBNYXRoLnJhbmRvbSgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG5cdCAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5cdG1vZHVsZS5leHBvcnRzID0gKFxuXHQgICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG5cdCkuc3BsaXQoJywnKTtcblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcblx0dmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG5cdCAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0ICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHQgICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg0NSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLk9iamVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcblx0ICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdC8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oMTgpLCAnT2JqZWN0Jywge2RlZmluZVByb3BlcnR5OiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5mfSk7XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0XHQgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0OCksIF9fd2VicGFja19yZXF1aXJlX18oNTEpKSA6XG5cdFx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdwcmVhY3QnLCAncmVkdXgnXSwgZmFjdG9yeSkgOlxuXHRcdChmYWN0b3J5KChnbG9iYWwucHJlYWN0UmVkdXggPSBnbG9iYWwucHJlYWN0UmVkdXggfHwge30pLGdsb2JhbC5wcmVhY3QsZ2xvYmFsLnJlZHV4KSk7XG5cdH0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMscHJlYWN0LHJlZHV4KSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ZnVuY3Rpb24gX19jb21tb25qcyhmbiwgbW9kdWxlKSB7IHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0czsgfVxuXHRcblx0XG5cdFx0dmFyIGJhYmVsSGVscGVycyA9IHt9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdFx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHRcdCAgfVxuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXHRcblx0XHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHRcdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdFx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0YXJnZXQ7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG5cdFx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdFx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuXHRcdCAgfVxuXHRcblx0XHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHRcdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHRcdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0XHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0XHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0XHQgICAgfVxuXHRcdCAgfSk7XG5cdFx0ICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuXHRcdCAgaWYgKCFzZWxmKSB7XG5cdFx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnM7XG5cdFxuXHRcdHZhciBDaGlsZHJlbiA9IHtcblx0XHRcdG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHRcdFx0XHRyZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW5bMF0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5cdFx0cHJvcHR5cGUuaXNSZXF1aXJlZCA9IHByb3B0eXBlO1xuXHRcblx0XHR2YXIgUHJvcFR5cGVzID0ge1xuXHRcdFx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdFx0XHRmdW5jOiBwcm9wdHlwZSxcblx0XHRcdHNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBwcm9wdHlwZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHR2YXIgc3RvcmVTaGFwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG5cdFx0ICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0XHQgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG5cdFx0fSk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cblx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcblx0XHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHQgIH1cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHRcdCAgdHJ5IHtcblx0XHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdFx0ICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdFx0ICB9IGNhdGNoIChlKSB7fVxuXHRcdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHRcdH1cblx0XG5cdFx0dmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG5cdFx0ZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG5cdFx0ICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcblx0XHQgICAgcmV0dXJuO1xuXHRcdCAgfVxuXHRcdCAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlO1xuXHRcblx0XHQgIHdhcm5pbmcoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHRcdCAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9O1xuXHRcdCAgfTtcblx0XG5cdFx0ICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXHRcblx0XHQgICAgdmFyIF90aGlzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cdFxuXHRcdCAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuXHRcdCAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICB9XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0XG5cdFx0ICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblx0XHQgIH07XG5cdFxuXHRcdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHRcdH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdGlmICh0cnVlKSB7XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcblx0XHQgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0XHQgICAgdmFyIG5leHRTdG9yZSA9IG5leHRQcm9wcy5zdG9yZTtcblx0XG5cdFxuXHRcdCAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuXHRcdCAgICAgIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcblx0XHQgIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWRcblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuXHRcdCAgaWYgKG9iakEgPT09IG9iakIpIHtcblx0XHQgICAgcmV0dXJuIHRydWU7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG5cdFx0ICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblx0XG5cdFx0ICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcblx0XHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgfVxuXHRcblx0XHQgIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG5cdFx0ICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG5cdFx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICB9XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcblx0XHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0XHQgICAgcmV0dXJuIHJlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdHZhciBpc09iamVjdExpa2UgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdFx0ICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSA0LjAuMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2Uoe30pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcblx0XHQgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMCA9IGlzT2JqZWN0TGlrZSAmJiB0eXBlb2YgaXNPYmplY3RMaWtlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNPYmplY3RMaWtlID8gaXNPYmplY3RMaWtlWydkZWZhdWx0J10gOiBpc09iamVjdExpa2U7XG5cdFxuXHRcdHZhciBfaXNIb3N0T2JqZWN0ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHRcdCAgICpcblx0XHQgICAqIEBwcml2YXRlXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdFx0ICAgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdFx0ICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0XHQgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdFx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0XHQgICAgfVxuXHRcdCAgICByZXR1cm4gcmVzdWx0O1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMSA9IF9pc0hvc3RPYmplY3QgJiYgdHlwZW9mIF9pc0hvc3RPYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfaXNIb3N0T2JqZWN0ID8gX2lzSG9zdE9iamVjdFsnZGVmYXVsdCddIDogX2lzSG9zdE9iamVjdDtcblx0XG5cdFx0dmFyIF9nZXRQcm90b3R5cGUgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0XHQgIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdFx0ICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciByZXF1aXJlJCQyID0gX2dldFByb3RvdHlwZSAmJiB0eXBlb2YgX2dldFByb3RvdHlwZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIF9nZXRQcm90b3R5cGUgPyBfZ2V0UHJvdG90eXBlWydkZWZhdWx0J10gOiBfZ2V0UHJvdG90eXBlO1xuXHRcblx0XHR2YXIgaXNQbGFpbk9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgdmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUkJDIsXG5cdFx0ICAgICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSQkMSxcblx0XHQgICAgICBpc09iamVjdExpa2UgPSByZXF1aXJlJCQwO1xuXHRcblx0XHQgIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0XHQgIHZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdFx0ICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0XHQgIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdFx0ICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdFx0ICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdFx0ICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0XHQgICAqIG9mIHZhbHVlcy5cblx0XHQgICAqL1xuXHRcdCAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdFx0ICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSAwLjguMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG5cdFx0ICAgKiAgZWxzZSBgZmFsc2VgLlxuXHRcdCAgICogQGV4YW1wbGVcblx0XHQgICAqXG5cdFx0ICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdFx0ICAgKiAgIHRoaXMuYSA9IDE7XG5cdFx0ICAgKiB9XG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuXHRcdCAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0XHQgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdCAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QkMSA9IGlzUGxhaW5PYmplY3QgJiYgdHlwZW9mIGlzUGxhaW5PYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpc1BsYWluT2JqZWN0ID8gaXNQbGFpbk9iamVjdFsnZGVmYXVsdCddIDogaXNQbGFpbk9iamVjdDtcblx0XG5cdFx0dmFyIGluZGV4ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cblx0XHQgICAgICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuXHRcdCAgICAgKi9cblx0XHQgICAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0XHQgICAgdmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuXHRcdCAgICAgICAgbWl4aW5zOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvcFR5cGVzOiB0cnVlLFxuXHRcdCAgICAgICAgdHlwZTogdHJ1ZVxuXHRcdCAgICB9O1xuXHRcblx0XHQgICAgdmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBuYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgbGVuZ3RoOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvdG90eXBlOiB0cnVlLFxuXHRcdCAgICAgICAgY2FsbGVyOiB0cnVlLFxuXHRcdCAgICAgICAgYXJndW1lbnRzOiB0cnVlLFxuXHRcdCAgICAgICAgYXJpdHk6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcblx0XHQgICAgICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuXHRcdCAgICAgICAgICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cdFx0ICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXHRcdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHRcdCAgICAgICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuXHRcdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cdFx0ICAgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcblx0XHQgICAgfTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGhvaXN0U3RhdGljcyA9IGluZGV4ICYmIHR5cGVvZiBpbmRleCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGluZGV4ID8gaW5kZXhbJ2RlZmF1bHQnXSA6IGluZGV4O1xuXHRcblx0XHR2YXIgaW52YXJpYW50ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdFx0ICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHRcdCAgICpcblx0XHQgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHRcdCAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdFx0ICAgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0XHQgICAqL1xuXHRcblx0XHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAvKipcblx0XHQgICAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0XHQgICAqXG5cdFx0ICAgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHRcdCAgICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdFx0ICAgKiBleHBlY3RpbmcuXG5cdFx0ICAgKlxuXHRcdCAgICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0XHQgICAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0XHQgICAqL1xuXHRcblx0XHQgIHZhciBOT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XG5cdFxuXHRcdCAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdCAgICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcblx0XHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0XHQgICAgICB2YXIgZXJyb3I7XG5cdFx0ICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0XHQgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0XHQgICAgICAgIH0pKTtcblx0XHQgICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdFx0ICAgICAgdGhyb3cgZXJyb3I7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpbnZhcmlhbnQkMSA9IGludmFyaWFudCAmJiB0eXBlb2YgaW52YXJpYW50ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaW52YXJpYW50ID8gaW52YXJpYW50WydkZWZhdWx0J10gOiBpbnZhcmlhbnQ7XG5cdFxuXHRcdHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdFx0ICByZXR1cm4ge307XG5cdFx0fTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHZhciBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICByZXR1cm4geyBkaXNwYXRjaDogZGlzcGF0Y2ggfTtcblx0XHR9O1xuXHRcdHZhciBkZWZhdWx0TWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgcmV0dXJuIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHRcdH1cblx0XG5cdFx0dmFyIGVycm9yT2JqZWN0ID0geyB2YWx1ZTogbnVsbCB9O1xuXHRcdGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcblx0XHQgIHRyeSB7XG5cdFx0ICAgIHJldHVybiBmbi5hcHBseShjdHgpO1xuXHRcdCAgfSBjYXRjaCAoZSkge1xuXHRcdCAgICBlcnJvck9iamVjdC52YWx1ZSA9IGU7XG5cdFx0ICAgIHJldHVybiBlcnJvck9iamVjdDtcblx0XHQgIH1cblx0XHR9XG5cdFxuXHRcdC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0dmFyIG5leHRWZXJzaW9uID0gMDtcblx0XG5cdFx0ZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykge1xuXHRcdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdFx0ICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuXHRcdCAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG5cdFxuXHRcdCAgdmFyIG1hcERpc3BhdGNoID0gdm9pZCAwO1xuXHRcdCAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHM7XG5cdFx0ICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKTtcblx0XHQgIH1cblx0XG5cdFx0ICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XHQgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuXHRcdCAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcblx0XHQgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuXHRcdCAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG5cdFxuXHRcdCAgdmFyIGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzO1xuXHRcblx0XHQgIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0ICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG5cdFxuXHRcdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG5cdFx0ICAgIHZhciBjb25uZWN0RGlzcGxheU5hbWUgPSAnQ29ubmVjdCgnICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcblx0XHQgICAgICBpZiAoIWlzUGxhaW5PYmplY3QkMShwcm9wcykpIHtcblx0XHQgICAgICAgIHdhcm5pbmcobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgICAgIHZhciBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcyk7XG5cdFx0ICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgZnVuY3Rpb24gQ29ubmVjdChwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICAgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXHRcblx0XHQgICAgICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdCAgICAgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlO1xuXHRcblx0XHQgICAgICAgIGludmFyaWFudCQxKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnICsgKCdwcm9wcyBvZiBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuICcpICsgJ0VpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcgKyAoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICdcIi4nKSk7XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfTtcblx0XHQgICAgICAgIF90aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICAgIHJldHVybiBfdGhpcztcblx0XHQgICAgICB9XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpO1xuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShzdGF0ZVByb3BzLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gc3RhdGVQcm9wcztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGU7XG5cdFx0ICAgICAgICB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcHV0ZURpc3BhdGNoUHJvcHMgPSBmdW5jdGlvbiBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpO1xuXHRcdCAgICAgICAgdmFyIGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJztcblx0XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcblx0XHQgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuXHRcblx0XHQgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBtYXBwZWREaXNwYXRjaDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzO1xuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcblx0XHQgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcblx0XHQgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcblx0XHQgICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG5cdFx0ICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcyk7XG5cdFx0ICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RvcmVTdGF0ZTogc3RvcmVTdGF0ZSB9KTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMSh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAneyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuJyk7XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdCAgICAgICAgdmFyIGhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQ7XG5cdFx0ICAgICAgICB2YXIgaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMucmVuZGVyZWRFbGVtZW50O1xuXHRcblx0XG5cdFx0ICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFxuXHRcdCAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG5cdFx0ICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcztcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG5cdFx0ICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHwgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAod2l0aFJlZikge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCB0aGlzLm1lcmdlZFByb3BzLCB7XG5cdFx0ICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuXHRcdCAgICAgICAgICB9KSk7XG5cdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICByZXR1cm4gQ29ubmVjdDtcblx0XHQgICAgfShwcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG5cdFx0ICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cdFx0ICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge1xuXHRcdCAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG5cdFx0ICAgIH07XG5cdFxuXHRcblx0XHQgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcblx0XHQgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuXHRcdCAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdGV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcblx0XHRleHBvcnRzLmNvbm5lY3QgPSBjb25uZWN0O1xuXG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUpIHshZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdCAgICAgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cykgOiAnZnVuY3Rpb24nID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbICdleHBvcnRzJyBdLCBmYWN0b3J5KSA6IGZhY3RvcnkoZ2xvYmFsLnByZWFjdCA9IGdsb2JhbC5wcmVhY3QgfHwge30pO1xuXHR9KHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0ICAgIGZ1bmN0aW9uIFZOb2RlKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBjaGlsZHJlbikge1xuXHQgICAgICAgIHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZTtcblx0ICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXHQgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0ICAgICAgICB0aGlzLmtleSA9IGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5rZXk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBleHRlbmQob2JqLCBwcm9wcykge1xuXHQgICAgICAgIGlmIChwcm9wcykgZm9yICh2YXIgaSBpbiBwcm9wcykgaWYgKHZvaWQgMCAhPT0gcHJvcHNbaV0pIG9ialtpXSA9IHByb3BzW2ldO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0ICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBvYmopO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGVsdmUob2JqLCBrZXkpIHtcblx0ICAgICAgICBmb3IgKHZhciBwID0ga2V5LnNwbGl0KCcuJyksIGkgPSAwOyBpIDwgcC5sZW5ndGggJiYgb2JqOyBpKyspIG9iaiA9IG9ialtwW2ldXTtcblx0ICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdG9BcnJheShvYmosIG9mZnNldCkge1xuXHQgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKG9iaiwgb2Zmc2V0KTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuICdmdW5jdGlvbicgPT0gdHlwZW9mIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHQgICAgICAgIHJldHVybiAnc3RyaW5nJyA9PSB0eXBlb2Ygb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHQgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHggfHwgbnVsbCA9PT0geDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGZhbHNleSh2YWx1ZSkge1xuXHQgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gITEgfHwgZW1wdHkodmFsdWUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaGFzaFRvQ2xhc3NOYW1lKGMpIHtcblx0ICAgICAgICB2YXIgc3RyID0gJyc7XG5cdCAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBjKSBpZiAoY1twcm9wXSkge1xuXHQgICAgICAgICAgICBpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHQgICAgICAgICAgICBzdHIgKz0gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGZpcnN0Q2hpbGQpIHtcblx0ICAgICAgICB2YXIgY2hpbGRyZW4sIGFyciwgbGFzdFNpbXBsZSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgICAgICBpZiAobGVuID4gMikge1xuXHQgICAgICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHQgICAgICAgICAgICBpZiAoMyA9PT0gbGVuICYmICdvYmplY3QnICE9PSB0eXBlICYmICdmdW5jdGlvbicgIT09IHR5cGUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghZmFsc2V5KGZpcnN0Q2hpbGQpKSBjaGlsZHJlbiA9IFsgU3RyaW5nKGZpcnN0Q2hpbGQpIF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IFtdO1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBfcCA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWZhbHNleShfcCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wLmpvaW4pIGFyciA9IF9wOyBlbHNlIChhcnIgPSBTSEFSRURfVEVNUF9BUlJBWSlbMF0gPSBfcDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnIubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGFycltqXSwgc2ltcGxlID0gIShmYWxzZXkoY2hpbGQpIHx8IGlzRnVuY3Rpb24oY2hpbGQpIHx8IGNoaWxkIGluc3RhbmNlb2YgVk5vZGUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiAhaXNTdHJpbmcoY2hpbGQpKSBjaGlsZCA9IFN0cmluZyhjaGlsZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdICs9IGNoaWxkOyBlbHNlIGlmICghZmFsc2V5KGNoaWxkKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTaW1wbGUgPSBzaW1wbGU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IGVsc2UgO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuY2hpbGRyZW4pIHJldHVybiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzLmNoaWxkcmVuKTtcblx0ICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICBpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikgZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdCAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihub2RlTmFtZSkpIHtcblx0ICAgICAgICAgICAgICAgIGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGxhc3RTaW1wbGUgPSBhdHRyaWJ1dGVzLmNsYXNzO1xuXHQgICAgICAgICAgICAgICAgaWYgKGxhc3RTaW1wbGUgJiYgIWlzU3RyaW5nKGxhc3RTaW1wbGUpKSBhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBwID0gbmV3IFZOb2RlKG5vZGVOYW1lLCBhdHRyaWJ1dGVzIHx8IHZvaWQgMCwgY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHApO1xuXHQgICAgICAgIHJldHVybiBwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xvbmVFbGVtZW50KHZub2RlLCBwcm9wcykge1xuXHQgICAgICAgIHJldHVybiBoKHZub2RlLm5vZGVOYW1lLCBleHRlbmQoY2xvbmUodm5vZGUuYXR0cmlidXRlcyksIHByb3BzKSwgYXJndW1lbnRzLmxlbmd0aCA+IDIgPyB0b0FycmF5KGFyZ3VtZW50cywgMikgOiB2bm9kZS5jaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVMaW5rZWRTdGF0ZShjb21wb25lbnQsIGtleSwgZXZlbnRQYXRoKSB7XG5cdCAgICAgICAgdmFyIHBhdGggPSBrZXkuc3BsaXQoJy4nKSwgcDAgPSBwYXRoWzBdO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgIHZhciBfY29tcG9uZW50JHNldFN0YXRlO1xuXHQgICAgICAgICAgICB2YXIgdiwgaSwgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsIHMgPSBjb21wb25lbnQuc3RhdGUsIG9iaiA9IHM7XG5cdCAgICAgICAgICAgIGlmIChpc1N0cmluZyhldmVudFBhdGgpKSB7XG5cdCAgICAgICAgICAgICAgICB2ID0gZGVsdmUoZSwgZXZlbnRQYXRoKTtcblx0ICAgICAgICAgICAgICAgIGlmIChlbXB0eSh2KSAmJiAodCA9IHQuX2NvbXBvbmVudCkpIHYgPSBkZWx2ZSh0LCBldmVudFBhdGgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgdiA9IHQubm9kZU5hbWUgPyAodC5ub2RlTmFtZSArIHQudHlwZSkubWF0Y2goL15pbnB1dChjaGVja3xyYWQpL2kpID8gdC5jaGVja2VkIDogdC52YWx1ZSA6IGU7XG5cdCAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHQgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIG9iaiA9IG9ialtwYXRoW2ldXSB8fCAob2JqW3BhdGhbaV1dID0ge30pO1xuXHQgICAgICAgICAgICAgICAgb2JqW3BhdGhbaV1dID0gdjtcblx0ICAgICAgICAgICAgICAgIHYgPSBzW3AwXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb21wb25lbnQuc2V0U3RhdGUoKF9jb21wb25lbnQkc2V0U3RhdGUgPSB7fSwgX2NvbXBvbmVudCRzZXRTdGF0ZVtwMF0gPSB2LCBfY29tcG9uZW50JHNldFN0YXRlKSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdCAgICAgICAgaWYgKDEgPT09IGl0ZW1zLnB1c2goY29tcG9uZW50KSkgKG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZXJlbmRlcigpIHtcblx0ICAgICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHZhciBwLCBjdXJyZW50SXRlbXMgPSBpdGVtcztcblx0ICAgICAgICAgICAgaXRlbXMgPSBpdGVtc09mZmxpbmU7XG5cdCAgICAgICAgICAgIGl0ZW1zT2ZmbGluZSA9IGN1cnJlbnRJdGVtcztcblx0ICAgICAgICAgICAgd2hpbGUgKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpIGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSkge1xuXHQgICAgICAgIHZhciBub2RlTmFtZSA9IHZub2RlICYmIHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIHJldHVybiBub2RlTmFtZSAmJiBpc0Z1bmN0aW9uKG5vZGVOYW1lKSAmJiAhKG5vZGVOYW1lLnByb3RvdHlwZSAmJiBub2RlTmFtZS5wcm90b3R5cGUucmVuZGVyKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSwgY29udGV4dCkge1xuXHQgICAgICAgIHJldHVybiB2bm9kZS5ub2RlTmFtZShnZXROb2RlUHJvcHModm5vZGUpLCBjb250ZXh0IHx8IEVNUFRZKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVuc3VyZU5vZGVEYXRhKG5vZGUsIGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gbm9kZVtBVFRSX0tFWV0gfHwgKG5vZGVbQVRUUl9LRVldID0gZGF0YSB8fCB7fSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdCAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSByZXR1cm4gMztcblx0ICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHJldHVybiAxOyBlbHNlIHJldHVybiAwO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdCAgICAgICAgdmFyIHAgPSBub2RlLnBhcmVudE5vZGU7XG5cdCAgICAgICAgaWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHQgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUpW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgaWYgKCdrZXknICE9PSBuYW1lICYmICdjaGlsZHJlbicgIT09IG5hbWUpIGlmICgnY2xhc3MnID09PSBuYW1lICYmICFpc1N2Zykgbm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJzsgZWxzZSBpZiAoJ3N0eWxlJyA9PT0gbmFtZSkge1xuXHQgICAgICAgICAgICBpZiAoIXZhbHVlIHx8IGlzU3RyaW5nKHZhbHVlKSB8fCBpc1N0cmluZyhvbGQpKSBub2RlLnN0eWxlLmNzc1RleHQgPSB2YWx1ZSB8fCAnJztcblx0ICAgICAgICAgICAgaWYgKHZhbHVlICYmICdvYmplY3QnID09IHR5cGVvZiB2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhvbGQpKSBmb3IgKHZhciBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdmFsdWUpIG5vZGUuc3R5bGVbaV0gPSAnbnVtYmVyJyA9PSB0eXBlb2YgdmFsdWVbaV0gJiYgIU5PTl9ESU1FTlNJT05fUFJPUFNbaV0gPyB2YWx1ZVtpXSArICdweCcgOiB2YWx1ZVtpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyA9PT0gbmFtZSkge1xuXHQgICAgICAgICAgICBpZiAodmFsdWUpIG5vZGUuaW5uZXJIVE1MID0gdmFsdWUuX19odG1sO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoJ28nID09PSBuYW1lWzBdICYmICduJyA9PT0gbmFtZVsxXSkge1xuXHQgICAgICAgICAgICB2YXIgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHQgICAgICAgICAgICBuYW1lID0gdG9Mb3dlckNhc2UobmFtZS5zdWJzdHJpbmcoMikpO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghbFtuYW1lXSkgbm9kZS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGxbbmFtZV0pIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0ICAgICAgICAgICAgbFtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoJ3R5cGUnICE9PSBuYW1lICYmICFpc1N2ZyAmJiBuYW1lIGluIG5vZGUpIHtcblx0ICAgICAgICAgICAgc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdCAgICAgICAgICAgIGlmIChmYWxzZXkodmFsdWUpKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgbnMgPSBpc1N2ZyAmJiBuYW1lLm1hdGNoKC9eeGxpbmtcXDo/KC4rKS8pO1xuXHQgICAgICAgICAgICBpZiAoZmFsc2V5KHZhbHVlKSkgaWYgKG5zKSBub2RlLnJlbW92ZUF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pKTsgZWxzZSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsgZWxzZSBpZiAoJ29iamVjdCcgIT0gdHlwZW9mIHZhbHVlICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkgaWYgKG5zKSBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdG9Mb3dlckNhc2UobnNbMV0pLCB2YWx1ZSk7IGVsc2Ugbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldFByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgbm9kZVtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCAmJiBvcHRpb25zLmV2ZW50KGUpIHx8IGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMobm9kZSkge1xuXHQgICAgICAgIHZhciBhdHRycyA9IHt9O1xuXHQgICAgICAgIGZvciAodmFyIGkgPSBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBpLS07ICkgYXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHQgICAgICAgIHJldHVybiBhdHRycztcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzU2FtZU5vZGVUeXBlKG5vZGUsIHZub2RlKSB7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlKSkgcmV0dXJuIDMgPT09IGdldE5vZGVUeXBlKG5vZGUpO1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZS5ub2RlTmFtZSkpIHJldHVybiBpc05hbWVkTm9kZShub2RlLCB2bm9kZS5ub2RlTmFtZSk7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24odm5vZGUubm9kZU5hbWUpKSByZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lIHx8IGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSk7IGVsc2UgO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNOYW1lZE5vZGUobm9kZSwgbm9kZU5hbWUpIHtcblx0ICAgICAgICByZXR1cm4gbm9kZS5ub3JtYWxpemVkTm9kZU5hbWUgPT09IG5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpID09PSB0b0xvd2VyQ2FzZShub2RlTmFtZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXROb2RlUHJvcHModm5vZGUpIHtcblx0ICAgICAgICB2YXIgZGVmYXVsdFByb3BzID0gdm5vZGUubm9kZU5hbWUuZGVmYXVsdFByb3BzLCBwcm9wcyA9IGNsb25lKGRlZmF1bHRQcm9wcyB8fCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAoZGVmYXVsdFByb3BzKSBleHRlbmQocHJvcHMsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmICh2bm9kZS5jaGlsZHJlbikgcHJvcHMuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblx0ICAgICAgICByZXR1cm4gcHJvcHM7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjb2xsZWN0Tm9kZShub2RlKSB7XG5cdCAgICAgICAgY2xlYW5Ob2RlKG5vZGUpO1xuXHQgICAgICAgIHZhciBuYW1lID0gdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSksIGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgbGlzdC5wdXNoKG5vZGUpOyBlbHNlIG5vZGVzW25hbWVdID0gWyBub2RlIF07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Zykge1xuXHQgICAgICAgIHZhciBuYW1lID0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpLCBub2RlID0gbm9kZXNbbmFtZV0gJiYgbm9kZXNbbmFtZV0ucG9wKCkgfHwgKGlzU3ZnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5vZGVOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpKTtcblx0ICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlKTtcblx0ICAgICAgICBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdCAgICAgICAgcmV0dXJuIG5vZGU7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbGVhbk5vZGUobm9kZSkge1xuXHQgICAgICAgIHJlbW92ZU5vZGUobm9kZSk7XG5cdCAgICAgICAgaWYgKDEgPT09IGdldE5vZGVUeXBlKG5vZGUpKSB7XG5cdCAgICAgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpKTtcblx0ICAgICAgICAgICAgbm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHQgICAgICAgIHZhciBjO1xuXHQgICAgICAgIHdoaWxlIChjID0gbW91bnRzLnBvcCgpKSBpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgcGFyZW50KSB7XG5cdCAgICAgICAgZGlmZkxldmVsKys7XG5cdCAgICAgICAgdmFyIHJldCA9IGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBpZiAocGFyZW50ICYmIHJldC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHQgICAgICAgIGlmICghLS1kaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIG9yaWdpbmFsQXR0cmlidXRlcyA9IHZub2RlICYmIHZub2RlLmF0dHJpYnV0ZXM7XG5cdCAgICAgICAgd2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSkpIHZub2RlID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlLCBjb250ZXh0KTtcblx0ICAgICAgICBpZiAoZW1wdHkodm5vZGUpKSByZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlKSkge1xuXHQgICAgICAgICAgICBpZiAoZG9tKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoMyA9PT0gZ2V0Tm9kZVR5cGUoZG9tKSAmJiBkb20ucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChkb20ubm9kZVZhbHVlICE9IHZub2RlKSBkb20ubm9kZVZhbHVlID0gdm5vZGU7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvbTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGNvbGxlY3ROb2RlKGRvbSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZub2RlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHN2Z01vZGUsIG91dCA9IGRvbSwgbm9kZU5hbWUgPSB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbihub2RlTmFtZSkpIHJldHVybiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgaWYgKCFpc1N0cmluZyhub2RlTmFtZSkpIG5vZGVOYW1lID0gU3RyaW5nKG5vZGVOYW1lKTtcblx0ICAgICAgICBzdmdNb2RlID0gJ3N2ZycgPT09IHRvTG93ZXJDYXNlKG5vZGVOYW1lKTtcblx0ICAgICAgICBpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gITA7XG5cdCAgICAgICAgaWYgKCFkb20pIG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnTW9kZSk7IGVsc2UgaWYgKCFpc05hbWVkTm9kZShkb20sIG5vZGVOYW1lKSkge1xuXHQgICAgICAgICAgICBvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHQgICAgICAgICAgICB3aGlsZSAoZG9tLmZpcnN0Q2hpbGQpIG91dC5hcHBlbmRDaGlsZChkb20uZmlyc3RDaGlsZCk7XG5cdCAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKGRvbSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh2bm9kZS5jaGlsZHJlbiAmJiAxID09PSB2bm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgJ3N0cmluZycgPT0gdHlwZW9mIHZub2RlLmNoaWxkcmVuWzBdICYmIDEgPT09IG91dC5jaGlsZE5vZGVzLmxlbmd0aCAmJiBvdXQuZmlyc3RDaGlsZCBpbnN0YW5jZW9mIFRleHQpIG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdOyBlbHNlIGlmICh2bm9kZS5jaGlsZHJlbiB8fCBvdXQuZmlyc3RDaGlsZCkgaW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgZGlmZkF0dHJpYnV0ZXMob3V0LCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAob3JpZ2luYWxBdHRyaWJ1dGVzICYmIG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpIChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdCAgICAgICAgaWYgKHN2Z01vZGUpIGlzU3ZnTW9kZSA9ICExO1xuXHQgICAgICAgIHJldHVybiBvdXQ7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpbm5lckRpZmZOb2RlKGRvbSwgdmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBqLCBjLCB2Y2hpbGQsIGNoaWxkLCBvcmlnaW5hbENoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMsIGNoaWxkcmVuID0gW10sIGtleWVkID0ge30sIGtleWVkTGVuID0gMCwgbWluID0gMCwgbGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsIGNoaWxkcmVuTGVuID0gMCwgdmxlbiA9IHZjaGlsZHJlbiAmJiB2Y2hpbGRyZW4ubGVuZ3RoO1xuXHQgICAgICAgIGlmIChsZW4pIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgdmFyIF9jaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sIGtleSA9IHZsZW4gPyAoYyA9IF9jaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IF9jaGlsZFtBVFRSX0tFWV0pID8gYy5rZXkgOiBudWxsIDogbnVsbDtcblx0ICAgICAgICAgICAgaWYgKGtleSB8fCAwID09PSBrZXkpIHtcblx0ICAgICAgICAgICAgICAgIGtleWVkTGVuKys7XG5cdCAgICAgICAgICAgICAgICBrZXllZFtrZXldID0gX2NoaWxkO1xuXHQgICAgICAgICAgICB9IGVsc2UgY2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBfY2hpbGQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh2bGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IHZsZW47IGkrKykge1xuXHQgICAgICAgICAgICB2Y2hpbGQgPSB2Y2hpbGRyZW5baV07XG5cdCAgICAgICAgICAgIGNoaWxkID0gbnVsbDtcblx0ICAgICAgICAgICAgaWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5ID0gdmNoaWxkLmtleTtcblx0ICAgICAgICAgICAgICAgIGlmICghZW1wdHkoa2V5KSAmJiBrZXkgaW4ga2V5ZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGtleWVkW2tleV07XG5cdCAgICAgICAgICAgICAgICAgICAga2V5ZWRba2V5XSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgICAgICBrZXllZExlbi0tO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY2hpbGQgJiYgbWluIDwgY2hpbGRyZW5MZW4pIGZvciAoaiA9IG1pbjsgaiA8IGNoaWxkcmVuTGVuOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIGMgPSBjaGlsZHJlbltqXTtcblx0ICAgICAgICAgICAgICAgIGlmIChjICYmIGlzU2FtZU5vZGVUeXBlKGMsIHZjaGlsZCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGM7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5bal0gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IGNoaWxkcmVuTGVuIC0gMSkgY2hpbGRyZW5MZW4tLTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbWluKSBtaW4rKztcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjaGlsZCA9IGlkaWZmKGNoaWxkLCB2Y2hpbGQsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBvcmlnaW5hbENoaWxkcmVuW2ldKSBkb20uaW5zZXJ0QmVmb3JlKGNoaWxkLCBvcmlnaW5hbENoaWxkcmVuW2ldIHx8IG51bGwpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoa2V5ZWRMZW4pIGZvciAodmFyIGkgaW4ga2V5ZWQpIGlmIChrZXllZFtpXSkgY2hpbGRyZW5bbWluID0gY2hpbGRyZW5MZW4rK10gPSBrZXllZFtpXTtcblx0ICAgICAgICBpZiAobWluIDwgY2hpbGRyZW5MZW4pIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oY2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHQgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0ICAgICAgICAgICAgaWYgKGNoaWxkKSByZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHVubW91bnRPbmx5KSB7XG5cdCAgICAgICAgdmFyIGNvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudDtcblx0ICAgICAgICBpZiAoY29tcG9uZW50KSB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTsgZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChub2RlW0FUVFJfS0VZXSAmJiBub2RlW0FUVFJfS0VZXS5yZWYpIG5vZGVbQVRUUl9LRVldLnJlZihudWxsKTtcblx0ICAgICAgICAgICAgaWYgKCF1bm1vdW50T25seSkgY29sbGVjdE5vZGUobm9kZSk7XG5cdCAgICAgICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkaWZmQXR0cmlidXRlcyhkb20sIGF0dHJzKSB7XG5cdCAgICAgICAgdmFyIG9sZCA9IGRvbVtBVFRSX0tFWV0gfHwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMoZG9tKTtcblx0ICAgICAgICBmb3IgKHZhciBfbmFtZSBpbiBvbGQpIGlmICghKGF0dHJzICYmIF9uYW1lIGluIGF0dHJzKSkgc2V0QWNjZXNzb3IoZG9tLCBfbmFtZSwgbnVsbCwgb2xkW19uYW1lXSwgaXNTdmdNb2RlKTtcblx0ICAgICAgICBpZiAoYXR0cnMpIGZvciAodmFyIF9uYW1lMiBpbiBhdHRycykgaWYgKCEoX25hbWUyIGluIG9sZCkgfHwgYXR0cnNbX25hbWUyXSAhPSAoJ3ZhbHVlJyA9PT0gX25hbWUyIHx8ICdzZWxlY3RlZCcgPT09IF9uYW1lMiB8fCAnY2hlY2tlZCcgPT09IF9uYW1lMiA/IGRvbVtfbmFtZTJdIDogb2xkW19uYW1lMl0pKSBzZXRBY2Nlc3Nvcihkb20sIF9uYW1lMiwgYXR0cnNbX25hbWUyXSwgb2xkW19uYW1lMl0sIGlzU3ZnTW9kZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuXHQgICAgICAgIHZhciBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsIGxpc3QgPSBjb21wb25lbnRzW25hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTsgZWxzZSBjb21wb25lbnRzW25hbWVdID0gWyBjb21wb25lbnQgXTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHQgICAgICAgIHZhciBpbnN0ID0gbmV3IEN0b3IocHJvcHMsIGNvbnRleHQpLCBsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKSBpZiAobGlzdFtpXS5jb25zdHJ1Y3RvciA9PT0gQ3Rvcikge1xuXHQgICAgICAgICAgICBpbnN0Lm5leHRCYXNlID0gbGlzdFtpXS5uZXh0QmFzZTtcblx0ICAgICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaW5zdDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2RpcnR5KSB7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlydHkgPSAhMDtcblx0ICAgICAgICAgICAgZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGIgPSBjb21wb25lbnQuYmFzZTtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykge1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMDtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikgZGVsZXRlIHByb3BzLnJlZjtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX2tleSA9IHByb3BzLmtleSkgZGVsZXRlIHByb3BzLmtleTtcblx0ICAgICAgICAgICAgaWYgKGVtcHR5KGIpIHx8IG1vdW50QWxsKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSBjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQgIT09IGNvbXBvbmVudC5jb250ZXh0KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudC5wcmV2Q29udGV4dCkgY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQ7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFjb21wb25lbnQucHJldlByb3BzKSBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByb3BzO1xuXHQgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITE7XG5cdCAgICAgICAgICAgIGlmICgwICE9PSBvcHRzKSBpZiAoMSA9PT0gb3B0cyB8fCBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzICE9PSAhMSB8fCAhYikgcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgMSwgbW91bnRBbGwpOyBlbHNlIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykge1xuXHQgICAgICAgICAgICB2YXIgc2tpcCwgcmVuZGVyZWQsIHByb3BzID0gY29tcG9uZW50LnByb3BzLCBzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSwgY29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0LCBwcmV2aW91c1Byb3BzID0gY29tcG9uZW50LnByZXZQcm9wcyB8fCBwcm9wcywgcHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsIHByZXZpb3VzQ29udGV4dCA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCB8fCBjb250ZXh0LCBpc1VwZGF0ZSA9IGNvbXBvbmVudC5iYXNlLCBpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSwgbmV4dFNpYmxpbmcgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5uZXh0U2libGluZywgYmFzZVBhcmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUsIGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LCBpbml0aWFsQ2hpbGRDb21wb25lbnQgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0ICAgICAgICAgICAgaWYgKGlzVXBkYXRlKSB7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcmV2aW91c1Byb3BzO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuXHQgICAgICAgICAgICAgICAgaWYgKDIgIT09IG9wdHMgJiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCkgPT09ICExKSBza2lwID0gITA7IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlydHkgPSAhMTtcblx0ICAgICAgICAgICAgaWYgKCFza2lwKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmdldENoaWxkQ29udGV4dCkgY29udGV4dCA9IGV4dGVuZChjbG9uZShjb250ZXh0KSwgY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpKTtcblx0ICAgICAgICAgICAgICAgIHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQocmVuZGVyZWQpKSByZW5kZXJlZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdG9Vbm1vdW50LCBiYXNlLCBjaGlsZENvbXBvbmVudCA9IHJlbmRlcmVkICYmIHJlbmRlcmVkLm5vZGVOYW1lO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2hpbGRDb21wb25lbnQpICYmIGNoaWxkQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGluc3QgJiYgaW5zdC5jb25zdHJ1Y3RvciA9PT0gY2hpbGRDb21wb25lbnQpIHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDEsIGNvbnRleHQpOyBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9Vbm1vdW50ID0gaW5zdDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAwLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29tcG9uZW50KGluc3QsIDEpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBiYXNlID0gaW5zdC5iYXNlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY2Jhc2UgPSBpbml0aWFsQmFzZTtcblx0ICAgICAgICAgICAgICAgICAgICB0b1VubW91bnQgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRvVW5tb3VudCkgY2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxCYXNlIHx8IDEgPT09IG9wdHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFzZSAmJiBiYXNlICE9PSBpbml0aWFsQmFzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChiYXNlUGFyZW50ICYmIGJhc2UgIT09IGJhc2VQYXJlbnQpIGJhc2VQYXJlbnQuaW5zZXJ0QmVmb3JlKGJhc2UsIG5leHRTaWJsaW5nIHx8IG51bGwpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQgPT09IGNvbXBvbmVudCAmJiAhaW5pdGlhbENoaWxkQ29tcG9uZW50ICYmIGluaXRpYWxCYXNlLnBhcmVudE5vZGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEJhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKGluaXRpYWxCYXNlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAodG9Vbm1vdW50KSB1bm1vdW50Q29tcG9uZW50KHRvVW5tb3VudCwgITApO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmJhc2UgPSBiYXNlO1xuXHQgICAgICAgICAgICAgICAgaWYgKGJhc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50UmVmID0gY29tcG9uZW50LCB0ID0gY29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0ID0gdC5fcGFyZW50Q29tcG9uZW50KSBjb21wb25lbnRSZWYgPSB0O1xuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9IGNvbXBvbmVudFJlZi5jb25zdHJ1Y3Rvcjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWlzVXBkYXRlIHx8IG1vdW50QWxsKSB7XG5cdCAgICAgICAgICAgICAgICBtb3VudHMudW5zaGlmdChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1Byb3BzLCBwcmV2aW91c1N0YXRlLCBwcmV2aW91c0NvbnRleHQpO1xuXHQgICAgICAgICAgICB2YXIgZm4sIGNiID0gY29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3M7XG5cdCAgICAgICAgICAgIGlmIChjYikgd2hpbGUgKGZuID0gY2IucG9wKCkpIGZuLmNhbGwoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGMgPSBkb20gJiYgZG9tLl9jb21wb25lbnQsIG9sZERvbSA9IGRvbSwgaXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUsIGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLCBwcm9wcyA9IGdldE5vZGVQcm9wcyh2bm9kZSk7XG5cdCAgICAgICAgd2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGMgPSBjLl9wYXJlbnRDb21wb25lbnQpKSBpc093bmVyID0gYy5jb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgaWYgKGlzT3duZXIgJiYgKCFtb3VudEFsbCB8fCBjLl9jb21wb25lbnQpKSB7XG5cdCAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCAzLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGRvbSA9IGMuYmFzZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYyAmJiAhaXNEaXJlY3RPd25lcikge1xuXHQgICAgICAgICAgICAgICAgdW5tb3VudENvbXBvbmVudChjLCAhMCk7XG5cdCAgICAgICAgICAgICAgICBkb20gPSBvbGREb20gPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGMgPSBjcmVhdGVDb21wb25lbnQodm5vZGUubm9kZU5hbWUsIHByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgaWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0ICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDEsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgZG9tID0gYy5iYXNlO1xuXHQgICAgICAgICAgICBpZiAob2xkRG9tICYmIGRvbSAhPT0gb2xkRG9tKSB7XG5cdCAgICAgICAgICAgICAgICBvbGREb20uX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShvbGREb20pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkb207XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgcmVtb3ZlKSB7XG5cdCAgICAgICAgdmFyIGJhc2UgPSBjb21wb25lbnQuYmFzZTtcblx0ICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMDtcblx0ICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0ICAgICAgICBjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdCAgICAgICAgdmFyIGlubmVyID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdCAgICAgICAgaWYgKGlubmVyKSB1bm1vdW50Q29tcG9uZW50KGlubmVyLCByZW1vdmUpOyBlbHNlIGlmIChiYXNlKSB7XG5cdCAgICAgICAgICAgIGlmIChiYXNlW0FUVFJfS0VZXSAmJiBiYXNlW0FUVFJfS0VZXS5yZWYpIGJhc2VbQVRUUl9LRVldLnJlZihudWxsKTtcblx0ICAgICAgICAgICAgY29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblx0ICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuXHQgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShiYXNlKTtcblx0ICAgICAgICAgICAgICAgIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGJhc2UuY2hpbGROb2RlcywgIXJlbW92ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0ICAgICAgICBpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcblx0ICAgICAgICB0aGlzLl9kaXJ0eSA9ICEwO1xuXHQgICAgICAgIHRoaXMuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMTtcblx0ICAgICAgICB0aGlzLnByZXZTdGF0ZSA9IHRoaXMucHJldlByb3BzID0gdGhpcy5wcmV2Q29udGV4dCA9IHRoaXMuYmFzZSA9IHRoaXMubmV4dEJhc2UgPSB0aGlzLl9wYXJlbnRDb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnQgPSB0aGlzLl9fcmVmID0gdGhpcy5fX2tleSA9IHRoaXMuX2xpbmtlZFN0YXRlcyA9IHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0ICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlICYmIHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgfHwge307XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0ICAgICAgICByZXR1cm4gZGlmZihtZXJnZSwgdm5vZGUsIHt9LCAhMSwgcGFyZW50KTtcblx0ICAgIH1cblx0ICAgIHZhciBsY0NhY2hlID0ge307XG5cdCAgICB2YXIgdG9Mb3dlckNhc2UgPSBmdW5jdGlvbihzKSB7XG5cdCAgICAgICAgcmV0dXJuIGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXHQgICAgfTtcblx0ICAgIHZhciByZXNvbHZlZCA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSgpO1xuXHQgICAgdmFyIHNldEltbWVkaWF0ZSA9IHJlc29sdmVkID8gZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJlc29sdmVkLnRoZW4oZik7XG5cdCAgICB9IDogc2V0VGltZW91dDtcblx0ICAgIHZhciBvcHRpb25zID0ge1xuXHQgICAgICAgIHZub2RlOiBlbXB0eVxuXHQgICAgfTtcblx0ICAgIHZhciBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXHQgICAgdmFyIEVNUFRZID0ge307XG5cdCAgICB2YXIgQVRUUl9LRVkgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sLmZvcigncHJlYWN0YXR0cicpIDogJ19fcHJlYWN0YXR0cl8nO1xuXHQgICAgdmFyIE5PTl9ESU1FTlNJT05fUFJPUFMgPSB7XG5cdCAgICAgICAgYm94RmxleDogMSxcblx0ICAgICAgICBib3hGbGV4R3JvdXA6IDEsXG5cdCAgICAgICAgY29sdW1uQ291bnQ6IDEsXG5cdCAgICAgICAgZmlsbE9wYWNpdHk6IDEsXG5cdCAgICAgICAgZmxleDogMSxcblx0ICAgICAgICBmbGV4R3JvdzogMSxcblx0ICAgICAgICBmbGV4UG9zaXRpdmU6IDEsXG5cdCAgICAgICAgZmxleFNocmluazogMSxcblx0ICAgICAgICBmbGV4TmVnYXRpdmU6IDEsXG5cdCAgICAgICAgZm9udFdlaWdodDogMSxcblx0ICAgICAgICBsaW5lQ2xhbXA6IDEsXG5cdCAgICAgICAgbGluZUhlaWdodDogMSxcblx0ICAgICAgICBvcGFjaXR5OiAxLFxuXHQgICAgICAgIG9yZGVyOiAxLFxuXHQgICAgICAgIG9ycGhhbnM6IDEsXG5cdCAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSxcblx0ICAgICAgICB3aWRvd3M6IDEsXG5cdCAgICAgICAgekluZGV4OiAxLFxuXHQgICAgICAgIHpvb206IDFcblx0ICAgIH07XG5cdCAgICB2YXIgaXRlbXMgPSBbXTtcblx0ICAgIHZhciBpdGVtc09mZmxpbmUgPSBbXTtcblx0ICAgIHZhciBub2RlcyA9IHt9O1xuXHQgICAgdmFyIG1vdW50cyA9IFtdO1xuXHQgICAgdmFyIGRpZmZMZXZlbCA9IDA7XG5cdCAgICB2YXIgaXNTdmdNb2RlID0gITE7XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xuXHQgICAgZXh0ZW5kKENvbXBvbmVudC5wcm90b3R5cGUsIHtcblx0ICAgICAgICBsaW5rU3RhdGU6IGZ1bmN0aW9uKGtleSwgZXZlbnRQYXRoKSB7XG5cdCAgICAgICAgICAgIHZhciBjID0gdGhpcy5fbGlua2VkU3RhdGVzIHx8ICh0aGlzLl9saW5rZWRTdGF0ZXMgPSB7fSksIGNhY2hlS2V5ID0ga2V5ICsgJ3wnICsgZXZlbnRQYXRoO1xuXHQgICAgICAgICAgICByZXR1cm4gY1tjYWNoZUtleV0gfHwgKGNbY2FjaGVLZXldID0gY3JlYXRlTGlua2VkU3RhdGUodGhpcywga2V5LCBldmVudFBhdGgpKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldFN0YXRlOiBmdW5jdGlvbihzdGF0ZSwgY2FsbGJhY2spIHtcblx0ICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgICAgICBpZiAoIXRoaXMucHJldlN0YXRlKSB0aGlzLnByZXZTdGF0ZSA9IGNsb25lKHMpO1xuXHQgICAgICAgICAgICBleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0ICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKS5wdXNoKGNhbGxiYWNrKTtcblx0ICAgICAgICAgICAgdHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGZvcmNlVXBkYXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmVuZGVyQ29tcG9uZW50KHRoaXMsIDIpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBleHBvcnRzLmggPSBoO1xuXHQgICAgZXhwb3J0cy5jbG9uZUVsZW1lbnQgPSBjbG9uZUVsZW1lbnQ7XG5cdCAgICBleHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcblx0ICAgIGV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuXHQgICAgZXhwb3J0cy5yZXJlbmRlciA9IHJlcmVuZGVyO1xuXHQgICAgZXhwb3J0cy5vcHRpb25zID0gb3B0aW9ucztcblx0fSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0OSkuc2V0SW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oc2V0SW1tZWRpYXRlLCBjbGVhckltbWVkaWF0ZSkge3ZhciBuZXh0VGljayA9IF9fd2VicGFja19yZXF1aXJlX18oNTApLm5leHRUaWNrO1xuXHR2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cdHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xuXHR2YXIgbmV4dEltbWVkaWF0ZUlkID0gMDtcblx0XG5cdC8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cdFxuXHRleHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG5cdH07XG5cdGV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcblx0fTtcblx0ZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuXHRleHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblx0XG5cdGZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcblx0ICB0aGlzLl9pZCA9IGlkO1xuXHQgIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xuXHR9XG5cdFRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblx0VGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG5cdH07XG5cdFxuXHQvLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cblx0ZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcblx0fTtcblx0XG5cdGV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHRcblx0ICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcblx0ICBpZiAobXNlY3MgPj0gMCkge1xuXHQgICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuXHQgICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuXHQgICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuXHQgICAgfSwgbXNlY3MpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIFRoYXQncyBub3QgaG93IG5vZGUuanMgaW1wbGVtZW50cyBpdCBidXQgdGhlIGV4cG9zZWQgYXBpIGlzIHRoZSBzYW1lLlxuXHRleHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG5cdCAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG5cdCAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGZhbHNlIDogc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHRcblx0ICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblx0XG5cdCAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcblx0ICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG5cdCAgICAgIC8vIGZuLmNhbGwoKSBpcyBmYXN0ZXIgc28gd2Ugb3B0aW1pemUgZm9yIHRoZSBjb21tb24gdXNlLWNhc2Vcblx0ICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3Vcblx0ICAgICAgaWYgKGFyZ3MpIHtcblx0ICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBmbi5jYWxsKG51bGwpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuXHQgICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIGlkO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9IHR5cGVvZiBjbGVhckltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gY2xlYXJJbW1lZGlhdGUgOiBmdW5jdGlvbihpZCkge1xuXHQgIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xuXHR9O1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0OSkuc2V0SW1tZWRpYXRlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KS5jbGVhckltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cdFxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0ICB0cnkge1xuXHQgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgY2FjaGVkU2V0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHRyeSB7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0fSAoKSlcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgdGltZW91dCk7XG5cdH1cblx0XG5cdHByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcblx0ICAgICAgICBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZHJhaW5RdWV1ZSwgMCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXHRcblx0dmFyIF9jb21iaW5lUmVkdWNlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cdFxuXHR2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRcblx0dmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblx0XG5cdHZhciBfYXBwbHlNaWRkbGV3YXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0Lypcblx0KiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG5cdCogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuXHQqL1xuXHRmdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcblx0ICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xuXHR9XG5cdFxuXHRleHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gX2NvbWJpbmVSZWR1Y2VyczJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuY29tcG9zZSA9IF9jb21wb3NlMltcImRlZmF1bHRcIl07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSkpXG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0dmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXHRcblx0dmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG5cdCAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG5cdCAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuXHQgKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG5cdCAqL1xuXHR2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuXHQgIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG5cdCAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuXHQgKlxuXHQgKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG5cdCAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcblx0ICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG5cdCAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0gW2luaXRpYWxTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG5cdCAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG5cdCAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG5cdCAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcblx0ICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZW5oYW5jZXIgVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG5cdCAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcblx0ICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cblx0ICpcblx0ICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcblx0ICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgIHZhciBfcmVmMjtcblx0XG5cdCAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgZW5oYW5jZXIgPSBpbml0aWFsU3RhdGU7XG5cdCAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcblx0ICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG5cdCAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuXHQgIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG5cdCAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuXHQgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG5cdCAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cblx0ICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cblx0ICAgKlxuXHQgICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG5cdCAgICogY2F2ZWF0czpcblx0ICAgKlxuXHQgICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cblx0ICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcblx0ICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cblx0ICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcblx0ICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuXHQgICAqXG5cdCAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG5cdCAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcblx0ICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuXHQgICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3Rcblx0ICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cdFxuXHQgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuXHQgICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cblx0ICAgKlxuXHQgICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcblx0ICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG5cdCAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuXHQgICAqIHdpbGwgYmUgbm90aWZpZWQuXG5cdCAgICpcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuXHQgICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG5cdCAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG5cdCAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuXHQgICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuXHQgICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG5cdCAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcblx0ICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2Vcblx0ICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG5cdCAgICpcblx0ICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG5cdCAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuXHQgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG5cdCAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYWN0aW9uO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG5cdCAgICpcblx0ICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG5cdCAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuXHQgICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG5cdCAgICogQHJldHVybnMge3ZvaWR9XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuXHQgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG5cdCAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG5cdCAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcblx0ICAgKiBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcblx0ICAgIHZhciBfcmVmO1xuXHRcblx0ICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcblx0ICAgIHJldHVybiBfcmVmID0ge1xuXHQgICAgICAvKipcblx0ICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuXHQgICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cblx0ICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cblx0ICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuXHQgICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuXHQgICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcblx0ICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuXHQgICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG5cdCAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG5cdCAgICAgIH1cblx0ICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSwgX3JlZjtcblx0ICB9XG5cdFxuXHQgIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG5cdCAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG5cdCAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblx0ICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgIHJldHVybiBfcmVmMiA9IHtcblx0ICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcblx0ICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuXHQgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG5cdCAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcblx0fVxuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnZXRQcm90b3R5cGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KSxcblx0ICAgIGlzSG9zdE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpLFxuXHQgICAgaXNPYmplY3RMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cdFxuXHQvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cblx0dmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0dmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cblx0dmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXHRcblx0LyoqXG5cdCAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcblx0ICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG5cdCAqIG9mIHZhbHVlcy5cblx0ICovXG5cdHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcblx0ICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBzaW5jZSAwLjguMFxuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG5cdCAqICBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGZ1bmN0aW9uIEZvbygpIHtcblx0ICogICB0aGlzLmEgPSAxO1xuXHQgKiB9XG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICpcblx0ICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuXHQgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuXHQgICAgICBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuXHQgIGlmIChwcm90byA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdCAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG5cdCAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuXG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG92ZXJBcmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0XG5cdC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdCAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuLyoqKi8gfSxcbi8qIDU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgZmlyc3QgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuXHQgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuXHQgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdCAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cblx0ICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cdCAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdCAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgNC4wLjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG4vKioqLyB9LFxuLyogNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKiBnbG9iYWwgd2luZG93ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSkoZ2xvYmFsIHx8IHdpbmRvdyB8fCB0aGlzKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdFx0dmFyIHJlc3VsdDtcblx0XHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cdFxuXHRcdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21iaW5lUmVkdWNlcnM7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuXHQgIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuXHQgIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcblx0XG5cdCAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbikge1xuXHQgIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcblx0ICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCA/ICdpbml0aWFsU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cdFxuXHQgIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG5cdCAgfVxuXHRcblx0ICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuXHQgICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KTtcblx0ICB9KTtcblx0XG5cdCAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcblx0ICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNhbml0eShyZWR1Y2Vycykge1xuXHQgIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcblx0ICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCB9KTtcblx0XG5cdCAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuXHQgICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiB0eXBlIH0pID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgKyAnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykgKyAnbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgJyArICdjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCAnICsgJ2luIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSAnICsgJ2FjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuXHQgKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG5cdCAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuXHQgKiByZWR1Y2VyIGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcblx0ICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuXHQgKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuXHQgKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG5cdCAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuXHQgKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG5cdCAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cblx0ICovXG5cdGZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuXHQgIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcblx0ICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblx0ICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuXHQgICAgfVxuXHQgIH1cblx0ICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpO1xuXHRcblx0ICB2YXIgc2FuaXR5RXJyb3I7XG5cdCAgdHJ5IHtcblx0ICAgIGFzc2VydFJlZHVjZXJTYW5pdHkoZmluYWxSZWR1Y2Vycyk7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgc2FuaXR5RXJyb3IgPSBlO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuXHQgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdCAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgIGlmIChzYW5pdHlFcnJvcikge1xuXHQgICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHQgICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24pO1xuXHQgICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcblx0ICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkod2FybmluZ01lc3NhZ2UpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcblx0ICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcblx0ICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW2tleV07XG5cdCAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcblx0ICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcblx0ICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcblx0ICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcblx0ICB9O1xuXHR9XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKSkpXG5cbi8qKiovIH0sXG4vKiA2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuXHQvKipcblx0ICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG5cdCAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdCAgfVxuXHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHQgIHRyeSB7XG5cdCAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcblx0ICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG5cdCAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cblx0ICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdCAgfSBjYXRjaCAoZSkge31cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG5cdH1cblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcblx0ZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuXHQgKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG5cdCAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuXHQgKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuXHQgKlxuXHQgKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcblx0ICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuXHQgKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG5cdCAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG5cdCAqIHN0b3JlLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuXHQgKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG5cdCAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuXHQgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG5cdCAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXHQgICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuXHQgKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG5cdCAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG5cdCAqXG5cdCAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cblx0ICpcblx0ICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG5cdCAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cblx0ICpcblx0ICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuXHQgKiBhcyBuYW1lZCBhcmd1bWVudHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cblx0ICovXG5cdGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuXHQgICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdCAgICAgIHZhciBjaGFpbiA9IFtdO1xuXHRcblx0ICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG5cdCAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuXHQgICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcblx0ICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG5cdCAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblx0XG5cdCAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcblx0ICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbXBvc2U7XG5cdC8qKlxuXHQgKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuXHQgKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3Jcblx0ICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG5cdCAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG5cdCAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICAgIHJldHVybiBhcmc7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcblx0ICAgICAgdmFyIHJlc3QgPSBmdW5jcy5zbGljZSgwLCAtMSk7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcblx0ICAgICAgICAgIHJldHVybiByZXN0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjb21wb3NlZCwgZikge1xuXHQgICAgICAgICAgICByZXR1cm4gZihjb21wb3NlZCk7XG5cdCAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfSgpO1xuXHRcblx0ICAgIGlmICh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9yZWR1eFVuZG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yUmlnaHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yUmlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3VydmVFZGl0b3JSaWdodCk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yTGVmdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JMZWZ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yTGVmdCk7XG5cdFxuXHR2YXIgX2NvZGVQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0XG5cdHZhciBfY29kZVBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvZGVQYW5lbCk7XG5cdFxuXHR2YXIgX2ljb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO1xuXHRcblx0dmFyIF9pY29uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29ucyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIEN1cnZlRWRpdG9yID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDdXJ2ZUVkaXRvciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEN1cnZlRWRpdG9yKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ3VydmVFZGl0b3IpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ3VydmVFZGl0b3IpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ3VydmVFZGl0b3IsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdCAgICAgIHZhciBzdHlsZSA9IHRoaXMuX2dldFN0eWxlKHN0YXRlKTtcblx0ICAgICAgdmFyIHAgPSB0aGlzLnByb3BzO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3InXSwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb25zMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY29kZVBhbmVsMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JMZWZ0Mi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JSaWdodDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUsIHByb2dyZXNzTGluZXM6IHAucHJvZ3Jlc3NMaW5lcyB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciBYX1NJWkUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyA1Mztcblx0ICAgICAgdmFyIFlfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIDIgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BBRERJTkc7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB0ZW1wX3RvcCA9IHJlc2l6ZS50ZW1wX3RvcDtcblx0ICAgICAgdmFyIHRlbXBfYm90dG9tID0gcmVzaXplLnRlbXBfYm90dG9tO1xuXHQgICAgICB2YXIgdGVtcF9yaWdodCA9IHJlc2l6ZS50ZW1wX3JpZ2h0O1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gcmVzaXplLnRyYW5zbGF0ZTtcblx0XG5cdFxuXHQgICAgICB0ZW1wX3RvcCArPSByZXNpemUudG9wO1xuXHQgICAgICB0ZW1wX2JvdHRvbSArPSByZXNpemUuYm90dG9tO1xuXHQgICAgICB0ZW1wX3JpZ2h0ICs9IHJlc2l6ZS5yaWdodDtcblx0XG5cdCAgICAgIC8vIGNvbnN0cmFpbiBtaW4gaGVpZ2h0XG5cdCAgICAgIGlmIChZX1NJWkUgLSB0ZW1wX3RvcCA8IFlfU0laRSkge1xuXHQgICAgICAgIHRlbXBfdG9wID0gMDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoWV9TSVpFICsgdGVtcF9ib3R0b20gPCBZX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX2JvdHRvbSA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKFhfU0laRSArIHRlbXBfcmlnaHQgPCBYX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3JpZ2h0ID0gMDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGVtcF90b3AgPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF90b3AsIC0xKTtcblx0ICAgICAgdGVtcF9ib3R0b20gPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF9ib3R0b20pO1xuXHRcblx0ICAgICAgdmFyIGhlaWdodCA9ICdoZWlnaHQ6ICcgKyAoWV9TSVpFIC0gdGVtcF90b3AgKyB0ZW1wX2JvdHRvbSkgKyAncHgnLFxuXHQgICAgICAgICAgd2lkdGggPSAnd2lkdGg6ICcgKyAoWF9TSVpFICsgdGVtcF9yaWdodCkgKyAncHgnLFxuXHQgICAgICAgICAgeCA9IHJlc2l6ZS54ICsgcmVzaXplLnRlbXBYLFxuXHQgICAgICAgICAgeSA9IHJlc2l6ZS55ICsgcmVzaXplLnRlbXBZLFxuXHQgICAgICAgICAgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCAnICsgKHkgKyB0ZW1wX3RvcCkgKyAncHgpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNmb3JtICsgJzsgJyArIHRyYW5zZm9ybSArICc7ICcgKyB3aWR0aCArICc7ICcgKyBoZWlnaHQgKyAnOyc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtbGVmdC1wYW5lbCcpO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihlbCkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEUnLCBkYXRhOiB7IHg6IHgsIHk6IHkgfSB9KTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEVfRU5EJywgZGF0YTogeyB4OiB4LCB5OiB5IH0gfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICAvLyAub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7IH0pO1xuXHRcblx0ICAgICAgdGhpcy5fYWRkS2V5VXAoKTtcblx0ICAgICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2FkZEtleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkS2V5VXAoKSB7XG5cdCAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfb25LZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX29uS2V5VXAoZSkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHQgICAgICBpZiAoIWUuYWx0S2V5KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuXHQgICAgICAgIGNhc2UgOTA6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaChfcmVkdXhVbmRvLkFjdGlvbkNyZWF0b3JzLnVuZG8oKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSA4ODpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKF9yZWR1eFVuZG8uQWN0aW9uQ3JlYXRvcnMucmVkbygpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIDY4OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVMRVRFJyB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ3VydmVFZGl0b3I7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3I7XG5cbi8qKiovIH0sXG4vKiA2NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKioqLyB9LFxuLyogNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxuXHR2YXIgdG9PYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsICRnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MCkoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuXHQgICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuXHQgIH07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciBoYXMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBjb3JlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQgICwgZmFpbHMgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYyl7XG5cdCAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuXHQgICAgLCBleHAgPSB7fTtcblx0ICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuXHQgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblx0XG5cdHZhciBfc3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cdFxuXHR2YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9IDogZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKS5mKCdpdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KSh0cnVlKTtcblx0XG5cdC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBpbmRleCA9IHRoaXMuX2lcblx0ICAgICwgcG9pbnQ7XG5cdCAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcblx0ICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG5cdCAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG5cdCAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpXG5cdCAgLCBoaWRlICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBJdGVyYXRvcnMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdCAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODEpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpXG5cdCAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cdFxuXHR2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuXHQgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblx0ICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG5cdCAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2goa2luZCl7XG5cdCAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICB9O1xuXHQgIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG5cdCAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuXHQgICAgLCBWQUxVRVNfQlVHID0gZmFsc2Vcblx0ICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG5cdCAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cblx0ICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG5cdCAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG5cdCAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG5cdCAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmKCRhbnlOYXRpdmUpe1xuXHQgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcblx0ICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuXHQgICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcblx0ICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG5cdCAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuXHQgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG5cdCAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuXHQgIH1cblx0ICAvLyBQbHVnIGZvciBsaWJyYXJ5XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG5cdCAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcblx0ICBpZihERUZBVUxUKXtcblx0ICAgIG1ldGhvZHMgPSB7XG5cdCAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG5cdCAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG5cdCAgICB9O1xuXHQgICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG5cdCAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjcmVhdGUgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODIpXG5cdCAgLCBkZXNjcmlwdG9yICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpXG5cdCAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXHRcblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMykoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcblx0ICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdHZhciBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBkUHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODMpXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKCdJRV9QUk9UTycpXG5cdCAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHQvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cdHZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSgnaWZyYW1lJylcblx0ICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG5cdCAgICAsIGx0ICAgICA9ICc8J1xuXHQgICAgLCBndCAgICAgPSAnPidcblx0ICAgICwgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg4NCkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuXHQgIHJldHVybiBjcmVhdGVEaWN0KCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYoTyAhPT0gbnVsbCl7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcblx0ICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcblx0ICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGkgPSAwXG5cdCAgICAsIFA7XG5cdCAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKioqLyB9LFxuLyogODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5mXG5cdCAgLCBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpKCd3a3MnKVxuXHQgICwgdWlkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCBTeW1ib2wgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuU3ltYm9sXG5cdCAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cdFxuXHQkZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXHR2YXIgZ2xvYmFsICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBoaWRlICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcblx0ICAsIEl0ZXJhdG9ycyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKVxuXHQgICwgVE9fU1RSSU5HX1RBRyA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0Zm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG5cdCAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuXHQgICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG5cdCAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuXHQgIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSlcblx0ICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKVxuXHQgICwgSXRlcmF0b3JzICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdCAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHQvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG5cdC8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG5cdC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcblx0Ly8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcblx0ICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0ICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuXHQvLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcblx0fSwgZnVuY3Rpb24oKXtcblx0ICB2YXIgTyAgICAgPSB0aGlzLl90XG5cdCAgICAsIGtpbmQgID0gdGhpcy5fa1xuXHQgICAgLCBpbmRleCA9IHRoaXMuX2krKztcblx0ICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG5cdCAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuIHN0ZXAoMSk7XG5cdCAgfVxuXHQgIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuXHQgIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuXHQgIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcblx0fSwgJ3ZhbHVlcycpO1xuXHRcblx0Ly8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuXHRJdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXHRcblx0YWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vKioqLyB9LFxuLyogODkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuLyoqKi8gfSxcbi8qIDkwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcblx0ICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oOTMpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDQpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5TeW1ib2w7XG5cbi8qKiovIH0sXG4vKiA5NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQvLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG5cdHZhciBnbG9iYWwgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBERVNDUklQVE9SUyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIHJlZGVmaW5lICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSlcblx0ICAsIE1FVEEgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSkuS0VZXG5cdCAgLCAkZmFpbHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpXG5cdCAgLCBzaGFyZWQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oODUpXG5cdCAgLCB1aWQgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCB3a3MgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpXG5cdCAgLCB3a3NFeHQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpXG5cdCAgLCB3a3NEZWZpbmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTYpXG5cdCAgLCBrZXlPZiAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpXG5cdCAgLCBlbnVtS2V5cyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpXG5cdCAgLCBpc0FycmF5ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpXG5cdCAgLCBhbk9iamVjdCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCB0b0lPYmplY3QgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG5cdCAgLCBjcmVhdGVEZXNjICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBfY3JlYXRlICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODIpXG5cdCAgLCBnT1BORXh0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKVxuXHQgICwgJEdPUEQgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMilcblx0ICAsICREUCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsICRrZXlzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuXHQgICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuXHQgICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcblx0ICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuXHQgICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuXHQgICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcblx0ICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcblx0ICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcblx0ICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG5cdCAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG5cdCAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jylcblx0ICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcblx0ICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcblx0ICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cblx0ICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuXHQgICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcblx0Ly8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG5cdHZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG5cdHZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG5cdCAgfSkpLmEgIT0gNztcblx0fSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcblx0ICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcblx0ICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG5cdCAgZFAoaXQsIGtleSwgRCk7XG5cdCAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuXHR9IDogZFA7XG5cdFxuXHR2YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG5cdCAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcblx0ICBzeW0uX2sgPSB0YWc7XG5cdCAgcmV0dXJuIHN5bTtcblx0fTtcblx0XG5cdHZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcblx0fSA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xuXHR9O1xuXHRcblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGFuT2JqZWN0KEQpO1xuXHQgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcblx0ICAgIGlmKCFELmVudW1lcmFibGUpe1xuXHQgICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcblx0ICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG5cdCAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuXHQgICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcblx0ICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcblx0fTtcblx0dmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcblx0ICAgICwgaSAgICA9IDBcblx0ICAgICwgbCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcblx0ICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG5cdH07XG5cdHZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuXHQgIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG5cdCAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG5cdCAgaXQgID0gdG9JT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG5cdCAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuXHQgIHJldHVybiBEO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuXHQgIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cblx0ICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuXHQgICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0Ly8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5cdGlmKCFVU0VfTkFUSVZFKXtcblx0ICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG5cdCAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcblx0ICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuXHQgICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdCAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcblx0ICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuXHQgICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHQgICAgfTtcblx0ICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuXHQgICAgcmV0dXJuIHdyYXAodGFnKTtcblx0ICB9O1xuXHQgIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcblx0ICAgIHJldHVybiB0aGlzLl9rO1xuXHQgIH0pO1xuXHRcblx0ICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0ICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oMTAxKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg0MCkuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXygzOSkuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cdFxuXHQgIGlmKERFU0NSSVBUT1JTICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KSl7XG5cdCAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcblx0ICB9XG5cdFxuXHQgIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuXHQgIH1cblx0fVxuXHRcblx0JGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gKFxuXHQgIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG5cdCAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuXHQpLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblx0XG5cdGZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG5cdCAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG5cdCAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG5cdCAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG5cdCAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuXHQgICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG5cdCAgfSxcblx0ICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcblx0ICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuXHQgICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG5cdCAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG5cdCAgfSxcblx0ICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG5cdCAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxuXHR9KTtcblx0XG5cdCRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG5cdCAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQgIGNyZWF0ZTogJGNyZWF0ZSxcblx0ICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0ICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuXHQgIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG5cdCAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG5cdCAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuXHQgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcblx0ICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuXHQgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuXHQgIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcblx0ICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0fSk7XG5cdFxuXHQvLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcblx0JEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIFMgPSAkU3ltYm9sKCk7XG5cdCAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cblx0ICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcblx0ICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuXHQgIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG5cdH0pKSwgJ0pTT04nLCB7XG5cdCAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuXHQgICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG5cdCAgICB2YXIgYXJncyA9IFtpdF1cblx0ICAgICAgLCBpICAgID0gMVxuXHQgICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG5cdCAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuXHQgICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuXHQgICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG5cdCAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG5cdCAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuXHQgICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcblx0ICAgIH07XG5cdCAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG5cdCAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdC8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcblx0JFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcblx0Ly8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG5cdC8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcblx0Ly8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cblx0c2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cbi8qKiovIH0sXG4vKiA5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIE1FVEEgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNykoJ21ldGEnKVxuXHQgICwgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgaGFzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgc2V0RGVzYyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5mXG5cdCAgLCBpZCAgICAgICA9IDA7XG5cdHZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cdHZhciBGUkVFWkUgPSAhX193ZWJwYWNrX3JlcXVpcmVfXygxOSkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xuXHR9KTtcblx0dmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG5cdCAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG5cdCAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcblx0ICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfX0pO1xuXHR9O1xuXHR2YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcblx0ICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG5cdCAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuXHQgICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBvYmplY3QgSURcblx0ICB9IHJldHVybiBpdFtNRVRBXS5pO1xuXHR9O1xuXHR2YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuXHQgIGlmKCFoYXMoaXQsIE1FVEEpKXtcblx0ICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG5cdCAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcblx0ICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG5cdCAgICBzZXRNZXRhKGl0KTtcblx0ICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuXHQgIH0gcmV0dXJuIGl0W01FVEFdLnc7XG5cdH07XG5cdC8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xuXHR2YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblx0dmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBLRVk6ICAgICAgTUVUQSxcblx0ICBORUVEOiAgICAgZmFsc2UsXG5cdCAgZmFzdEtleTogIGZhc3RLZXksXG5cdCAgZ2V0V2VhazogIGdldFdlYWssXG5cdCAgb25GcmVlemU6IG9uRnJlZXplXG5cdH07XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGNvcmUgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQgICwgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KVxuXHQgICwgd2tzRXh0ICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKVxuXHQgICwgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KS5mO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuXHQgIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG5cdCAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdldEtleXMgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpbmRleCAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG5cdHZhciBnZXRLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGdPUFMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQgICwgcElFICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG5cdCAgaWYoZ2V0U3ltYm9scyl7XG5cdCAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG5cdCAgICAgICwgaXNFbnVtICA9IHBJRS5mXG5cdCAgICAgICwgaSAgICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcblx0dmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpe1xuXHQgIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG5cdHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgZ09QTiAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpLmZcblx0ICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXHRcblx0dmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcblx0ICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblx0XG5cdHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGdPUE4oaXQpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdHZhciAka2V5cyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSlcblx0ICAsIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblx0XG5cdGV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XG5cdCAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgcElFICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKVxuXHQgICwgY3JlYXRlRGVzYyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHQgICwgdG9JT2JqZWN0ICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KVxuXHQgICwgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KVxuXHQgICwgZ09QRCAgICAgICAgICAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuXHQgIE8gPSB0b0lPYmplY3QoTyk7XG5cdCAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuXHQgIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG5cdCAgICByZXR1cm4gZ09QRChPLCBQKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogMTA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KSgnYXN5bmNJdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogMTA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KSgnb2JzZXJ2YWJsZScpO1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTtcblx0XG5cdHZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuXHQgIH1cblx0XG5cdCAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0ICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgIHdyaXRhYmxlOiB0cnVlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEwOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuXG4vKioqLyB9LFxuLyogMTA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdCRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCkuc2V0fSk7XG5cbi8qKiovIH0sXG4vKiAxMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KVxuXHQgICwgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0dmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBzZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKShGdW5jdGlvbi5jYWxsLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMikuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcblx0ICAgICAgICBzZXQodGVzdCwgW10pO1xuXHQgICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuXHQgICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKXtcblx0ICAgICAgICBjaGVjayhPLCBwcm90byk7XG5cdCAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcblx0ICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG5cdCAgICAgICAgcmV0dXJuIE87XG5cdCAgICAgIH07XG5cdCAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuXHQgIGNoZWNrOiBjaGVja1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMTEyKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMTEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuXHQgIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQkZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IF9fd2VicGFja19yZXF1aXJlX18oODIpfSk7XG5cbi8qKiovIH0sXG4vKiAxMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgQ1VSVkVfU0laRSA9IDM1MDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIENVUlZFX1NJWkU6IENVUlZFX1NJWkUsXG5cdCAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRSAvIDEwMCxcblx0ICBDVVJWRV9QQURESU5HOiAxMFxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcblx0ICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9cblx0ICpcblx0ICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG5cdChmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG5cdHZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XG5cdHZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblx0XG5cdHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cdHZhciBhYnMgPSBNYXRoLmFicztcblx0dmFyIG5vdyA9IERhdGUubm93O1xuXHRcblx0LyoqXG5cdCAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuXHQgKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cblx0ICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG5cdCAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHQgICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqL1xuXHRmdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcblx0ICAgIHZhciBpO1xuXHRcblx0ICAgIGlmICghb2JqKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChvYmouZm9yRWFjaCkge1xuXHQgICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcblx0ICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2Rcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2Vcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuXHQgICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuXHQgICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblx0XG5cdCAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG5cdCAgICAgICAgaWYgKGxvZykge1xuXHQgICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgb2JqZWN0LlxuXHQgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cblx0ICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG5cdCAqL1xuXHR2YXIgYXNzaWduO1xuXHRpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcblx0ICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuXHQgICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdCAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXHQgICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgb2JqZWN0LlxuXHQgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRlc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IHNyY1xuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cblx0ICogQHJldHVybnMge09iamVjdH0gZGVzdFxuXHQgKi9cblx0dmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuXHQgICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRlc3Q7XG5cdH0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXHRcblx0LyoqXG5cdCAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcblx0ICogQHJldHVybnMge09iamVjdH0gZGVzdFxuXHQgKi9cblx0dmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuXHQgICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xuXHR9LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXHRcblx0LyoqXG5cdCAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cblx0ICovXG5cdGZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcblx0ICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuXHQgICAgICAgIGNoaWxkUDtcblx0XG5cdCAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcblx0ICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuXHQgICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXHRcblx0ICAgIGlmIChwcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259XG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuXHQgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG5cdCAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcblx0ICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcblx0ICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcblx0ICogQHBhcmFtIHsqfSB2YWwxXG5cdCAqIEBwYXJhbSB7Kn0gdmFsMlxuXHQgKiBAcmV0dXJucyB7Kn1cblx0ICovXG5cdGZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcblx0ICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xuXHR9XG5cdFxuXHQvKipcblx0ICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgKi9cblx0ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuXHQgICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcblx0ICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICovXG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcblx0ICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG5cdCAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG5cdCAqIEBtZXRob2QgaGFzUGFyZW50XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG5cdCAgICB3aGlsZSAobm9kZSkge1xuXHQgICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG5cdCAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuXHQgKi9cblx0ZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG5cdCAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcblx0ICogQHBhcmFtIHtBcnJheX0gc3JjXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuXHQgICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcblx0ICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEByZXR1cm5zIHtBcnJheX1cblx0ICovXG5cdGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG5cdCAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cblx0ICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cblx0ICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cblx0ICovXG5cdGZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG5cdCAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXHQgICAgdmFyIHZhbHVlcyA9IFtdO1xuXHQgICAgdmFyIGkgPSAwO1xuXHRcblx0ICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcblx0ICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzb3J0KSB7XG5cdCAgICAgICAgaWYgKCFrZXkpIHtcblx0ICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0cztcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcblx0ICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG5cdCAgICB2YXIgcHJlZml4LCBwcm9wO1xuXHQgICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblx0XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcblx0ICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG5cdCAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cdFxuXHQgICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCBhIHVuaXF1ZSBpZFxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuXHQgKi9cblx0dmFyIF91bmlxdWVJZCA9IDE7XG5cdGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuXHQgICAgcmV0dXJuIF91bmlxdWVJZCsrO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cblx0ICovXG5cdGZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuXHQgICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuXHQgICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xuXHR9XG5cdFxuXHR2YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXHRcblx0dmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcblx0dmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xuXHR2YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblx0XG5cdHZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcblx0dmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG5cdHZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcblx0dmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cdFxuXHR2YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXHRcblx0dmFyIElOUFVUX1NUQVJUID0gMTtcblx0dmFyIElOUFVUX01PVkUgPSAyO1xuXHR2YXIgSU5QVVRfRU5EID0gNDtcblx0dmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cdFxuXHR2YXIgRElSRUNUSU9OX05PTkUgPSAxO1xuXHR2YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xuXHR2YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcblx0dmFyIERJUkVDVElPTl9VUCA9IDg7XG5cdHZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXHRcblx0dmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG5cdHZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcblx0dmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblx0XG5cdHZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG5cdHZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7SW5wdXR9XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cdCAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cdCAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG5cdCAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblx0XG5cdCAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcblx0ICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cblx0ICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG5cdCAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcblx0ICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuaW5pdCgpO1xuXHRcblx0fVxuXHRcblx0SW5wdXQucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuXHQgICAgICovXG5cdCAgICBpbml0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuXHQgKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcblx0ICogQHJldHVybnMge0lucHV0fVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG5cdCAgICB2YXIgVHlwZTtcblx0ICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cdFxuXHQgICAgaWYgKGlucHV0Q2xhc3MpIHtcblx0ICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcblx0ICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuXHQgICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG5cdCAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG5cdCAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG5cdCAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogaGFuZGxlIGlucHV0IGV2ZW50c1xuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG5cdCAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG5cdCAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcblx0ICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXHQgICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cdFxuXHQgICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcblx0ICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cdFxuXHQgICAgaWYgKGlzRmlyc3QpIHtcblx0ICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuXHQgICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG5cdCAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cdFxuXHQgICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG5cdCAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblx0XG5cdCAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuXHQgICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cdFxuXHQgICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuXHQgICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuXHQgKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcblx0ICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuXHQgICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG5cdCAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cdFxuXHQgICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuXHQgICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuXHQgICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuXHQgICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuXHQgICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG5cdCAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cdFxuXHQgICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG5cdCAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcblx0ICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXHRcblx0ICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXHQgICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cdFxuXHQgICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuXHQgICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblx0XG5cdCAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblx0XG5cdCAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuXHQgICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblx0XG5cdCAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cblx0ICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cdFxuXHQgICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblx0XG5cdCAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuXHQgICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG5cdCAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuXHQgICAgfVxuXHQgICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuXHQgICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcblx0ICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuXHQgICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuXHQgICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXHRcblx0ICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuXHQgICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuXHQgICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG5cdCAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG5cdCAgICAgICAgICAgIHg6IGNlbnRlci54LFxuXHQgICAgICAgICAgICB5OiBjZW50ZXIueVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG5cdCAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuXHQgICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcblx0ICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcblx0ICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblx0XG5cdCAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuXHQgICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcblx0ICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG5cdCAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuXHQgICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuXHQgICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cdFxuXHQgICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2Rcblx0ICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG5cdCAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG5cdCAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG5cdCAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcblx0ICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcblx0ICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcblx0ICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuXHQgKi9cblx0ZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcblx0ICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuXHQgICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG5cdCAgICB2YXIgcG9pbnRlcnMgPSBbXTtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG5cdCAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuXHQgICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdGltZVN0YW1wOiBub3coKSxcblx0ICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG5cdCAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuXHQgICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuXHQgICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcblx0ICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblx0XG5cdCAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuXHQgICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG5cdCAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcblx0ICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG5cdCAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG5cdCAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuXHQgICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cblx0ICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2Vcblx0ICovXG5cdGZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcblx0ICAgIGlmICghcHJvcHMpIHtcblx0ICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuXHQgICAgfVxuXHQgICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG5cdCAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblx0XG5cdCAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcblx0ICogQHBhcmFtIHtPYmplY3R9IHAxXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcblx0ICovXG5cdGZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcblx0ICAgIGlmICghcHJvcHMpIHtcblx0ICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuXHQgICAgfVxuXHQgICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG5cdCAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblx0ICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuXHQgKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuXHQgICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcblx0ICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG5cdCAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG5cdH1cblx0XG5cdHZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG5cdCAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuXHQgICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgbW91c2V1cDogSU5QVVRfRU5EXG5cdH07XG5cdFxuXHR2YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcblx0dmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXHRcblx0LyoqXG5cdCAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXHRcblx0ICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblx0XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHRcblx0ICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuXHQgICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cblx0ICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogW2V2XSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0dmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuXHQgICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuXHQgICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG5cdCAgICBwb2ludGVydXA6IElOUFVUX0VORCxcblx0ICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcblx0ICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxuXHR9O1xuXHRcblx0Ly8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cblx0dmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG5cdCAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuXHQgICAgMzogSU5QVVRfVFlQRV9QRU4sXG5cdCAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuXHQgICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG5cdH07XG5cdFxuXHR2YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG5cdHZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXHRcblx0Ly8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5cdGlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcblx0ICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG5cdCAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUG9pbnRlciBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG5cdCAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0ICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXHRcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG5cdCAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXHRcblx0ICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuXHQgICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cdFxuXHQgICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuXHQgICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuXHQgICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG5cdCAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cdCAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcblx0ICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG5cdCAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0dmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG5cdCAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcblx0ICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG5cdCAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHR2YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG5cdHZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cdFxuXHQvKipcblx0ICogVG91Y2ggZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcblx0ICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblx0XG5cdCAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuXHQgICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXHRcblx0ICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG5cdCAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBAdGhpcyB7VG91Y2hJbnB1dH1cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cblx0ICovXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcblx0ICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuXHQgICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblx0XG5cdCAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG5cdH1cblx0XG5cdHZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG5cdCAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcblx0ICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG5cdCAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHR2YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cdFxuXHQvKipcblx0ICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBUb3VjaElucHV0KCkge1xuXHQgICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG5cdCAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblx0ICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cdCAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogQHRoaXMge1RvdWNoSW5wdXR9XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG5cdCAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG5cdCAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG5cdCAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cdFxuXHQgICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcblx0ICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaSxcblx0ICAgICAgICB0YXJnZXRUb3VjaGVzLFxuXHQgICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG5cdCAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcblx0ICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblx0XG5cdCAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG5cdCAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcblx0ICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuXHQgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuXHQgICAgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcblx0ICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuXHQgICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbXG5cdCAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG5cdCAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuXHQgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG5cdCAgICBdO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG5cdCAqXG5cdCAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuXHQgKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG5cdCAqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0XG5cdHZhciBERURVUF9USU1FT1VUID0gMjUwMDtcblx0dmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cdFxuXHRmdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG5cdCAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblx0ICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXHRcblx0ICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcblx0ICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcblx0fVxuXHRcblx0aW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcblx0ICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG5cdCAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXHRcblx0ICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuXHQgICAgICAgIGlmIChpc1RvdWNoKSB7XG5cdCAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0ICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcblx0ICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHRmdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG5cdCAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcblx0ICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcblx0ICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cdFxuXHQgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG5cdCAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcblx0ICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcblx0ICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcblx0ICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcblx0ICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuXHQgICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuXHQgICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuXHQgICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuXHQgICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdHZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xuXHR2YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXHRcblx0Ly8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxuXHR2YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcblx0dmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG5cdHZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcblx0dmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG5cdHZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblx0XG5cdC8qKlxuXHQgKiBUb3VjaCBBY3Rpb25cblx0ICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG5cdCAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuXHQgICAgdGhpcy5zZXQodmFsdWUpO1xuXHR9XG5cdFxuXHRUb3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuXHQgICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG5cdCAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuXHQgICAgICovXG5cdCAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXHQgICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG5cdCAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cdFxuXHQgICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuXHQgICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcblx0ICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG5cdCAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuXHQgICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXHRcblx0ICAgICAgICBpZiAoaGFzTm9uZSkge1xuXHQgICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXHRcblx0ICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcblx0ICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG5cdCAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblx0XG5cdCAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG5cdCAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGhhc05vbmUgfHxcblx0ICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG5cdCAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG5cdCAgICAgKi9cblx0ICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcblx0ICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuXHQgKiBAcmV0dXJucyB7Kn1cblx0ICovXG5cdGZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcblx0ICAgIC8vIG5vbmVcblx0ICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuXHQgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXHRcblx0ICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuXHQgICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG5cdCAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2Vcblx0ICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG5cdCAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG5cdCAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHBhbi14IE9SIHBhbi15XG5cdCAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gbWFuaXB1bGF0aW9uXG5cdCAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG5cdCAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgdG91Y2hNYXAgPSB7fTtcblx0ICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcblx0ICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cdFxuXHQgICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuXHQgICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cblx0ICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRvdWNoTWFwO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuXHQgKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG5cdCAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuXHQgKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcblx0ICpcblx0ICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuXHQgKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuXHQgKlxuXHQgKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG5cdCAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG5cdCAqXG5cdCAqICAgICAgICAgICAgICAgUG9zc2libGVcblx0ICogICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcblx0ICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcblx0ICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcblx0ICovXG5cdHZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG5cdHZhciBTVEFURV9CRUdBTiA9IDI7XG5cdHZhciBTVEFURV9DSEFOR0VEID0gNDtcblx0dmFyIFNUQVRFX0VOREVEID0gODtcblx0dmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcblx0dmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xuXHR2YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cdFxuXHQvKipcblx0ICogUmVjb2duaXplclxuXHQgKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKi9cblx0ZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXHRcblx0ICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXHRcblx0ICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cdFxuXHQgICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuXHQgICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXHRcblx0ICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblx0XG5cdCAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuXHQgICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xuXHR9XG5cdFxuXHRSZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7fSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHNldCBvcHRpb25zXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgICAgICogQHJldHVybiB7UmVjb2duaXplcn1cblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cdFxuXHQgICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuXHQgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcblx0ICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG5cdCAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuXHQgICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuXHQgICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG5cdCAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcblx0ICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG5cdCAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFxuXHQgICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcblx0ICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuXHQgICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXHRcblx0ICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuXHQgICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuXHQgICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuXHQgICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcblx0ICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcblx0ICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FuIHdlIGVtaXQ/XG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcblx0ICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuXHQgICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG5cdCAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXHRcblx0ICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cblx0ICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblx0XG5cdCAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG5cdCAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuXHQgICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG5cdCAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2Rcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG5cdCAgICAgKi9cblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcblx0ICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKi9cblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuXHQgKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcblx0ICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuXHQgICAgICAgIHJldHVybiAnY2FuY2VsJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuXHQgICAgICAgIHJldHVybiAnZW5kJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG5cdCAgICAgICAgcmV0dXJuICdtb3ZlJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuXHQgICAgICAgIHJldHVybiAnc3RhcnQnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG5cdCAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuXHQgICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuXHQgICAgICAgIHJldHVybiAnZG93bic7XG5cdCAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcblx0ICAgICAgICByZXR1cm4gJ3VwJztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG5cdCAgICAgICAgcmV0dXJuICdsZWZ0Jztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuXHQgICAgICAgIHJldHVybiAncmlnaHQnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuXHQgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcblx0ICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG5cdCAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcblx0ICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuXHQgICAgaWYgKG1hbmFnZXIpIHtcblx0ICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcblx0ICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICAgICAqIEBkZWZhdWx0IDFcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwb2ludGVyczogMVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuXHQgICAgICovXG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG5cdCAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICogQHJldHVybnMgeyp9IFN0YXRlXG5cdCAgICAgKi9cblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXHRcblx0ICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcblx0ICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXHRcblx0ICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG5cdCAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuXHQgICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUGFuXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdGhpcy5wWCA9IG51bGw7XG5cdCAgICB0aGlzLnBZID0gbnVsbDtcblx0fVxuXHRcblx0aW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncGFuJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcblx0ICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcblx0ICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhY3Rpb25zO1xuXHQgICAgfSxcblx0XG5cdCAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHQgICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG5cdCAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcblx0ICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgLy8gbG9jayB0byBheGlzP1xuXHQgICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuXHQgICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG5cdCAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcblx0ICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuXHQgICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG5cdCAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHQgICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFxuXHQgICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG5cdCAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXHRcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUGluY2hcblx0ICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG5cdCAgICAgICAgdGhyZXNob2xkOiAwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAyXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuXHQgICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG5cdCAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQcmVzc1xuXHQgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcblx0ICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLl90aW1lciA9IG51bGw7XG5cdCAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cdH1cblx0XG5cdGluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3ByZXNzJyxcblx0ICAgICAgICBwb2ludGVyczogMSxcblx0ICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG5cdCAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0ICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG5cdCAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblx0XG5cdCAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblx0XG5cdCAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcblx0ICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cdCAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuXHQgICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFJvdGF0ZVxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG5cdCAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuXHQgICAgICAgIHRocmVzaG9sZDogMCxcblx0ICAgICAgICBwb2ludGVyczogMlxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTd2lwZVxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG5cdCAgICAgICAgdGhyZXNob2xkOiAxMCxcblx0ICAgICAgICB2ZWxvY2l0eTogMC4zLFxuXHQgICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG5cdCAgICAgICAgcG9pbnRlcnM6IDFcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgdmVsb2NpdHk7XG5cdFxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG5cdCAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG5cdCAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcblx0ICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG5cdCAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuXHQgICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG5cdCAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuXHQgKiBhIHNpbmdsZSB0YXAuXG5cdCAqXG5cdCAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuXHQgKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcblx0ICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuXHQgICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuXHQgICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cdFxuXHQgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuXHQgICAgdGhpcy5faW5wdXQgPSBudWxsO1xuXHQgICAgdGhpcy5jb3VudCA9IDA7XG5cdH1cblx0XG5cdGluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICd0YXAnLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIHRhcHM6IDEsXG5cdCAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcblx0ICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG5cdCAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuXHQgICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XG5cdCAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG5cdCAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuXHQgICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblx0XG5cdCAgICAgICAgdGhpcy5yZXNldCgpO1xuXHRcblx0ICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG5cdCAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuXHQgICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcblx0ICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuXHQgICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXHRcblx0ICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuXHQgICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuXHQgICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuXHQgICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcblx0ICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuXHQgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG5cdCAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuXHQgICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuXHQgICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQGNvbnN0IHtzdHJpbmd9XG5cdCAqL1xuXHRIYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cdFxuXHQvKipcblx0ICogZGVmYXVsdCBzZXR0aW5nc1xuXHQgKiBAbmFtZXNwYWNlXG5cdCAqL1xuXHRIYW1tZXIuZGVmYXVsdHMgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG5cdCAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCBmYWxzZVxuXHQgICAgICovXG5cdCAgICBkb21FdmVudHM6IGZhbHNlLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG5cdCAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cblx0ICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG5cdCAgICAgKi9cblx0ICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICogQGRlZmF1bHQgdHJ1ZVxuXHQgICAgICovXG5cdCAgICBlbmFibGU6IHRydWUsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG5cdCAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cblx0ICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG5cdCAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cblx0ICAgICAqIEBkZWZhdWx0IG51bGxcblx0ICAgICAqL1xuXHQgICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuXHQgICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG5cdCAgICAgKiBAZGVmYXVsdCBudWxsXG5cdCAgICAgKi9cblx0ICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcblx0ICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHByZXNldDogW1xuXHQgICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuXHQgICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuXHQgICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG5cdCAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcblx0ICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuXHQgICAgICAgIFtUYXBSZWNvZ25pemVyXSxcblx0ICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuXHQgICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG5cdCAgICBdLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cblx0ICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqL1xuXHQgICAgY3NzUHJvcHM6IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cblx0ICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcblx0ICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcblx0ICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgU1RPUCA9IDE7XG5cdHZhciBGT1JDRURfU1RPUCA9IDI7XG5cdFxuXHQvKipcblx0ICogTWFuYWdlclxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblx0XG5cdCAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblx0XG5cdCAgICB0aGlzLmhhbmRsZXJzID0ge307XG5cdCAgICB0aGlzLnNlc3Npb24gPSB7fTtcblx0ICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcblx0ICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblx0XG5cdCAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHQgICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG5cdCAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cdFxuXHQgICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cdFxuXHQgICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuXHQgICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuXHQgICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcblx0ICAgIH0sIHRoaXMpO1xuXHR9XG5cdFxuXHRNYW5hZ2VyLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IG9wdGlvbnNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cdFxuXHQgICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcblx0ICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuXHQgICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuXHQgICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuXHQgICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cblx0ICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuXHQgICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG5cdCAgICAgKi9cblx0ICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG5cdCAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuXHQgICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuXHQgICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG5cdCAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cdCAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuXHQgICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cdFxuXHQgICAgICAgIHZhciByZWNvZ25pemVyO1xuXHQgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdFxuXHQgICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuXHQgICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcblx0ICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG5cdCAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cdFxuXHQgICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG5cdCAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG5cdCAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuXHQgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cdFxuXHQgICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG5cdCAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuXHQgICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcblx0ICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuXHQgICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cblx0ICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG5cdCAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcblx0ICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG5cdCAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuXHQgICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcblx0ICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG5cdCAgICAgKi9cblx0ICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuXHQgICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG5cdCAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcblx0ICAgICAgICBpZiAoZXhpc3RpbmcpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuXHQgICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cblx0ICAgICAqL1xuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblx0XG5cdCAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcblx0ICAgICAgICBpZiAocmVjb2duaXplcikge1xuXHQgICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBiaW5kIGV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG5cdCAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cblx0ICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcblx0ICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICAgICAqL1xuXHQgICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcblx0ICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG5cdCAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcblx0ICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG5cdCAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuXHQgICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcblx0ICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cdFxuXHQgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblx0ICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcblx0ICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcblx0ICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuXHQgKi9cblx0ZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG5cdCAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wO1xuXHQgICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuXHQgICAgICAgIGlmIChhZGQpIHtcblx0ICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG5cdCAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmICghYWRkKSB7XG5cdCAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogdHJpZ2dlciBkb20gZXZlbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcblx0ICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0ICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuXHQgICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuXHQgICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xuXHR9XG5cdFxuXHRhc3NpZ24oSGFtbWVyLCB7XG5cdCAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG5cdCAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuXHQgICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG5cdCAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblx0XG5cdCAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG5cdCAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG5cdCAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuXHQgICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuXHQgICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcblx0ICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuXHQgICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cdFxuXHQgICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuXHQgICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuXHQgICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG5cdCAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcblx0ICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcblx0ICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcblx0ICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuXHQgICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblx0XG5cdCAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuXHQgICAgSW5wdXQ6IElucHV0LFxuXHQgICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXHRcblx0ICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG5cdCAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuXHQgICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuXHQgICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG5cdCAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXHRcblx0ICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG5cdCAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG5cdCAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG5cdCAgICBQYW46IFBhblJlY29nbml6ZXIsXG5cdCAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuXHQgICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcblx0ICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcblx0ICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cdFxuXHQgICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuXHQgICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcblx0ICAgIGVhY2g6IGVhY2gsXG5cdCAgICBtZXJnZTogbWVyZ2UsXG5cdCAgICBleHRlbmQ6IGV4dGVuZCxcblx0ICAgIGFzc2lnbjogYXNzaWduLFxuXHQgICAgaW5oZXJpdDogaW5oZXJpdCxcblx0ICAgIGJpbmRGbjogYmluZEZuLFxuXHQgICAgcHJlZml4ZWQ6IHByZWZpeGVkXG5cdH0pO1xuXHRcblx0Ly8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcblx0Ly8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG5cdHZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0ZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cdFxuXHRpZiAodHJ1ZSkge1xuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBIYW1tZXI7XG5cdCAgICB9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xuXHR9IGVsc2Uge1xuXHQgICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xuXHR9XG5cdFxuXHR9KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG5cblxuLyoqKi8gfSxcbi8qIDExNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187J3VzZSBzdHJpY3QnO1xuXHRcblx0KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdCAgaWYgKHRydWUpIHtcblx0ICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG5cdCAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcblx0ICAgIC8vIGxpa2UgTm9kZS5cblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHQgICAgd2luZG93LnByb3BhZ2F0aW5nID0gZmFjdG9yeSgpO1xuXHQgIH1cblx0fShmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9maXJzdFRhcmdldCA9IG51bGw7IC8vIHNpbmdsZXRvbiwgd2lsbCBjb250YWluIHRoZSB0YXJnZXQgZWxlbWVudCB3aGVyZSB0aGUgdG91Y2ggZXZlbnQgc3RhcnRlZFxuXHRcblx0ICAvKipcblx0ICAgKiBFeHRlbmQgYW4gSGFtbWVyLmpzIGluc3RhbmNlIHdpdGggZXZlbnQgcHJvcGFnYXRpb24uXG5cdCAgICpcblx0ICAgKiBGZWF0dXJlczpcblx0ICAgKiAtIEV2ZW50cyBlbWl0dGVkIGJ5IGhhbW1lciB3aWxsIHByb3BhZ2F0ZSBpbiBvcmRlciBmcm9tIGNoaWxkIHRvIHBhcmVudFxuXHQgICAqICAgZWxlbWVudHMuXG5cdCAgICogLSBFdmVudHMgYXJlIGV4dGVuZGVkIHdpdGggYSBmdW5jdGlvbiBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgIHRvIHN0b3Bcblx0ICAgKiAgIHByb3BhZ2F0aW9uIHRvIHBhcmVudCBlbGVtZW50cy5cblx0ICAgKiAtIEFuIG9wdGlvbiBgcHJldmVudERlZmF1bHRgIHRvIHN0b3AgYWxsIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cblx0ICAgKlxuXHQgICAqIFVzYWdlOlxuXHQgICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCkpO1xuXHQgICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCksIHtwcmV2ZW50RGVmYXVsdDogdHJ1ZX0pO1xuXHQgICAqXG5cdCAgICogQHBhcmFtIHtIYW1tZXIuTWFuYWdlcn0gaGFtbWVyICAgQW4gaGFtbWVyIGluc3RhbmNlLlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYHByZXZlbnREZWZhdWx0OiB0cnVlIHwgZmFsc2UgfCAnbW91c2UnIHwgJ3RvdWNoJyB8ICdwZW4nYC5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZm9yY2UgcHJldmVudGluZyB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLlxuXHQgICAqIEByZXR1cm4ge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBzYW1lIGhhbW1lciBpbnN0YW5jZSB3aXRoIGV4dGVuZGVkXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHlcblx0ICAgKi9cblx0ICByZXR1cm4gZnVuY3Rpb24gcHJvcGFnYXRpbmcoaGFtbWVyLCBvcHRpb25zKSB7XG5cdCAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zIHx8IHtcblx0ICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChoYW1tZXIuTWFuYWdlcikge1xuXHQgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgdGhlIEhhbW1lciBjb25zdHJ1Y3Rvci5cblx0ICAgICAgLy8gT3ZlcmxvYWQgdGhlIGNvbnN0cnVjdG9ycyB3aXRoIG91ciBvd24uXG5cdCAgICAgIHZhciBIYW1tZXIgPSBoYW1tZXI7XG5cdFxuXHQgICAgICB2YXIgUHJvcGFnYXRpbmdIYW1tZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcblx0ICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lcihlbGVtZW50LCBvKSwgbyk7XG5cdCAgICAgIH07XG5cdCAgICAgIEhhbW1lci5hc3NpZ24oUHJvcGFnYXRpbmdIYW1tZXIsIEhhbW1lcik7XG5cdFxuXHQgICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpO1xuXHQgICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuXHQgICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIFByb3BhZ2F0aW5nSGFtbWVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uc1xuXHQgICAgLy8gYG9uYCwgYG9mZmAsIGBkZXN0cm95YCwgYW5kIGBlbWl0YCBvZiB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICB2YXIgd3JhcHBlciA9IE9iamVjdC5jcmVhdGUoaGFtbWVyKTtcblx0XG5cdCAgICAvLyBhdHRhY2ggdG8gRE9NIGVsZW1lbnRcblx0ICAgIHZhciBlbGVtZW50ID0gaGFtbWVyLmVsZW1lbnQ7XG5cdFxuXHQgICAgaWYoIWVsZW1lbnQuaGFtbWVyKSBlbGVtZW50LmhhbW1lciA9IFtdO1xuXHQgICAgZWxlbWVudC5oYW1tZXIucHVzaCh3cmFwcGVyKTtcblx0XG5cdCAgICAvLyByZWdpc3RlciBhbiBldmVudCB0byBjYXRjaCB0aGUgc3RhcnQgb2YgYSBnZXN0dXJlIGFuZCBzdG9yZSB0aGVcblx0ICAgIC8vIHRhcmdldCBpbiBhIHNpbmdsZXRvblxuXHQgICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgaWYgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSB0cnVlIHx8IChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gZXZlbnQucG9pbnRlclR5cGUpKSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZXZlbnQuaXNGaXJzdCkge1xuXHQgICAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgQXJyYXkuPGZ1bmN0aW9uPj59ICovXG5cdCAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudClcblx0ICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgIC8vIHJlZ2lzdGVyIHRoZSBoYW5kbGVyXG5cdCAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgIGlmICghX2hhbmRsZXJzKSB7XG5cdCAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnMgPSBbXTtcblx0XG5cdCAgICAgICAgICAvLyByZWdpc3RlciB0aGUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcblx0ICAgICAgICAgIGhhbW1lci5vbihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVbnJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXJdIE9wdGlvbmFsLiBUaGUgcmVnaXN0ZXJlZCBoYW5kbGVyLiBJZiBub3Rcblx0ICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCwgYWxsIGhhbmRsZXJzIGZvciBnaXZlbiBldmVudHNcblx0ICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC5cblx0ICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gICBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIGhhbmRsZXJcblx0ICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgaWYgKF9oYW5kbGVycykge1xuXHQgICAgICAgICAgX2hhbmRsZXJzID0gaGFuZGxlciA/IF9oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG5cdCAgICAgICAgICB9KSA6IFtdO1xuXHRcblx0ICAgICAgICAgIGlmIChfaGFuZGxlcnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnM7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gcmVtb3ZlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG5cdCAgICAgICAgICAgIGhhbW1lci5vZmYoZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcblx0ICAgICAgICAgICAgZGVsZXRlIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG5cdCAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLmVtaXQgPSBmdW5jdGlvbihldmVudFR5cGUsIGV2ZW50KSB7XG5cdCAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHdyYXBwZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gRGV0YWNoIGZyb20gRE9NIGVsZW1lbnRcblx0ICAgICAgdmFyIGhhbW1lcnMgPSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cdCAgICAgIHZhciBpZHggPSBoYW1tZXJzLmluZGV4T2Yod3JhcHBlcik7XG5cdCAgICAgIGlmKGlkeCAhPT0gLTEpIGhhbW1lcnMuc3BsaWNlKGlkeCwxKTtcblx0ICAgICAgaWYoIWhhbW1lcnMubGVuZ3RoKSBkZWxldGUgaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXHRcblx0ICAgICAgLy8gY2xlYXIgYWxsIGhhbmRsZXJzXG5cdCAgICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cdFxuXHQgICAgICAvLyBjYWxsIG9yaWdpbmFsIGhhbW1lciBkZXN0cm95XG5cdCAgICAgIGhhbW1lci5kZXN0cm95KCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggc3BhY2Ugc2VwYXJhdGVkIHdvcmRzXG5cdCAgICBmdW5jdGlvbiBzcGxpdChldmVudHMpIHtcblx0ICAgICAgcmV0dXJuIGV2ZW50cy5tYXRjaCgvW14gXSsvZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHN0YXRpYyBldmVudCBoYW5kbGVyLCBhcHBseWluZyBldmVudCBwcm9wYWdhdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwcm9wYWdhdGVkSGFuZGxlcihldmVudCkge1xuXHQgICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnRcblx0ICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdoYW1tZXIuaW5wdXQnKSB7XG5cdCAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgc2FtZSBzcmNFdmVudCBpcyB1c2VkIHdpdGggbXVsdGlwbGUgaGFtbWVyIGV2ZW50cyxcblx0ICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWRcblx0ICAgICAgICBpZiAoIWV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkKSB7XG5cdCAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZCA9IHt9O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0gPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gYXR0YWNoIGEgc3RvcFByb3BhZ2F0aW9uIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxuXHQgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuXHQgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgc3RvcHBlZCA9IHRydWU7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICAvL3dyYXAgdGhlIHNyY0V2ZW50J3Mgc3RvcFByb3BhZ2F0aW9uIHRvIGFsc28gc3RvcCBoYW1tZXIgcHJvcGFnYXRpb246XG5cdCAgICAgIHZhciBzcmNTdG9wID0gZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uLmJpbmQoZXZlbnQuc3JjRXZlbnQpO1xuXHQgICAgICBpZih0eXBlb2Ygc3JjU3RvcCA9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpe1xuXHQgICAgICAgICAgc3JjU3RvcCgpO1xuXHQgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBhdHRhY2ggZmlyc3RUYXJnZXQgcHJvcGVydHkgdG8gdGhlIGV2ZW50XG5cdCAgICAgIGV2ZW50LmZpcnN0VGFyZ2V0ID0gX2ZpcnN0VGFyZ2V0O1xuXHRcblx0ICAgICAgLy8gcHJvcGFnYXRlIG92ZXIgYWxsIGVsZW1lbnRzICh1bnRpbCBzdG9wcGVkKVxuXHQgICAgICB2YXIgZWxlbSA9IF9maXJzdFRhcmdldDtcblx0ICAgICAgd2hpbGUgKGVsZW0gJiYgIXN0b3BwZWQpIHtcblx0ICAgICAgICB2YXIgZWxlbUhhbW1lciA9IGVsZW0uaGFtbWVyO1xuXHQgICAgICAgIGlmKGVsZW1IYW1tZXIpe1xuXHQgICAgICAgICAgdmFyIF9oYW5kbGVycztcblx0ICAgICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCBlbGVtSGFtbWVyLmxlbmd0aDsgaysrKXtcblx0ICAgICAgICAgICAgX2hhbmRsZXJzID0gZWxlbUhhbW1lcltrXS5faGFuZGxlcnNbZXZlbnQudHlwZV07XG5cdCAgICAgICAgICAgIGlmKF9oYW5kbGVycykgZm9yICh2YXIgaSA9IDA7IGkgPCBfaGFuZGxlcnMubGVuZ3RoICYmICFzdG9wcGVkOyBpKyspIHtcblx0ICAgICAgICAgICAgICBfaGFuZGxlcnNbaV0oZXZlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gd3JhcHBlcjtcblx0ICB9O1xuXHR9KSk7XG5cblxuLyoqKi8gfSxcbi8qIDExNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZUFjdGlvbnMgPSBwYXJzZUFjdGlvbnM7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuXHRleHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuXHRleHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuXHRleHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5cdGV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdC8vIGRlYnVnIG91dHB1dFxuXHR2YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBkZWJ1ZygpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgX2NvbnNvbGU7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG5cdCAgICB9XG5cdCAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgYXJncyA9IFsnYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuXHQgICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgdmFyIF9jb25zb2xlMjtcblx0XG5cdCAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuXHQgICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcblx0ICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkJywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbjogYWN0aW9uIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gZGVidWdFbmQoKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuXHQgIH1cblx0fVxuXHQvLyAvZGVidWcgb3V0cHV0XG5cdFxuXHQvLyBhY3Rpb24gdHlwZXNcblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBVTkRPOiAnQEByZWR1eC11bmRvL1VORE8nLFxuXHQgIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG5cdCAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuXHQgIEpVTVBfVE9fUEFTVDogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX1BBU1QnXG5cdH07XG5cdC8vIC9hY3Rpb24gdHlwZXNcblx0XG5cdC8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG5cdHZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG5cdCAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcblx0ICB9LFxuXHQgIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG5cdCAgfSxcblx0ICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuXHQgIH0sXG5cdCAganVtcFRvUGFzdDogZnVuY3Rpb24ganVtcFRvUGFzdChpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcblx0ICB9XG5cdH07XG5cdC8vIC9hY3Rpb24gY3JlYXRvcnNcblx0XG5cdC8vIGxlbmd0aDogZ2V0IGxlbmd0aCBvZiBoaXN0b3J5XG5cdGZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0ICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcblx0fVxuXHQvLyAvbGVuZ3RoXG5cdFxuXHQvLyBpbnNlcnQ6IGluc2VydCBgc3RhdGVgIGludG8gaGlzdG9yeSwgd2hpY2ggbWVhbnMgYWRkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG5cdC8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuXHQvLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cblx0ZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCkge1xuXHQgIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHRcblx0ICB2YXIgaGlzdG9yeU92ZXJmbG93ID0gbGltaXQgJiYgbGVuZ3RoKGhpc3RvcnkpID49IGxpbWl0O1xuXHRcblx0ICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvLyBpbml0IGhpc3Rvcnlcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHBhc3Q6IFtdLFxuXHQgICAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgICAgZnV0dXJlOiBbXVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3Quc2xpY2UoaGlzdG9yeU92ZXJmbG93ID8gMSA6IDApKSwgW3ByZXNlbnRdKSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2luc2VydFxuXHRcblx0Ly8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuXHRmdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcblx0ICBkZWJ1ZygndW5kbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuXHQgICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuXHQgICAgZnV0dXJlOiBbcHJlc2VudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmdXR1cmUpKVxuXHQgIH07XG5cdH1cblx0Ly8gL3VuZG9cblx0XG5cdC8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3Rvcnlcblx0ZnVuY3Rpb24gcmVkbyhoaXN0b3J5KSB7XG5cdCAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG5cdCAgICBwcmVzZW50OiBmdXR1cmVbMF0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcblx0ICAgIF0pXG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkb1xuXHRcblx0Ly8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuXHRmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IDApIHJldHVybiByZWRvKGhpc3RvcnkpO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcblx0ICAgIHByZXNlbnQ6IGZ1dHVyZVtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb0Z1dHVyZVxuXHRcblx0Ly8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5cdGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuXHQgICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIGluZGV4KVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb1Bhc3Rcblx0XG5cdC8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuXHRmdW5jdGlvbiB3cmFwU3RhdGUoc3RhdGUpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG5cdCAgICBoaXN0b3J5OiBzdGF0ZVxuXHQgIH0pO1xuXHR9XG5cdC8vIC93cmFwU3RhdGVcblx0XG5cdC8vIHVwZGF0ZVN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG5cdCAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGhpc3RvcnkpKTtcblx0fVxuXHQvLyAvdXBkYXRlU3RhdGVcblx0XG5cdC8vIGNyZWF0ZUhpc3Rvcnlcblx0ZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2NyZWF0ZUhpc3Rvcnlcblx0XG5cdC8vIHBhcnNlQWN0aW9uc1xuXHRmdW5jdGlvbiBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucykge1xuXHQgIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcblx0ICAgIHJldHVybiByYXdBY3Rpb25zO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuXHQgIH1cblx0ICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHR9XG5cdC8vIC9wYXJzZUFjdGlvbnNcblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcblx0ZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuXHQgIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXHRcblx0ICB2YXIgY29uZmlnID0ge1xuXHQgICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuXHQgICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuXHQgICAgbGltaXQ6IHJhd0NvbmZpZy5saW1pdCxcblx0ICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0ICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcblx0ICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcblx0ICAgIGp1bXBUb1Bhc3RUeXBlOiByYXdDb25maWcuanVtcFRvUGFzdFR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuXHQgICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcblx0ICB9O1xuXHQgIGNvbmZpZy5oaXN0b3J5ID0gcmF3Q29uZmlnLmluaXRpYWxIaXN0b3J5IHx8IGNyZWF0ZUhpc3RvcnkoY29uZmlnLmluaXRpYWxTdGF0ZSk7XG5cdFxuXHQgIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgY29uc29sZS53YXJuKCdyZWR1eC11bmRvOiBzdXBwbHkgYXQgbGVhc3Qgb25lIGFjdGlvbiB0eXBlIGluIGluaXRUeXBlcyB0byBlbnN1cmUgaW5pdGlhbCBzdGF0ZScpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuXHQgICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG5cdCAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIHVuZG8nLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcblx0ICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgcmVkbycsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb1Bhc3QnLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvRnV0dXJlJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcblx0ICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG5cdCAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGNyZWF0ZUhpc3RvcnkocmVzKSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXIgJiYgdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcblx0ICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuXHQgICAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuXHQgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG5cdCAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgaW5zZXJ0JywgeyBoaXN0b3J5OiB1cGRhdGVkSGlzdG9yeSwgZnJlZTogY29uZmlnLmxpbWl0IC0gbGVuZ3RoKHVwZGF0ZWRIaXN0b3J5KSB9KTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHRcblx0ICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgdXBkYXRlZEhpc3RvcnkpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdC8vIC9yZWR1eC11bmRvXG5cdFxuXHQvLyBkaXN0aW5jdFN0YXRlIGhlbHBlclxuXHRmdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcblx0ICAgIHJldHVybiBjdXJyZW50U3RhdGUgIT09IHByZXZpb3VzU3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvLyAvZGlzdGluY3RTdGF0ZVxuXHRcblx0Ly8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKSB7XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDA7XG5cdCAgfTtcblx0fVxuXHQvLyAvaW5jbHVkZUFjdGlvblxuXHRcblx0Ly8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaWZBY3Rpb24ocmF3QWN0aW9ucykge1xuXHQgIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcblx0ICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcblx0fVxuXHQvLyAvaWZBY3Rpb25cblx0XG5cdC8vIGV4Y2x1ZGVBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG5cdCAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpIDwgMDtcblx0ICB9O1xuXHR9XG5cdC8vIC9leGNsdWRlQWN0aW9uXG5cbi8qKiovIH0sXG4vKiAxMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgWV9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFO1xuXHR2YXIgbW9kID0gZnVuY3Rpb24gbW9kKHRlbXBSZXNpemVfdG9wKSB7XG5cdCAgICAgIHZhciBjb2VmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHZhciBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG5cdCAgICAgICAgICBESVYgPSBwYXJzZUludCh0ZW1wUmVzaXplX3RvcCAvIFlfU0laRSksXG5cdCAgICAgICAgICBHQVAgPSAxNTtcblx0XG5cdCAgICAgIGlmIChNT0QgPCBHQVApIHtcblx0ICAgICAgICAgICAgdGVtcFJlc2l6ZV90b3AgPSBESVYgKiBZX1NJWkU7XG5cdCAgICAgIH0gZWxzZSBpZiAoTU9EID4gWV9TSVpFIC0gR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gY29lZiAqIChESVYgKyAxKSAqIFlfU0laRTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbW9kO1xuXG4vKioqLyB9LFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3VydmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCk7XG5cdFxuXHR2YXIgX2N1cnZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlKTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIF9yZXNpemVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplSGFuZGxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvclJpZ2h0ID0gZnVuY3Rpb24gQ3VydmVFZGl0b3JSaWdodChfcmVmKSB7XG5cdCAgICAgICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXHQgICAgICAgICAgdmFyIHByb2dyZXNzTGluZXMgPSBfcmVmLnByb2dyZXNzTGluZXM7XG5cdFxuXHQgICAgICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3JpZ2h0J10gfSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmUyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlLCBwcm9ncmVzc0xpbmVzOiBwcm9ncmVzc0xpbmVzIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9yZXNpemVIYW5kbGUyLmRlZmF1bHQsIHsgdHlwZTogJ3JpZ2h0JywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdib3R0b20nLCBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0pXG5cdCAgICAgICAgICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3JSaWdodDtcblxuLyoqKi8gfSxcbi8qIDEyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5nbGVUb1BvaW50KTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NMaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTcpO1xuXHRcblx0dmFyIF9wcm9ncmVzc0xpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvZ3Jlc3NMaW5lKTtcblx0XG5cdHZhciBfcG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cdFxuXHR2YXIgX3BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50KTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplTW9kKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XG5cdHZhciBDdXJ2ZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ3VydmUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDdXJ2ZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEN1cnZlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEN1cnZlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEN1cnZlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMucHJvcHMuc3RhdGU7XG5cdCAgICAgIHZhciBwYXRoID0gc3RhdGUucG9pbnRzLnByZXNlbnQucGF0aDtcblx0ICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuX2dldFN0eWxlKHN0YXRlKTtcblx0ICAgICAgdmFyIHBvaW50cyA9IHRoaXMuX3JlbmRlclBvaW50cyhzdGF0ZSk7XG5cdCAgICAgIHZhciBzZWdtZW50cyA9IHRoaXMuX3JlbmRlclNlZ21lbnRzKHN0YXRlKTtcblx0ICAgICAgdmFyIHByb2dyZXNzTGluZXMgPSB0aGlzLl9yZW5kZXJQcm9ncmVzc0xpbmVzKHN0YXRlKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUnXSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGlkOiAnanMtYmFja2dyb3VuZCcsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlX19iYWNrZ3JvdW5kJ10sXG5cdCAgICAgICAgICBzdHlsZTogc3R5bGVzLmJhY2tncm91bmQgfSksXG5cdCAgICAgICAgcHJvZ3Jlc3NMaW5lcyxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlX19zdmctd3JhcHBlciddLFxuXHQgICAgICAgICAgICBzdHlsZTogc3R5bGVzLnRyYW5zZm9ybSB9LFxuXHQgICAgICAgICAgcG9pbnRzLFxuXHQgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAgICdzdmcnLFxuXHQgICAgICAgICAgICB7IGhlaWdodDogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFLFxuXHQgICAgICAgICAgICAgIHZpZXdCb3g6ICcwIDAgMTAwIDEwMCcsXG5cdCAgICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ25vbmUnLFxuXHQgICAgICAgICAgICAgIGlkOiAnanMtc3ZnJyxcblx0ICAgICAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnJ10gfSxcblx0ICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ3BhdGgnLCB7IGQ6IHBhdGgsXG5cdCAgICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXG5cdCAgICAgICAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogJzAuMzUnLFxuXHQgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAnNCcsXG5cdCAgICAgICAgICAgICAgJ3ZlY3Rvci1lZmZlY3QnOiAnbm9uLXNjYWxpbmctc3Ryb2tlJyxcblx0ICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLjc1LC43NSknLFxuXHQgICAgICAgICAgICAgIGZpbGw6ICdub25lJyB9KSxcblx0ICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAgICAgJ2cnLFxuXHQgICAgICAgICAgICAgIHsgaWQ6ICdqcy1zZWdtZW50cycgfSxcblx0ICAgICAgICAgICAgICAnICcsXG5cdCAgICAgICAgICAgICAgc2VnbWVudHMsXG5cdCAgICAgICAgICAgICAgJyAnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoc3RhdGUpIHtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIHRlbXBfdG9wID0gcmVzaXplLnRlbXBfdG9wO1xuXHQgICAgICB2YXIgdGVtcF9yaWdodCA9IHJlc2l6ZS50ZW1wX3JpZ2h0O1xuXHRcblx0XG5cdCAgICAgIHRlbXBfdG9wICs9IHJlc2l6ZS50b3A7XG5cdCAgICAgIHRlbXBfcmlnaHQgKz0gcmVzaXplLnJpZ2h0O1xuXHRcblx0ICAgICAgaWYgKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSAtIHRlbXBfdG9wIDwgX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF90b3AgPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHRlbXBfdG9wID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfdG9wLCAtMSk7XG5cdFxuXHQgICAgICB2YXIgc2NhbGUgPSAndHJhbnNmb3JtOiBzY2FsZVgoJyArIChfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyBNYXRoLm1heCh0ZW1wX3JpZ2h0LCAwKSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyAnKScsXG5cdCAgICAgICAgICBiZ1RyYW5zZm9ybSA9ICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyBzY2FsZSArICc7ICcgKyBzY2FsZSArICc7Jyxcblx0ICAgICAgICAgIGJhY2tncm91bmQgPSAnYmFja2dyb3VuZC1wb3NpdGlvbjogMCAnICsgKC10ZW1wX3RvcCAtIDEpICsgJ3B4OyAnICsgYmdUcmFuc2Zvcm0sXG5cdCAgICAgICAgICB0cmFuc2Zvcm0gPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAnICsgLXRlbXBfdG9wICsgJ3B4KSc7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCxcblx0ICAgICAgICB0cmFuc2Zvcm06ICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2Zvcm0gKyAnOyAnICsgdHJhbnNmb3JtICsgJzsnXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3JlbmRlclBvaW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclBvaW50cyhzdGF0ZSkge1xuXHQgICAgICB2YXIgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnBvaW50cyxcblx0ICAgICAgICAgIHBvaW50cyA9IFtdLFxuXHQgICAgICAgICAgbGVuID0gcG9pbnRzRGF0YS5sZW5ndGg7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgcG9pbnRzLnB1c2goKDAsIF9wcmVhY3QuaCkoX3BvaW50Mi5kZWZhdWx0LCB7IHBvaW50OiBwb2ludHNEYXRhW2ldLCBzdGF0ZTogc3RhdGUsIGluZGV4OiBpLCBwb2ludHNDb3VudDogbGVuIH0pKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHBvaW50cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyU2VnbWVudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJTZWdtZW50cyhzdGF0ZSkge1xuXHQgICAgICB2YXIgc2VnbWVudHMgPSBzdGF0ZS5wb2ludHMucHJlc2VudC5zZWdtZW50cztcblx0ICAgICAgdmFyIGRvbVNlZ21lbnRzID0gW107XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcblx0ICAgICAgICBkb21TZWdtZW50cy5wdXNoKCgwLCBfcHJlYWN0LmgpKCdwYXRoJywgeyBkOiBzZWdtZW50LnNlZ21lbnRTdHJpbmcsXG5cdCAgICAgICAgICAnZGF0YS1pbmRleCc6IHNlZ21lbnQuaW5kZXgsXG5cdCAgICAgICAgICBzdHJva2U6ICd3aGl0ZScsXG5cdCAgICAgICAgICBmaWxsOiAnbm9uZScsXG5cdCAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJycsXG5cdCAgICAgICAgICAndmVjdG9yLWVmZmVjdCc6ICdub24tc2NhbGluZy1zdHJva2UnLFxuXHQgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J11cblx0ICAgICAgICB9KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBkb21TZWdtZW50cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyUHJvZ3Jlc3NMaW5lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclByb2dyZXNzTGluZXMoc3RhdGUpIHtcblx0ICAgICAgdmFyIHByb2dyZXNzTGluZXMgPSBzdGF0ZS5wcm9ncmVzc0xpbmVzO1xuXHQgICAgICB2YXIgbGluZXMgPSBwcm9ncmVzc0xpbmVzLmxpbmVzO1xuXHQgICAgICB2YXIgcmVuZGVyZWRMaW5lcyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IGxpbmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXTtcblx0ICAgICAgICByZW5kZXJlZExpbmVzLnB1c2goKDAsIF9wcmVhY3QuaCkoX3Byb2dyZXNzTGluZTIuZGVmYXVsdCwgbGluZSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcmVuZGVyZWRMaW5lcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfdXBkYXRlRG9tUHJvZ3Jlc3NMaW5lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZURvbVByb2dyZXNzTGluZXMoKSB7XG5cdCAgICAgIHZhciBwcm9ncmVzc0xpbmVzID0gdGhpcy5wcm9wcy5wcm9ncmVzc0xpbmVzO1xuXHQgICAgICAvLyBETyBOT1QgTVVUQVRFIFRIRSBBUlJBWSBUTyBQUkVWRU5UIExPT1NJTkcgVEhFIExJTksgVE8gSVRcblx0XG5cdCAgICAgIHByb2dyZXNzTGluZXMubGVuZ3RoID0gMDtcblx0XG5cdCAgICAgIHZhciBsaW5lcyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb21wb25lbnQ9XCJwcm9ncmVzcy1saW5lXCJdJyk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBwcm9ncmVzc0xpbmVzW2ldID0gbGluZXNbaV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBfcmVuZGVyU2VnbWVudCAoIGluZGV4LCBzdHJpbmcpIHtcblx0ICAgIC8vICAgcmV0dXJuIDxwYXRoXG5cdCAgICAvLyAgICAgICAgICAgZD17c3RyaW5nfVxuXHQgICAgLy8gICAgICAgICAgIGRhdGEtaW5kZXg9e2luZGV4fVxuXHQgICAgLy8gICAgICAgICAgIHN0cm9rZT1cIndoaXRlXCJcblx0ICAgIC8vICAgICAgICAgICBmaWxsPVwibm9uZVwiXG5cdCAgICAvLyAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiXCJcblx0ICAgIC8vICAgICAgICAgICB2ZWN0b3ItZWZmZWN0PVwibm9uLXNjYWxpbmctc3Ryb2tlXCJcblx0ICAgIC8vICAgICAgICAgICBjbGFzcz17Q0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J119XG5cdCAgICAvLyAgICAgICAgICAgLz47XG5cdCAgICAvLyB9XG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgICB0aGlzLl91cGRhdGVEb21Qcm9ncmVzc0xpbmVzKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB0aGlzLl91cGRhdGVEb21Qcm9ncmVzc0xpbmVzKCk7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKTtcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIC8vIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlRhcCgpKTtcblx0XG5cdCAgICAgIG1jLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBldiA9IGUuc3JjRXZlbnQsXG5cdCAgICAgICAgICAgIHRhcmdldCA9IGV2LnRhcmdldDtcblx0ICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuXHQgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAncGF0aCcpIHtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgICAgICB2YXIgeCA9IGV2Lm9mZnNldFgsXG5cdCAgICAgICAgICAgIHkgPSBldi5vZmZzZXRZICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULFxuXHQgICAgICAgICAgICBpbmRleCA9IHBhcnNlSW50KHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSkgKyAxO1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnUE9JTlRfQUREJyxcblx0ICAgICAgICAgIGRhdGE6IHsgcG9pbnQ6IHsgeDogeCwgeTogeSB9LCBpbmRleDogaW5kZXggfSxcblx0ICAgICAgICAgIGlzUmVjb3JkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAgICAgZGF0YTogeyBpbmRleDogaW5kZXgsIHR5cGU6ICdzdHJhaWdodCcgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBzdmcgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXN2ZycpLFxuXHQgICAgICAgICAgc3ZnTWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0XG5cdCAgICAgIHN2Z01jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlRhcCgpKTtcblx0XG5cdCAgICAgIHN2Z01jLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ3VydmU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmU7XG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYW5nbGUsIHJhZGl1cykge1xuXHQgIHJldHVybiBtb2pzLmguZ2V0UmFkaWFsUG9pbnQoeyBhbmdsZTogYW5nbGUsIHJhZGl1czogcmFkaXVzLCBjZW50ZXI6IHsgeDogMCwgeTogMCB9IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9hZGRQb2ludGVyRG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkUG9pbnRlckRvd24pO1xuXHRcblx0dmFyIF9saXR0bGVIYW5kbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCk7XG5cdFxuXHR2YXIgX2xpdHRsZUhhbmRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXR0bGVIYW5kbGUpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9yb3VuZFRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xuXHRcblx0dmFyIF9yb3VuZFRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdW5kVG8pO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9jbGFtcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0XG5cdHZhciBfY2xhbXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhbXApO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFxuXHR2YXIgUG9pbnQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvaW50LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUG9pbnQoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQb2ludCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQb2ludCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb2ludCwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzLnBvaW50O1xuXHQgICAgICB2YXIgc3RhdGUgPSBfcHJvcHMuc3RhdGU7XG5cdCAgICAgIHZhciBzZWxlY3RlZCA9IHBvaW50LmlzU2VsZWN0ZWQgPyBDTEFTU0VTWydpcy1zZWxlY3RlZCddIDogJyc7XG5cdCAgICAgIHZhciBoYW5kbGVzID0gcG9pbnQudHlwZSA9PT0gJ3N0cmFpZ2h0JyA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cdFxuXHQgICAgICB2YXIgbGl0dGxlSGFuZGxlcyA9IHRoaXMuX2dldExpdHRsZUhhbmRsZXMoKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncG9pbnQnXSArICcgJyArIHNlbGVjdGVkICsgJyAnICsgaGFuZGxlcyxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRTdHlsZShzdGF0ZSksXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAncG9pbnQnIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydwb2ludF9fdG91Y2gnXSwgaWQ6ICdqcy1wb2ludC10b3VjaCcgfSksXG5cdCAgICAgICAgbGl0dGxlSGFuZGxlc1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludCA9IHRoaXMucHJvcHMucG9pbnQ7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB4ID0gKDAsIF9jbGFtcDIuZGVmYXVsdCkocG9pbnQueCArIHBvaW50LnRlbXBYLCAwLCAxMDApO1xuXHQgICAgICB2YXIgY2xlYW5YID0geCAqIHJlc2l6ZS5zY2FsZXJYO1xuXHQgICAgICB2YXIgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWTtcblx0XG5cdCAgICAgIC8vIGNvbnNvbGUubG9nKHBvaW50KTtcblx0XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoJyArIGNsZWFuWCArICdweCwgJyArICh5IC0gMSkgKyAncHgpJztcblx0ICAgICAgcmV0dXJuICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2xhdGUgKyAnOyAnICsgdHJhbnNsYXRlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRMaXR0bGVIYW5kbGVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGl0dGxlSGFuZGxlcygpIHtcblx0ICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgaW5kZXggPSBfcHJvcHMyLmluZGV4O1xuXHQgICAgICB2YXIgcG9pbnQgPSBfcHJvcHMyLnBvaW50O1xuXHQgICAgICB2YXIgcG9pbnRzQ291bnQgPSBfcHJvcHMyLnBvaW50c0NvdW50O1xuXHQgICAgICB2YXIgaGFuZGxlcyA9IFtdO1xuXHQgICAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMSBmb3Igc3RhcnQgcG9pbnRcblx0ICAgICAgaW5kZXggIT09IDAgJiYgaGFuZGxlcy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZSgxLCBwb2ludCkpO1xuXHQgICAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMiBmb3IgZW5kIHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSBwb2ludHNDb3VudCAtIDEgJiYgaGFuZGxlcy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZSgyLCBwb2ludCkpO1xuXHQgICAgICByZXR1cm4gaGFuZGxlcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfY3JlYXRlSGFuZGxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlSGFuZGxlKGluZGV4LCBwb2ludCkge1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoX2xpdHRsZUhhbmRsZTIuZGVmYXVsdCwge1xuXHQgICAgICAgIGluZGV4OiBpbmRleCxcblx0ICAgICAgICBzdGF0ZTogdGhpcy5wcm9wcy5zdGF0ZSxcblx0ICAgICAgICBwYXJlbnRJbmRleDogdGhpcy5wcm9wcy5pbmRleCxcblx0ICAgICAgICBoYW5kbGU6IHBvaW50WydoYW5kbGUnICsgaW5kZXhdLFxuXHQgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdFxuXHQgICAgICB2YXIgZ2V0VGVtcFggPSBmdW5jdGlvbiBnZXRUZW1wWChlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczMgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMy5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHMzLmluZGV4O1xuXHQgICAgICAgIC8vIGlmIHBvaW50IGlzIG5vdCBsb2NrZWQgdG8geCBheGVzIC0+XG5cdCAgICAgICAgLy8gY2FsY3VsYXRlIGRlbHRhIHJlZ2FyZGluZyBzY2FsZXJcblx0XG5cdCAgICAgICAgaWYgKHBvaW50LmlzTG9ja2VkWCkge1xuXHQgICAgICAgICAgcmV0dXJuIDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCAvIHJlc2l6ZS5zY2FsZXJYO1xuXHQgICAgICAgIGlmIChwb2ludC54ICsgeCA8IDApIHtcblx0ICAgICAgICAgIHJldHVybiAwIC0gcG9pbnQueDtcblx0ICAgICAgICB9IGVsc2UgaWYgKHBvaW50LnggKyB4ID4gMTAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gMTAwIC0gcG9pbnQueDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcm91bmRUbzIuZGVmYXVsdCkocG9pbnQueCArIHgsIDUsIDEuNSkgLSBwb2ludC54O1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGdldFkgPSBmdW5jdGlvbiBnZXRZKGUpIHtcblx0ICAgICAgICB2YXIgcmVzaXplID0gX3RoaXMyLnByb3BzLnN0YXRlLnJlc2l6ZTtcblx0ICAgICAgICB2YXIgX3Byb3BzNCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM0LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczQuaW5kZXg7XG5cdCAgICAgICAgdmFyIHkgPSBwb2ludC55ICsgZS5kZWx0YVk7XG5cdFxuXHQgICAgICAgIC8vIGNsYW1wIHkgdG8gdGhlIHNpemUgb2YgY3VydmVcblx0ICAgICAgICByZXR1cm4gKDAsIF9jbGFtcDIuZGVmYXVsdCkoeSwgcmVzaXplLnRvcCwgX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICAvLyBnZXQgeSBkZWx0YSByZWFnYXJkaW5nIGN1cnZlIGJvdW5kc1xuXHQgICAgICB2YXIgZ2V0VGVtcFkgPSBmdW5jdGlvbiBnZXRUZW1wWShlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczUgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNS5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM1LmluZGV4O1xuXHRcblx0XG5cdCAgICAgICAgdmFyIHkgPSBwb2ludC55ICsgZS5kZWx0YVksXG5cdCAgICAgICAgICAgIHJldHVyblZhbHVlID0geTtcblx0XG5cdCAgICAgICAgaWYgKHkgPCByZXNpemUudG9wKSB7XG5cdCAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJlc2l6ZS50b3A7XG5cdCAgICAgICAgfSBlbHNlIGlmICh5ID4gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSkge1xuXHQgICAgICAgICAgcmV0dXJuVmFsdWUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcm91bmRUbzIuZGVmYXVsdCkocmV0dXJuVmFsdWUsIDUgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsIDIgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQpIC0gcG9pbnQueTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtcG9pbnQtdG91Y2gnKSxcblx0ICAgICAgICAgIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdFxuXHQgICAgICBtYy5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzNiA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM2LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczYuaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogeyB4OiBnZXRUZW1wWChlKSwgeTogZ2V0VGVtcFkoZSksIGluZGV4OiBpbmRleCB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczcgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNy5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM3LmluZGV4O1xuXHQgICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURV9FTkQnLCBkYXRhOiBpbmRleCwgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgICgwLCBfYWRkUG9pbnRlckRvd24yLmRlZmF1bHQpKGVsLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHM4ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczgucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzOC5pbmRleDtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgIGluZGV4OiBpbmRleCwgaXNEZXNlbGVjdDogIWUuc2hpZnRLZXksXG5cdCAgICAgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFBvaW50O1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xuXG4vKioqLyB9LFxuLyogMTIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlbCwgZm4pIHtcblx0ICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdNU1BvaW50ZXJEb3duJywgZm4pO1xuXHQgIH0gZWxzZSBpZiAod2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZm4pO1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmbik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9wb2ludFRvQW5nbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG5cdFxuXHR2YXIgX3BvaW50VG9BbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludFRvQW5nbGUpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7XG5cdFxuXHR2YXIgTGl0dGxlSGFuZGxlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShMaXR0bGVIYW5kbGUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBMaXR0bGVIYW5kbGUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBMaXR0bGVIYW5kbGUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoTGl0dGxlSGFuZGxlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKExpdHRsZUhhbmRsZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlJ10sXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAnbGl0dGxlLWhhbmRsZScgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19wb2ludCddLFxuXHQgICAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0UG9pbnRTdHlsZSgpIH0sXG5cdCAgICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX2Vhc3ktdG91Y2gnXSB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX2xpbmUnXSxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRMaW5lU3R5bGUoKSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO3ZhciBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgaGFuZGxlID0gX3RoaXMyLnByb3BzLmhhbmRsZTtcblx0ICAgICAgfSkub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHMuaW5kZXg7XG5cdCAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gX3Byb3BzLnBhcmVudEluZGV4O1xuXHQgICAgICAgIHZhciBzdGF0ZSA9IF9wcm9wcy5zdGF0ZTtcblx0ICAgICAgICB2YXIgcG9pbnQgPSAoMCwgX2FuZ2xlVG9Qb2ludDIuZGVmYXVsdCkoaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzKTtcblx0ICAgICAgICAvLyBuZXdYICAgICAgPSBwb2ludC54ICsgZS5kZWx0YVgsXG5cdCAgICAgICAgdmFyIG5ld1kgPSBwb2ludC55ICsgZS5kZWx0YVk7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgICAvLyBhYnNvbHV0ZSB4IHJlZ2FyZGluZyBob3Jpem9udGFsIHNpemVcblx0ICAgICAgICB2YXIgYWJzWCA9IHBvaW50LnggKyBlLmRlbHRhWCAvIHJlc2l6ZS5hYnNTY2FsZXJYO1xuXHQgICAgICAgIHZhciBhbmdsZSA9ICgwLCBfcG9pbnRUb0FuZ2xlMi5kZWZhdWx0KShhYnNYLCBuZXdZKTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGluZGV4OiBpbmRleCwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4IH0sIGFuZ2xlKVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcpIHtcblx0ICAgICAgICAgIHZhciBpID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IGksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGFuZ2xlLnJhZGl1cyxcblx0ICAgICAgICAgICAgICBhbmdsZTogYW5nbGUuYW5nbGUgLSAxODBcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgdmFyIF9pID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IF9pLCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG5cdCAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnSEFORExFX1RSQU5TTEFURV9FTkQnLCBpc1JlY29yZDogdHJ1ZSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0UG9pbnRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBvaW50U3R5bGUoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIGhhbmRsZSA9IF9wcm9wczIuaGFuZGxlO1xuXHQgICAgICB2YXIgc3RhdGUgPSBfcHJvcHMyLnN0YXRlO1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgcG9pbnQgPSAoMCwgX2FuZ2xlVG9Qb2ludDIuZGVmYXVsdCkoaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzKTtcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgcG9pbnQueCAqIHJlc2l6ZS5hYnNTY2FsZXJYICsgJ3B4LCAnICsgcG9pbnQueSArICdweCkgcm90YXRlKCcgKyBoYW5kbGUuYW5nbGUgKyAnZGVnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldExpbmVTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldExpbmVTdHlsZSgpIHtcblx0ICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgaGFuZGxlID0gX3Byb3BzMy5oYW5kbGU7XG5cdCAgICAgIHZhciBzdGF0ZSA9IF9wcm9wczMuc3RhdGU7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIC8vIHNpbmNlIHRoZSBhbmdsZSBhbmQgcmFkaXVzIHdlcmUgc3RvcmVkIGFzIGFic29sdXRlLFxuXHQgICAgICAvLyBlLmcuIHJlZ2FyZGxlc3MgdGhlIGVkaXRvcidzIGhvcml6b250YWwgcmVzaXplLFxuXHQgICAgICAvLyB3ZSBuZWVkIHRvIHJlY2FsYyB0aGUgeCBwb3NpdGlvbiBmb3IgdGhlIGxpbmVcblx0ICAgICAgdmFyIHBvaW50ID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICAgIHZhciBuZXdWZWN0b3IgPSAoMCwgX3BvaW50VG9BbmdsZTIuZGVmYXVsdCkocG9pbnQueCAqIHJlc2l6ZS5hYnNTY2FsZXJYLCBwb2ludC55KTtcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9ICd0cmFuc2Zvcm06IHJvdGF0ZSgnICsgbmV3VmVjdG9yLmFuZ2xlICsgJ2RlZykgc2NhbGVZKCcgKyBuZXdWZWN0b3IucmFkaXVzICsgJyknO1xuXHRcblx0ICAgICAgcmV0dXJuICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2xhdGUgKyAnOyAnICsgdHJhbnNsYXRlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gTGl0dGxlSGFuZGxlO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpdHRsZUhhbmRsZTtcblxuLyoqKi8gfSxcbi8qIDEyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdCAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSxcblx0ICAgICAgYW5nbGUgPSBNYXRoLmF0YW4oeSAvIHgpICogKDE4MCAvIE1hdGguUEkpIC0gOTA7XG5cdCAgaWYgKHggPiAwKSB7XG5cdCAgICBhbmdsZSA9IGFuZ2xlIC0gMTgwO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB7IHJhZGl1czogcmFkaXVzLCBhbmdsZTogYW5nbGUgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTI3LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fbGl0dGxlLWhhbmRsZV94MW1nMV8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MDtoZWlnaHQ6MH0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X3gxbWcxXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjZweDtoZWlnaHQ6NnB4O2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTNweDttYXJnaW4tdG9wOi0zcHg7YmFja2dyb3VuZDojZmY1MTJmO2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjUpfS5fbGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaF94MW1nMV8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTt3aWR0aDoyMDAlO2hlaWdodDoyMDAlO2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTEwMCU7bWFyZ2luLXRvcDotMTAwJX0uX2xpdHRsZS1oYW5kbGVfX2xpbmVfeDFtZzFfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxcHg7aGVpZ2h0OjFweDttYXJnaW4tbGVmdDotMXB4O21hcmdpbi10b3A6LTFweDtsZWZ0OjUwJTt0b3A6NTAlO2JhY2tncm91bmQ6I2ZmNTEyZjstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBtZW1vO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdH0pLFxyXG5cdFx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdFx0fSksXHJcblx0XHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRcdGlmKGZhbHNlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblx0XHJcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHRcclxuXHRcdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cdFxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHJcblx0XHRpZihvbGRTcmMpXHJcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImxpdHRsZS1oYW5kbGVcIjogXCJfbGl0dGxlLWhhbmRsZV94MW1nMV8zXCIsXG5cdFx0XCJsaXR0bGUtaGFuZGxlX19wb2ludFwiOiBcIl9saXR0bGUtaGFuZGxlX19wb2ludF94MW1nMV8xXCIsXG5cdFx0XCJsaXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoXCI6IFwiX2xpdHRsZS1oYW5kbGVfX2Vhc3ktdG91Y2hfeDFtZzFfMVwiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fbGluZVwiOiBcIl9saXR0bGUtaGFuZGxlX19saW5lX3gxbWcxXzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBiYXNlLCBzbmFwKSB7XG5cdCAgdmFyIG1vZGlmaWVkID0gTWF0aC5yb3VuZCh2YWx1ZSAvIGJhc2UpICogYmFzZTtcblx0XG5cdCAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gbW9kaWZpZWQpIDwgc25hcCA/IG1vZGlmaWVkIDogdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUsIG1pbiwgbWF4KSB7XG5cdCAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluIDogdmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTM0LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTRqbnBfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSl9Ll9wb2ludF8xNGpucF81IFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9Ll9wb2ludF9fdG91Y2hfMTRqbnBfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLWxlZnQ6LTEwcHg7bWFyZ2luLXRvcDotMTBweH0uX3BvaW50XzE0am5wXzUuX2lzLXNlbGVjdGVkXzE0am5wXzMxLC5fcG9pbnRfMTRqbnBfNTpob3ZlcntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9wb2ludF8xNGpucF81Ll9pcy1zZWxlY3RlZF8xNGpucF8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE0am5wXzUuX2lzLWhpZGUtaGFuZGxlc18xNGpucF80MyBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJwb2ludFwiOiBcIl9wb2ludF8xNGpucF81XCIsXG5cdFx0XCJwb2ludF9fdG91Y2hcIjogXCJfcG9pbnRfX3RvdWNoXzE0am5wXzFcIixcblx0XHRcImlzLXNlbGVjdGVkXCI6IFwiX2lzLXNlbGVjdGVkXzE0am5wXzMxXCIsXG5cdFx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE0am5wXzQzXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTM3LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfZ3Zjcm5fNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnX2d2Y3JuXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmVcIjogXCJfY3VydmVfZ3Zjcm5fNVwiLFxuXHRcdFwiY3VydmVfX2JhY2tncm91bmRcIjogXCJfY3VydmVfX2JhY2tncm91bmRfZ3Zjcm5fMVwiLFxuXHRcdFwiY3VydmVfX3N2Zy13cmFwcGVyXCI6IFwiX2N1cnZlX19zdmctd3JhcHBlcl9ndmNybl8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfZ3Zjcm5fMVwiLFxuXHRcdFwiY3VydmVfX3N2Zy1zZWdtZW50XCI6IFwiX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQwKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBSZXNpemVIYW5kbGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFJlc2l6ZUhhbmRsZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFJlc2l6ZUhhbmRsZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShSZXNpemVIYW5kbGUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUmVzaXplSGFuZGxlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXHQgICAgICB2YXIgY2xhc3NOYW1lID0gJycgKyBDTEFTU0VTWydyZXNpemUtaGFuZGxlJ107XG5cdCAgICAgIHZhciBjbGFzc1R5cGUgPSAnJyArIENMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlXTtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJyAnICsgY2xhc3NUeXBlICsgJyAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAnZGF0YS10eXBlJzogdHlwZSxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdyZXNpemUtaGFuZGxlJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiAnZWxsaXBzaXMnIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFJywgZGF0YTogeyB4OiB4LCB5OiB5LCB0eXBlOiB0eXBlIH0gfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkVfRU5EJywgZGF0YTogeyB4OiB4LCB5OiB5LCB0eXBlOiB0eXBlIH0gfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBSZXNpemVIYW5kbGU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVzaXplSGFuZGxlO1xuXG4vKioqLyB9LFxuLyogMTQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHR2YXIgSWNvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoSWNvbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEljb24oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBJY29uKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEljb24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSWNvbiwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc2hhcGUgPSB0aGlzLnByb3BzLnNoYXBlO1xuXHQgICAgICB2YXIgbWFya3VwID0gJzxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiPjx1c2UgeGxpbms6aHJlZj1cIiMnICsgc2hhcGUgKyAnLXNoYXBlXCIgLz48L3N2Zz4nO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24nXSxcblx0ICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAnaWNvbicsXG5cdCAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBtYXJrdXAgfSB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEljb247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbjtcblxuLyoqKi8gfSxcbi8qIDE0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uXCI6IFwiX2ljb25fNGE4bGZfNVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Myk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE0MywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb25fNGE4bGZfNXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMnB4O2hlaWdodDozMnB4O2N1cnNvcjpwb2ludGVyO2ZpbGw6I2ZmZjtkaXNwbGF5OmJsb2NrfS5faWNvbl80YThsZl81PnN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU+c3ZnPnVzZXtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjF9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInJlc2l6ZS1oYW5kbGVcIjogXCJfcmVzaXplLWhhbmRsZV9rODFrY180XCIsXG5cdFx0XCJyZXNpemUtaGFuZGxlLS1yaWdodFwiOiBcIl9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xXCIsXG5cdFx0XCJyZXNpemUtaGFuZGxlLS1ib3R0b21cIjogXCJfcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNDYsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9yZXNpemUtaGFuZGxlX2s4MWtjXzR7YmFja2dyb3VuZDojM2QxYjNjO3dpZHRoOjMycHg7aGVpZ2h0OjE2cHg7ZGlzcGxheTpibG9jaztjdXJzb3I6bi1yZXNpemU7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6M3B4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNDphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6Mn0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNCBbZGF0YS1jb21wb25lbnQ9aWNvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotN3B4fS5fcmVzaXplLWhhbmRsZV9rODFrY180OmhvdmVye29wYWNpdHk6Ljg1fS5fcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO2N1cnNvcjplLXJlc2l6ZX0uX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTtjdXJzb3I6cy1yZXNpemV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImN1cnZlLWVkaXRvclwiOiBcIl9jdXJ2ZS1lZGl0b3JfMWY4cjVfNFwiLFxuXHRcdFwiY3VydmUtZWRpdG9yX19sZWZ0XCI6IFwiX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX3JpZ2h0XCI6IFwiX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWY4cjVfMVwiLFxuXHRcdFwiY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXCI6IFwiX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXCI6IFwiX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMVwiLFxuXHRcdFwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ29cIjogXCJfY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQwKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfY29kZUJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfY29kZUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2RlQnV0dG9uKTtcblx0XG5cdHZhciBfaWNvbkRpdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX2ljb25EaXZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25EaXZpZGVyKTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9scyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludENvbnRyb2xzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvckxlZnQgPSBmdW5jdGlvbiBDdXJ2ZUVkaXRvckxlZnQoX3JlZikge1xuXHQgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdFxuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddLCBpZDogJ2pzLWxlZnQtcGFuZWwnIH0sXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfY29kZUJ1dHRvbjIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfaWNvbkRpdmlkZXIyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX3BvaW50Q29udHJvbHMyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlLFxuXHQgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMnXSB9KSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnYScsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyddLFxuXHQgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vbGVnb211c2hyb29tL21vanMtY3VydmUtZWRpdG9yJywgdGFyZ2V0OiAnX2JsYW5rJyB9LFxuXHQgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ21vanMtbG9nbycgfSlcblx0ICAgIClcblx0ICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3JMZWZ0O1xuXG4vKioqLyB9LFxuLyogMTQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTApO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25CdXR0b24pO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDb2RlQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShDb2RlQnV0dG9uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ29kZUJ1dHRvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENvZGVCdXR0b24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoQ29kZUJ1dHRvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDb2RlQnV0dG9uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMucHJvcHMuc3RhdGU7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoX2ljb25CdXR0b24yLmRlZmF1bHQsIHsgc2hhcGU6ICdjb2RlJywgaXNDaGVjazogc3RhdGUuY29udHJvbHMuaXNDb2RlIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHRcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlRhcCgpKTtcblx0XG5cdCAgICAgIG1jLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0NPREVfVEFQJyB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDb2RlQnV0dG9uO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvZGVCdXR0b247XG5cbi8qKiovIH0sXG4vKiAxNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0XG5cdHZhciBJY29uQnV0dG9uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShJY29uQnV0dG9uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSWNvbkJ1dHRvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEljb25CdXR0b24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoSWNvbkJ1dHRvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJY29uQnV0dG9uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBjaGVjayA9IHRoaXMucHJvcHMuaXNDaGVjayA/IENMQVNTRVNbJ2lzLWNoZWNrZWQnXSA6ICcnO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24tYnV0dG9uJ10gKyAnICcgKyBjaGVjayxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uLWJ1dHRvbicgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbjIuZGVmYXVsdCwgeyBzaGFwZTogdGhpcy5wcm9wcy5zaGFwZSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25UYXAgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICB2YXIgaGFtbWVydGltZSA9IG5ldyBfaGFtbWVyanMyLmRlZmF1bHQodGhpcy5iYXNlKS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIF90aGlzMi5wcm9wcy5vblRhcChlLCBfdGhpczIucHJvcHMpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJY29uQnV0dG9uO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb25CdXR0b247XG5cbi8qKiovIH0sXG4vKiAxNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1MiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tYnV0dG9uXzZ5c2RpXzR7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6IzNhMDgzOTtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC4xNSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3Zlcntib3gtc2hhZG93Om5vbmV9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVyIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmV7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggMCBoc2xhKDAsMCUsMTAwJSwuMjUpLGluc2V0IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjQpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSBbZGF0YS1jb21wb25lbnQ9aWNvbl0sLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZSBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiaWNvbi1idXR0b25cIjogXCJfaWNvbi1idXR0b25fNnlzZGlfNFwiLFxuXHRcdFwiaXMtY2hlY2tlZFwiOiBcIl9pcy1jaGVja2VkXzZ5c2RpXzMxXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydpY29uLWRpdmlkZXInXSxcblx0ICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uLWRpdmlkZXInIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImljb24tZGl2aWRlclwiOiBcIl9pY29uLWRpdmlkZXJfZnRhc2tfM1wiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1NywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTcpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tZGl2aWRlcl9mdGFza18ze3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG87d2lkdGg6MTZweDtoZWlnaHQ6MXB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuMyk7Ym94LXNoYWRvdzowIDFweCAwIHJnYmEoMCwwLDAsLjMpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uQnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1OSk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xuXHRcblx0dmFyIFBvaW50Q29udHJvbHMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvaW50Q29udHJvbHMsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQb2ludENvbnRyb2xzKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9pbnRDb250cm9scyk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQb2ludENvbnRyb2xzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFBvaW50Q29udHJvbHMsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHAgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgc3RhdGUgPSBwLnN0YXRlO1xuXHQgICAgICB2YXIgY29udHJvbHMgPSBzdGF0ZS5wb2ludENvbnRyb2xzLnByZXNlbnQ7XG5cdCAgICAgIHZhciBzaG93ID0gY29udHJvbHMuaXNTaG93ID8gQ0xBU1NFU1snaXMtc2hvdyddIDogJyc7XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSBwLmNsYXNzTmFtZSArICcgJyArIENMQVNTRVNbJ3BvaW50LWNvbnRyb2xzJ10gKyAnICcgKyBzaG93O1xuXHQgICAgICB2YXIgYnV0dG9ucyA9IHRoaXMuX2FkZEJ1dHRvbnMoY29udHJvbHMpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgICAgICAnICcsXG5cdCAgICAgICAgYnV0dG9ucyxcblx0ICAgICAgICAnICdcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfb25CdXR0b25UYXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkJ1dHRvblRhcCh0eXBlKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gX3RoaXMyLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9DSEFOR0VfVFlQRScsIGRhdGE6IHR5cGUsIGlzUmVjb3JkOiB0cnVlIH0pO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19hZGRCdXR0b25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQnV0dG9ucyhjb250cm9scykge1xuXHQgICAgICB2YXIgYnV0dG9uc01hcCA9IFsnc3RyYWlnaHQnLCAnZGlzY29ubmVjdGVkJywgJ21pcnJvcmVkJywgJ2FzeW1tZXRyaWMnXSxcblx0ICAgICAgICAgIGJ1dHRvbnMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uc01hcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciB0eXBlID0gYnV0dG9uc01hcFtpXTtcblx0ICAgICAgICBidXR0b25zLnB1c2goKDAsIF9wcmVhY3QuaCkoX2ljb25CdXR0b24yLmRlZmF1bHQsIHsgc2hhcGU6ICdwb2ludC0nICsgdHlwZSxcblx0ICAgICAgICAgIGlzQ2hlY2s6IGNvbnRyb2xzLnR5cGUgPT09IHR5cGUsXG5cdCAgICAgICAgICBvblRhcDogdGhpcy5fb25CdXR0b25UYXAodHlwZSkgfSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBidXR0b25zO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gUG9pbnRDb250cm9scztcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQb2ludENvbnRyb2xzO1xuXG4vKioqLyB9LFxuLyogMTU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNjAsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludC1jb250cm9sc18xeGN1N180e2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjNweDtoZWlnaHQ6Ny41cHg7YmFja2dyb3VuZDojZmY1MTJmO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjJweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoycHg7bGVmdDotMTBweDt0b3A6NTAlO21hcmdpbi10b3A6LTMuNzVweDtkaXNwbGF5Om5vbmV9Ll9wb2ludC1jb250cm9sc18xeGN1N180IFtkYXRhLWNvbXBvbmVudD1pY29uLWJ1dHRvbl1bY2xhc3MqPWlzLWNoZWNrZWRdOmFmdGVyLC5fcG9pbnQtY29udHJvbHNfMXhjdTdfNC5faXMtc2hvd18xeGN1N183e2Rpc3BsYXk6YmxvY2t9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInBvaW50LWNvbnRyb2xzXCI6IFwiX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzRcIixcblx0XHRcImlzLXNob3dcIjogXCJfaXMtc2hvd18xeGN1N183XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIEljb25zID0gZnVuY3Rpb24gSWNvbnMoKSB7XG5cdCAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogJzxzdmcgaGVpZ2h0PVwiMFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xMDAlOyB3aWR0aDowOyBoZWlnaHQ6MDtcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj5cXG4gICAgICA8ZyBpZD1cImVsbGlwc2lzLXNoYXBlXCI+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNlwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjIxXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgPC9nPlxcbiAgICAgIDxwYXRoIGlkPVwiY29kZS1zaGFwZVwiIGQ9XCJNOCwxNi4wODQ5NjQ4IEM4LDE1LjgyMTA3OTMgOC4xMTE0OTA2OSwxNS42MTI5MzkzIDguMzM0ODM0MDUsMTUuNDYwOTA2NSBMMTIuMzM5MDg3NCwxMi44NDE5NjEyIEMxMi4zODk3NjQ5LDEyLjgwMTQxOTIgMTIuNDY1NzgxMywxMi43ODExNDgxIDEyLjU2NzQ5ODUsMTIuNzgxMTQ4MSBDMTIuNzM5ODAyMywxMi43ODExNDgxIDEyLjkwNDg2NjQsMTIuODU3MTY0NSAxMy4wNjIzMjg5LDEzLjAwOTU1OTIgQzEzLjIxOTQyOTQsMTMuMTYxOTU0IDEzLjI5ODM0MTcsMTMuMzM5MzI1NSAxMy4yOTgzNDE3LDEzLjU0MjM5NzkgQzEzLjI5ODM0MTcsMTMuNzM1MzM0NyAxMy4yMjE5NjMzLDEzLjg4MjY2MTcgMTMuMDY5MjA2NiwxMy45ODQwMTY4IEw5Ljg1NzY5NTUzLDE2LjA4NDk2NDggTDEzLjA2OTIwNjYsMTguMTg2Mjc0NyBDMTMuMjIxOTYzMywxOC4yNjc3MjA4IDEzLjI5ODM0MTcsMTguNDE0Njg1OCAxMy4yOTgzNDE3LDE4LjYyNzg5MzcgQzEzLjI5ODM0MTcsMTguODMwOTY2IDEzLjIxOTc5MTQsMTkuMDA2MTY1NyAxMy4wNjIzMjg5LDE5LjE1MzEzMDcgQzEyLjkwNDg2NjQsMTkuMzAwNDU3NiAxMi43Mzk4MDIzLDE5LjM3Mzk0MDEgMTIuNTY3NDk4NSwxOS4zNzM5NDAxIEMxMi40NjU3ODEzLDE5LjM3Mzk0MDEgMTIuMzg5NzY0OSwxOS4zNTM2NjkxIDEyLjMzOTA4NzQsMTkuMzEzMTI3IEw4LjMzNDgzNDA1LDE2LjY5MzgxOTggQzguMTExNDkwNjksMTYuNTQxNDI1IDgsMTYuMzM4NzE0NyA4LDE2LjA4NDk2NDggTDgsMTYuMDg0OTY0OCBaIE0xNC4xMzk5NTE2LDIwLjY4NzU3NTYgQzE0LjEyNjU1ODIsMjAuNjA3NTc3NCAxNC4xMjg3MzAxLDIwLjUzMDExMzEgMTQuMTQ2ODI5MywyMC40NTQ4MjA3IEwxNi45Mzk1MjYzLDExLjM1NjAyMiBDMTYuOTg5MTE3OSwxMS4xNjIzNjEyIDE3LjEyMzc3NTUsMTEuMDQ2ODg4NyAxNy4zNDQyMjMsMTEuMDA5NjA0NSBDMTcuNTA0MjE5NCwxMC45ODI0NTU4IDE3LjY1ODc4NiwxMS4wMTI4NjIzIDE3LjgwNzU2MDksMTEuMTAwODI0MiBDMTcuOTU2MzM1OCwxMS4xODkxNDc5IDE4LjA0NDI5NzYsMTEuMzEzMzA4IDE4LjA3MTA4NDQsMTEuNDczMzA0NCBDMTguMDg2Mjg3NiwxMS41NjM0MzgxIDE4LjA3OTc3MiwxMS42NDcwNTYxIDE4LjA1MTg5OTMsMTEuNzIzNzk2NSBMMTUuMjY2NDQxOSwyMC43NzQ4MTM0IEMxNS4yMDg1MjQ3LDIwLjk4MDA1NzcgMTUuMDU5Mzg3OCwyMS4xMDMxMzE4IDE0LjgxOTM5MzIsMjEuMTQ0MDM1OCBDMTQuNjQ4ODk5MywyMS4xNzI5OTQ1IDE0LjQ5OTQwMDUsMjEuMTM4OTY4MSAxNC4zNjk4MTA2LDIxLjA0MjY4MDcgQzE0LjI0MDIyMDgsMjAuOTQ2MDMxMyAxNC4xNjM4NDI0LDIwLjgyNzY2MjkgMTQuMTM5OTUxNiwyMC42ODc1NzU2IEwxNC4xMzk5NTE2LDIwLjY4NzU3NTYgWiBNMTguOTUyODc0NCwxOS4xNTI3Njg3IEMxOC43OTU0MTE5LDE5LjAwNTgwMzcgMTguNzE2ODYxNiwxOC44MzA2MDQgMTguNzE2ODYxNiwxOC42Mjc1MzE3IEMxOC43MTY4NjE2LDE4LjQyNDQ1OTQgMTguNzg3ODEwMiwxOC4yNzc0OTQ0IDE4LjkzMDA2OTUsMTguMTg1OTEyNyBMMjIuMTQyNjY2NSwxNi4wODQ2MDI4IEwxOC45MzAwNjk1LDEzLjk4MzY1NDkgQzE4Ljc4NzgxMDIsMTMuODcxODAyMiAxOC43MTY4NjE2LDEzLjcyNDgzNzIgMTguNzE2ODYxNiwxMy41NDIwMzU5IEMxOC43MTY4NjE2LDEzLjMzODk2MzYgMTguNzk1NDExOSwxMy4xNjE1OTIgMTguOTUyODc0NCwxMy4wMDkxOTczIEMxOS4xMTAzMzY5LDEyLjg1NjgwMjUgMTkuMjc1MDM5LDEyLjc4MDc4NjEgMTkuNDQ3NzA0OCwxMi43ODA3ODYxIEMxOS41Mzg5MjQ1LDEyLjc4MDc4NjEgMTkuNjA5ODczMSwxMi44MDE0MTkyIDE5LjY2MDkxMjYsMTIuODQxNTk5MiBMMjMuNjY1MTY1OSwxNS40NjA1NDQ1IEMyMy44ODgxNDczLDE1LjYxMjkzOTMgMjQsMTUuODIxMDc5MyAyNCwxNi4wODQ2MDI4IEMyNCwxNi4zNDg4NTAyIDIzLjg4ODE0NzMsMTYuNTUxNTYwNiAyMy42NjUxNjU5LDE2LjY5MzgxOTggTDE5LjY2MDkxMjYsMTkuMzEyNzY1MSBDMTkuNjA5ODczMSwxOS4zNTMzMDcxIDE5LjUzODkyNDUsMTkuMzczNTc4MiAxOS40NDc3MDQ4LDE5LjM3MzU3ODIgQzE5LjI3NTAzOSwxOS4zNzM1NzgyIDE5LjExMDMzNjksMTkuMzAwMDk1NyAxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgTDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBaXCI+PC9wYXRoPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtc3RyYWlnaHQtc2hhcGVcIiBmaWxsPVwibm9uZVwiPlxcbiAgICAgICAgPHBvbHlsaW5lIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIHBvaW50cz1cIjcuODgxIDIwLjU2OCAxNS40NTEgMTIuMjQxIDIzLjg5MiAyMC41NjhcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cXG4gICAgICA8L2c+XFxuICAgICAgPGcgaWQ9XCJwb2ludC1taXJyb3JlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxcbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgQzcuODgxNDQ4NDEsMjEuOTAxMjYzMiA3LjU5Mjg3MTcyLDEzLjU3NDA1MzcgMTUuNDUxNDQyMywxMy41NzQwNTM3IEMyMy4zMTAwMTI5LDEzLjU3NDA1MzcgMjMuODkyMTIyOCwyMS45MDEyNjMyIDIzLjg5MjEyMjgsMjEuOTAxMjYzMlwiLz5cXG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTcuMTM4ODM1MjcsMTMuMzMzMzMzMyBMMjUuODA1NTAxMywxMy4zMzMzMzMzXCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTQuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxlbGxpcHNlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMy4zMzNcIiBmaWxsPVwiI0ZGRkZGRlwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjI0XCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICA8L2c+XFxuICAgICAgPGcgaWQ9XCJwb2ludC1kaXNjb25uZWN0ZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMC41Njc5Mjk4IEM3Ljg4MTQ0ODQxLDIwLjU2NzkyOTggNy41OTI4NzE3MiwxMi4yNDA3MjA0IDE1LjQ1MTQ0MjMsMTIuMjQwNzIwNCBDMjEuMjAwNTIwNywxNy44ODczNyAyMy44OTIxMjI4LDIwLjU2NzkyOTggMjMuODkyMTIyOCwyMC41Njc5Mjk4XCIvPlxcbiAgICAgICAgPHBvbHlsaW5lIHN0cm9rZT1cIiNGRjUxMkZcIiBwb2ludHM9XCI2LjEzMyAxMiAxNS4yMjggMTIgMjMuOTMzIDIwLjYwMlwiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjIxLjg4NlwiIHk9XCIxOC41NTJcIiBmaWxsPVwiI0ZGNTEyRlwiIHRyYW5zZm9ybT1cInJvdGF0ZSg0NSAyMy4yMTkgMTkuODg2KVwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMC42NjdcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICA8L2c+XFxuICAgICAgPGcgaWQ9XCJwb2ludC1hc3ltbWV0cmljLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDcuNjY3IDkuMzMzKVwiPlxcbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk0wLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IEMwLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IC0wLjM3MzUxMTg2OSwyLjkwNzA5NjEzIDcuNzg0Nzc1NjQsMi45MDczODcwNCBDMTAuNzUwMDAwMywyLjkwNzQ5Mjc3IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NSAxNi4yMjU0NTYyLDExLjIzNDU5NjVcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCI5XCIgY3k9XCI0LjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk0yLjUyNzg4NTAzLDIuNjY2NjY2NjcgTDE4LjEzODgzNDYsMi42NjY2NjY2N1wiLz5cXG4gICAgICAgIDxlbGxpcHNlIGN4PVwiNy42NjdcIiBjeT1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIxNi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxwYXRoIGlkPVwibW9qcy1sb2dvLXNoYXBlXCIgZD1cIk0xOC40Njc4OTA3LDIuNjc3MDAwNDggQzE5LjQ4ODU4NiwzLjI1NzU4NjI1IDIwLjI3ODkyMjcsNC4xODQyMTY1MSAyMC44NzgyMyw1LjE5NzM1NzkgQzI0LjA4MDc3ODgsMTAuNTAxNDUxIDI3LjI3NzcwOTEsMTUuODExMzExNiAzMC40ODAyNTgsMjEuMTE1NDA0NyBDMzEuMTMyMDA0NywyMi4xNjEyMjgxIDMxLjc3MDY0MTcsMjMuMjY0NzI1NiAzMS45MzU0NTEyLDI0LjUxNjI1MzIgQzMyLjE4ODI4NCwyNi4wNjE5MTg2IDMxLjY5MTk4MjYsMjcuNzM2Mzg5NSAzMC41NTg5MTcxLDI4LjgwMzM2IEMyOS40NTAxOTg0LDI5Ljg4NTcxMDMgMjcuODgwNzYyMiwzMC4zMTgyNjU5IDI2LjM4MDYyMDksMzAuMzA0ODA4NiBDMTkuNDUxMTI5MywzMC4zMDg2NTM1IDEyLjUyMzUxMDYsMzAuMzA4NjUzNSA1LjU5NDAxOTAxLDMwLjMwNDgwODYgQzMuNzE1NTY0OTQsMzAuMzQzMjU4IDEuNjk4NTIxMDQsMjkuNTcyMzQ3OCAwLjY4MzQ0NDE2NSwyNy44NzA5NjIzIEMtMC40MDY1NDYxMzIsMjYuMTA5OTgwMyAtMC4wOTc1MjgyNjQzLDIzLjc5MTQ4MjIgMC45NDAwMjI2MzcsMjIuMDg0MzI5MyBDNC4zNDI5NjQ4NSwxNi40MTMwNDQ1IDcuNzY2NTA4MjYsMTAuNzUzMjk0NSAxMS4xODI1NjAzLDUuMDg5Njk5NjEgQzExLjk3NDc2OTgsMy43NDc4MTU5NSAxMy4xODQ2MjE1LDIuNjAyMDI0MTggMTQuNjg0NzYyOCwyLjE4MjkyNTg0IEMxNS45NDUxODEyLDEuODE1NzM0MTggMTcuMzM0ODI1MSwyLjAxMTgyNjA2IDE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBaIE0xNS4zMzM0NjY4LDkuNTE1MjY4NDkgQzE1LjYxNDYyMzgsOS4wMzc3OTQ3NiAxNi4wNzkxNTk3LDkuMDIyNTA2NTUgMTYuMzc4NTY3OSw5LjQ5Mjk1NDcgTDI1LjI3NjM1NTUsMjMuNDczNjkxMyBDMjUuNTcyMzkxOSwyMy45Mzg4NDE0IDI1LjM1Njg0MzMsMjQuMzE1OTIwMSAyNC44MDc0Mzk4LDI0LjMxNTkyMDIgTDcuNjIzMTQ2NDcsMjQuMzE1OTIwNSBDNy4wNjgxMzUwNSwyNC4zMTU5MjA2IDYuODQ2MjI3OTgsMjMuOTI4Njg4OSA3LjEyNzI4OTEzLDIzLjQ1MTM3NzkgTDE1LjMzMzQ2NjgsOS41MTUyNjg0OSBaXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjwvcGF0aD5cXG4gICAgPC9zdmc+JyB9IH0pO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbnM7XG5cbi8qKiovIH0sXG4vKiAxNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIF9yZXNpemVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplSGFuZGxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBjb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0ICB2YXIgcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHQgIHZhciBjb250cm9scyA9IHN0YXRlLmNvbnRyb2xzO1xuXHQgIHZhciBvcGVuID0gY29udHJvbHMuaXNDb2RlID8gQ0xBU1NFU1snaXMtb3BlbiddIDogJyc7XG5cdCAgdmFyIG1haW5DbGFzcyA9IENMQVNTRVNbJ2NvZGUtcGFuZWwnXSArICcgJyArIG9wZW47XG5cdFxuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6IG1haW5DbGFzcyB9LFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY29kZS1wYW5lbF9faW5uZXInXSB9LFxuXHQgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICd0b3AnIH0pLFxuXHQgICAgICAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY29kZS1wYW5lbF9faW5wdXQtd3JhcCddIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2lucHV0JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkJ10sXG5cdCAgICAgICAgICB0eXBlOiAndGV4dCcsIHJlYWRvbmx5OiAncmVhZG9ubHknLFxuXHQgICAgICAgICAgdmFsdWU6IHBvaW50cy5wcmVzZW50LnBhdGggfSlcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE2NSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjUpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2NvZGUtcGFuZWxfbm5iOXBfM3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTAwJTt6LWluZGV4OjE7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctdG9wOjE2cHg7Ym94LXNpemluZzpjb250ZW50LWJveH0uX2NvZGUtcGFuZWxfbm5iOXBfMyBbZGF0YS1jb21wb25lbnQ9cmVzaXplLWhhbmRsZV17cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7Ym90dG9tOjEwMCV9Ll9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xe2JvcmRlci1yYWRpdXM6NnB4IDZweCAwIDA7YmFja2dyb3VuZDojM2QxYjNjO3BhZGRpbmc6NHB4IDVweCA1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4ycyBlYXNlLW91dDt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXR9Ll9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzF7Ym9yZGVyLXJhZGl1czoycHg7YmFja2dyb3VuZDojNDIxMDNmO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDJweCAycHggMCByZ2JhKDAsMCwwLC41KX0uX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzF7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOiNmZmY7Zm9udC1zaXplOjlweDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzouNDVweDtmb250LXdlaWdodDoxMDA7cGFkZGluZzowIC4zZW0gMCAuOGVtO2JvcmRlcjpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjIxcHg7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjotbW96LXNlbGVjdGlvbiwuY29kZS1wYW5lbCA6Oi1tb3otc2VsZWN0aW9ue2JhY2tncm91bmQ6I2ZmNTEyZn0uX2NvZGUtcGFuZWxfbm5iOXBfMyA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMuX2lzLW9wZW5fbm5iOXBfNjEgLl9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImNvZGUtcGFuZWxcIjogXCJfY29kZS1wYW5lbF9ubmI5cF8zXCIsXG5cdFx0XCJjb2RlLXBhbmVsX19pbm5lclwiOiBcIl9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xXCIsXG5cdFx0XCJjb2RlLXBhbmVsX19pbnB1dC13cmFwXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LXdyYXBfbm5iOXBfMVwiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5wdXQtZmllbGRcIjogXCJfY29kZS1wYW5lbF9faW5wdXQtZmllbGRfbm5iOXBfMVwiLFxuXHRcdFwiaXMtb3BlblwiOiBcIl9pcy1vcGVuX25uYjlwXzYxXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTY4LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmUtZWRpdG9yXzFmOHI1XzR7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3RvcDowO3dpZHRoOjQwM3B4O2hlaWdodDozNzhweDtib3JkZXItcmFkaXVzOjEycHg7YmFja2dyb3VuZDpyZ2JhKDU4LDgsNTgsLjg1KTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjJweCAycHggMnB4IHJnYmEoMCwwLDAsLjM4KX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQycHg7bGVmdDowO3RvcDowO2JvdHRvbTowO3BhZGRpbmc6MTBweDtjdXJzb3I6bW92ZX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uLWRpdmlkZXJde21hcmdpbjoxMHB4IGF1dG99Ll9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0M3B4O3RvcDowO3JpZ2h0OjA7Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZX0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT10b3Bde3RvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21de2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPWJvdHRvbV0sLl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjFweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1yaWdodF17cmlnaHQ6LTE2cHg7dG9wOjUwJTttYXJnaW4tdG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xe21hcmdpbi10b3A6MTBweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25de21hcmdpbi1ib3R0b206NXB4fS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTdweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDoxcHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb25de2ZpbGw6I2ZmNTEyZjt3aWR0aDoxMnB4O2hlaWdodDoxMnB4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcwKTtcblx0XG5cdHZhciBfaW5kZXhSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4UmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGluaXRTdG9yZSA9IGZ1bmN0aW9uIGluaXRTdG9yZSgpIHtcblx0ICByZXR1cm4gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4UmVkdWNlcjIuZGVmYXVsdCk7XG5cdH07XG5cdC8vIGltcG9ydCByZWR1Y2VyXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGluaXRTdG9yZTtcblxuLyoqKi8gfSxcbi8qIDE3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblx0XG5cdHZhciBfcmVkdXhVbmRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4VW5kbyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZVJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZVJlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplUmVkdWNlcik7XG5cdFxuXHR2YXIgX3BvaW50c1JlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cdFxuXHR2YXIgX3BvaW50c1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRzUmVkdWNlcik7XG5cdFxuXHR2YXIgX2NvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTkwKTtcblx0XG5cdHZhciBfY29udHJvbHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnRyb2xzUmVkdWNlcik7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTEpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludENvbnRyb2xzUmVkdWNlcik7XG5cdFxuXHR2YXIgX3Byb2dyZXNzZXNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDEpO1xuXHRcblx0dmFyIF9wcm9ncmVzc2VzUmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9ncmVzc2VzUmVkdWNlcik7XG5cdFxuXHR2YXIgX3JlZHV4UmVjeWNsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblx0XG5cdHZhciBfcmVkdXhSZWN5Y2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4UmVjeWNsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gcmVkdXgtdW5kbyBoaWdoZXItb3JkZXIgcmVkdWNlclxuXHR2YXIgVU5ET0FCTEVfT1BUUyA9IHtcblx0ICBsaW1pdDogMTAsXG5cdCAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXJBY3Rpb25zKGFjdGlvbiwgY3VyclN0YXRlLCBoaXN0b3J5KSB7XG5cdCAgICByZXR1cm4gYWN0aW9uLmlzUmVjb3JkOyAvLyBvbmx5IGFkZCB0byBoaXN0b3J5IGlmIGlzUmVjb3JkIHNldCBvbiBhY3Rpb25cblx0ICB9LFxuXHQgIGRlYnVnOiBmYWxzZVxuXHR9OyAvLyBSZWR1eCB1dGlsaXR5IGZ1bmN0aW9uc1xuXHRcblx0XG5cdHZhciByZWR1Y2VyID0gKDAsIF9yZWR1eFJlY3ljbGUyLmRlZmF1bHQpKCgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgcmVzaXplOiBfcmVzaXplUmVkdWNlcjIuZGVmYXVsdCxcblx0ICBwb2ludHM6ICgwLCBfcmVkdXhVbmRvMi5kZWZhdWx0KShfcG9pbnRzUmVkdWNlcjIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgVU5ET0FCTEVfT1BUUykpLFxuXHQgIGNvbnRyb2xzOiBfY29udHJvbHNSZWR1Y2VyMi5kZWZhdWx0LFxuXHQgIHBvaW50Q29udHJvbHM6ICgwLCBfcmVkdXhVbmRvMi5kZWZhdWx0KShfcG9pbnRDb250cm9sc1JlZHVjZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIFVORE9BQkxFX09QVFMpKSxcblx0ICBwcm9ncmVzc0xpbmVzOiBfcHJvZ3Jlc3Nlc1JlZHVjZXIyLmRlZmF1bHRcblx0fSksIFsnU0VUX1NUQVRFJ10sIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgcmV0dXJuIGFjdGlvbi5kYXRhO1xuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHM0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgeDogMjAsXG5cdCAgdGVtcFg6IDAsXG5cdFxuXHQgIHk6IDIwLFxuXHQgIHRlbXBZOiAwLFxuXHRcblx0ICB0b3A6IDAsXG5cdCAgdGVtcF90b3A6IDAsXG5cdFxuXHQgIHJpZ2h0OiAwLFxuXHQgIHRlbXBfcmlnaHQ6IDAsXG5cdFxuXHQgIGJvdHRvbTogMCxcblx0ICB0ZW1wX2JvdHRvbTogMCxcblx0ICBzY2FsZXJYOiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsXG5cdCAgYWJzU2NhbGVyWDogMVxuXHR9O1xuXHRcblx0dmFyIHJlc2l6ZVJlZHVjZXIgPSBmdW5jdGlvbiByZXNpemVSZWR1Y2VyKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IElOSVRJQUxfU1RBVEUgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgY2FzZSAnRURJVE9SX1JFU0laRSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuXHQgICAgICAgIHZhciBkZWx0YSA9IHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nID8gZGF0YS55IDogZGF0YS54O1xuXHRcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoe30sICd0ZW1wXycgKyB0eXBlLCBkZWx0YSkpO1xuXHQgICAgICAgIC8vIGlmIGByaWdodGBzaXplIGNoYW5nZWQgLSBjYWxjdWxhdGUgdGhlIHNjYWxlciBmb3IgeCBheGlzXG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdyaWdodCcpIHtcblx0ICAgICAgICAgIG5ld1N0YXRlWydzY2FsZXJYJ10gPSAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgTWF0aC5tYXgoc3RhdGUucmlnaHQgKyBkZWx0YSwgMCkpIC8gMTAwO1xuXHQgICAgICAgICAgbmV3U3RhdGVbJ2Fic1NjYWxlclgnXSA9IG5ld1N0YXRlWydzY2FsZXJYJ10gLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9SRVNJWkVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZXh0ZW5kczM7XG5cdFxuXHQgICAgICAgIHZhciBfZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfdHlwZSA9IF9kYXRhLnR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBfZGVsdGEgPSBfdHlwZSA9PT0gJ3RvcCcgfHwgX3R5cGUgPT09ICdib3R0b20nID8gX2RhdGEueSA6IF9kYXRhLng7XG5cdCAgICAgICAgLy8gZ2V0IHRoZSB0b3RhbCByZXNpemUgdmFsdWUgKCB0ZW1wb3JhcnkgKyBhY3R1YWwgKVxuXHQgICAgICAgIHZhciByZXNpemUgPSBzdGF0ZVsnJyArIGFjdGlvbi5kYXRhLnR5cGVdICsgX2RlbHRhO1xuXHQgICAgICAgIC8vIGlmIHRoZSB0eXBlIGlmIHRvIC0gaXQgaGFzIHRoZSBgLWAgYXMgYmFzZSBzbyB3ZSBuZWVkIHRvIHN3YXAgbWV0aG9kc1xuXHQgICAgICAgIHZhciBtYXRoTWV0aG9kID0gX3R5cGUgPT09ICd0b3AnID8gJ21pbicgOiAnbWF4Jztcblx0ICAgICAgICB2YXIgX25ld1N0YXRlID0gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIChfZXh0ZW5kczMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX2V4dGVuZHMzLCAnJyArIGFjdGlvbi5kYXRhLnR5cGUsIE1hdGhbbWF0aE1ldGhvZF0oMCwgcmVzaXplKSksICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKF9leHRlbmRzMywgJ3RlbXBfJyArIGFjdGlvbi5kYXRhLnR5cGUsIDApLCBfZXh0ZW5kczMpKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9hY3Rpb24kZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciB4ID0gX2FjdGlvbiRkYXRhLng7XG5cdCAgICAgICAgdmFyIHkgPSBfYWN0aW9uJGRhdGEueTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHRlbXBYOiB4LCB0ZW1wWTogeSB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfYWN0aW9uJGRhdGEyID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF94MiA9IF9hY3Rpb24kZGF0YTIueDtcblx0ICAgICAgICB2YXIgX3kgPSBfYWN0aW9uJGRhdGEyLnk7XG5cdFxuXHQgICAgICAgIF94MiArPSBzdGF0ZS54O1xuXHQgICAgICAgIF95ICs9IHN0YXRlLnk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHg6IF94MiwgeTogX3ksIHRlbXBYOiAwLCB0ZW1wWTogMCB9KTtcblx0ICAgICAgfVxuXHRcblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVzaXplUmVkdWNlcjtcblxuLyoqKi8gfSxcbi8qIDE3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuXHQgIGlmIChrZXkgaW4gb2JqKSB7XG5cdCAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0ICAgICAgd3JpdGFibGU6IHRydWVcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBvYmpba2V5XSA9IHZhbHVlO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG9iajtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTc0KTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Db25zdW1hYmxlQXJyYXkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfbWFrZVBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODQpO1xuXHRcblx0dmFyIF9tYWtlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFrZVBvaW50KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaW5pdFBvaW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTg1KTtcblx0XG5cdHZhciBfaW5pdFBvaW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0UG9pbnRzKTtcblx0XG5cdHZhciBfY2FsY3VsYXRlUGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdHZhciBfY2FsY3VsYXRlUGF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxjdWxhdGVQYXRoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBwYXRoOiAnJyxcblx0ICBzZWdtZW50czogW10sXG5cdCAgcG9pbnRzOiBbXVxuXHQgIC8vIHBvaW50czogaW5pdFBvaW50cyhbXG5cdCAgLy8gICBtYWtlUG9pbnQoeyB4OiAwLCAgIHk6IEMuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH0pLFxuXHQgIC8vICAgLy8gbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcblx0ICAvLyAgIG1ha2VQb2ludCh7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0pXG5cdCAgLy8gXSlcblx0fTtcblx0XG5cdHZhciBkZXNlbGVjdEFsbCA9IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKHN0YXRlKSB7XG5cdCAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBbXSB9KSxcblx0ICAgICAgcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgbmV3U3RhdGUucG9pbnRzLnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRzW2ldLCB7IGlzU2VsZWN0ZWQ6IGZhbHNlIH0pKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1N0YXRlO1xuXHR9O1xuXHRcblx0dmFyIGZpbmRTZWxlY3RlZEluZGVjaWVzID0gZnVuY3Rpb24gZmluZFNlbGVjdGVkSW5kZWNpZXMocG9pbnRzKSB7XG5cdCAgdmFyIGluZGVjaWVzID0gW107XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBwb2ludHNbaV0uaXNTZWxlY3RlZCAmJiBpbmRlY2llcy5wdXNoKGkpO1xuXHQgIH1cblx0ICByZXR1cm4gaW5kZWNpZXM7XG5cdH07XG5cdFxuXHR2YXIgcG9pbnRzUmVkdWNlciA9IGZ1bmN0aW9uIHBvaW50c1JlZHVjZXIoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgaW5kZXggPSBkYXRhLmluZGV4O1xuXHQgICAgICAgIHZhciBwb2ludHMgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIG9sZFBvaW50ID0gcG9pbnRzW2luZGV4XTtcblx0ICAgICAgICB2YXIgbmV3UG9pbnRzID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKHBvaW50cykpO1xuXHRcblx0ICAgICAgICBuZXdQb2ludHNbZGF0YS5pbmRleF0gPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvbGRQb2ludCwgeyB0ZW1wWDogZGF0YS54LCB0ZW1wWTogZGF0YS55IH0pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBuZXdQb2ludHMgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShuZXdQb2ludHMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9pbmRleCA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBfb2xkUG9pbnQgPSBfcG9pbnRzW19pbmRleF07XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHMgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoX3BvaW50cykpO1xuXHRcblx0ICAgICAgICBfbmV3UG9pbnRzW19pbmRleF0gPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfb2xkUG9pbnQsIHtcblx0ICAgICAgICAgIHg6IF9vbGRQb2ludC54ICsgX29sZFBvaW50LnRlbXBYLFxuXHQgICAgICAgICAgeTogX29sZFBvaW50LnkgKyBfb2xkUG9pbnQudGVtcFksXG5cdCAgICAgICAgICB0ZW1wWDogMCwgdGVtcFk6IDBcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IF9uZXdQb2ludHMgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShfbmV3UG9pbnRzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9kYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF9pbmRleDIgPSBfZGF0YS5pbmRleDtcblx0ICAgICAgICB2YXIgaXNEZXNlbGVjdCA9IF9kYXRhLmlzRGVzZWxlY3Q7XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gaXNEZXNlbGVjdCA/IGRlc2VsZWN0QWxsKHN0YXRlKSA6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlKTtcblx0ICAgICAgICB2YXIgX3BvaW50czIgPSBuZXdTdGF0ZS5wb2ludHM7XG5cdFxuXHRcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcG9pbnRzMltfaW5kZXgyXTtcblx0ICAgICAgICBwb2ludC5pc1NlbGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBfcG9pbnRzMiB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0FERCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2RhdGEyID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF9pbmRleDMgPSBfZGF0YTIuaW5kZXg7XG5cdCAgICAgICAgdmFyIF9wb2ludCA9IF9kYXRhMi5wb2ludDtcblx0ICAgICAgICB2YXIgZGVzZWxlY3RlZCA9IGRlc2VsZWN0QWxsKHN0YXRlKTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHMyID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKGRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKDAsIF9pbmRleDMpKSwgWygwLCBfbWFrZVBvaW50Mi5kZWZhdWx0KSgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfcG9pbnQpKV0sICgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKGRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKF9pbmRleDMpKSk7XG5cdFxuXHQgICAgICAgIHZhciBfcG9pbnRzMyA9IF9uZXdQb2ludHMyLmxlbmd0aCA+IDEgPyAoMCwgX2luaXRQb2ludHMyLmRlZmF1bHQpKF9uZXdQb2ludHMyKSA6IF9uZXdQb2ludHMyO1xuXHRcblx0ICAgICAgICB2YXIgcGF0aCA9IF9wb2ludHMzLmxlbmd0aCA+IDEgPyAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9wb2ludHMzKSA6IHt9O1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogX3BvaW50czMgfSwgcGF0aCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9ERUxFVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9wb2ludHM0ID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBzZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKF9wb2ludHM0KTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHMzID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfcG9pbnRzNC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIGl0ZW0gPSBfcG9pbnRzNFtpXTtcblx0ICAgICAgICAgIChzZWxlY3RlZC5pbmRleE9mKGkpID09PSAtMSB8fCBpdGVtLmlzTG9ja2VkWCkgJiYgX25ld1BvaW50czMucHVzaChpdGVtKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBfbmV3UG9pbnRzMyB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHMzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX3BvaW50czUgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIF9zZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKF9wb2ludHM1KTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHM0ID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfcG9pbnRzNS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIF9pdGVtID0gX3BvaW50czVbaV0sXG5cdCAgICAgICAgICAgICAgdHlwZSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBwb2ludHNcblx0ICAgICAgICAgIF9uZXdQb2ludHM0LnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX2l0ZW0pKTtcblx0ICAgICAgICAgIC8vIGlmIGl0ZW0gd2FzIHNlbGVjdGVkIC0gc2V0IHRoZSBuZXcgYHR5cGVgXG5cdCAgICAgICAgICBfc2VsZWN0ZWQuaW5kZXhPZihpKSAhPT0gLTEgJiYgKF9uZXdQb2ludHM0W2ldLnR5cGUgPSB0eXBlKTtcblx0XG5cdCAgICAgICAgICB2YXIgX2luZGV4NCA9IGksXG5cdCAgICAgICAgICAgICAgX3BvaW50MiA9IF9uZXdQb2ludHM0W19pbmRleDRdLFxuXHQgICAgICAgICAgICAgIHNpYlBvaW50ID0gX2luZGV4NCA9PT0gX25ld1BvaW50czQubGVuZ3RoIC0gMSA/IF9uZXdQb2ludHM0W19pbmRleDQgLSAxXSA6IF9uZXdQb2ludHM0W19pbmRleDQgKyAxXTtcblx0XG5cdCAgICAgICAgICB2YXIgaGFuZGxlSW5kZXggPSBfaW5kZXg0ID09PSBfbmV3UG9pbnRzNC5sZW5ndGggLSAxID8gMSA6IDIsXG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlSW5kZXggPSBoYW5kbGVJbmRleCA9PT0gMSA/IDIgOiAxLFxuXHQgICAgICAgICAgICAgIGhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIGhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIHNpYkhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgICAgIGhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludDJbaGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludDJbc2liSGFuZGxlTmFtZV0pO1xuXHRcblx0ICAgICAgICAgIF9wb2ludDJbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG5cdCAgICAgICAgICBfcG9pbnQyW3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnIHx8IHR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG5cdCAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnKSB7XG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBfbmV3UG9pbnRzNCB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHM0KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGRlc2VsZWN0QWxsKHN0YXRlKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAvLyBIQU5ETEVTXG5cdCAgICBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfcG9pbnRzNiA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgX2RhdGEzID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgLy8gY3JlYXRlIG5ldyBzdGF0ZSBhbmQgY29weSB0aGUgbmV3IHBvaW50IGludG8gaXRcblx0XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHM1ID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKF9wb2ludHM2KSksXG5cdCAgICAgICAgICAgIG5ld1BvaW50ID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX25ld1BvaW50czVbX2RhdGEzLnBhcmVudEluZGV4XSk7XG5cdFxuXHQgICAgICAgIF9uZXdQb2ludHM1W19kYXRhMy5wYXJlbnRJbmRleF0gPSBuZXdQb2ludDtcblx0ICAgICAgICAvLyBjcmVhdGUgaGFuZGxlIGFuZCBjb3B5IGl0IGludG8gdGhlIG5ldyBwb2ludFxuXHQgICAgICAgIHZhciBfaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgX2RhdGEzLmluZGV4LFxuXHQgICAgICAgICAgICBuZXdIYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBuZXdQb2ludFtfaGFuZGxlTmFtZV0pO1xuXHRcblx0ICAgICAgICBuZXdQb2ludFtfaGFuZGxlTmFtZV0gPSBuZXdIYW5kbGU7XG5cdCAgICAgICAgLy8gZmluYWxseSBhZGQgYW5nbGUgYW5kIHJhZGl1c1xuXHQgICAgICAgIG5ld0hhbmRsZS5hbmdsZSA9IF9kYXRhMy5hbmdsZTtcblx0ICAgICAgICBuZXdIYW5kbGUucmFkaXVzID0gX2RhdGEzLnJhZGl1cztcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IF9uZXdQb2ludHM1IH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX25ld1BvaW50czUpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiBzdGF0ZTsgLy97IC4uLnN0YXRlIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAvLyBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAvLyBjYXNlICdQT0lOVF9BREQnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfUkVNT1ZERSc6XG5cdCAgICAvLyBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6XG5cdCAgICAvLyBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcblx0ICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIC4uLmNhbGN1bGF0ZVBhdGgoIHN0YXRlLnBvaW50cy5wcmVzZW50ICkgfVxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwb2ludHNSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Zyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cdFxuXHR2YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgYXJyMltpXSA9IGFycltpXTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYXJyMjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5BcnJheS5mcm9tO1xuXG4vKioqLyB9LFxuLyogMTc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjdHggICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIHRvT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIGNhbGwgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpXG5cdCAgLCBpc0FycmF5SXRlciAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KVxuXHQgICwgdG9MZW5ndGggICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKVxuXHQgICwgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MClcblx0ICAsIGdldEl0ZXJGbiAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODEpO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygxODMpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuXHQgIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblx0ICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcblx0ICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuXHQgICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG5cdCAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcblx0ICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcblx0ICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuXHQgICAgICAsIGluZGV4ICAgPSAwXG5cdCAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuXHQgICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcblx0ICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcblx0ICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuXHQgICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuXHQgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG5cdCAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHR9KTtcblxuXG4vKioqLyB9LFxuLyogMTc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG5cdHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuXHQgIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG5cdCAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuXHQgICAgdGhyb3cgZTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3Jcblx0dmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKVxuXHQgICwgSVRFUkFUT1IgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpXG5cdCAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgJGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGNyZWF0ZURlc2MgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGluZGV4LCB2YWx1ZSl7XG5cdCAgaWYoaW5kZXggaW4gb2JqZWN0KSRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcblx0ICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgyKVxuXHQgICwgSVRFUkFUT1IgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ2l0ZXJhdG9yJylcblx0ICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cblx0ICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cblx0ICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuXHR2YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG5cdCAgICAvLyBidWlsdGluVGFnIGNhc2Vcblx0ICAgIDogQVJHID8gY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElURVJBVE9SICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpXG5cdCAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblx0XG5cdHRyeSB7XG5cdCAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG5cdCAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG5cdH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuXHQgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcblx0ICB2YXIgc2FmZSA9IGZhbHNlO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyICA9IFs3XVxuXHQgICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcblx0ICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcblx0ICAgIGV4ZWMoYXJyKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuIHNhZmU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBmYWxsYmFjayA9IGZ1bmN0aW9uIGZhbGxiYWNrKHZhbHVlLCBfZmFsbGJhY2spIHtcblx0ICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogX2ZhbGxiYWNrO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VIYW5kbGVQb2ludCA9IGZ1bmN0aW9uIG1ha2VIYW5kbGVQb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgaW5kZXg6IGZhbGxiYWNrKG8uaW5kZXgsIDApLFxuXHQgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgIGFuZ2xlOiBmYWxsYmFjayhvLmFuZ2xlLCBudWxsKSxcblx0ICAgIHJhZGl1czogZmFsbGJhY2soby5yYWRpdXMsIG51bGwpLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9zaXRpb25Qb2ludCA9IGZ1bmN0aW9uIG1ha2VQb3NpdGlvblBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgeDogZmFsbGJhY2soby54LCAwKSxcblx0ICAgIHk6IGZhbGxiYWNrKG8ueSwgMCksXG5cdCAgICAvLyB0ZW1wb3JhcnkgY29vcmRpbmF0ZXMgKHdoZW4gdXNlciBtb3ZlcyB0aGUgcG9pbnQpIC1cblx0ICAgIC8vIHNob3VsZCBub3QgYmUgaW4gaGlzdG9yeVxuXHQgICAgdGVtcFg6IGZhbGxiYWNrKG8udGVtcFgsIDApLFxuXHQgICAgdGVtcFk6IGZhbGxiYWNrKG8udGVtcFksIDApLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9pbnQgPSBmdW5jdGlvbiBtYWtlUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe1xuXHQgICAgLy8gc3RhdGVcblx0ICAgIC8vIGlzT25lSGFuZGxlOiBmYWxsYmFjayggby5pc09uZUhhbmRsZSwgZmFsc2UgKSxcblx0ICAgIGlzTG9ja2VkWDogZmFsbGJhY2soby5pc0xvY2tlZFgsIGZhbHNlKSxcblx0ICAgIGlzTG9ja2VkWTogZmFsbGJhY2soby5pc0xvY2tlZFksIGZhbHNlKSxcblx0ICAgIC8vIHR5cGUgb2YgdGhlIHBvaW50OlxuXHQgICAgLy8gICAnc3RyYWlnaHQnIHx8ICdtaXJyb3JlZCcgfHwgJ2Rpc2Nvbm5lY3RlZCcgfHwgJ2FzeW1ldHJpYydcblx0ICAgIHR5cGU6IGZhbGxiYWNrKG8udHlwZSwgJ3N0cmFpZ2h0Jylcblx0ICB9LCBtYWtlUG9zaXRpb25Qb2ludChvKSwge1xuXHQgICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcblx0ICAgIGhhbmRsZTE6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTEgfHwgeyBpbmRleDogMSB9KSxcblx0ICAgIGhhbmRsZTI6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTIgfHwgeyBpbmRleDogMiB9KVxuXHQgIH0pO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbWFrZVBvaW50O1xuXG4vKioqLyB9LFxuLyogMTg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfaW5pdFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODYpO1xuXHRcblx0dmFyIF9pbml0UG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG5cdFxuXHQgIHZhciBuZXdQb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuXHQgICAgICAgIHNpYlBvaW50ID0gaSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludHNbaSAtIDFdIDogcG9pbnRzW2kgKyAxXSxcblx0ICAgICAgICBoYW5kbGVJbmRleCA9IGkgPT09IHBvaW50cy5sZW5ndGggLSAxID8gMSA6IDI7XG5cdFxuXHQgICAgbmV3UG9pbnRzLnB1c2goKDAsIF9pbml0UG9pbnQyLmRlZmF1bHQpKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1BvaW50cztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCwgc2liUG9pbnQsIGhhbmRsZUluZGV4KSB7XG5cdFxuXHQgICAgICBwb2ludCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50KTtcblx0XG5cdCAgICAgIHZhciBoYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBoYW5kbGVJbmRleCxcblx0ICAgICAgICAgIHNpYkhhbmRsZUluZGV4ID0gaGFuZGxlSW5kZXggPT09IDEgPyAyIDogMSxcblx0ICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIHNpYkhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgaGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRbaGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgc2liSGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRbc2liSGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgdHlwZSA9IHBvaW50LnR5cGU7XG5cdFxuXHQgICAgICBwb2ludFtoYW5kbGVOYW1lXSA9IGhhbmRsZTtcblx0ICAgICAgcG9pbnRbc2liSGFuZGxlTmFtZV0gPSBzaWJIYW5kbGU7XG5cdFxuXHQgICAgICBpZiAoaGFuZGxlLmFuZ2xlID09IG51bGwgfHwgaGFuZGxlLnJhZGl1cyA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIGhhbmRsZS5yYWRpdXMgPSA1MDtcblx0XG5cdCAgICAgICAgICAgIHZhciBkeSA9IChzaWJQb2ludC55IC0gcG9pbnQueSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsXG5cdCAgICAgICAgICAgICAgICBkeCA9IHNpYlBvaW50LnggLSBwb2ludC54O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuKGR5IC8gZHgpICogKDE4MCAvIE1hdGguUEkpIC0gOTA7XG5cdCAgICAgICAgICAgIGlmIChkeCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZSAtIDE4MDtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGhhbmRsZS5hbmdsZSA9IGFuZ2xlO1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1cztcblx0ICAgICAgICAgICAgc2liSGFuZGxlLmFuZ2xlID0gaGFuZGxlLmFuZ2xlIC0gMTgwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcG9pbnQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVTZWdtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVTZWdtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVNlZ21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludHMpIHtcblx0ICB2YXIgcGF0aCA9ICcnLFxuXHQgICAgICBzZWdtZW50cyA9IFtdO1xuXHRcblx0ICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcG9pbnRzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcblx0ICAgIHZhciBwb2ludCA9IHBvaW50c1tpbmRleF0sXG5cdCAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2luZGV4ICsgMV07XG5cdFxuXHQgICAgdmFyIHNlZ21lbnQgPSAoMCwgX2NhbGN1bGF0ZVNlZ21lbnQyLmRlZmF1bHQpKHBvaW50LCBuZXh0UG9pbnQsIGluZGV4KTtcblx0ICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cdFxuXHQgICAgcGF0aCArPSBzZWdtZW50LnN0cmluZztcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7IHBhdGg6IHBhdGgsIHNlZ21lbnRzOiBzZWdtZW50cyB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTg4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTg5KTtcblx0XG5cdHZhciBfY2FsY3VsYXRlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUG9pbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCwgbmV4dFBvaW50LCBpbmRleCkge1xuXHQgICAgaWYgKCFuZXh0UG9pbnQpIHtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RyaW5nID0gJycsXG5cdCAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXHRcblx0ICAgIHZhciB4ID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuXHQgICAgICAgIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFksXG5cdCAgICAgICAgeE5leHQgPSBuZXh0UG9pbnQueCArIG5leHRQb2ludC50ZW1wWCxcblx0ICAgICAgICB5TmV4dCA9IG5leHRQb2ludC55ICsgbmV4dFBvaW50LnRlbXBZO1xuXHRcblx0ICAgIHZhciBwYXJ0MSA9ICdNJyArIHggKyAnLCAnICsgeSAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCArICcgJztcblx0ICAgIGlmIChpbmRleCA9PT0gMCkge1xuXHQgICAgICAgIHN0cmluZyArPSBwYXJ0MTtcblx0ICAgIH1cblx0ICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDE7XG5cdFxuXHQgICAgdmFyIHBhcnQyID0gKDAsIF9jYWxjdWxhdGVQb2ludDIuZGVmYXVsdCkocG9pbnQsIDIpO1xuXHQgICAgc3RyaW5nICs9IHBhcnQyO1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mjtcblx0XG5cdCAgICB2YXIgcGFydDMgPSAoMCwgX2NhbGN1bGF0ZVBvaW50Mi5kZWZhdWx0KShuZXh0UG9pbnQsIDEpO1xuXHQgICAgc3RyaW5nICs9IHBhcnQzO1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mztcblx0XG5cdCAgICB2YXIgcGFydDQgPSB4TmV4dCArICcsICcgKyB5TmV4dCAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCArICcgJztcblx0ICAgIHN0cmluZyArPSBwYXJ0NDtcblx0ICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDQ7XG5cdFxuXHQgICAgcmV0dXJuIHsgc3RyaW5nOiBzdHJpbmcsIHNlZ21lbnRTdHJpbmc6IHNlZ21lbnRTdHJpbmcsIGluZGV4OiBpbmRleCB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5nbGVUb1BvaW50KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnQpIHtcblx0ICB2YXIgaGFuZGxlSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICB2YXIgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcblx0ICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcblx0ICAgICAgaGFuZGxlID0gcG9pbnRbJ2hhbmRsZScgKyBoYW5kbGVJbmRleF07XG5cdFxuXHQgIHZhciBDSEFSID0gaGFuZGxlSW5kZXggPT09IDIgPyAnQycgOiAnJztcblx0ICBpZiAocG9pbnQudHlwZSAhPT0gJ3N0cmFpZ2h0Jykge1xuXHQgICAgdmFyIGhhbmRsZUNvb3JkcyA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgcmV0dXJuICcnICsgQ0hBUiArICh4ICsgaGFuZGxlQ29vcmRzLnggLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQpICsgJywgJyArICh5ICsgaGFuZGxlQ29vcmRzLnkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gJycgKyBDSEFSICsgeCArICcsICcgKyB5IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUGF0aCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgaXNDb2RlOiBmYWxzZVxuXHR9O1xuXHRcblx0dmFyIHBvaW50Q29udHJvbHMgPSBmdW5jdGlvbiBwb2ludENvbnRyb2xzKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IElOSVRJQUxfU1RBVEUgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgY2FzZSAnQ09ERV9UQVAnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzQ29kZTogIXN0YXRlLmlzQ29kZSB9KTtcblx0ICAgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwb2ludENvbnRyb2xzO1xuXG4vKioqLyB9LFxuLyogMTkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBpc1Nob3c6IGZhbHNlLFxuXHQgIHR5cGU6ICdzdHJhaWdodCdcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IHJlZHVuZGFudFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuXHQgICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG5cdCAgICAvLyB9XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogdHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE5MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlY3ljbGVTdGF0ZTtcblx0Ly8gcmVkdXgtcmVjeWNsZSBoaWdoZXIgb3JkZXIgcmVkdWNlclxuXHRmdW5jdGlvbiByZWN5Y2xlU3RhdGUocmVkdWNlcikge1xuXHQgIHZhciBhY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cdCAgdmFyIGluaXRpYWxTdGF0ZSA9IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgdmFyIGdldEluaXRpYWxTdGF0ZSA9IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuXHQgICAgaWYgKGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMCkge1xuXHQgICAgICByZXR1cm4gcmVkdWNlcihnZXRJbml0aWFsU3RhdGUoc3RhdGUsIGFjdGlvbiksIHsgdHlwZTogJ0BAcmVkdXgtcmVjeWNsZS9JTklUJyB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuXHQgIH07XG5cdH1cblx0Ly8gL3JlZHV4LXJlY3ljbGVcblxuLyoqKi8gfSxcbi8qIDE5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdC8qXG5cdCAgRnVuY3Rpb24gdG8gZ2VuZXJhdGUgaGFzaCBjb2RlLlxuXHQgIEBwcml2YXRlXG5cdCAgQHJldHVybiB7U3RyaW5nfSBIYXNoIGNvZGUuXG5cdCovXG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdCAgdmFyIGhhc2ggPSAwLFxuXHQgICAgICBpLFxuXHQgICAgICBjaHIsXG5cdCAgICAgIGxlbjtcblx0ICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG5cdCAgZm9yIChpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICBjaHIgPSBzdHIuY2hhckNvZGVBdChpKTtcblx0ICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaHI7XG5cdCAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHQgIH1cblx0ICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHQvKlxuXHQgIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgc2Vjb25kIGFyZ3VtZW50IGlmIHRoZSBmaXJzdCBvbmUgaXNuJ3Qgc2V0LlxuXHQgIEBwcml2YXRlXG5cdCAgQHBhcmFtIHtBbnl9IFByb3BlcnR5IHRvIHNldC5cblx0ICBAcGFyYW0ge0FueX0gUHJvcGVydHkgdG8gcmV0dXJuIGFzIGZhbGxiYWNrLlxuXHQgIEByZXR1cm5zIHtBbnl9IElmIHNldCAtIHRoZSBmaXJzdCBwcm9wZXJ0eSwgaWYgbm90IC0gdGhlIHNlY29uZC5cblx0Ki9cblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHByb3AsIGZhbGxiYWNrKSB7XG5cdCAgcmV0dXJuIHByb3AgIT0gbnVsbCA/IHByb3AgOiBmYWxsYmFjaztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTk2KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTk2LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Nik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxOTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZDojZmZmNWU0fSp7Ym94LXNpemluZzpib3JkZXItYm94fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE5OCk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDApO1xuXHRcblx0dmFyIFByb2dyZXNzTGluZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUHJvZ3Jlc3NMaW5lLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUHJvZ3Jlc3NMaW5lKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUHJvZ3Jlc3NMaW5lKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFByb2dyZXNzTGluZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9ncmVzc0xpbmUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHAgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgc3R5bGUgPSB7IGJhY2tncm91bmRDb2xvcjogcC5jb2xvciB9O1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydwcm9ncmVzcy1saW5lJ10sXG5cdCAgICAgICAgc3R5bGU6IHN0eWxlLFxuXHQgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdwcm9ncmVzcy1saW5lJyB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb2dyZXNzTGluZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm9ncmVzc0xpbmU7XG5cbi8qKiovIH0sXG4vKiAxOTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5OSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE5OSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTkpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Byb2dyZXNzLWxpbmVfMWo0cHBfM3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDt3aWR0aDoxcHg7bWFyZ2luLWxlZnQ6LTEuNXB4fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDIwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJwcm9ncmVzcy1saW5lXCI6IFwiX3Byb2dyZXNzLWxpbmVfMWo0cHBfM1wiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgc2VsZWN0ZWQ6IDAsXG5cdCAgbGluZXM6IFtdXG5cdH07XG5cdFxuXHR2YXIgZ2V0Q29sb3IgPSBmdW5jdGlvbiBnZXRDb2xvcihsaW5lcykge1xuXHQgIHZhciBDT0xPUlMgPSBbJyNGRjUxMkYnLCAnI0ZGMDBDNScsICcjMDBGRjY5JywgJ3doaXRlJywgJyMxQjhGRTYnLCAnQ1lBTicsICdZRUxMT1cnXTtcblx0XG5cdCAgcmV0dXJuIENPTE9SU1tsaW5lcy5sZW5ndGggJSBDT0xPUlMubGVuZ3RoXTtcblx0fTtcblx0XG5cdHZhciBtYWtlUHJvZ3Jlc3NMaW5lID0gZnVuY3Rpb24gbWFrZVByb2dyZXNzTGluZSgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50c1sxXTtcblx0ICB2YXIgbGluZXMgPSBzdGF0ZS5saW5lcztcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIC8vIHByb2dyZXNzOiAgICAgMCxcblx0ICAgIGNvbG9yOiBnZXRDb2xvcihsaW5lcyksXG5cdCAgICBuYW1lOiAnZWFzaW5nJyArIChsaW5lcy5sZW5ndGggKyAxKVxuXHQgIH07XG5cdH07XG5cdFxuXHR2YXIgcHJvZ3Jlc3NlcyA9IGZ1bmN0aW9uIHByb2dyZXNzZXMoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdFxuXHQgICAgY2FzZSAnQUREX1BST0dSRVNTX0xJTkUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUpO1xuXHQgICAgICAgIG5ld1N0YXRlLmxpbmVzID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKG5ld1N0YXRlLmxpbmVzKSwgW21ha2VQcm9ncmVzc0xpbmUoYWN0aW9uLmRhdGEsIHN0YXRlKV0pO1xuXHQgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1NFVF9TRUxFQ1RFRF9QUk9HUkVTU19MSU5FJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBpbmRleCA9IGFjdGlvbi5pbmRleDtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHNlbGVjdGVkOiBpbmRleCB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgIC8vIGNhc2UgJ1NFVF9QUk9HUkVTU19MSU5FX1NISUZUJzoge1xuXHQgICAgLy8gICBjb25zdCB7ZGF0YX0gICAgPSBhY3Rpb24sXG5cdCAgICAvLyAgICAgICAgIHtpbmRleH0gICA9IGRhdGEsXG5cdCAgICAvLyAgICAgICAgIG5ld1N0YXRlICA9IHsgLi4uc3RhdGUgfSxcblx0ICAgIC8vICAgICAgICAge2xpbmVzfSAgID0gbmV3U3RhdGU7XG5cdFxuXHQgICAgLy8gICBuZXdTdGF0ZS5saW5lcyAgPSBbIC4uLmxpbmVzLnNsaWNlKCAwLCBpbmRleCApLFxuXHQgICAgLy8gICAgICAgICAgICAgICAgICAgICAgIHsgLi4ubGluZXNbaW5kZXhdLCBwcm9ncmVzczogZGF0YS5wcm9ncmVzcyB9LFxuXHQgICAgLy8gICAgICAgICAgICAgICAgICAgICAgIC4uLmxpbmVzLnNsaWNlKCBpbmRleCsxIClcblx0ICAgIC8vICAgICAgICAgICAgICAgICAgICAgXTtcblx0XG5cdCAgICAvLyAgIHJldHVybiBuZXdTdGF0ZTtcblx0ICAgIC8vIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcHJvZ3Jlc3NlcztcblxuLyoqKi8gfSxcbi8qIDIwMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHNldFRpbWVvdXQoZm4sIDEpO1xuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImEyOWIxODdhMTE2MDBmNjhlMTg5XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgYTI5YjE4N2ExMTYwMGY2OGUxODlcbiAqKi8iLCIvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcbnJlcXVpcmUoJy4uL2Nzcy9tYWluJyk7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3ByZWFjdC1yZWR1eCc7XG5pbXBvcnQge3JlbmRlciwgaH0gIGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ3VydmVFZGl0b3IgIGZyb20gJy4vdGFncy9jdXJ2ZS1lZGl0b3InO1xuaW1wb3J0IGluaXRTdG9yZSAgICBmcm9tICcuL3N0b3JlJztcbmltcG9ydCBDICAgICAgICAgICAgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGhhc2ggICAgICAgICBmcm9tICcuL2hlbHBlcnMvaGFzaCc7XG5pbXBvcnQgZmFsbGJhY2tUbyAgIGZyb20gJy4vaGVscGVycy9mYWxsYmFjay10byc7XG5pbXBvcnQgZGVmZXIgICAgICAgIGZyb20gJy4vaGVscGVycy9kZWZlcic7XG5cbi8vIFRPRE9cbi8vICAgLSBoYW5kbGUgdHJhbnNsYXRlIGlzUmVjb3JkXG4vLyAgIC0gbXVsdGlwbGUgZWRpdG9ycyBzaG9ydCBjdXRzXG4vLyAgIC0gcmVzaXplIGRvd24gd2hlbiBwb2ludHMgYXJlIGFib3ZlIHRoZSBlZGl0b3IgYm9yZGVyXG4vLyAgIC0gaW5zdGFuY2UgZHJvcGRvd24gb24gY29kZSBwYW5lbFxuLy8gICAtIGltcG9ydCBwYXRoIGRhdGFcbi8vICAgLSBtb3ZlIGJ1bmNoIG9mIHBvaW50cyBhdCBvbmNlXG5cbmNsYXNzIEFQSSB7XG4gIGNvbnN0cnVjdG9yICggbyA9IHt9ICkge1xuICAgIHRoaXMuX28gPSBvO1xuXG4gICAgdGhpcy5fZGVjYWxhcmVEZWZhdWx0cygpO1xuICAgIHRoaXMuX2V4dGVuZERlZmF1bHRzKCk7XG4gICAgdGhpcy5fdmFycygpO1xuICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIHRoaXMuX3RyeVRvUmVzdG9yZSgpO1xuICAgIHRoaXMuX2xpc3RlblVubG9hZCgpO1xuXG4gICAgdGhpcy5fc3Vic2NyaWJlKCk7XG4gIH1cblxuICBfZGVjYWxhcmVEZWZhdWx0cyAoICkge1xuICAgIHRoaXMuX2RlZmF1bHRzID0ge1xuICAgICAgbmFtZTogICAgICAgICAgICdtb2pzLWN1cnZlLWVkaXRvcicsXG4gICAgICBpc1NhdmVTdGF0ZTogICAgdHJ1ZVxuICAgIH1cbiAgfVxuXG5cbiAgX2V4dGVuZERlZmF1bHRzICgpIHtcbiAgICB0aGlzLl9wcm9wcyA9IHt9O1xuXG4gICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2RlZmF1bHRzKSB7XG4gICAgICB0aGlzLl9wcm9wc1sga2V5IF0gPSBmYWxsYmFja1RvKCB0aGlzLl9vW2tleV0sIHRoaXMuX2RlZmF1bHRzW2tleV0gKTtcbiAgICB9XG4gIH1cblxuICBfdmFycyAoKSB7XG4gICAgdGhpcy5yZXZpc2lvbiA9ICcxLjAuMCc7XG4gICAgdGhpcy5zdG9yZSAgICA9IGluaXRTdG9yZSgpO1xuXG4gICAgdGhpcy5fZWFzaW5ncyA9IFtdO1xuICAgIHRoaXMuX3Byb2dyZXNzTGluZXMgPSBbXTtcblxuICAgIGxldCBzdHIgPSBmYWxsYmFja1RvKCB0aGlzLl9vLm5hbWUsIHRoaXMuX2RlZmF1bHRzLm5hbWUgKTtcbiAgICBzdHIgKz0gKCBzdHIgPT09IHRoaXMuX2RlZmF1bHRzLm5hbWUgKSA/ICcnIDogYF9fJHt0aGlzLl9kZWZhdWx0cy5uYW1lfWA7XG4gICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gYCR7c3RyfV9fJHsgaGFzaCggc3RyICkgfWA7XG4gIH1cblxuICBfcmVuZGVyICgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3RoaXMuc3RvcmV9PlxuICAgICAgICAgIDxDdXJ2ZUVkaXRvciBwcm9ncmVzc0xpbmVzPXt0aGlzLl9wcm9ncmVzc0xpbmVzfSAvPlxuICAgICAgICA8L1Byb3ZpZGVyPiwgZG9jdW1lbnQuYm9keSk7XG4gICAgfSk7XG4gIH1cblxuICBfbGlzdGVuVW5sb2FkICgpIHtcbiAgICBjb25zdCB1bmxvYWRFdmVudCA9ICgnb25wYWdlaGlkZScgaW4gd2luZG93KSA/ICdwYWdlaGlkZScgOiAnYmVmb3JldW5sb2FkJztcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggdW5sb2FkRXZlbnQsICgpID0+IHtcbiAgICAgIGlmICggdGhpcy5fcHJvcHMuaXNTYXZlU3RhdGUgKSB7XG4gICAgICAgIGNvbnN0IHByZVN0YXRlID0geyAuLi50aGlzLnN0b3JlLmdldFN0YXRlKCkgfTtcblxuICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRzLmhpc3Rvcnk7XG4gICAgICAgIGRlbGV0ZSBwcmVTdGF0ZS5wb2ludENvbnRyb2xzLmhpc3Rvcnk7XG4gICAgICAgIHByZVN0YXRlLnByb2dyZXNzTGluZXMubGluZXMgPSBbXTtcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UsIEpTT04uc3RyaW5naWZ5KCBwcmVTdGF0ZSApICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSggdGhpcy5fbG9jYWxTdG9yYWdlICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfdHJ5VG9SZXN0b3JlICgpIHtcbiAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UpO1xuICAgIGlmICggc3RvcmVkICkgeyB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TVEFURScsIGRhdGE6IEpTT04ucGFyc2Uoc3RvcmVkKSB9KTt9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHt4OiAwLCAgIHk6IEMuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlfSwgaW5kZXg6IDAgfSB9KTtcbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQUREJywgZGF0YTogeyBwb2ludDoge3g6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlfSwgaW5kZXg6IDEgfSB9KTtcbiAgICAgIC8vIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfU0VMRUNUJywgZGF0YTogeyBpbmRleDogMCwgdHlwZTogJ3N0cmFpZ2h0JyB9IH0pO1xuICAgIH1cbiAgfVxuXG4gIF9zdWJzY3JpYmUgKCkge1xuICAgIHRoaXMuX2NvbXBpbGVQYXRoKCk7XG4gICAgdGhpcy5zdG9yZS5zdWJzY3JpYmUoIHRoaXMuX2NvbXBpbGVQYXRoLmJpbmQodGhpcykgKTtcbiAgfVxuXG4gIF9jb21waWxlUGF0aCAoKSB7XG4gICAgY29uc3Qgc3RhdGUgICAgID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHBvaW50cyAgICA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuICAgICAgICAgIHtwYXRofSAgICA9IHBvaW50cztcblxuICAgIGlmICggdGhpcy5fcHJldlBhdGggIT09IHBhdGggKSB7XG4gICAgICB0aGlzLl9wcmV2UGF0aCA9IHBhdGg7XG4gICAgICB0aGlzLl9lYXNpbmcgPSBtb2pzLmVhc2luZy5wYXRoKCBwYXRoICk7XG4gICAgICB0aGlzLl9maXJlT25DaGFuZ2UoIHBhdGggKTtcbiAgICB9XG4gIH1cblxuICBfZmlyZU9uQ2hhbmdlICggcGF0aCApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2Vhc2luZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlY29yZCAgICAgPSB0aGlzLl9lYXNpbmdzW2ldLFxuICAgICAgICAgICAge29wdGlvbnMsIGVhc2luZ30gID0gcmVjb3JkLFxuICAgICAgICAgICAge29uQ2hhbmdlfSA9IG9wdGlvbnM7XG4gICAgICBcbiAgICAgICh0eXBlb2Ygb25DaGFuZ2UgPT09ICdmdW5jdGlvbicgKSAmJiBvbkNoYW5nZSggZWFzaW5nLCBwYXRoICk7XG4gICAgICB0aGlzLl91cGRhdGVQYXJlbnQoIGVhc2luZyApO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVQYXJlbnQoIGVhc2luZyApIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlYXNpbmcuX3BhcmVudDtcblxuICAgIGlmICggcGFyZW50ICYmIHBhcmVudC5zZXRQcm9ncmVzcyApIHtcbiAgICAgIHRoaXMuX3RyaWdnZXJQYXJlbnQoIHBhcmVudCApO1xuICAgIH0gZWxzZSBpZiAoIHBhcmVudC50aW1lbGluZSApIHtcbiAgICAgIHRoaXMuX3RyaWdnZXJQYXJlbnQoIHBhcmVudC50aW1lbGluZSApXG4gICAgfSBlbHNlIGlmICggcGFyZW50LnR3ZWVuICkge1xuICAgICAgdGhpcy5fdHJpZ2dlclBhcmVudCggcGFyZW50LnR3ZWVuIClcbiAgICB9XG4gIH1cblxuICBfdHJpZ2dlclBhcmVudCAocGFyZW50KSB7XG4gICAgY29uc3Qgc3RlcCA9IDAuMDAxLFxuICAgICAgICAgIHtwcm9ncmVzc30gPSBwYXJlbnQsXG4gICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MgKyBzdGVwIDwgMSApXG4gICAgICAgICAgICA/IChwcm9ncmVzcyArIHN0ZXApIDogKHByb2dyZXNzIC0gc3RlcCk7XG5cbiAgICBwYXJlbnQuc2V0UHJvZ3Jlc3MoIHVwZGF0ZVByb2dyZXNzICk7XG4gICAgcGFyZW50LnNldFByb2dyZXNzKCBwcm9ncmVzcyApO1xuICB9XG5cbiAgZ2V0RWFzaW5nIChvPXt9KSB7XG4gICAgLy8gZ2V0IHRoZSBlYXNpbmcgZnVuY3Rpb24gcmVnYXJkaW5nIHJldmVyc2Ugb3B0aW9uc1xuICAgIGNvbnN0IGZ1biA9ICgoKSA9PiB7XG4gICAgICBjb25zdCBpID0gdGhpcy5fZWFzaW5ncy5sZW5ndGg7XG4gICAgICByZXR1cm4gKGspID0+IHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3NMaW5lKCBrLCBpLCB0aGlzLl9wcm9ncmVzc0xpbmVzICk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuX2Vhc2luZ3NbaV0ub3B0aW9ucy50cmFuc2Zvcm07XG4gICAgICAgIHJldHVybiAoIHRyYW5zZm9ybSApXG4gICAgICAgICAgPyB0cmFuc2Zvcm0oIHRoaXMuX2Vhc2luZyggayApICkgOiB0aGlzLl9lYXNpbmcoIGsgKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdBRERfUFJPR1JFU1NfTElORScsIGRhdGE6IHt9IH0pO1xuICAgIHRoaXMuX2Vhc2luZ3MucHVzaCh7IG9wdGlvbnM6IG8sIGVhc2luZzogZnVuIH0pO1xuXG4gICAgZGVmZXIoICgpID0+IHsgdGhpcy5fZmlyZU9uQ2hhbmdlKCB0aGlzLl9wcmV2UGF0aCApOyB9KTtcbiAgICByZXR1cm4gZnVuO1xuICB9XG5cbiAgX3VwZGF0ZVByb2dyZXNzTGluZSAocCwgaSwgbGluZXMpIHtcbiAgICBjb25zdCBlbCA9IGxpbmVzW2ldLFxuICAgICAgICAgIHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHtyZXNpemV9ID0gc3RhdGU7XG5cbiAgICBpZiAoICFlbCApIHsgcmV0dXJuOyB9XG5cbiAgICBlbC5zdHlsZS5sZWZ0ID0gYCR7cCoxMDB9JWA7XG5cbiAgICAvLyBjb25zdCB4ID0gcCAqICggQy5DVVJWRV9TSVpFICsgcmVzaXplLnRlbXBfcmlnaHQgKyByZXNpemUucmlnaHQgKSxcbiAgICAvLyAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3h9cHgpYDtcblxuICAgIC8vIG1vanMuaC5zZXRQcmVmaXhlZFN0eWxlKCBlbCwgJ3RyYW5zZm9ybScsIHRyYW5zZm9ybSApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVBJO1xud2luZG93Lk1vanNDdXJ2ZUVkaXRvciA9IEFQSTtcblxuLy8gY3VydmVcbi8vICAgLmdldEZ1bmN0aW9uKHsgaXNJbnZlcnNlWDogZmFsc2UsIGlzSW52ZXJzZVk6IHRydWUsIG5hbWU6ICdTb21lIG5hbWUnIH0pXG4vLyAgIC5nZXRDb2RlKClcblxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2FwcC5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvYXNzaWduXCIpO1xuXG52YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJT2JqZWN0ICA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgdmFyIEEgPSB7fVxuICAgICwgQiA9IHt9XG4gICAgLCBTID0gU3ltYm9sKClcbiAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG4gICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGluZGV4ID0gMVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuICB3aGlsZShhTGVuID4gaW5kZXgpe1xuICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcbiAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgLCBqICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShsZW5ndGggPiBqKWlmKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnQgeyBDb21wb25lbnQsIGggYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0b25seShjaGlsZHJlbikge1xuXHRcdHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlblswXSB8fCBudWxsO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5wcm9wdHlwZS5pc1JlcXVpcmVkID0gcHJvcHR5cGU7XG5cbmV4cG9ydCBjb25zdCBQcm9wVHlwZXMgPSB7XG5cdGVsZW1lbnQ6IHByb3B0eXBlLFxuXHRmdW5jOiBwcm9wdHlwZSxcblx0c2hhcGU6ICgpID0+IHByb3B0eXBlXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vc3JjL2NvbXBhdC5qc1xuICoqLyIsIi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BUeXBlcywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdG9yZVNoYXBlIGZyb20gJy4uL3V0aWxzL3N0b3JlU2hhcGUnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuXG5sZXQgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSBmYWxzZVxuZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG4gIGlmIChkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSkge1xuICAgIHJldHVyblxuICB9XG4gIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZVxuXG4gIHdhcm5pbmcoXG4gICAgJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgK1xuICAgICdJdCBpcyBtb3N0IGxpa2VseSB0aGF0IHlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSB1cGRhdGVkIHRvICcgK1xuICAgICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICtcbiAgICAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgK1xuICAgICd0YWcvdjIuMC4wIGZvciB0aGUgbWlncmF0aW9uIGluc3RydWN0aW9ucy4nXG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHsgc3RvcmU6IHRoaXMuc3RvcmUgfVxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dClcbiAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pXG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgY29uc3QgeyBzdG9yZSB9ID0gdGhpc1xuICAgIGNvbnN0IHsgc3RvcmU6IG5leHRTdG9yZSB9ID0gbmV4dFByb3BzXG5cbiAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKVxuICAgIH1cbiAgfVxufVxuXG5Qcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkXG59XG5Qcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgc3RvcmU6IHN0b3JlU2hhcGUuaXNSZXF1aXJlZFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9Qcm92aWRlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqQSlcbiAgY29uc3Qga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKVxuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgY29uc3QgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHxcbiAgICAgICAgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc2hhbGxvd0VxdWFsLmpzXG4gKiovIiwiaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXBBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycykge1xuICByZXR1cm4gZGlzcGF0Y2ggPT4gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaClcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qc1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0b3JlU2hhcGUgZnJvbSAnLi4vdXRpbHMvc3RvcmVTaGFwZSdcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnLi4vdXRpbHMvc2hhbGxvd0VxdWFsJ1xuaW1wb3J0IHdyYXBBY3Rpb25DcmVhdG9ycyBmcm9tICcuLi91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnbG9kYXNoL2lzUGxhaW5PYmplY3QnXG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJ1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnXG5cbmNvbnN0IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe30pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmNvbnN0IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoeyBkaXNwYXRjaCB9KVxuY29uc3QgZGVmYXVsdE1lcmdlUHJvcHMgPSAoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpID0+ICh7XG4gIC4uLnBhcmVudFByb3BzLFxuICAuLi5zdGF0ZVByb3BzLFxuICAuLi5kaXNwYXRjaFByb3BzXG59KVxuXG5mdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J1xufVxuXG5sZXQgZXJyb3JPYmplY3QgPSB7IHZhbHVlOiBudWxsIH1cbmZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4uYXBwbHkoY3R4KVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3JPYmplY3QudmFsdWUgPSBlXG4gICAgcmV0dXJuIGVycm9yT2JqZWN0XG4gIH1cbn1cblxuLy8gSGVscHMgdHJhY2sgaG90IHJlbG9hZGluZy5cbmxldCBuZXh0VmVyc2lvbiA9IDBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKVxuICBjb25zdCBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzXG5cbiAgbGV0IG1hcERpc3BhdGNoXG4gIGlmICh0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHNcbiAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzXG4gIH0gZWxzZSB7XG4gICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKVxuICB9XG5cbiAgY29uc3QgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wc1xuICBjb25zdCB7IHB1cmUgPSB0cnVlLCB3aXRoUmVmID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgY29uc3QgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHNcblxuICAvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuICBjb25zdCB2ZXJzaW9uID0gbmV4dFZlcnNpb24rK1xuXG4gIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGNvbnN0IGNvbm5lY3REaXNwbGF5TmFtZSA9IGBDb25uZWN0KCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWBcblxuICAgIGZ1bmN0aW9uIGNoZWNrU3RhdGVTaGFwZShwcm9wcywgbWV0aG9kTmFtZSkge1xuICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGAke21ldGhvZE5hbWV9KCkgaW4gJHtjb25uZWN0RGlzcGxheU5hbWV9IG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0LiBgICtcbiAgICAgICAgICBgSW5zdGVhZCByZWNlaXZlZCAke3Byb3BzfS5gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTWVyZ2VkUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcbiAgICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZmluYWxNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpXG4gICAgICB9XG4gICAgICByZXR1cm4gbWVyZ2VkUHJvcHNcbiAgICB9XG5cbiAgICBjbGFzcyBDb25uZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gICAgICAgIHRoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlXG5cbiAgICAgICAgaW52YXJpYW50KHRoaXMuc3RvcmUsXG4gICAgICAgICAgYENvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgYCArXG4gICAgICAgICAgYHByb3BzIG9mIFwiJHtjb25uZWN0RGlzcGxheU5hbWV9XCIuIGAgK1xuICAgICAgICAgIGBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBgICtcbiAgICAgICAgICBgb3IgZXhwbGljaXRseSBwYXNzIFwic3RvcmVcIiBhcyBhIHByb3AgdG8gXCIke2Nvbm5lY3REaXNwbGF5TmFtZX1cIi5gXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGUgfVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuXG4gICAgICBjb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgY29uc3Qgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKHN0YXRlUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZVByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZFN0YXRlID0gbWFwU3RhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgcHJvcHMpXG4gICAgICAgIGNvbnN0IGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xuXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlXG4gICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxXG5cbiAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGVcbiAgICAgIH1cblxuICAgICAgY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gc3RvcmVcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hQcm9wcyA9IHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKGRpc3BhdGNoUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKVxuICAgICAgICBjb25zdCBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbidcblxuICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaFxuICAgICAgICB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzLmxlbmd0aCAhPT0gMVxuXG4gICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWREaXNwYXRjaCwgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZERpc3BhdGNoXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgIGNvbnN0IG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0RGlzcGF0Y2hQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHNcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dE1lcmdlZFByb3BzID0gY29tcHV0ZU1lcmdlZFByb3BzKHRoaXMuc3RhdGVQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgfVxuXG4gICAgICB0cnlTdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJ5VW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpXG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoIXB1cmUgfHwgIXNoYWxsb3dFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnRyeVVuc3Vic2NyaWJlKClcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cblxuICAgICAgY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbnVsbFxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGxcbiAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIGNvbnN0IHByZXZTdG9yZVN0YXRlID0gdGhpcy5zdGF0ZS5zdG9yZVN0YXRlXG4gICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG4gICAgICAgICAgY29uc3QgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ5Q2F0Y2godGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsIHRoaXMpXG4gICAgICAgICAgaWYgKCFoYXZlU3RhdGVQcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdG9yZVN0YXRlIH0pXG4gICAgICB9XG5cbiAgICAgIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICAgaW52YXJpYW50KHdpdGhSZWYsXG4gICAgICAgICAgYFRvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSBgICtcbiAgICAgICAgICBgeyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuYFxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2VcbiAgICAgIH1cblxuICAgICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCxcbiAgICAgICAgICBoYXNTdG9yZVN0YXRlQ2hhbmdlZCxcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkLFxuICAgICAgICAgIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yLFxuICAgICAgICAgIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9ID0gdGhpc1xuXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbFxuXG4gICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWVcbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSB0cnVlXG4gICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgIHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMgPSBoYXNTdG9yZVN0YXRlQ2hhbmdlZCB8fCAoXG4gICAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID1cbiAgICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgbGV0IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkKSB7XG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcbiAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpdGhSZWYpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4udGhpcy5tZXJnZWRQcm9wcyxcbiAgICAgICAgICAgIHJlZjogJ3dyYXBwZWRJbnN0YW5jZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LFxuICAgICAgICAgICAgdGhpcy5tZXJnZWRQcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudFxuICAgICAgfVxuICAgIH1cblxuICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWVcbiAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50XG4gICAgQ29ubmVjdC5jb250ZXh0VHlwZXMgPSB7XG4gICAgICBzdG9yZTogc3RvcmVTaGFwZVxuICAgIH1cbiAgICBDb25uZWN0LnByb3BUeXBlcyA9IHtcbiAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBhcmUgaG90IHJlbG9hZGluZyFcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvblxuICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanNcbiAqKi8iLCJpbXBvcnQgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgUHJvcFR5cGVzLnNoYXBlKHtcbiAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0U3RhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zdG9yZVNoYXBlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiovIiwiLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qc1xuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBjb250ZXh0VHlwZXM6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBtaXhpbnM6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxuICAgIHR5cGU6IHRydWVcbn07XG5cbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICAgIG5hbWU6IHRydWUsXG4gICAgbGVuZ3RoOiB0cnVlLFxuICAgIHByb3RvdHlwZTogdHJ1ZSxcbiAgICBjYWxsZXI6IHRydWUsXG4gICAgYXJndW1lbnRzOiB0cnVlLFxuICAgIGFyaXR5OiB0cnVlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXlzW2ldXSAmJiAhS05PV05fU1RBVElDU1trZXlzW2ldXSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2ludmFyaWFudC9pbnZhcmlhbnQuanNcbiAqKi8iLCIvKiogQ29weSBvd24tcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqXHRAcmV0dXJucyBvYmpcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0aWYgKHByb3BzKSB7XG5cdFx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldIT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9ialtpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBGYXN0IGNsb25lLiBOb3RlOiBkb2VzIG5vdCBmaWx0ZXIgb3V0IG5vbi1vd24gcHJvcGVydGllcy5cbiAqXHRAc2VlIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTZiYWEzNGY0NWRmNjg5NTAwMmUwM2I2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0cmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuXG4vKiogR2V0IGEgZGVlcCBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QsIGV4cHJlc3NlZCBpbiBkb3Qtbm90YXRpb24uXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdGZvciAobGV0IHA9a2V5LnNwbGl0KCcuJyksIGk9MDsgaTxwLmxlbmd0aCAmJiBvYmo7IGkrKykge1xuXHRcdG9iaiA9IG9ialtwW2ldXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIEFycmF5XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0cmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgRnVuY3Rpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuICdmdW5jdGlvbic9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgU3RyaW5nPyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHRyZXR1cm4gJ3N0cmluZyc9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHRyZXR1cm4geD09PXVuZGVmaW5lZCB8fCB4PT09bnVsbDtcbn1cblxuXG4vKiogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBleHBsaWNpdGx5IGBmYWxzZWAuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZT09PWZhbHNlIHx8IGVtcHR5KHZhbHVlKTtcbn1cblxuXG4vKiogQ29udmVydCBhIGhhc2htYXAgb2YgQ1NTIGNsYXNzZXMgdG8gYSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NOYW1lIHN0cmluZ1xuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IHByb3AgaW4gYykge1xuXHRcdGlmIChjW3Byb3BdKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0c3RyICs9IHByb3A7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG5cblxuLyoqIEp1c3QgYSBtZW1vaXplZCBTdHJpbmcjdG9Mb3dlckNhc2UgKi9cbmxldCBsY0NhY2hlID0ge307XG5leHBvcnQgY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuXG4gKlx0QHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xubGV0IHJlc29sdmVkID0gdHlwZW9mIFByb21pc2UhPT0ndW5kZWZpbmVkJyAmJiBQcm9taXNlLnJlc29sdmUoKTtcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IChmID0+IHsgcmVzb2x2ZWQudGhlbihmKTsgfSkgOiBzZXRUaW1lb3V0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZmFsc2V5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzaFRvQ2xhc3NOYW1lIH0gZnJvbSAnLi91dGlsJztcblxuXG5jb25zdCBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXG5cbi8qKiBKU1gvaHlwZXJzY3JpcHQgcmV2aXZlclxuICpcdEBzZWUgaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4XG4gKlx0QHB1YmxpY1xuICogIEBleGFtcGxlXG4gKiAgLyoqIEBqc3ggaCAqXFwvXG4gKiAgaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbiAqICByZW5kZXIoPHNwYW4+Zm9vPC9zcGFuPiwgZG9jdW1lbnQuYm9keSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdGxldCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGU7XG5cblxuXHRpZiAobGVuPjIpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHRcdGlmIChsZW49PT0zICYmIHR5cGUhPT0nb2JqZWN0JyAmJiB0eXBlIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbU3RyaW5nKGZpcnN0Q2hpbGQpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaT0yOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdGxldCBwID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoZmFsc2V5KHApKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHAuam9pbikgYXJyID0gcDtcblx0XHRcdFx0ZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gcDtcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPGFyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGxldCBjaGlsZCA9IGFycltqXSxcblx0XHRcdFx0XHRcdHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXSArPSBjaGlsZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0XHRcdFx0bGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikge1xuXHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHRcdFx0Ly8gbm9ybWFsaXplIGNsYXNzTmFtZSB0byBjbGFzcy5cblx0XHRcdGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0XHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0XHRcdGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5zdHlsZTtcblx0XHRcdC8vIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0Ly8gXHRhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVPYmpUb0NzcyhsYXN0U2ltcGxlKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cdH1cblxuXHRsZXQgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB1bmRlZmluZWQsIGNoaWxkcmVuKTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdHJldHVybiBwO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvaC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIHRvQXJyYXkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHJldHVybiBoKFxuXHRcdHZub2RlLm5vZGVOYW1lLFxuXHRcdGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLFxuXHRcdGFyZ3VtZW50cy5sZW5ndGg+MiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuXG5cdCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzXG4gKiovIiwiaW1wb3J0IHsgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBkZWx2ZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKiBDcmVhdGUgYW4gRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHNldHMgYSBnaXZlbiBzdGF0ZSBwcm9wZXJ0eS5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgY29tcG9uZW50IHdob3NlIHN0YXRlIHNob3VsZCBiZSB1cGRhdGVkXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0QSBkb3Qtbm90YXRlZCBrZXkgcGF0aCB0byB1cGRhdGUgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGV2ZW50UGF0aFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRXZlbnQgb3IgY29tcG9uZW50XG4gKlx0QHJldHVybnMge2Z1bmN0aW9ufSBsaW5rZWRTdGF0ZUhhbmRsZXJcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHRsZXQgcGF0aCA9IGtleS5zcGxpdCgnLicpLFxuXHRcdHAwID0gcGF0aFswXTtcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsXG5cdFx0XHRzID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdFx0b2JqID0gcyxcblx0XHRcdHYsIGk7XG5cdFx0aWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0XHRcdHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHRcdFx0aWYgKGVtcHR5KHYpICYmICh0PXQuX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0diA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0diA9IHQubm9kZU5hbWUgPyAoKHQubm9kZU5hbWUrdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlKSA6IGU7XG5cdFx0fVxuXHRcdGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHRcdGlmIChwYXRoLmxlbmd0aD4xKSB7XG5cdFx0XHRmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0b2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdFx0XHR9XG5cdFx0XHRvYmpbcGF0aFtpXV0gPSB2O1xuXHRcdFx0diA9IHNbcDBdO1xuXHRcdH1cblx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBbcDBdOiB2IH0pO1xuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzXG4gKiovIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNldEltbWVkaWF0ZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG4vLyBpdGVtcy9pdGVtc09mZmxpbmUgc3dhcCBvbiBlYWNoIHJlcmVuZGVyKCkgY2FsbCAoanVzdCBhIHNpbXBsZSBwb29sIHRlY2huaXF1ZSlcbmxldCBpdGVtcyA9IFtdLFxuXHRpdGVtc09mZmxpbmUgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmIChpdGVtcy5wdXNoKGNvbXBvbmVudCkhPT0xKSByZXR1cm47XG5cblx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHRpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG5cdGxldCBjdXJyZW50SXRlbXMgPSBpdGVtcyxcblx0XHRwO1xuXG5cdC8vIHN3YXAgb25saW5lICYgb2ZmbGluZVxuXHRpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0aXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXG5cdHdoaWxlICggKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpICkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSwgTk9OX0RJTUVOU0lPTl9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHRvTG93ZXJDYXNlLCBlbXB0eSwgZmFsc2V5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSAoZGF0YSB8fCB7fSkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7XG5cdHJldHVybiAwO1xufVxuXG5cbi8qKiBSZW1vdmVzIGEgZ2l2ZW4gRE9NIE5vZGUgZnJvbSBpdHMgcGFyZW50LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdFx0QW4gYXR0cmlidXRlIHZhbHVlLCBzdWNoIGFzIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyXG4gKlx0QHBhcmFtIHthbnl9IHByZXZpb3VzVmFsdWVcdFRoZSBsYXN0IHZhbHVlIHRoYXQgd2FzIHNldCBmb3IgdGhpcyBuYW1lL25vZGUgcGFpclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHRlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXG5cdGlmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdjaGlsZHJlbicpIHJldHVybjtcblxuXHRpZiAobmFtZT09PSdjbGFzcycgJiYgIWlzU3ZnKSB7XG5cdFx0bm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJztcblx0fVxuXHRlbHNlIGlmIChuYW1lPT09J3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlPT09J29iamVjdCcpIHtcblx0XHRcdGlmICghaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHR5cGVvZiB2YWx1ZVtpXT09PSdudW1iZXInICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gKHZhbHVlW2ldKydweCcpIDogdmFsdWVbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0fVxuXHRlbHNlIGlmIChuYW1lWzBdPT09J28nICYmIG5hbWVbMV09PT0nbicpIHtcblx0XHRsZXQgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHRcdG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAobFtuYW1lXSkge1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRsW25hbWVdID0gdmFsdWU7XG5cdH1cblx0ZWxzZSBpZiAobmFtZSE9PSd0eXBlJyAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdFx0c2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxldCBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7XG5cdFx0XHRlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0eXBlb2YgdmFsdWUhPT0nb2JqZWN0JyAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpO1xuXHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIEF0dGVtcHQgdG8gc2V0IGEgRE9NIHByb3BlcnR5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXHRJRSAmIEZGIHRocm93IGZvciBjZXJ0YWluIHByb3BlcnR5LXZhbHVlIGNvbWJpbmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0dHJ5IHtcblx0XHRub2RlW25hbWVdID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5cbi8qKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcbn1cblxuXG4vKiogR2V0IGEgbm9kZSdzIGF0dHJpYnV0ZXMgYXMgYSBoYXNobWFwLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdGxldCBhdHRycyA9IHt9O1xuXHRmb3IgKGxldCBpPW5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0YXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBhdHRycztcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0xvd2VyQ2FzZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXROb2RlVHlwZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIENoZWNrIGlmIHR3byBub2RlcyBhcmUgZXF1aXZhbGVudC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHRpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGdldE5vZGVUeXBlKG5vZGUpPT09Mztcblx0fVxuXHRpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpO1xuXHR9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZT09PW5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpPT09dG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xufVxuXG5cbi8qKlxuICogUmVjb25zdHJ1Y3QgQ29tcG9uZW50LXN0eWxlIGBwcm9wc2AgZnJvbSBhIFZOb2RlLlxuICogRW5zdXJlcyBkZWZhdWx0L2ZhbGxiYWNrIHZhbHVlcyBmcm9tIGBkZWZhdWx0UHJvcHNgOlxuICogT3duLXByb3BlcnRpZXMgb2YgYGRlZmF1bHRQcm9wc2Agbm90IHByZXNlbnQgaW4gYHZub2RlLmF0dHJpYnV0ZXNgIGFyZSBhZGRlZC5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdGxldCBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsXG5cdFx0cHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnN1cmVOb2RlRGF0YSwgZ2V0Tm9kZVR5cGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzLCByZW1vdmVOb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKiBET00gbm9kZSBwb29sLCBrZXllZCBvbiBub2RlTmFtZS4gKi9cblxuY29uc3Qgbm9kZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0Y2xlYW5Ob2RlKG5vZGUpO1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLFxuXHRcdGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTtcblx0ZWxzZSBub2Rlc1tuYW1lXSA9IFtub2RlXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0bGV0IG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksXG5cdFx0bm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdHJlbW92ZU5vZGUobm9kZSk7XG5cblx0aWYgKGdldE5vZGVUeXBlKG5vZGUpIT09MSkgcmV0dXJuO1xuXG5cdC8vIFdoZW4gcmVjbGFpbWluZyBleHRlcm5hbGx5IGNyZWF0ZWQgbm9kZXMsIHNlZWQgdGhlIGF0dHJpYnV0ZSBjYWNoZTogKElzc3VlICM5NylcblxuXHRlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cblx0bm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXG5cdC8vIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPjApIHtcblx0Ly8gXHRjb25zb2xlLnRyYWNlKGBXYXJuaW5nOiBSZWN5Y2xlciBjb2xsZWN0aW5nIDwke25vZGUubm9kZU5hbWV9PiB3aXRoICR7bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH0gY2hpbGRyZW4uYCk7XG5cdC8vIFx0Zm9yIChsZXQgaT1ub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpLS07ICkgY29sbGVjdE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0Ly8gfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgQVRUUl9LRVkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNTYW1lTm9kZVR5cGUsIGlzTmFtZWROb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgYnVpbGRDb21wb25lbnRGcm9tVk5vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzZXRBY2Nlc3NvciwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZU5vZGUsIGNvbGxlY3ROb2RlIH0gZnJvbSAnLi4vZG9tL3JlY3ljbGVyJztcbmltcG9ydCB7IHVubW91bnRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgY29uc3QgbW91bnRzID0gW107XG5cbi8qKiBEaWZmIHJlY3Vyc2lvbiBjb3VudCwgdXNlZCB0byB0cmFjayB0aGUgZW5kIG9mIHRoZSBkaWZmIGN5Y2xlLiAqL1xuZXhwb3J0IGxldCBkaWZmTGV2ZWwgPSAwO1xuXG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHRsZXQgYztcblx0d2hpbGUgKChjPW1vdW50cy5wb3AoKSkpIHtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cblxuLyoqIEFwcGx5IGRpZmZlcmVuY2VzIGluIGEgZ2l2ZW4gdm5vZGUgKGFuZCBpdCdzIGRlZXAgY2hpbGRyZW4pIHRvIGEgcmVhbCBET00gTm9kZS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IFtkb209bnVsbF1cdFx0QSBET00gbm9kZSB0byBtdXRhdGUgaW50byB0aGUgc2hhcGUgb2YgdGhlIGB2bm9kZWBcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRcdEEgVk5vZGUgKHdpdGggZGVzY2VuZGFudHMgZm9ybWluZyBhIHRyZWUpIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBET00gc3RydWN0dXJlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0XHRcdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ZGlmZkxldmVsKys7XG5cdGxldCByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUhPT1wYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHRpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXG5cdHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGVtcHR5KHZub2RlKSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0fVxuXG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRpZiAoZG9tKSB7XG5cdFx0XHRpZiAoZ2V0Tm9kZVR5cGUoZG9tKT09PTMgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aWYgKGRvbS5ub2RlVmFsdWUhPXZub2RlKSB7XG5cdFx0XHRcdFx0ZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkb207XG5cdFx0XHR9XG5cdFx0XHRjb2xsZWN0Tm9kZShkb20pO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHR9XG5cblx0bGV0IG91dCA9IGRvbSxcblx0XHRub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lLFxuXHRcdHN2Z01vZGU7XG5cblx0aWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSB7XG5cdFx0bm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHR9XG5cblx0c3ZnTW9kZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKT09PSdzdmcnO1xuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSB0cnVlO1xuXG5cdGlmICghZG9tKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0fVxuXHRlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHRcdC8vIG1vdmUgY2hpbGRyZW4gaW50byB0aGUgcmVwbGFjZW1lbnQgbm9kZVxuXHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHQvLyByZWNsYWltIGVsZW1lbnQgbm9kZXNcblx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHR9XG5cblx0Ly8gZmFzdC1wYXRoIGZvciBlbGVtZW50cyBjb250YWluaW5nIGEgc2luZ2xlIFRleHROb2RlOlxuXHRpZiAodm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoPT09MSAmJiB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF09PT0nc3RyaW5nJyAmJiBvdXQuY2hpbGROb2Rlcy5sZW5ndGg9PT0xICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkge1xuXHRcdG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdO1xuXHR9XG5cdGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSB7XG5cdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdH1cblxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikge1xuXHRcdChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdH1cblxuXHRpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gZmFsc2U7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiogQXBwbHkgY2hpbGQgYW5kIGF0dHJpYnV0ZSBjaGFuZ2VzIGJldHdlZW4gYSBWTm9kZSBhbmQgYSBET00gTm9kZSB0byB0aGUgRE9NLiAqL1xuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2Rlcyxcblx0XHRjaGlsZHJlbiA9IFtdLFxuXHRcdGtleWVkID0ge30sXG5cdFx0a2V5ZWRMZW4gPSAwLFxuXHRcdG1pbiA9IDAsXG5cdFx0bGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdFx0Y2hpbGRyZW5MZW4gPSAwLFxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCxcblx0XHRqLCBjLCB2Y2hpbGQsIGNoaWxkO1xuXG5cdGlmIChsZW4pIHtcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHRcdGtleSA9IHZsZW4gPyAoKGMgPSBjaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IGNoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwpIDogbnVsbDtcblx0XHRcdGlmIChrZXkgfHwga2V5PT09MCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gY2hpbGQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBjaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTx2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0Ly8gaWYgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpKSB7XG5cdFx0XHQvLyBcdHZjaGlsZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIGZpbmQgYSBub2RlIGJhc2VkIG9uIGtleSBtYXRjaGluZ1xuXHRcdFx0aWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xuXHRcdFx0XHRpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXG5cdFx0XHRpZiAoIWNoaWxkICYmIG1pbjxjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRmb3IgKGo9bWluOyBqPGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRjID0gY2hpbGRyZW5bal07XG5cdFx0XHRcdFx0aWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRpZiAoaj09PWNoaWxkcmVuTGVuLTEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRpZiAoaj09PW1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9ycGggdGhlIG1hdGNoZWQvZm91bmQvY3JlYXRlZCBET00gY2hpbGQgdG8gbWF0Y2ggdmNoaWxkIChkZWVwKVxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGlmIChjaGlsZCE9PW9yaWdpbmFsQ2hpbGRyZW5baV0pIHtcblx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGlmIChrZXllZExlbikge1xuXHRcdC8qZXNsaW50IGd1YXJkLWZvci1pbjowKi9cblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIHtcblx0XHRcdGNoaWxkcmVuW21pbj1jaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCBjaGlsZHJlblxuXHRpZiAobWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdH1cbn1cblxuXG4vKiogUmVjbGFpbSBjaGlsZHJlbiB0aGF0IHdlcmUgdW5yZWZlcmVuY2VkIGluIHRoZSBkZXNpcmVkIFZUcmVlICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0Zm9yIChsZXQgaT1jaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0bGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGFuIGVudGlyZSB0cmVlIG9mIG5vZGVzLCBzdGFydGluZyBhdCB0aGUgcm9vdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQvLyBAVE9ETzogTmVlZCB0byBtYWtlIGEgY2FsbCBvbiB3aGV0aGVyIFByZWFjdCBzaG91bGQgcmVtb3ZlIG5vZGVzIG5vdCBjcmVhdGVkIGJ5IGl0c2VsZi5cblx0Ly8gQ3VycmVudGx5IGl0ICpkb2VzKiByZW1vdmUgdGhlbS4gRGlzY3Vzc2lvbjogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvaXNzdWVzLzM5XG5cdC8vaWYgKCFub2RlW0FUVFJfS0VZXSkgcmV0dXJuO1xuXG5cdGxldCBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTtcblx0fVxuXHRlbHNlIHtcblx0XHRpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRpZiAoIXVubW91bnRPbmx5KSB7XG5cblx0XHRcdGNvbGxlY3ROb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYXR0cmlidXRlcyBmcm9tIGEgVk5vZGUgdG8gdGhlIGdpdmVuIERPTSBOb2RlLiAqL1xuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHRsZXQgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXG5cdC8vIHJlbW92ZUF0dHJpYnV0ZXMoZG9tLCBvbGQsIGF0dHJzIHx8IEVNUFRZKTtcblx0Zm9yIChsZXQgbmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIWF0dHJzIHx8ICEobmFtZSBpbiBhdHRycykpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgbnVsbCwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG5ldyAmIHVwZGF0ZWRcblx0aWYgKGF0dHJzKSB7XG5cdFx0Zm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuXHRcdFx0aWYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdIT0obmFtZT09PSd2YWx1ZScgfHwgbmFtZT09PSdzZWxlY3RlZCcgfHwgbmFtZT09PSdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpIHtcblx0XHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBhdHRyc1tuYW1lXSwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9kaWZmLmpzXG4gKiovIiwiLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG5jb25zdCBjb21wb25lbnRzID0ge307XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0bGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTtcblx0ZWxzZSBjb21wb25lbnRzW25hbWVdID0gW2NvbXBvbmVudF07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHRsZXQgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHRpZiAobGlzdCkge1xuXHRcdGZvciAobGV0IGk9bGlzdC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5jb25zdHJ1Y3Rvcj09PUN0b3IpIHtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdFx0XHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGluc3Q7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC1yZWN5Y2xlci5qc1xuICoqLyIsImltcG9ydCB7IFNZTkNfUkVOREVSLCBOT19SRU5ERVIsIEZPUkNFX1JFTkRFUiwgQVNZTkNfUkVOREVSLCBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGNsb25lLCBleHRlbmQsIGVtcHR5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyLXF1ZXVlJztcbmltcG9ydCB7IGdldE5vZGVQcm9wcyB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgZGlmZiwgbW91bnRzLCBkaWZmTGV2ZWwsIGZsdXNoTW91bnRzLCByZW1vdmVPcnBoYW5lZENoaWxkcmVuLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vZGlmZic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50LCBjb2xsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtcmVjeWNsZXInO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIE1hcmsgY29tcG9uZW50IGFzIGRpcnR5IGFuZCBxdWV1ZSB1cCBhIHJlbmRlci5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHRcdGNvbXBvbmVudC5fZGlydHkgPSB0cnVlO1xuXHRcdGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0fVxufVxuXG5cblxuLyoqIFNldCBhIGNvbXBvbmVudCdzIGBwcm9wc2AgKGdlbmVyYWxseSBkZXJpdmVkIGZyb20gSlNYIGF0dHJpYnV0ZXMpLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlclN5bmM9ZmFsc2VdXHRJZiBgdHJ1ZWAgYW5kIHtAbGluayBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzfSBpcyBgdHJ1ZWAsIHRyaWdnZXJzIHN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlcj10cnVlXVx0XHRcdElmIGBmYWxzZWAsIG5vIHJlbmRlciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBiID0gY29tcG9uZW50LmJhc2U7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGlmICgoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSkgZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9XG5cdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCE9PWNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cblx0aWYgKG9wdHMhPT1OT19SRU5ERVIpIHtcblx0XHRpZiAob3B0cz09PVNZTkNfUkVOREVSIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMhPT1mYWxzZSB8fCAhYikge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgU1lOQ19SRU5ERVIsIG1vdW50QWxsKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cblxuXG4vKiogUmVuZGVyIGEgQ29tcG9uZW50LCB0cmlnZ2VyaW5nIG5lY2Vzc2FyeSBsaWZlY3ljbGUgZXZlbnRzIGFuZCB0YWtpbmcgSGlnaC1PcmRlciBDb21wb25lbnRzIGludG8gYWNjb3VudC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYnVpbGQ9ZmFsc2VdXHRcdElmIGB0cnVlYCwgY29tcG9uZW50IHdpbGwgYnVpbGQgYW5kIHN0b3JlIGEgRE9NIG5vZGUgaWYgbm90IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIG9uZS5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXG5cdGxldCBza2lwLCByZW5kZXJlZCxcblx0XHRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcblx0XHRzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0XHRjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdFx0cHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsXG5cdFx0cHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdFx0cHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdFx0aXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSxcblx0XHRpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0XHRuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLFxuXHRcdGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLFxuXHRcdGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LFxuXHRcdGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyE9PUZPUkNFX1JFTkRFUlxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSBmYWxzZSkge1xuXHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cblx0XHQvLyBjb250ZXh0IHRvIHBhc3MgdG8gdGhlIGNoaWxkLCBjYW4gYmUgdXBkYXRlZCB2aWEgKGdyYW5kLSlwYXJlbnQgY29tcG9uZW50XG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHtcblx0XHRcdHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHRcdHRvVW5tb3VudCwgYmFzZTtcblxuXHRcdGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHQvLyBzZXQgdXAgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXG5cdFx0XHRsZXQgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCxcblx0XHRcdFx0Y2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3I9PT1jaGlsZENvbXBvbmVudCkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblx0XHRcdFx0aW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBOT19SRU5ERVIsIGNvbnRleHQpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgU1lOQ19SRU5ERVIpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHQvLyBkZXN0cm95IGhpZ2ggb3JkZXIgY29tcG9uZW50IGxpbmtcblx0XHRcdHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0XHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdFx0Y2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0aWFsQmFzZSB8fCBvcHRzPT09U1lOQ19SRU5ERVIpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlIT09aW5pdGlhbEJhc2UpIHtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UhPT1iYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0XHRcdGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQ9PT1jb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsIHRydWUpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSkge1xuXHRcdFx0bGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdFx0dCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICgodD10Ll9wYXJlbnRDb21wb25lbnQpKSB7IGNvbXBvbmVudFJlZiA9IHQ7IH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdFx0aWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdH1cblx0ZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0fVxuXG5cdGxldCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLCBmbjtcblx0aWYgKGNiKSB3aGlsZSAoIChmbiA9IGNiLnBvcCgpKSApIGZuLmNhbGwoY29tcG9uZW50KTtcblxuXHRyZXR1cm4gcmVuZGVyZWQ7XG59XG5cblxuXG4vKiogQXBwbHkgdGhlIENvbXBvbmVudCByZWZlcmVuY2VkIGJ5IGEgVk5vZGUgdG8gdGhlIERPTS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0VGhlIERPTSBub2RlIHRvIG11dGF0ZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIENvbXBvbmVudC1yZWZlcmVuY2luZyBWTm9kZVxuICpcdEByZXR1cm5zIHtFbGVtZW50fSBkb21cdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0XHRvbGREb20gPSBkb20sXG5cdFx0aXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lLFxuXHRcdGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHRcdHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGM9Yy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgQVNZTkNfUkVOREVSLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KGMsIHRydWUpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSE9PW9sZERvbSkge1xuXHRcdFx0b2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5cblxuLyoqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBET00gYW5kIHJlY3ljbGUgaXQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRBIERPTSBub2RlIGZyb20gd2hpY2ggdG8gdW5tb3VudCB0aGUgZ2l2ZW4gQ29tcG9uZW50XG4gKlx0QHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFx0VGhlIENvbXBvbmVudCBpbnN0YW5jZSB0byB1bm1vdW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0Ly8gY29uc29sZS5sb2coYCR7cmVtb3ZlPydSZW1vdmluZyc6J1VubW91bnRpbmcnfSBjb21wb25lbnQ6ICR7Y29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cdGxldCBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0Ly8gcmVjdXJzaXZlbHkgdGVhciBkb3duICYgcmVjb2xsZWN0IGhpZ2gtb3JkZXIgY29tcG9uZW50IGNoaWxkcmVuOlxuXHRsZXQgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0aWYgKGlubmVyKSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTtcblx0fVxuXHRlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBGT1JDRV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBleHRlbmQsIGNsb25lLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNyZWF0ZUxpbmtlZFN0YXRlIH0gZnJvbSAnLi9saW5rZWQtc3RhdGUnO1xuaW1wb3J0IHsgdHJpZ2dlckNvbXBvbmVudFJlbmRlciwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi92ZG9tL2NvbXBvbmVudCc7XG5cbi8qKiBCYXNlIENvbXBvbmVudCBjbGFzcywgZm9yIGhlIEVTNiBDbGFzcyBtZXRob2Qgb2YgY3JlYXRpbmcgQ29tcG9uZW50c1xuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHRjbGFzcyBNeUZvbyBleHRlbmRzIENvbXBvbmVudCB7XG4gKlx0XHRyZW5kZXIocHJvcHMsIHN0YXRlKSB7XG4gKlx0XHRcdHJldHVybiA8ZGl2IC8+O1xuICpcdFx0fVxuICpcdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQvKiogQHByaXZhdGUgKi9cblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xufVxuXG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFN0YXRlXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcblx0ICpcdEByZXR1cm5zIHtCb29sZWFufSBzaG91bGQgdGhlIGNvbXBvbmVudCByZS1yZW5kZXJcblx0ICpcdEBuYW1lIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKlx0QGZ1bmN0aW9uXG5cdCAqL1xuXHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdC8vIFx0cmV0dXJuIHRydWU7XG5cdC8vIH0sXG5cblxuXHQvKiogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIHN0YXRlIHByb3BlcnR5IHdoZW4gY2FsbGVkLlxuXHQgKlx0Q2FsbGluZyBsaW5rU3RhdGUoKSByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHJldHVybnMgYSBjYWNoZWQgbGluayBmdW5jdGlvbi5cblx0ICpcblx0ICpcdFByb3ZpZGVzIHNvbWUgYnVpbHQtaW4gc3BlY2lhbCBjYXNlczpcblx0ICpcdFx0LSBDaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGxpbmsgdGhlaXIgYm9vbGVhbiBgY2hlY2tlZGAgdmFsdWVcblx0ICpcdFx0LSBJbnB1dHMgYXV0b21hdGljYWxseSBsaW5rIHRoZWlyIGB2YWx1ZWAgcHJvcGVydHlcblx0ICpcdFx0LSBFdmVudCBwYXRocyBmYWxsIGJhY2sgdG8gYW55IGFzc29jaWF0ZWQgQ29tcG9uZW50IGlmIG5vdCBmb3VuZCBvbiBhbiBlbGVtZW50XG5cdCAqXHRcdC0gSWYgbGlua2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHdpbGwgaW52b2tlIGl0IGFuZCB1c2UgdGhlIHJlc3VsdFxuXHQgKlxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0VGhlIHBhdGggdG8gc2V0IC0gY2FuIGJlIGEgZG90LW5vdGF0ZWQgZGVlcCBrZXlcblx0ICpcdEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRQYXRoXVx0XHRJZiBzZXQsIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5ldyBzdGF0ZSB2YWx1ZSBhdCBhIGdpdmVuIGRvdC1ub3RhdGVkIHBhdGggd2l0aGluIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBsaW5rZWRTdGF0ZSBzZXR0ZXIuXG5cdCAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtTdGF0ZVNldHRlcihlKVxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgVXBkYXRlIGEgXCJ0ZXh0XCIgc3RhdGUgdmFsdWUgd2hlbiBhbiBpbnB1dCBjaGFuZ2VzOlxuXHQgKlx0XHQ8aW5wdXQgb25DaGFuZ2U9eyB0aGlzLmxpbmtTdGF0ZSgndGV4dCcpIH0gLz5cblx0ICpcblx0ICpcdEBleGFtcGxlIFNldCBhIGRlZXAgc3RhdGUgdmFsdWUgb24gY2xpY2tcblx0ICpcdFx0PGJ1dHRvbiBvbkNsaWNrPXsgdGhpcy5saW5rU3RhdGUoJ3RvdWNoLmNvb3JkcycsICd0b3VjaGVzLjAnKSB9PlRhcDwvYnV0dG9uXG5cdCAqL1xuXHRsaW5rU3RhdGUoa2V5LCBldmVudFBhdGgpIHtcblx0XHRsZXQgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLFxuXHRcdFx0Y2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdFx0cmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdH0sXG5cblxuXHQvKiogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBieSBjb3B5aW5nIHByb3BlcnRpZXMgZnJvbSBgc3RhdGVgIHRvIGB0aGlzLnN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG5cdCAqL1xuXHRzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRsZXQgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0XHRleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdFx0dHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0fSxcblxuXG5cdC8qKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqXHRAcHJpdmF0ZVxuXHQgKi9cblx0Zm9yY2VVcGRhdGUoKSB7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIEZPUkNFX1JFTkRFUik7XG5cdH0sXG5cblxuXHQvKiogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuXHQgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHByb3BzXHRcdFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50IGVsZW1lbnQvY29tcG9uZW50XG5cdCAqXHRAcGFyYW0ge29iamVjdH0gc3RhdGVcdFx0VGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG5cdCAqXHRAcmV0dXJucyBWTm9kZVxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzXG4gKiovIiwiLy8gcmVuZGVyIG1vZGVzXG5cbmV4cG9ydCBjb25zdCBOT19SRU5ERVIgPSAwO1xuZXhwb3J0IGNvbnN0IFNZTkNfUkVOREVSID0gMTtcbmV4cG9ydCBjb25zdCBGT1JDRV9SRU5ERVIgPSAyO1xuZXhwb3J0IGNvbnN0IEFTWU5DX1JFTkRFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IHt9O1xuXG5leHBvcnQgY29uc3QgQVRUUl9LRVkgPSB0eXBlb2YgU3ltYm9sIT09J3VuZGVmaW5lZCcgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHRib3hGbGV4OjEsIGJveEZsZXhHcm91cDoxLCBjb2x1bW5Db3VudDoxLCBmaWxsT3BhY2l0eToxLCBmbGV4OjEsIGZsZXhHcm93OjEsXG5cdGZsZXhQb3NpdGl2ZToxLCBmbGV4U2hyaW5rOjEsIGZsZXhOZWdhdGl2ZToxLCBmb250V2VpZ2h0OjEsIGxpbmVDbGFtcDoxLCBsaW5lSGVpZ2h0OjEsXG5cdG9wYWNpdHk6MSwgb3JkZXI6MSwgb3JwaGFuczoxLCBzdHJva2VPcGFjaXR5OjEsIHdpZG93czoxLCB6SW5kZXg6MSwgem9vbToxXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vdmRvbS9kaWZmJztcblxuLyoqIFJlbmRlciBKU1ggaW50byBhIGBwYXJlbnRgIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0QSAoSlNYKSBWTm9kZSB0byByZW5kZXJcbiAqXHRAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFx0XHRET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICpcdEBwYXJhbSB7RWxlbWVudH0gW21lcmdlXVx0QXR0ZW1wdCB0byByZS11c2UgYW4gZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGBtZXJnZWBcbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgZGl2IGludG8gPGJvZHk+OlxuICpcdHJlbmRlcig8ZGl2IGlkPVwiaGVsbG9cIj5oZWxsbyE8L2Rpdj4sIGRvY3VtZW50LmJvZHkpO1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdC8vIHJlbmRlciBhIFwiVGhpbmdcIiBjb21wb25lbnQgaW50byAjZm9vOlxuICpcdGNvbnN0IFRoaW5nID0gKHsgbmFtZSB9KSA9PiA8c3Bhbj57IG5hbWUgfTwvc3Bhbj47XG4gKlx0cmVuZGVyKDxUaGluZyBuYW1lPVwib25lXCIgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb28nKSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0cmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXIuanNcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbn0gKCkpXG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VycyA9IHJlcXVpcmUoJy4vY29tYmluZVJlZHVjZXJzJyk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzID0gcmVxdWlyZSgnLi9iaW5kQWN0aW9uQ3JlYXRvcnMnKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL2FwcGx5TWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLypcbiogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4qL1xuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbaW5pdGlhbFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUoJy4vX2lzSG9zdE9iamVjdCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhuYXRpdmVHZXRQcm90b3R5cGUsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fb3ZlckFyZy5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanNcbiAqKiBtb2R1bGUgaWQgPSA1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbWJpbmVSZWR1Y2VycztcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcblxuICByZXR1cm4gJ0dpdmVuIGFjdGlvbiAnICsgYWN0aW9uTmFtZSArICcsIHJlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gJyArICdUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJztcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiB0eXBlIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgc2FuaXR5RXJyb3I7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNhbml0eUVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY29tYmluZVJlZHVjZXJzLmpzXG4gKiogbW9kdWxlIGlkID0gNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL3V0aWxzL3dhcm5pbmcuanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYmluZEFjdGlvbkNyZWF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBhcHBseU1pZGRsZXdhcmU7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgdmFyIGNoYWluID0gW107XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2NvbXBvc2UuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5pbXBvcnQgeyBBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4LXVuZG8nO1xuaW1wb3J0IEN1cnZlRWRpdG9yUmlnaHQgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItcmlnaHQnO1xuaW1wb3J0IEN1cnZlRWRpdG9yTGVmdCAgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItbGVmdCc7XG5pbXBvcnQgQ29kZVBhbmVsIGZyb20gJy4vY29kZS1wYW5lbCc7XG5pbXBvcnQgSWNvbnMgZnJvbSAnLi9pY29ucyc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvcicpO1xuXG5jbGFzcyBDdXJ2ZUVkaXRvciBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBzdGF0ZSAgID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBzdHlsZSAgID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpLFxuICAgICAgICAgIHAgICAgICAgPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuICAoIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3InXX0gc3R5bGU9eyBzdHlsZSB9PlxuICAgICAgICAgICAgICAgIDxJY29ucyAvPlxuICAgICAgICAgICAgICAgIDxDb2RlUGFuZWwgc3RhdGU9eyBzdGF0ZSB9Lz5cbiAgICAgICAgICAgICAgICA8Q3VydmVFZGl0b3JMZWZ0IHN0YXRlPXsgc3RhdGUgfSAvPlxuICAgICAgICAgICAgICAgIDxDdXJ2ZUVkaXRvclJpZ2h0IHN0YXRlPXsgc3RhdGUgfSBwcm9ncmVzc0xpbmVzPXtwLnByb2dyZXNzTGluZXN9IC8+XG4gICAgICAgICAgICAgIDwvZGl2Pik7XG4gIH1cblxuICBfZ2V0U3R5bGUgKHN0YXRlKSB7XG4gICAgY29uc3QgWF9TSVpFICAgID0gQy5DVVJWRV9TSVpFICsgNTMsXG4gICAgICAgICAgWV9TSVpFICAgID0gQy5DVVJWRV9TSVpFICsgMipDLkNVUlZFX1BBRERJTkcsXG4gICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGU7XG4gICAgbGV0IHt0ZW1wX3RvcCwgdGVtcF9ib3R0b20sIHRlbXBfcmlnaHQsIHRyYW5zbGF0ZX0gPSByZXNpemU7XG5cbiAgICB0ZW1wX3RvcCAgICArPSByZXNpemUudG9wO1xuICAgIHRlbXBfYm90dG9tICs9IHJlc2l6ZS5ib3R0b207XG4gICAgdGVtcF9yaWdodCAgKz0gcmVzaXplLnJpZ2h0O1xuXG4gICAgLy8gY29uc3RyYWluIG1pbiBoZWlnaHRcbiAgICBpZiAoWV9TSVpFIC0gdGVtcF90b3AgPCBZX1NJWkUpIHsgdGVtcF90b3AgPSAwOyB9XG4gICAgaWYgKFlfU0laRSArIHRlbXBfYm90dG9tIDwgWV9TSVpFKSB7IHRlbXBfYm90dG9tID0gMDsgfVxuICAgIGlmIChYX1NJWkUgKyB0ZW1wX3JpZ2h0IDwgWF9TSVpFKSB7IHRlbXBfcmlnaHQgPSAwOyB9XG5cbiAgICB0ZW1wX3RvcCAgICA9IG1vZCggdGVtcF90b3AsIC0xICk7XG4gICAgdGVtcF9ib3R0b20gPSBtb2QoIHRlbXBfYm90dG9tICk7XG5cbiAgICBjb25zdCBoZWlnaHQgPSBgaGVpZ2h0OiAke1lfU0laRSAtIHRlbXBfdG9wICsgdGVtcF9ib3R0b219cHhgLFxuICAgICAgICAgIHdpZHRoICA9IGB3aWR0aDogJHtYX1NJWkUgKyB0ZW1wX3JpZ2h0fXB4YCxcbiAgICAgICAgICB4ID0gcmVzaXplLnggKyByZXNpemUudGVtcFgsXG4gICAgICAgICAgeSA9IHJlc2l6ZS55ICsgcmVzaXplLnRlbXBZLFxuICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3h9cHgsICR7eSArIHRlbXBfdG9wfXB4KWA7XG5cbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2Zvcm19OyAke3RyYW5zZm9ybX07ICR7d2lkdGh9OyAke2hlaWdodH07YDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1sZWZ0LXBhbmVsJyksXG4gICAgICAgICAgbWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWwpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEUnLCBkYXRhOiB7IHgsIHkgfSB9KTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeCwgeSB9IH0pXG4gICAgICB9KVxuICAgICAgLy8gLm9uKCd0YXAnLCAoZSkgPT4geyBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pOyB9KTtcblxuICAgIHRoaXMuX2FkZEtleVVwKCk7XG4gICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfYWRkS2V5VXAgKCkgeyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uS2V5VXAuYmluZCh0aGlzKSk7IH1cblxuICBfb25LZXlVcCAoZSkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG4gICAgaWYgKCAhZS5hbHRLZXkgKSB7IHJldHVybjsgfVxuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSA5MDogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMudW5kbygpKTsgfVxuICAgICAgY2FzZSA4ODogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMucmVkbygpKTsgfVxuICAgICAgY2FzZSA2ODogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVMRVRFJyB9KTsgfVxuICAgIH1cbiAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3I7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4gKiogbW9kdWxlIGlkID0gNjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA3MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA3NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGRlc2NyaXB0b3IgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4gKiogbW9kdWxlIGlkID0gODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbiAqKiBtb2R1bGUgaWQgPSA4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDg2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbiAqKiBtb2R1bGUgaWQgPSA5MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbiAqKiBtb2R1bGUgaWQgPSA5MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanNcbiAqKiBtb2R1bGUgaWQgPSA5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgTUVUQSAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCB3a3NEZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fa2V5b2YnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJylcbiAgLCBpc0FycmF5ICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBfY3JlYXRlICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGdPUE5FeHQgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0JylcbiAgLCAkR09QRCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCAkRFAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGtleXMgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG4gICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cbiAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgaXQgID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighVVNFX05BVElWRSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuZm9yKHZhciBzeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblxuZm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIGlmKGlzU3ltYm9sKGtleSkpcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF1cbiAgICAgICwgaSAgICA9IDFcbiAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICBpZigkcmVwbGFjZXIpdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4gKiogbW9kdWxlIGlkID0gOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBNRVRBICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJylcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgaGFzICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHNldERlc2MgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGlkICAgICAgID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcbiAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfX0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG4gIGlmKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSlzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogICAgICBNRVRBLFxuICBORUVEOiAgICAgZmFsc2UsXG4gIGZhc3RLZXk6ICBmYXN0S2V5LFxuICBnZXRXZWFrOiAgZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4gKiogbW9kdWxlIGlkID0gOTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gOTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRLZXlzICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanNcbiAqKiBtb2R1bGUgaWQgPSA5N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSBwSUUuZlxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDk4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDk5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbiAqKiBtb2R1bGUgaWQgPSAxMDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBwSUUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gMTA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXR9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzXG4gKiogbW9kdWxlIGlkID0gMTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlJyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmNvbnN0IENVUlZFX1NJWkUgPSAzNTA7XG5leHBvcnQgZGVmYXVsdCB7XG4gIENVUlZFX1NJWkUsXG4gIENVUlZFX1BFUkNFTlQ6IENVUlZFX1NJWkUvMTAwLFxuICBDVVJWRV9QQURESU5HOiAxMFxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2NvbnN0YW50cy5iYWJlbC5qc1xuICoqLyIsIi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG52YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbnZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBub3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG4gKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gKiBAcGFyYW0ge1N0cmluZ30gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcbiAgICAgICAgaWYgKGxvZykge1xuICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gKi9cbnZhciBhc3NpZ247XG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xufSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcbiAgICAgICAgY2hpbGRQO1xuXG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cbiAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG4gKiBAcGFyYW0geyp9IHZhbDFcbiAqIEBwYXJhbSB7Kn0gdmFsMlxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcbiAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcbn1cblxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcbiAqIEBtZXRob2QgaGFzUGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG59XG5cbi8qKlxuICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAqL1xuZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICogQHBhcmFtIHtBcnJheX0gc3JjXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xufVxuXG4vKipcbiAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gKi9cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICovXG5mdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeCwgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIGdldCBhIHVuaXF1ZSBpZFxuICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcbiAqL1xudmFyIF91bmlxdWVJZCA9IDE7XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG59XG5cbi8qKlxuICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xufVxuXG52YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXG52YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xudmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xudmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbnZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xudmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xudmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cbnZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cbnZhciBJTlBVVF9TVEFSVCA9IDE7XG52YXIgSU5QVVRfTU9WRSA9IDI7XG52YXIgSU5QVVRfRU5EID0gNDtcbnZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXG52YXIgRElSRUNUSU9OX05PTkUgPSAxO1xudmFyIERJUkVDVElPTl9MRUZUID0gMjtcbnZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xudmFyIERJUkVDVElPTl9VUCA9IDg7XG52YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblxudmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG52YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG52YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXG52YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xudmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cbiAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG4gICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuSW5wdXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICogQHJldHVybnMge0lucHV0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTtcbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG59XG5cbi8qKlxuICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG4gICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXG4gICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblxuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG59XG5cbi8qKlxuICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblxuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblxuICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXG4gICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG4gICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblxuICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cbiAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuICAgIH1cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcbiAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG4gICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICAgIH07XG5cbiAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICAgICAgeTogY2VudGVyLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbn1cblxuLyoqXG4gKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcbiAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG4gICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG4gICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblxuICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cbiAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcbiAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcbiAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG4gICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YW1wOiBub3coKSxcbiAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG4gICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG4gKi9cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHAxXG4gKiBAcGFyYW0ge09iamVjdH0gcDJcbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxudmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbn07XG5cbnZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXG4vKipcbiAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXG4gICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG59O1xuXG4vLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxudmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxufTtcblxudmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbi8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuaWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG4gICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcbn1cblxuLyoqXG4gKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xufVxuXG5pbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcbiAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG52YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG4gICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cbiAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcbn1cblxudmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG4gICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cbiAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuICAgIH1cblxuICAgIHZhciBpLFxuICAgICAgICB0YXJnZXRUb3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcbiAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb2xsZWN0IHRvdWNoZXNcbiAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcbiAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuICAgIF07XG59XG5cbi8qKlxuICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG4gKlxuICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG4gKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5cbnZhciBERURVUF9USU1FT1VUID0gMjUwMDtcbnZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG5mdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG4gICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG4gICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cbiAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xufVxuXG5pbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG4gICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG4gICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG52YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4vLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG52YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG52YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG52YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcbnZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG52YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblxuLyoqXG4gKiBUb3VjaCBBY3Rpb25cbiAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLnNldCh2YWx1ZSk7XG59XG5cblRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG4gICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICAgIGlmIChoYXNOb25lKSB7XG4gICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXG4gICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cbiAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOb25lIHx8XG4gICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuICAgICAqL1xuICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuICAgIC8vIG5vbmVcbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXG4gICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG4gICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG4gICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG4gICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICAvLyBwYW4teCBPUiBwYW4teVxuICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfVxuXG4gICAgLy8gbWFuaXB1bGF0aW9uXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcbiAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdG91Y2hNYXAgPSB7fTtcbiAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG4gICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblxuICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcbiAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hNYXA7XG59XG5cbi8qKlxuICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG4gKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAqXG4gKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG4gKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICpcbiAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cbiAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gKlxuICogICAgICAgICAgICAgICBQb3NzaWJsZVxuICogICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAqL1xudmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbnZhciBTVEFURV9CRUdBTiA9IDI7XG52YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG52YXIgU1RBVEVfRU5ERUQgPSA4O1xudmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbnZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcbnZhciBTVEFURV9GQUlMRUQgPSAzMjtcblxuLyoqXG4gKiBSZWNvZ25pemVyXG4gKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblxuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cbiAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXG4gICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG59XG5cblJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBkZWZhdWx0czoge30sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcbiAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcbiAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG4gICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcbiAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG4gICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cbiAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG4gICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cbiAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG4gICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cbn07XG5cbi8qKlxuICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcbiAqL1xuZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcbiAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcbiAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcbiAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG4gICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG4gICAgfVxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG59XG5cbi8qKlxuICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG4gICAgICovXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cbiAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cbiAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQYW5cbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucFggPSBudWxsO1xuICAgIHRoaXMucFkgPSBudWxsO1xufVxuXG5pbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfSxcblxuICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cbiAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXG4gICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBpbmNoXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGluY2gnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUHJlc3NcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xufVxuXG5pbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJvdGF0ZVxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfVxufSk7XG5cbi8qKlxuICogU3dpcGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcbiAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcbiAqIGEgc2luZ2xlIHRhcC5cbiAqXG4gKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2ZcbiAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcbiAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xufVxuXG5pbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblxuICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cbiAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG4gICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5IYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cbi8qKlxuICogZGVmYXVsdCBzZXR0aW5nc1xuICogQG5hbWVzcGFjZVxuICovXG5IYW1tZXIuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGRlZmF1bHQgY29tcHV0ZVxuICAgICAqL1xuICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dENsYXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgcHJlc2V0OiBbXG4gICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcbiAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcbiAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcbiAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICovXG4gICAgY3NzUHJvcHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG4gICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAgICovXG4gICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcbiAgICB9XG59O1xuXG52YXIgU1RPUCA9IDE7XG52YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXG4vKipcbiAqIE1hbmFnZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cbiAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblxuICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG4gICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG4gICAgfSwgdGhpcyk7XG59XG5cbk1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG4gICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblxuICAgICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblxuICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG4gICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG4gICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG4gICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblxuICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcbiAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcbiAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXG4gICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG4gICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcbiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICovXG5mdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvcDtcbiAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiB0cmlnZ2VyIGRvbSBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcbn1cblxuYXNzaWduKEhhbW1lciwge1xuICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcbiAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXG4gICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcbiAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcbiAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXG4gICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cbiAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuICAgIElucHV0OiBJbnB1dCxcbiAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cbiAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG4gICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cbiAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcbiAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG4gICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG4gICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcbiAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG4gICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblxuICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcbiAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGluaGVyaXQ6IGluaGVyaXQsXG4gICAgYmluZEZuOiBiaW5kRm4sXG4gICAgcHJlZml4ZWQ6IHByZWZpeGVkXG59KTtcblxuLy8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcbi8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxudmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIYW1tZXI7XG4gICAgfSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcbn0gZWxzZSB7XG4gICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9oYW1tZXJqcy9oYW1tZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICB3aW5kb3cucHJvcGFnYXRpbmcgPSBmYWN0b3J5KCk7XG4gIH1cbn0oZnVuY3Rpb24gKCkge1xuICB2YXIgX2ZpcnN0VGFyZ2V0ID0gbnVsbDsgLy8gc2luZ2xldG9uLCB3aWxsIGNvbnRhaW4gdGhlIHRhcmdldCBlbGVtZW50IHdoZXJlIHRoZSB0b3VjaCBldmVudCBzdGFydGVkXG5cbiAgLyoqXG4gICAqIEV4dGVuZCBhbiBIYW1tZXIuanMgaW5zdGFuY2Ugd2l0aCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICpcbiAgICogRmVhdHVyZXM6XG4gICAqIC0gRXZlbnRzIGVtaXR0ZWQgYnkgaGFtbWVyIHdpbGwgcHJvcGFnYXRlIGluIG9yZGVyIGZyb20gY2hpbGQgdG8gcGFyZW50XG4gICAqICAgZWxlbWVudHMuXG4gICAqIC0gRXZlbnRzIGFyZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gYGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpYCB0byBzdG9wXG4gICAqICAgcHJvcGFnYXRpb24gdG8gcGFyZW50IGVsZW1lbnRzLlxuICAgKiAtIEFuIG9wdGlvbiBgcHJldmVudERlZmF1bHRgIHRvIHN0b3AgYWxsIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCkpO1xuICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpLCB7cHJldmVudERlZmF1bHQ6IHRydWV9KTtcbiAgICpcbiAgICogQHBhcmFtIHtIYW1tZXIuTWFuYWdlcn0gaGFtbWVyICAgQW4gaGFtbWVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBgcHJldmVudERlZmF1bHQ6IHRydWUgfCBmYWxzZSB8ICdtb3VzZScgfCAndG91Y2gnIHwgJ3BlbidgLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZm9yY2UgcHJldmVudGluZyB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBiZSBzZXQgdG8gYGZhbHNlYC5cbiAgICogQHJldHVybiB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIHNhbWUgaGFtbWVyIGluc3RhbmNlIHdpdGggZXh0ZW5kZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBwcm9wYWdhdGluZyhoYW1tZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zIHx8IHtcbiAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZVxuICAgIH07XG5cbiAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHtcbiAgICAgIC8vIFRoaXMgbG9va3MgbGlrZSB0aGUgSGFtbWVyIGNvbnN0cnVjdG9yLlxuICAgICAgLy8gT3ZlcmxvYWQgdGhlIGNvbnN0cnVjdG9ycyB3aXRoIG91ciBvd24uXG4gICAgICB2YXIgSGFtbWVyID0gaGFtbWVyO1xuXG4gICAgICB2YXIgUHJvcGFnYXRpbmdIYW1tZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lcihlbGVtZW50LCBvKSwgbyk7XG4gICAgICB9O1xuICAgICAgSGFtbWVyLmFzc2lnbihQcm9wYWdhdGluZ0hhbW1lciwgSGFtbWVyKTtcblxuICAgICAgUHJvcGFnYXRpbmdIYW1tZXIuTWFuYWdlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsZW1lbnQsIG8pLCBvKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBmdW5jdGlvbnNcbiAgICAvLyBgb25gLCBgb2ZmYCwgYGRlc3Ryb3lgLCBhbmQgYGVtaXRgIG9mIHRoZSBoYW1tZXIgaW5zdGFuY2VcbiAgICB2YXIgd3JhcHBlciA9IE9iamVjdC5jcmVhdGUoaGFtbWVyKTtcblxuICAgIC8vIGF0dGFjaCB0byBET00gZWxlbWVudFxuICAgIHZhciBlbGVtZW50ID0gaGFtbWVyLmVsZW1lbnQ7XG5cbiAgICBpZighZWxlbWVudC5oYW1tZXIpIGVsZW1lbnQuaGFtbWVyID0gW107XG4gICAgZWxlbWVudC5oYW1tZXIucHVzaCh3cmFwcGVyKTtcblxuICAgIC8vIHJlZ2lzdGVyIGFuIGV2ZW50IHRvIGNhdGNoIHRoZSBzdGFydCBvZiBhIGdlc3R1cmUgYW5kIHN0b3JlIHRoZVxuICAgIC8vIHRhcmdldCBpbiBhIHNpbmdsZXRvblxuICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IHRydWUgfHwgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSBldmVudC5wb2ludGVyVHlwZSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5pc0ZpcnN0KSB7XG4gICAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIEFycmF5LjxmdW5jdGlvbj4+fSAqL1xuICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayBmdW5jdGlvbiwgY2FsbGVkIGFzIGhhbmRsZXIoZXZlbnQpXG4gICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2VcbiAgICAgKi9cbiAgICB3cmFwcGVyLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgLy8gcmVnaXN0ZXIgdGhlIGhhbmRsZXJcbiAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgaWYgKCFfaGFuZGxlcnMpIHtcbiAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnMgPSBbXTtcblxuICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuICAgICAgICAgIGhhbW1lci5vbihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIF9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gT3B0aW9uYWwuIFRoZSByZWdpc3RlcmVkIGhhbmRsZXIuIElmIG5vdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCwgYWxsIGhhbmRsZXJzIGZvciBnaXZlbiBldmVudHNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHJlbW92ZWQuXG4gICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSAgIFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyYXBwZXIub2ZmID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgLy8gdW5yZWdpc3RlciB0aGUgaGFuZGxlclxuICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICBpZiAoX2hhbmRsZXJzKSB7XG4gICAgICAgICAgX2hhbmRsZXJzID0gaGFuZGxlciA/IF9oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuICAgICAgICAgIH0pIDogW107XG5cbiAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcbiAgICAgICAgICAgIGhhbW1lci5vZmYoZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqL1xuICAgIHdyYXBwZXIuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZlbnQpIHtcbiAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGhhbW1lci5lbWl0KGV2ZW50VHlwZSwgZXZlbnQpO1xuICAgIH07XG5cbiAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBEZXRhY2ggZnJvbSBET00gZWxlbWVudFxuICAgICAgdmFyIGhhbW1lcnMgPSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG4gICAgICB2YXIgaWR4ID0gaGFtbWVycy5pbmRleE9mKHdyYXBwZXIpO1xuICAgICAgaWYoaWR4ICE9PSAtMSkgaGFtbWVycy5zcGxpY2UoaWR4LDEpO1xuICAgICAgaWYoIWhhbW1lcnMubGVuZ3RoKSBkZWxldGUgaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXG4gICAgICAvLyBjbGVhciBhbGwgaGFuZGxlcnNcbiAgICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cbiAgICAgIC8vIGNhbGwgb3JpZ2luYWwgaGFtbWVyIGRlc3Ryb3lcbiAgICAgIGhhbW1lci5kZXN0cm95KCk7XG4gICAgfTtcblxuICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggc3BhY2Ugc2VwYXJhdGVkIHdvcmRzXG4gICAgZnVuY3Rpb24gc3BsaXQoZXZlbnRzKSB7XG4gICAgICByZXR1cm4gZXZlbnRzLm1hdGNoKC9bXiBdKy9nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBldmVudCBoYW5kbGVyLCBhcHBseWluZyBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVkSGFuZGxlcihldmVudCkge1xuICAgICAgLy8gbGV0IG9ubHkgYSBzaW5nbGUgaGFtbWVyIGluc3RhbmNlIGhhbmRsZSB0aGlzIGV2ZW50XG4gICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2hhbW1lci5pbnB1dCcpIHtcbiAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgc2FtZSBzcmNFdmVudCBpcyB1c2VkIHdpdGggbXVsdGlwbGUgaGFtbWVyIGV2ZW50cyxcbiAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvbiB3aGljaCBldmVudHMgYXJlIGhhbmRsZWQgaW4gYW4gb2JqZWN0IF9oYW5kbGVkXG4gICAgICAgIGlmICghZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQpIHtcbiAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggYSBzdG9wUHJvcGFnYXRpb24gZnVuY3Rpb24gdG8gdGhlIGV2ZW50XG4gICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vd3JhcCB0aGUgc3JjRXZlbnQncyBzdG9wUHJvcGFnYXRpb24gdG8gYWxzbyBzdG9wIGhhbW1lciBwcm9wYWdhdGlvbjpcbiAgICAgIHZhciBzcmNTdG9wID0gZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uLmJpbmQoZXZlbnQuc3JjRXZlbnQpO1xuICAgICAgaWYodHlwZW9mIHNyY1N0b3AgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc3JjU3RvcCgpO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBmaXJzdFRhcmdldCBwcm9wZXJ0eSB0byB0aGUgZXZlbnRcbiAgICAgIGV2ZW50LmZpcnN0VGFyZ2V0ID0gX2ZpcnN0VGFyZ2V0O1xuXG4gICAgICAvLyBwcm9wYWdhdGUgb3ZlciBhbGwgZWxlbWVudHMgKHVudGlsIHN0b3BwZWQpXG4gICAgICB2YXIgZWxlbSA9IF9maXJzdFRhcmdldDtcbiAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7XG4gICAgICAgIHZhciBlbGVtSGFtbWVyID0gZWxlbS5oYW1tZXI7XG4gICAgICAgIGlmKGVsZW1IYW1tZXIpe1xuICAgICAgICAgIHZhciBfaGFuZGxlcnM7XG4gICAgICAgICAgZm9yKHZhciBrID0gMDsgayA8IGVsZW1IYW1tZXIubGVuZ3RoOyBrKyspe1xuICAgICAgICAgICAgX2hhbmRsZXJzID0gZWxlbUhhbW1lcltrXS5faGFuZGxlcnNbZXZlbnQudHlwZV07XG4gICAgICAgICAgICBpZihfaGFuZGxlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgX2hhbmRsZXJzLmxlbmd0aCAmJiAhc3RvcHBlZDsgaSsrKSB7XG4gICAgICAgICAgICAgIF9oYW5kbGVyc1tpXShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH07XG59KSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9wYWdhdGluZy1oYW1tZXJqcy9wcm9wYWdhdGluZy5qc1xuICoqIG1vZHVsZSBpZCA9IDExNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLnBhcnNlQWN0aW9ucyA9IHBhcnNlQWN0aW9ucztcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuZXhwb3J0cy5kaXN0aW5jdFN0YXRlID0gZGlzdGluY3RTdGF0ZTtcbmV4cG9ydHMuaW5jbHVkZUFjdGlvbiA9IGluY2x1ZGVBY3Rpb247XG5leHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5leHBvcnRzLmV4Y2x1ZGVBY3Rpb24gPSBleGNsdWRlQWN0aW9uO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLy8gZGVidWcgb3V0cHV0XG52YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZGVidWcoKSB7XG4gIGlmIChfX0RFQlVHX18pIHtcbiAgICB2YXIgX2NvbnNvbGU7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgIH1cbiAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHZhciBhcmdzID0gWydhY3Rpb24nLCBhY3Rpb24udHlwZV07XG4gICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIHZhciBfY29uc29sZTI7XG5cbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmdyb3VwQ29sbGFwc2VkLmFwcGx5KF9jb25zb2xlMiwgYXJncyk7XG4gICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQnLCB7IHN0YXRlOiBzdGF0ZSwgYWN0aW9uOiBhY3Rpb24gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z0VuZCgpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHJldHVybiBjb25zb2xlLmdyb3VwRW5kICYmIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufVxuLy8gL2RlYnVnIG91dHB1dFxuXG4vLyBhY3Rpb24gdHlwZXNcbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIFVORE86ICdAQHJlZHV4LXVuZG8vVU5ETycsXG4gIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG4gIEpVTVBfVE9fRlVUVVJFOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fRlVUVVJFJyxcbiAgSlVNUF9UT19QQVNUOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fUEFTVCdcbn07XG4vLyAvYWN0aW9uIHR5cGVzXG5cbi8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG52YXIgQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLkFjdGlvbkNyZWF0b3JzID0ge1xuICB1bmRvOiBmdW5jdGlvbiB1bmRvKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcbiAgfSxcbiAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG4gIH0sXG4gIGp1bXBUb0Z1dHVyZTogZnVuY3Rpb24ganVtcFRvRnV0dXJlKGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuICB9LFxuICBqdW1wVG9QYXN0OiBmdW5jdGlvbiBqdW1wVG9QYXN0KGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcbiAgfVxufTtcbi8vIC9hY3Rpb24gY3JlYXRvcnNcblxuLy8gbGVuZ3RoOiBnZXQgbGVuZ3RoIG9mIGhpc3RvcnlcbmZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cbiAgcmV0dXJuIHBhc3QubGVuZ3RoICsgMSArIGZ1dHVyZS5sZW5ndGg7XG59XG4vLyAvbGVuZ3RoXG5cbi8vIGluc2VydDogaW5zZXJ0IGBzdGF0ZWAgaW50byBoaXN0b3J5LCB3aGljaCBtZWFucyBhZGRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbi8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuLy8gICAgICAgICB0aGUgYGZ1dHVyZWAuXG5mdW5jdGlvbiBpbnNlcnQoaGlzdG9yeSwgc3RhdGUsIGxpbWl0KSB7XG4gIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXG4gIHZhciBoaXN0b3J5T3ZlcmZsb3cgPSBsaW1pdCAmJiBsZW5ndGgoaGlzdG9yeSkgPj0gbGltaXQ7XG5cbiAgaWYgKHByZXNlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGluaXQgaGlzdG9yeVxuICAgIHJldHVybiB7XG4gICAgICBwYXN0OiBbXSxcbiAgICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgICAgZnV0dXJlOiBbXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdC5zbGljZShoaXN0b3J5T3ZlcmZsb3cgPyAxIDogMCkpLCBbcHJlc2VudF0pLFxuICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgIGZ1dHVyZTogW11cbiAgfTtcbn1cbi8vIC9pbnNlcnRcblxuLy8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuZnVuY3Rpb24gdW5kbyhoaXN0b3J5KSB7XG4gIGRlYnVnKCd1bmRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXG4gIHJldHVybiB7XG4gICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuICAgIHByZXNlbnQ6IHBhc3RbcGFzdC5sZW5ndGggLSAxXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBmdXR1cmU6IFtwcmVzZW50XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZ1dHVyZSkpXG4gIH07XG59XG4vLyAvdW5kb1xuXG4vLyByZWRvOiBnbyB0byB0aGUgbmV4dCBwb2ludCBpbiBoaXN0b3J5XG5mdW5jdGlvbiByZWRvKGhpc3RvcnkpIHtcbiAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICBpZiAoZnV0dXJlLmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKDEsIGZ1dHVyZS5sZW5ndGgpLCAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGZ1dHVyZVxuICAgIHByZXNlbnQ6IGZ1dHVyZVswXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcbiAgICBdKVxuICB9O1xufVxuLy8gL3JlZG9cblxuLy8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuZnVuY3Rpb24ganVtcFRvRnV0dXJlKGhpc3RvcnksIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuIHJlZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKGluZGV4ICsgMSksXG4gICAgcHJlc2VudDogZnV0dXJlW2luZGV4XSxcbiAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuICB9O1xufVxuLy8gL2p1bXBUb0Z1dHVyZVxuXG4vLyBqdW1wVG9QYXN0OiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBwYXN0IGhpc3RvcnlcbmZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSBoaXN0b3J5LnBhc3QubGVuZ3RoIC0gMSkgcmV0dXJuIHVuZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuICAgIHByZXNlbnQ6IHBhc3RbaW5kZXhdLFxuICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgaW5kZXgpXG4gIH07XG59XG4vLyAvanVtcFRvUGFzdFxuXG4vLyB3cmFwU3RhdGU6IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byAwLjRcbmZ1bmN0aW9uIHdyYXBTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgaGlzdG9yeTogc3RhdGVcbiAgfSk7XG59XG4vLyAvd3JhcFN0YXRlXG5cbi8vIHVwZGF0ZVN0YXRlXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZShzdGF0ZSwgaGlzdG9yeSkge1xuICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgaGlzdG9yeSkpO1xufVxuLy8gL3VwZGF0ZVN0YXRlXG5cbi8vIGNyZWF0ZUhpc3RvcnlcbmZ1bmN0aW9uIGNyZWF0ZUhpc3Rvcnkoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBbXSxcbiAgICBwcmVzZW50OiBzdGF0ZSxcbiAgICBmdXR1cmU6IFtdXG4gIH07XG59XG4vLyAvY3JlYXRlSGlzdG9yeVxuXG4vLyBwYXJzZUFjdGlvbnNcbmZ1bmN0aW9uIHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKSB7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyYXdBY3Rpb25zKSkge1xuICAgIHJldHVybiByYXdBY3Rpb25zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByYXdBY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBbcmF3QWN0aW9uc107XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbi8vIC9wYXJzZUFjdGlvbnNcblxuLy8gcmVkdXgtdW5kbyBoaWdoZXIgb3JkZXIgcmVkdWNlclxuZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuICB2YXIgcmF3Q29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXG4gIHZhciBjb25maWcgPSB7XG4gICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuICAgIGluaXRUeXBlczogcGFyc2VBY3Rpb25zKHJhd0NvbmZpZy5pbml0VHlwZXMsIFsnQEByZWR1eC9JTklUJywgJ0BASU5JVCddKSxcbiAgICBsaW1pdDogcmF3Q29uZmlnLmxpbWl0LFxuICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcbiAgICByZWRvVHlwZTogcmF3Q29uZmlnLnJlZG9UeXBlIHx8IEFjdGlvblR5cGVzLlJFRE8sXG4gICAganVtcFRvUGFzdFR5cGU6IHJhd0NvbmZpZy5qdW1wVG9QYXN0VHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsXG4gICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcbiAgfTtcbiAgY29uZmlnLmhpc3RvcnkgPSByYXdDb25maWcuaW5pdGlhbEhpc3RvcnkgfHwgY3JlYXRlSGlzdG9yeShjb25maWcuaW5pdGlhbFN0YXRlKTtcblxuICBpZiAoY29uZmlnLmluaXRUeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLndhcm4oJ3JlZHV4LXVuZG86IHN1cHBseSBhdCBsZWFzdCBvbmUgYWN0aW9uIHR5cGUgaW4gaW5pdFR5cGVzIHRvIGVuc3VyZSBpbml0aWFsIHN0YXRlJyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuICAgIHZhciByZXMgPSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG4gICAgICAgIHJlcyA9IHVuZG8oc3RhdGUpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIgdW5kbycsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcbiAgICAgICAgcmVzID0gcmVkbyhzdGF0ZSk7XG4gICAgICAgIGRlYnVnKCdhZnRlciByZWRvJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9QYXN0KHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvUGFzdCcsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9GdXR1cmUoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9GdXR1cmUnLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzID0gcmVkdWNlcihzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50LCBhY3Rpb24pO1xuXG4gICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uVHlwZSA9PT0gYWN0aW9uLnR5cGU7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG4gICAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgY3JlYXRlSGlzdG9yeShyZXMpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmZpbHRlciAmJiB0eXBlb2YgY29uZmlnLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcbiAgICAgICAgICAgIGRlYnVnKCdmaWx0ZXIgcHJldmVudGVkIGFjdGlvbiwgbm90IHN0b3JpbmcgaXQnKTtcbiAgICAgICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBwcmVzZW50OiByZXNcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG4gICAgICAgIHZhciB1cGRhdGVkSGlzdG9yeSA9IGluc2VydChoaXN0b3J5LCByZXMsIGNvbmZpZy5saW1pdCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBpbnNlcnQnLCB7IGhpc3Rvcnk6IHVwZGF0ZWRIaXN0b3J5LCBmcmVlOiBjb25maWcubGltaXQgLSBsZW5ndGgodXBkYXRlZEhpc3RvcnkpIH0pO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuXG4gICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB1cGRhdGVkSGlzdG9yeSkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIC9yZWR1eC11bmRvXG5cbi8vIGRpc3RpbmN0U3RhdGUgaGVscGVyXG5mdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgY3VycmVudFN0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZSAhPT0gcHJldmlvdXNTdGF0ZTtcbiAgfTtcbn1cbi8vIC9kaXN0aW5jdFN0YXRlXG5cbi8vIGluY2x1ZGVBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMDtcbiAgfTtcbn1cbi8vIC9pbmNsdWRlQWN0aW9uXG5cbi8vIGRlcHJlY2F0ZWQgaWZBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpZkFjdGlvbihyYXdBY3Rpb25zKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcbiAgcmV0dXJuIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucyk7XG59XG4vLyAvaWZBY3Rpb25cblxuLy8gZXhjbHVkZUFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG4gIHZhciByYXdBY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPCAwO1xuICB9O1xufVxuLy8gL2V4Y2x1ZGVBY3Rpb25cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC11bmRvL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDExN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5cbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFlfU0laRSA9IEMuQ1VSVkVfU0laRTtcbmNvbnN0IG1vZCA9ICggdGVtcFJlc2l6ZV90b3AsIGNvZWYgPSAxICkgPT4ge1xuICBjb25zdCBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG4gICAgICAgIERJViA9IHBhcnNlSW50KHRlbXBSZXNpemVfdG9wIC8gWV9TSVpFKSxcbiAgICAgICAgR0FQID0gMTU7XG5cbiAgaWYgKE1PRCA8IEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBESVYqWV9TSVpFOyB9XG4gIGVsc2UgaWYgKCBNT0QgPiBZX1NJWkUgLSBHQVAgKSB7IHRlbXBSZXNpemVfdG9wID0gY29lZiooRElWKzEpKllfU0laRTsgfVxuXG4gIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcmVzaXplLW1vZC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEN1cnZlIGZyb20gJy4vY3VydmUnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZSBmcm9tICcuL3Jlc2l6ZS1oYW5kbGUnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvclJpZ2h0ID0gKHtzdGF0ZSwgcHJvZ3Jlc3NMaW5lc30pID0+IHtcbiAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19yaWdodCddfT5cbiAgICAgICAgICAgIDxDdXJ2ZSBzdGF0ZSA9eyBzdGF0ZSB9IHByb2dyZXNzTGluZXM9e3Byb2dyZXNzTGluZXN9IC8+XG4gICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJyaWdodFwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cImJvdHRvbVwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICA8L2Rpdj4pXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JSaWdodDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1yaWdodC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBQcm9ncmVzc0xpbmUgZnJvbSAnLi9wcm9ncmVzcy1saW5lJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBtb2QgZnJvbSAnLi4vaGVscGVycy9yZXNpemUtbW9kJztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlJyk7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzLmpzb24nKTtcbmNsYXNzIEN1cnZlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7c3RhdGV9ICAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtwYXRofSAgICA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuICAgICAgICAgIHN0eWxlcyAgICA9IHRoaXMuX2dldFN0eWxlKCBzdGF0ZSApLFxuICAgICAgICAgIHBvaW50cyAgICA9IHRoaXMuX3JlbmRlclBvaW50cyggc3RhdGUgKSxcbiAgICAgICAgICBzZWdtZW50cyAgPSB0aGlzLl9yZW5kZXJTZWdtZW50cyggc3RhdGUgKSxcbiAgICAgICAgICBwcm9ncmVzc0xpbmVzID0gdGhpcy5fcmVuZGVyUHJvZ3Jlc3NMaW5lcyggc3RhdGUgKTtcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUnXX0+XG4gICAgICAgICAgICAgIDxkaXYgIGlkPVwianMtYmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlX19iYWNrZ3JvdW5kJ119XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYmFja2dyb3VuZH0gLz5cblxuICAgICAgICAgICAgICB7cHJvZ3Jlc3NMaW5lc31cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlX19zdmctd3JhcHBlciddfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLnRyYW5zZm9ybX0+XG5cbiAgICAgICAgICAgICAgICB7IHBvaW50cyB9XG5cbiAgICAgICAgICAgICAgICA8c3ZnICBoZWlnaHQ9eyBDLkNVUlZFX1NJWkUgfVxuICAgICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwianMtc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2N1cnZlX19zdmcnXSB9PlxuXG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPXtwYXRofVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2Utb3BhY2l0eT1cIjAuMzVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWN0b3ItZWZmZWN0PVwibm9uLXNjYWxpbmctc3Ryb2tlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSguNzUsLjc1KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiIC8+XG5cbiAgICAgICAgICAgICAgICAgIDxnIGlkPVwianMtc2VnbWVudHNcIj4geyBzZWdtZW50cyB9IDwvZz5cblxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBfZ2V0U3R5bGUoc3RhdGUpIHtcbiAgICBjb25zdCB7cmVzaXplfSA9IHN0YXRlO1xuICAgIGxldCB7dGVtcF90b3AsIHRlbXBfcmlnaHR9ID0gcmVzaXplO1xuXG4gICAgdGVtcF90b3AgICAgKz0gcmVzaXplLnRvcDtcbiAgICB0ZW1wX3JpZ2h0ICArPSByZXNpemUucmlnaHQ7XG5cbiAgICBpZiAoQy5DVVJWRV9TSVpFIC0gdGVtcF90b3AgPCBDLkNVUlZFX1NJWkUpIHsgdGVtcF90b3AgPSAwOyB9XG4gICAgdGVtcF90b3AgPSBtb2QoIHRlbXBfdG9wLCAtMSApO1xuXG4gICAgY29uc3Qgc2NhbGUgPSBgdHJhbnNmb3JtOiBzY2FsZVgoJHsoQy5DVVJWRV9TSVpFICsgTWF0aC5tYXgodGVtcF9yaWdodCwwKSkvQy5DVVJWRV9TSVpFfSlgLFxuICAgICAgICAgIGJnVHJhbnNmb3JtID0gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHtzY2FsZX07ICR7c2NhbGV9O2AsXG4gICAgICAgICAgYmFja2dyb3VuZCA9IGBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwICR7LXRlbXBfdG9wIC0gMX1weDsgJHtiZ1RyYW5zZm9ybX1gLFxuICAgICAgICAgIHRyYW5zZm9ybSAgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAkey10ZW1wX3RvcH1weClgO1xuICAgIHJldHVybiB7XG4gICAgICBiYWNrZ3JvdW5kLFxuICAgICAgdHJhbnNmb3JtOiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zZm9ybX07ICR7dHJhbnNmb3JtfTtgXG4gICAgfTtcbiAgfVxuXG4gIF9yZW5kZXJQb2ludHMgKHN0YXRlKSB7XG4gICAgY29uc3QgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnBvaW50cyxcbiAgICAgICAgICBwb2ludHMgICAgID0gW10sXG4gICAgICAgICAgbGVuICAgICAgICA9IHBvaW50c0RhdGEubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgIDxQb2ludCBwb2ludD17IHBvaW50c0RhdGFbaV0gfSBzdGF0ZT17c3RhdGV9IGluZGV4PXtpfSBwb2ludHNDb3VudD17bGVufSAvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG4gIH1cblxuICBfcmVuZGVyU2VnbWVudHMgKHN0YXRlKSB7XG4gICAgY29uc3Qge3NlZ21lbnRzfSAgPSBzdGF0ZS5wb2ludHMucHJlc2VudCxcbiAgICAgICAgICBkb21TZWdtZW50cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgICAgZG9tU2VnbWVudHMucHVzaChcbiAgICAgICAgPHBhdGggZD17c2VnbWVudC5zZWdtZW50U3RyaW5nfVxuICAgICAgICAgICAgICBkYXRhLWluZGV4PXtzZWdtZW50LmluZGV4fVxuICAgICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiXCJcbiAgICAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gICAgICAgICAgICAgIGNsYXNzPXtDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbVNlZ21lbnRzO1xuICB9XG5cbiAgX3JlbmRlclByb2dyZXNzTGluZXMgKCBzdGF0ZSApIHtcbiAgICBjb25zdCB7cHJvZ3Jlc3NMaW5lc30gPSBzdGF0ZSxcbiAgICAgICAgICB7bGluZXN9ICAgICAgICAgPSBwcm9ncmVzc0xpbmVzLFxuICAgICAgICAgIHJlbmRlcmVkTGluZXMgICA9IFtdO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSBsaW5lcy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgIHJlbmRlcmVkTGluZXMucHVzaCg8UHJvZ3Jlc3NMaW5lIHsuLi5saW5lfSAvPik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcmVkTGluZXM7XG4gIH1cblxuICBfdXBkYXRlRG9tUHJvZ3Jlc3NMaW5lcyAoKSB7XG4gICAgY29uc3Qge3Byb2dyZXNzTGluZXN9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBETyBOT1QgTVVUQVRFIFRIRSBBUlJBWSBUTyBQUkVWRU5UIExPT1NJTkcgVEhFIExJTksgVE8gSVRcbiAgICBwcm9ncmVzc0xpbmVzLmxlbmd0aCA9IDA7XG5cbiAgICBjb25zdCBsaW5lcyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb21wb25lbnQ9XCJwcm9ncmVzcy1saW5lXCJdJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvZ3Jlc3NMaW5lc1tpXSA9IGxpbmVzW2ldO1xuICAgIH1cbiAgfVxuXG4gIC8vIF9yZW5kZXJTZWdtZW50ICggaW5kZXgsIHN0cmluZykge1xuICAvLyAgIHJldHVybiA8cGF0aFxuICAvLyAgICAgICAgICAgZD17c3RyaW5nfVxuICAvLyAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XG4gIC8vICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG4gIC8vICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gIC8vICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuICAvLyAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gIC8vICAgICAgICAgICBjbGFzcz17Q0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J119XG4gIC8vICAgICAgICAgICAvPjtcbiAgLy8gfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7IHRoaXMuX3VwZGF0ZURvbVByb2dyZXNzTGluZXMoKTsgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLl91cGRhdGVEb21Qcm9ncmVzc0xpbmVzKCk7XG4gICAgXG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgZXYgICAgID0gZS5zcmNFdmVudCxcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuICAgICAgICBpZiAoIHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJyApIHsgcmV0dXJuOyB9XG4gICAgICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHggID0gZXYub2Zmc2V0WCxcbiAgICAgICAgICAgICAgeSAgPSBldi5vZmZzZXRZKkMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICsgMTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogICAgICAnUE9JTlRfQUREJyxcbiAgICAgICAgICBkYXRhOiAgICAgIHsgcG9pbnQ6IHsgeCwgeSB9LCBpbmRleCB9LFxuICAgICAgICAgIGlzUmVjb3JkOiAgdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdmcgICA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG4gICAgICAgICAgc3ZnTWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICBzdmdNYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgc3ZnTWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcbiAgICAgIH0pO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoYW5nbGUsIHJhZGl1cykgPT4ge1xuICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGUsIHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFkZFBvaW50ZXJEb3duIGZyb20gJy4uL2hlbHBlcnMvYWRkLXBvaW50ZXItZG93bic7XG5pbXBvcnQgTGl0dGxlSGFuZGxlIGZyb20gJy4vbGl0dGxlLWhhbmRsZSc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHJvdW5kVG8gZnJvbSAnLi4vaGVscGVycy9yb3VuZC10byc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBjbGFtcCBmcm9tICcuLi9oZWxwZXJzL2NsYW1wJztcbmltcG9ydCBtb2QgZnJvbSAnLi4vaGVscGVycy9yZXNpemUtbW9kJztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcG9pbnQnKTtcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgUG9pbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtwb2ludCwgc3RhdGV9ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzZWxlY3RlZCAgPSAocG9pbnQuaXNTZWxlY3RlZCkgPyBDTEFTU0VTWydpcy1zZWxlY3RlZCddIDogJycsXG4gICAgICAgICAgaGFuZGxlcyAgID0gKHBvaW50LnR5cGUgPT09ICdzdHJhaWdodCcpID8gQ0xBU1NFU1snaXMtaGlkZS1oYW5kbGVzJ10gOiAnJztcblxuICAgIGNvbnN0IGxpdHRsZUhhbmRsZXMgPSB0aGlzLl9nZXRMaXR0bGVIYW5kbGVzKCApO1xuXG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e2Ake0NMQVNTRVNbJ3BvaW50J119ICR7c2VsZWN0ZWR9ICR7aGFuZGxlc31gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9eyB0aGlzLl9nZXRTdHlsZShzdGF0ZSkgfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJwb2ludFwiPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydwb2ludF9fdG91Y2gnXSB9IGlkPVwianMtcG9pbnQtdG91Y2hcIiAvPlxuXG4gICAgICAgICAgICAgIHsgbGl0dGxlSGFuZGxlcyB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICB9XG5cbiAgX2dldFN0eWxlIChzdGF0ZSkge1xuICAgIGNvbnN0IHtwb2ludH0gICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGUsXG4gICAgICAgICAgeCAgICAgICAgID0gY2xhbXAocG9pbnQueCArIHBvaW50LnRlbXBYLCAwLCAxMDApLFxuICAgICAgICAgIGNsZWFuWCAgICA9IHggKiByZXNpemUuc2NhbGVyWCxcbiAgICAgICAgICB5ICAgICAgICAgPSBwb2ludC55ICsgcG9pbnQudGVtcFk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhwb2ludCk7XG5cbiAgICBjb25zdCB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtjbGVhblh9cHgsICR7eS0xfXB4KWA7XG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG4gIF9nZXRMaXR0bGVIYW5kbGVzICgpIHtcbiAgICBjb25zdCB7aW5kZXgsIHBvaW50LCBwb2ludHNDb3VudH0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGhhbmRsZXMgPSBbXTtcbiAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMSBmb3Igc3RhcnQgcG9pbnRcbiAgICAoaW5kZXggIT09IDApICYmIGhhbmRsZXMucHVzaCggdGhpcy5fY3JlYXRlSGFuZGxlKCAxLCBwb2ludCApICk7XG4gICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuICAgIChpbmRleCAhPT0gcG9pbnRzQ291bnQtMSkgJiYgaGFuZGxlcy5wdXNoKCB0aGlzLl9jcmVhdGVIYW5kbGUoIDIsIHBvaW50ICkgKTtcbiAgICByZXR1cm4gaGFuZGxlcztcbiAgfVxuXG4gIF9jcmVhdGVIYW5kbGUgKGluZGV4LCBwb2ludCkgIHtcbiAgICByZXR1cm4gPExpdHRsZUhhbmRsZVxuICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgIHN0YXRlPXt0aGlzLnByb3BzLnN0YXRlfVxuICAgICAgICBwYXJlbnRJbmRleD17dGhpcy5wcm9wcy5pbmRleH1cbiAgICAgICAgaGFuZGxlPXtwb2ludFtgaGFuZGxlJHtpbmRleH1gXX1cbiAgICAgICAgdHlwZT17cG9pbnQudHlwZX1cbiAgICAgICAgLz5cbiAgfVxuICBcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gID0gdGhpcy5jb250ZXh0O1xuXG4gICAgY29uc3QgZ2V0VGVtcFggPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgLy8gaWYgcG9pbnQgaXMgbm90IGxvY2tlZCB0byB4IGF4ZXMgLT5cbiAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSByZWdhcmRpbmcgc2NhbGVyXG4gICAgICBpZiAoIHBvaW50LmlzTG9ja2VkWCApIHsgcmV0dXJuIDAgfTtcbiAgICAgICAgXG4gICAgICBjb25zdCB4ID0gZS5kZWx0YVgvcmVzaXplLnNjYWxlclg7XG4gICAgICBpZiAoIHBvaW50LnggKyB4IDwgMCApIHsgcmV0dXJuIDAgLSBwb2ludC54OyB9XG4gICAgICBlbHNlIGlmICggcG9pbnQueCArIHggPiAxMDAgKSB7IHJldHVybiAxMDAgLSBwb2ludC54OyB9XG4gICAgICByZXR1cm4gcm91bmRUbyggcG9pbnQueCArIHgsIDUsIDEuNSApIC0gcG9pbnQueDtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRZID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHkgPSBwb2ludC55ICsgZS5kZWx0YVk7XG5cbiAgICAgIC8vIGNsYW1wIHkgdG8gdGhlIHNpemUgb2YgY3VydmVcbiAgICAgIHJldHVybiBjbGFtcCggeSwgcmVzaXplLnRvcCwgQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSApOyBcbiAgICB9XG5cbiAgICAvLyBnZXQgeSBkZWx0YSByZWFnYXJkaW5nIGN1cnZlIGJvdW5kc1xuICAgIGNvbnN0IGdldFRlbXBZID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcblxuICAgICAgbGV0IHkgPSBwb2ludC55ICsgZS5kZWx0YVksXG4gICAgICAgICAgcmV0dXJuVmFsdWUgPSB5O1xuXG4gICAgICBpZiAoIHkgPCByZXNpemUudG9wICkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IHJlc2l6ZS50b3A7XG4gICAgICB9IGVsc2UgaWYgKCB5ID4gQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSApIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm91bmRUbyggcmV0dXJuVmFsdWUsIDUqQy5DVVJWRV9QRVJDRU5ULCAyKkMuQ1VSVkVfUEVSQ0VOVCApIC0gcG9pbnQueTtcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtcG9pbnQtdG91Y2gnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblxuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuICAgICAgICAgIGRhdGE6IHsgeDogZ2V0VGVtcFgoZSksIHk6IGdldFRlbXBZKGUpLCBpbmRleCB9XG4gICAgICAgIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5vbigncGFuZW5kJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFX0VORCcsIGRhdGE6IGluZGV4LCBpc1JlY29yZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3RhcCcsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgYWRkUG9pbnRlckRvd24oIGVsLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHNcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4LCBpc0Rlc2VsZWN0OiAhZS5zaGlmdEtleSxcbiAgICAgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4XG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgKGVsLCBmbikgPT4ge1xuICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignTVNQb2ludGVyRG93bicsIGZuKTtcbiAgfSBlbHNlIGlmICggd2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkICkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmbik7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuICB9IGVsc2Uge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZuKTtcbiAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYWRkLXBvaW50ZXItZG93bi5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBwb2ludFRvQW5nbGUgZnJvbSAnLi4vaGVscGVycy9wb2ludC10by1hbmdsZSc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZScpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIExpdHRsZUhhbmRsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgLy8gY29uc3Qge3N0YXRlfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e0NMQVNTRVNbJ2xpdHRsZS1oYW5kbGUnXX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwibGl0dGxlLWhhbmRsZVwiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19wb2ludCddIH1cbiAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5fZ2V0UG9pbnRTdHlsZSgpfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaCddfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19saW5lJ10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRMaW5lU3R5bGUoKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ICA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBtYyAgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIHZhciB7aGFuZGxlfSA9IHRoaXMucHJvcHM7XG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtY1xuICAgICAgLm9uKCdwYW5zdGFydCcsIChlKSA9PiB7IGhhbmRsZSA9IHRoaXMucHJvcHMuaGFuZGxlOyB9KVxuICAgICAgLm9uKCdwYW4nLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7aW5kZXgsIHBhcmVudEluZGV4LCBzdGF0ZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICBwb2ludCAgICAgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApLFxuICAgICAgICAgICAgICAvLyBuZXdYICAgICAgPSBwb2ludC54ICsgZS5kZWx0YVgsXG4gICAgICAgICAgICAgIG5ld1kgICAgICA9IHBvaW50LnkgKyBlLmRlbHRhWSxcbiAgICAgICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGUsXG4gICAgICAgICAgICAgIC8vIGFic29sdXRlIHggcmVnYXJkaW5nIGhvcml6b250YWwgc2l6ZVxuICAgICAgICAgICAgICBhYnNYICAgICAgPSBwb2ludC54ICsgKGUuZGVsdGFYKS9yZXNpemUuYWJzU2NhbGVyWCxcbiAgICAgICAgICAgICAgYW5nbGUgICAgID0gcG9pbnRUb0FuZ2xlKCBhYnNYLCBuZXdZICk7XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICBkYXRhOiB7IGluZGV4LCBwYXJlbnRJbmRleCwgLi4uYW5nbGUgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIHRoaXMucHJvcHMudHlwZSA9PT0gJ21pcnJvcmVkJyApIHtcbiAgICAgICAgICBjb25zdCBpID0gKGluZGV4ID09PSAxKSA/IDIgOiAxO1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaW5kZXg6ICAgICAgaSwgcGFyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHJhZGl1czogICAgIGFuZ2xlLnJhZGl1cyxcbiAgICAgICAgICAgICAgYW5nbGU6ICAgICAgYW5nbGUuYW5nbGUgLSAxODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5wcm9wcy50eXBlID09PSAnYXN5bW1ldHJpYycgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiAgICAgIGksIHBhcmVudEluZGV4LFxuICAgICAgICAgICAgICByYWRpdXM6ICAgICBoYW5kbGUucmFkaXVzLFxuICAgICAgICAgICAgICBhbmdsZTogICAgICBhbmdsZS5hbmdsZSAtIDE4MFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFX0VORCcsIGlzUmVjb3JkOiB0cnVlIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gIH1cblxuICBfZ2V0UG9pbnRTdHlsZSAoKSB7XG4gICAgY29uc3Qge2hhbmRsZSwgc3RhdGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGUsXG4gICAgICAgICAgcG9pbnQgICAgID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtwb2ludC54KnJlc2l6ZS5hYnNTY2FsZXJYfXB4LCAke3BvaW50Lnl9cHgpIHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuICBfZ2V0TGluZVN0eWxlICgpIHtcbiAgICBjb25zdCB7aGFuZGxlLCBzdGF0ZX0gID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICAvLyBzaW5jZSB0aGUgYW5nbGUgYW5kIHJhZGl1cyB3ZXJlIHN0b3JlZCBhcyBhYnNvbHV0ZSxcbiAgICAgICAgICAvLyBlLmcuIHJlZ2FyZGxlc3MgdGhlIGVkaXRvcidzIGhvcml6b250YWwgcmVzaXplLFxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVjYWxjIHRoZSB4IHBvc2l0aW9uIGZvciB0aGUgbGluZVxuICAgICAgICAgIHBvaW50ICAgICA9IGFuZ2xlVG9Qb2ludCggaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzICksXG4gICAgICAgICAgbmV3VmVjdG9yID0gcG9pbnRUb0FuZ2xlKCBwb2ludC54KnJlc2l6ZS5hYnNTY2FsZXJYLCBwb2ludC55ICksXG4gICAgICAgICAgdHJhbnNsYXRlID0gYHRyYW5zZm9ybTogcm90YXRlKCR7bmV3VmVjdG9yLmFuZ2xlfWRlZykgc2NhbGVZKCR7bmV3VmVjdG9yLnJhZGl1c30pYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpdHRsZUhhbmRsZTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoeCwgeSkgPT4ge1xuICBsZXQgICByYWRpdXMgID0gTWF0aC5zcXJ0KCB4KnggKyB5KnkgKSxcbiAgICAgICAgYW5nbGUgICA9IE1hdGguYXRhbiggeS94ICkgKiAoMTgwL01hdGguUEkpIC0gOTA7XG4gIGlmICggeCA+IDAgKSB7IGFuZ2xlID0gYW5nbGUgLSAxODAgfTtcblxuICByZXR1cm4geyByYWRpdXMsIGFuZ2xlIH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9wb2ludC10by1hbmdsZS5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9saXR0bGUtaGFuZGxlX3gxbWcxXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDowO2hlaWdodDowfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfeDFtZzFfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6NnB4O2hlaWdodDo2cHg7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotM3B4O21hcmdpbi10b3A6LTNweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9saXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoX3gxbWcxXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCU7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotMTAwJTttYXJnaW4tdG9wOi0xMDAlfS5fbGl0dGxlLWhhbmRsZV9fbGluZV94MW1nMV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O21hcmdpbi1sZWZ0Oi0xcHg7bWFyZ2luLXRvcDotMXB4O2xlZnQ6NTAlO3RvcDo1MCU7YmFja2dyb3VuZDojZmY1MTJmOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4gKiogbW9kdWxlIGlkID0gMTI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJsaXR0bGUtaGFuZGxlXCI6IFwiX2xpdHRsZS1oYW5kbGVfeDFtZzFfM1wiLFxuXHRcImxpdHRsZS1oYW5kbGVfX3BvaW50XCI6IFwiX2xpdHRsZS1oYW5kbGVfX3BvaW50X3gxbWcxXzFcIixcblx0XCJsaXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoXCI6IFwiX2xpdHRsZS1oYW5kbGVfX2Vhc3ktdG91Y2hfeDFtZzFfMVwiLFxuXHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV94MW1nMV8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIGJhc2UsIHNuYXApID0+IHtcbiAgY29uc3QgbW9kaWZpZWQgPSBNYXRoLnJvdW5kKHZhbHVlL2Jhc2UpKmJhc2U7XG5cbiAgcmV0dXJuICggTWF0aC5hYnModmFsdWUgLSBtb2RpZmllZCkgPCBzbmFwICkgPyBtb2RpZmllZCA6IHZhbHVlO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcm91bmQtdG8uYmFiZWwuanNcbiAqKi8iLCJcblxuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xuICByZXR1cm4gKHZhbHVlIDwgbWluKVxuICAgID8gbWluXG4gICAgOiAodmFsdWUgPiBtYXgpID8gbWF4IDogdmFsdWU7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTRqbnBfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSl9Ll9wb2ludF8xNGpucF81IFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9Ll9wb2ludF9fdG91Y2hfMTRqbnBfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLWxlZnQ6LTEwcHg7bWFyZ2luLXRvcDotMTBweH0uX3BvaW50XzE0am5wXzUuX2lzLXNlbGVjdGVkXzE0am5wXzMxLC5fcG9pbnRfMTRqbnBfNTpob3ZlcntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9wb2ludF8xNGpucF81Ll9pcy1zZWxlY3RlZF8xNGpucF8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE0am5wXzUuX2lzLWhpZGUtaGFuZGxlc18xNGpucF80MyBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJwb2ludFwiOiBcIl9wb2ludF8xNGpucF81XCIsXG5cdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xNGpucF8xXCIsXG5cdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTRqbnBfMzFcIixcblx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE0am5wXzQzXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfZ3Zjcm5fNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnX2d2Y3JuXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmVcIjogXCJfY3VydmVfZ3Zjcm5fNVwiLFxuXHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfZ3Zjcm5fMVwiLFxuXHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZScpO1xuY2xhc3MgUmVzaXplSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7dHlwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXX1gLFxuICAgICAgICAgIGNsYXNzVHlwZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlIF19YDtcbiAgICByZXR1cm4gPGRpdlxuICAgICAgY2xhc3NOYW1lPXsgYCR7Y2xhc3NOYW1lfSAke2NsYXNzVHlwZX0gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gIH1cbiAgICAgIGRhdGEtdHlwZT17dHlwZX1cbiAgICAgIGRhdGEtY29tcG9uZW50PVwicmVzaXplLWhhbmRsZVwiPlxuICAgICAgICA8SWNvbiBzaGFwZT1cImVsbGlwc2lzXCIgLz5cbiAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHt0eXBlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1jICAgICAgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFJywgZGF0YTogeyB4LCB5LCB0eXBlIH0gfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS5kZWx0YVgsIHkgPSBlLmRlbHRhWTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRV9FTkQnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlc2l6ZUhhbmRsZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uJyk7XG5cbmNsYXNzIEljb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzaGFwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1hcmt1cCA9IGA8c3ZnIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48dXNlIHhsaW5rOmhyZWY9XCIjJHtzaGFwZX0tc2hhcGVcIiAvPjwvc3ZnPmA7XG4gICAgcmV0dXJuICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24nXX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hcmt1cCB9fT5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJpY29uXCI6IFwiX2ljb25fNGE4bGZfNVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uXzRhOGxmXzV7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtjdXJzb3I6cG9pbnRlcjtmaWxsOiNmZmY7ZGlzcGxheTpibG9ja30uX2ljb25fNGE4bGZfNT5zdmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81PnN2Zz51c2V7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInJlc2l6ZS1oYW5kbGVcIjogXCJfcmVzaXplLWhhbmRsZV9rODFrY180XCIsXG5cdFwicmVzaXplLWhhbmRsZS0tcmlnaHRcIjogXCJfcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMVwiLFxuXHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9yZXNpemUtaGFuZGxlX2s4MWtjXzR7YmFja2dyb3VuZDojM2QxYjNjO3dpZHRoOjMycHg7aGVpZ2h0OjE2cHg7ZGlzcGxheTpibG9jaztjdXJzb3I6bi1yZXNpemU7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6M3B4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNDphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6Mn0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNCBbZGF0YS1jb21wb25lbnQ9aWNvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotN3B4fS5fcmVzaXplLWhhbmRsZV9rODFrY180OmhvdmVye29wYWNpdHk6Ljg1fS5fcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO2N1cnNvcjplLXJlc2l6ZX0uX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTtjdXJzb3I6cy1yZXNpemV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xZjhyNV80XCIsXG5cdFwiY3VydmUtZWRpdG9yX19sZWZ0XCI6IFwiX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19yaWdodFwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXCI6IFwiX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXCI6IFwiX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBDb2RlQnV0dG9uIGZyb20gJy4vY29kZS1idXR0b24nO1xuaW1wb3J0IEljb25EaXZpZGVyIGZyb20gJy4vaWNvbi1kaXZpZGVyJztcbmltcG9ydCBQb2ludENvbnRyb2xzIGZyb20gJy4vcG9pbnQtY29udHJvbHMnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvckxlZnQgPSAoe3N0YXRlfSkgPT4ge1xuICByZXR1cm4gIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2xlZnQnXX0gaWQ9XCJqcy1sZWZ0LXBhbmVsXCI+XG4gICAgICAgICAgICA8Q29kZUJ1dHRvbiBzdGF0ZT17c3RhdGV9IC8+XG4gICAgICAgICAgICA8SWNvbkRpdmlkZXIgLz5cbiAgICAgICAgICAgIDxQb2ludENvbnRyb2xzIHN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMnXX0gLz5cbiAgICAgICAgICAgIDxhICBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvJ119XG4gICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3JcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgICAgPEljb24gc2hhcGU9XCJtb2pzLWxvZ29cIiAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2Pjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JMZWZ0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItbGVmdC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4vaWNvbi1idXR0b24nO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuXG5jbGFzcyBDb2RlQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gPEljb25CdXR0b24gc2hhcGU9XCJjb2RlXCIgaXNDaGVjaz17c3RhdGUuY29udHJvbHMuaXNDb2RlfSAvPjtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWMub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0NPREVfVEFQJyB9KTsgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29kZUJ1dHRvbjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2NvZGUtYnV0dG9uLmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuLy8gaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbicpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBJY29uQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBjaGVjayA9ICh0aGlzLnByb3BzLmlzQ2hlY2spID8gQ0xBU1NFU1snaXMtY2hlY2tlZCddIDogJyc7XG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e2Ake0NMQVNTRVNbJ2ljb24tYnV0dG9uJ119ICR7Y2hlY2t9YH1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PXsnaWNvbi1idXR0b24nfT5cbiAgICAgICAgICAgICAgPEljb24gc2hhcGU9e3RoaXMucHJvcHMuc2hhcGV9IC8+XG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCB0eXBlb2YgdGhpcy5wcm9wcy5vblRhcCA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgIHZhciBoYW1tZXJ0aW1lID0gbmV3IEhhbW1lcih0aGlzLmJhc2UpXG4gICAgICAgIC5vbigndGFwJywgKGUpID0+IHsgdGhpcy5wcm9wcy5vblRhcCggZSwgdGhpcy5wcm9wcyApIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uQnV0dG9uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi1idXR0b24uYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uLWJ1dHRvbl82eXNkaV80e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOiMzYTA4Mzk7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuMTUpfS5faWNvbi1idXR0b25fNnlzZGlfNCBbZGF0YS1jb21wb25lbnQ9aWNvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQ6aG92ZXJ7Ym94LXNoYWRvdzpub25lfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3ZlciBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTIlLC01MiUpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSwuX2ljb24tYnV0dG9uXzZ5c2RpXzQ6YWN0aXZle2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDAgaHNsYSgwLDAlLDEwMCUsLjI1KSxpbnNldCAxcHggMXB4IDFweCByZ2JhKDAsMCwwLC40KX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQuX2lzLWNoZWNrZWRfNnlzZGlfMzEgW2RhdGEtY29tcG9uZW50PWljb25dLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmUgW2RhdGEtY29tcG9uZW50PWljb25dey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTQlLC01NCUpIHNjYWxlKC45NSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTQlLC01NCUpIHNjYWxlKC45NSl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb24tYnV0dG9uXCI6IFwiX2ljb24tYnV0dG9uXzZ5c2RpXzRcIixcblx0XCJpcy1jaGVja2VkXCI6IFwiX2lzLWNoZWNrZWRfNnlzZGlfMzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb24nKTtcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydpY29uLWRpdmlkZXInXX1cbiAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJpY29uLWRpdmlkZXJcIiAvPjtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2ljb24tZGl2aWRlci5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJpY29uLWRpdmlkZXJcIjogXCJfaWNvbi1kaXZpZGVyX2Z0YXNrXzNcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tZGl2aWRlcl9mdGFza18ze3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG87d2lkdGg6MTZweDtoZWlnaHQ6MXB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuMyk7Ym94LXNoYWRvdzowIDFweCAwIHJnYmEoMCwwLDAsLjMpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICcuL2ljb24tYnV0dG9uJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scycpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBQb2ludENvbnRyb2xzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7c3RhdGV9ICAgPSBwLFxuICAgICAgICAgIGNvbnRyb2xzICA9IHN0YXRlLnBvaW50Q29udHJvbHMucHJlc2VudCxcbiAgICAgICAgICBzaG93ICAgICAgPSAoY29udHJvbHMuaXNTaG93KSA/IENMQVNTRVNbJ2lzLXNob3cnXSA6ICcnLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke3AuY2xhc3NOYW1lfSAke0NMQVNTRVNbJ3BvaW50LWNvbnRyb2xzJ119ICR7c2hvd31gLFxuICAgICAgICAgIGJ1dHRvbnMgICA9IHRoaXMuX2FkZEJ1dHRvbnMoY29udHJvbHMpO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PiB7YnV0dG9uc30gPC9kaXY+XG4gIH1cblxuICBfb25CdXR0b25UYXAgKHR5cGUpIHtcbiAgICByZXR1cm4gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0NIQU5HRV9UWVBFJywgZGF0YTogdHlwZSwgaXNSZWNvcmQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgX2FkZEJ1dHRvbnMgKGNvbnRyb2xzKSB7XG4gICAgY29uc3QgYnV0dG9uc01hcCAgPSBbICdzdHJhaWdodCcsICdkaXNjb25uZWN0ZWQnLCAnbWlycm9yZWQnLCAnYXN5bW1ldHJpYycgXSxcbiAgICAgICAgICBidXR0b25zICAgICA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zTWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0eXBlID0gYnV0dG9uc01hcFtpXTtcbiAgICAgIGJ1dHRvbnMucHVzaCg8SWNvbkJ1dHRvbiAgc2hhcGU9e2Bwb2ludC0ke3R5cGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGVjaz17IGNvbnRyb2xzLnR5cGUgPT09IHR5cGUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRhcD17IHRoaXMuX29uQnV0dG9uVGFwKHR5cGUpIH0gLz4pO1xuICAgIH1cbiAgICByZXR1cm4gYnV0dG9ucztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcG9pbnQtY29udHJvbHMuYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludC1jb250cm9sc18xeGN1N180e2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjNweDtoZWlnaHQ6Ny41cHg7YmFja2dyb3VuZDojZmY1MTJmO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjJweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoycHg7bGVmdDotMTBweDt0b3A6NTAlO21hcmdpbi10b3A6LTMuNzVweDtkaXNwbGF5Om5vbmV9Ll9wb2ludC1jb250cm9sc18xeGN1N180IFtkYXRhLWNvbXBvbmVudD1pY29uLWJ1dHRvbl1bY2xhc3MqPWlzLWNoZWNrZWRdOmFmdGVyLC5fcG9pbnQtY29udHJvbHNfMXhjdTdfNC5faXMtc2hvd18xeGN1N183e2Rpc3BsYXk6YmxvY2t9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInBvaW50LWNvbnRyb2xzXCI6IFwiX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzRcIixcblx0XCJpcy1zaG93XCI6IFwiX2lzLXNob3dfMXhjdTdfN1wiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgSWNvbnMgPSAoKSA9PiB7XG4gIHJldHVybiA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYDxzdmcgaGVpZ2h0PVwiMFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xMDAlOyB3aWR0aDowOyBoZWlnaHQ6MDtcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj5cbiAgICAgIDxnIGlkPVwiZWxsaXBzaXMtc2hhcGVcIj5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNlwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMjFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwiY29kZS1zaGFwZVwiIGQ9XCJNOCwxNi4wODQ5NjQ4IEM4LDE1LjgyMTA3OTMgOC4xMTE0OTA2OSwxNS42MTI5MzkzIDguMzM0ODM0MDUsMTUuNDYwOTA2NSBMMTIuMzM5MDg3NCwxMi44NDE5NjEyIEMxMi4zODk3NjQ5LDEyLjgwMTQxOTIgMTIuNDY1NzgxMywxMi43ODExNDgxIDEyLjU2NzQ5ODUsMTIuNzgxMTQ4MSBDMTIuNzM5ODAyMywxMi43ODExNDgxIDEyLjkwNDg2NjQsMTIuODU3MTY0NSAxMy4wNjIzMjg5LDEzLjAwOTU1OTIgQzEzLjIxOTQyOTQsMTMuMTYxOTU0IDEzLjI5ODM0MTcsMTMuMzM5MzI1NSAxMy4yOTgzNDE3LDEzLjU0MjM5NzkgQzEzLjI5ODM0MTcsMTMuNzM1MzM0NyAxMy4yMjE5NjMzLDEzLjg4MjY2MTcgMTMuMDY5MjA2NiwxMy45ODQwMTY4IEw5Ljg1NzY5NTUzLDE2LjA4NDk2NDggTDEzLjA2OTIwNjYsMTguMTg2Mjc0NyBDMTMuMjIxOTYzMywxOC4yNjc3MjA4IDEzLjI5ODM0MTcsMTguNDE0Njg1OCAxMy4yOTgzNDE3LDE4LjYyNzg5MzcgQzEzLjI5ODM0MTcsMTguODMwOTY2IDEzLjIxOTc5MTQsMTkuMDA2MTY1NyAxMy4wNjIzMjg5LDE5LjE1MzEzMDcgQzEyLjkwNDg2NjQsMTkuMzAwNDU3NiAxMi43Mzk4MDIzLDE5LjM3Mzk0MDEgMTIuNTY3NDk4NSwxOS4zNzM5NDAxIEMxMi40NjU3ODEzLDE5LjM3Mzk0MDEgMTIuMzg5NzY0OSwxOS4zNTM2NjkxIDEyLjMzOTA4NzQsMTkuMzEzMTI3IEw4LjMzNDgzNDA1LDE2LjY5MzgxOTggQzguMTExNDkwNjksMTYuNTQxNDI1IDgsMTYuMzM4NzE0NyA4LDE2LjA4NDk2NDggTDgsMTYuMDg0OTY0OCBaIE0xNC4xMzk5NTE2LDIwLjY4NzU3NTYgQzE0LjEyNjU1ODIsMjAuNjA3NTc3NCAxNC4xMjg3MzAxLDIwLjUzMDExMzEgMTQuMTQ2ODI5MywyMC40NTQ4MjA3IEwxNi45Mzk1MjYzLDExLjM1NjAyMiBDMTYuOTg5MTE3OSwxMS4xNjIzNjEyIDE3LjEyMzc3NTUsMTEuMDQ2ODg4NyAxNy4zNDQyMjMsMTEuMDA5NjA0NSBDMTcuNTA0MjE5NCwxMC45ODI0NTU4IDE3LjY1ODc4NiwxMS4wMTI4NjIzIDE3LjgwNzU2MDksMTEuMTAwODI0MiBDMTcuOTU2MzM1OCwxMS4xODkxNDc5IDE4LjA0NDI5NzYsMTEuMzEzMzA4IDE4LjA3MTA4NDQsMTEuNDczMzA0NCBDMTguMDg2Mjg3NiwxMS41NjM0MzgxIDE4LjA3OTc3MiwxMS42NDcwNTYxIDE4LjA1MTg5OTMsMTEuNzIzNzk2NSBMMTUuMjY2NDQxOSwyMC43NzQ4MTM0IEMxNS4yMDg1MjQ3LDIwLjk4MDA1NzcgMTUuMDU5Mzg3OCwyMS4xMDMxMzE4IDE0LjgxOTM5MzIsMjEuMTQ0MDM1OCBDMTQuNjQ4ODk5MywyMS4xNzI5OTQ1IDE0LjQ5OTQwMDUsMjEuMTM4OTY4MSAxNC4zNjk4MTA2LDIxLjA0MjY4MDcgQzE0LjI0MDIyMDgsMjAuOTQ2MDMxMyAxNC4xNjM4NDI0LDIwLjgyNzY2MjkgMTQuMTM5OTUxNiwyMC42ODc1NzU2IEwxNC4xMzk5NTE2LDIwLjY4NzU3NTYgWiBNMTguOTUyODc0NCwxOS4xNTI3Njg3IEMxOC43OTU0MTE5LDE5LjAwNTgwMzcgMTguNzE2ODYxNiwxOC44MzA2MDQgMTguNzE2ODYxNiwxOC42Mjc1MzE3IEMxOC43MTY4NjE2LDE4LjQyNDQ1OTQgMTguNzg3ODEwMiwxOC4yNzc0OTQ0IDE4LjkzMDA2OTUsMTguMTg1OTEyNyBMMjIuMTQyNjY2NSwxNi4wODQ2MDI4IEwxOC45MzAwNjk1LDEzLjk4MzY1NDkgQzE4Ljc4NzgxMDIsMTMuODcxODAyMiAxOC43MTY4NjE2LDEzLjcyNDgzNzIgMTguNzE2ODYxNiwxMy41NDIwMzU5IEMxOC43MTY4NjE2LDEzLjMzODk2MzYgMTguNzk1NDExOSwxMy4xNjE1OTIgMTguOTUyODc0NCwxMy4wMDkxOTczIEMxOS4xMTAzMzY5LDEyLjg1NjgwMjUgMTkuMjc1MDM5LDEyLjc4MDc4NjEgMTkuNDQ3NzA0OCwxMi43ODA3ODYxIEMxOS41Mzg5MjQ1LDEyLjc4MDc4NjEgMTkuNjA5ODczMSwxMi44MDE0MTkyIDE5LjY2MDkxMjYsMTIuODQxNTk5MiBMMjMuNjY1MTY1OSwxNS40NjA1NDQ1IEMyMy44ODgxNDczLDE1LjYxMjkzOTMgMjQsMTUuODIxMDc5MyAyNCwxNi4wODQ2MDI4IEMyNCwxNi4zNDg4NTAyIDIzLjg4ODE0NzMsMTYuNTUxNTYwNiAyMy42NjUxNjU5LDE2LjY5MzgxOTggTDE5LjY2MDkxMjYsMTkuMzEyNzY1MSBDMTkuNjA5ODczMSwxOS4zNTMzMDcxIDE5LjUzODkyNDUsMTkuMzczNTc4MiAxOS40NDc3MDQ4LDE5LjM3MzU3ODIgQzE5LjI3NTAzOSwxOS4zNzM1NzgyIDE5LjExMDMzNjksMTkuMzAwMDk1NyAxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgTDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBaXCI+PC9wYXRoPlxuICAgICAgPGcgaWQ9XCJwb2ludC1zdHJhaWdodC1zaGFwZVwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1taXJyb3JlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjEuOTAxMjYzMiBDNy44ODE0NDg0MSwyMS45MDEyNjMyIDcuNTkyODcxNzIsMTMuNTc0MDUzNyAxNS40NTE0NDIzLDEzLjU3NDA1MzcgQzIzLjMxMDAxMjksMTMuNTc0MDUzNyAyMy44OTIxMjI4LDIxLjkwMTI2MzIgMjMuODkyMTIyOCwyMS45MDEyNjMyXCIvPlxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTQuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPGVsbGlwc2UgY3g9XCIxNS4zMzNcIiBjeT1cIjEzLjMzM1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMC41Njc5Mjk4IEM3Ljg4MTQ0ODQxLDIwLjU2NzkyOTggNy41OTI4NzE3MiwxMi4yNDA3MjA0IDE1LjQ1MTQ0MjMsMTIuMjQwNzIwNCBDMjEuMjAwNTIwNywxNy44ODczNyAyMy44OTIxMjI4LDIwLjU2NzkyOTggMjMuODkyMTIyOCwyMC41Njc5Mjk4XCIvPlxuICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPVwiI0ZGNTEyRlwiIHBvaW50cz1cIjYuMTMzIDEyIDE1LjIyOCAxMiAyMy45MzMgMjAuNjAyXCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjEuODg2XCIgeT1cIjE4LjU1MlwiIGZpbGw9XCIjRkY1MTJGXCIgdHJhbnNmb3JtPVwicm90YXRlKDQ1IDIzLjIxOSAxOS44ODYpXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LWFzeW1tZXRyaWMtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNy42NjcgOS4zMzMpXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCI5XCIgY3k9XCI0LjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTIuNTI3ODg1MDMsMi42NjY2NjY2NyBMMTguMTM4ODM0NiwyLjY2NjY2NjY3XCIvPlxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIxNi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwibW9qcy1sb2dvLXNoYXBlXCIgZD1cIk0xOC40Njc4OTA3LDIuNjc3MDAwNDggQzE5LjQ4ODU4NiwzLjI1NzU4NjI1IDIwLjI3ODkyMjcsNC4xODQyMTY1MSAyMC44NzgyMyw1LjE5NzM1NzkgQzI0LjA4MDc3ODgsMTAuNTAxNDUxIDI3LjI3NzcwOTEsMTUuODExMzExNiAzMC40ODAyNTgsMjEuMTE1NDA0NyBDMzEuMTMyMDA0NywyMi4xNjEyMjgxIDMxLjc3MDY0MTcsMjMuMjY0NzI1NiAzMS45MzU0NTEyLDI0LjUxNjI1MzIgQzMyLjE4ODI4NCwyNi4wNjE5MTg2IDMxLjY5MTk4MjYsMjcuNzM2Mzg5NSAzMC41NTg5MTcxLDI4LjgwMzM2IEMyOS40NTAxOTg0LDI5Ljg4NTcxMDMgMjcuODgwNzYyMiwzMC4zMTgyNjU5IDI2LjM4MDYyMDksMzAuMzA0ODA4NiBDMTkuNDUxMTI5MywzMC4zMDg2NTM1IDEyLjUyMzUxMDYsMzAuMzA4NjUzNSA1LjU5NDAxOTAxLDMwLjMwNDgwODYgQzMuNzE1NTY0OTQsMzAuMzQzMjU4IDEuNjk4NTIxMDQsMjkuNTcyMzQ3OCAwLjY4MzQ0NDE2NSwyNy44NzA5NjIzIEMtMC40MDY1NDYxMzIsMjYuMTA5OTgwMyAtMC4wOTc1MjgyNjQzLDIzLjc5MTQ4MjIgMC45NDAwMjI2MzcsMjIuMDg0MzI5MyBDNC4zNDI5NjQ4NSwxNi40MTMwNDQ1IDcuNzY2NTA4MjYsMTAuNzUzMjk0NSAxMS4xODI1NjAzLDUuMDg5Njk5NjEgQzExLjk3NDc2OTgsMy43NDc4MTU5NSAxMy4xODQ2MjE1LDIuNjAyMDI0MTggMTQuNjg0NzYyOCwyLjE4MjkyNTg0IEMxNS45NDUxODEyLDEuODE1NzM0MTggMTcuMzM0ODI1MSwyLjAxMTgyNjA2IDE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBaIE0xNS4zMzM0NjY4LDkuNTE1MjY4NDkgQzE1LjYxNDYyMzgsOS4wMzc3OTQ3NiAxNi4wNzkxNTk3LDkuMDIyNTA2NTUgMTYuMzc4NTY3OSw5LjQ5Mjk1NDcgTDI1LjI3NjM1NTUsMjMuNDczNjkxMyBDMjUuNTcyMzkxOSwyMy45Mzg4NDE0IDI1LjM1Njg0MzMsMjQuMzE1OTIwMSAyNC44MDc0Mzk4LDI0LjMxNTkyMDIgTDcuNjIzMTQ2NDcsMjQuMzE1OTIwNSBDNy4wNjgxMzUwNSwyNC4zMTU5MjA2IDYuODQ2MjI3OTgsMjMuOTI4Njg4OSA3LjEyNzI4OTEzLDIzLjQ1MTM3NzkgTDE1LjMzMzQ2NjgsOS41MTUyNjg0OSBaXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjwvcGF0aD5cbiAgICA8L3N2Zz5gIH19PjwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29ucztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2ljb25zLmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7aH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBSZXNpemVIYW5kbGUgZnJvbSAnLi9yZXNpemUtaGFuZGxlJztcblxuLy8gY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzLmpzb24nKTtcbmV4cG9ydCBkZWZhdWx0ICh7c3RhdGV9KSA9PiB7XG4gIGNvbnN0IHtwb2ludHMsIGNvbnRyb2xzfSA9IHN0YXRlLFxuICAgICAgICBvcGVuICAgICAgPSAoY29udHJvbHMuaXNDb2RlKSA/IENMQVNTRVNbJ2lzLW9wZW4nXSA6ICcnLFxuICAgICAgICBtYWluQ2xhc3MgPSBgJHtDTEFTU0VTWydjb2RlLXBhbmVsJ119ICR7b3Blbn1gO1xuXG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e21haW5DbGFzc30+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lubmVyJ10gfT5cbiAgICAgICAgICAgICAgPFJlc2l6ZUhhbmRsZSB0eXBlPVwidG9wXCIgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC13cmFwJ10gfT5cbiAgICAgICAgICAgICAgICA8aW5wdXQgIGNsYXNzTmFtZT17IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkJ10gfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiByZWFkb25seT1cInJlYWRvbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgcG9pbnRzLnByZXNlbnQucGF0aCB9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY29kZS1wYW5lbC5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY29kZS1wYW5lbF9ubmI5cF8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMDAlO3otaW5kZXg6MTtvdmVyZmxvdzpoaWRkZW47cGFkZGluZy10b3A6MTZweDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5fY29kZS1wYW5lbF9ubmI5cF8zIFtkYXRhLWNvbXBvbmVudD1yZXNpemUtaGFuZGxlXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTtib3R0b206MTAwJX0uX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzF7Ym9yZGVyLXJhZGl1czo2cHggNnB4IDAgMDtiYWNrZ3JvdW5kOiMzZDFiM2M7cGFkZGluZzo0cHggNXB4IDVweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0O3RyYW5zaXRpb246YWxsIC4ycyBlYXNlLW91dH0uX2NvZGUtcGFuZWxfX2lucHV0LXdyYXBfbm5iOXBfMXtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOiM0MjEwM2Y7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjUpfS5fY29kZS1wYW5lbF9faW5wdXQtZmllbGRfbm5iOXBfMXtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6I2ZmZjtmb250LXNpemU6OXB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOi40NXB4O2ZvbnQtd2VpZ2h0OjEwMDtwYWRkaW5nOjAgLjNlbSAwIC44ZW07Ym9yZGVyOm5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6MjFweDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uX2NvZGUtcGFuZWxfbm5iOXBfMyA6Oi1tb3otc2VsZWN0aW9uLC5jb2RlLXBhbmVsIDo6LW1vei1zZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6c2VsZWN0aW9ue2JhY2tncm91bmQ6I2ZmNTEyZn0uX2NvZGUtcGFuZWxfbm5iOXBfMy5faXMtb3Blbl9ubmI5cF82MSAuX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjb2RlLXBhbmVsXCI6IFwiX2NvZGUtcGFuZWxfbm5iOXBfM1wiLFxuXHRcImNvZGUtcGFuZWxfX2lubmVyXCI6IFwiX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzFcIixcblx0XCJjb2RlLXBhbmVsX19pbnB1dC13cmFwXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LXdyYXBfbm5iOXBfMVwiLFxuXHRcImNvZGUtcGFuZWxfX2lucHV0LWZpZWxkXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzFcIixcblx0XCJpcy1vcGVuXCI6IFwiX2lzLW9wZW5fbm5iOXBfNjFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY29kZS1wYW5lbC5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZS1lZGl0b3JfMWY4cjVfNHtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7d2lkdGg6NDAzcHg7aGVpZ2h0OjM3OHB4O2JvcmRlci1yYWRpdXM6MTJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuODUpO3otaW5kZXg6MTAwO2JveC1zaGFkb3c6MnB4IDJweCAycHggcmdiYSgwLDAsMCwuMzgpfS5fY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NDJweDtsZWZ0OjA7dG9wOjA7Ym90dG9tOjA7cGFkZGluZzoxMHB4O2N1cnNvcjptb3ZlfS5fY3VydmUtZWRpdG9yX19sZWZ0XzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tZGl2aWRlcl17bWFyZ2luOjEwcHggYXV0b30uX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjQzcHg7dG9wOjA7cmlnaHQ6MDtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17dG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPWJvdHRvbV17Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXSwuX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT10b3Bde2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0yMXB4fS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXJpZ2h0XXtyaWdodDotMTZweDt0b3A6NTAlO21hcmdpbi10b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzF7bWFyZ2luLXRvcDoxMHB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uLWJ1dHRvbl17bWFyZ2luLWJvdHRvbTo1cHh9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbToxN3B4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0OjFweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbl17ZmlsbDojZmY1MTJmO3dpZHRoOjEycHg7aGVpZ2h0OjEycHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2NyZWF0ZVN0b3JlfSBmcm9tICdyZWR1eCc7XG4vLyBpbXBvcnQgcmVkdWNlclxuaW1wb3J0IHJlZHVjZXIgZnJvbSAnLi9yZWR1Y2Vycy9pbmRleC1yZWR1Y2VyJztcblxuY29uc3QgaW5pdFN0b3JlID0gKCkgPT4geyByZXR1cm4gY3JlYXRlU3RvcmUoIHJlZHVjZXIgKTsgIH1cblxuZXhwb3J0IGRlZmF1bHQgaW5pdFN0b3JlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzXG4gKiovIiwiLy8gUmVkdXggdXRpbGl0eSBmdW5jdGlvbnNcbmltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4Jztcbi8vIHJlZHV4LXVuZG8gaGlnaGVyLW9yZGVyIHJlZHVjZXJcbmltcG9ydCB1bmRvYWJsZSBmcm9tICdyZWR1eC11bmRvJztcblxuaW1wb3J0IHJlc2l6ZVJlZHVjZXIgICAgICAgIGZyb20gJy4vcmVzaXplLXJlZHVjZXInO1xuaW1wb3J0IHBvaW50c1JlZHVjZXIgICAgICAgIGZyb20gJy4vcG9pbnRzLXJlZHVjZXInO1xuaW1wb3J0IGNvbnRyb2xzUmVkdWNlciAgICAgIGZyb20gJy4vY29udHJvbHMtcmVkdWNlcic7XG5pbXBvcnQgcG9pbnRDb250cm9sc1JlZHVjZXIgZnJvbSAnLi9wb2ludC1jb250cm9scy1yZWR1Y2VyJztcbmltcG9ydCBwcm9ncmVzc2VzUmVkdWNlciAgICBmcm9tICcuL3Byb2dyZXNzZXMtcmVkdWNlcic7XG5cbmNvbnN0IFVORE9BQkxFX09QVFMgPSB7XG4gIGxpbWl0OiAxMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXJBY3Rpb25zKGFjdGlvbiwgY3VyclN0YXRlLCBoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG4gIH0sXG4gIGRlYnVnOiBmYWxzZVxufTtcblxuaW1wb3J0IHJlY3ljbGVTdGF0ZSBmcm9tICdyZWR1eC1yZWN5Y2xlJ1xuXG5jb25zdCByZWR1Y2VyID0gcmVjeWNsZVN0YXRlKGNvbWJpbmVSZWR1Y2Vycyh7XG4gIHJlc2l6ZTogICAgICAgIHJlc2l6ZVJlZHVjZXIsXG4gIHBvaW50czogICAgICAgIHVuZG9hYmxlKHBvaW50c1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KSxcbiAgY29udHJvbHM6ICAgICAgY29udHJvbHNSZWR1Y2VyLFxuICBwb2ludENvbnRyb2xzOiB1bmRvYWJsZShwb2ludENvbnRyb2xzUmVkdWNlciwgeyAuLi5VTkRPQUJMRV9PUFRTIH0pLFxuICBwcm9ncmVzc0xpbmVzOiBwcm9ncmVzc2VzUmVkdWNlcixcbn0pLCBbJ1NFVF9TVEFURSddLCAoc3RhdGUsIGFjdGlvbikgPT4gYWN0aW9uLmRhdGEgKTtcblxuZXhwb3J0IGRlZmF1bHQgcmVkdWNlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9pbmRleC1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgeDogICAgICAgICAgICAyMCxcbiAgdGVtcFg6ICAgICAgICAwLFxuXG4gIHk6ICAgICAgICAgICAgMjAsXG4gIHRlbXBZOiAgICAgICAgMCxcblxuICB0b3A6ICAgICAgICAgIDAsXG4gIHRlbXBfdG9wOiAgICAgMCxcblxuICByaWdodDogICAgICAgIDAsXG4gIHRlbXBfcmlnaHQ6ICAgMCxcblxuICBib3R0b206ICAgICAgIDAsXG4gIHRlbXBfYm90dG9tOiAgMCxcbiAgc2NhbGVyWDogICAgICBDLkNVUlZFX1BFUkNFTlQsXG4gIGFic1NjYWxlclg6ICAgMVxufVxuXG5jb25zdCByZXNpemVSZWR1Y2VyID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdFRElUT1JfUkVTSVpFJzoge1xuICAgICAgY29uc3Qge2RhdGF9ID0gYWN0aW9uLFxuICAgICAgICAgICAge3R5cGV9ID0gZGF0YSxcbiAgICAgICAgICAgIGRlbHRhICA9ICggdHlwZSA9PT0gJ3RvcCcgfHwgdHlwZSA9PT0gJ2JvdHRvbScgKSA/IGRhdGEueSA6IGRhdGEueDtcblxuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlLCBbYHRlbXBfJHt0eXBlfWBdOiBkZWx0YSB9O1xuICAgICAgLy8gaWYgYHJpZ2h0YHNpemUgY2hhbmdlZCAtIGNhbGN1bGF0ZSB0aGUgc2NhbGVyIGZvciB4IGF4aXNcbiAgICAgIGlmICggdHlwZSA9PT0gJ3JpZ2h0JyApIHtcbiAgICAgICAgbmV3U3RhdGVbICdzY2FsZXJYJyBdICAgID0gKEMuQ1VSVkVfU0laRSArIE1hdGgubWF4KCBzdGF0ZS5yaWdodCArIGRlbHRhLCAwICkpLzEwMDtcbiAgICAgICAgbmV3U3RhdGVbICdhYnNTY2FsZXJYJyBdID0gbmV3U3RhdGVbICdzY2FsZXJYJyBdIC8gQy5DVVJWRV9QRVJDRU5UO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9SRVNJWkVfRU5EJzoge1xuICAgICAgY29uc3Qge2RhdGF9ID0gYWN0aW9uO1xuICAgICAgY29uc3Qge3R5cGV9ID0gZGF0YTtcbiAgICAgIGNvbnN0IGRlbHRhID0gKCB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyApID8gZGF0YS55IDogZGF0YS54O1xuICAgICAgLy8gZ2V0IHRoZSB0b3RhbCByZXNpemUgdmFsdWUgKCB0ZW1wb3JhcnkgKyBhY3R1YWwgKVxuICAgICAgY29uc3QgcmVzaXplID0gc3RhdGVbYCR7YWN0aW9uLmRhdGEudHlwZX1gXSArIGRlbHRhO1xuICAgICAgLy8gaWYgdGhlIHR5cGUgaWYgdG8gLSBpdCBoYXMgdGhlIGAtYCBhcyBiYXNlIHNvIHdlIG5lZWQgdG8gc3dhcCBtZXRob2RzXG4gICAgICBjb25zdCBtYXRoTWV0aG9kID0gKCB0eXBlID09PSAndG9wJyApID8gJ21pbicgOiAnbWF4JztcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSxcbiAgICAgICAgW2Ake2FjdGlvbi5kYXRhLnR5cGV9YF06IE1hdGhbbWF0aE1ldGhvZF0oMCwgcmVzaXplKSxcbiAgICAgICAgW2B0ZW1wXyR7YWN0aW9uLmRhdGEudHlwZX1gXTogMFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7eCwgeX0gPSBhY3Rpb24uZGF0YTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB0ZW1wWDogeCwgdGVtcFk6IHkgfTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFX0VORCc6IHtcbiAgICAgIGxldCB7eCwgeX0gPSBhY3Rpb24uZGF0YTtcbiAgICAgIHggKz0gc3RhdGUueDtcbiAgICAgIHkgKz0gc3RhdGUueTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB4LCB5LCB0ZW1wWDogMCwgdGVtcFk6IDAgfTtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc2l6ZVJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcmVzaXplLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtYWtlUG9pbnQgZnJvbSAnLi4vaGVscGVycy9tYWtlLXBvaW50JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgaW5pdFBvaW50cyBmcm9tICcuLi9oZWxwZXJzL2luaXQtcG9pbnRzJztcbmltcG9ydCBjYWxjdWxhdGVQYXRoIGZyb20gJy4uL2hlbHBlcnMvY2FsY3VsYXRlLXBhdGgnO1xuXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBwYXRoOiAgICAgICAnJyxcbiAgc2VnbWVudHM6ICAgW10sXG4gIHBvaW50czogICAgIFtdXG4gIC8vIHBvaW50czogaW5pdFBvaW50cyhbXG4gIC8vICAgbWFrZVBvaW50KHsgeDogMCwgICB5OiBDLkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9KSxcbiAgLy8gICAvLyBtYWtlUG9pbnQoeyB4OiA1MCwgIHk6IEMuQ1VSVkVfU0laRS8yLCB0eXBlOiAnbWlycm9yZWQnIH0pLFxuICAvLyAgIG1ha2VQb2ludCh7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0pXG4gIC8vIF0pXG59XG5cbmNvbnN0IGRlc2VsZWN0QWxsID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgcG9pbnRzOiBbXSB9LFxuICAgICAgICBwb2ludHMgICA9IHN0YXRlLnBvaW50cztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIG5ld1N0YXRlLnBvaW50cy5wdXNoKHsgLi4ucG9pbnRzW2ldLCBpc1NlbGVjdGVkOiBmYWxzZSB9KTtcbiAgfVxuICByZXR1cm4gbmV3U3RhdGU7XG59XG5cbmNvbnN0IGZpbmRTZWxlY3RlZEluZGVjaWVzID0gKHBvaW50cykgPT4ge1xuICBjb25zdCBpbmRlY2llcyAgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIHBvaW50c1tpXS5pc1NlbGVjdGVkICYmIGluZGVjaWVzLnB1c2goIGkgKTtcbiAgfVxuICByZXR1cm4gaW5kZWNpZXM7XG59XG5cbmNvbnN0IHBvaW50c1JlZHVjZXIgPSAoc3RhdGUgPSBJTklUSUFMX1NUQVRFLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoKCBhY3Rpb24udHlwZSApIHtcbiAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXh9ICAgPSBkYXRhLFxuICAgICAgICAgICAge3BvaW50c30gID0gc3RhdGUsXG4gICAgICAgICAgICBvbGRQb2ludCAgPSBwb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgbmV3UG9pbnRzID0gWyAuLi5wb2ludHMgXTtcblxuICAgICAgbmV3UG9pbnRzWyBkYXRhLmluZGV4IF0gPSB7IC4uLm9sZFBvaW50LCB0ZW1wWDogZGF0YS54LCB0ZW1wWTogZGF0YS55IH1cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBjb25zdCBpbmRleCAgICAgPSBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgIHtwb2ludHN9ICA9IHN0YXRlLFxuICAgICAgICAgICAgb2xkUG9pbnQgID0gcG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgIG5ld1BvaW50cyA9IFsgLi4ucG9pbnRzIF07XG5cbiAgICAgIG5ld1BvaW50c1sgaW5kZXggXSA9IHtcbiAgICAgICAgICAuLi5vbGRQb2ludCxcbiAgICAgICAgICB4OiBvbGRQb2ludC54ICsgb2xkUG9pbnQudGVtcFgsXG4gICAgICAgICAgeTogb2xkUG9pbnQueSArIG9sZFBvaW50LnRlbXBZLFxuICAgICAgICAgIHRlbXBYOiAwLCB0ZW1wWTogMFxuICAgICAgICB9XG5cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cbiAgICBcbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gICAgICAgICAgICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4LCBpc0Rlc2VsZWN0fSA9IGRhdGEsXG4gICAgICAgICAgICBuZXdTdGF0ZSAgICAgICAgICAgID0gKGlzRGVzZWxlY3QpID8gZGVzZWxlY3RBbGwoIHN0YXRlICkgOiB7IC4uLnN0YXRlIH0sXG4gICAgICAgICAgICB7cG9pbnRzfSAgICAgICAgICAgID0gbmV3U3RhdGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2luZGV4XTtcbiAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50cyB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0FERCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4LCBwb2ludH0gPSBkYXRhLFxuICAgICAgICAgICAgZGVzZWxlY3RlZCAgICAgPSBkZXNlbGVjdEFsbCggc3RhdGUgKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW1xuICAgICAgICAuLi5kZXNlbGVjdGVkLnBvaW50cy5zbGljZSggMCwgaW5kZXggKSxcbiAgICAgICAgbWFrZVBvaW50KHsgLi4ucG9pbnQgfSksXG4gICAgICAgIC4uLmRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKCBpbmRleCApXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBwb2ludHMgPSAobmV3UG9pbnRzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGluaXRQb2ludHMoIG5ld1BvaW50cyApIDogbmV3UG9pbnRzO1xuXG4gICAgICBjb25zdCBwYXRoID0gKHBvaW50cy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlUGF0aCggcG9pbnRzICkgOiB7fTtcblxuICAgICAgcmV0dXJuIHsgcG9pbnRzLCAuLi5wYXRoIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFTEVURSc6IHtcbiAgICAgIGNvbnN0IHtwb2ludHN9ID0gc3RhdGUsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHBvaW50cyk7XG5cbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHBvaW50c1tpXTtcbiAgICAgICAgKCBzZWxlY3RlZC5pbmRleE9mKGkpID09PSAtMSB8fCBpdGVtLmlzTG9ja2VkWCApICYmIG5ld1BvaW50cy5wdXNoKCBpdGVtICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzoge1xuICAgICAgY29uc3Qge3BvaW50c30gPSBzdGF0ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMocG9pbnRzKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gcG9pbnRzW2ldLFxuICAgICAgICAgICAgICB0eXBlID0gYWN0aW9uLmRhdGE7XG4gICAgICAgIC8vIGNvcHkgYWxsIGl0ZW1zIGZyb20gcHJldmlvdXMgcG9pbnRzXG4gICAgICAgIG5ld1BvaW50cy5wdXNoKCB7IC4uLml0ZW0gfSApO1xuICAgICAgICAvLyBpZiBpdGVtIHdhcyBzZWxlY3RlZCAtIHNldCB0aGUgbmV3IGB0eXBlYFxuICAgICAgICAoIHNlbGVjdGVkLmluZGV4T2YoaSkgIT09IC0xICkgJiYgKG5ld1BvaW50c1tpXS50eXBlID0gdHlwZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IGksXG4gICAgICAgICAgICAgIHBvaW50ID0gbmV3UG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgICAgc2liUG9pbnQgPSAoaW5kZXggPT09IG5ld1BvaW50cy5sZW5ndGgtMSlcbiAgICAgICAgICAgICAgICA/IG5ld1BvaW50c1tpbmRleC0xXSA6IG5ld1BvaW50c1tpbmRleCsxXTtcblxuICAgICAgICBjb25zdCBoYW5kbGVJbmRleCA9IChpbmRleCA9PT0gbmV3UG9pbnRzLmxlbmd0aC0xKSA/IDEgOiAyLFxuICAgICAgICAgICAgICBzaWJIYW5kbGVJbmRleCA9IChoYW5kbGVJbmRleCA9PT0gMSkgPyAyIDogMSxcbiAgICAgICAgICAgICAgaGFuZGxlTmFtZSA9IGBoYW5kbGUke2hhbmRsZUluZGV4fWAsXG4gICAgICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSBgaGFuZGxlJHtzaWJIYW5kbGVJbmRleH1gLFxuICAgICAgICAgICAgICBoYW5kbGUgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH0sXG4gICAgICAgICAgICAgIHNpYkhhbmRsZSA9IHsgLi4ucG9pbnRbc2liSGFuZGxlTmFtZV0gfTtcblxuICAgICAgICBwb2ludFtoYW5kbGVOYW1lXSA9IGhhbmRsZTtcbiAgICAgICAgcG9pbnRbc2liSGFuZGxlTmFtZV0gPSBzaWJIYW5kbGU7XG5cbiAgICAgICAgaWYgKCB0eXBlID09PSAnbWlycm9yZWQnIHx8IHR5cGUgPT09ICdhc3ltbWV0cmljJyApIHtcbiAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG4gICAgICAgICAgaWYgKCB0eXBlID09PSAnbWlycm9yZWQnICkge1xuICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6IHtcbiAgICAgIHJldHVybiB7IC4uLmRlc2VsZWN0QWxsKCBzdGF0ZSApIH07XG4gICAgfVxuXG4gICAgLy8gSEFORExFU1xuICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSAgPSBzdGF0ZSxcbiAgICAgICAgICAgIHtkYXRhfSAgICA9IGFjdGlvbjtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbLi4ucG9pbnRzXSxcbiAgICAgICAgICAgIG5ld1BvaW50ICA9IHsgLi4ubmV3UG9pbnRzW2RhdGEucGFyZW50SW5kZXhdIH07XG5cbiAgICAgIG5ld1BvaW50c1tkYXRhLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcbiAgICAgIGNvbnN0IGhhbmRsZU5hbWUgPSBgaGFuZGxlJHtkYXRhLmluZGV4fWAsXG4gICAgICAgICAgICBuZXdIYW5kbGUgPSB7IC4uLm5ld1BvaW50W2hhbmRsZU5hbWVdIH07XG5cbiAgICAgIG5ld1BvaW50WyBoYW5kbGVOYW1lIF0gPSBuZXdIYW5kbGU7XG4gICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG4gICAgICBuZXdIYW5kbGUuYW5nbGUgID0gZGF0YS5hbmdsZTtcbiAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBkYXRhLnJhZGl1cztcblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgY2FzZSAnSEFORExFX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICByZXR1cm4gc3RhdGU7Ly97IC4uLnN0YXRlIH07XG4gICAgfVxuXG4gICAgLy8gY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcbiAgICAvLyBjYXNlICdQT0lOVF9UUkFOU0xBVEVfRU5EJzpcbiAgICAvLyBjYXNlICdQT0lOVF9BREQnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX1JFTU9WREUnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzpcbiAgICAvLyBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcbiAgICAvLyAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5jYWxjdWxhdGVQYXRoKCBzdGF0ZS5wb2ludHMucHJlc2VudCApIH1cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50c1JlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gcmVxdWlyZShcIi4uL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxudmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMTc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZyb207XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBjYWxsICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJylcbiAgLCB0b0xlbmd0aCAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuL19jcmVhdGUtcHJvcGVydHknKVxuICAsIGdldEl0ZXJGbiAgICAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcbiAgICB2YXIgTyAgICAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcbiAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcbiAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgbWFwZm4gICA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG4gICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4gKiogbW9kdWxlIGlkID0gMTc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjICAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBpbmRleCwgdmFsdWUpe1xuICBpZihpbmRleCBpbiBvYmplY3QpJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDE4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4gKiogbW9kdWxlIGlkID0gMTgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gMTgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDE4M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5jb25zdCBmYWxsYmFjayA9ICggdmFsdWUsIGZhbGxiYWNrICkgPT4ge1xuICByZXR1cm4gKCB2YWx1ZSAhPSBudWxsICkgPyB2YWx1ZSA6IGZhbGxiYWNrO1xufVxuXG5cbmNvbnN0IG1ha2VIYW5kbGVQb2ludCA9IChvPXt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6ICAgICAgZmFsbGJhY2soIG8uaW5kZXgsIDAgKSxcbiAgICAvLyBjb29yZGluYXRlc1xuICAgIGFuZ2xlOiAgICAgIGZhbGxiYWNrKCBvLmFuZ2xlLCAgbnVsbCApLFxuICAgIHJhZGl1czogICAgIGZhbGxiYWNrKCBvLnJhZGl1cywgbnVsbCApLFxuICAgIC8vIHN0YXRlXG4gICAgaXNUb3VjaGVkOiAgZmFsbGJhY2soIG8uaXNUb3VjaGVkLCBmYWxzZSApLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKCBvLmlzU2VsZWN0ZWQsIGZhbHNlICksXG4gIH07XG59XG5cbmNvbnN0IG1ha2VQb3NpdGlvblBvaW50ID0gKG89e30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICAvLyBjb29yZGluYXRlc1xuICAgIHg6ICAgIGZhbGxiYWNrKCBvLngsIDAgKSxcbiAgICB5OiAgICBmYWxsYmFjayggby55LCAwICksXG4gICAgLy8gdGVtcG9yYXJ5IGNvb3JkaW5hdGVzICh3aGVuIHVzZXIgbW92ZXMgdGhlIHBvaW50KSAtXG4gICAgLy8gc2hvdWxkIG5vdCBiZSBpbiBoaXN0b3J5XG4gICAgdGVtcFg6IGZhbGxiYWNrKCBvLnRlbXBYLCAwICksXG4gICAgdGVtcFk6IGZhbGxiYWNrKCBvLnRlbXBZLCAwICksXG4gICAgLy8gc3RhdGVcbiAgICBpc1RvdWNoZWQ6ICBmYWxsYmFjayggby5pc1RvdWNoZWQsIGZhbHNlICksXG4gICAgaXNTZWxlY3RlZDogZmFsbGJhY2soIG8uaXNTZWxlY3RlZCwgZmFsc2UgKSxcbiAgfTtcbn1cblxuY29uc3QgbWFrZVBvaW50ID0gKG8gPSB7fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIHN0YXRlXG4gICAgLy8gaXNPbmVIYW5kbGU6IGZhbGxiYWNrKCBvLmlzT25lSGFuZGxlLCBmYWxzZSApLFxuICAgIGlzTG9ja2VkWDogICBmYWxsYmFjayggby5pc0xvY2tlZFgsIGZhbHNlICksXG4gICAgaXNMb2NrZWRZOiAgIGZhbGxiYWNrKCBvLmlzTG9ja2VkWSwgZmFsc2UgKSxcbiAgICAvLyB0eXBlIG9mIHRoZSBwb2ludDpcbiAgICAvLyAgICdzdHJhaWdodCcgfHwgJ21pcnJvcmVkJyB8fCAnZGlzY29ubmVjdGVkJyB8fCAnYXN5bWV0cmljJ1xuICAgIHR5cGU6ICAgICAgIGZhbGxiYWNrKCBvLnR5cGUsICdzdHJhaWdodCcgKSxcbiAgICAvLyBhZGQgcG9zaXRpb24gYXR0cmlidXRlcyB0byBzZWxmXG4gICAgLi4ubWFrZVBvc2l0aW9uUG9pbnQobyksXG4gICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcbiAgICBoYW5kbGUxOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUxIHx8IHsgaW5kZXg6IDEgfSksXG4gICAgaGFuZGxlMjogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMiB8fCB7IGluZGV4OiAyIH0pXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VQb2ludDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL21ha2UtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgaW5pdFBvaW50IGZyb20gJy4vaW5pdC1wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludHMpID0+IHtcblxuICBjb25zdCBuZXdQb2ludHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXSxcbiAgICAgICAgICBzaWJQb2ludCA9IChpID09PSBwb2ludHMubGVuZ3RoLTEpXG4gICAgICAgICAgICA/IHBvaW50c1tpLTFdIDogcG9pbnRzW2krMV0sXG4gICAgICAgICAgaGFuZGxlSW5kZXggPSAoaSA9PT0gcG9pbnRzLmxlbmd0aC0xKSA/IDEgOiAyO1xuXG4gICAgbmV3UG9pbnRzLnB1c2goIGluaXRQb2ludCggcG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCApICk7XG4gIH1cbiAgcmV0dXJuIG5ld1BvaW50cztcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2luaXQtcG9pbnRzLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpID0+IHtcblxuICBwb2ludCA9IHsgLi4ucG9pbnQgfTtcblxuICBjb25zdCBoYW5kbGVOYW1lICAgICA9IGBoYW5kbGUke2hhbmRsZUluZGV4fWAsXG4gICAgICAgIHNpYkhhbmRsZUluZGV4ID0gKGhhbmRsZUluZGV4ID09PSAxKSA/IDIgOiAxLFxuICAgICAgICBzaWJIYW5kbGVOYW1lICA9IGBoYW5kbGUke3NpYkhhbmRsZUluZGV4fWAsXG4gICAgICAgIGhhbmRsZSAgICAgICAgID0geyAuLi5wb2ludFtoYW5kbGVOYW1lXSB9LFxuICAgICAgICBzaWJIYW5kbGUgICAgICA9IHsgLi4ucG9pbnRbc2liSGFuZGxlTmFtZV0gfSxcbiAgICAgICAgdHlwZSAgICAgICAgICAgPSBwb2ludC50eXBlO1xuXG4gIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblxuICBpZiAoIGhhbmRsZS5hbmdsZSA9PSBudWxsIHx8IGhhbmRsZS5yYWRpdXMgPT0gbnVsbCApIHtcbiAgICBoYW5kbGUucmFkaXVzID0gNTA7XG5cbiAgICBjb25zdCBkeSA9IChzaWJQb2ludC55IC0gcG9pbnQueSkgLyBDLkNVUlZFX1BFUkNFTlQsXG4gICAgICAgICAgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcbiAgICBcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4oIGR5L2R4ICkgKiAoMTgwL01hdGguUEkpIC0gOTA7XG4gICAgaWYgKCBkeCA+IDAgKSB7IGFuZ2xlID0gYW5nbGUgLSAxODAgfTtcblxuICAgIGhhbmRsZS5hbmdsZSA9IGFuZ2xlO1xuICAgIHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzO1xuICAgIHNpYkhhbmRsZS5hbmdsZSAgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG4gIH1cblxuICByZXR1cm4gcG9pbnQ7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzXG4gKiovIiwiXG5pbXBvcnQgY2FsY3VsYXRlU2VnbWVudCBmcm9tICcuL2NhbGN1bGF0ZS1zZWdtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50cykgPT4ge1xuICBsZXQgcGF0aCAgICAgPSAnJyxcbiAgICAgIHNlZ21lbnRzID0gW107XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBvaW50cy5sZW5ndGgtMTsgaW5kZXgrKykge1xuICAgIGNvbnN0IHBvaW50ICAgICA9IHBvaW50c1tpbmRleF0sXG4gICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2luZGV4KzFdO1xuXG4gICAgY29uc3Qgc2VnbWVudCA9IGNhbGN1bGF0ZVNlZ21lbnQoIHBvaW50LCBuZXh0UG9pbnQsIGluZGV4ICk7XG4gICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICBcbiAgICBwYXRoICs9IHNlZ21lbnQuc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHsgcGF0aCwgc2VnbWVudHMgfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBjYWxjdWxhdGVQb2ludCBmcm9tICcuL2NhbGN1bGF0ZS1wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludCwgbmV4dFBvaW50LCBpbmRleCkgPT4ge1xuICAgIGlmICggIW5leHRQb2ludCApIHsgcmV0dXJuIDE7IH1cblxuICAgIGxldCBzdHJpbmcgPSAnJyxcbiAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXG4gICAgY29uc3QgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcbiAgICAgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuICAgICAgICAgIHhOZXh0ID0gbmV4dFBvaW50LnggKyBuZXh0UG9pbnQudGVtcFgsXG4gICAgICAgICAgeU5leHQgPSBuZXh0UG9pbnQueSArIG5leHRQb2ludC50ZW1wWTtcblxuICAgIGNvbnN0IHBhcnQxID0gYE0ke3h9LCAke3kvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICAgIGlmICggaW5kZXggPT09IDAgKSB7IHN0cmluZyArPSBwYXJ0MSB9XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MTtcblxuICAgIGNvbnN0IHBhcnQyID0gY2FsY3VsYXRlUG9pbnQoIHBvaW50LCAyICk7XG4gICAgc3RyaW5nICs9IHBhcnQyO1xuICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDI7XG5cbiAgICBjb25zdCBwYXJ0MyA9IGNhbGN1bGF0ZVBvaW50KCBuZXh0UG9pbnQsIDEgKTtcbiAgICBzdHJpbmcgKz0gcGFydDM7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MztcblxuICAgIGNvbnN0IHBhcnQ0ID0gYCR7eE5leHR9LCAke3lOZXh0L0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgICBzdHJpbmcgKz0gcGFydDQ7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0NDtcblxuICAgIHJldHVybiB7IHN0cmluZywgc2VnbWVudFN0cmluZywgaW5kZXggfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1zZWdtZW50LmJhYmVsLmpzXG4gKiovIiwiXG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4vYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50LCBoYW5kbGVJbmRleCA9IDEpID0+IHtcbiAgICBjb25zdCB4ICAgICAgPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG4gICAgICAgICAgeSAgICAgID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuICAgICAgICAgIGhhbmRsZSA9IHBvaW50W2BoYW5kbGUke2hhbmRsZUluZGV4fWBdO1xuXG4gIGNvbnN0IENIQVIgPSAoIGhhbmRsZUluZGV4ID09PSAyICkgPyAnQycgOiAnJztcbiAgaWYgKCBwb2ludC50eXBlICE9PSAnc3RyYWlnaHQnICkge1xuICAgIGNvbnN0IGhhbmRsZUNvb3JkcyA9IGFuZ2xlVG9Qb2ludCggaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzICk7XG4gICAgcmV0dXJuIGAke0NIQVJ9JHt4ICsgaGFuZGxlQ29vcmRzLngvQy5DVVJWRV9QRVJDRU5UfSwgJHsoeSArIGhhbmRsZUNvb3Jkcy55KS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke0NIQVJ9JHt4fSwgJHt5L0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvY2FsY3VsYXRlLXBvaW50LmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IGNhbGN1bGF0ZVBhdGggZnJvbSAnLi4vaGVscGVycy9jYWxjdWxhdGUtcGF0aCc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIGlzQ29kZTogZmFsc2Vcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQ09ERV9UQVAnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNDb2RlOiAhc3RhdGUuaXNDb2RlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRDb250cm9scztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBpc1Nob3c6IGZhbHNlLFxuICB0eXBlOiAgICdzdHJhaWdodCdcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gcHJvYmFibHkgcmVkdW5kYW50XG4gICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9O1xuICAgIC8vIH1cbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB0eXBlID0gYWN0aW9uLmRhdGEudHlwZTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZSB9O1xuICAgIH1cbiAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB0eXBlOiBhY3Rpb24uZGF0YSB9OyBcbiAgICB9XG4gICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogZmFsc2UgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3BvaW50LWNvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSByZWN5Y2xlU3RhdGU7XG4vLyByZWR1eC1yZWN5Y2xlIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5mdW5jdGlvbiByZWN5Y2xlU3RhdGUocmVkdWNlcikge1xuICB2YXIgYWN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuICB2YXIgaW5pdGlhbFN0YXRlID0gYXJndW1lbnRzWzJdO1xuXG4gIHZhciBnZXRJbml0aWFsU3RhdGUgPSB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gaW5pdGlhbFN0YXRlIDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpbml0aWFsU3RhdGU7XG4gIH07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMCkge1xuICAgICAgcmV0dXJuIHJlZHVjZXIoZ2V0SW5pdGlhbFN0YXRlKHN0YXRlLCBhY3Rpb24pLCB7IHR5cGU6ICdAQHJlZHV4LXJlY3ljbGUvSU5JVCcgfSk7XG4gICAgfVxuICAgIHJldHVybiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICB9O1xufVxuLy8gL3JlZHV4LXJlY3ljbGVcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC1yZWN5Y2xlL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcbiAgRnVuY3Rpb24gdG8gZ2VuZXJhdGUgaGFzaCBjb2RlLlxuICBAcHJpdmF0ZVxuICBAcmV0dXJuIHtTdHJpbmd9IEhhc2ggY29kZS5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IChzdHIpID0+IHtcbiAgdmFyIGhhc2ggPSAwLCBpLCBjaHIsIGxlbjtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHJldHVybiBoYXNoO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjaHIgICA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaHI7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoIGhhc2ggKTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2hhc2guYmFiZWwuanNcbiAqKi8iLCIvKlxuICBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHNlY29uZCBhcmd1bWVudCBpZiB0aGUgZmlyc3Qgb25lIGlzbid0IHNldC5cbiAgQHByaXZhdGVcbiAgQHBhcmFtIHtBbnl9IFByb3BlcnR5IHRvIHNldC5cbiAgQHBhcmFtIHtBbnl9IFByb3BlcnR5IHRvIHJldHVybiBhcyBmYWxsYmFjay5cbiAgQHJldHVybnMge0FueX0gSWYgc2V0IC0gdGhlIGZpcnN0IHByb3BlcnR5LCBpZiBub3QgLSB0aGUgc2Vjb25kLlxuKi9cbmV4cG9ydCBkZWZhdWx0IChwcm9wLCBmYWxsYmFjaykgPT4ge1xuICByZXR1cm4gKCBwcm9wICE9IG51bGwgKSA/IHByb3AgOiBmYWxsYmFjaztcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2ZhbGxiYWNrLXRvLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL21haW4ucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTk1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZDojZmZmNWU0fSp7Ym94LXNpemluZzpib3JkZXItYm94fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE5NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcHJvZ3Jlc3MtbGluZScpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcHJvZ3Jlc3MtbGluZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFByb2dyZXNzTGluZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgcCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSB7IGJhY2tncm91bmRDb2xvcjogcC5jb2xvciB9XG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e0NMQVNTRVNbJ3Byb2dyZXNzLWxpbmUnXX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PXsncHJvZ3Jlc3MtbGluZSd9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzTGluZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL3Byb2dyZXNzLWxpbmUuYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcHJvZ3Jlc3MtbGluZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE5OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Byb2dyZXNzLWxpbmVfMWo0cHBfM3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDt3aWR0aDoxcHg7bWFyZ2luLWxlZnQ6LTEuNXB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInByb2dyZXNzLWxpbmVcIjogXCJfcHJvZ3Jlc3MtbGluZV8xajRwcF8zXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDIwMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBzZWxlY3RlZDogICAwLFxuICBsaW5lczogICAgICBbXVxufTtcblxuY29uc3QgZ2V0Q29sb3IgPSAobGluZXMpID0+IHtcbiAgY29uc3QgQ09MT1JTID0gWyAnI0ZGNTEyRicsICcjRkYwMEM1JywgJyMwMEZGNjknLCAnd2hpdGUnLCAnIzFCOEZFNicsICdDWUFOJywgJ1lFTExPVycgXTtcblxuICByZXR1cm4gQ09MT1JTWyBsaW5lcy5sZW5ndGggJSBDT0xPUlMubGVuZ3RoIF07XG59XG5cbmNvbnN0IG1ha2VQcm9ncmVzc0xpbmUgPSAobyA9e30sIHN0YXRlKSA9PiB7XG4gIGNvbnN0IHtsaW5lc30gPSBzdGF0ZTtcbiAgcmV0dXJuIHtcbiAgICAvLyBwcm9ncmVzczogICAgIDAsXG4gICAgY29sb3I6ICAgICAgICBnZXRDb2xvcihsaW5lcyksXG4gICAgbmFtZTogICAgICAgICBgZWFzaW5nJHtsaW5lcy5sZW5ndGgrMX1gXG4gIH1cbn1cblxuY29uc3QgcHJvZ3Jlc3NlcyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cbiAgICBjYXNlICdBRERfUFJPR1JFU1NfTElORSc6IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSB9O1xuICAgICAgbmV3U3RhdGUubGluZXMgPSBbIC4uLm5ld1N0YXRlLmxpbmVzLCBtYWtlUHJvZ3Jlc3NMaW5lKCBhY3Rpb24uZGF0YSwgc3RhdGUgKSBdO1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ1NFVF9TRUxFQ1RFRF9QUk9HUkVTU19MSU5FJzoge1xuICAgICAgY29uc3Qge2luZGV4fSAgICA9IGFjdGlvbjtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBzZWxlY3RlZDogaW5kZXggfTtcbiAgICB9XG4gICAgXG4gICAgLy8gY2FzZSAnU0VUX1BST0dSRVNTX0xJTkVfU0hJRlQnOiB7XG4gICAgLy8gICBjb25zdCB7ZGF0YX0gICAgPSBhY3Rpb24sXG4gICAgLy8gICAgICAgICB7aW5kZXh9ICAgPSBkYXRhLFxuICAgIC8vICAgICAgICAgbmV3U3RhdGUgID0geyAuLi5zdGF0ZSB9LFxuICAgIC8vICAgICAgICAge2xpbmVzfSAgID0gbmV3U3RhdGU7XG5cbiAgICAvLyAgIG5ld1N0YXRlLmxpbmVzICA9IFsgLi4ubGluZXMuc2xpY2UoIDAsIGluZGV4ICksXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgIHsgLi4ubGluZXNbaW5kZXhdLCBwcm9ncmVzczogZGF0YS5wcm9ncmVzcyB9LFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAuLi5saW5lcy5zbGljZSggaW5kZXgrMSApXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBdO1xuXG4gICAgLy8gICByZXR1cm4gbmV3U3RhdGU7XG4gICAgLy8gfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJvZ3Jlc3NlcztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9wcm9ncmVzc2VzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcblxuZXhwb3J0IGRlZmF1bHQgKGZuKSA9PiB7XG4gIHNldFRpbWVvdXQoIGZuLCAxICk7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9kZWZlci5iYWJlbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=