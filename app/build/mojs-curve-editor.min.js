!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+x+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===M&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===M&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=P[t];if(!n)return p;var r=function(e){return n.hot.active?P[e]?(P[e].parents.indexOf(t)<0&&P[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void I.push(t):M},addStatusHandler:function(t){I.push(t)},removeStatusHandler:function(t){var e=I.indexOf(t);e>=0&&I.splice(e,1)},data:b[t]};return e}function i(t){M=t;for(var e=0;e<I.length;e++)I[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);E={},A={},j={};for(var r=0;r<n.c.length;r++)A[n.c[r]]=!0;y=n.h,i("prepare"),g=e,_={};var o=0;c(o),"prepare"===M&&0===C&&0===T&&l()})}function u(t,e){if(A[t]&&E[t]){E[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(_[n]=e[n]);0===--T&&0===C&&l()}}function c(t){A[t]?(E[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in _)Object.prototype.hasOwnProperty.call(_,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=P[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=P[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in _)if(Object.prototype.hasOwnProperty.call(_,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=_[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];P[f]&&P[f].hot._selfAccepted&&h.push({module:f,errorHandler:P[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=P[f];if(m){for(var I={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(I)}b[f]=I,m.hot.active=!1,delete P[f];for(var C=0;C<m.children.length;C++){var E=P[m.children[C]];if(E){var A=E.parents.indexOf(f);A>=0&&E.parents.splice(A,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=P[f],O=s[f],C=0;C<O.length;C++){var S=O[C],A=m.children.indexOf(S);A>=0&&m.children.splice(A,1)}i("apply"),x=y;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=P[f],O=s[f],N=[],v=0;v<O.length;v++){var S=O[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(k){D||(D=k)}}}for(var v=0;v<h.length;v++){var L=h[v],f=L.module;w=[f];try{p(f)}catch(k){if("function"==typeof L.errorHandler)try{L.errorHandler(k)}catch(k){D||(D=k)}else D||(D=k)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(P[e])return P[e].exports;var n=P[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,_,y,m=!0,x="1f00e8e70510844d2aaa",b={},w=[],I=[],M="idle",T=0,C=0,j={},E={},A={},P={};return p.m=t,p.c=P,p.p="build/",p.h=function(){return x},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(5),s=r(a),u=n(42),c=r(u),l=n(43),f=r(l),p=n(47),d=n(48),h=n(65),v=r(h),g=n(173),_=r(g),y=n(114),m=r(y),x=n(198),b=r(x),w=n(199),I=r(w),M=n(200),T=r(M),C=n(128),j=r(C);n(201);var E=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,c["default"])(this,t),this._o=e,this._decalareDefaults(),this._extendDefaults(),this._vars(),this._render(),this._tryToRestore(),this._listenUnload(),this._subscribe(),this._subscribeFocus()}return(0,f["default"])(t,[{key:"_decalareDefaults",value:function(){this._defaults={name:"mojs-curve-editor",isSaveState:!0}}},{key:"_extendDefaults",value:function(){this._props={};for(var t in this._defaults)this._props[t]=(0,I["default"])(this._o[t],this._defaults[t])}},{key:"_vars",value:function(){this.revision="1.0.0",this.store=(0,_["default"])(),this._easings=[],this._progressLines=[];var t=(0,I["default"])(this._o.name,this._defaults.name);t+=t===this._defaults.name?"":"__"+this._defaults.name,this._localStorage=t+"__"+(0,b["default"])(t),this.store.dispatch({type:"SET_EDITOR_NAME",data:this._localStorage})}},{key:"_render",value:function(){var t=this;document.addEventListener("DOMContentLoaded",function(){(0,d.render)((0,d.h)(p.Provider,{store:t.store},(0,d.h)(v["default"],{progressLines:t._progressLines})),document.body)})}},{key:"_listenUnload",value:function(){var t=this,e="onpagehide"in window?"pagehide":"beforeunload";window.addEventListener(e,function(){if(t._props.isSaveState){var e=(0,s["default"])({},t.store.getState());delete e.points.history,delete e.pointControls.history,e.progressLines.lines=[],localStorage.setItem(t._localStorage,(0,i["default"])(e))}else localStorage.removeItem(t._localStorage)})}},{key:"_tryToRestore",value:function(){var t=localStorage.getItem(this._localStorage);t?this.store.dispatch({type:"SET_STATE",data:JSON.parse(t)}):(this.store.dispatch({type:"POINT_ADD",data:{point:{x:0,y:m["default"].CURVE_SIZE,isLockedX:!0},index:0}}),this.store.dispatch({type:"POINT_ADD",data:{point:{x:100,y:0,isLockedX:!0},index:1}}))}},{key:"_subscribe",value:function(){this._compilePath(),this.store.subscribe(this._compilePath.bind(this))}},{key:"_subscribeFocus",value:function(){var t=this;(0,j["default"])(document.body,function(e){t._localStorage!==e._mojsCurveEditorName&&t.store.dispatch({type:"POINT_DESELECT_ALL"})})}},{key:"_compilePath",value:function(){var t=this.store.getState(),e=t.points.present,n=e.path;this._prevPath!==n&&(this._prevPath=n,this._easing=mojs.easing.path(n),this._fireOnChange(n))}},{key:"_fireOnChange",value:function(t){for(var e=0;e<this._easings.length;e++){var n=this._easings[e],r=n.options,o=n.easing,i=r.onChange;"function"==typeof i&&i(o,t),this._updateParent(o)}}},{key:"_updateParent",value:function(t){var e=t._parent;e&&e.setProgress?this._triggerParent(e):e.timeline?this._triggerParent(e.timeline):e.tween&&this._triggerParent(e.tween)}},{key:"_triggerParent",value:function(t){var e=.001,n=t.progress,r=n+e<1?n+e:n-e;t.setProgress(r),t.setProgress(n)}},{key:"getEasing",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=function(){var e=t._easings.length;return function(n){t._updateProgressLine(n,e,t._progressLines);var r=t._easings[e].options.transform;return r?r(t._easing(n)):t._easing(n)}}();return this.store.dispatch({type:"ADD_PROGRESS_LINE",data:{}}),this._easings.push({options:e,easing:n}),(0,T["default"])(function(){t._fireOnChange(t._prevPath)}),n}},{key:"_updateProgressLine",value:function(t,e,n){var r=n[e],o=this.store.getState();o.resize;r&&(r.style.left=100*t+"%")}}]),t}();e["default"]=E,window.MojsCurveEditor=E},function(t,e,n){t.exports={"default":n(3),__esModule:!0}},function(t,e,n){var r=n(4),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(6),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){n(8),t.exports=n(4).Object.assign},function(t,e,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(23)})},function(t,e,n){var r=n(10),o=n(4),i=n(11),a=n(13),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,_=t&u.W,y=d?o:o[e]||(o[e]={}),m=y[s],x=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&x&&void 0!==x[c],l&&c in y||(f=l?x[c]:n[c],y[c]=d&&"function"!=typeof x[c]?n[c]:g&&l?i(f,r):_&&x[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(12);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(14),o=n(22);t.exports=n(18)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15),o=n(17),i=n(21),a=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(18)&&!n(19)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),o=n(10).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(24),o=n(39),i=n(40),a=n(41),s=n(28),u=Object.assign;t.exports=!u||n(19)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e,n){var r=n(25),o=n(38);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=n(27),i=n(31)(!1),a=n(35)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(28),o=n(30);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(29);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),o=n(32),i=n(34);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(33),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(33),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(36)("keys"),o=n(37);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(10),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(44),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(45),__esModule:!0}},function(t,e,n){n(46);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(18),"Object",{defineProperty:n(14).f})},function(t,e,n){!function(t,r){r(e,n(48),n(51))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||P,d=void 0;d="function"==typeof n?n:n?u(n):O;var h=r||S,g=o.pure,_=void 0===g||g,y=o.withRef,m=void 0!==y&&y,x=_&&h!==S,b=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=b,n.store=t.store||e.store,A(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!_||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&x&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){_&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!_||e!==t){if(_&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return A(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;_&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==b&&(this.version=b,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,_=function(t){function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);_.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},_.childContextTypes={store:v.isRequired};var y=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=y&&"object"==typeof y&&"default"in y?y["default"]:y,x=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),b=x&&"object"==typeof x&&"default"in x?x["default"]:x,w=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),I=w&&"object"==typeof w&&"default"in w?w["default"]:w,M=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=I,r=b,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=M&&"object"==typeof M&&"default"in M?M["default"]:M,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,E=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),A=E&&"object"==typeof E&&"default"in E?E["default"]:E,P=function(t){return{}},O=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=_,t.connect=f})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var _=i[g],y=!(c(_)||a(_)||_ instanceof e);y&&!s(_)&&(_=String(_)),y&&u?o[o.length-1]+=_:c(_)||(o.push(_),u=y)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function _(t,e){return t.nodeName(j(t),e||$)}function y(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function x(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n,r,o){if(y(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=V(e.substring(2)),n?l[e]||t.addEventListener(e,I):l[e]&&t.removeEventListener(e,I),l[e]=n}else if("type"!==e&&!o&&e in t)w(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",V(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",V(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function w(t,e,n){try{t[e]=n}catch(r){}}function I(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function M(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||V(t.nodeName)===V(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function E(t){P(t);var e=V(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function A(t,e){var n=V(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return y(r),r.normalizedNodeName=n,r}function P(t){x(t),1===m(t)&&(y(t,M(t)),t._component=t._componentConstructor=null)}function O(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||O(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=_(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;E(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return X(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===V(l),i&&(st=!0),t){if(!C(t,l)){for(c=A(l,st);t.firstChild;)c.appendChild(t.firstChild);L(t)}}else c=A(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var _=0;_<h;_++){var y=c[_],m=g?(i=y._component)?i.__key:(i=y[tt])?i.key:null:null;m||0===m?(p++,f[m]=y):l[v++]=y}if(g)for(var _=0;_<g;_++){if(a=e[_],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[_]&&t.insertBefore(s,c[_]||null)}if(p)for(var _ in f)f[_]&&(l[d=v++]=f[_]);d<v&&k(l)}function k(t,e){for(var n=t.length;n--;){var r=t[n];r&&L(r,e)}}function L(t,e){var n=t._component;n?Y(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||E(t),t.childNodes&&t.childNodes.length&&k(t.childNodes,e))}function R(t,e){var n=t[tt]||M(t);for(var r in n)e&&r in e||b(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||b(t,o,e[o],n[o],st);
}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function F(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function U(t){t._dirty||(t._dirty=!0,h(t))}function B(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?U(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,y=v&&v.nextSibling,m=v&&v.parentNode,x=v&&v._component,b=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=_(s,l);var w,I,M=s&&s.nodeName;if(a(M)&&M.prototype.render){var T=b,C=j(s);T&&T.constructor===M?B(T,C,1,l):(w=T,T=F(M,C,l),T._parentComponent=t,t._component=T,B(T,C,0,l),G(T,1)),I=T.base}else{var E=v;w=b,w&&(E=t._component=null),(v||1===e)&&(E&&(E._component=null),I=S(E,s,l,o||!h))}if(v&&I!==v&&(m&&I!==m&&m.insertBefore(I,y||null),w||x!==t||b||!v.parentNode||(v._component=null,L(v))),w&&Y(w,!0),t.base=I,I){for(var A=t,P=t;P=P._parentComponent;)A=P;I._component=A,I._componentConstructor=A.constructor}}!h||o?(it.unshift(t),at||O()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function X(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(Y(o,!0),t=i=null),o=F(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),B(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,L(i))):(B(o,u,3,n,r),t=o.base),t}function Y(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?Y(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(x(n),z(t)),k(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},V=function(t){return W[t]||(W[t]=t.toLowerCase())},Q="undefined"!=typeof Promise&&Promise.resolve(),J=Q?function(t){Q.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),U(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(49).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(50).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(49).setImmediate,n(49).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(52),a=r(i),s=n(60),u=r(s),c=n(62),l=r(c),f=n(63),p=r(f),d=n(64),h=r(d),v=n(61),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(50))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){_===g&&(_=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),_.push(t),function(){if(e){e=!1,r();var n=_.indexOf(t);_.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,v=h(v,t)}finally{y=!1}for(var e=g=_,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],_=g,y=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(53),a=r(i),s=n(58),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(54),i=n(56),a=n(57),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(55),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(59)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var _=o(d,n);throw new Error(_)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(52),c=n(53),l=r(c),f=n(61),p=r(f)}).call(e,n(50))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(64),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(114),g=r(v),_=n(115),y=r(_),m=n(116),x=r(m),b=n(117),w=n(118),I=r(w),M=n(152),T=r(M),C=n(166),j=r(C),E=n(170),A=r(E),P=n(136),O=r(P),S=n(128),D=r(S);n(171);var N=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(151),e=this.context.store,r=e.getState(),o=this._getStyle(r),i=this.props;return this._state=r,(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(A["default"],null),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}),(0,h.h)(I["default"],{state:r,progressLines:i.progressLines}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,O["default"])(o,-1),i=(0,O["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-left-panel"),n=(0,x["default"])(new y["default"].Manager(e));n.add(new y["default"].Pan({threshold:0})),n.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}),this._addKeyUp(),this._subscribeFocus(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_subscribeFocus",value:function(){var t=this;(0,D["default"])(this.base,function(e){e._mojsCurveEditorName=t._state.points.present.name})}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp.bind(this))}},{key:"_onKeyUp",value:function(t){var e=this.context.store;if(t.altKey)switch(t.which){case 90:return e.dispatch(b.ActionCreators.undo());case 88:return e.dispatch(b.ActionCreators.redo());case 68:return e.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=N},function(t,e,n){t.exports={"default":n(67),__esModule:!0}},function(t,e,n){n(68),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var r=n(41),o=n(69);n(70)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(26),o=n(41),i=n(35)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(9),o=n(4),i=n(19);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(72),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(73),i=r(o),a=n(92),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(74),__esModule:!0}},function(t,e,n){n(75),n(87),t.exports=n(91).f("iterator")},function(t,e,n){"use strict";var r=n(76)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(33),o=n(30);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e,n){"use strict";var r=n(78),o=n(9),i=n(79),a=n(13),s=n(26),u=n(80),c=n(81),l=n(85),f=n(69),p=n(86)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",_=function(){return this};t.exports=function(t,e,n,y,m,x,b){c(n,e,y);var w,I,M,T=function(t){if(!d&&t in A)return A[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,E=!1,A=t.prototype,P=A[p]||A[h]||m&&A[m],O=P||T(m),S=m?j?T("entries"):O:void 0,D="Array"==e?A.entries||P:P;if(D&&(M=f(D.call(new t)),M!==Object.prototype&&(l(M,C,!0),r||s(M,p)||a(M,p,_))),j&&P&&P.name!==g&&(E=!0,O=function(){return P.call(this)}),r&&!b||!d&&!E&&A[p]||a(A,p,O),u[e]=O,u[C]=_,m)if(w={values:j?O:T(g),keys:x?O:T(v),entries:S},b)for(I in w)I in A||i(A,I,w[I]);else o(o.P+o.F*(d||E),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(13)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(82),o=n(22),i=n(85),a={};n(13)(a,n(86)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(15),o=n(83),i=n(38),a=n(35)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(20)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(84).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(14),o=n(15),i=n(24);t.exports=n(18)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){t.exports=n(10).document&&document.documentElement},function(t,e,n){var r=n(14).f,o=n(26),i=n(86)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(36)("wks"),o=n(37),i=n(10).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(88);for(var r=n(10),o=n(13),i=n(80),a=n(86)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(89),o=n(90),i=n(80),a=n(27);t.exports=n(77)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(86)},function(t,e,n){t.exports={"default":n(93),__esModule:!0}},function(t,e,n){n(94),n(103),n(104),n(105),t.exports=n(4).Symbol},function(t,e,n){"use strict";var r=n(10),o=n(26),i=n(18),a=n(9),s=n(79),u=n(95).KEY,c=n(19),l=n(36),f=n(85),p=n(37),d=n(86),h=n(91),v=n(96),g=n(97),_=n(98),y=n(99),m=n(15),x=n(27),b=n(21),w=n(22),I=n(82),M=n(100),T=n(102),C=n(14),j=n(24),E=T.f,A=C.f,P=M.f,O=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",k=d("_hidden"),L=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),B=Object[N],G="function"==typeof O,X=r.QObject,Y=!X||!X[N]||!X[N].findChild,H=i&&c(function(){return 7!=I(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(B,e);r&&delete B[e],A(t,e,n),r&&t!==B&&A(B,e,r)}:A,Z=function(t){var e=F[t]=I(O[N]);return e._k=t,e},W=G&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},V=function(t,e,n){return t===B&&V(U,e,n),m(t),e=b(e,!0),m(n),o(F,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=I(n,{enumerable:w(0,!1)})):(o(t,k)||A(t,k,w(1,{})),t[k][e]=!0),H(t,e,n)):A(t,e,n)},Q=function(t,e){m(t);for(var n,r=_(e=x(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?I(t):Q(I(t),e)},q=function(t){var e=R.call(this,t=b(t,!0));return!(this===B&&o(F,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,k)&&this[k][t])||e)},K=function(t,e){if(t=x(t),e=b(e,!0),t!==B||!o(F,e)||o(U,e)){var n=E(t,e);return!n||!o(F,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=P(x(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=P(n?U:x(t)),i=[],a=0;r.length>a;)!o(F,e=r[a++])||n&&!o(B,e)||i.push(F[e]);return i};G||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,w(1,n))};return i&&Y&&H(B,t,{configurable:!0,set:e}),Z(t)},s(O[N],"toString",function(){return this._k}),T.f=K,C.f=V,n(101).f=M.f=$,n(40).f=q,n(39).f=tt,i&&!n(78)&&s(B,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=O(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),O[N][L]||n(13)(O[N],L,O[N].valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(37)("meta"),o=n(16),i=n(26),a=n(14).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(19)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(10),o=n(4),i=n(78),a=n(91),s=n(14).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(24),o=n(27);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(24),o=n(39),i=n(40);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(29);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(27),o=n(101).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(25),o=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(40),o=n(22),i=n(27),a=n(21),s=n(26),u=n(17),c=Object.getOwnPropertyDescriptor;e.f=n(18)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(96)("asyncIterator")},function(t,e,n){n(96)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(107),i=r(o),a=n(111),s=r(a),u=n(72),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(108),__esModule:!0}},function(t,e,n){n(109),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var r=n(9);r(r.S,"Object",{setPrototypeOf:n(110).set})},function(t,e,n){var r=n(16),o=n(15),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(11)(Function.call,n(102).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(112),__esModule:!0}},function(t,e,n){n(113);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(9);r(r.S,"Object",{create:n(82)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==yt?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(x(e),function(e){t.addEventListener(e,n,!1)})}function _(t,e,n){l(x(e),function(e){t.removeEventListener(e,n,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function x(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];b(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return Mt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function E(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:Et?H:Ct?W:B)(t,A)}function A(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(Lt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=bt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),O(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=xt(c.x)>xt(c.y)?c.x:c.y,e.scale=a?U(a.pointers,r):1,e.rotation=a?F(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function O(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=k(u,c,l);r=f.x,o=f.y,n=xt(f.x)>xt(f.y)?f.x:f.y,i=L(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:bt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?zt:xt(t)>=xt(e)?t<0?Ft:Ut:e<0?Bt:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function F(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function U(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function B(){this.evEl=Qt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function X(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function Y(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Lt|Rt)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Nt|kt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return y(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Lt|Rt)&&delete r[a[o].identifier],o++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,Q.call(this,e)):t&(Lt|Rt)&&Q.call(this,e)}function Q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=_e,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&xe?"end":t&me?"move":t&ye?"start":""}function nt(t){return t==Gt?"down":t==Bt?"up":t==Ft?"left":t==Ut?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=E(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=M(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],_t=i.createElement("div"),yt="function",mt=Math.round,xt=Math.abs,bt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),It=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Mt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=M(o,"PointerEvent")!==s,Et=Ct&&Tt.test(navigator.userAgent),At="touch",Pt="pen",Ot="mouse",St="kinect",Dt=25,Nt=1,kt=2,Lt=4,Rt=8,zt=1,Ft=2,Ut=4,Bt=8,Gt=16,Xt=Ft|Ut,Yt=Bt|Gt,Ht=Xt|Yt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(C(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Nt,mousemove:kt,mouseup:Lt},Qt="mousedown",Jt="mousemove mouseup";p(B,j,{handler:function(t){var e=Vt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ot,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:kt,pointerup:Lt,pointercancel:Rt,pointerout:Rt},Kt={2:At,3:Pt,4:Ot,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==At,s=b(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Lt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(X,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(Lt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==At,o=n.pointerType==Ot;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=M(_t.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Xt||a&&n&Yt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var _e=1,ye=2,me=4,xe=8,be=xe,we=16,Ie=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),b(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<xe&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=xe&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Ie)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ie|_e)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(be|we|Ie)&&(this.state=_e),this.state=this.process(e),void(this.state&(ye|me|xe|we)&&this.tryEmit(e))):(this.reset(),void(this.state=Ie))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(ye|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Lt?e|xe:e&ye?e|me:ye:Ie}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Xt&&e.push(ve),t&Yt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Xt?(o=0===i?zt:i<0?Ft:Ut,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Bt:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&ye||!(this.state&ye)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ye)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=be,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return be;return Ie},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===be&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=bt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ye)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Xt|Yt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Xt|Yt)?e=t.overallVelocity:n&Xt?e=t.overallVelocityX:n&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&xt(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=be,this.tryEmit()},e.interval,this),ye):be}return Ie},failTimeout:function(){return this._timer=u(function(){this.state=Ie},this.options.interval,this),Ie},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==be&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Xt}],[it,{direction:Xt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Me=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&be)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(ye|me|xe)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=b(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(x(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(x(t),function(t){e?n[t]&&n[t].splice(b(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:kt,INPUT_END:Lt,INPUT_CANCEL:Rt,STATE_POSSIBLE:_e,STATE_BEGAN:ye,STATE_CHANGED:me,STATE_ENDED:xe,STATE_RECOGNIZED:be,STATE_CANCELLED:we,STATE_FAILED:Ie,DIRECTION_NONE:zt,DIRECTION_LEFT:Ft,DIRECTION_RIGHT:Ut,DIRECTION_UP:Bt,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Xt,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:B,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:X,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:_,each:l,merge:It,extend:wt,assign:vt,inherit:p,bindFn:d,prefixed:M});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(w){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(w){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(w)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return b({},t,{history:t})}function d(t,e){return p(b({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||I.UNDO,redoType:e.redoType||I.REDO,jumpToPastType:e.jumpToPastType||I.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||I.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(b({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(b({},e,{present:g}));var _=e&&void 0!==e.present?e:n.history,y=s(_,g,n.limit);return r("after insert",{history:y,free:n.limit-a(y)}),i(),p(b({},e,y))}}}function _(){return function(t,e,n){return e!==n}}function y(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),y(t)}function x(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=_,e.includeAction=y,e.ifAction=m,e.excludeAction=x;var w=void 0,I=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:I.UNDO}},redo:function(){return{type:I.REDO}},jumpToFuture:function(t){return{type:I.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:I.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(119),a=r(i),s=n(143),u=r(s),c=n(151),l=function(t){var e=t.state,n=t.progressLines;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e,progressLines:n}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(120),g=(r(v),n(121)),_=r(g),y=n(127),m=r(y),x=n(136),b=r(x),w=n(114),I=r(w),M=n(115),T=r(M),C=n(116),j=r(C);n(140);var E=n(142),A=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=t.points.present.path,n=this._getStyle(t),r=this._renderPoints(t),o=this._renderSegments(t),i=this._renderProgressLines(t);return(0,h.h)("div",{className:E.curve},(0,h.h)("div",{id:"js-background",className:E.curve__background,style:n.background}),i,(0,h.h)("div",{className:E["curve__svg-wrapper"],style:n.transform},r,(0,h.h)("svg",{height:I["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none",id:"js-svg","class":E.curve__svg},(0,h.h)("path",{d:e,stroke:"#000000","stroke-opacity":"0.35","stroke-width":"4","vector-effect":"non-scaling-stroke",transform:"translate(.75,.75)",fill:"none"}),(0,h.h)("g",{id:"js-segments"}," ",o," "))))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,I["default"].CURVE_SIZE-n<I["default"].CURVE_SIZE&&(n=0),n=(0,b["default"])(n,-1);var o="transform: scaleX("+(I["default"].CURVE_SIZE+Math.max(r,0))/I["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present.points,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(m["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}},{key:"_renderSegments",value:function(t){for(var e=t.points.present.segments,n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)("path",{d:o.segmentString,"data-index":o.index,stroke:"white",fill:"none","stroke-width":"","vector-effect":"non-scaling-stroke","class":E["curve__svg-segment"]}))}return n}},{key:"_renderProgressLines",value:function(t){for(var e=t.progressLines,n=e.lines,r=[],o=n.length-1;o>=0;o--){var i=n[o];r.push((0,h.h)(_["default"],i))}return r}},{key:"_updateDomProgressLines",value:function(){var t=this.props.progressLines;t.length=0;for(var e=this.base.querySelectorAll('[data-component="progress-line"]'),n=0;n<e.length;n++)t[n]=e[n]}},{key:"componentDidUpdate",value:function(){this._updateDomProgressLines()}},{key:"componentDidMount",value:function(){this._updateDomProgressLines();var t=this.context.store,e=this.base.querySelector("#js-segments"),n=(0,j["default"])(new T["default"].Manager(e));n.add(new T["default"].Tap),n.on("tap",function(e){var n=e.srcEvent,r=n.target;if("path"===r.tagName.toLowerCase()){var o=n.offsetX,i=n.offsetY*I["default"].CURVE_PERCENT,a=parseInt(r.getAttribute("data-index"))+1;t.dispatch({type:"POINT_ADD",data:{point:{x:o,y:i},index:a},isRecord:!0}),t.dispatch({type:"POINT_SELECT",data:{index:a,type:"straight"}}),e.stopPropagation()}});var r=(this.base.querySelector("#js-svg"),(0,j["default"])(new T["default"].Manager(this.base)));r.add(new T["default"].Tap),r.on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})})}}]),e}(h.Component);e["default"]=A},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48);n(122);var v=n(126),g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e={backgroundColor:t.color};return(0,h.h)("div",{className:v["progress-line"],style:e,"data-component":"progress-line"})}}]),e}(h.Component);e["default"]=g},function(t,e,n){var r=n(123);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(123,function(){var e=n(123);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._progress-line_1j4pp_3{position:absolute;top:0;bottom:0;width:1px;margin-left:-1.5px}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){
for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=y++;n=_||(_=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,y=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={"progress-line":"_progress-line_1j4pp_3"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(128),g=r(v),_=n(129),y=r(_),m=n(116),x=r(m),b=n(134),w=r(b),I=n(115),M=r(I),T=n(135),C=r(T),j=n(136),E=(r(j),n(114)),A=r(E);n(137);var P=n(139),O=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?P["is-selected"]:"",o="straight"===e.type?P["is-hide-handles"]:"",i=this._getLittleHandles();return(0,h.h)("div",{className:P.point+" "+r+" "+o,style:this._getStyle(n),"data-component":"point"},(0,h.h)("div",{className:P.point__touch,id:"js-point-touch"}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,C["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(){var t=this.props,e=t.index,n=t.point,r=t.pointsCount,o=[];return 0!==e&&o.push(this._createHandle(1,n)),e!==r-1&&o.push(this._createHandle(2,n)),o}},{key:"_createHandle",value:function(t,e){return(0,h.h)(y["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,w["default"])(o.x+i,5,1.5)-o.x},r=function(e){var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>A["default"].CURVE_SIZE+n.bottom&&(a=A["default"].CURVE_SIZE+n.bottom),(0,w["default"])(a,5*A["default"].CURVE_PERCENT,2*A["default"].CURVE_PERCENT)-o.y},o=this.base.querySelector("#js-point-touch"),i=(0,x["default"])(new M["default"].Manager(o));i.add(new M["default"].Pan({threshold:0})),i.on("pan",function(o){var i=t.props,a=(i.point,i.index);e.dispatch({type:"POINT_TRANSLATE",data:{x:n(o),y:r(o),index:a}}),o.stopPropagation()}).on("panend",function(n){var r=t.props,o=(r.point,r.index);e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),n.stopPropagation()}).on("tap",function(t){t.stopPropagation()}),(0,g["default"])(o,function(n){var r=t.props,o=r.point,i=r.index;e.dispatch({type:"POINT_SELECT",data:{index:i,isDeselect:!n.shiftKey,type:o.type}})})}}]),e}(h.Component);e["default"]=O},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",e):void 0!==window.ontouchstart?(t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)):t.addEventListener("mousedown",e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(66),s=r(a),u=n(42),c=r(u),l=n(43),f=r(l),p=n(71),d=r(p),h=n(106),v=r(h),g=n(48),_=n(120),y=r(_),m=n(130),x=r(m),b=n(114),w=(r(b),n(115)),I=r(w),M=n(116),T=r(M);n(131);var C=n(133),j=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:C["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":C["little-handle__point"],style:this._getPointStyle()},(0,g.h)("div",{className:C["little-handle__easy-touch"]})),(0,g.h)("div",{"class":C["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,T["default"])(new I["default"].Manager(this.base)),r=this.props.handle;n.add(new I["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=o.state,c=(0,y["default"])(r.angle,r.radius),l=c.y+n.deltaY,f=u.resize,p=c.x+n.deltaX/f.absScalerX,d=(0,x["default"])(p,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},d)}),"mirrored"===t.props.type){var h=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:h,parentIndex:s,radius:d.radius,angle:d.angle-180}})}if("asymmetric"===t.props.type){var v=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:v,parentIndex:s,radius:r.radius,angle:d.angle-180}})}n.stopPropagation()}).on("panend",function(t){e.dispatch({type:"HANDLE_TRANSLATE_END",isRecord:!0}),t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props,e=t.handle,n=t.state,r=n.resize,o=(0,y["default"])(e.angle,e.radius),i="transform: translate("+o.x*r.absScalerX+"px, "+o.y+"px) rotate("+e.angle+"deg)";return""+mojs.h.prefix.css+i+"; "+i}},{key:"_getLineStyle",value:function(){var t=this.props,e=t.handle,n=t.state,r=n.resize,o=(0,y["default"])(e.angle,e.radius),i=(0,x["default"])(o.x*r.absScalerX,o.y),a="transform: rotate("+i.angle+"deg) scaleY("+i.radius+")";return""+mojs.h.prefix.css+a+"; "+a}}]),e}(g.Component);e["default"]=j},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(132);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(132,function(){var e=n(132);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._little-handle_x1mg1_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_x1mg1_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__easy-touch_x1mg1_1{position:absolute;z-index:1;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_x1mg1_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports={"little-handle":"_little-handle_x1mg1_3","little-handle__point":"_little-handle__point_x1mg1_1","little-handle__easy-touch":"_little-handle__easy-touch_x1mg1_1","little-handle__line":"_little-handle__line_x1mg1_1"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){var r=n(138);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(138,function(){var e=n(138);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._point_14jnp_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5)}._point_14jnp_5 [data-component=little-handle]{display:none}._point__touch_14jnp_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_14jnp_5._is-selected_14jnp_31,._point_14jnp_5:hover{background:#ff512f}._point_14jnp_5._is-selected_14jnp_31 [data-component=little-handle]{display:block}._point_14jnp_5._is-hide-handles_14jnp_43 [data-component=little-handle]{display:none}",""])},function(t,e){t.exports={point:"_point_14jnp_5",point__touch:"_point__touch_14jnp_1","is-selected":"_is-selected_14jnp_31","is-hide-handles":"_is-hide-handles_14jnp_43"}},function(t,e,n){var r=n(141);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(141,function(){var e=n(141);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._curve_k9lsx_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_k9lsx_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_k9lsx_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_k9lsx_1{display:block;overflow:visible;width:100%}._curve__svg-segment_k9lsx_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_k9lsx_1:hover{stroke:#ff512f}",""])},function(t,e){t.exports={curve:"_curve_k9lsx_5",curve__background:"_curve__background_k9lsx_1","curve__svg-wrapper":"_curve__svg-wrapper_k9lsx_1",curve__svg:"_curve__svg_k9lsx_1","curve__svg-segment":"_curve__svg-segment_k9lsx_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(144),g=r(v),_=n(115),y=r(_),m=n(116),x=r(m),b=n(148);n(149);var w=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+b["resize-handle"],n=""+b["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t,"data-component":"resize-handle"},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,x["default"])(new y["default"].Manager(this.base));n.add(new y["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(145);n(146);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(147);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(147,function(){var e=n(147);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(150);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(150,function(){var e=n(150);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1itz1_4","curve-editor__left":"_curve-editor__left_1itz1_1","curve-editor__right":"_curve-editor__right_1itz1_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1itz1_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1itz1_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1itz1_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(144),a=r(i),s=n(153),u=r(s),c=n(158),l=r(c),f=n(162),p=r(f),d=n(151),h=function(t){var e=t.state;return(0,o.h)("div",{className:d["curve-editor__left"],id:"js-left-panel"},(0,o.h)(u["default"],{state:e}),(0,o.h)(l["default"],null),(0,o.h)(p["default"],{state:e,className:d["curve-editor__anchor-buttons"]}),(0,o.h)("a",{className:d["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(154),g=r(v),_=n(116),y=r(_),m=n(115),x=r(m),b=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state;return(0,h.h)(g["default"],{shape:"code",isCheck:t.controls.isCode})}},{key:"componentDidMount",value:function(){var t=this.context.store,e=(0,y["default"])(new x["default"].Manager(this.base));e.add(new x["default"].Tap),e.on("tap",function(e){t.dispatch({type:"CODE_TAP"})})}}]),e}(h.Component);e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(115),v=r(h),g=n(48),_=n(144),y=r(_);n(155);var m=n(157),x=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.isCheck?m["is-checked"]:"";return(0,g.h)("div",{className:m["icon-button"]+" "+t,"data-component":"icon-button"},(0,g.h)(y["default"],{shape:this.props.shape}))}},{key:"componentDidMount",value:function(){var t=this;if("function"==typeof this.props.onTap){new v["default"](this.base).on("tap",function(e){t.props.onTap(e,t.props)})}}}]),e}(g.Component);e["default"]=x},function(t,e,n){var r=n(156);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(156,function(){var e=n(156);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._icon-button_6ysdi_4{position:relative;width:24px;height:24px;display:block;background:#3a0839;border-radius:3px;box-shadow:1px 1px 0 rgba(0,0,0,.15)}._icon-button_6ysdi_4 [data-component=icon]{position:absolute;left:50%;top:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._icon-button_6ysdi_4:hover{box-shadow:none}._icon-button_6ysdi_4:hover [data-component=icon]{-webkit-transform:translate(-52%,-52%);transform:translate(-52%,-52%)}._icon-button_6ysdi_4._is-checked_6ysdi_31,._icon-button_6ysdi_4:active{border-radius:3px;box-shadow:inset -1px -1px 0 hsla(0,0%,100%,.25),inset 1px 1px 1px rgba(0,0,0,.4)}._icon-button_6ysdi_4._is-checked_6ysdi_31 [data-component=icon],._icon-button_6ysdi_4:active [data-component=icon]{-webkit-transform:translate(-54%,-54%) scale(.95);transform:translate(-54%,-54%) scale(.95)}",""])},function(t,e){t.exports={"icon-button":"_icon-button_6ysdi_4","is-checked":"_is-checked_6ysdi_31"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=n(159);n(160),e["default"]=function(){return(0,r.h)("div",{className:o["icon-divider"],"data-component":"icon-divider"})}},function(t,e){t.exports={"icon-divider":"_icon-divider_ftask_3"}},function(t,e,n){var r=n(161);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(161,function(){var e=n(161);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._icon-divider_ftask_3{position:relative;margin:0 auto;width:16px;height:1px;display:block;background:hsla(0,0%,100%,.3);box-shadow:0 1px 0 rgba(0,0,0,.3)}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o),a=n(42),s=r(a),u=n(43),c=r(u),l=n(71),f=r(l),p=n(106),d=r(p),h=n(48),v=n(154),g=r(v);n(163);var _=n(165),y=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.state,n=e.pointControls.present,r=n.isShow?_["is-show"]:"",o=t.className+" "+_["point-controls"]+" "+r,i=this._addButtons(n);return(0,h.h)("div",{className:o}," ",i," ")}},{key:"_onButtonTap",value:function(t){var e=this;return function(n){var r=e.context.store;r.dispatch({type:"POINT_CHANGE_TYPE",data:t,isRecord:!0})}}},{key:"_addButtons",value:function(t){for(var e=["straight","disconnected","mirrored","asymmetric"],n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)(g["default"],{shape:"point-"+o,isCheck:t.type===o,onTap:this._onButtonTap(o)}))}return n}}]),e}(h.Component);e["default"]=y},function(t,e,n){var r=n(164);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(164,function(){var e=n(164);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._point-controls_1xcu7_4{display:none}._point-controls_1xcu7_4 [data-component=icon-button]:after{content:'';position:absolute;width:3px;height:7.5px;background:#ff512f;border-top-right-radius:2px;border-bottom-right-radius:2px;left:-10px;top:50%;margin-top:-3.75px;display:none}._point-controls_1xcu7_4 [data-component=icon-button][class*=is-checked]:after,._point-controls_1xcu7_4._is-show_1xcu7_7{display:block}",""])},function(t,e){t.exports={"point-controls":"_point-controls_1xcu7_4","is-show":"_is-show_1xcu7_7"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),i=n(143),a=r(i);n(167);var s=n(169);e["default"]=function(t){var e=t.state,n=e.points,r=e.controls,i=r.isCode?s["is-open"]:"",u=s["code-panel"]+" "+i;return(0,o.h)("div",{className:u},(0,o.h)("div",{className:s["code-panel__inner"]},(0,o.h)(a["default"],{type:"top"}),(0,o.h)("div",{className:s["code-panel__input-wrap"]},(0,o.h)("input",{className:s["code-panel__input-field"],type:"text",readonly:"readonly",value:n.present.path}))))}},function(t,e,n){var r=n(168);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(168,function(){var e=n(168);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._code-panel_nnb9p_3{position:absolute;left:10px;right:10px;bottom:100%;z-index:1;overflow:hidden;padding-top:16px;box-sizing:content-box}._code-panel_nnb9p_3 [data-component=resize-handle]{position:absolute;left:50%;bottom:100%}._code-panel__inner_nnb9p_1{border-radius:6px 6px 0 0;background:#3d1b3c;padding:4px 5px 5px;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:all .2s ease-out;transition:all .2s ease-out}._code-panel__input-wrap_nnb9p_1{border-radius:2px;background:#42103f;border:1px solid #9c829a;box-shadow:inset 2px 2px 0 rgba(0,0,0,.5)}._code-panel__input-field_nnb9p_1{display:block;background:transparent;color:#fff;font-size:9px;font-family:Arial,Helvetica,sans-serif;letter-spacing:.45px;font-weight:100;padding:0 .3em 0 .8em;border:none;width:100%;height:21px;white-space:nowrap;text-overflow:ellipsis}._code-panel_nnb9p_3 ::-moz-selection,.code-panel ::-moz-selection{background:#ff512f}._code-panel_nnb9p_3 ::selection{background:#ff512f}._code-panel_nnb9p_3._is-open_nnb9p_61 ._code-panel__inner_nnb9p_1{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(t,e){t.exports={"code-panel":"_code-panel_nnb9p_3","code-panel__inner":"_code-panel__inner_nnb9p_1","code-panel__input-wrap":"_code-panel__input-wrap_nnb9p_1","code-panel__input-field":"_code-panel__input-field_nnb9p_1","is-open":"_is-open_nnb9p_61"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'
}})};e["default"]=o},function(t,e,n){var r=n(172);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(172,function(){var e=n(172);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"._curve-editor_1itz1_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:#572b51;z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1itz1_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px;cursor:move}._curve-editor__left_1itz1_1 [data-component=icon-divider]{margin:10px auto}._curve-editor__right_1itz1_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1itz1_1{position:absolute}._curve-editor__resize-handle_1itz1_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1itz1_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1itz1_1[data-type=bottom],._curve-editor__resize-handle_1itz1_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1itz1_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1itz1_1{margin-top:10px}._curve-editor__anchor-buttons_1itz1_1 [data-component=icon-button]{margin-bottom:5px}._curve-editor__mojs-logo_1itz1_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1itz1_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),i=n(174),a=r(i),s=function(){return(0,o.createStore)(a["default"])};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(51),s=n(117),u=r(s),c=n(175),l=r(c),f=n(177),p=r(f),d=n(194),h=r(d),v=n(195),g=r(v),_=n(196),y=r(_),m=n(197),x=r(m),b={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},w=(0,x["default"])((0,a.combineReducers)({resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},b)),controls:h["default"],pointControls:(0,u["default"])(g["default"],(0,i["default"])({},b)),progressLines:y["default"]}),["SET_STATE"],function(t,e){return e.data});e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(176),i=r(o),a=n(5),s=r(a),u=n(114),c=r(u),l={x:20,tempX:0,y:20,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT,absScalerX:1},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100,a.absScalerX=a.scalerX/c["default"].CURVE_PERCENT),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var _=e.data,y=_.x,m=_.y;return(0,s["default"])({},t,{tempX:y,tempY:m});case"EDITOR_TRANSLATE_END":var x=e.data,b=x.x,w=x.y;return b+=t.x,w+=t.y,(0,s["default"])({},t,{x:b,y:w,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(44),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(178),i=r(o),a=n(5),s=r(a),u=n(188),c=r(u),l=n(114),f=(r(l),n(189)),p=r(f),d=n(191),h=r(d),v={path:"",name:"mojs-curve-editor",segments:[],points:[]},g=function(t){for(var e=(0,s["default"])({},t,{points:[]}),n=t.points,r=0;r<n.length;r++)e.points.push((0,s["default"])({},n[r],{isSelected:!1}));return e},_=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},y=function(){var t=arguments.length<=0||void 0===arguments[0]?v:arguments[0],e=arguments[1];switch(e.type){case"SET_EDITOR_NAME":return(0,s["default"])({},t,{name:e.data});case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t.points,a=o[r],u=[].concat((0,i["default"])(o));return u[n.index]=(0,s["default"])({},a,{tempX:n.x,tempY:n.y}),(0,s["default"])({},t,{points:u},(0,h["default"])(u));case"POINT_TRANSLATE_END":var l=e.data,f=t.points,d=f[l],y=[].concat((0,i["default"])(f));return y[l]=(0,s["default"])({},d,{x:d.x+d.tempX,y:d.y+d.tempY,tempX:0,tempY:0}),(0,s["default"])({},t,{points:y},(0,h["default"])(y));case"POINT_SELECT":var m=e.data,x=m.index,b=m.isDeselect,w=b?g(t):(0,s["default"])({},t),I=w.points,M=I[x];return M.isSelected=!0,(0,s["default"])({},t,{points:I});case"POINT_ADD":var T=e.data,C=T.index,j=T.point,E=g(t),A=[].concat((0,i["default"])(E.points.slice(0,C)),[(0,c["default"])((0,s["default"])({},j))],(0,i["default"])(E.points.slice(C))),P=A.length>1?(0,p["default"])(A):A,O=P.length>1?(0,h["default"])(P):{};return(0,s["default"])({},t,{points:P},O);case"POINT_DELETE":for(var S=t.points,D=_(S),N=[],k=0;k<S.length;k++){var L=S[k];(D.indexOf(k)===-1||L.isLockedX)&&N.push(L)}return(0,s["default"])({},t,{points:N},(0,h["default"])(N));case"POINT_CHANGE_TYPE":for(var R=t.points,z=_(R),F=[],k=0;k<R.length;k++){var U=R[k],B=e.data;F.push((0,s["default"])({},U)),z.indexOf(k)!==-1&&(F[k].type=B);var G=k,X=F[G],Y=(G===F.length-1?F[G-1]:F[G+1],G===F.length-1?1:2),H=1===Y?2:1,Z="handle"+Y,W="handle"+H,V=(0,s["default"])({},X[Z]),Q=(0,s["default"])({},X[W]);X[Z]=V,X[W]=Q,"mirrored"!==B&&"asymmetric"!==B||(Q.angle=V.angle-180,"mirrored"===B&&(Q.radius=V.radius))}return(0,s["default"])({},t,{points:F},(0,h["default"])(F));case"POINT_DESELECT_ALL":return(0,s["default"])({},g(t));case"HANDLE_TRANSLATE":var J=t.points,q=e.data,K=[].concat((0,i["default"])(J)),$=(0,s["default"])({},K[q.parentIndex]);K[q.parentIndex]=$;var tt="handle"+q.index,et=(0,s["default"])({},$[tt]);return $[tt]=et,et.angle=q.angle,et.radius=q.radius,(0,s["default"])({},t,{points:K},(0,h["default"])(K));case"HANDLE_TRANSLATE_END":return t}return t};e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(179),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(180),__esModule:!0}},function(t,e,n){n(75),n(181),t.exports=n(4).Array.from},function(t,e,n){"use strict";var r=n(11),o=n(9),i=n(41),a=n(182),s=n(183),u=n(32),c=n(184),l=n(185);o(o.S+o.F*!n(187)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,_=0,y=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=u(p.length),n=new d(e);e>_;_++)c(n,_,g?v(p[_],_):p[_]);else for(f=y.call(p),n=new d;!(o=f.next()).done;_++)c(n,_,g?a(f,v,[o.value,_],!0):o.value);return n.length=_,n}})},function(t,e,n){var r=n(15);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(80),o=n(86)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(14),o=n(22);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(186),o=n(86)("iterator"),i=n(80);t.exports=n(4).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(29),o=n(86)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(86)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(190),i=r(o);e["default"]=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=n===t.length-1?t[n-1]:t[n+1],a=n===t.length-1?1:2;e.push((0,i["default"])(r,o,a))}return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(114),s=r(a);e["default"]=function(t,e,n){t=(0,i["default"])({},t);var r="handle"+n,o=1===n?2:1,a="handle"+o,u=(0,i["default"])({},t[r]),c=(0,i["default"])({},t[a]);t.type;if(t[r]=u,t[a]=c,null==u.angle||null==u.radius){u.radius=50;var l=(e.y-t.y)/s["default"].CURVE_PERCENT,f=e.x-t.x,p=Math.atan(l/f)*(180/Math.PI)-90;f>0&&(p-=180),u.angle=p,c.radius=u.radius,c.angle=u.angle-180}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(192),i=r(o);e["default"]=function(t){for(var e="",n=[],r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=(0,i["default"])(o,a,r);n.push(s),e+=s.string}return{path:e,segments:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=n(193),s=r(a);e["default"]=function(t,e,n){if(!e)return 1;var r="",o="",a=t.x+t.tempX,u=t.y+t.tempY,c=e.x+e.tempX,l=e.y+e.tempY,f="M"+a+", "+u/i["default"].CURVE_PERCENT+" ";0===n&&(r+=f),o+=f;var p=(0,s["default"])(t,2);r+=p,o+=p;var d=(0,s["default"])(e,1);r+=d,o+=d;var h=c+", "+l/i["default"].CURVE_PERCENT+" ";return r+=h,o+=h,{string:r,segmentString:o,index:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(120),i=r(o),a=n(114),s=r(a);e["default"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=t.x+t.tempX,r=t.y+t.tempY,o=t["handle"+e],a=2===e?"C":"";if("straight"!==t.type){var u=(0,i["default"])(o.angle,o.radius);return""+a+(n+u.x/s["default"].CURVE_PERCENT)+", "+(r+u.y)/s["default"].CURVE_PERCENT+" "}return""+a+n+", "+r/s["default"].CURVE_PERCENT+" "}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(191),s=(r(a),{isCode:!1}),u=function(){var t=arguments.length<=0||void 0===arguments[0]?s:arguments[0],e=arguments[1];switch(e.type){case"CODE_TAP":return(0,i["default"])({},t,{isCode:!t.isCode})}return t};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":var n=e.data.type;return(0,i["default"])({},t,{isShow:!e.isDeselect,type:n});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(178),i=r(o),a=n(5),s=r(a),u={selected:0,lines:[]},c=function(t){var e=["#FF512F","#FF00C5","#00FF69","white","#1B8FE6","CYAN","YELLOW"];return e[t.length%e.length]},l=function(){var t=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]),e=t.lines;return{color:c(e),name:"easing"+(e.length+1)}},f=function(){var t=arguments.length<=0||void 0===arguments[0]?u:arguments[0],e=arguments[1];switch(e.type){case"ADD_PROGRESS_LINE":var n=(0,s["default"])({},t);return n.lines=[].concat((0,i["default"])(n.lines),[l(e.data,t)]),n;case"SET_SELECTED_PROGRESS_LINE":var r=e.index;return(0,s["default"])({},t,{selected:r})}return t};e["default"]=f},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2],r="function"==typeof n?n:function(){return n};return function(n,o){return e.indexOf(o.type)>=0?t(r(n,o),{type:"@@redux-recycle/INIT"}):t(n,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e,n,r,o=0;if(0===t.length)return o;for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),o=(o<<5)-o+n,o|=0;return Math.abs(o)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return null!=t?t:e}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){setTimeout(t,1)}},function(t,e,n){var r=n(202);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(125)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(202,function(){var e=n(202);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(124)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDFmMDBlOGU3MDUxMDg0NGQyYWFhIiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wYXQuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3N0b3JlU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9pbnZhcmlhbnQvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9oLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9saW5rZWQtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9kb20vcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQtcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jcmVhdGVTdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX292ZXJBcmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3N5bWJvbC1vYnNlcnZhYmxlL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi91dGlscy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY29tcG9zZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3IuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvY29uc3RhbnRzLmJhYmVsLmpzIiwid2VicGFjazovLy8uL34vaGFtbWVyanMvaGFtbWVyLmpzIiwid2VicGFjazovLy8uL34vcHJvcGFnYXRpbmctaGFtbWVyanMvcHJvcGFnYXRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC11bmRvL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItcmlnaHQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2N1cnZlLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9hbmdsZS10by1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9wcm9ncmVzcy1saW5lLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzP2QyZDciLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcHJvZ3Jlc3MtbGluZS5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2FkZC1wb2ludGVyLWRvd24uYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvcG9pbnQtdG8tYW5nbGUuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcz8yNzA1Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3JvdW5kLXRvLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NsYW1wLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3Jlc2l6ZS1tb2QuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3M/ZWRjOSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzPzVhNWQiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9yZXNpemUtaGFuZGxlLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29uLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcz9iYmMxIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3M/MTY5YSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1sZWZ0LmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jb2RlLWJ1dHRvbi5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvaWNvbi1idXR0b24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzPzM2Y2UiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29uLWRpdmlkZXIuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzcz9iMWIwIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9wb2ludC1jb250cm9scy5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3M/YzdkOCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtcGFuZWwuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3M/YjRmNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29ucy5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzP2U4M2MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy9zdG9yZS5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcmVzaXplLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL3BvaW50cy1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NyZWF0ZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL21ha2UtcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvaW5pdC1wb2ludHMuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvaW5pdC1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcGF0aC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtc2VnbWVudC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL2NvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL3BvaW50LWNvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL3Byb2dyZXNzZXMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LXJlY3ljbGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2hhc2guYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvZmFsbGJhY2stdG8uYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvZGVmZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzPzlhZGQiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwiaG90Q3VycmVudEhhc2giLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsImVuc3VyZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsImhvdENodW5rc0xvYWRpbmciLCJmaW5pc2hDaHVua0xvYWRpbmciLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJjYWxsIiwiZm4iLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImhvdEN1cnJlbnRQYXJlbnRzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiYWNjZXB0IiwiZGVwIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJpc051bWJlciIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdEF2YWlsaWJsZUZpbGVzTWFwIiwiYyIsImhvdFVwZGF0ZU5ld0hhc2giLCJoIiwiaG90Q2FsbGJhY2siLCJob3RVcGRhdGUiLCJob3RBZGRVcGRhdGVDaHVuayIsIm1vcmVNb2R1bGVzIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImdldEFmZmVjdGVkU3R1ZmYiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJwb3AiLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsInJlc3VsdCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJkaXNwb3NlSGFuZGxlcnMiLCJqIiwiY2IiLCJjaGlsZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsImVycm9yIiwiY2FsbGJhY2tzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9zdHJpbmdpZnkiLCJfc3RyaW5naWZ5MiIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2NyZWF0ZUNsYXNzMiIsIl9jcmVhdGVDbGFzczMiLCJfcHJlYWN0UmVkdXgiLCJfcHJlYWN0IiwiX2N1cnZlRWRpdG9yIiwiX2N1cnZlRWRpdG9yMiIsIl9zdG9yZSIsIl9zdG9yZTIiLCJfY29uc3RhbnRzIiwiX2NvbnN0YW50czIiLCJfaGFzaCIsIl9oYXNoMiIsIl9mYWxsYmFja1RvIiwiX2ZhbGxiYWNrVG8yIiwiX2RlZmVyIiwiX2RlZmVyMiIsIl9hZGRQb2ludGVyRG93biIsIl9hZGRQb2ludGVyRG93bjIiLCJBUEkiLCJvIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiX28iLCJfZGVjYWxhcmVEZWZhdWx0cyIsIl9leHRlbmREZWZhdWx0cyIsIl92YXJzIiwiX3JlbmRlciIsIl90cnlUb1Jlc3RvcmUiLCJfbGlzdGVuVW5sb2FkIiwiX3N1YnNjcmliZSIsIl9zdWJzY3JpYmVGb2N1cyIsImtleSIsIl9kZWZhdWx0cyIsImlzU2F2ZVN0YXRlIiwiX3Byb3BzIiwicmV2aXNpb24iLCJzdG9yZSIsIl9lYXNpbmdzIiwiX3Byb2dyZXNzTGluZXMiLCJzdHIiLCJfbG9jYWxTdG9yYWdlIiwiZGlzcGF0Y2giLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJQcm92aWRlciIsInByb2dyZXNzTGluZXMiLCJib2R5IiwiX3RoaXMyIiwidW5sb2FkRXZlbnQiLCJ3aW5kb3ciLCJwcmVTdGF0ZSIsImdldFN0YXRlIiwicG9pbnRzIiwiaGlzdG9yeSIsInBvaW50Q29udHJvbHMiLCJsaW5lcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic3RvcmVkIiwiZ2V0SXRlbSIsInBvaW50IiwieSIsIkNVUlZFX1NJWkUiLCJpc0xvY2tlZFgiLCJpbmRleCIsIl9jb21waWxlUGF0aCIsInN1YnNjcmliZSIsImJpbmQiLCJfdGhpczMiLCJfbW9qc0N1cnZlRWRpdG9yTmFtZSIsInN0YXRlIiwicHJlc2VudCIsInBhdGgiLCJfcHJldlBhdGgiLCJfZWFzaW5nIiwibW9qcyIsImVhc2luZyIsIl9maXJlT25DaGFuZ2UiLCJyZWNvcmQiLCJvbkNoYW5nZSIsIl91cGRhdGVQYXJlbnQiLCJfcGFyZW50Iiwic2V0UHJvZ3Jlc3MiLCJfdHJpZ2dlclBhcmVudCIsInRpbWVsaW5lIiwidHdlZW4iLCJzdGVwIiwicHJvZ3Jlc3MiLCJ1cGRhdGVQcm9ncmVzcyIsIl90aGlzNCIsImZ1biIsImsiLCJfdXBkYXRlUHJvZ3Jlc3NMaW5lIiwidHJhbnNmb3JtIiwiZWwiLCJyZXNpemUiLCJzdHlsZSIsImxlZnQiLCJNb2pzQ3VydmVFZGl0b3IiLCJjb3JlIiwiJEpTT04iLCJzdHJpbmdpZnkiLCJpdCIsInZlcnNpb24iLCJfX2UiLCJfYXNzaWduIiwiX2Fzc2lnbjIiLCJ0YXJnZXQiLCJzb3VyY2UiLCJhc3NpZ24iLCIkZXhwb3J0IiwiUyIsIkYiLCJnbG9iYWwiLCJjdHgiLCJoaWRlIiwiUFJPVE9UWVBFIiwib3duIiwib3V0IiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsIkMiLCJGdW5jdGlvbiIsInZpcnR1YWwiLCJSIiwiVSIsIk1hdGgiLCJzZWxmIiwiX19nIiwiYUZ1bmN0aW9uIiwidGhhdCIsIlR5cGVFcnJvciIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImYiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJPIiwiQXR0cmlidXRlcyIsImlzT2JqZWN0IiwiZXhlYyIsImlzIiwidmFsIiwidG9TdHJpbmciLCJ2YWx1ZU9mIiwiYml0bWFwIiwid3JpdGFibGUiLCJnZXRLZXlzIiwiZ09QUyIsInBJRSIsInRvT2JqZWN0IiwiSU9iamVjdCIsIiRhc3NpZ24iLCJBIiwiU3ltYm9sIiwiSyIsInNwbGl0IiwiZm9yRWFjaCIsImtleXMiLCJqb2luIiwiVCIsImFMZW4iLCJnZXRTeW1ib2xzIiwiaXNFbnVtIiwiY29uY2F0IiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsImhhcyIsInRvSU9iamVjdCIsImFycmF5SW5kZXhPZiIsIklFX1BST1RPIiwibmFtZXMiLCJkZWZpbmVkIiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xlbmd0aCIsInRvSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwidG9JbnRlZ2VyIiwibWluIiwiY2VpbCIsImZsb29yIiwiaXNOYU4iLCJtYXgiLCJzaGFyZWQiLCJ1aWQiLCJTSEFSRUQiLCJweCIsInJhbmRvbSIsImdldE93blByb3BlcnR5U3ltYm9scyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIiRPYmplY3QiLCJkZXNjIiwicHJlYWN0IiwicmVkdXgiLCJfX2NvbW1vbmpzIiwicHJvcHR5cGUiLCJ3YXJuaW5nIiwibWVzc2FnZSIsIndhcm5BYm91dFJlY2VpdmluZ1N0b3JlIiwiZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUiLCJzaGFsbG93RXF1YWwiLCJvYmpBIiwib2JqQiIsImtleXNBIiwia2V5c0IiLCJoYXNPd24iLCJ3cmFwQWN0aW9uQ3JlYXRvcnMiLCJhY3Rpb25DcmVhdG9ycyIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImdldERpc3BsYXlOYW1lIiwiV3JhcHBlZENvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwidHJ5Q2F0Y2giLCJlcnJvck9iamVjdCIsImNvbm5lY3QiLCJtYXBTdGF0ZVRvUHJvcHMiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJtZXJnZVByb3BzIiwic2hvdWxkU3Vic2NyaWJlIiwiQm9vbGVhbiIsIm1hcFN0YXRlIiwiZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoIiwiZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyIsImZpbmFsTWVyZ2VQcm9wcyIsImRlZmF1bHRNZXJnZVByb3BzIiwiX29wdGlvbnMkcHVyZSIsInB1cmUiLCJfb3B0aW9ucyR3aXRoUmVmIiwid2l0aFJlZiIsImNoZWNrTWVyZ2VkRXF1YWxzIiwibmV4dFZlcnNpb24iLCJjaGVja1N0YXRlU2hhcGUiLCJtZXRob2ROYW1lIiwiaXNQbGFpbk9iamVjdCIsImNvbm5lY3REaXNwbGF5TmFtZSIsImNvbXB1dGVNZXJnZWRQcm9wcyIsInN0YXRlUHJvcHMiLCJkaXNwYXRjaFByb3BzIiwicGFyZW50UHJvcHMiLCJtZXJnZWRQcm9wcyIsIkNvbm5lY3QiLCJfQ29tcG9uZW50IiwiY29udGV4dCIsImJhYmVsSGVscGVycyIsImNsYXNzQ2FsbENoZWNrIiwicG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImludmFyaWFudCQxIiwic3RvcmVTdGF0ZSIsImNsZWFyQ2FjaGUiLCJpbmhlcml0cyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImhhdmVPd25Qcm9wc0NoYW5nZWQiLCJoYXNTdG9yZVN0YXRlQ2hhbmdlZCIsImNvbXB1dGVTdGF0ZVByb3BzIiwiZmluYWxNYXBTdGF0ZVRvUHJvcHMiLCJjb25maWd1cmVGaW5hbE1hcFN0YXRlIiwiZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyIsIm1hcHBlZFN0YXRlIiwiaXNGYWN0b3J5IiwiY29tcHV0ZURpc3BhdGNoUHJvcHMiLCJmaW5hbE1hcERpc3BhdGNoVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2giLCJkb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkRGlzcGF0Y2giLCJ1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQiLCJuZXh0U3RhdGVQcm9wcyIsInVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCIsIm5leHREaXNwYXRjaFByb3BzIiwidXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCIsIm5leHRNZXJnZWRQcm9wcyIsImlzU3Vic2NyaWJlZCIsInVuc3Vic2NyaWJlIiwidHJ5U3Vic2NyaWJlIiwiaGFuZGxlQ2hhbmdlIiwidHJ5VW5zdWJzY3JpYmUiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQiLCJzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciIsInJlbmRlcmVkRWxlbWVudCIsInByZXZTdG9yZVN0YXRlIiwiaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIiwic2V0U3RhdGUiLCJnZXRXcmFwcGVkSW5zdGFuY2UiLCJyZWZzIiwid3JhcHBlZEluc3RhbmNlIiwic2hvdWxkVXBkYXRlU3RhdGVQcm9wcyIsInNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMiLCJoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQiLCJoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkIiwicmVmIiwiQ29tcG9uZW50IiwiY29udGV4dFR5cGVzIiwic3RvcmVTaGFwZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJob2lzdFN0YXRpY3MiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiUmVmZXJlbmNlRXJyb3IiLCJDaGlsZHJlbiIsIm9ubHkiLCJpc1JlcXVpcmVkIiwiUHJvcFR5cGVzIiwiZWxlbWVudCIsImZ1bmMiLCJzaGFwZSIsImdldENoaWxkQ29udGV4dCIsIm5leHRTdG9yZSIsImNoaWxkQ29udGV4dFR5cGVzIiwiaXNPYmplY3RMaWtlIiwicmVxdWlyZSQkMCIsIl9pc0hvc3RPYmplY3QiLCJpc0hvc3RPYmplY3QiLCJyZXF1aXJlJCQxIiwiX2dldFByb3RvdHlwZSIsImdldFByb3RvdHlwZSIsIm5hdGl2ZUdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwicmVxdWlyZSQkMiIsIm9iamVjdFRvU3RyaW5nIiwib2JqZWN0VGFnIiwicHJvdG8iLCJDdG9yIiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsIm9iamVjdFByb3RvIiwiaXNQbGFpbk9iamVjdCQxIiwiUkVBQ1RfU1RBVElDUyIsImRlZmF1bHRQcm9wcyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsInByb3BUeXBlcyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJhcml0eSIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpbnZhcmlhbnQiLCJOT0RFX0VOViIsImNvbmRpdGlvbiIsImZvcm1hdCIsImQiLCJhcmdzIiwiYXJnSW5kZXgiLCJyZXBsYWNlIiwiZnJhbWVzVG9Qb3AiLCJzZXRJbW1lZGlhdGUiLCJWTm9kZSIsIm5vZGVOYW1lIiwiYXR0cmlidXRlcyIsImV4dGVuZCIsImNsb25lIiwiZGVsdmUiLCJ0b0FycmF5Iiwib2Zmc2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiZW1wdHkiLCJmYWxzZXkiLCJoYXNoVG9DbGFzc05hbWUiLCJwcm9wIiwiZmlyc3RDaGlsZCIsImFyciIsImxhc3RTaW1wbGUiLCJsZW4iLCJTdHJpbmciLCJfcCIsIlNIQVJFRF9URU1QX0FSUkFZIiwic2ltcGxlIiwiY2xhc3NOYW1lIiwidm5vZGUiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVMaW5rZWRTdGF0ZSIsImNvbXBvbmVudCIsImV2ZW50UGF0aCIsInAwIiwiX2NvbXBvbmVudCRzZXRTdGF0ZSIsInYiLCJ0IiwiY3VycmVudFRhcmdldCIsInMiLCJfY29tcG9uZW50IiwibWF0Y2giLCJjaGVja2VkIiwiZW5xdWV1ZVJlbmRlciIsIml0ZW1zIiwicmVyZW5kZXIiLCJjdXJyZW50SXRlbXMiLCJpdGVtc09mZmxpbmUiLCJpc0Z1bmN0aW9uYWxDb21wb25lbnQiLCJidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQiLCJnZXROb2RlUHJvcHMiLCJFTVBUWSIsImVuc3VyZU5vZGVEYXRhIiwibm9kZSIsIkFUVFJfS0VZIiwiZ2V0Tm9kZVR5cGUiLCJUZXh0IiwiRWxlbWVudCIsInJlbW92ZU5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzZXRBY2Nlc3NvciIsIm9sZCIsImlzU3ZnIiwiY3NzVGV4dCIsIk5PTl9ESU1FTlNJT05fUFJPUFMiLCJpbm5lckhUTUwiLCJfX2h0bWwiLCJfbGlzdGVuZXJzIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJldmVudFByb3h5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFByb3BlcnR5IiwicmVtb3ZlQXR0cmlidXRlIiwibnMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJnZXRSYXdOb2RlQXR0cmlidXRlcyIsImF0dHJzIiwiaXNTYW1lTm9kZVR5cGUiLCJpc05hbWVkTm9kZSIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsIm5vcm1hbGl6ZWROb2RlTmFtZSIsImNvbGxlY3ROb2RlIiwiY2xlYW5Ob2RlIiwibGlzdCIsIm5vZGVzIiwiY3JlYXRlTm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImZsdXNoTW91bnRzIiwibW91bnRzIiwiZGlmZiIsImRvbSIsIm1vdW50QWxsIiwiZGlmZkxldmVsIiwicmV0IiwiaWRpZmYiLCJvcmlnaW5hbEF0dHJpYnV0ZXMiLCJub2RlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInN2Z01vZGUiLCJpc1N2Z01vZGUiLCJyZWNvbGxlY3ROb2RlVHJlZSIsImNoaWxkTm9kZXMiLCJpbm5lckRpZmZOb2RlIiwiZGlmZkF0dHJpYnV0ZXMiLCJ2Y2hpbGRyZW4iLCJ2Y2hpbGQiLCJrZXllZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjaGlsZHJlbkxlbiIsInZsZW4iLCJfY2hpbGQiLCJfX2tleSIsImtleWVkTGVuIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlT3JwaGFuZWRDaGlsZHJlbiIsInVubW91bnRPbmx5IiwiX25hbWUiLCJfbmFtZTIiLCJjb2xsZWN0Q29tcG9uZW50IiwiY29tcG9uZW50cyIsImNyZWF0ZUNvbXBvbmVudCIsImluc3QiLCJuZXh0QmFzZSIsInRyaWdnZXJDb21wb25lbnRSZW5kZXIiLCJfZGlydHkiLCJzZXRDb21wb25lbnRQcm9wcyIsIm9wdHMiLCJiYXNlIiwiX2Rpc2FibGVSZW5kZXJpbmciLCJfX3JlZiIsImNvbXBvbmVudFdpbGxNb3VudCIsInByZXZDb250ZXh0IiwicHJldlByb3BzIiwic3luY0NvbXBvbmVudFVwZGF0ZXMiLCJyZW5kZXJDb21wb25lbnQiLCJza2lwIiwicmVuZGVyZWQiLCJwcmV2aW91c1N0YXRlIiwicHJldlN0YXRlIiwicHJldmlvdXNDb250ZXh0IiwiaXNVcGRhdGUiLCJpbml0aWFsQmFzZSIsIm5leHRTaWJsaW5nIiwiYmFzZVBhcmVudCIsImluaXRpYWxDb21wb25lbnQiLCJpbml0aWFsQ2hpbGRDb21wb25lbnQiLCJwcmV2aW91c1Byb3BzIiwidG9Vbm1vdW50IiwiY2hpbGRDb21wb25lbnQiLCJjaGlsZFByb3BzIiwiX3BhcmVudENvbXBvbmVudCIsImNiYXNlIiwidW5tb3VudENvbXBvbmVudCIsImNvbXBvbmVudFJlZiIsInVuc2hpZnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJfcmVuZGVyQ2FsbGJhY2tzIiwiYnVpbGRDb21wb25lbnRGcm9tVk5vZGUiLCJvbGREb20iLCJpc0RpcmVjdE93bmVyIiwiaXNPd25lciIsInJlbW92ZSIsImlubmVyIiwiY29tcG9uZW50RGlkVW5tb3VudCIsIl9saW5rZWRTdGF0ZXMiLCJnZXRJbml0aWFsU3RhdGUiLCJtZXJnZSIsImxjQ2FjaGUiLCJyZXNvbHZlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInNldFRpbWVvdXQiLCJib3hGbGV4IiwiYm94RmxleEdyb3VwIiwiY29sdW1uQ291bnQiLCJmaWxsT3BhY2l0eSIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJzdHJva2VPcGFjaXR5Iiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImxpbmtTdGF0ZSIsImNhY2hlS2V5IiwiZm9yY2VVcGRhdGUiLCJjbGVhckltbWVkaWF0ZSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJuZXh0VGljayIsIkFycmF5IiwiaW1tZWRpYXRlSWRzIiwibmV4dEltbWVkaWF0ZUlkIiwiY2xlYXJUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2xvc2UiLCJ1bnJlZiIsImVucm9sbCIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwiY2FjaGVkU2V0VGltZW91dCIsInJ1biIsImNhY2hlZENsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJwcm9jZXNzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImlzQ3J1c2hlZCIsImNvbXBvc2UiLCJhcHBseU1pZGRsZXdhcmUiLCJjb21iaW5lUmVkdWNlcnMiLCJjcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZTIiLCJfY29tYmluZVJlZHVjZXJzIiwiX2NvbWJpbmVSZWR1Y2VyczIiLCJfYmluZEFjdGlvbkNyZWF0b3JzIiwiX2JpbmRBY3Rpb25DcmVhdG9yczIiLCJfYXBwbHlNaWRkbGV3YXJlIiwiX2FwcGx5TWlkZGxld2FyZTIiLCJfY29tcG9zZSIsIl9jb21wb3NlMiIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwicmVkdWNlciIsImluaXRpYWxTdGF0ZSIsImVuaGFuY2VyIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJjdXJyZW50TGlzdGVuZXJzIiwiY3VycmVudFN0YXRlIiwibGlzdGVuZXIiLCJhY3Rpb24iLCJfaXNQbGFpbk9iamVjdDIiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJsaXN0ZW5lcnMiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwiQWN0aW9uVHlwZXMiLCJJTklUIiwib2JzZXJ2YWJsZSIsIl9yZWYiLCJvdXRlclN1YnNjcmliZSIsIm9ic2VydmVyIiwib2JzZXJ2ZVN0YXRlIiwibmV4dCIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9yZWYyIiwiX2lzUGxhaW5PYmplY3QiLCJfc3ltYm9sT2JzZXJ2YWJsZSIsIm92ZXJBcmciLCJhcmciLCJnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZSIsImFjdGlvblR5cGUiLCJhY3Rpb25OYW1lIiwiZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZSIsImlucHV0U3RhdGUiLCJyZWR1Y2VycyIsInJlZHVjZXJLZXlzIiwiYXJndW1lbnROYW1lIiwidW5leHBlY3RlZEtleXMiLCJmaWx0ZXIiLCJhc3NlcnRSZWR1Y2VyU2FuaXR5IiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsIndhcm5pbmdNZXNzYWdlIiwiaGFzQ2hhbmdlZCIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGVGb3JLZXkiLCJuZXh0U3RhdGVGb3JLZXkiLCJlcnJvck1lc3NhZ2UiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsIl9kaXNwYXRjaCIsImNoYWluIiwibWlkZGxld2FyZUFQSSIsIm1hcCIsIm1pZGRsZXdhcmUiLCJfZXh0ZW5kcyIsImZ1bmNzIiwiX3JldCIsImxhc3QiLCJyZXN0IiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMyIiwiX2luaGVyaXRzMyIsIl9oYW1tZXJqcyIsIl9oYW1tZXJqczIiLCJfcHJvcGFnYXRpbmdIYW1tZXJqcyIsIl9wcm9wYWdhdGluZ0hhbW1lcmpzMiIsIl9yZWR1eFVuZG8iLCJfY3VydmVFZGl0b3JSaWdodCIsIl9jdXJ2ZUVkaXRvclJpZ2h0MiIsIl9jdXJ2ZUVkaXRvckxlZnQiLCJfY3VydmVFZGl0b3JMZWZ0MiIsIl9jb2RlUGFuZWwiLCJfY29kZVBhbmVsMiIsIl9pY29ucyIsIl9pY29uczIiLCJfcmVzaXplTW9kIiwiX3Jlc2l6ZU1vZDIiLCJDdXJ2ZUVkaXRvciIsIkNMQVNTRVMiLCJfZ2V0U3R5bGUiLCJfc3RhdGUiLCJYX1NJWkUiLCJZX1NJWkUiLCJDVVJWRV9QQURESU5HIiwidGVtcF90b3AiLCJ0ZW1wX2JvdHRvbSIsInRlbXBfcmlnaHQiLCJ0cmFuc2xhdGUiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImhlaWdodCIsIndpZHRoIiwidGVtcFgiLCJ0ZW1wWSIsInByZWZpeCIsImNzcyIsInF1ZXJ5U2VsZWN0b3IiLCJtYyIsIk1hbmFnZXIiLCJhZGQiLCJQYW4iLCJ0aHJlc2hvbGQiLCJkZWx0YVgiLCJkZWx0YVkiLCJfYWRkS2V5VXAiLCJfb25LZXlVcCIsImFsdEtleSIsIndoaWNoIiwiQWN0aW9uQ3JlYXRvcnMiLCJ1bmRvIiwicmVkbyIsIiRnZXRQcm90b3R5cGVPZiIsIk9iamVjdFByb3RvIiwiZmFpbHMiLCJLRVkiLCJleHAiLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiX2l0ZXJhdG9yIiwiX2l0ZXJhdG9yMiIsIl9zeW1ib2wiLCJfc3ltYm9sMiIsIl90eXBlb2YiLCIkYXQiLCJpdGVyYXRlZCIsIl90IiwiX2kiLCJkb25lIiwiVE9fU1RSSU5HIiwicG9zIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsIkxJQlJBUlkiLCJyZWRlZmluZSIsIkl0ZXJhdG9ycyIsIiRpdGVyQ3JlYXRlIiwic2V0VG9TdHJpbmdUYWciLCJJVEVSQVRPUiIsIkJVR0dZIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJkUHMiLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsImx0IiwiZ3QiLCJkaXNwbGF5IiwiY29udGVudFdpbmRvdyIsIndyaXRlIiwiUHJvcGVydGllcyIsImRvY3VtZW50RWxlbWVudCIsImRlZiIsInRhZyIsInN0YXQiLCJVU0VfU1lNQk9MIiwiJGV4cG9ydHMiLCJUT19TVFJJTkdfVEFHIiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9uIiwiYWRkVG9VbnNjb3BhYmxlcyIsIl9rIiwiQXJndW1lbnRzIiwiREVTQ1JJUFRPUlMiLCJNRVRBIiwiJGZhaWxzIiwid2tzIiwid2tzRXh0Iiwid2tzRGVmaW5lIiwia2V5T2YiLCJlbnVtS2V5cyIsImlzQXJyYXkiLCJfY3JlYXRlIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiZ09QRCIsImdPUE4iLCIkU3ltYm9sIiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwiRCIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJpc1N5bWJvbCIsIml0ZXJhdG9yIiwiJGRlZmluZVByb3BlcnR5IiwiJGRlZmluZVByb3BlcnRpZXMiLCIkY3JlYXRlIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJzeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsIndpbmRvd05hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCJoaWRkZW5LZXlzIiwiX3NldFByb3RvdHlwZU9mIiwiX3NldFByb3RvdHlwZU9mMiIsIl9jcmVhdGUyIiwidGVzdCIsImJ1Z2d5IiwiQ1VSVkVfUEVSQ0VOVCIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZXhwb3J0TmFtZSIsInNldFRpbWVvdXRDb250ZXh0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJlYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwiZGVwcmVjYXRpb25NZXNzYWdlIiwic3RhY2siLCJsb2ciLCJpbmhlcml0IiwicHJvcGVydGllcyIsImNoaWxkUCIsImJhc2VQIiwiX3N1cGVyIiwiYm9vbE9yRm4iLCJUWVBFX0ZVTkNUSU9OIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwidHlwZXMiLCJoYW5kbGVyIiwic3BsaXRTdHIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhc1BhcmVudCIsImluU3RyIiwiZmluZCIsInRyaW0iLCJpbkFycmF5IiwiZmluZEJ5S2V5IiwidW5pcXVlQXJyYXkiLCJzb3J0IiwicmVzdWx0cyIsInByZWZpeGVkIiwicHJvcGVydHkiLCJjYW1lbFByb3AiLCJ0b1VwcGVyQ2FzZSIsIlZFTkRPUl9QUkVGSVhFUyIsInVuaXF1ZUlkIiwiX3VuaXF1ZUlkIiwiZ2V0V2luZG93Rm9yRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIklucHV0IiwibWFuYWdlciIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5pdCIsImNyZWF0ZUlucHV0SW5zdGFuY2UiLCJUeXBlIiwiaW5wdXRDbGFzcyIsIlNVUFBPUlRfUE9JTlRFUl9FVkVOVFMiLCJQb2ludGVyRXZlbnRJbnB1dCIsIlNVUFBPUlRfT05MWV9UT1VDSCIsIlRvdWNoSW5wdXQiLCJTVVBQT1JUX1RPVUNIIiwiVG91Y2hNb3VzZUlucHV0IiwiTW91c2VJbnB1dCIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJwb2ludGVycyIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJJTlBVVF9TVEFSVCIsImlzRmluYWwiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJzZXNzaW9uIiwiY29tcHV0ZUlucHV0RGF0YSIsInJlY29nbml6ZSIsInByZXZJbnB1dCIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImNlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsIm5vdyIsImRlbHRhVGltZSIsImFuZ2xlIiwiZ2V0QW5nbGUiLCJkaXN0YW5jZSIsImdldERpc3RhbmNlIiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJnZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwiYWJzIiwic2NhbGUiLCJnZXRTY2FsZSIsInJvdGF0aW9uIiwiZ2V0Um90YXRpb24iLCJtYXhQb2ludGVycyIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsInNyY0V2ZW50Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImRpcmVjdGlvbiIsImxhc3RJbnRlcnZhbCIsIkNPTVBVVEVfSU5URVJWQUwiLCJjbGllbnRYIiwicm91bmQiLCJjbGllbnRZIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fTEVGVCIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9VUCIsIkRJUkVDVElPTl9ET1dOIiwicDEiLCJwMiIsIlBST1BTX1hZIiwic3FydCIsImF0YW4yIiwiUEkiLCJzdGFydCIsImVuZCIsIlBST1BTX0NMSUVOVF9YWSIsImV2RWwiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsImV2V2luIiwiTU9VU0VfV0lORE9XX0VWRU5UUyIsInByZXNzZWQiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwicG9pbnRlckV2ZW50cyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJldlRhcmdldCIsIlNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTIiwiU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMiLCJzdGFydGVkIiwibm9ybWFsaXplU2luZ2xlVG91Y2hlcyIsImFsbCIsInRvdWNoZXMiLCJjaGFuZ2VkIiwiY2hhbmdlZFRvdWNoZXMiLCJUT1VDSF9UQVJHRVRfRVZFTlRTIiwidGFyZ2V0SWRzIiwiZ2V0VG91Y2hlcyIsImFsbFRvdWNoZXMiLCJJTlBVVF9NT1ZFIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsInRvdWNoIiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInJlY29yZFRvdWNoZXMiLCJldmVudERhdGEiLCJzZXRMYXN0VG91Y2giLCJsYXN0VG91Y2giLCJsdHMiLCJyZW1vdmVMYXN0VG91Y2giLCJERURVUF9USU1FT1VUIiwiaXNTeW50aGV0aWNFdmVudCIsImR4IiwiZHkiLCJERURVUF9ESVNUQU5DRSIsIlRvdWNoQWN0aW9uIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJhY3Rpb25zIiwiVE9VQ0hfQUNUSU9OX05PTkUiLCJoYXNQYW5YIiwiVE9VQ0hfQUNUSU9OX1BBTl9YIiwiaGFzUGFuWSIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fQVVUTyIsImdldFRvdWNoQWN0aW9uUHJvcHMiLCJOQVRJVkVfVE9VQ0hfQUNUSU9OIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsIkNTUyIsInN1cHBvcnRzIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwiU1RBVEVfUE9TU0lCTEUiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfQkVHQU4iLCJkaXJlY3Rpb25TdHIiLCJnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyIiwib3RoZXJSZWNvZ25pemVyIiwicmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwiSGFtbWVyIiwicmVjb2duaXplcnMiLCJwcmVzZXQiLCJoYW5kbGVycyIsIm9sZENzc1Byb3BzIiwidG91Y2hBY3Rpb24iLCJ0b2dnbGVDc3NQcm9wcyIsInJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImNzc1Byb3BzIiwidHJpZ2dlckRvbUV2ZW50IiwiZ2VzdHVyZUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJnZXN0dXJlIiwiZGlzcGF0Y2hFdmVudCIsIlRFU1RfRUxFTUVOVCIsIkRhdGUiLCJvdXRwdXQiLCJuZXh0S2V5IiwiZGVzdCIsIk1PQklMRV9SRUdFWCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIklOUFVUX1RZUEVfVE9VQ0giLCJJTlBVVF9UWVBFX1BFTiIsIklOUFVUX1RZUEVfTU9VU0UiLCJJTlBVVF9UWVBFX0tJTkVDVCIsIkRJUkVDVElPTl9IT1JJWk9OVEFMIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwiRElSRUNUSU9OX0FMTCIsImRlc3Ryb3kiLCJNT1VTRV9JTlBVVF9NQVAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwiYnV0dG9uIiwicG9pbnRlclR5cGUiLCJQT0lOVEVSX0lOUFVUX01BUCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm91dCIsIklFMTBfUE9JTlRFUl9UWVBFX0VOVU0iLCIyIiwiMyIsIjQiLCI1IiwiTVNQb2ludGVyRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJyZW1vdmVQb2ludGVyIiwiZXZlbnRUeXBlTm9ybWFsaXplZCIsImlzVG91Y2giLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwiVE9VQ0hfSU5QVVRfTUFQIiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiVE9VQ0hfQUNUSU9OX0NPTVBVVEUiLCJUT1VDSF9BQ1RJT05fTUFQIiwiY29tcHV0ZSIsImdldFRvdWNoQWN0aW9uIiwicHJldmVudERlZmF1bHRzIiwicHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwicHJldmVudFNyYyIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9GQUlMRUQiLCJkcm9wUmVjb2duaXplV2l0aCIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicmVzZXQiLCJhdHRyVGVzdCIsIm9wdGlvblBvaW50ZXJzIiwiaXNSZWNvZ25pemVkIiwiaXNWYWxpZCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiU1RPUCIsIkZPUkNFRF9TVE9QIiwic3RvcCIsImZvcmNlIiwic3RvcHBlZCIsImN1clJlY29nbml6ZXIiLCJleGlzdGluZyIsImV2ZW50cyIsIlRhcCIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsImZyZWVHbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX2ZpcnN0VGFyZ2V0IiwicHJvcGFnYXRpbmciLCJoYW1tZXIiLCJwcm9wYWdhdGVkSGFuZGxlciIsIl9oYW5kbGVkIiwic3RvcFByb3BhZ2F0aW9uIiwic3JjU3RvcCIsImZpcnN0VGFyZ2V0IiwiZWxlbSIsImVsZW1IYW1tZXIiLCJfaGFuZGxlcnMiLCJfb3B0aW9ucyIsIlByb3BhZ2F0aW5nSGFtbWVyIiwid3JhcHBlciIsImhhbW1lcnMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZnJvbSIsImRlYnVnIiwiX19ERUJVR19fIiwiX2NvbnNvbGUiLCJncm91cCIsImRlYnVnU3RhcnQiLCJfY29uc29sZTIiLCJncm91cENvbGxhcHNlZCIsImRlYnVnRW5kIiwiZ3JvdXBFbmQiLCJwYXN0IiwiZnV0dXJlIiwiaW5zZXJ0IiwibGltaXQiLCJmcmVlIiwiaGlzdG9yeU92ZXJmbG93IiwianVtcFRvRnV0dXJlIiwianVtcFRvUGFzdCIsIndyYXBTdGF0ZSIsInVwZGF0ZVN0YXRlIiwiY3JlYXRlSGlzdG9yeSIsInBhcnNlQWN0aW9ucyIsInJhd0FjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJ1bmRvYWJsZSIsInJhd0NvbmZpZyIsImNvbmZpZyIsImluaXRUeXBlcyIsInVuZG9UeXBlIiwiVU5ETyIsInJlZG9UeXBlIiwiUkVETyIsImp1bXBUb1Bhc3RUeXBlIiwiSlVNUF9UT19QQVNUIiwianVtcFRvRnV0dXJlVHlwZSIsIkpVTVBfVE9fRlVUVVJFIiwiaW5pdGlhbEhpc3RvcnkiLCJyZXMiLCJzb21lIiwidXBkYXRlZEhpc3RvcnkiLCJkaXN0aW5jdFN0YXRlIiwiaW5jbHVkZUFjdGlvbiIsImlmQWN0aW9uIiwiZXhjbHVkZUFjdGlvbiIsIl9jdXJ2ZSIsIl9jdXJ2ZTIiLCJfcmVzaXplSGFuZGxlIiwiX3Jlc2l6ZUhhbmRsZTIiLCJDdXJ2ZUVkaXRvclJpZ2h0IiwiX2FuZ2xlVG9Qb2ludCIsIl9wcm9ncmVzc0xpbmUiLCJfcHJvZ3Jlc3NMaW5lMiIsIl9wb2ludCIsIl9wb2ludDIiLCJDdXJ2ZSIsInN0eWxlcyIsIl9yZW5kZXJQb2ludHMiLCJzZWdtZW50cyIsIl9yZW5kZXJTZWdtZW50cyIsIl9yZW5kZXJQcm9ncmVzc0xpbmVzIiwiYmFja2dyb3VuZCIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiY2xhc3MiLCJzdHJva2UiLCJzdHJva2Utb3BhY2l0eSIsInN0cm9rZS13aWR0aCIsInZlY3Rvci1lZmZlY3QiLCJmaWxsIiwiYmdUcmFuc2Zvcm0iLCJwb2ludHNEYXRhIiwicG9pbnRzQ291bnQiLCJkb21TZWdtZW50cyIsInNlZ21lbnQiLCJzZWdtZW50U3RyaW5nIiwiZGF0YS1pbmRleCIsInJlbmRlcmVkTGluZXMiLCJsaW5lIiwicXVlcnlTZWxlY3RvckFsbCIsIl91cGRhdGVEb21Qcm9ncmVzc0xpbmVzIiwidGFnTmFtZSIsIm9mZnNldFgiLCJvZmZzZXRZIiwicGFyc2VJbnQiLCJnZXRBdHRyaWJ1dGUiLCJpc1JlY29yZCIsInN2Z01jIiwicmFkaXVzIiwiZ2V0UmFkaWFsUG9pbnQiLCJQcm9ncmVzc0xpbmUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImRhdGEtY29tcG9uZW50IiwiY29udGVudCIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJtZWRpYSIsInNvdXJjZU1hcCIsInBhcnQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsInJlbW92ZVN0eWxlRWxlbWVudCIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUxpbmtFbGVtZW50IiwibGlua0VsZW1lbnQiLCJyZWwiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwiaHJlZiIsImFwcGx5VG9UYWciLCJuZXdPYmoiLCJzdHlsZVNoZWV0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJibG9iIiwib2xkU3JjIiwibWVtb2l6ZSIsIm1lbW8iLCJpc09sZElFIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwicHJvZ3Jlc3MtbGluZSIsIl9saXR0bGVIYW5kbGUiLCJfbGl0dGxlSGFuZGxlMiIsIl9yb3VuZFRvIiwiX3JvdW5kVG8yIiwiX2NsYW1wIiwiX2NsYW1wMiIsIlBvaW50Iiwic2VsZWN0ZWQiLCJpc1NlbGVjdGVkIiwiaGFuZGxlcyIsImxpdHRsZUhhbmRsZXMiLCJfZ2V0TGl0dGxlSGFuZGxlcyIsImNsZWFuWCIsInNjYWxlclgiLCJfcHJvcHMyIiwiX2NyZWF0ZUhhbmRsZSIsInBhcmVudEluZGV4IiwiaGFuZGxlIiwiZ2V0VGVtcFgiLCJfcHJvcHMzIiwiZ2V0VGVtcFkiLCJfcHJvcHM1IiwicmV0dXJuVmFsdWUiLCJfcHJvcHM2IiwiX3Byb3BzNyIsIl9wcm9wczgiLCJpc0Rlc2VsZWN0Iiwic2hpZnRLZXkiLCJtc1BvaW50ZXJFbmFibGVkIiwib250b3VjaHN0YXJ0IiwiX2FuZ2xlVG9Qb2ludDIiLCJfcG9pbnRUb0FuZ2xlIiwiX3BvaW50VG9BbmdsZTIiLCJMaXR0bGVIYW5kbGUiLCJfZ2V0UG9pbnRTdHlsZSIsIl9nZXRMaW5lU3R5bGUiLCJuZXdZIiwiYWJzWCIsImFic1NjYWxlclgiLCJuZXdWZWN0b3IiLCJhdGFuIiwibGl0dGxlLWhhbmRsZSIsImxpdHRsZS1oYW5kbGVfX3BvaW50IiwibGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaCIsImxpdHRsZS1oYW5kbGVfX2xpbmUiLCJzbmFwIiwibW9kaWZpZWQiLCJtb2QiLCJ0ZW1wUmVzaXplX3RvcCIsImNvZWYiLCJNT0QiLCJESVYiLCJHQVAiLCJwb2ludF9fdG91Y2giLCJpcy1zZWxlY3RlZCIsImlzLWhpZGUtaGFuZGxlcyIsImN1cnZlIiwiY3VydmVfX2JhY2tncm91bmQiLCJjdXJ2ZV9fc3ZnLXdyYXBwZXIiLCJjdXJ2ZV9fc3ZnIiwiY3VydmVfX3N2Zy1zZWdtZW50IiwiX2ljb24iLCJfaWNvbjIiLCJSZXNpemVIYW5kbGUiLCJjbGFzc1R5cGUiLCJkYXRhLXR5cGUiLCJJY29uIiwibWFya3VwIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpY29uIiwicmVzaXplLWhhbmRsZSIsInJlc2l6ZS1oYW5kbGUtLXJpZ2h0IiwicmVzaXplLWhhbmRsZS0tYm90dG9tIiwiY3VydmUtZWRpdG9yIiwiY3VydmUtZWRpdG9yX19sZWZ0IiwiY3VydmUtZWRpdG9yX19yaWdodCIsImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSIsImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMiLCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyIsIl9jb2RlQnV0dG9uIiwiX2NvZGVCdXR0b24yIiwiX2ljb25EaXZpZGVyIiwiX2ljb25EaXZpZGVyMiIsIl9wb2ludENvbnRyb2xzIiwiX3BvaW50Q29udHJvbHMyIiwiQ3VydmVFZGl0b3JMZWZ0IiwiX2ljb25CdXR0b24iLCJfaWNvbkJ1dHRvbjIiLCJDb2RlQnV0dG9uIiwiaXNDaGVjayIsImNvbnRyb2xzIiwiaXNDb2RlIiwiSWNvbkJ1dHRvbiIsIm9uVGFwIiwiaWNvbi1idXR0b24iLCJpcy1jaGVja2VkIiwiaWNvbi1kaXZpZGVyIiwiUG9pbnRDb250cm9scyIsInNob3ciLCJpc1Nob3ciLCJidXR0b25zIiwiX2FkZEJ1dHRvbnMiLCJidXR0b25zTWFwIiwiX29uQnV0dG9uVGFwIiwicG9pbnQtY29udHJvbHMiLCJpcy1zaG93IiwibWFpbkNsYXNzIiwicmVhZG9ubHkiLCJjb2RlLXBhbmVsIiwiY29kZS1wYW5lbF9faW5uZXIiLCJjb2RlLXBhbmVsX19pbnB1dC13cmFwIiwiY29kZS1wYW5lbF9faW5wdXQtZmllbGQiLCJpcy1vcGVuIiwiSWNvbnMiLCJfcmVkdXgiLCJfaW5kZXhSZWR1Y2VyIiwiX2luZGV4UmVkdWNlcjIiLCJpbml0U3RvcmUiLCJfcmVkdXhVbmRvMiIsIl9yZXNpemVSZWR1Y2VyIiwiX3Jlc2l6ZVJlZHVjZXIyIiwiX3BvaW50c1JlZHVjZXIiLCJfcG9pbnRzUmVkdWNlcjIiLCJfY29udHJvbHNSZWR1Y2VyIiwiX2NvbnRyb2xzUmVkdWNlcjIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIyIiwiX3Byb2dyZXNzZXNSZWR1Y2VyIiwiX3Byb2dyZXNzZXNSZWR1Y2VyMiIsIl9yZWR1eFJlY3ljbGUiLCJfcmVkdXhSZWN5Y2xlMiIsIlVORE9BQkxFX09QVFMiLCJjdXJyU3RhdGUiLCJfZGVmaW5lUHJvcGVydHkzIiwiX2V4dGVuZHM0IiwiX2V4dGVuZHM1IiwiSU5JVElBTF9TVEFURSIsInJlc2l6ZVJlZHVjZXIiLCJkZWx0YSIsIm5ld1N0YXRlIiwiX2RhdGEiLCJfdHlwZSIsIl9kZWx0YSIsIm1hdGhNZXRob2QiLCJfbmV3U3RhdGUiLCJfYWN0aW9uJGRhdGEiLCJfYWN0aW9uJGRhdGEyIiwiX3gyIiwiX3kiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9tYWtlUG9pbnQiLCJfbWFrZVBvaW50MiIsIl9pbml0UG9pbnRzIiwiX2luaXRQb2ludHMyIiwiX2NhbGN1bGF0ZVBhdGgiLCJfY2FsY3VsYXRlUGF0aDIiLCJkZXNlbGVjdEFsbCIsImZpbmRTZWxlY3RlZEluZGVjaWVzIiwiaW5kZWNpZXMiLCJwb2ludHNSZWR1Y2VyIiwib2xkUG9pbnQiLCJuZXdQb2ludHMiLCJfaW5kZXgiLCJfcG9pbnRzIiwiX29sZFBvaW50IiwiX25ld1BvaW50cyIsIl9pbmRleDIiLCJfcG9pbnRzMiIsIl9kYXRhMiIsIl9pbmRleDMiLCJkZXNlbGVjdGVkIiwiX25ld1BvaW50czIiLCJfcG9pbnRzMyIsIl9wb2ludHM0IiwiX25ld1BvaW50czMiLCJfcG9pbnRzNSIsIl9zZWxlY3RlZCIsIl9uZXdQb2ludHM0IiwiX2l0ZW0iLCJfaW5kZXg0IiwiaGFuZGxlSW5kZXgiLCJzaWJIYW5kbGVJbmRleCIsImhhbmRsZU5hbWUiLCJzaWJIYW5kbGVOYW1lIiwic2liSGFuZGxlIiwiX3BvaW50czYiLCJfZGF0YTMiLCJfbmV3UG9pbnRzNSIsIm5ld1BvaW50IiwiX2hhbmRsZU5hbWUiLCJuZXdIYW5kbGUiLCJfZnJvbSIsIl9mcm9tMiIsImlzQXJyYXlJdGVyIiwiY3JlYXRlUHJvcGVydHkiLCJnZXRJdGVyRm4iLCJpdGVyIiwiYXJyYXlMaWtlIiwibWFwZm4iLCJtYXBwaW5nIiwiaXRlckZuIiwiQXJyYXlQcm90byIsImNsYXNzb2YiLCJnZXRJdGVyYXRvck1ldGhvZCIsIkFSRyIsInRyeUdldCIsImNhbGxlZSIsIlNBRkVfQ0xPU0lORyIsInJpdGVyIiwic2tpcENsb3NpbmciLCJzYWZlIiwiZmFsbGJhY2siLCJfZmFsbGJhY2siLCJtYWtlSGFuZGxlUG9pbnQiLCJpc1RvdWNoZWQiLCJtYWtlUG9zaXRpb25Qb2ludCIsIm1ha2VQb2ludCIsImlzTG9ja2VkWSIsImhhbmRsZTEiLCJoYW5kbGUyIiwiX2luaXRQb2ludCIsIl9pbml0UG9pbnQyIiwic2liUG9pbnQiLCJfY2FsY3VsYXRlU2VnbWVudCIsIl9jYWxjdWxhdGVTZWdtZW50MiIsIm5leHRQb2ludCIsInN0cmluZyIsIl9jYWxjdWxhdGVQb2ludCIsIl9jYWxjdWxhdGVQb2ludDIiLCJ4TmV4dCIsInlOZXh0IiwicGFydDEiLCJwYXJ0MiIsInBhcnQzIiwicGFydDQiLCJDSEFSIiwiaGFuZGxlQ29vcmRzIiwiZ2V0Q29sb3IiLCJDT0xPUlMiLCJtYWtlUHJvZ3Jlc3NMaW5lIiwicHJvZ3Jlc3NlcyIsInJlY3ljbGVTdGF0ZSIsImNociIsImhhc2giXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELElBQ0Esa0JBQUFHLGdCQUFBQyxJQUNBRCxPQUFBLHVCQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLHFCQUFBRCxJQUVBRCxFQUFBLHFCQUFBQyxLQUNDSyxLQUFBLFdBQ0QsTUNBZ0IsVUFBVUMsR0NIMUIsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxx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ZDZvQixXQUFZN29CLEVBQUksS2pPbW5YWixTQUFTakQsRUFBUUQsRUFBU2dCLEdrT25uWGhDLEdBQUFrK0MsR0FBQWwrQyxFQUFBLElBQ0EsaUJBQUFrK0MsU0FBQWovQyxFQUFBb0csR0FBQTY0QyxFQUFBLEtBRUEsSUFBQWo5QyxHQUFBakIsRUFBQSxLQUFBaytDLEtBQ0FBLEdBQUFDLFNBQUFsL0MsRUFBQUQsUUFBQWsvQyxFQUFBQyxRQUlBRCxFQUFBQyxRQUNBbC9DLEVBQUFvRCxJQUFBMEIsT0FBQSxlQUNBLEdBQUFxNkMsR0FBQXArQyxFQUFBLElBQ0EsaUJBQUFvK0MsU0FBQW4vQyxFQUFBb0csR0FBQSs0QyxFQUFBLE1BQ0FuOUMsRUFBQW05QyxLQUlBbi9DLEVBQUFvRCxJQUFBK0IsUUFBQSxXQUFnQ25ELE9sTzZuWDFCLFNBQVNoQyxFQUFRRCxFQUFTZ0IsR21PaHBYaENoQixFQUFBQyxFQUFBRCxRQUFBZ0IsRUFBQSxPQUtBaEIsRUFBQXlELE1BQUF4RCxFQUFBb0csR0FBQSwyRUFBa0ciLCJmaWxlIjoibW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtb2pzLWN1cnZlLWVkaXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwibW9qcy1jdXJ2ZS1lZGl0b3JcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuLyoqKioqKi8gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4vKioqKioqLyBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuLyoqKioqKi8gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4vKioqKioqLyBcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbi8qKioqKiovIFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHRpbWVvdXRcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrKGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1cGRhdGUpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gQ29waWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYmVmNDViMC9zcmMvc2hhcmVkL3V0aWxzL2NhbkRlZmluZVByb3BlcnR5LmpzXHJcbi8qKioqKiovIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbi8qKioqKiovIFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJ4XCIsIHtcclxuLyoqKioqKi8gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdGNhbkRlZmluZVByb3BlcnR5ID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR9IGNhdGNoKHgpIHtcclxuLyoqKioqKi8gXHRcdC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIxZjAwZThlNzA1MTA4NDRkMmFhYVwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuLyoqKioqKi8gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIChmdW5jdGlvbihuYW1lKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0obmFtZSkpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZW5zdXJlKGNodW5rSWQsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuLyoqKioqKi8gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKG51bGwsIGZuKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdHZhbHVlOiBlbnN1cmVcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRmbi5lID0gZW5zdXJlO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIGZuO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhvdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbi8qKioqKiovIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJudW1iZXJcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbi8qKioqKiovIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuLyoqKioqKi8gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbi8qKioqKiovIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuLyoqKioqKi8gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuLyoqKioqKi8gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHksIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBhcHBseSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4vKioqKioqLyBcdFx0aG90RG93bmxvYWRNYW5pZmVzdChmdW5jdGlvbihlcnIsIHVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRpZighdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB1cGRhdGUuYy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcFt1cGRhdGUuY1tpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbi8qKioqKiovIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbi8qKioqKiovIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbi8qKioqKiovIFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRob3RDYWxsYmFjayA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRpZighY2FsbGJhY2spIHJldHVybjtcclxuLyoqKioqKi8gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSwgY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgbW9kdWxlSWQgKyBcIiBpbiBcIiArIHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIFtvdXRkYXRlZE1vZHVsZXMsIG91dGRhdGVkRGVwZW5kZW5jaWVzXTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuLyoqKioqKi8gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0WzBdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdFsxXSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0WzFdW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuLyoqKioqKi8gXHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNiID0gY2FsbGJhY2tzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2Iob3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4vKioqKioqLyBcdFx0aWYoZXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbi8qKioqKiovIFx0XHRcdHBhcmVudHM6IGhvdEN1cnJlbnRQYXJlbnRzLFxuLyoqKioqKi8gXHRcdFx0Y2hpbGRyZW46IFtdXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfc3RyaW5naWZ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ2lmeSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcHJlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yKTtcblx0XG5cdHZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cdFxuXHR2YXIgX3N0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTk4KTtcblx0XG5cdHZhciBfaGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXNoKTtcblx0XG5cdHZhciBfZmFsbGJhY2tUbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk5KTtcblx0XG5cdHZhciBfZmFsbGJhY2tUbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mYWxsYmFja1RvKTtcblx0XG5cdHZhciBfZGVmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMCk7XG5cdFxuXHR2YXIgX2RlZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmVyKTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG5cdFxuXHR2YXIgX2FkZFBvaW50ZXJEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZFBvaW50ZXJEb3duKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMDEpO1xuXHRcblx0Ly8gVE9ET1xuXHQvLyAgIC0gcmVzaXplIGRvd24gd2hlbiBwb2ludHMgYXJlIGFib3ZlIHRoZSBlZGl0b3IgYm9yZGVyXG5cdC8vICAgLSBwZXJmb3JtYW5jZVxuXHQvLyAgIC0gaW1wb3J0IHBhdGggZGF0YVxuXHQvLyAgIC0gbW92ZSBidW5jaCBvZiBwb2ludHMgYXQgb25jZVxuXHRcblx0XG5cdC8qXG5cdCAgQVBJIHdyYXBwZXIgYWJvdmUgdGhlIGFwcCBpdHNlbGYuXG5cdCovXG5cdHZhciBBUEkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQVBJKCkge1xuXHQgICAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEFQSSk7XG5cdFxuXHQgICAgdGhpcy5fbyA9IG87XG5cdFxuXHQgICAgdGhpcy5fZGVjYWxhcmVEZWZhdWx0cygpO1xuXHQgICAgdGhpcy5fZXh0ZW5kRGVmYXVsdHMoKTtcblx0ICAgIHRoaXMuX3ZhcnMoKTtcblx0ICAgIHRoaXMuX3JlbmRlcigpO1xuXHQgICAgdGhpcy5fdHJ5VG9SZXN0b3JlKCk7XG5cdCAgICB0aGlzLl9saXN0ZW5VbmxvYWQoKTtcblx0XG5cdCAgICB0aGlzLl9zdWJzY3JpYmUoKTtcblx0ICAgIHRoaXMuX3N1YnNjcmliZUZvY3VzKCk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBUEksIFt7XG5cdCAgICBrZXk6ICdfZGVjYWxhcmVEZWZhdWx0cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlY2FsYXJlRGVmYXVsdHMoKSB7XG5cdCAgICAgIHRoaXMuX2RlZmF1bHRzID0ge1xuXHQgICAgICAgIG5hbWU6ICdtb2pzLWN1cnZlLWVkaXRvcicsXG5cdCAgICAgICAgaXNTYXZlU3RhdGU6IHRydWVcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZXh0ZW5kRGVmYXVsdHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9leHRlbmREZWZhdWx0cygpIHtcblx0ICAgICAgdGhpcy5fcHJvcHMgPSB7fTtcblx0XG5cdCAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLl9kZWZhdWx0cykge1xuXHQgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSAoMCwgX2ZhbGxiYWNrVG8yLmRlZmF1bHQpKHRoaXMuX29ba2V5XSwgdGhpcy5fZGVmYXVsdHNba2V5XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfdmFycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3ZhcnMoKSB7XG5cdCAgICAgIHRoaXMucmV2aXNpb24gPSAnMS4wLjAnO1xuXHQgICAgICB0aGlzLnN0b3JlID0gKDAsIF9zdG9yZTIuZGVmYXVsdCkoKTtcblx0XG5cdCAgICAgIHRoaXMuX2Vhc2luZ3MgPSBbXTtcblx0ICAgICAgdGhpcy5fcHJvZ3Jlc3NMaW5lcyA9IFtdO1xuXHRcblx0ICAgICAgdmFyIHN0ciA9ICgwLCBfZmFsbGJhY2tUbzIuZGVmYXVsdCkodGhpcy5fby5uYW1lLCB0aGlzLl9kZWZhdWx0cy5uYW1lKTtcblx0ICAgICAgc3RyICs9IHN0ciA9PT0gdGhpcy5fZGVmYXVsdHMubmFtZSA/ICcnIDogJ19fJyArIHRoaXMuX2RlZmF1bHRzLm5hbWU7XG5cdCAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZSA9IHN0ciArICdfXycgKyAoMCwgX2hhc2gyLmRlZmF1bHQpKHN0cik7XG5cdFxuXHQgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1NFVF9FRElUT1JfTkFNRScsIGRhdGE6IHRoaXMuX2xvY2FsU3RvcmFnZSB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAoMCwgX3ByZWFjdC5yZW5kZXIpKCgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgX3ByZWFjdFJlZHV4LlByb3ZpZGVyLFxuXHQgICAgICAgICAgeyBzdG9yZTogX3RoaXMuc3RvcmUgfSxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvcjIuZGVmYXVsdCwgeyBwcm9ncmVzc0xpbmVzOiBfdGhpcy5fcHJvZ3Jlc3NMaW5lcyB9KVxuXHQgICAgICAgICksIGRvY3VtZW50LmJvZHkpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfbGlzdGVuVW5sb2FkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfbGlzdGVuVW5sb2FkKCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciB1bmxvYWRFdmVudCA9ICdvbnBhZ2VoaWRlJyBpbiB3aW5kb3cgPyAncGFnZWhpZGUnIDogJ2JlZm9yZXVubG9hZCc7XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHVubG9hZEV2ZW50LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKF90aGlzMi5fcHJvcHMuaXNTYXZlU3RhdGUpIHtcblx0ICAgICAgICAgIHZhciBwcmVTdGF0ZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzMi5zdG9yZS5nZXRTdGF0ZSgpKTtcblx0XG5cdCAgICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRzLmhpc3Rvcnk7XG5cdCAgICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRDb250cm9scy5oaXN0b3J5O1xuXHQgICAgICAgICAgcHJlU3RhdGUucHJvZ3Jlc3NMaW5lcy5saW5lcyA9IFtdO1xuXHRcblx0ICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKF90aGlzMi5fbG9jYWxTdG9yYWdlLCAoMCwgX3N0cmluZ2lmeTIuZGVmYXVsdCkocHJlU3RhdGUpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oX3RoaXMyLl9sb2NhbFN0b3JhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3RyeVRvUmVzdG9yZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3RyeVRvUmVzdG9yZSgpIHtcblx0ICAgICAgdmFyIHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2xvY2FsU3RvcmFnZSk7XG5cdCAgICAgIGlmIChzdG9yZWQpIHtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TVEFURScsIGRhdGE6IEpTT04ucGFyc2Uoc3RvcmVkKSB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHsgeDogMCwgeTogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUgfSwgaW5kZXg6IDAgfSB9KTtcblx0ICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSwgaW5kZXg6IDEgfSB9KTtcblx0ICAgICAgICAvLyB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX1NFTEVDVCcsIGRhdGE6IHsgaW5kZXg6IDAsIHR5cGU6ICdzdHJhaWdodCcgfSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdWJzY3JpYmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdWJzY3JpYmUoKSB7XG5cdCAgICAgIHRoaXMuX2NvbXBpbGVQYXRoKCk7XG5cdCAgICAgIHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuX2NvbXBpbGVQYXRoLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdWJzY3JpYmVGb2N1cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3N1YnNjcmliZUZvY3VzKCkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgICgwLCBfYWRkUG9pbnRlckRvd24yLmRlZmF1bHQpKGRvY3VtZW50LmJvZHksIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgaWYgKF90aGlzMy5fbG9jYWxTdG9yYWdlICE9PSBlLl9tb2pzQ3VydmVFZGl0b3JOYW1lKSB7XG5cdCAgICAgICAgICBfdGhpczMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19jb21waWxlUGF0aCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NvbXBpbGVQYXRoKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG5cdCAgICAgIHZhciBwb2ludHMgPSBzdGF0ZS5wb2ludHMucHJlc2VudDtcblx0ICAgICAgdmFyIHBhdGggPSBwb2ludHMucGF0aDtcblx0XG5cdFxuXHQgICAgICBpZiAodGhpcy5fcHJldlBhdGggIT09IHBhdGgpIHtcblx0ICAgICAgICB0aGlzLl9wcmV2UGF0aCA9IHBhdGg7XG5cdCAgICAgICAgdGhpcy5fZWFzaW5nID0gbW9qcy5lYXNpbmcucGF0aChwYXRoKTtcblx0ICAgICAgICB0aGlzLl9maXJlT25DaGFuZ2UocGF0aCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZmlyZU9uQ2hhbmdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZmlyZU9uQ2hhbmdlKHBhdGgpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lYXNpbmdzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMuX2Vhc2luZ3NbaV07XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSByZWNvcmQub3B0aW9ucztcblx0ICAgICAgICB2YXIgZWFzaW5nID0gcmVjb3JkLmVhc2luZztcblx0ICAgICAgICB2YXIgb25DaGFuZ2UgPSBvcHRpb25zLm9uQ2hhbmdlO1xuXHRcblx0XG5cdCAgICAgICAgdHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nICYmIG9uQ2hhbmdlKGVhc2luZywgcGF0aCk7XG5cdCAgICAgICAgdGhpcy5fdXBkYXRlUGFyZW50KGVhc2luZyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfdXBkYXRlUGFyZW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlUGFyZW50KGVhc2luZykge1xuXHQgICAgICB2YXIgcGFyZW50ID0gZWFzaW5nLl9wYXJlbnQ7XG5cdFxuXHQgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5zZXRQcm9ncmVzcykge1xuXHQgICAgICAgIHRoaXMuX3RyaWdnZXJQYXJlbnQocGFyZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChwYXJlbnQudGltZWxpbmUpIHtcblx0ICAgICAgICB0aGlzLl90cmlnZ2VyUGFyZW50KHBhcmVudC50aW1lbGluZSk7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFyZW50LnR3ZWVuKSB7XG5cdCAgICAgICAgdGhpcy5fdHJpZ2dlclBhcmVudChwYXJlbnQudHdlZW4pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3RyaWdnZXJQYXJlbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF90cmlnZ2VyUGFyZW50KHBhcmVudCkge1xuXHQgICAgICB2YXIgc3RlcCA9IDAuMDAxO1xuXHQgICAgICB2YXIgcHJvZ3Jlc3MgPSBwYXJlbnQucHJvZ3Jlc3M7XG5cdCAgICAgIHZhciB1cGRhdGVQcm9ncmVzcyA9IHByb2dyZXNzICsgc3RlcCA8IDEgPyBwcm9ncmVzcyArIHN0ZXAgOiBwcm9ncmVzcyAtIHN0ZXA7XG5cdFxuXHQgICAgICBwYXJlbnQuc2V0UHJvZ3Jlc3ModXBkYXRlUHJvZ3Jlc3MpO1xuXHQgICAgICBwYXJlbnQuc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEVhc2luZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWFzaW5nKCkge1xuXHQgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgICAvLyBnZXQgdGhlIGVhc2luZyBmdW5jdGlvbiByZWdhcmRpbmcgcmV2ZXJzZSBvcHRpb25zXG5cdCAgICAgIHZhciBmdW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIGkgPSBfdGhpczQuX2Vhc2luZ3MubGVuZ3RoO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaykge1xuXHQgICAgICAgICAgX3RoaXM0Ll91cGRhdGVQcm9ncmVzc0xpbmUoaywgaSwgX3RoaXM0Ll9wcm9ncmVzc0xpbmVzKTtcblx0ICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSBfdGhpczQuX2Vhc2luZ3NbaV0ub3B0aW9ucy50cmFuc2Zvcm07XG5cdCAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtID8gdHJhbnNmb3JtKF90aGlzNC5fZWFzaW5nKGspKSA6IF90aGlzNC5fZWFzaW5nKGspO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0oKTtcblx0XG5cdCAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQUREX1BST0dSRVNTX0xJTkUnLCBkYXRhOiB7fSB9KTtcblx0ICAgICAgdGhpcy5fZWFzaW5ncy5wdXNoKHsgb3B0aW9uczogbywgZWFzaW5nOiBmdW4gfSk7XG5cdFxuXHQgICAgICAoMCwgX2RlZmVyMi5kZWZhdWx0KShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXM0Ll9maXJlT25DaGFuZ2UoX3RoaXM0Ll9wcmV2UGF0aCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gZnVuO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ191cGRhdGVQcm9ncmVzc0xpbmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVQcm9ncmVzc0xpbmUocCwgaSwgbGluZXMpIHtcblx0ICAgICAgdmFyIGVsID0gbGluZXNbaV07XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0XG5cdFxuXHQgICAgICBpZiAoIWVsKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBlbC5zdHlsZS5sZWZ0ID0gcCAqIDEwMCArICclJztcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEFQSTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQVBJO1xuXHRcblx0d2luZG93Lk1vanNDdXJ2ZUVkaXRvciA9IEFQSTtcblx0XG5cdC8vIGN1cnZlXG5cdC8vICAgLmdldEZ1bmN0aW9uKHsgaXNJbnZlcnNlWDogZmFsc2UsIGlzSW52ZXJzZVk6IHRydWUsIG5hbWU6ICdTb21lIG5hbWUnIH0pXG5cdC8vICAgLmdldENvZGUoKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY29yZSAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5cdGlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9hc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLk9iamVjdC5hc3NpZ247XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMjMpfSk7XG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGNvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0ICAsIGN0eCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCBoaWRlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHQgICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHR2YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG5cdCAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcblx0ICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuXHQgICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG5cdCAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcblx0ICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuXHQgICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG5cdCAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG5cdCAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuXHQgICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG5cdCAgICAsIGtleSwgb3duLCBvdXQ7XG5cdCAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG5cdCAgZm9yKGtleSBpbiBzb3VyY2Upe1xuXHQgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG5cdCAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuXHQgICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcblx0ICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG5cdCAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcblx0ICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG5cdCAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuXHQgICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcblx0ICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG5cdCAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuXHQgICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcblx0ICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcblx0ICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG5cdCAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuXHQgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcblx0ICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuXHQgICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgfTtcblx0ICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuXHQgICAgICByZXR1cm4gRjtcblx0ICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuXHQgICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuXHQgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG5cdCAgICBpZihJU19QUk9UTyl7XG5cdCAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcblx0ICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcblx0ICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHQvLyB0eXBlIGJpdG1hcFxuXHQkZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuXHQkZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuXHQkZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuXHQkZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG5cdCRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuXHQkZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcblx0JGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG5cdCRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcblx0bW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcblx0dmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuXHQgIGFGdW5jdGlvbihmbik7XG5cdCAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcblx0ICBzd2l0Y2gobGVuZ3RoKXtcblx0ICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcblx0ICAgIH07XG5cdCAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuXHQgICAgfTtcblx0ICB9XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZFAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdCAgLCBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuXHQgIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG5cdH0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuXHQgIG9iamVjdFtrZXldID0gdmFsdWU7XG5cdCAgcmV0dXJuIG9iamVjdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5PYmplY3QgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KVxuXHQgICwgdG9QcmltaXRpdmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQgICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cdFxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcblx0ICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuXHQgICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0ICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcblx0ICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTgpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXygyMCkoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5cdG1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuICEhZXhlYygpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCkuZG9jdW1lbnRcblx0ICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcblx0ICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuXHR2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0Ly8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcblx0Ly8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG5cdCAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG5cdCAgdmFyIGZuLCB2YWw7XG5cdCAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuXHQgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuXHQgIHJldHVybiB7XG5cdCAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG5cdCAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG5cdCAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG5cdCAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcblx0dmFyIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGdPUFMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSlcblx0ICAsIHBJRSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MClcblx0ICAsIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIElPYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblx0XG5cdC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxuXHRtb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTkpKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIEEgPSB7fVxuXHQgICAgLCBCID0ge31cblx0ICAgICwgUyA9IFN5bWJvbCgpXG5cdCAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuXHQgIEFbU10gPSA3O1xuXHQgIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oayl7IEJba10gPSBrOyB9KTtcblx0ICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcblx0fSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgdmFyIFQgICAgID0gdG9PYmplY3QodGFyZ2V0KVxuXHQgICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcblx0ICAgICwgaW5kZXggPSAxXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmZcblx0ICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuXHQgIHdoaWxlKGFMZW4gPiBpbmRleCl7XG5cdCAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pXG5cdCAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuXHQgICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAgICwgaiAgICAgID0gMFxuXHQgICAgICAsIGtleTtcblx0ICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07XG5cdCAgfSByZXR1cm4gVDtcblx0fSA6ICRhc3NpZ247XG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG5cdHZhciAka2V5cyAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuXHQgIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGhhcyAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCB0b0lPYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgYXJyYXlJbmRleE9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSkoZmFsc2UpXG5cdCAgLCBJRV9QUk9UTyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSgnSUVfUFJPVE8nKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XG5cdCAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwga2V5O1xuXHQgIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcblx0ICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuXHQgICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3Ncblx0dmFyIElPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KVxuXHQgICwgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3Ncblx0dmFyIGNvZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuXHQvLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xuXHR2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIHRvTGVuZ3RoICA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpXG5cdCAgLCB0b0luZGV4ICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcblx0ICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoJHRoaXMpXG5cdCAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG5cdCAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcblx0ICAgICAgLCB2YWx1ZTtcblx0ICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cblx0ICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcblx0ICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuXHQgICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcblx0ICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3Rcblx0ICAgIH0gZWxzZSBmb3IoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKWlmKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pe1xuXHQgICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG5cdCAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTUgVG9MZW5ndGhcblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjEuNCBUb0ludGVnZXJcblx0dmFyIGNlaWwgID0gTWF0aC5jZWlsXG5cdCAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgbWF4ICAgICAgID0gTWF0aC5tYXhcblx0ICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuXHQgIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcblx0ICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdHZhciBpZCA9IDBcblx0ICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xuXHRtb2R1bGUuZXhwb3J0cyA9IChcblx0ICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuXHQpLnNwbGl0KCcsJyk7XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuLyoqKi8gfSxcbi8qIDQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cdHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuXHQgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG5cdCAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcblx0ICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0ICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuXHQgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcblx0ICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuXHQgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuXHQgIH07XG5cdH0oKTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNDUpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHQvLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogX193ZWJwYWNrX3JlcXVpcmVfXygxNCkuZn0pO1xuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdChmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdFx0IHRydWUgPyBmYWN0b3J5KGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDgpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKSkgOlxuXHRcdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAncHJlYWN0JywgJ3JlZHV4J10sIGZhY3RvcnkpIDpcblx0XHQoZmFjdG9yeSgoZ2xvYmFsLnByZWFjdFJlZHV4ID0gZ2xvYmFsLnByZWFjdFJlZHV4IHx8IHt9KSxnbG9iYWwucHJlYWN0LGdsb2JhbC5yZWR1eCkpO1xuXHR9KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLHByZWFjdCxyZWR1eCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHRcdGZ1bmN0aW9uIF9fY29tbW9uanMoZm4sIG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7IH1cblx0XG5cdFxuXHRcdHZhciBiYWJlbEhlbHBlcnMgPSB7fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHRcdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0XHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0XHQgIH1cblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdFx0ICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0XHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuXHRcdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gdGFyZ2V0O1xuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5pbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHRcdCAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcblx0XHQgIH1cblx0XG5cdFx0ICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0XHQgICAgY29uc3RydWN0b3I6IHtcblx0XHQgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG5cdFx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0ICAgICAgd3JpdGFibGU6IHRydWUsXG5cdFx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdFx0ICAgIH1cblx0XHQgIH0pO1xuXHRcdCAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcblx0XHQgIGlmICghc2VsZikge1xuXHRcdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzO1xuXHRcblx0XHR2YXIgQ2hpbGRyZW4gPSB7XG5cdFx0XHRvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcblx0XHRcdFx0cmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuWzBdIHx8IG51bGw7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gcHJvcHR5cGUoKSB7fVxuXHRcdHByb3B0eXBlLmlzUmVxdWlyZWQgPSBwcm9wdHlwZTtcblx0XG5cdFx0dmFyIFByb3BUeXBlcyA9IHtcblx0XHRcdGVsZW1lbnQ6IHByb3B0eXBlLFxuXHRcdFx0ZnVuYzogcHJvcHR5cGUsXG5cdFx0XHRzaGFwZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gcHJvcHR5cGU7XG5cdFx0XHR9XG5cdFx0fTtcblx0XG5cdFx0dmFyIHN0b3JlU2hhcGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuXHRcdCAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRcdCAgZGlzcGF0Y2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBnZXRTdGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuXHRcdH0pO1xuXHRcblx0XHQvKipcblx0XHQgKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG5cdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG5cdFx0ICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5cdFx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdFx0ICB9XG5cdFx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIHRyeSB7XG5cdFx0ICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuXHRcdCAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cblx0XHQgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuXHRcdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHRcdCAgfSBjYXRjaCAoZSkge31cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cblx0XHR9XG5cdFxuXHRcdHZhciBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IGZhbHNlO1xuXHRcdGZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuXHRcdCAgaWYgKGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKSB7XG5cdFx0ICAgIHJldHVybjtcblx0XHQgIH1cblx0XHQgIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZTtcblx0XG5cdFx0ICB3YXJuaW5nKCc8UHJvdmlkZXI+IGRvZXMgbm90IHN1cHBvcnQgY2hhbmdpbmcgYHN0b3JlYCBvbiB0aGUgZmx5LiAnICsgJ0l0IGlzIG1vc3QgbGlrZWx5IHRoYXQgeW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IHVwZGF0ZWQgdG8gJyArICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICsgJ2F1dG9tYXRpY2FsbHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yZWR1eC9yZWxlYXNlcy8nICsgJ3RhZy92Mi4wLjAgZm9yIHRoZSBtaWdyYXRpb24gaW5zdHJ1Y3Rpb25zLicpO1xuXHRcdH1cblx0XG5cdFx0dmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0XHQgIGJhYmVsSGVscGVycy5pbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcblx0XHQgICAgcmV0dXJuIHsgc3RvcmU6IHRoaXMuc3RvcmUgfTtcblx0XHQgIH07XG5cdFxuXHRcdCAgZnVuY3Rpb24gUHJvdmlkZXIocHJvcHMsIGNvbnRleHQpIHtcblx0XHQgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblx0XG5cdFx0ICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZTtcblx0XHQgICAgcmV0dXJuIF90aGlzO1xuXHRcdCAgfVxuXHRcblx0XHQgIFByb3ZpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0ICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdFxuXHRcdCAgICByZXR1cm4gQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG5cdFx0ICB9O1xuXHRcblx0XHQgIHJldHVybiBQcm92aWRlcjtcblx0XHR9KHByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0XHRpZiAodHJ1ZSkge1xuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG5cdFx0ICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG5cdFx0ICAgIHZhciBuZXh0U3RvcmUgPSBuZXh0UHJvcHMuc3RvcmU7XG5cdFxuXHRcblx0XHQgICAgaWYgKHN0b3JlICE9PSBuZXh0U3RvcmUpIHtcblx0XHQgICAgICB3YXJuQWJvdXRSZWNlaXZpbmdTdG9yZSgpO1xuXHRcdCAgICB9XG5cdFx0ICB9O1xuXHRcdH1cblx0XG5cdFx0UHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG5cdFx0ICBzdG9yZTogc3RvcmVTaGFwZS5pc1JlcXVpcmVkXG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcblx0XHQgIGlmIChvYmpBID09PSBvYmpCKSB7XG5cdFx0ICAgIHJldHVybiB0cnVlO1xuXHRcdCAgfVxuXHRcblx0XHQgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuXHRcdCAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cdFxuXHRcdCAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG5cdFx0ICAgIHJldHVybiBmYWxzZTtcblx0XHQgIH1cblx0XG5cdFx0ICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuXHRcdCAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGlmICghaGFzT3duLmNhbGwob2JqQiwga2V5c0FbaV0pIHx8IG9iakFba2V5c0FbaV1dICE9PSBvYmpCW2tleXNBW2ldXSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0cnVlO1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gd3JhcEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzKSB7XG5cdFx0ICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICAgIHJldHVybiByZWR1eC5iaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHR2YXIgaXNPYmplY3RMaWtlID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuXHRcdCAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuXHRcdCAgICpcblx0XHQgICAqIEBzdGF0aWNcblx0XHQgICAqIEBtZW1iZXJPZiBfXG5cdFx0ICAgKiBAc2luY2UgNC4wLjBcblx0XHQgICAqIEBjYXRlZ29yeSBMYW5nXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdFx0ICAgKiBAZXhhbXBsZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0XHQgICAqIC8vID0+IHRydWVcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIHJlcXVpcmUkJDAgPSBpc09iamVjdExpa2UgJiYgdHlwZW9mIGlzT2JqZWN0TGlrZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGlzT2JqZWN0TGlrZSA/IGlzT2JqZWN0TGlrZVsnZGVmYXVsdCddIDogaXNPYmplY3RMaWtlO1xuXHRcblx0XHR2YXIgX2lzSG9zdE9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdFx0ICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdFx0ICAgKi9cblx0XHQgIGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuXHRcdCAgICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuXHRcdCAgICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuXHRcdCAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cdFx0ICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgICAgdHJ5IHtcblx0XHQgICAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuXHRcdCAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cdFx0ICAgIH1cblx0XHQgICAgcmV0dXJuIHJlc3VsdDtcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIHJlcXVpcmUkJDEgPSBfaXNIb3N0T2JqZWN0ICYmIHR5cGVvZiBfaXNIb3N0T2JqZWN0ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gX2lzSG9zdE9iamVjdCA/IF9pc0hvc3RPYmplY3RbJ2RlZmF1bHQnXSA6IF9pc0hvc3RPYmplY3Q7XG5cdFxuXHRcdHZhciBfZ2V0UHJvdG90eXBlID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdFx0ICB2YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHByaXZhdGVcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHRcdCAgICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG5cdFx0ICAgKi9cblx0XHQgIGZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuXHRcdCAgICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlKE9iamVjdCh2YWx1ZSkpO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMiA9IF9nZXRQcm90b3R5cGUgJiYgdHlwZW9mIF9nZXRQcm90b3R5cGUgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfZ2V0UHJvdG90eXBlID8gX2dldFByb3RvdHlwZVsnZGVmYXVsdCddIDogX2dldFByb3RvdHlwZTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIHZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlJCQyLFxuXHRcdCAgICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUkJDEsXG5cdFx0ICAgICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSQkMDtcblx0XG5cdFx0ICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHRcdCAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdFx0ICB2YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuXHRcdCAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuXHRcdCAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuXHRcdCAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG5cdFx0ICAgKiBvZiB2YWx1ZXMuXG5cdFx0ICAgKi9cblx0XHQgIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXHRcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuXHRcdCAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuXHRcdCAgICpcblx0XHQgICAqIEBzdGF0aWNcblx0XHQgICAqIEBtZW1iZXJPZiBfXG5cdFx0ICAgKiBAc2luY2UgMC44LjBcblx0XHQgICAqIEBjYXRlZ29yeSBMYW5nXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHRcdCAgICogIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogZnVuY3Rpb24gRm9vKCkge1xuXHRcdCAgICogICB0aGlzLmEgPSAxO1xuXHRcdCAgICogfVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcblx0XHQgICAqIC8vID0+IHRydWVcblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuXHRcdCAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0XHQgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgIH1cblx0XHQgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0XHQgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG5cdFx0ICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgIH1cblx0XHQgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcblx0XHQgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcblx0XHQgIH1cblx0XG5cdFx0ICBtb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpc1BsYWluT2JqZWN0JDEgPSBpc1BsYWluT2JqZWN0ICYmIHR5cGVvZiBpc1BsYWluT2JqZWN0ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNQbGFpbk9iamVjdCA/IGlzUGxhaW5PYmplY3RbJ2RlZmF1bHQnXSA6IGlzUGxhaW5PYmplY3Q7XG5cdFxuXHRcdHZhciBpbmRleCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgICAvKipcblx0XHQgICAgICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG5cdFx0ICAgICAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cblx0XHQgICAgICovXG5cdFx0ICAgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAgIHZhciBSRUFDVF9TVEFUSUNTID0ge1xuXHRcdCAgICAgICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG5cdFx0ICAgICAgICBjb250ZXh0VHlwZXM6IHRydWUsXG5cdFx0ICAgICAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG5cdFx0ICAgICAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcblx0XHQgICAgICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIG1peGluczogdHJ1ZSxcblx0XHQgICAgICAgIHByb3BUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIHR5cGU6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIHZhciBLTk9XTl9TVEFUSUNTID0ge1xuXHRcdCAgICAgICAgbmFtZTogdHJ1ZSxcblx0XHQgICAgICAgIGxlbmd0aDogdHJ1ZSxcblx0XHQgICAgICAgIHByb3RvdHlwZTogdHJ1ZSxcblx0XHQgICAgICAgIGNhbGxlcjogdHJ1ZSxcblx0XHQgICAgICAgIGFyZ3VtZW50czogdHJ1ZSxcblx0XHQgICAgICAgIGFyaXR5OiB0cnVlXG5cdFx0ICAgIH07XG5cdFxuXHRcdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgICBpZiAodHlwZW9mIHNvdXJjZUNvbXBvbmVudCAhPT0gJ3N0cmluZycpIHtcblx0XHQgICAgICAgICAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuXHRcdCAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblx0XHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcblx0XHQgICAgICAgICAgICAgICAgaWYgKCFSRUFDVF9TVEFUSUNTW2tleXNbaV1dICYmICFLTk9XTl9TVEFUSUNTW2tleXNbaV1dKSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcblx0XHQgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuXHRcdCAgICAgICAgICAgICAgICB9XG5cdFx0ICAgICAgICAgICAgfVxuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG5cdFx0ICAgIH07XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBob2lzdFN0YXRpY3MgPSBpbmRleCAmJiB0eXBlb2YgaW5kZXggPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpbmRleCA/IGluZGV4WydkZWZhdWx0J10gOiBpbmRleDtcblx0XG5cdFx0dmFyIGludmFyaWFudCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgLyoqXG5cdFx0ICAgKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHRcdCAgICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cblx0XHQgICAqXG5cdFx0ICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0XHQgICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuXHRcdCAgICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG5cdFx0ICAgKi9cblx0XG5cdFx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG5cdFx0ICAgKlxuXHRcdCAgICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcblx0XHQgICAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuXHRcdCAgICogZXhwZWN0aW5nLlxuXHRcdCAgICpcblx0XHQgICAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG5cdFx0ICAgKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG5cdFx0ICAgKi9cblx0XG5cdFx0ICB2YXIgTk9ERV9FTlYgPSAnZGV2ZWxvcG1lbnQnO1xuXHRcblx0XHQgIHZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcblx0XHQgICAgaWYgKE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0XHQgICAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcblx0XHQgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdFx0ICAgICAgdmFyIGVycm9yO1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcblx0XHQgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG5cdFx0ICAgICAgICB2YXIgYXJnSW5kZXggPSAwO1xuXHRcdCAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG5cdFx0ICAgICAgICB9KSk7XG5cdFx0ICAgICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuXHRcdCAgICAgIH1cblx0XG5cdFx0ICAgICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuXHRcdCAgICAgIHRocm93IGVycm9yO1xuXHRcdCAgICB9XG5cdFx0ICB9O1xuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgaW52YXJpYW50JDEgPSBpbnZhcmlhbnQgJiYgdHlwZW9mIGludmFyaWFudCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGludmFyaWFudCA/IGludmFyaWFudFsnZGVmYXVsdCddIDogaW52YXJpYW50O1xuXHRcblx0XHR2YXIgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuXHRcdCAgcmV0dXJuIHt9O1xuXHRcdH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0XHR2YXIgZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyA9IGZ1bmN0aW9uIChkaXNwYXRjaCkge1xuXHRcdCAgcmV0dXJuIHsgZGlzcGF0Y2g6IGRpc3BhdGNoIH07XG5cdFx0fTtcblx0XHR2YXIgZGVmYXVsdE1lcmdlUHJvcHMgPSBmdW5jdGlvbiAoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcblx0XHQgIHJldHVybiBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgcGFyZW50UHJvcHMsIHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMpO1xuXHRcdH07XG5cdFxuXHRcdGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcblx0XHQgIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50Jztcblx0XHR9XG5cdFxuXHRcdHZhciBlcnJvck9iamVjdCA9IHsgdmFsdWU6IG51bGwgfTtcblx0XHRmdW5jdGlvbiB0cnlDYXRjaChmbiwgY3R4KSB7XG5cdFx0ICB0cnkge1xuXHRcdCAgICByZXR1cm4gZm4uYXBwbHkoY3R4KTtcblx0XHQgIH0gY2F0Y2ggKGUpIHtcblx0XHQgICAgZXJyb3JPYmplY3QudmFsdWUgPSBlO1xuXHRcdCAgICByZXR1cm4gZXJyb3JPYmplY3Q7XG5cdFx0ICB9XG5cdFx0fVxuXHRcblx0XHQvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuXHRcdHZhciBuZXh0VmVyc2lvbiA9IDA7XG5cdFxuXHRcdGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMpIHtcblx0XHQgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbM107XG5cdFxuXHRcdCAgdmFyIHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKTtcblx0XHQgIHZhciBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzO1xuXHRcblx0XHQgIHZhciBtYXBEaXNwYXRjaCA9IHZvaWQgMDtcblx0XHQgIGlmICh0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gbWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcztcblx0XHQgIH0gZWxzZSB7XG5cdFx0ICAgIG1hcERpc3BhdGNoID0gd3JhcEFjdGlvbkNyZWF0b3JzKG1hcERpc3BhdGNoVG9Qcm9wcyk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGZpbmFsTWVyZ2VQcm9wcyA9IG1lcmdlUHJvcHMgfHwgZGVmYXVsdE1lcmdlUHJvcHM7XG5cdFx0ICB2YXIgX29wdGlvbnMkcHVyZSA9IG9wdGlvbnMucHVyZTtcblx0XHQgIHZhciBwdXJlID0gX29wdGlvbnMkcHVyZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9vcHRpb25zJHB1cmU7XG5cdFx0ICB2YXIgX29wdGlvbnMkd2l0aFJlZiA9IG9wdGlvbnMud2l0aFJlZjtcblx0XHQgIHZhciB3aXRoUmVmID0gX29wdGlvbnMkd2l0aFJlZiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyR3aXRoUmVmO1xuXHRcblx0XHQgIHZhciBjaGVja01lcmdlZEVxdWFscyA9IHB1cmUgJiYgZmluYWxNZXJnZVByb3BzICE9PSBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XG5cdFx0ICAvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuXHRcdCAgdmFyIHZlcnNpb24gPSBuZXh0VmVyc2lvbisrO1xuXHRcblx0XHQgIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgICB2YXIgY29ubmVjdERpc3BsYXlOYW1lID0gJ0Nvbm5lY3QoJyArIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpICsgJyknO1xuXHRcblx0XHQgICAgZnVuY3Rpb24gY2hlY2tTdGF0ZVNoYXBlKHByb3BzLCBtZXRob2ROYW1lKSB7XG5cdFx0ICAgICAgaWYgKCFpc1BsYWluT2JqZWN0JDEocHJvcHMpKSB7XG5cdFx0ICAgICAgICB3YXJuaW5nKG1ldGhvZE5hbWUgKyAnKCkgaW4gJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICcgbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QuICcgKyAoJ0luc3RlYWQgcmVjZWl2ZWQgJyArIHByb3BzICsgJy4nKSk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICB9XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjb21wdXRlTWVyZ2VkUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcblx0XHQgICAgICB2YXIgbWVyZ2VkUHJvcHMgPSBmaW5hbE1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpO1xuXHRcdCAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICBjaGVja1N0YXRlU2hhcGUobWVyZ2VkUHJvcHMsICdtZXJnZVByb3BzJyk7XG5cdFx0ICAgICAgfVxuXHRcdCAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcblx0XHQgICAgfVxuXHRcblx0XHQgICAgdmFyIENvbm5lY3QgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgICAgIGJhYmVsSGVscGVycy5pbmhlcml0cyhDb25uZWN0LCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHRcdCAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIGZ1bmN0aW9uIENvbm5lY3QocHJvcHMsIGNvbnRleHQpIHtcblx0XHQgICAgICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25uZWN0KTtcblx0XG5cdFx0ICAgICAgICB2YXIgX3RoaXMgPSBiYWJlbEhlbHBlcnMucG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblx0XG5cdFx0ICAgICAgICBfdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIF90aGlzLnN0b3JlID0gcHJvcHMuc3RvcmUgfHwgY29udGV4dC5zdG9yZTtcblx0XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMShfdGhpcy5zdG9yZSwgJ0NvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgJyArICgncHJvcHMgb2YgXCInICsgY29ubmVjdERpc3BsYXlOYW1lICsgJ1wiLiAnKSArICdFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCAnICsgKCdvciBleHBsaWNpdGx5IHBhc3MgXCJzdG9yZVwiIGFzIGEgcHJvcCB0byBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuJykpO1xuXHRcblx0XHQgICAgICAgIHZhciBzdG9yZVN0YXRlID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIF90aGlzLnN0YXRlID0geyBzdG9yZVN0YXRlOiBzdG9yZVN0YXRlIH07XG5cdFx0ICAgICAgICBfdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wdXRlU3RhdGVQcm9wcyA9IGZ1bmN0aW9uIGNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcykge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgdmFyIHN0YXRlUHJvcHMgPSB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoc3RhdGVQcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIHN0YXRlUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBTdGF0ZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkU3RhdGUgPSBtYXBTdGF0ZShzdG9yZS5nZXRTdGF0ZSgpLCBwcm9wcyk7XG5cdFx0ICAgICAgICB2YXIgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZFN0YXRlID09PSAnZnVuY3Rpb24nO1xuXHRcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlO1xuXHRcdCAgICAgICAgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcy5sZW5ndGggIT09IDE7XG5cdFxuXHRcdCAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWRTdGF0ZSwgJ21hcFN0YXRlVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIG1hcHBlZFN0YXRlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVEaXNwYXRjaFByb3BzID0gZnVuY3Rpb24gY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaChzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBkaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHRcblx0XHQgICAgICAgIHZhciBkaXNwYXRjaFByb3BzID0gdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID8gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDogdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCk7XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKGRpc3BhdGNoUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2ggPSBmdW5jdGlvbiBjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcykge1xuXHRcdCAgICAgICAgdmFyIG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZERpc3BhdGNoIDogbWFwRGlzcGF0Y2g7XG5cdFx0ICAgICAgICB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZERpc3BhdGNoLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkRGlzcGF0Y2g7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRTdGF0ZVByb3BzID0gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCA9IGZ1bmN0aW9uIHVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpIHtcblx0XHQgICAgICAgIHZhciBuZXh0RGlzcGF0Y2hQcm9wcyA9IHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHModGhpcy5zdG9yZSwgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0RGlzcGF0Y2hQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcblx0XHQgICAgICAgIHZhciBuZXh0TWVyZ2VkUHJvcHMgPSBjb21wdXRlTWVyZ2VkUHJvcHModGhpcy5zdGF0ZVByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMubWVyZ2VkUHJvcHMgJiYgY2hlY2tNZXJnZWRFcXVhbHMgJiYgc2hhbGxvd0VxdWFsKG5leHRNZXJnZWRQcm9wcywgdGhpcy5tZXJnZWRQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5pc1N1YnNjcmliZWQgPSBmdW5jdGlvbiBpc1N1YnNjcmliZWQoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbic7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHNob3VsZFN1YnNjcmliZSAmJiAhdGhpcy51bnN1YnNjcmliZSkge1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSk7XG5cdFx0ICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudHJ5VW5zdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlVbnN1YnNjcmliZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGw7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXB1cmUgfHwgIXNoYWxsb3dFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHQgICAgICAgIHRoaXMudHJ5VW5zdWJzY3JpYmUoKTtcblx0XHQgICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuXHRcdCAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IG51bGw7XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuXHRcdCAgICAgICAgICByZXR1cm47XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgcHJldlN0b3JlU3RhdGUgPSB0aGlzLnN0YXRlLnN0b3JlU3RhdGU7XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiBwcmV2U3RvcmVTdGF0ZSA9PT0gc3RvcmVTdGF0ZSkge1xuXHRcdCAgICAgICAgICByZXR1cm47XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHB1cmUgJiYgIXRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcykge1xuXHRcdCAgICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ5Q2F0Y2godGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsIHRoaXMpO1xuXHRcdCAgICAgICAgICBpZiAoIWhhdmVTdGF0ZVByb3BzQ2hhbmdlZCkge1xuXHRcdCAgICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuXHRcdCAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBlcnJvck9iamVjdC52YWx1ZTtcblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfSk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuZ2V0V3JhcHBlZEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0V3JhcHBlZEluc3RhbmNlKCkge1xuXHRcdCAgICAgICAgaW52YXJpYW50JDEod2l0aFJlZiwgJ1RvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSAnICsgJ3sgd2l0aFJlZjogdHJ1ZSB9IGFzIHRoZSBmb3VydGggYXJndW1lbnQgb2YgdGhlIGNvbm5lY3QoKSBjYWxsLicpO1xuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlZnMud3JhcHBlZEluc3RhbmNlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgICAgIHZhciBoYXZlT3duUHJvcHNDaGFuZ2VkID0gdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZDtcblx0XHQgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkO1xuXHRcdCAgICAgICAgdmFyIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcjtcblx0XHQgICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQgPSB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsO1xuXHRcblx0XHQgICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuXHRcdCAgICAgICAgICB0aHJvdyBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWU7XG5cdFx0ICAgICAgICB2YXIgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9IHRydWU7XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IGhhc1N0b3JlU3RhdGVDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzO1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdmFyIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkVXBkYXRlU3RhdGVQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcblx0XHQgICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIHx8IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fCBoYXZlT3duUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKTtcblx0XHQgICAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHdpdGhSZWYpIHtcblx0XHQgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBwcmVhY3QuaChXcmFwcGVkQ29tcG9uZW50LCBiYWJlbEhlbHBlcnMuZXh0ZW5kcyh7fSwgdGhpcy5tZXJnZWRQcm9wcywge1xuXHRcdCAgICAgICAgICAgIHJlZjogJ3dyYXBwZWRJbnN0YW5jZSdcblx0XHQgICAgICAgICAgfSkpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBwcmVhY3QuaChXcmFwcGVkQ29tcG9uZW50LCB0aGlzLm1lcmdlZFByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEVsZW1lbnQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgcmV0dXJuIENvbm5lY3Q7XG5cdFx0ICAgIH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdCAgICBDb25uZWN0LmRpc3BsYXlOYW1lID0gY29ubmVjdERpc3BsYXlOYW1lO1xuXHRcdCAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50O1xuXHRcdCAgICBDb25uZWN0LmNvbnRleHRUeXBlcyA9IHtcblx0XHQgICAgICBzdG9yZTogc3RvcmVTaGFwZVxuXHRcdCAgICB9O1xuXHRcblx0XG5cdFx0ICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG5cdFx0ICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICAvLyBXZSBhcmUgaG90IHJlbG9hZGluZyFcblx0XHQgICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG5cdFx0ICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XHQgICAgfVxuXHRcblx0XHQgICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KTtcblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRleHBvcnRzLlByb3ZpZGVyID0gUHJvdmlkZXI7XG5cdFx0ZXhwb3J0cy5jb25uZWN0ID0gY29ubmVjdDtcblxuXHR9KSk7XG5cblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oc2V0SW1tZWRpYXRlKSB7IWZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuXHQgICAgIHRydWUgPyBmYWN0b3J5KGV4cG9ydHMpIDogJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyAnZXhwb3J0cycgXSwgZmFjdG9yeSkgOiBmYWN0b3J5KGdsb2JhbC5wcmVhY3QgPSBnbG9iYWwucHJlYWN0IHx8IHt9KTtcblx0fSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cdCAgICBmdW5jdGlvbiBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcywgY2hpbGRyZW4pIHtcblx0ICAgICAgICB0aGlzLm5vZGVOYW1lID0gbm9kZU5hbWU7XG5cdCAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcblx0ICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdCAgICAgICAgdGhpcy5rZXkgPSBhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMua2V5O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0ICAgICAgICBpZiAocHJvcHMpIGZvciAodmFyIGkgaW4gcHJvcHMpIGlmICh2b2lkIDAgIT09IHByb3BzW2ldKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0ICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xvbmUob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdCAgICAgICAgZm9yICh2YXIgcCA9IGtleS5zcGxpdCgnLicpLCBpID0gMDsgaSA8IHAubGVuZ3RoICYmIG9iajsgaSsrKSBvYmogPSBvYmpbcFtpXV07XG5cdCAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0ICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChvYmosIG9mZnNldCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiAnZnVuY3Rpb24nID09IHR5cGVvZiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcblx0ICAgICAgICByZXR1cm4gJ3N0cmluZycgPT0gdHlwZW9mIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVtcHR5KHgpIHtcblx0ICAgICAgICByZXR1cm4gdm9pZCAwID09PSB4IHx8IG51bGwgPT09IHg7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBmYWxzZXkodmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09ICExIHx8IGVtcHR5KHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGhhc2hUb0NsYXNzTmFtZShjKSB7XG5cdCAgICAgICAgdmFyIHN0ciA9ICcnO1xuXHQgICAgICAgIGZvciAodmFyIHByb3AgaW4gYykgaWYgKGNbcHJvcF0pIHtcblx0ICAgICAgICAgICAgaWYgKHN0cikgc3RyICs9ICcgJztcblx0ICAgICAgICAgICAgc3RyICs9IHByb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdCAgICAgICAgdmFyIGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGUsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbiA+IDIpIHtcblx0ICAgICAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgZmlyc3RDaGlsZDtcblx0ICAgICAgICAgICAgaWYgKDMgPT09IGxlbiAmJiAnb2JqZWN0JyAhPT0gdHlwZSAmJiAnZnVuY3Rpb24nICE9PSB0eXBlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWZhbHNleShmaXJzdENoaWxkKSkgY2hpbGRyZW4gPSBbIFN0cmluZyhmaXJzdENoaWxkKSBdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgX3AgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFmYWxzZXkoX3ApKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcC5qb2luKSBhcnIgPSBfcDsgZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gX3A7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBhcnJbal0sIHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUgJiYgIWlzU3RyaW5nKGNoaWxkKSkgY2hpbGQgPSBTdHJpbmcoY2hpbGQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiBsYXN0U2ltcGxlKSBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSArPSBjaGlsZDsgZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gc2ltcGxlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSByZXR1cm4gaChub2RlTmFtZSwgYXR0cmlidXRlcywgYXR0cmlidXRlcy5jaGlsZHJlbik7XG5cdCAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2hpbGRyZW4pIGRlbGV0ZSBhdHRyaWJ1dGVzLmNoaWxkcmVuO1xuXHQgICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoJ2NsYXNzTmFtZScgaW4gYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0ICAgICAgICAgICAgICAgIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkgYXR0cmlidXRlcy5jbGFzcyA9IGhhc2hUb0NsYXNzTmFtZShsYXN0U2ltcGxlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB2b2lkIDAsIGNoaWxkcmVuKTtcblx0ICAgICAgICBpZiAob3B0aW9ucy52bm9kZSkgb3B0aW9ucy52bm9kZShwKTtcblx0ICAgICAgICByZXR1cm4gcDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMpIHtcblx0ICAgICAgICByZXR1cm4gaCh2bm9kZS5ub2RlTmFtZSwgZXh0ZW5kKGNsb25lKHZub2RlLmF0dHJpYnV0ZXMpLCBwcm9wcyksIGFyZ3VtZW50cy5sZW5ndGggPiAyID8gdG9BcnJheShhcmd1bWVudHMsIDIpIDogdm5vZGUuY2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHQgICAgICAgIHZhciBwYXRoID0ga2V5LnNwbGl0KCcuJyksIHAwID0gcGF0aFswXTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuXHQgICAgICAgICAgICB2YXIgX2NvbXBvbmVudCRzZXRTdGF0ZTtcblx0ICAgICAgICAgICAgdmFyIHYsIGksIHQgPSBlICYmIGUuY3VycmVudFRhcmdldCB8fCB0aGlzLCBzID0gY29tcG9uZW50LnN0YXRlLCBvYmogPSBzO1xuXHQgICAgICAgICAgICBpZiAoaXNTdHJpbmcoZXZlbnRQYXRoKSkge1xuXHQgICAgICAgICAgICAgICAgdiA9IGRlbHZlKGUsIGV2ZW50UGF0aCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoZW1wdHkodikgJiYgKHQgPSB0Ll9jb21wb25lbnQpKSB2ID0gZGVsdmUodCwgZXZlbnRQYXRoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHYgPSB0Lm5vZGVOYW1lID8gKHQubm9kZU5hbWUgKyB0LnR5cGUpLm1hdGNoKC9eaW5wdXQoY2hlY2t8cmFkKS9pKSA/IHQuY2hlY2tlZCA6IHQudmFsdWUgOiBlO1xuXHQgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2KSkgdiA9IHYuY2FsbCh0KTtcblx0ICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuXHQgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSBvYmogPSBvYmpbcGF0aFtpXV0gfHwgKG9ialtwYXRoW2ldXSA9IHt9KTtcblx0ICAgICAgICAgICAgICAgIG9ialtwYXRoW2ldXSA9IHY7XG5cdCAgICAgICAgICAgICAgICB2ID0gc1twMF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXRlKChfY29tcG9uZW50JHNldFN0YXRlID0ge30sIF9jb21wb25lbnQkc2V0U3RhdGVbcDBdID0gdiwgX2NvbXBvbmVudCRzZXRTdGF0ZSkpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCkge1xuXHQgICAgICAgIGlmICgxID09PSBpdGVtcy5wdXNoKGNvbXBvbmVudCkpIChvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nIHx8IHNldEltbWVkaWF0ZSkocmVyZW5kZXIpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVyZW5kZXIoKSB7XG5cdCAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB2YXIgcCwgY3VycmVudEl0ZW1zID0gaXRlbXM7XG5cdCAgICAgICAgICAgIGl0ZW1zID0gaXRlbXNPZmZsaW5lO1xuXHQgICAgICAgICAgICBpdGVtc09mZmxpbmUgPSBjdXJyZW50SXRlbXM7XG5cdCAgICAgICAgICAgIHdoaWxlIChwID0gY3VycmVudEl0ZW1zLnBvcCgpKSBpZiAocC5fZGlydHkpIHJlbmRlckNvbXBvbmVudChwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpIHtcblx0ICAgICAgICB2YXIgbm9kZU5hbWUgPSB2bm9kZSAmJiB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICByZXR1cm4gbm9kZU5hbWUgJiYgaXNGdW5jdGlvbihub2RlTmFtZSkgJiYgIShub2RlTmFtZS5wcm90b3R5cGUgJiYgbm9kZU5hbWUucHJvdG90eXBlLnJlbmRlcik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpIHtcblx0ICAgICAgICByZXR1cm4gdm5vZGUubm9kZU5hbWUoZ2V0Tm9kZVByb3BzKHZub2RlKSwgY29udGV4dCB8fCBFTVBUWSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIG5vZGVbQVRUUl9LRVldIHx8IChub2RlW0FUVFJfS0VZXSA9IGRhdGEgfHwge30pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0Tm9kZVR5cGUobm9kZSkge1xuXHQgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdCAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSByZXR1cm4gMTsgZWxzZSByZXR1cm4gMDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHQgICAgICAgIHZhciBwID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgICAgIGlmIChwKSBwLnJlbW92ZUNoaWxkKG5vZGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0QWNjZXNzb3Iobm9kZSwgbmFtZSwgdmFsdWUsIG9sZCwgaXNTdmcpIHtcblx0ICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIGlmICgna2V5JyAhPT0gbmFtZSAmJiAnY2hpbGRyZW4nICE9PSBuYW1lKSBpZiAoJ2NsYXNzJyA9PT0gbmFtZSAmJiAhaXNTdmcpIG5vZGUuY2xhc3NOYW1lID0gdmFsdWUgfHwgJyc7IGVsc2UgaWYgKCdzdHlsZScgPT09IG5hbWUpIHtcblx0ICAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCBpc1N0cmluZyh2YWx1ZSkgfHwgaXNTdHJpbmcob2xkKSkgbm9kZS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgfHwgJyc7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAnb2JqZWN0JyA9PSB0eXBlb2YgdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNTdHJpbmcob2xkKSkgZm9yICh2YXIgaSBpbiBvbGQpIGlmICghKGkgaW4gdmFsdWUpKSBub2RlLnN0eWxlW2ldID0gJyc7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHZhbHVlKSBub2RlLnN0eWxlW2ldID0gJ251bWJlcicgPT0gdHlwZW9mIHZhbHVlW2ldICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gdmFsdWVbaV0gKyAncHgnIDogdmFsdWVbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKCdkYW5nZXJvdXNseVNldElubmVySFRNTCcgPT09IG5hbWUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCdvJyA9PT0gbmFtZVswXSAmJiAnbicgPT09IG5hbWVbMV0pIHtcblx0ICAgICAgICAgICAgdmFyIGwgPSBub2RlLl9saXN0ZW5lcnMgfHwgKG5vZGUuX2xpc3RlbmVycyA9IHt9KTtcblx0ICAgICAgICAgICAgbmFtZSA9IHRvTG93ZXJDYXNlKG5hbWUuc3Vic3RyaW5nKDIpKTtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChsW25hbWVdKSBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSk7XG5cdCAgICAgICAgICAgIGxbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCd0eXBlJyAhPT0gbmFtZSAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdCAgICAgICAgICAgIHNldFByb3BlcnR5KG5vZGUsIG5hbWUsIGVtcHR5KHZhbHVlKSA/ICcnIDogdmFsdWUpO1xuXHQgICAgICAgICAgICBpZiAoZmFsc2V5KHZhbHVlKSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIG5zID0gaXNTdmcgJiYgbmFtZS5tYXRjaCgvXnhsaW5rXFw6PyguKykvKTtcblx0ICAgICAgICAgICAgaWYgKGZhbHNleSh2YWx1ZSkpIGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7IGVsc2Ugbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7IGVsc2UgaWYgKCdvYmplY3QnICE9IHR5cGVvZiB2YWx1ZSAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpOyBlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIG5vZGVbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpIHtcblx0ICAgICAgICB2YXIgYXR0cnMgPSB7fTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaS0tOyApIGF0dHJzW25vZGUuYXR0cmlidXRlc1tpXS5uYW1lXSA9IG5vZGUuYXR0cmlidXRlc1tpXS52YWx1ZTtcblx0ICAgICAgICByZXR1cm4gYXR0cnM7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZSkpIHJldHVybiAzID09PSBnZXROb2RlVHlwZShub2RlKTtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSByZXR1cm4gaXNOYW1lZE5vZGUobm9kZSwgdm5vZGUubm9kZU5hbWUpO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZub2RlLm5vZGVOYW1lKSkgcmV0dXJuIG5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpOyBlbHNlIDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID09PSBub2RlTmFtZSB8fCB0b0xvd2VyQ2FzZShub2RlLm5vZGVOYW1lKSA9PT0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdCAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHZub2RlLm5vZGVOYW1lLmRlZmF1bHRQcm9wcywgcHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cdCAgICAgICAgcmV0dXJuIHByb3BzO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY29sbGVjdE5vZGUobm9kZSkge1xuXHQgICAgICAgIGNsZWFuTm9kZShub2RlKTtcblx0ICAgICAgICB2YXIgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLCBsaXN0ID0gbm9kZXNbbmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTsgZWxzZSBub2Rlc1tuYW1lXSA9IFsgbm9kZSBdO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKSwgbm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdCAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSk7XG5cdCAgICAgICAgbm9kZS5ub3JtYWxpemVkTm9kZU5hbWUgPSBuYW1lO1xuXHQgICAgICAgIHJldHVybiBub2RlO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xlYW5Ob2RlKG5vZGUpIHtcblx0ICAgICAgICByZW1vdmVOb2RlKG5vZGUpO1xuXHQgICAgICAgIGlmICgxID09PSBnZXROb2RlVHlwZShub2RlKSkge1xuXHQgICAgICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cdCAgICAgICAgICAgIG5vZGUuX2NvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBmbHVzaE1vdW50cygpIHtcblx0ICAgICAgICB2YXIgYztcblx0ICAgICAgICB3aGlsZSAoYyA9IG1vdW50cy5wb3AoKSkgaWYgKGMuY29tcG9uZW50RGlkTW91bnQpIGMuY29tcG9uZW50RGlkTW91bnQoKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIHBhcmVudCkge1xuXHQgICAgICAgIGRpZmZMZXZlbCsrO1xuXHQgICAgICAgIHZhciByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgaWYgKHBhcmVudCAmJiByZXQucGFyZW50Tm9kZSAhPT0gcGFyZW50KSBwYXJlbnQuYXBwZW5kQ2hpbGQocmV0KTtcblx0ICAgICAgICBpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXHQgICAgICAgIHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB2bm9kZSA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSwgY29udGV4dCk7XG5cdCAgICAgICAgaWYgKGVtcHR5KHZub2RlKSkgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0ICAgICAgICAgICAgaWYgKGRvbSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKDMgPT09IGdldE5vZGVUeXBlKGRvbSkgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPSB2bm9kZSkgZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb207XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjb2xsZWN0Tm9kZShkb20pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2bm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzdmdNb2RlLCBvdXQgPSBkb20sIG5vZGVOYW1lID0gdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSByZXR1cm4gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSBub2RlTmFtZSA9IFN0cmluZyhub2RlTmFtZSk7XG5cdCAgICAgICAgc3ZnTW9kZSA9ICdzdmcnID09PSB0b0xvd2VyQ2FzZShub2RlTmFtZSk7XG5cdCAgICAgICAgaWYgKHN2Z01vZGUpIGlzU3ZnTW9kZSA9ICEwO1xuXHQgICAgICAgIGlmICghZG9tKSBvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpOyBlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0ICAgICAgICAgICAgb3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0ICAgICAgICAgICAgd2hpbGUgKGRvbS5maXJzdENoaWxkKSBvdXQuYXBwZW5kQ2hpbGQoZG9tLmZpcnN0Q2hpbGQpO1xuXHQgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gJiYgMSA9PT0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmICdzdHJpbmcnID09IHR5cGVvZiB2bm9kZS5jaGlsZHJlblswXSAmJiAxID09PSBvdXQuY2hpbGROb2Rlcy5sZW5ndGggJiYgb3V0LmZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBUZXh0KSBvdXQuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB2bm9kZS5jaGlsZHJlblswXTsgZWxzZSBpZiAodm5vZGUuY2hpbGRyZW4gfHwgb3V0LmZpcnN0Q2hpbGQpIGlubmVyRGlmZk5vZGUob3V0LCB2bm9kZS5jaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGRpZmZBdHRyaWJ1dGVzKG91dCwgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKG9yaWdpbmFsQXR0cmlidXRlcyAmJiBvcmlnaW5hbEF0dHJpYnV0ZXMucmVmKSAob3V0W0FUVFJfS0VZXS5yZWYgPSBvcmlnaW5hbEF0dHJpYnV0ZXMucmVmKShvdXQpO1xuXHQgICAgICAgIGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSAhMTtcblx0ICAgICAgICByZXR1cm4gb3V0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgaiwgYywgdmNoaWxkLCBjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzLCBjaGlsZHJlbiA9IFtdLCBrZXllZCA9IHt9LCBrZXllZExlbiA9IDAsIG1pbiA9IDAsIGxlbiA9IG9yaWdpbmFsQ2hpbGRyZW4ubGVuZ3RoLCBjaGlsZHJlbkxlbiA9IDAsIHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aDtcblx0ICAgICAgICBpZiAobGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBfY2hpbGQgPSBvcmlnaW5hbENoaWxkcmVuW2ldLCBrZXkgPSB2bGVuID8gKGMgPSBfY2hpbGQuX2NvbXBvbmVudCkgPyBjLl9fa2V5IDogKGMgPSBfY2hpbGRbQVRUUl9LRVldKSA/IGMua2V5IDogbnVsbCA6IG51bGw7XG5cdCAgICAgICAgICAgIGlmIChrZXkgfHwgMCA9PT0ga2V5KSB7XG5cdCAgICAgICAgICAgICAgICBrZXllZExlbisrO1xuXHQgICAgICAgICAgICAgICAga2V5ZWRba2V5XSA9IF9jaGlsZDtcblx0ICAgICAgICAgICAgfSBlbHNlIGNoaWxkcmVuW2NoaWxkcmVuTGVuKytdID0gX2NoaWxkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodmxlbikgZm9yICh2YXIgaSA9IDA7IGkgPCB2bGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgdmNoaWxkID0gdmNoaWxkcmVuW2ldO1xuXHQgICAgICAgICAgICBjaGlsZCA9IG51bGw7XG5cdCAgICAgICAgICAgIGlmIChrZXllZExlbiAmJiB2Y2hpbGQuYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleSA9IHZjaGlsZC5rZXk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBrZXllZFtrZXldO1xuXHQgICAgICAgICAgICAgICAgICAgIGtleWVkW2tleV0gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5ZWRMZW4tLTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWNoaWxkICYmIG1pbiA8IGNoaWxkcmVuTGVuKSBmb3IgKGogPSBtaW47IGogPCBjaGlsZHJlbkxlbjsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gY2hpbGRyZW5bal07XG5cdCAgICAgICAgICAgICAgICBpZiAoYyAmJiBpc1NhbWVOb2RlVHlwZShjLCB2Y2hpbGQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBjO1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuW2pdID0gdm9pZCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBjaGlsZHJlbkxlbiAtIDEpIGNoaWxkcmVuTGVuLS07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IG1pbikgbWluKys7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGlmIChjaGlsZCAhPT0gb3JpZ2luYWxDaGlsZHJlbltpXSkgZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGtleWVkTGVuKSBmb3IgKHZhciBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIGNoaWxkcmVuW21pbiA9IGNoaWxkcmVuTGVuKytdID0ga2V5ZWRbaV07XG5cdCAgICAgICAgaWYgKG1pbiA8IGNoaWxkcmVuTGVuKSByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oY2hpbGRyZW4sIHVubW91bnRPbmx5KSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0ICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cdCAgICAgICAgICAgIGlmIChjaGlsZCkgcmVjb2xsZWN0Tm9kZVRyZWUoY2hpbGQsIHVubW91bnRPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQgICAgICAgIHZhciBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudCkgdW5tb3VudENvbXBvbmVudChjb21wb25lbnQsICF1bm1vdW50T25seSk7IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cdCAgICAgICAgICAgIGlmICghdW5tb3VudE9ubHkpIGNvbGxlY3ROb2RlKG5vZGUpO1xuXHQgICAgICAgICAgICBpZiAobm9kZS5jaGlsZE5vZGVzICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4obm9kZS5jaGlsZE5vZGVzLCB1bm1vdW50T25seSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHQgICAgICAgIHZhciBvbGQgPSBkb21bQVRUUl9LRVldIHx8IGdldFJhd05vZGVBdHRyaWJ1dGVzKGRvbSk7XG5cdCAgICAgICAgZm9yICh2YXIgX25hbWUgaW4gb2xkKSBpZiAoIShhdHRycyAmJiBfbmFtZSBpbiBhdHRycykpIHNldEFjY2Vzc29yKGRvbSwgX25hbWUsIG51bGwsIG9sZFtfbmFtZV0sIGlzU3ZnTW9kZSk7XG5cdCAgICAgICAgaWYgKGF0dHJzKSBmb3IgKHZhciBfbmFtZTIgaW4gYXR0cnMpIGlmICghKF9uYW1lMiBpbiBvbGQpIHx8IGF0dHJzW19uYW1lMl0gIT0gKCd2YWx1ZScgPT09IF9uYW1lMiB8fCAnc2VsZWN0ZWQnID09PSBfbmFtZTIgfHwgJ2NoZWNrZWQnID09PSBfbmFtZTIgPyBkb21bX25hbWUyXSA6IG9sZFtfbmFtZTJdKSkgc2V0QWNjZXNzb3IoZG9tLCBfbmFtZTIsIGF0dHJzW19uYW1lMl0sIG9sZFtfbmFtZTJdLCBpc1N2Z01vZGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY29sbGVjdENvbXBvbmVudChjb21wb25lbnQpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lLCBsaXN0ID0gY29tcG9uZW50c1tuYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgbGlzdC5wdXNoKGNvbXBvbmVudCk7IGVsc2UgY29tcG9uZW50c1tuYW1lXSA9IFsgY29tcG9uZW50IF07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoQ3RvciwgcHJvcHMsIGNvbnRleHQpIHtcblx0ICAgICAgICB2YXIgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSwgbGlzdCA9IGNvbXBvbmVudHNbQ3Rvci5uYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgZm9yICh2YXIgaSA9IGxpc3QubGVuZ3RoOyBpLS07ICkgaWYgKGxpc3RbaV0uY29uc3RydWN0b3IgPT09IEN0b3IpIHtcblx0ICAgICAgICAgICAgaW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdCAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGluc3Q7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCkge1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2RpcnR5ID0gITA7XG5cdCAgICAgICAgICAgIGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRDb21wb25lbnRQcm9wcyhjb21wb25lbnQsIHByb3BzLCBvcHRzLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBiID0gY29tcG9uZW50LmJhc2U7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITA7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYgPSBwcm9wcy5yZWYpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19rZXkgPSBwcm9wcy5rZXkpIGRlbGV0ZSBwcm9wcy5rZXk7XG5cdCAgICAgICAgICAgIGlmIChlbXB0eShiKSB8fCBtb3VudEFsbCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgY29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0ICE9PSBjb21wb25lbnQuY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0ICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICExO1xuXHQgICAgICAgICAgICBpZiAoMCAhPT0gb3B0cykgaWYgKDEgPT09IG9wdHMgfHwgb3B0aW9ucy5zeW5jQ29tcG9uZW50VXBkYXRlcyAhPT0gITEgfHwgIWIpIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIDEsIG1vdW50QWxsKTsgZWxzZSB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihjb21wb25lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIG9wdHMsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHtcblx0ICAgICAgICAgICAgdmFyIHNraXAsIHJlbmRlcmVkLCBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcywgc3RhdGUgPSBjb21wb25lbnQuc3RhdGUsIGNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dCwgcHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsIHByZXZpb3VzU3RhdGUgPSBjb21wb25lbnQucHJldlN0YXRlIHx8IHN0YXRlLCBwcmV2aW91c0NvbnRleHQgPSBjb21wb25lbnQucHJldkNvbnRleHQgfHwgY29udGV4dCwgaXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSwgaW5pdGlhbEJhc2UgPSBpc1VwZGF0ZSB8fCBjb21wb25lbnQubmV4dEJhc2UsIG5leHRTaWJsaW5nID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UubmV4dFNpYmxpbmcsIGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLCBpbml0aWFsQ29tcG9uZW50ID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UuX2NvbXBvbmVudCwgaW5pdGlhbENoaWxkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdCAgICAgICAgICAgIGlmIChpc1VwZGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJldmlvdXNQcm9wcztcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHByZXZpb3VzU3RhdGU7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0ICAgICAgICAgICAgICAgIGlmICgyICE9PSBvcHRzICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUgJiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSAhMSkgc2tpcCA9ICEwOyBlbHNlIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZSkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0YXRlID0gc3RhdGU7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcmV2U3RhdGUgPSBjb21wb25lbnQucHJldkNvbnRleHQgPSBjb21wb25lbnQubmV4dEJhc2UgPSBudWxsO1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2RpcnR5ID0gITE7XG5cdCAgICAgICAgICAgIGlmICghc2tpcCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5yZW5kZXIpIHJlbmRlcmVkID0gY29tcG9uZW50LnJlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkKSkgcmVuZGVyZWQgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQocmVuZGVyZWQsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHRvVW5tb3VudCwgYmFzZSwgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZTtcblx0ICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGluc3QgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQsIGNoaWxkUHJvcHMgPSBnZXROb2RlUHJvcHMocmVuZGVyZWQpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3IgPT09IGNoaWxkQ29tcG9uZW50KSBzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAxLCBjb250ZXh0KTsgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRvVW5tb3VudCA9IGluc3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc3QgPSBjcmVhdGVDb21wb25lbnQoY2hpbGRDb21wb25lbnQsIGNoaWxkUHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnN0Ll9wYXJlbnRDb21wb25lbnQgPSBjb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fY29tcG9uZW50ID0gaW5zdDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMCwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudChpbnN0LCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGluc3QuYmFzZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGNiYXNlID0gaW5pdGlhbEJhc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9Vbm1vdW50ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0b1VubW91bnQpIGNiYXNlID0gY29tcG9uZW50Ll9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFzZSB8fCAxID09PSBvcHRzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYmFzZSkgY2Jhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBkaWZmKGNiYXNlLCByZW5kZXJlZCwgY29udGV4dCwgbW91bnRBbGwgfHwgIWlzVXBkYXRlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEJhc2UgJiYgYmFzZSAhPT0gaW5pdGlhbEJhc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVBhcmVudCAmJiBiYXNlICE9PSBiYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXRvVW5tb3VudCAmJiBpbml0aWFsQ29tcG9uZW50ID09PSBjb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHRvVW5tb3VudCkgdW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsICEwKTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0ICAgICAgICAgICAgICAgIGlmIChiYXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCwgdCA9IGNvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICB3aGlsZSAodCA9IHQuX3BhcmVudENvbXBvbmVudCkgY29tcG9uZW50UmVmID0gdDtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlLl9jb21wb25lbnQgPSBjb21wb25lbnRSZWY7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBjb21wb25lbnRSZWYuY29uc3RydWN0b3I7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHQgICAgICAgICAgICAgICAgbW91bnRzLnVuc2hpZnQoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgICAgIGlmICghZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCFza2lwICYmIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUpIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0ICAgICAgICAgICAgdmFyIGZuLCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzO1xuXHQgICAgICAgICAgICBpZiAoY2IpIHdoaWxlIChmbiA9IGNiLnBvcCgpKSBmbi5jYWxsKGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiByZW5kZXJlZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBjID0gZG9tICYmIGRvbS5fY29tcG9uZW50LCBvbGREb20gPSBkb20sIGlzRGlyZWN0T3duZXIgPSBjICYmIGRvbS5fY29tcG9uZW50Q29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lLCBpc093bmVyID0gaXNEaXJlY3RPd25lciwgcHJvcHMgPSBnZXROb2RlUHJvcHModm5vZGUpO1xuXHQgICAgICAgIHdoaWxlIChjICYmICFpc093bmVyICYmIChjID0gYy5fcGFyZW50Q29tcG9uZW50KSkgaXNPd25lciA9IGMuY29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIGlmIChpc093bmVyICYmICghbW91bnRBbGwgfHwgYy5fY29tcG9uZW50KSkge1xuXHQgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMywgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBkb20gPSBjLmJhc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGMgJiYgIWlzRGlyZWN0T3duZXIpIHtcblx0ICAgICAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQoYywgITApO1xuXHQgICAgICAgICAgICAgICAgZG9tID0gb2xkRG9tID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgIGlmIChkb20gJiYgIWMubmV4dEJhc2UpIGMubmV4dEJhc2UgPSBkb207XG5cdCAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCAxLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGRvbSA9IGMuYmFzZTtcblx0ICAgICAgICAgICAgaWYgKG9sZERvbSAmJiBkb20gIT09IG9sZERvbSkge1xuXHQgICAgICAgICAgICAgICAgb2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZG9tO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudChjb21wb25lbnQsIHJlbW92ZSkge1xuXHQgICAgICAgIHZhciBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cdCAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITA7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdCAgICAgICAgY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHQgICAgICAgIHZhciBpbm5lciA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHQgICAgICAgIGlmIChpbm5lcikgdW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTsgZWxzZSBpZiAoYmFzZSkge1xuXHQgICAgICAgICAgICBpZiAoYmFzZVtBVFRSX0tFWV0gJiYgYmFzZVtBVFRSX0tFWV0ucmVmKSBiYXNlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5uZXh0QmFzZSA9IGJhc2U7XG5cdCAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcblx0ICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoYmFzZSk7XG5cdCAgICAgICAgICAgICAgICBjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihiYXNlLmNoaWxkTm9kZXMsICFyZW1vdmUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYobnVsbCk7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdGhpcy5fZGlydHkgPSAhMDtcblx0ICAgICAgICB0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gITE7XG5cdCAgICAgICAgdGhpcy5wcmV2U3RhdGUgPSB0aGlzLnByZXZQcm9wcyA9IHRoaXMucHJldkNvbnRleHQgPSB0aGlzLmJhc2UgPSB0aGlzLm5leHRCYXNlID0gdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50ID0gdGhpcy5fX3JlZiA9IHRoaXMuX19rZXkgPSB0aGlzLl9saW5rZWRTdGF0ZXMgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge307XG5cdCAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVuZGVyKHZub2RlLCBwYXJlbnQsIG1lcmdlKSB7XG5cdCAgICAgICAgcmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgITEsIHBhcmVudCk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGNDYWNoZSA9IHt9O1xuXHQgICAgdmFyIHRvTG93ZXJDYXNlID0gZnVuY3Rpb24ocykge1xuXHQgICAgICAgIHJldHVybiBsY0NhY2hlW3NdIHx8IChsY0NhY2hlW3NdID0gcy50b0xvd2VyQ2FzZSgpKTtcblx0ICAgIH07XG5cdCAgICB2YXIgcmVzb2x2ZWQgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgIHZhciBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXNvbHZlZC50aGVuKGYpO1xuXHQgICAgfSA6IHNldFRpbWVvdXQ7XG5cdCAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICB2bm9kZTogZW1wdHlcblx0ICAgIH07XG5cdCAgICB2YXIgU0hBUkVEX1RFTVBfQVJSQVkgPSBbXTtcblx0ICAgIHZhciBFTVBUWSA9IHt9O1xuXHQgICAgdmFyIEFUVFJfS0VZID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbC5mb3IoJ3ByZWFjdGF0dHInKSA6ICdfX3ByZWFjdGF0dHJfJztcblx0ICAgIHZhciBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHQgICAgICAgIGJveEZsZXg6IDEsXG5cdCAgICAgICAgYm94RmxleEdyb3VwOiAxLFxuXHQgICAgICAgIGNvbHVtbkNvdW50OiAxLFxuXHQgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuXHQgICAgICAgIGZsZXg6IDEsXG5cdCAgICAgICAgZmxleEdyb3c6IDEsXG5cdCAgICAgICAgZmxleFBvc2l0aXZlOiAxLFxuXHQgICAgICAgIGZsZXhTaHJpbms6IDEsXG5cdCAgICAgICAgZmxleE5lZ2F0aXZlOiAxLFxuXHQgICAgICAgIGZvbnRXZWlnaHQ6IDEsXG5cdCAgICAgICAgbGluZUNsYW1wOiAxLFxuXHQgICAgICAgIGxpbmVIZWlnaHQ6IDEsXG5cdCAgICAgICAgb3BhY2l0eTogMSxcblx0ICAgICAgICBvcmRlcjogMSxcblx0ICAgICAgICBvcnBoYW5zOiAxLFxuXHQgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsXG5cdCAgICAgICAgd2lkb3dzOiAxLFxuXHQgICAgICAgIHpJbmRleDogMSxcblx0ICAgICAgICB6b29tOiAxXG5cdCAgICB9O1xuXHQgICAgdmFyIGl0ZW1zID0gW107XG5cdCAgICB2YXIgaXRlbXNPZmZsaW5lID0gW107XG5cdCAgICB2YXIgbm9kZXMgPSB7fTtcblx0ICAgIHZhciBtb3VudHMgPSBbXTtcblx0ICAgIHZhciBkaWZmTGV2ZWwgPSAwO1xuXHQgICAgdmFyIGlzU3ZnTW9kZSA9ICExO1xuXHQgICAgdmFyIGNvbXBvbmVudHMgPSB7fTtcblx0ICAgIGV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cdCAgICAgICAgbGlua1N0YXRlOiBmdW5jdGlvbihrZXksIGV2ZW50UGF0aCkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLCBjYWNoZUtleSA9IGtleSArICd8JyArIGV2ZW50UGF0aDtcblx0ICAgICAgICAgICAgcmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBzID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0ICAgICAgICAgICAgZXh0ZW5kKHMsIGlzRnVuY3Rpb24oc3RhdGUpID8gc3RhdGUocywgdGhpcy5wcm9wcykgOiBzdGF0ZSk7XG5cdCAgICAgICAgICAgIGlmIChjYWxsYmFjaykgKHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IHRoaXMuX3JlbmRlckNhbGxiYWNrcyB8fCBbXSkucHVzaChjYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHRyaWdnZXJDb21wb25lbnRSZW5kZXIodGhpcyk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBmb3JjZVVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudCh0aGlzLCAyKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgZXhwb3J0cy5oID0gaDtcblx0ICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gY2xvbmVFbGVtZW50O1xuXHQgICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG5cdCAgICBleHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblx0ICAgIGV4cG9ydHMucmVyZW5kZXIgPSByZXJlbmRlcjtcblx0ICAgIGV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdH0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDkpLnNldEltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHNldEltbWVkaWF0ZSwgY2xlYXJJbW1lZGlhdGUpIHt2YXIgbmV4dFRpY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKS5uZXh0VGljaztcblx0dmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdHZhciBpbW1lZGlhdGVJZHMgPSB7fTtcblx0dmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cdFxuXHQvLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXHRcblx0ZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xuXHR9O1xuXHRleHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG5cdH07XG5cdGV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cblx0ZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cdFxuXHRmdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG5cdCAgdGhpcy5faWQgPSBpZDtcblx0ICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcblx0fVxuXHRUaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5cdFRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xuXHR9O1xuXHRcblx0Ly8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5cdGV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcblx0fTtcblx0XG5cdGV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG5cdH07XG5cdFxuXHRleHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0XG5cdCAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG5cdCAgaWYgKG1zZWNzID49IDApIHtcblx0ICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcblx0ICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcblx0ICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcblx0ICAgIH0sIG1zZWNzKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cblx0ZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuXHQgIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuXHQgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XG5cdCAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cdFxuXHQgIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuXHQgICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG5cdCAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG5cdCAgICAgIGlmIChhcmdzKSB7XG5cdCAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm4uY2FsbChudWxsKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcblx0ICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBpZDtcblx0fTtcblx0XG5cdGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcblx0ICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcblx0fTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDkpLnNldEltbWVkaWF0ZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0OSkuY2xlYXJJbW1lZGlhdGUpKVxuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHRcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB0cnkge1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdH0gKCkpXG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGRyYWluUXVldWUsIDApO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDUxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cdFxuXHR2YXIgX2NvbWJpbmVSZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lUmVkdWNlcnMpO1xuXHRcblx0dmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0XG5cdHZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXHRcblx0dmFyIF9hcHBseU1pZGRsZXdhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbHlNaWRkbGV3YXJlKTtcblx0XG5cdHZhciBfY29tcG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qXG5cdCogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuXHQqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cblx0Ki9cblx0ZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG5cdCAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1MCkpKVxuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblx0XG5cdHZhciBfc3ltYm9sT2JzZXJ2YWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuXHQgKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuXHQgKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cblx0ICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuXHQgKi9cblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBJTklUOiAnQEByZWR1eC9JTklUJ1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuXHQgKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cblx0ICpcblx0ICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuXHQgKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG5cdCAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuXHQgKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cblx0ICpcblx0ICogQHBhcmFtIHthbnl9IFtpbml0aWFsU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuXHQgKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuXHQgKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG5cdCAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcblx0ICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuXHQgKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG5cdCAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG5cdCAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcblx0ICB2YXIgX3JlZjI7XG5cdFxuXHQgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIGVuaGFuY2VyID0gaW5pdGlhbFN0YXRlO1xuXHQgICAgaW5pdGlhbFN0YXRlID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0XG5cdCAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICB9XG5cdFxuXHQgIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG5cdCAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblx0ICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuXHQgIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcblx0ICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXHRcblx0ICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuXHQgICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcblx0ICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuXHQgICAqXG5cdCAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuXHQgICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG5cdCAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG5cdCAgICpcblx0ICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuXHQgICAqIGNhdmVhdHM6XG5cdCAgICpcblx0ICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG5cdCAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG5cdCAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG5cdCAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG5cdCAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cblx0ICAgKlxuXHQgICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuXHQgICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG5cdCAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcblx0ICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG5cdCAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG5cdCAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXHRcblx0ICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cdFxuXHQgICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG5cdCAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG5cdCAgICpcblx0ICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG5cdCAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuXHQgICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcblx0ICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuXHQgICAqXG5cdCAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cblx0ICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuXHQgICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuXHQgICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcblx0ICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcblx0ICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuXHQgICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG5cdCAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG5cdCAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuXHQgICAqXG5cdCAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuXHQgICAqXG5cdCAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuXHQgICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcblx0ICAgIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MltcImRlZmF1bHRcIl0pKGFjdGlvbikpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuXHQgICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgbGlzdGVuZXJzW2ldKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGFjdGlvbjtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuXHQgICAqXG5cdCAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuXHQgICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3Vcblx0ICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuXHQgICAqIEByZXR1cm5zIHt2b2lkfVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG5cdCAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjtcblx0ICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuXHQgICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuXHQgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG5cdCAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG5cdCAgICB2YXIgX3JlZjtcblx0XG5cdCAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG5cdCAgICByZXR1cm4gX3JlZiA9IHtcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cblx0ICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cblx0ICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG5cdCAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG5cdCAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcblx0ICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG5cdCAgICAgICAqL1xuXHRcblx0ICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcblx0ICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG5cdCAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvYnNlcnZlU3RhdGUoKTtcblx0ICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuXHQgICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuXHQgICAgICB9XG5cdCAgICB9LCBfcmVmW19zeW1ib2xPYnNlcnZhYmxlMltcImRlZmF1bHRcIl1dID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sIF9yZWY7XG5cdCAgfVxuXHRcblx0ICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuXHQgIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuXHQgIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG5cdCAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHRcblx0ICByZXR1cm4gX3JlZjIgPSB7XG5cdCAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG5cdCAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcblx0ICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcblx0ICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuXHQgIH0sIF9yZWYyW19zeW1ib2xPYnNlcnZhYmxlMltcImRlZmF1bHRcIl1dID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2V0UHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCksXG5cdCAgICBpc0hvc3RPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSxcblx0ICAgIGlzT2JqZWN0TGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRcblx0LyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdCAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuXHQgKiBvZiB2YWx1ZXMuXG5cdCAqL1xuXHR2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdCAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMC44LjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHQgKiAgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAqICAgdGhpcy5hID0gMTtcblx0ICogfVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICovXG5cdGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcblx0ICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcblx0ICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0ICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHQgIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBvdmVyQXJnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdFxuXHQvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHQvKipcblx0ICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuXHQgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0ICovXG5cdHZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKG5hdGl2ZUdldFByb3RvdHlwZSwgT2JqZWN0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuXHQgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcblx0ICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG5cblxuLyoqKi8gfSxcbi8qIDU2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcblx0ICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuXHQgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdCAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXHQgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuXHQgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuXHQgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG5cblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpKGdsb2JhbCB8fCB3aW5kb3cgfHwgdGhpcyk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHRcdHZhciByZXN1bHQ7XG5cdFx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXHRcblx0XHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0XHR9XG5cdFxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9pc1BsYWluT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcblx0ICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcblx0ICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cdFxuXHQgIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXHRcblx0ICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuXHQgIH1cblx0XG5cdCAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcblx0ICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcblx0ICB9XG5cdFxuXHQgIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG5cdCAgfSk7XG5cdFxuXHQgIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdCAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcblx0ICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG5cdCAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcblx0ICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcblx0ICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuXHQgKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcblx0ICogcmVkdWNlciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG5cdCAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cblx0ICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cblx0ICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuXHQgKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcblx0ICogdW5yZWNvZ25pemVkIGFjdGlvbi5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuXHQgKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cdCAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblx0XG5cdCAgdmFyIHNhbml0eUVycm9yO1xuXHQgIHRyeSB7XG5cdCAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHNhbml0eUVycm9yID0gZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBpZiAoc2FuaXR5RXJyb3IpIHtcblx0ICAgICAgdGhyb3cgc2FuaXR5RXJyb3I7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcblx0ICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG5cdCAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuXHQgICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG5cdCAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cdCAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbik7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgbmV4dFN0YXRlW2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG5cdCAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1MCkpKVxuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcblx0LyoqXG5cdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgIH1cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0ICB0cnkge1xuXHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG5cdCAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuXHQgICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG5cdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHQgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5cdGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG5cdCAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcblx0ICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuXHQgKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcblx0ICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cblx0ICpcblx0ICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG5cdCAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cblx0ICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuXHQgKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuXHQgKiBzdG9yZS5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcblx0ICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuXHQgKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcblx0ICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcblx0ICB9XG5cdFxuXHQgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuXHQgIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0ga2V5c1tpXTtcblx0ICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcblx0ICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xuXHR9XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcblx0XG5cdHZhciBfY29tcG9zZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2Rcblx0ICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuXHQgKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuXHQgKlxuXHQgKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG5cdCAqXG5cdCAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuXHQgKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcblx0ICogYXMgbmFtZWQgYXJndW1lbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcblx0ICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHQgICAgICB2YXIgY2hhaW4gPSBbXTtcblx0XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuXHQgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcblx0ICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cdFxuXHQgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0b3JlLCB7XG5cdCAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogNjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuXHQvKipcblx0ICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3Rcblx0ICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG5cdCAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuXHQgKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuXHQgKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cblx0ICovXG5cdFxuXHRmdW5jdGlvbiBjb21wb3NlKCkge1xuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgfVxuXHRcblx0ICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICByZXR1cm4gYXJnO1xuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBsYXN0ID0gZnVuY3NbZnVuY3MubGVuZ3RoIC0gMV07XG5cdCAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHY6IGZ1bmN0aW9uIHYoKSB7XG5cdCAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuXHQgICAgICAgICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0ICAgIH0oKTtcblx0XG5cdCAgICBpZiAodHlwZW9mIF9yZXQgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiA2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdHZhciBfcmVkdXhVbmRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvclJpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvclJpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yUmlnaHQpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvckxlZnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yTGVmdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvckxlZnQpO1xuXHRcblx0dmFyIF9jb2RlUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdFxuXHR2YXIgX2NvZGVQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2RlUGFuZWwpO1xuXHRcblx0dmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcwKTtcblx0XG5cdHZhciBfaWNvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbnMpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9hZGRQb2ludGVyRG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkUG9pbnRlckRvd24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTcxKTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ3VydmVFZGl0b3IsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDdXJ2ZUVkaXRvcigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEN1cnZlRWRpdG9yKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEN1cnZlRWRpdG9yKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEN1cnZlRWRpdG9yLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXHQgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cdCAgICAgIHZhciBwID0gdGhpcy5wcm9wcztcblx0XG5cdCAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yJ10sIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uczIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2NvZGVQYW5lbDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlRWRpdG9yTGVmdDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlRWRpdG9yUmlnaHQyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlLCBwcm9ncmVzc0xpbmVzOiBwLnByb2dyZXNzTGluZXMgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgWF9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgNTM7XG5cdCAgICAgIHZhciBZX1NJWkUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QQURESU5HO1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgdGVtcF90b3AgPSByZXNpemUudGVtcF90b3A7XG5cdCAgICAgIHZhciB0ZW1wX2JvdHRvbSA9IHJlc2l6ZS50ZW1wX2JvdHRvbTtcblx0ICAgICAgdmFyIHRlbXBfcmlnaHQgPSByZXNpemUudGVtcF9yaWdodDtcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9IHJlc2l6ZS50cmFuc2xhdGU7XG5cdFxuXHRcblx0ICAgICAgdGVtcF90b3AgKz0gcmVzaXplLnRvcDtcblx0ICAgICAgdGVtcF9ib3R0b20gKz0gcmVzaXplLmJvdHRvbTtcblx0ICAgICAgdGVtcF9yaWdodCArPSByZXNpemUucmlnaHQ7XG5cdFxuXHQgICAgICAvLyBjb25zdHJhaW4gbWluIGhlaWdodFxuXHQgICAgICBpZiAoWV9TSVpFIC0gdGVtcF90b3AgPCBZX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3RvcCA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKFlfU0laRSArIHRlbXBfYm90dG9tIDwgWV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9ib3R0b20gPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChYX1NJWkUgKyB0ZW1wX3JpZ2h0IDwgWF9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9yaWdodCA9IDA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRlbXBfdG9wID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfdG9wLCAtMSk7XG5cdCAgICAgIHRlbXBfYm90dG9tID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfYm90dG9tKTtcblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSAnaGVpZ2h0OiAnICsgKFlfU0laRSAtIHRlbXBfdG9wICsgdGVtcF9ib3R0b20pICsgJ3B4Jyxcblx0ICAgICAgICAgIHdpZHRoID0gJ3dpZHRoOiAnICsgKFhfU0laRSArIHRlbXBfcmlnaHQpICsgJ3B4Jyxcblx0ICAgICAgICAgIHggPSByZXNpemUueCArIHJlc2l6ZS50ZW1wWCxcblx0ICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcblx0ICAgICAgICAgIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgeCArICdweCwgJyArICh5ICsgdGVtcF90b3ApICsgJ3B4KSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOyAnICsgd2lkdGggKyAnOyAnICsgaGVpZ2h0ICsgJzsnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLWxlZnQtcGFuZWwnKTtcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFJywgZGF0YTogeyB4OiB4LCB5OiB5IH0gfSk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeDogeCwgeTogeSB9IH0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgLy8gLm9uKCd0YXAnLCAoZSkgPT4geyBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pOyB9KTtcblx0XG5cdCAgICAgIHRoaXMuX2FkZEtleVVwKCk7XG5cdCAgICAgIHRoaXMuX3N1YnNjcmliZUZvY3VzKCk7XG5cdCAgICAgIHN0b3JlLnN1YnNjcmliZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19zdWJzY3JpYmVGb2N1cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3N1YnNjcmliZUZvY3VzKCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICgwLCBfYWRkUG9pbnRlckRvd24yLmRlZmF1bHQpKHRoaXMuYmFzZSwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBlLl9tb2pzQ3VydmVFZGl0b3JOYW1lID0gX3RoaXMyLl9zdGF0ZS5wb2ludHMucHJlc2VudC5uYW1lO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfYWRkS2V5VXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRLZXlVcCgpIHtcblx0ICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9vbktleVVwLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19vbktleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25LZXlVcChlKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdCAgICAgIGlmICghZS5hbHRLZXkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG5cdCAgICAgICAgY2FzZSA5MDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKF9yZWR1eFVuZG8uQWN0aW9uQ3JlYXRvcnMudW5kbygpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIDg4OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goX3JlZHV4VW5kby5BY3Rpb25DcmVhdG9ycy5yZWRvKCkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgNjg6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZUVkaXRvcjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvcjtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNjcpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciB0b09iamVjdCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKVxuXHQgICwgJGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuXHQgIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG5cdCAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG5cdCAgfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblx0dmFyIGhhcyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHRvT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIElFX1BST1RPICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkoJ0lFX1BST1RPJylcblx0ICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuXHQgIE8gPSB0b09iamVjdChPKTtcblx0ICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcblx0ICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcblx0ICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblx0ICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIGNvcmUgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCAgLCBmYWlscyAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcblx0ICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG5cdCAgICAsIGV4cCA9IHt9O1xuXHQgIGV4cFtLRVldID0gZXhlYyhmbik7XG5cdCAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcblx0ICBpZiAoIXNlbGYpIHtcblx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfaXRlcmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtcblx0XG5cdHZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXHRcblx0dmFyIF9zeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcblx0ICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH0gOiBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNzQpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpLmYoJ2l0ZXJhdG9yJyk7XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgJGF0ICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpKHRydWUpO1xuXHRcblx0Ly8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG5cdCAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuXHQgIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG5cdC8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcblx0fSwgZnVuY3Rpb24oKXtcblx0ICB2YXIgTyAgICAgPSB0aGlzLl90XG5cdCAgICAsIGluZGV4ID0gdGhpcy5faVxuXHQgICAgLCBwb2ludDtcblx0ICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuXHQgIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcblx0ICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcblx0ICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMylcblx0ICAsIGRlZmluZWQgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHQvLyB0cnVlICAtPiBTdHJpbmcjYXRcblx0Ly8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcblx0ICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcblx0ICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG5cdCAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG5cdCAgICAgICwgbCA9IHMubGVuZ3RoXG5cdCAgICAgICwgYSwgYjtcblx0ICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG5cdCAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuXHQgICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcblx0ICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcblx0ICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG5cdCAgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBMSUJSQVJZICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIHJlZGVmaW5lICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OSlcblx0ICAsIGhpZGUgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIEl0ZXJhdG9ycyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0ICAsICRpdGVyQ3JlYXRlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSlcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSlcblx0ICAsIGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSlcblx0ICAsIElURVJBVE9SICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ2l0ZXJhdG9yJylcblx0ICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcblx0ICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG5cdCAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuXHQgICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblx0XG5cdHZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG5cdCAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXHQgIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcblx0ICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcblx0ICAgIHN3aXRjaChraW5kKXtcblx0ICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuXHQgIH07XG5cdCAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcblx0ICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG5cdCAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuXHQgICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcblx0ICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuXHQgICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcblx0ICAgICwgJGVudHJpZXMgICA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWRcblx0ICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcblx0ICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcblx0ICAvLyBGaXggbmF0aXZlXG5cdCAgaWYoJGFueU5hdGl2ZSl7XG5cdCAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuXHQgICAgaWYoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpe1xuXHQgICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG5cdCAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuXHQgICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcblx0ICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuXHQgIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG5cdCAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcblx0ICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG5cdCAgfVxuXHQgIC8vIERlZmluZSBpdGVyYXRvclxuXHQgIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcblx0ICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG5cdCAgfVxuXHQgIC8vIFBsdWcgZm9yIGxpYnJhcnlcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcblx0ICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuXHQgIGlmKERFRkFVTFQpe1xuXHQgICAgbWV0aG9kcyA9IHtcblx0ICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG5cdCAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcblx0ICAgICAgZW50cmllczogJGVudHJpZXNcblx0ICAgIH07XG5cdCAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcblx0ICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG5cdCAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuXHQgIH1cblx0ICByZXR1cm4gbWV0aG9kcztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHRydWU7XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuLyoqKi8gfSxcbi8qIDgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIGNyZWF0ZSAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIGRlc2NyaXB0b3IgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSlcblx0ICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cdFxuXHQvLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKShJdGVyYXRvclByb3RvdHlwZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuXHQgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcblx0ICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblx0dmFyIGFuT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIGRQcyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mylcblx0ICAsIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsIElFX1BST1RPICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkoJ0lFX1BST1RPJylcblx0ICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuXHQgICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblx0XG5cdC8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcblx0dmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuXHQgIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG5cdCAgdmFyIGlmcmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApKCdpZnJhbWUnKVxuXHQgICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcblx0ICAgICwgbHQgICAgID0gJzwnXG5cdCAgICAsIGd0ICAgICA9ICc+J1xuXHQgICAgLCBpZnJhbWVEb2N1bWVudDtcblx0ICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuXHQgIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcblx0ICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuXHQgIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuXHQgIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcblx0ICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcblx0ICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcblx0ICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG5cdCAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XG5cdCAgdmFyIHJlc3VsdDtcblx0ICBpZihPICE9PSBudWxsKXtcblx0ICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcblx0ICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcblx0ICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuXHQgICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuXHQgICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG5cdCAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcblx0ICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZFAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KVxuXHQgICwgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgZ2V0S2V5cyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCkgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcblx0ICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICwgaSA9IDBcblx0ICAgICwgUDtcblx0ICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG5cdCAgcmV0dXJuIE87XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRlZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLmZcblx0ICAsIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBUQUcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSgndG9TdHJpbmdUYWcnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG5cdCAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBzdG9yZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikoJ3drcycpXG5cdCAgLCB1aWQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIFN5bWJvbCAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5TeW1ib2xcblx0ICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cdFxuXHR2YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuXHQgIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuXHQgICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcblx0fTtcblx0XG5cdCRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cbi8qKiovIH0sXG4vKiA4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdHZhciBnbG9iYWwgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGhpZGUgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKVxuXHQgICwgSXRlcmF0b3JzICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdCAgLCBUT19TVFJJTkdfVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRmb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcblx0ICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG5cdCAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cblx0ICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5cdCAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuXHQgIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcblx0fVxuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIGFkZFRvVW5zY29wYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KVxuXHQgICwgc3RlcCAgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTApXG5cdCAgLCBJdGVyYXRvcnMgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0ICAsIHRvSU9iamVjdCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdC8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcblx0Ly8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcblx0Ly8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuXHQvLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuXHQgIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQgIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG5cdC8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxuXHR9LCBmdW5jdGlvbigpe1xuXHQgIHZhciBPICAgICA9IHRoaXMuX3Rcblx0ICAgICwga2luZCAgPSB0aGlzLl9rXG5cdCAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuXHQgIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcblx0ICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG5cdCAgICByZXR1cm4gc3RlcCgxKTtcblx0ICB9XG5cdCAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG5cdCAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG5cdCAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xuXHR9LCAndmFsdWVzJyk7XG5cdFxuXHQvLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5cdEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cdFxuXHRhZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5cdGFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9O1xuXG4vKioqLyB9LFxuLyogOTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuXHQgIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg5MyksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDkzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDMpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLlN5bWJvbDtcblxuLyoqKi8gfSxcbi8qIDk0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cblx0dmFyIGdsb2JhbCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMClcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIERFU0NSSVBUT1JTICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KVxuXHQgICwgTUVUQSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KS5LRVlcblx0ICAsICRmYWlscyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0ICAsIHNoYXJlZCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNilcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSlcblx0ICAsIHVpZCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIHdrcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nilcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSlcblx0ICAsIHdrc0RlZmluZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nilcblx0ICAsIGtleU9mICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nylcblx0ICAsIGVudW1LZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OClcblx0ICAsIGlzQXJyYXkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSlcblx0ICAsIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSlcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0ICAsIF9jcmVhdGUgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIGdPUE5FeHQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApXG5cdCAgLCAkR09QRCAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKVxuXHQgICwgJERQICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KVxuXHQgICwgJGtleXMgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG5cdCAgLCBkUCAgICAgICAgICAgICA9ICREUC5mXG5cdCAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuXHQgICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG5cdCAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG5cdCAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuXHQgICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuXHQgICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuXHQgICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcblx0ICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcblx0ICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuXHQgICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuXHQgICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuXHQgICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3RbUFJPVE9UWVBFXVxuXHQgICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG5cdCAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuXHQvLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcblx0dmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcblx0dmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG5cdCAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBkUCh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cblx0ICB9KSkuYSAhPSA3O1xuXHR9KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuXHQgIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuXHQgIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcblx0ICBkUChpdCwga2V5LCBEKTtcblx0ICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKWRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG5cdH0gOiBkUDtcblx0XG5cdHZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcblx0ICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuXHQgIHN5bS5fayA9IHRhZztcblx0ICByZXR1cm4gc3ltO1xuXHR9O1xuXHRcblx0dmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xuXHR9IDogZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG5cdH07XG5cdFxuXHR2YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG5cdCAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG5cdCAgYW5PYmplY3QoRCk7XG5cdCAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuXHQgICAgaWYoIUQuZW51bWVyYWJsZSl7XG5cdCAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuXHQgICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcblx0ICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG5cdCAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuXHQgIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xuXHR9O1xuXHR2YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcblx0ICBhbk9iamVjdChpdCk7XG5cdCAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuXHQgICAgLCBpICAgID0gMFxuXHQgICAgLCBsID0ga2V5cy5sZW5ndGhcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblx0dmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuXHQgIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcblx0fTtcblx0dmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG5cdCAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcblx0ICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG5cdCAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcblx0ICBpdCAgPSB0b0lPYmplY3QoaXQpO1xuXHQgIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG5cdCAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcblx0ICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG5cdCAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG5cdCAgcmV0dXJuIEQ7XG5cdH07XG5cdHZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuXHQgIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuXHQgICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG5cdCAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuXHQgICAgLCBuYW1lcyAgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSlcblx0ICAgICwgcmVzdWx0ID0gW11cblx0ICAgICwgaSAgICAgID0gMFxuXHQgICAgLCBrZXk7XG5cdCAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG5cdCAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcblx0aWYoIVVTRV9OQVRJVkUpe1xuXHQgICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcblx0ICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuXHQgICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG5cdCAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0ICAgICAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8pJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuXHQgICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG5cdCAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG5cdCAgICB9O1xuXHQgICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG5cdCAgICByZXR1cm4gd3JhcCh0YWcpO1xuXHQgIH07XG5cdCAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuXHQgICAgcmV0dXJuIHRoaXMuX2s7XG5cdCAgfSk7XG5cdFxuXHQgICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXHQgICREUC5mICAgPSAkZGVmaW5lUHJvcGVydHk7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblx0XG5cdCAgaWYoREVTQ1JJUFRPUlMgJiYgIV9fd2VicGFja19yZXF1aXJlX18oNzgpKXtcblx0ICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuXHQgIH1cblx0XG5cdCAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcblx0ICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cdFxuXHRmb3IodmFyIHN5bWJvbHMgPSAoXG5cdCAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcblx0ICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG5cdCkuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcblx0ICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcblx0ICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcblx0ICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcblx0ICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG5cdCAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcblx0ICB9LFxuXHQgIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuXHQgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG5cdCAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcblx0ICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcblx0ICB9LFxuXHQgIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcblx0ICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG5cdH0pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcblx0ICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdCAgY3JlYXRlOiAkY3JlYXRlLFxuXHQgIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQgIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG5cdCAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcblx0ICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcblx0ICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG5cdCAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuXHQgIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdCAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuXHQgIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xuXHR9KTtcblx0XG5cdC8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuXHQkSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcblx0ICB2YXIgUyA9ICRTeW1ib2woKTtcblx0ICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuXHQgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuXHQgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG5cdCAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcblx0fSkpLCAnSlNPTicsIHtcblx0ICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG5cdCAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcblx0ICAgIHZhciBhcmdzID0gW2l0XVxuXHQgICAgICAsIGkgICAgPSAxXG5cdCAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcblx0ICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG5cdCAgICByZXBsYWNlciA9IGFyZ3NbMV07XG5cdCAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcblx0ICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0ICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG5cdCAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuXHQgICAgfTtcblx0ICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcblx0ICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0Ly8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuXHQkU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuXHQvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5cdHNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcblx0Ly8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuXHQvLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgTUVUQSAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSgnbWV0YScpXG5cdCAgLCBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBoYXMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBzZXREZXNjICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLmZcblx0ICAsIGlkICAgICAgID0gMDtcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0dmFyIEZSRUVaRSA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG5cdH0pO1xuXHR2YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcblx0ICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuXHQgICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcblx0ICB9fSk7XG5cdH07XG5cdHZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcblx0ICBpZighaGFzKGl0LCBNRVRBKSl7XG5cdCAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuXHQgICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG5cdCAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXHQgICAgc2V0TWV0YShpdCk7XG5cdCAgLy8gcmV0dXJuIG9iamVjdCBJRFxuXHQgIH0gcmV0dXJuIGl0W01FVEFdLmk7XG5cdH07XG5cdHZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuXHQgICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcblx0ICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfSByZXR1cm4gaXRbTUVUQV0udztcblx0fTtcblx0Ly8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG5cdHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIEtFWTogICAgICBNRVRBLFxuXHQgIE5FRUQ6ICAgICBmYWxzZSxcblx0ICBmYXN0S2V5OiAgZmFzdEtleSxcblx0ICBnZXRXZWFrOiAgZ2V0V2Vhayxcblx0ICBvbkZyZWV6ZTogb25GcmVlemVcblx0fTtcblxuLyoqKi8gfSxcbi8qIDk2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHQgICwgY29yZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCAgLCBMSUJSQVJZICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpXG5cdCAgLCB3a3NFeHQgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpXG5cdCAgLCBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpLmY7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG5cdCAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcblx0ICBpZihuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKWRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHt2YWx1ZTogd2tzRXh0LmYobmFtZSl9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2V0S2V5cyAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGluZGV4ICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcblx0dmFyIGdldEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgZ09QUyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCBwSUUgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcblx0ICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZjtcblx0ICBpZihnZXRTeW1ib2xzKXtcblx0ICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcblx0ICAgICAgLCBpc0VudW0gID0gcElFLmZcblx0ICAgICAgLCBpICAgICAgID0gMFxuXHQgICAgICAsIGtleTtcblx0ICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlyZXN1bHQucHVzaChrZXkpO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG5cdCAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBnT1BOICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSkuZlxuXHQgICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cdFxuXHR2YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuXHQgID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXHRcblx0dmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZ09QTihpdCk7XG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuXHQgIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblx0dmFyICRrZXlzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KVxuXHQgICwgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXHRcblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBwSUUgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdCAgLCBjcmVhdGVEZXNjICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCB0b0lPYmplY3QgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCB0b1ByaW1pdGl2ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBJRThfRE9NX0RFRklORSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cdFxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCl7XG5cdCAgTyA9IHRvSU9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBnT1BEKE8sIFApO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0ICBpZihoYXMoTywgUCkpcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXG5cbi8qKiovIH0sXG4vKiAxMDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oOTYpKCdhc3luY0l0ZXJhdG9yJyk7XG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oOTYpKCdvYnNlcnZhYmxlJyk7XG5cbi8qKiovIH0sXG4vKiAxMDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO1xuXHRcblx0dmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG5cdCAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG5cdCAgfVxuXHRcblx0ICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHQgICAgY29uc3RydWN0b3I6IHtcblx0ICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuXHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0ICAgICAgd3JpdGFibGU6IHRydWUsXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMTA4KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IF9fd2VicGFja19yZXF1aXJlX18oMTEwKS5zZXR9KTtcblxuLyoqKi8gfSxcbi8qIDExMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHR2YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpKEZ1bmN0aW9uLmNhbGwsIF9fd2VicGFja19yZXF1aXJlX18oMTAyKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuXHQgICAgICAgIHNldCh0ZXN0LCBbXSk7XG5cdCAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG5cdCAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuXHQgICAgICAgIGNoZWNrKE8sIHByb3RvKTtcblx0ICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuXHQgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcblx0ICAgICAgICByZXR1cm4gTztcblx0ICAgICAgfTtcblx0ICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG5cdCAgY2hlY2s6IGNoZWNrXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLk9iamVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG5cdCAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdCRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge2NyZWF0ZTogX193ZWJwYWNrX3JlcXVpcmVfXyg4Mil9KTtcblxuLyoqKi8gfSxcbi8qIDExNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBDVVJWRV9TSVpFID0gMzUwO1xuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgQ1VSVkVfU0laRTogQ1VSVkVfU0laRSxcblx0ICBDVVJWRV9QRVJDRU5UOiBDVVJWRV9TSVpFIC8gMTAwLFxuXHQgIENVUlZFX1BBRERJTkc6IDEwXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuXHQgKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cblx0KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcblx0dmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcblx0dmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblx0dmFyIGFicyA9IE1hdGguYWJzO1xuXHR2YXIgbm93ID0gRGF0ZS5ub3c7XG5cdFxuXHQvKipcblx0ICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICogQHJldHVybnMge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG5cdCAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuXHQgKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cblx0ICogQHBhcmFtIHsqfEFycmF5fSBhcmdcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdCAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICovXG5cdGZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuXHQgICAgdmFyIGk7XG5cdFxuXHQgICAgaWYgKCFvYmopIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9iai5mb3JFYWNoKSB7XG5cdCAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuXHQgICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvciAoaSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG5cdCAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG5cdCAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXHRcblx0ICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcblx0ICAgICAgICBpZiAobG9nKSB7XG5cdCAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcblx0ICovXG5cdHZhciBhc3NpZ247XG5cdGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuXHQgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG5cdCAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cdCAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXHR9IGVsc2Uge1xuXHQgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3JjXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuXHQgICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGVzdDtcblx0fSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cblx0ICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcblx0ICogQHBhcmFtIHtPYmplY3R9IGRlc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IHNyY1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG5cdH0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2Vcblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuXHQgICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG5cdCAgICAgICAgY2hpbGRQO1xuXHRcblx0ICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuXHQgICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG5cdCAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cdFxuXHQgICAgaWYgKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cblx0ICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuXHQgICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuXHQgICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWw7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuXHQgKiBAcGFyYW0geyp9IHZhbDFcblx0ICogQHBhcmFtIHsqfSB2YWwyXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuXHQgICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2Vcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG5cdCAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuXHQgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgKi9cblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuXHQgICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcblx0ICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcblx0ICogQG1ldGhvZCBoYXNQYXJlbnRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcblx0ICovXG5cdGZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcblx0ICAgIHdoaWxlIChub2RlKSB7XG5cdCAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcblx0ICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG5cdCAqL1xuXHRmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcblx0ICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBzcmNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG5cdCAqL1xuXHRmdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG5cdCAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuXHQgICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHJldHVybnMge0FycmF5fVxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BcnJheShvYmopIHtcblx0ICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuXHQgKi9cblx0ZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcblx0ICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICB2YXIgdmFsdWVzID0gW107XG5cdCAgICB2YXIgaSA9IDA7XG5cdFxuXHQgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuXHQgICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcblx0ICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHNvcnQpIHtcblx0ICAgICAgICBpZiAoIWtleSkge1xuXHQgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHRzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcblx0ICovXG5cdGZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcblx0ICAgIHZhciBwcmVmaXgsIHByb3A7XG5cdCAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXHRcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuXHQgICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcblx0ICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblx0XG5cdCAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdW5pcXVlIGlkXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG5cdCAqL1xuXHR2YXIgX3VuaXF1ZUlkID0gMTtcblx0ZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG5cdCAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG5cdCAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG5cdCAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG5cdH1cblx0XG5cdHZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cdFxuXHR2YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xuXHR2YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG5cdHZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRcblx0dmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xuXHR2YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcblx0dmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xuXHR2YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0Jztcblx0XG5cdHZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cdFxuXHR2YXIgSU5QVVRfU1RBUlQgPSAxO1xuXHR2YXIgSU5QVVRfTU9WRSA9IDI7XG5cdHZhciBJTlBVVF9FTkQgPSA0O1xuXHR2YXIgSU5QVVRfQ0FOQ0VMID0gODtcblx0XG5cdHZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG5cdHZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG5cdHZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xuXHR2YXIgRElSRUNUSU9OX1VQID0gODtcblx0dmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cdFxuXHR2YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcblx0dmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xuXHR2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXHRcblx0dmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcblx0dmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHtJbnB1dH1cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcblx0ICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0ICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXHRcblx0ICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuXHQgICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuXHQgICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcblx0ICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuXHQgICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5pbml0KCk7XG5cdFxuXHR9XG5cdFxuXHRJbnB1dC5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG5cdCAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuXHQgKiBAcmV0dXJucyB7SW5wdXR9XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcblx0ICAgIHZhciBUeXBlO1xuXHQgICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblx0XG5cdCAgICBpZiAoaW5wdXRDbGFzcykge1xuXHQgICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG5cdCAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcblx0ICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcblx0ICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuXHQgICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cdCAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblx0XG5cdCAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuXHQgICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblx0XG5cdCAgICBpZiAoaXNGaXJzdCkge1xuXHQgICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG5cdCAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcblx0ICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblx0XG5cdCAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcblx0ICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG5cdCAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblx0XG5cdCAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG5cdCAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuXHQgICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG5cdCAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcblx0ICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblx0XG5cdCAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG5cdCAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG5cdCAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG5cdCAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcblx0ICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblx0XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcblx0ICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuXHQgICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cdFxuXHQgICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cdCAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblx0XG5cdCAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG5cdCAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXHRcblx0ICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXHRcblx0ICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG5cdCAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXHRcblx0ICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuXHQgICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblx0XG5cdCAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG5cdCAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcblx0ICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG5cdCAgICB9XG5cdCAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuXHQgICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cdFxuXHQgICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG5cdCAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcblx0ICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcblx0ICAgICAgICAgICAgeDogY2VudGVyLngsXG5cdCAgICAgICAgICAgIHk6IGNlbnRlci55XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcblx0ICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuXHQgICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuXHQgICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXHRcblx0ICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG5cdCAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuXHQgICAgICAgIHZlbG9jaXR5WCA9IHYueDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG5cdCAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG5cdCAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblx0XG5cdCAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuXHQgICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcblx0ICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcblx0ICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuXHQgICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuXHQgICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuXHQgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuXHQgICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG5cdCAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcblx0ICAgIHZhciBwb2ludGVycyA9IFtdO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcblx0ICAgICAgICBwb2ludGVyc1tpXSA9IHtcblx0ICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG5cdCAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuXHQgICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcblx0ICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG5cdCAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG5cdCAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcblx0ICovXG5cdGZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuXHQgICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXHRcblx0ICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcblx0ICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuXHQgICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcblx0ICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcblx0ICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcblx0ICovXG5cdGZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG5cdCAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcblx0ICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHRcblx0ICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gcDFcblx0ICogQHBhcmFtIHtPYmplY3R9IHAyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHQgICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG5cdCAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuXHQgKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcblx0ICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcblx0ICovXG5cdGZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcblx0ICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcblx0fVxuXHRcblx0dmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcblx0ICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG5cdCAgICBtb3VzZXVwOiBJTlBVVF9FTkRcblx0fTtcblx0XG5cdHZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xuXHR2YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cdFxuXHQvKipcblx0ICogTW91c2UgZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cdFxuXHQgICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG5cdCAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG5cdCAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuXHQgICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuXHQgICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHQvLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxuXHR2YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcblx0ICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAzOiBJTlBVVF9UWVBFX1BFTixcblx0ICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG5cdCAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcblx0fTtcblx0XG5cdHZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcblx0dmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cdFxuXHQvLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcblx0aWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuXHQgICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcblx0ICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuXHQgICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG5cdH1cblx0XG5cdGluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuXHQgICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcblx0ICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblx0XG5cdCAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cdFxuXHQgICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cdCAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblx0XG5cdCAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG5cdCAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG5cdCAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3Zlcilcblx0ICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcblx0ICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuXHQgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcblx0ICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0Jztcblx0dmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBUb3VjaCBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuXHQgICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuXHQgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHRcblx0ICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG5cdCAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcblx0ICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEB0aGlzIHtUb3VjaElucHV0fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuXHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuXHQgKi9cblx0ZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuXHQgICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG5cdCAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXHRcblx0ICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcblx0fVxuXHRcblx0dmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcblx0ICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHQgICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblx0ICAgICAgICBpZiAoIXRvdWNoZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBAdGhpcyB7VG91Y2hJbnB1dH1cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cblx0ICovXG5cdGZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcblx0ICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcblx0ICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblx0XG5cdCAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuXHQgICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpLFxuXHQgICAgICAgIHRhcmdldFRvdWNoZXMsXG5cdCAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcblx0ICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuXHQgICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXHRcblx0ICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcblx0ICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuXHQgICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gY29sbGVjdCB0b3VjaGVzXG5cdCAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG5cdCAgICBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuXHQgICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG5cdCAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcblx0ICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG5cdCAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcblx0ICAgIF07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcblx0ICpcblx0ICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG5cdCAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRcblx0dmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xuXHR2YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblx0XG5cdGZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcblx0ICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXHQgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cdFxuXHQgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuXHQgICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xuXHR9XG5cdFxuXHRpbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuXHQgICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcblx0ICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cdFxuXHQgICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG5cdCAgICAgICAgaWYgKGlzVG91Y2gpIHtcblx0ICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuXHQgICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcblx0ICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuXHQgICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuXHQgICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblx0XG5cdCAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcblx0ICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuXHQgICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuXHQgICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuXHQgICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuXHQgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG5cdCAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG5cdCAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG5cdCAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0dmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG5cdHZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cdFxuXHQvLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG5cdHZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcblx0dmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcblx0dmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14Jztcblx0dmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXHRcblx0LyoqXG5cdCAqIFRvdWNoIEFjdGlvblxuXHQgKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cdCAgICB0aGlzLnNldCh2YWx1ZSk7XG5cdH1cblx0XG5cdFRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG5cdCAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuXHQgICAgICovXG5cdCAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3Ncblx0ICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cdCAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcblx0ICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3Jcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblx0XG5cdCAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG5cdCAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuXHQgICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcblx0ICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG5cdCAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cdFxuXHQgICAgICAgIGlmIChoYXNOb25lKSB7XG5cdCAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cdFxuXHQgICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuXHQgICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcblx0ICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaGFzTm9uZSB8fFxuXHQgICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcblx0ICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcblx0ICAgICAqL1xuXHQgICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcblx0ICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuXHQgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuXHQgICAgLy8gbm9uZVxuXHQgICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG5cdCAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cdFxuXHQgICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG5cdCAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcblx0ICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuXHQgICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcblx0ICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcGFuLXggT1IgcGFuLXlcblx0ICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBtYW5pcHVsYXRpb25cblx0ICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcblx0ICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuXHQgICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuXHQgICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblx0XG5cdCAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG5cdCAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuXHQgICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdG91Y2hNYXA7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG5cdCAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cblx0ICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG5cdCAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuXHQgKlxuXHQgKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG5cdCAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG5cdCAqXG5cdCAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cblx0ICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cblx0ICpcblx0ICogICAgICAgICAgICAgICBQb3NzaWJsZVxuXHQgKiAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuXHQgKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcblx0ICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuXHQgKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuXHQgKi9cblx0dmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcblx0dmFyIFNUQVRFX0JFR0FOID0gMjtcblx0dmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xuXHR2YXIgU1RBVEVfRU5ERUQgPSA4O1xuXHR2YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xuXHR2YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG5cdHZhciBTVEFURV9GQUlMRUQgPSAzMjtcblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyXG5cdCAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRmdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cdFxuXHQgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cdFxuXHQgICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblx0XG5cdCAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG5cdCAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cdFxuXHQgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXHRcblx0ICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG5cdCAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG5cdH1cblx0XG5cdFJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHt9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IG9wdGlvbnNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcblx0ICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcblx0ICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcblx0ICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcblx0ICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuXHQgICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG5cdCAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcblx0ICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cdFxuXHQgICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG5cdCAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG5cdCAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuXHQgICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuXHQgICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYW4gd2UgZW1pdD9cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuXHQgICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG5cdCAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcblx0ICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cdFxuXHQgICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuXHQgICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXHRcblx0ICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcblx0ICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHJldHVybnMge0FycmF5fVxuXHQgICAgICovXG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuXHQgICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqL1xuXHQgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG5cdCAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuXHQgICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdlbmQnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcblx0ICAgICAgICByZXR1cm4gJ21vdmUnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG5cdCAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcblx0ICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqL1xuXHRmdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG5cdCAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG5cdCAgICAgICAgcmV0dXJuICdkb3duJztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuXHQgICAgICAgIHJldHVybiAndXAnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcblx0ICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG5cdCAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuXHQgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICogQHJldHVybnMge1JlY29nbml6ZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuXHQgICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG5cdCAgICBpZiAobWFuYWdlcikge1xuXHQgICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgICAgICogQGRlZmF1bHQgMVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBvaW50ZXJzOiAxXG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuXHQgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG5cdCAgICAgKi9cblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuXHQgICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cdFxuXHQgICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcblx0ICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQYW5cblx0ICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnBYID0gbnVsbDtcblx0ICAgIHRoaXMucFkgPSBudWxsO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwYW4nLFxuXHQgICAgICAgIHRocmVzaG9sZDogMTAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdCAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuXHQgICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG5cdCAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG5cdCAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG5cdCAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuXHQgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG5cdCAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcblx0ICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdCAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0XG5cdCAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcblx0ICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQaW5jaFxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3BpbmNoJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDJcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG5cdCAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0Jztcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFByZXNzXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcblx0fVxuXHRcblx0aW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncHJlc3MnLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcblx0ICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHQgICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuXHQgICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcblx0ICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXHRcblx0ICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuXHQgICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcblx0ICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG5cdCAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUm90YXRlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3JvdGF0ZScsXG5cdCAgICAgICAgdGhyZXNob2xkOiAwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAyXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFN3aXBlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3N3aXBlJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuXHQgICAgICAgIHZlbG9jaXR5OiAwLjMsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcblx0ICAgICAgICBwb2ludGVyczogMVxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB2ZWxvY2l0eTtcblx0XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuXHQgICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcblx0ICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG5cdCAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcblx0ICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG5cdCAqIGEgc2luZ2xlIHRhcC5cblx0ICpcblx0ICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG5cdCAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG5cdCAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuXHQgICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG5cdCAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG5cdCAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblx0XG5cdCAgICB0aGlzLl90aW1lciA9IG51bGw7XG5cdCAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cdCAgICB0aGlzLmNvdW50ID0gMDtcblx0fVxuXHRcblx0aW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3RhcCcsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgdGFwczogMSxcblx0ICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuXHQgICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcblx0ICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG5cdCAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcblx0ICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG5cdCAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdFxuXHQgICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcblx0ICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cdCAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuXHQgICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblx0XG5cdCAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG5cdCAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblx0XG5cdCAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cdFxuXHQgICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG5cdCAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG5cdCAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG5cdCAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuXHQgICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG5cdCAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAY29uc3Qge3N0cmluZ31cblx0ICovXG5cdEhhbW1lci5WRVJTSU9OID0gJzIuMC43Jztcblx0XG5cdC8qKlxuXHQgKiBkZWZhdWx0IHNldHRpbmdzXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICovXG5cdEhhbW1lci5kZWZhdWx0cyA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cblx0ICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGRvbUV2ZW50czogZmFsc2UsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cblx0ICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuXHQgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcblx0ICAgICAqL1xuXHQgICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGVuYWJsZTogdHJ1ZSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcblx0ICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuXHQgICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cblx0ICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuXHQgICAgICogQGRlZmF1bHQgbnVsbFxuXHQgICAgICovXG5cdCAgICBpbnB1dFRhcmdldDogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG5cdCAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cblx0ICAgICAqIEBkZWZhdWx0IG51bGxcblx0ICAgICAqL1xuXHQgICAgaW5wdXRDbGFzczogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuXHQgICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgcHJlc2V0OiBbXG5cdCAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG5cdCAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG5cdCAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcblx0ICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuXHQgICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG5cdCAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuXHQgICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG5cdCAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cblx0ICAgIF0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuXHQgICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICovXG5cdCAgICBjc3NQcm9wczoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuXHQgICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuXHQgICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuXHQgICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBTVE9QID0gMTtcblx0dmFyIEZPUkNFRF9TVE9QID0gMjtcblx0XG5cdC8qKlxuXHQgKiBNYW5hZ2VyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXHRcblx0ICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXHRcblx0ICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblx0ICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuXHQgICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXHRcblx0ICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcblx0ICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0XG5cdCAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblx0XG5cdCAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG5cdCAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG5cdCAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuXHQgICAgfSwgdGhpcyk7XG5cdH1cblx0XG5cdE1hbmFnZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuXHQgICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG5cdCAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuXHQgICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG5cdCAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cblx0ICAgICAqL1xuXHQgICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcblx0ICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG5cdCAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG5cdCAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcblx0ICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblx0ICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXI7XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0XG5cdCAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuXHQgICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcblx0ICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblx0XG5cdCAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcblx0ICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cblx0ICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG5cdCAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblx0XG5cdCAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cblx0ICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG5cdCAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuXHQgICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cblx0ICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG5cdCAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuXHQgICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcblx0ICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuXHQgICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcblx0ICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG5cdCAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuXHQgICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cblx0ICAgICAqL1xuXHQgICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG5cdCAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG5cdCAgICAgKi9cblx0ICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZW1vdmUgZXhpc3Rpbmdcblx0ICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuXHQgICAgICAgIGlmIChleGlzdGluZykge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG5cdCAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblx0XG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2Vcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuXHQgICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdCAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGJpbmQgZXZlbnRcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcblx0ICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcblx0ICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuXHQgICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuXHQgICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgICAgICovXG5cdCAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuXHQgICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuXHQgICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcblx0ICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG5cdCAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuXHQgICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblx0XG5cdCAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG5cdCAqL1xuXHRmdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcblx0ICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb3A7XG5cdCAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG5cdCAgICAgICAgaWYgKGFkZCkge1xuXHQgICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcblx0ICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKCFhZGQpIHtcblx0ICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB0cmlnZ2VyIGRvbSBldmVudFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICovXG5cdGZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuXHQgICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHQgICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG5cdCAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG5cdH1cblx0XG5cdGFzc2lnbihIYW1tZXIsIHtcblx0ICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcblx0ICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG5cdCAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcblx0ICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXHRcblx0ICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcblx0ICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcblx0ICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG5cdCAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG5cdCAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuXHQgICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG5cdCAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblx0XG5cdCAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG5cdCAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG5cdCAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcblx0ICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuXHQgICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuXHQgICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuXHQgICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG5cdCAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXHRcblx0ICAgIE1hbmFnZXI6IE1hbmFnZXIsXG5cdCAgICBJbnB1dDogSW5wdXQsXG5cdCAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cdFxuXHQgICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcblx0ICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG5cdCAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG5cdCAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcblx0ICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cdFxuXHQgICAgUmVjb2duaXplcjogUmVjb2duaXplcixcblx0ICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcblx0ICAgIFRhcDogVGFwUmVjb2duaXplcixcblx0ICAgIFBhbjogUGFuUmVjb2duaXplcixcblx0ICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG5cdCAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuXHQgICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuXHQgICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblx0XG5cdCAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG5cdCAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuXHQgICAgZWFjaDogZWFjaCxcblx0ICAgIG1lcmdlOiBtZXJnZSxcblx0ICAgIGV4dGVuZDogZXh0ZW5kLFxuXHQgICAgYXNzaWduOiBhc3NpZ24sXG5cdCAgICBpbmhlcml0OiBpbmhlcml0LFxuXHQgICAgYmluZEZuOiBiaW5kRm4sXG5cdCAgICBwcmVmaXhlZDogcHJlZml4ZWRcblx0fSk7XG5cdFxuXHQvLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuXHQvLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cblx0dmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRmcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblx0XG5cdGlmICh0cnVlKSB7XG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIEhhbW1lcjtcblx0ICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG5cdH0gZWxzZSB7XG5cdCAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG5cdH1cblx0XG5cdH0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG4vKioqLyB9LFxuLyogMTE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsndXNlIHN0cmljdCc7XG5cdFxuXHQoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0ICBpZiAodHJ1ZSkge1xuXHQgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IChmYWN0b3J5KSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IChfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykpIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdCAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0ICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuXHQgICAgLy8gbGlrZSBOb2RlLlxuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG5cdCAgICB3aW5kb3cucHJvcGFnYXRpbmcgPSBmYWN0b3J5KCk7XG5cdCAgfVxuXHR9KGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX2ZpcnN0VGFyZ2V0ID0gbnVsbDsgLy8gc2luZ2xldG9uLCB3aWxsIGNvbnRhaW4gdGhlIHRhcmdldCBlbGVtZW50IHdoZXJlIHRoZSB0b3VjaCBldmVudCBzdGFydGVkXG5cdFxuXHQgIC8qKlxuXHQgICAqIEV4dGVuZCBhbiBIYW1tZXIuanMgaW5zdGFuY2Ugd2l0aCBldmVudCBwcm9wYWdhdGlvbi5cblx0ICAgKlxuXHQgICAqIEZlYXR1cmVzOlxuXHQgICAqIC0gRXZlbnRzIGVtaXR0ZWQgYnkgaGFtbWVyIHdpbGwgcHJvcGFnYXRlIGluIG9yZGVyIGZyb20gY2hpbGQgdG8gcGFyZW50XG5cdCAgICogICBlbGVtZW50cy5cblx0ICAgKiAtIEV2ZW50cyBhcmUgZXh0ZW5kZWQgd2l0aCBhIGZ1bmN0aW9uIGBldmVudC5zdG9wUHJvcGFnYXRpb24oKWAgdG8gc3RvcFxuXHQgICAqICAgcHJvcGFnYXRpb24gdG8gcGFyZW50IGVsZW1lbnRzLlxuXHQgICAqIC0gQW4gb3B0aW9uIGBwcmV2ZW50RGVmYXVsdGAgdG8gc3RvcCBhbGwgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuXHQgICAqXG5cdCAgICogVXNhZ2U6XG5cdCAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSk7XG5cdCAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSwge3ByZXZlbnREZWZhdWx0OiB0cnVlfSk7XG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0hhbW1lci5NYW5hZ2VyfSBoYW1tZXIgICBBbiBoYW1tZXIgaW5zdGFuY2UuXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnM6XG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBgcHJldmVudERlZmF1bHQ6IHRydWUgfCBmYWxzZSB8ICdtb3VzZScgfCAndG91Y2gnIHwgJ3BlbidgLlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZSBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5ub3QgYmUgc2V0IHRvIGBmYWxzZWAuXG5cdCAgICogQHJldHVybiB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIHNhbWUgaGFtbWVyIGluc3RhbmNlIHdpdGggZXh0ZW5kZWRcblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eVxuXHQgICAqL1xuXHQgIHJldHVybiBmdW5jdGlvbiBwcm9wYWdhdGluZyhoYW1tZXIsIG9wdGlvbnMpIHtcblx0ICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuXHQgICAgICBwcmV2ZW50RGVmYXVsdDogZmFsc2Vcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKGhhbW1lci5NYW5hZ2VyKSB7XG5cdCAgICAgIC8vIFRoaXMgbG9va3MgbGlrZSB0aGUgSGFtbWVyIGNvbnN0cnVjdG9yLlxuXHQgICAgICAvLyBPdmVybG9hZCB0aGUgY29uc3RydWN0b3JzIHdpdGggb3VyIG93bi5cblx0ICAgICAgdmFyIEhhbW1lciA9IGhhbW1lcjtcblx0XG5cdCAgICAgIHZhciBQcm9wYWdhdGluZ0hhbW1lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpO1xuXHQgICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuXHQgICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyKGVsZW1lbnQsIG8pLCBvKTtcblx0ICAgICAgfTtcblx0ICAgICAgSGFtbWVyLmFzc2lnbihQcm9wYWdhdGluZ0hhbW1lciwgSGFtbWVyKTtcblx0XG5cdCAgICAgIFByb3BhZ2F0aW5nSGFtbWVyLk1hbmFnZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbGVtZW50LCBvKSwgbyk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICByZXR1cm4gUHJvcGFnYXRpbmdIYW1tZXI7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gY3JlYXRlIGEgd3JhcHBlciBvYmplY3Qgd2hpY2ggd2lsbCBvdmVycmlkZSB0aGUgZnVuY3Rpb25zXG5cdCAgICAvLyBgb25gLCBgb2ZmYCwgYGRlc3Ryb3lgLCBhbmQgYGVtaXRgIG9mIHRoZSBoYW1tZXIgaW5zdGFuY2Vcblx0ICAgIHZhciB3cmFwcGVyID0gT2JqZWN0LmNyZWF0ZShoYW1tZXIpO1xuXHRcblx0ICAgIC8vIGF0dGFjaCB0byBET00gZWxlbWVudFxuXHQgICAgdmFyIGVsZW1lbnQgPSBoYW1tZXIuZWxlbWVudDtcblx0XG5cdCAgICBpZighZWxlbWVudC5oYW1tZXIpIGVsZW1lbnQuaGFtbWVyID0gW107XG5cdCAgICBlbGVtZW50LmhhbW1lci5wdXNoKHdyYXBwZXIpO1xuXHRcblx0ICAgIC8vIHJlZ2lzdGVyIGFuIGV2ZW50IHRvIGNhdGNoIHRoZSBzdGFydCBvZiBhIGdlc3R1cmUgYW5kIHN0b3JlIHRoZVxuXHQgICAgLy8gdGFyZ2V0IGluIGEgc2luZ2xldG9uXG5cdCAgICBoYW1tZXIub24oJ2hhbW1lci5pbnB1dCcsIGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICBpZiAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IHRydWUgfHwgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSBldmVudC5wb2ludGVyVHlwZSkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChldmVudC5pc0ZpcnN0KSB7XG5cdCAgICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICAvKiogQHR5cGUge09iamVjdC48U3RyaW5nLCBBcnJheS48ZnVuY3Rpb24+Pn0gKi9cblx0ICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIEEgY2FsbGJhY2sgZnVuY3Rpb24sIGNhbGxlZCBhcyBoYW5kbGVyKGV2ZW50KVxuXHQgICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5vbiA9IGZ1bmN0aW9uIChldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgLy8gcmVnaXN0ZXIgdGhlIGhhbmRsZXJcblx0ICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgaWYgKCFfaGFuZGxlcnMpIHtcblx0ICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycyA9IFtdO1xuXHRcblx0ICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuXHQgICAgICAgICAgaGFtbWVyLm9uKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVucmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gT3B0aW9uYWwuIFRoZSByZWdpc3RlcmVkIGhhbmRsZXIuIElmIG5vdFxuXHQgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkLCBhbGwgaGFuZGxlcnMgZm9yIGdpdmVuIGV2ZW50c1xuXHQgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSByZW1vdmVkLlxuXHQgICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSAgIFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLm9mZiA9IGZ1bmN0aW9uIChldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgLy8gdW5yZWdpc3RlciB0aGUgaGFuZGxlclxuXHQgICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICBpZiAoX2hhbmRsZXJzKSB7XG5cdCAgICAgICAgICBfaGFuZGxlcnMgPSBoYW5kbGVyID8gX2hhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuXHQgICAgICAgICAgICByZXR1cm4gaCAhPT0gaGFuZGxlcjtcblx0ICAgICAgICAgIH0pIDogW107XG5cdFxuXHQgICAgICAgICAgaWYgKF9oYW5kbGVycy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAvLyByZW1vdmUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcblx0ICAgICAgICAgICAgaGFtbWVyLm9mZihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuXHQgICAgICAgICAgICBkZWxldGUgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFbWl0IHRvIHRoZSBldmVudCBsaXN0ZW5lcnNcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcblx0ICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZlbnQpIHtcblx0ICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHQgICAgICBoYW1tZXIuZW1pdChldmVudFR5cGUsIGV2ZW50KTtcblx0ICAgIH07XG5cdFxuXHQgICAgd3JhcHBlci5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAvLyBEZXRhY2ggZnJvbSBET00gZWxlbWVudFxuXHQgICAgICB2YXIgaGFtbWVycyA9IGhhbW1lci5lbGVtZW50LmhhbW1lcjtcblx0ICAgICAgdmFyIGlkeCA9IGhhbW1lcnMuaW5kZXhPZih3cmFwcGVyKTtcblx0ICAgICAgaWYoaWR4ICE9PSAtMSkgaGFtbWVycy5zcGxpY2UoaWR4LDEpO1xuXHQgICAgICBpZighaGFtbWVycy5sZW5ndGgpIGRlbGV0ZSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cdFxuXHQgICAgICAvLyBjbGVhciBhbGwgaGFuZGxlcnNcblx0ICAgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblx0XG5cdCAgICAgIC8vIGNhbGwgb3JpZ2luYWwgaGFtbWVyIGRlc3Ryb3lcblx0ICAgICAgaGFtbWVyLmRlc3Ryb3koKTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gc3BsaXQgYSBzdHJpbmcgd2l0aCBzcGFjZSBzZXBhcmF0ZWQgd29yZHNcblx0ICAgIGZ1bmN0aW9uIHNwbGl0KGV2ZW50cykge1xuXHQgICAgICByZXR1cm4gZXZlbnRzLm1hdGNoKC9bXiBdKy9nKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEEgc3RhdGljIGV2ZW50IGhhbmRsZXIsIGFwcGx5aW5nIGV2ZW50IHByb3BhZ2F0aW9uLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG5cdCAgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZWRIYW5kbGVyKGV2ZW50KSB7XG5cdCAgICAgIC8vIGxldCBvbmx5IGEgc2luZ2xlIGhhbW1lciBpbnN0YW5jZSBoYW5kbGUgdGhpcyBldmVudFxuXHQgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2hhbW1lci5pbnB1dCcpIHtcblx0ICAgICAgICAvLyBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBzYW1lIHNyY0V2ZW50IGlzIHVzZWQgd2l0aCBtdWx0aXBsZSBoYW1tZXIgZXZlbnRzLFxuXHQgICAgICAgIC8vIHdlIGtlZXAgdHJhY2sgb24gd2hpY2ggZXZlbnRzIGFyZSBoYW5kbGVkIGluIGFuIG9iamVjdCBfaGFuZGxlZFxuXHQgICAgICAgIGlmICghZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQpIHtcblx0ICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkID0ge307XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0pIHtcblx0ICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBhdHRhY2ggYSBzdG9wUHJvcGFnYXRpb24gZnVuY3Rpb24gdG8gdGhlIGV2ZW50XG5cdCAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG5cdCAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIC8vd3JhcCB0aGUgc3JjRXZlbnQncyBzdG9wUHJvcGFnYXRpb24gdG8gYWxzbyBzdG9wIGhhbW1lciBwcm9wYWdhdGlvbjpcblx0ICAgICAgdmFyIHNyY1N0b3AgPSBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24uYmluZChldmVudC5zcmNFdmVudCk7XG5cdCAgICAgIGlmKHR5cGVvZiBzcmNTdG9wID09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgICBzcmNTdG9wKCk7XG5cdCAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGF0dGFjaCBmaXJzdFRhcmdldCBwcm9wZXJ0eSB0byB0aGUgZXZlbnRcblx0ICAgICAgZXZlbnQuZmlyc3RUYXJnZXQgPSBfZmlyc3RUYXJnZXQ7XG5cdFxuXHQgICAgICAvLyBwcm9wYWdhdGUgb3ZlciBhbGwgZWxlbWVudHMgKHVudGlsIHN0b3BwZWQpXG5cdCAgICAgIHZhciBlbGVtID0gX2ZpcnN0VGFyZ2V0O1xuXHQgICAgICB3aGlsZSAoZWxlbSAmJiAhc3RvcHBlZCkge1xuXHQgICAgICAgIHZhciBlbGVtSGFtbWVyID0gZWxlbS5oYW1tZXI7XG5cdCAgICAgICAgaWYoZWxlbUhhbW1lcil7XG5cdCAgICAgICAgICB2YXIgX2hhbmRsZXJzO1xuXHQgICAgICAgICAgZm9yKHZhciBrID0gMDsgayA8IGVsZW1IYW1tZXIubGVuZ3RoOyBrKyspe1xuXHQgICAgICAgICAgICBfaGFuZGxlcnMgPSBlbGVtSGFtbWVyW2tdLl9oYW5kbGVyc1tldmVudC50eXBlXTtcblx0ICAgICAgICAgICAgaWYoX2hhbmRsZXJzKSBmb3IgKHZhciBpID0gMDsgaSA8IF9oYW5kbGVycy5sZW5ndGggJiYgIXN0b3BwZWQ7IGkrKykge1xuXHQgICAgICAgICAgICAgIF9oYW5kbGVyc1tpXShldmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB3cmFwcGVyO1xuXHQgIH07XG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMTE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzLnBhcnNlQWN0aW9ucyA9IHBhcnNlQWN0aW9ucztcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdW5kb2FibGU7XG5cdGV4cG9ydHMuZGlzdGluY3RTdGF0ZSA9IGRpc3RpbmN0U3RhdGU7XG5cdGV4cG9ydHMuaW5jbHVkZUFjdGlvbiA9IGluY2x1ZGVBY3Rpb247XG5cdGV4cG9ydHMuaWZBY3Rpb24gPSBpZkFjdGlvbjtcblx0ZXhwb3J0cy5leGNsdWRlQWN0aW9uID0gZXhjbHVkZUFjdGlvbjtcblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXHRcblx0Ly8gZGVidWcgb3V0cHV0XG5cdHZhciBfX0RFQlVHX18gPSB1bmRlZmluZWQ7XG5cdGZ1bmN0aW9uIGRlYnVnKCkge1xuXHQgIGlmIChfX0RFQlVHX18pIHtcblx0ICAgIHZhciBfY29uc29sZTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY29uc29sZS5ncm91cCkge1xuXHQgICAgICBhcmdzLnVuc2hpZnQoJyVjcmVkdXgtdW5kbycsICdmb250LXN0eWxlOiBpdGFsaWMnKTtcblx0ICAgIH1cblx0ICAgIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJncyk7XG5cdCAgfVxuXHR9XG5cdGZ1bmN0aW9uIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSkge1xuXHQgIGlmIChfX0RFQlVHX18pIHtcblx0ICAgIHZhciBhcmdzID0gWydhY3Rpb24nLCBhY3Rpb24udHlwZV07XG5cdCAgICBpZiAoY29uc29sZS5ncm91cCkge1xuXHQgICAgICB2YXIgX2NvbnNvbGUyO1xuXHRcblx0ICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG5cdCAgICAgIChfY29uc29sZTIgPSBjb25zb2xlKS5ncm91cENvbGxhcHNlZC5hcHBseShfY29uc29sZTIsIGFyZ3MpO1xuXHQgICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQnLCB7IHN0YXRlOiBzdGF0ZSwgYWN0aW9uOiBhY3Rpb24gfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBkZWJ1Zy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBkZWJ1Z0VuZCgpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICByZXR1cm4gY29uc29sZS5ncm91cEVuZCAmJiBjb25zb2xlLmdyb3VwRW5kKCk7XG5cdCAgfVxuXHR9XG5cdC8vIC9kZWJ1ZyBvdXRwdXRcblx0XG5cdC8vIGFjdGlvbiB0eXBlc1xuXHR2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuXHQgIFVORE86ICdAQHJlZHV4LXVuZG8vVU5ETycsXG5cdCAgUkVETzogJ0BAcmVkdXgtdW5kby9SRURPJyxcblx0ICBKVU1QX1RPX0ZVVFVSRTogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX0ZVVFVSRScsXG5cdCAgSlVNUF9UT19QQVNUOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fUEFTVCdcblx0fTtcblx0Ly8gL2FjdGlvbiB0eXBlc1xuXHRcblx0Ly8gYWN0aW9uIGNyZWF0b3JzIHRvIGNoYW5nZSB0aGUgc3RhdGVcblx0dmFyIEFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5BY3Rpb25DcmVhdG9ycyA9IHtcblx0ICB1bmRvOiBmdW5jdGlvbiB1bmRvKCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuVU5ETyB9O1xuXHQgIH0sXG5cdCAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlJFRE8gfTtcblx0ICB9LFxuXHQgIGp1bXBUb0Z1dHVyZTogZnVuY3Rpb24ganVtcFRvRnV0dXJlKGluZGV4KSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRSwgaW5kZXg6IGluZGV4IH07XG5cdCAgfSxcblx0ICBqdW1wVG9QYXN0OiBmdW5jdGlvbiBqdW1wVG9QYXN0KGluZGV4KSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsIGluZGV4OiBpbmRleCB9O1xuXHQgIH1cblx0fTtcblx0Ly8gL2FjdGlvbiBjcmVhdG9yc1xuXHRcblx0Ly8gbGVuZ3RoOiBnZXQgbGVuZ3RoIG9mIGhpc3Rvcnlcblx0ZnVuY3Rpb24gbGVuZ3RoKGhpc3RvcnkpIHtcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHQgIHJldHVybiBwYXN0Lmxlbmd0aCArIDEgKyBmdXR1cmUubGVuZ3RoO1xuXHR9XG5cdC8vIC9sZW5ndGhcblx0XG5cdC8vIGluc2VydDogaW5zZXJ0IGBzdGF0ZWAgaW50byBoaXN0b3J5LCB3aGljaCBtZWFucyBhZGRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcblx0Ly8gICAgICAgICBpbnRvIGBwYXN0YCwgc2V0dGluZyB0aGUgbmV3IGBzdGF0ZWAgYXMgYHByZXNlbnRgIGFuZCBlcmFzaW5nXG5cdC8vICAgICAgICAgdGhlIGBmdXR1cmVgLlxuXHRmdW5jdGlvbiBpbnNlcnQoaGlzdG9yeSwgc3RhdGUsIGxpbWl0KSB7XG5cdCAgZGVidWcoJ2luc2VydCcsIHsgc3RhdGU6IHN0YXRlLCBoaXN0b3J5OiBoaXN0b3J5LCBmcmVlOiBsaW1pdCAtIGxlbmd0aChoaXN0b3J5KSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdFxuXHQgIHZhciBoaXN0b3J5T3ZlcmZsb3cgPSBsaW1pdCAmJiBsZW5ndGgoaGlzdG9yeSkgPj0gbGltaXQ7XG5cdFxuXHQgIGlmIChwcmVzZW50ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIC8vIGluaXQgaGlzdG9yeVxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcGFzdDogW10sXG5cdCAgICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgICBmdXR1cmU6IFtdXG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdC5zbGljZShoaXN0b3J5T3ZlcmZsb3cgPyAxIDogMCkpLCBbcHJlc2VudF0pLFxuXHQgICAgcHJlc2VudDogc3RhdGUsXG5cdCAgICBmdXR1cmU6IFtdXG5cdCAgfTtcblx0fVxuXHQvLyAvaW5zZXJ0XG5cdFxuXHQvLyB1bmRvOiBnbyBiYWNrIHRvIHRoZSBwcmV2aW91cyBwb2ludCBpbiBoaXN0b3J5XG5cdGZ1bmN0aW9uIHVuZG8oaGlzdG9yeSkge1xuXHQgIGRlYnVnKCd1bmRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICBpZiAocGFzdC5sZW5ndGggPD0gMCkgcmV0dXJuIGhpc3Rvcnk7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIHBhc3QubGVuZ3RoIC0gMSksIC8vIHJlbW92ZSBsYXN0IGVsZW1lbnQgZnJvbSBwYXN0XG5cdCAgICBwcmVzZW50OiBwYXN0W3Bhc3QubGVuZ3RoIC0gMV0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG5cdCAgICBmdXR1cmU6IFtwcmVzZW50XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZ1dHVyZSkpXG5cdCAgfTtcblx0fVxuXHQvLyAvdW5kb1xuXHRcblx0Ly8gcmVkbzogZ28gdG8gdGhlIG5leHQgcG9pbnQgaW4gaGlzdG9yeVxuXHRmdW5jdGlvbiByZWRvKGhpc3RvcnkpIHtcblx0ICBkZWJ1ZygncmVkbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgaWYgKGZ1dHVyZS5sZW5ndGggPD0gMCkgcmV0dXJuIGhpc3Rvcnk7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBmdXR1cmU6IGZ1dHVyZS5zbGljZSgxLCBmdXR1cmUubGVuZ3RoKSwgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBmdXR1cmVcblx0ICAgIHByZXNlbnQ6IGZ1dHVyZVswXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcblx0ICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdCksIFtwcmVzZW50IC8vIG9sZCBwcmVzZW50IHN0YXRlIGlzIGluIHRoZSBwYXN0IG5vd1xuXHQgICAgXSlcblx0ICB9O1xuXHR9XG5cdC8vIC9yZWRvXG5cdFxuXHQvLyBqdW1wVG9GdXR1cmU6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIGZ1dHVyZSBoaXN0b3J5XG5cdGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShoaXN0b3J5LCBpbmRleCkge1xuXHQgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuIHJlZG8oaGlzdG9yeSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBmdXR1cmU6IGZ1dHVyZS5zbGljZShpbmRleCArIDEpLFxuXHQgICAgcHJlc2VudDogZnV0dXJlW2luZGV4XSxcblx0ICAgIHBhc3Q6IHBhc3QuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZS5zbGljZSgwLCBpbmRleCkpXG5cdCAgfTtcblx0fVxuXHQvLyAvanVtcFRvRnV0dXJlXG5cdFxuXHQvLyBqdW1wVG9QYXN0OiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBwYXN0IGhpc3Rvcnlcblx0ZnVuY3Rpb24ganVtcFRvUGFzdChoaXN0b3J5LCBpbmRleCkge1xuXHQgIGlmIChpbmRleCA9PT0gaGlzdG9yeS5wYXN0Lmxlbmd0aCAtIDEpIHJldHVybiB1bmRvKGhpc3RvcnkpO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBwYXN0LnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZSksXG5cdCAgICBwcmVzZW50OiBwYXN0W2luZGV4XSxcblx0ICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgaW5kZXgpXG5cdCAgfTtcblx0fVxuXHQvLyAvanVtcFRvUGFzdFxuXHRcblx0Ly8gd3JhcFN0YXRlOiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG8gMC40XG5cdGZ1bmN0aW9uIHdyYXBTdGF0ZShzdGF0ZSkge1xuXHQgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcblx0ICAgIGhpc3Rvcnk6IHN0YXRlXG5cdCAgfSk7XG5cdH1cblx0Ly8gL3dyYXBTdGF0ZVxuXHRcblx0Ly8gdXBkYXRlU3RhdGVcblx0ZnVuY3Rpb24gdXBkYXRlU3RhdGUoc3RhdGUsIGhpc3RvcnkpIHtcblx0ICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgaGlzdG9yeSkpO1xuXHR9XG5cdC8vIC91cGRhdGVTdGF0ZVxuXHRcblx0Ly8gY3JlYXRlSGlzdG9yeVxuXHRmdW5jdGlvbiBjcmVhdGVIaXN0b3J5KHN0YXRlKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHBhc3Q6IFtdLFxuXHQgICAgcHJlc2VudDogc3RhdGUsXG5cdCAgICBmdXR1cmU6IFtdXG5cdCAgfTtcblx0fVxuXHQvLyAvY3JlYXRlSGlzdG9yeVxuXHRcblx0Ly8gcGFyc2VBY3Rpb25zXG5cdGZ1bmN0aW9uIHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKSB7XG5cdCAgdmFyIGRlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICBpZiAoQXJyYXkuaXNBcnJheShyYXdBY3Rpb25zKSkge1xuXHQgICAgcmV0dXJuIHJhd0FjdGlvbnM7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgcmF3QWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBbcmF3QWN0aW9uc107XG5cdCAgfVxuXHQgIHJldHVybiBkZWZhdWx0VmFsdWU7XG5cdH1cblx0Ly8gL3BhcnNlQWN0aW9uc1xuXHRcblx0Ly8gcmVkdXgtdW5kbyBoaWdoZXIgb3JkZXIgcmVkdWNlclxuXHRmdW5jdGlvbiB1bmRvYWJsZShyZWR1Y2VyKSB7XG5cdCAgdmFyIHJhd0NvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICBfX0RFQlVHX18gPSByYXdDb25maWcuZGVidWc7XG5cdFxuXHQgIHZhciBjb25maWcgPSB7XG5cdCAgICBpbml0aWFsU3RhdGU6IHJhd0NvbmZpZy5pbml0aWFsU3RhdGUsXG5cdCAgICBpbml0VHlwZXM6IHBhcnNlQWN0aW9ucyhyYXdDb25maWcuaW5pdFR5cGVzLCBbJ0BAcmVkdXgvSU5JVCcsICdAQElOSVQnXSksXG5cdCAgICBsaW1pdDogcmF3Q29uZmlnLmxpbWl0LFxuXHQgICAgZmlsdGVyOiByYXdDb25maWcuZmlsdGVyIHx8IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9LFxuXHQgICAgdW5kb1R5cGU6IHJhd0NvbmZpZy51bmRvVHlwZSB8fCBBY3Rpb25UeXBlcy5VTkRPLFxuXHQgICAgcmVkb1R5cGU6IHJhd0NvbmZpZy5yZWRvVHlwZSB8fCBBY3Rpb25UeXBlcy5SRURPLFxuXHQgICAganVtcFRvUGFzdFR5cGU6IHJhd0NvbmZpZy5qdW1wVG9QYXN0VHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsXG5cdCAgICBqdW1wVG9GdXR1cmVUeXBlOiByYXdDb25maWcuanVtcFRvRnV0dXJlVHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRVxuXHQgIH07XG5cdCAgY29uZmlnLmhpc3RvcnkgPSByYXdDb25maWcuaW5pdGlhbEhpc3RvcnkgfHwgY3JlYXRlSGlzdG9yeShjb25maWcuaW5pdGlhbFN0YXRlKTtcblx0XG5cdCAgaWYgKGNvbmZpZy5pbml0VHlwZXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICBjb25zb2xlLndhcm4oJ3JlZHV4LXVuZG86IHN1cHBseSBhdCBsZWFzdCBvbmUgYWN0aW9uIHR5cGUgaW4gaW5pdFR5cGVzIHRvIGVuc3VyZSBpbml0aWFsIHN0YXRlJyk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcblx0ICAgIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSk7XG5cdCAgICB2YXIgcmVzID0gdW5kZWZpbmVkO1xuXHQgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgICBjYXNlIGNvbmZpZy51bmRvVHlwZTpcblx0ICAgICAgICByZXMgPSB1bmRvKHN0YXRlKTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgdW5kbycsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLnJlZG9UeXBlOlxuXHQgICAgICAgIHJlcyA9IHJlZG8oc3RhdGUpO1xuXHQgICAgICAgIGRlYnVnKCdhZnRlciByZWRvJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgY2FzZSBjb25maWcuanVtcFRvUGFzdFR5cGU6XG5cdCAgICAgICAgcmVzID0ganVtcFRvUGFzdChzdGF0ZSwgYWN0aW9uLmluZGV4KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvUGFzdCcsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLmp1bXBUb0Z1dHVyZVR5cGU6XG5cdCAgICAgICAgcmVzID0ganVtcFRvRnV0dXJlKHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuXHQgICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9GdXR1cmUnLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJlcyA9IHJlZHVjZXIoc3RhdGUgJiYgc3RhdGUucHJlc2VudCwgYWN0aW9uKTtcblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5pbml0VHlwZXMuc29tZShmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuXHQgICAgICAgICAgcmV0dXJuIGFjdGlvblR5cGUgPT09IGFjdGlvbi50eXBlO1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICBkZWJ1ZygncmVzZXQgaGlzdG9yeSBkdWUgdG8gaW5pdCBhY3Rpb24nKTtcblx0ICAgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgY3JlYXRlSGlzdG9yeShyZXMpKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoY29uZmlnLmZpbHRlciAmJiB0eXBlb2YgY29uZmlnLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgaWYgKCFjb25maWcuZmlsdGVyKGFjdGlvbiwgcmVzLCBzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50KSkge1xuXHQgICAgICAgICAgICBkZWJ1ZygnZmlsdGVyIHByZXZlbnRlZCBhY3Rpb24sIG5vdCBzdG9yaW5nIGl0Jyk7XG5cdCAgICAgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgcHJlc2VudDogcmVzXG5cdCAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBoaXN0b3J5ID0gc3RhdGUgJiYgc3RhdGUucHJlc2VudCAhPT0gdW5kZWZpbmVkID8gc3RhdGUgOiBjb25maWcuaGlzdG9yeTtcblx0ICAgICAgICB2YXIgdXBkYXRlZEhpc3RvcnkgPSBpbnNlcnQoaGlzdG9yeSwgcmVzLCBjb25maWcubGltaXQpO1xuXHQgICAgICAgIGRlYnVnKCdhZnRlciBpbnNlcnQnLCB7IGhpc3Rvcnk6IHVwZGF0ZWRIaXN0b3J5LCBmcmVlOiBjb25maWcubGltaXQgLSBsZW5ndGgodXBkYXRlZEhpc3RvcnkpIH0pO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdFxuXHQgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB1cGRhdGVkSGlzdG9yeSkpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0Ly8gL3JlZHV4LXVuZG9cblx0XG5cdC8vIGRpc3RpbmN0U3RhdGUgaGVscGVyXG5cdGZ1bmN0aW9uIGRpc3RpbmN0U3RhdGUoKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIGN1cnJlbnRTdGF0ZSwgcHJldmlvdXNTdGF0ZSkge1xuXHQgICAgcmV0dXJuIGN1cnJlbnRTdGF0ZSAhPT0gcHJldmlvdXNTdGF0ZTtcblx0ICB9O1xuXHR9XG5cdC8vIC9kaXN0aW5jdFN0YXRlXG5cdFxuXHQvLyBpbmNsdWRlQWN0aW9uIGhlbHBlclxuXHRmdW5jdGlvbiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpIHtcblx0ICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuXHQgICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMDtcblx0ICB9O1xuXHR9XG5cdC8vIC9pbmNsdWRlQWN0aW9uXG5cdFxuXHQvLyBkZXByZWNhdGVkIGlmQWN0aW9uIGhlbHBlclxuXHRmdW5jdGlvbiBpZkFjdGlvbihyYXdBY3Rpb25zKSB7XG5cdCAgY29uc29sZS5lcnJvcignRGVwcmVjYXRpb24gV2FybmluZzogUGxlYXNlIGNoYW5nZSBgaWZBY3Rpb25gIHRvIGBpbmNsdWRlQWN0aW9uYCcpO1xuXHQgIHJldHVybiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpO1xuXHR9XG5cdC8vIC9pZkFjdGlvblxuXHRcblx0Ly8gZXhjbHVkZUFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gZXhjbHVkZUFjdGlvbigpIHtcblx0ICB2YXIgcmF3QWN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuXHQgICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPCAwO1xuXHQgIH07XG5cdH1cblx0Ly8gL2V4Y2x1ZGVBY3Rpb25cblxuLyoqKi8gfSxcbi8qIDExOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2N1cnZlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcblx0dmFyIF9jdXJ2ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3JSaWdodCA9IGZ1bmN0aW9uIEN1cnZlRWRpdG9yUmlnaHQoX3JlZikge1xuXHQgICAgICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0ICAgICAgICAgIHZhciBwcm9ncmVzc0xpbmVzID0gX3JlZi5wcm9ncmVzc0xpbmVzO1xuXHRcblx0ICAgICAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yaWdodCddIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSwgcHJvZ3Jlc3NMaW5lczogcHJvZ3Jlc3NMaW5lcyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdyaWdodCcsIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAnYm90dG9tJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KVxuXHQgICAgICAgICAgKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yUmlnaHQ7XG5cbi8qKiovIH0sXG4vKiAxMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ2xlVG9Qb2ludCk7XG5cdFxuXHR2YXIgX3Byb2dyZXNzTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb2dyZXNzTGluZSk7XG5cdFxuXHR2YXIgX3BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO1xuXHRcblx0dmFyIF9wb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludCk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM2KTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHR2YXIgQ3VydmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEN1cnZlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ3VydmUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDdXJ2ZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDdXJ2ZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDdXJ2ZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgcGF0aCA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnBhdGg7XG5cdCAgICAgIHZhciBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cdCAgICAgIHZhciBwb2ludHMgPSB0aGlzLl9yZW5kZXJQb2ludHMoc3RhdGUpO1xuXHQgICAgICB2YXIgc2VnbWVudHMgPSB0aGlzLl9yZW5kZXJTZWdtZW50cyhzdGF0ZSk7XG5cdCAgICAgIHZhciBwcm9ncmVzc0xpbmVzID0gdGhpcy5fcmVuZGVyUHJvZ3Jlc3NMaW5lcyhzdGF0ZSk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlJ10gfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBpZDogJ2pzLWJhY2tncm91bmQnLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fYmFja2dyb3VuZCddLFxuXHQgICAgICAgICAgc3R5bGU6IHN0eWxlcy5iYWNrZ3JvdW5kIH0pLFxuXHQgICAgICAgIHByb2dyZXNzTGluZXMsXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXSxcblx0ICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy50cmFuc2Zvcm0gfSxcblx0ICAgICAgICAgIHBvaW50cyxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAnc3ZnJyxcblx0ICAgICAgICAgICAgeyBoZWlnaHQ6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSxcblx0ICAgICAgICAgICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnLFxuXHQgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdub25lJyxcblx0ICAgICAgICAgICAgICBpZDogJ2pzLXN2ZycsXG5cdCAgICAgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snY3VydmVfX3N2ZyddIH0sXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKCdwYXRoJywgeyBkOiBwYXRoLFxuXHQgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxuXHQgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6ICcwLjM1Jyxcblx0ICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzQnLFxuXHQgICAgICAgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC43NSwuNzUpJyxcblx0ICAgICAgICAgICAgICBmaWxsOiAnbm9uZScgfSksXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAgICdnJyxcblx0ICAgICAgICAgICAgICB7IGlkOiAnanMtc2VnbWVudHMnIH0sXG5cdCAgICAgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgICAgIHNlZ21lbnRzLFxuXHQgICAgICAgICAgICAgICcgJ1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB0ZW1wX3RvcCA9IHJlc2l6ZS50ZW1wX3RvcDtcblx0ICAgICAgdmFyIHRlbXBfcmlnaHQgPSByZXNpemUudGVtcF9yaWdodDtcblx0XG5cdFxuXHQgICAgICB0ZW1wX3RvcCArPSByZXNpemUudG9wO1xuXHQgICAgICB0ZW1wX3JpZ2h0ICs9IHJlc2l6ZS5yaWdodDtcblx0XG5cdCAgICAgIGlmIChfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgLSB0ZW1wX3RvcCA8IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSkge1xuXHQgICAgICAgIHRlbXBfdG9wID0gMDtcblx0ICAgICAgfVxuXHQgICAgICB0ZW1wX3RvcCA9ICgwLCBfcmVzaXplTW9kMi5kZWZhdWx0KSh0ZW1wX3RvcCwgLTEpO1xuXHRcblx0ICAgICAgdmFyIHNjYWxlID0gJ3RyYW5zZm9ybTogc2NhbGVYKCcgKyAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgTWF0aC5tYXgodGVtcF9yaWdodCwgMCkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgJyknLFxuXHQgICAgICAgICAgYmdUcmFuc2Zvcm0gPSAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgc2NhbGUgKyAnOyAnICsgc2NhbGUgKyAnOycsXG5cdCAgICAgICAgICBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQtcG9zaXRpb246IDAgJyArICgtdGVtcF90b3AgLSAxKSArICdweDsgJyArIGJnVHJhbnNmb3JtLFxuXHQgICAgICAgICAgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKDBweCwgJyArIC10ZW1wX3RvcCArICdweCknO1xuXHRcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICBiYWNrZ3JvdW5kOiBiYWNrZ3JvdW5kLFxuXHQgICAgICAgIHRyYW5zZm9ybTogJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOydcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfcmVuZGVyUG9pbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyUG9pbnRzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQucG9pbnRzLFxuXHQgICAgICAgICAgcG9pbnRzID0gW10sXG5cdCAgICAgICAgICBsZW4gPSBwb2ludHNEYXRhLmxlbmd0aDtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBwb2ludHMucHVzaCgoMCwgX3ByZWFjdC5oKShfcG9pbnQyLmRlZmF1bHQsIHsgcG9pbnQ6IHBvaW50c0RhdGFbaV0sIHN0YXRlOiBzdGF0ZSwgaW5kZXg6IGksIHBvaW50c0NvdW50OiBsZW4gfSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19yZW5kZXJTZWdtZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclNlZ21lbnRzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBzZWdtZW50cyA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnNlZ21lbnRzO1xuXHQgICAgICB2YXIgZG9tU2VnbWVudHMgPSBbXTtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuXHQgICAgICAgIGRvbVNlZ21lbnRzLnB1c2goKDAsIF9wcmVhY3QuaCkoJ3BhdGgnLCB7IGQ6IHNlZ21lbnQuc2VnbWVudFN0cmluZyxcblx0ICAgICAgICAgICdkYXRhLWluZGV4Jzogc2VnbWVudC5pbmRleCxcblx0ICAgICAgICAgIHN0cm9rZTogJ3doaXRlJyxcblx0ICAgICAgICAgIGZpbGw6ICdub25lJyxcblx0ICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAnJyxcblx0ICAgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXVxuXHQgICAgICAgIH0pKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGRvbVNlZ21lbnRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19yZW5kZXJQcm9ncmVzc0xpbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyUHJvZ3Jlc3NMaW5lcyhzdGF0ZSkge1xuXHQgICAgICB2YXIgcHJvZ3Jlc3NMaW5lcyA9IHN0YXRlLnByb2dyZXNzTGluZXM7XG5cdCAgICAgIHZhciBsaW5lcyA9IHByb2dyZXNzTGluZXMubGluZXM7XG5cdCAgICAgIHZhciByZW5kZXJlZExpbmVzID0gW107XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuXHQgICAgICAgIHJlbmRlcmVkTGluZXMucHVzaCgoMCwgX3ByZWFjdC5oKShfcHJvZ3Jlc3NMaW5lMi5kZWZhdWx0LCBsaW5lKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiByZW5kZXJlZExpbmVzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ191cGRhdGVEb21Qcm9ncmVzc0xpbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlRG9tUHJvZ3Jlc3NMaW5lcygpIHtcblx0ICAgICAgdmFyIHByb2dyZXNzTGluZXMgPSB0aGlzLnByb3BzLnByb2dyZXNzTGluZXM7XG5cdCAgICAgIC8vIERPIE5PVCBNVVRBVEUgVEhFIEFSUkFZIFRPIFBSRVZFTlQgTE9PU0lORyBUSEUgTElOSyBUTyBJVFxuXHRcblx0ICAgICAgcHJvZ3Jlc3NMaW5lcy5sZW5ndGggPSAwO1xuXHRcblx0ICAgICAgdmFyIGxpbmVzID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWNvbXBvbmVudD1cInByb2dyZXNzLWxpbmVcIl0nKTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHByb2dyZXNzTGluZXNbaV0gPSBsaW5lc1tpXTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIF9yZW5kZXJTZWdtZW50ICggaW5kZXgsIHN0cmluZykge1xuXHQgICAgLy8gICByZXR1cm4gPHBhdGhcblx0ICAgIC8vICAgICAgICAgICBkPXtzdHJpbmd9XG5cdCAgICAvLyAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XG5cdCAgICAvLyAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuXHQgICAgLy8gICAgICAgICAgIGZpbGw9XCJub25lXCJcblx0ICAgIC8vICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuXHQgICAgLy8gICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuXHQgICAgLy8gICAgICAgICAgIGNsYXNzPXtDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXX1cblx0ICAgIC8vICAgICAgICAgICAvPjtcblx0ICAgIC8vIH1cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAgIHRoaXMuX3VwZGF0ZURvbVByb2dyZXNzTGluZXMoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHRoaXMuX3VwZGF0ZURvbVByb2dyZXNzTGluZXMoKTtcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1zZWdtZW50cycpO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihlbCkpO1xuXHRcblx0ICAgICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgbWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIGV2ID0gZS5zcmNFdmVudCxcblx0ICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuXHQgICAgICAgIC8vIGhhbmRsZSBwYXRocyBvbmx5XG5cdCAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJykge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgICAgIHZhciB4ID0gZXYub2Zmc2V0WCxcblx0ICAgICAgICAgICAgeSA9IGV2Lm9mZnNldFkgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsXG5cdCAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKSArIDE7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9BREQnLFxuXHQgICAgICAgICAgZGF0YTogeyBwb2ludDogeyB4OiB4LCB5OiB5IH0sIGluZGV4OiBpbmRleCB9LFxuXHQgICAgICAgICAgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7IGluZGV4OiBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIHN2ZyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG5cdCAgICAgICAgICBzdmdNYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXHRcblx0ICAgICAgc3ZnTWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgc3ZnTWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZTtcblxuLyoqKi8gfSxcbi8qIDEyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhbmdsZSwgcmFkaXVzKSB7XG5cdCAgcmV0dXJuIG1vanMuaC5nZXRSYWRpYWxQb2ludCh7IGFuZ2xlOiBhbmdsZSwgcmFkaXVzOiByYWRpdXMsIGNlbnRlcjogeyB4OiAwLCB5OiAwIH0gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMjIpO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcblx0XG5cdHZhciBQcm9ncmVzc0xpbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFByb2dyZXNzTGluZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFByb2dyZXNzTGluZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb2dyZXNzTGluZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQcm9ncmVzc0xpbmUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvZ3Jlc3NMaW5lLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBwID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHN0eWxlID0geyBiYWNrZ3JvdW5kQ29sb3I6IHAuY29sb3IgfTtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncHJvZ3Jlc3MtbGluZSddLFxuXHQgICAgICAgIHN0eWxlOiBzdHlsZSxcblx0ICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAncHJvZ3Jlc3MtbGluZScgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9ncmVzc0xpbmU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvZ3Jlc3NMaW5lO1xuXG4vKioqLyB9LFxuLyogMTIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMjMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wcm9ncmVzcy1saW5lXzFqNHBwXzN7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7d2lkdGg6MXB4O21hcmdpbi1sZWZ0Oi0xLjVweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBtZW1vO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdH0pLFxyXG5cdFx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdFx0fSksXHJcblx0XHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRcdGlmKGZhbHNlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblx0XHJcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHRcclxuXHRcdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cdFxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHJcblx0XHRpZihvbGRTcmMpXHJcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInByb2dyZXNzLWxpbmVcIjogXCJfcHJvZ3Jlc3MtbGluZV8xajRwcF8zXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG5cdFxuXHR2YXIgX2FkZFBvaW50ZXJEb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZFBvaW50ZXJEb3duKTtcblx0XG5cdHZhciBfbGl0dGxlSGFuZGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpO1xuXHRcblx0dmFyIF9saXR0bGVIYW5kbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGl0dGxlSGFuZGxlKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdHZhciBfcm91bmRUbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0XG5cdHZhciBfcm91bmRUbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3VuZFRvKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfY2xhbXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFxuXHR2YXIgX2NsYW1wMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYW1wKTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplTW9kKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIFBvaW50ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShQb2ludCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBvaW50KCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9pbnQpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9pbnQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9pbnQsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBwb2ludCA9IF9wcm9wcy5wb2ludDtcblx0ICAgICAgdmFyIHN0YXRlID0gX3Byb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgc2VsZWN0ZWQgPSBwb2ludC5pc1NlbGVjdGVkID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnO1xuXHQgICAgICB2YXIgaGFuZGxlcyA9IHBvaW50LnR5cGUgPT09ICdzdHJhaWdodCcgPyBDTEFTU0VTWydpcy1oaWRlLWhhbmRsZXMnXSA6ICcnO1xuXHRcblx0ICAgICAgdmFyIGxpdHRsZUhhbmRsZXMgPSB0aGlzLl9nZXRMaXR0bGVIYW5kbGVzKCk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ3BvaW50J10gKyAnICcgKyBzZWxlY3RlZCArICcgJyArIGhhbmRsZXMsXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0U3R5bGUoc3RhdGUpLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ3BvaW50JyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncG9pbnRfX3RvdWNoJ10sIGlkOiAnanMtcG9pbnQtdG91Y2gnIH0pLFxuXHQgICAgICAgIGxpdHRsZUhhbmRsZXNcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgcG9pbnQgPSB0aGlzLnByb3BzLnBvaW50O1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgeCA9ICgwLCBfY2xhbXAyLmRlZmF1bHQpKHBvaW50LnggKyBwb2ludC50ZW1wWCwgMCwgMTAwKTtcblx0ICAgICAgdmFyIGNsZWFuWCA9IHggKiByZXNpemUuc2NhbGVyWDtcblx0ICAgICAgdmFyIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFk7XG5cdFxuXHQgICAgICAvLyBjb25zb2xlLmxvZyhwb2ludCk7XG5cdFxuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyBjbGVhblggKyAncHgsICcgKyAoeSAtIDEpICsgJ3B4KSc7XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TGl0dGxlSGFuZGxlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldExpdHRsZUhhbmRsZXMoKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMi5wb2ludDtcblx0ICAgICAgdmFyIHBvaW50c0NvdW50ID0gX3Byb3BzMi5wb2ludHNDb3VudDtcblx0ICAgICAgdmFyIGhhbmRsZXMgPSBbXTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTEgZm9yIHN0YXJ0IHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSAwICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMSwgcG9pbnQpKTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuXHQgICAgICBpbmRleCAhPT0gcG9pbnRzQ291bnQgLSAxICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMiwgcG9pbnQpKTtcblx0ICAgICAgcmV0dXJuIGhhbmRsZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2NyZWF0ZUhhbmRsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUhhbmRsZShpbmRleCwgcG9pbnQpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKF9saXR0bGVIYW5kbGUyLmRlZmF1bHQsIHtcblx0ICAgICAgICBpbmRleDogaW5kZXgsXG5cdCAgICAgICAgc3RhdGU6IHRoaXMucHJvcHMuc3RhdGUsXG5cdCAgICAgICAgcGFyZW50SW5kZXg6IHRoaXMucHJvcHMuaW5kZXgsXG5cdCAgICAgICAgaGFuZGxlOiBwb2ludFsnaGFuZGxlJyArIGluZGV4XSxcblx0ICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgdmFyIGdldFRlbXBYID0gZnVuY3Rpb24gZ2V0VGVtcFgoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHMzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczMucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMy5pbmRleDtcblx0ICAgICAgICAvLyBpZiBwb2ludCBpcyBub3QgbG9ja2VkIHRvIHggYXhlcyAtPlxuXHQgICAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSByZWdhcmRpbmcgc2NhbGVyXG5cdFxuXHQgICAgICAgIGlmIChwb2ludC5pc0xvY2tlZFgpIHtcblx0ICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVggLyByZXNpemUuc2NhbGVyWDtcblx0ICAgICAgICBpZiAocG9pbnQueCArIHggPCAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfSBlbHNlIGlmIChwb2ludC54ICsgeCA+IDEwMCkge1xuXHQgICAgICAgICAgcmV0dXJuIDEwMCAtIHBvaW50Lng7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHBvaW50LnggKyB4LCA1LCAxLjUpIC0gcG9pbnQueDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBnZXRZID0gZnVuY3Rpb24gZ2V0WShlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczQgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNC5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM0LmluZGV4O1xuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBjbGFtcCB5IHRvIHRoZSBzaXplIG9mIGN1cnZlXG5cdCAgICAgICAgcmV0dXJuICgwLCBfY2xhbXAyLmRlZmF1bHQpKHksIHJlc2l6ZS50b3AsIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy8gZ2V0IHkgZGVsdGEgcmVhZ2FyZGluZyBjdXJ2ZSBib3VuZHNcblx0ICAgICAgdmFyIGdldFRlbXBZID0gZnVuY3Rpb24gZ2V0VGVtcFkoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHM1ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczUucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNS5pbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciB5ID0gcG9pbnQueSArIGUuZGVsdGFZLFxuXHQgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHk7XG5cdFxuXHQgICAgICAgIGlmICh5IDwgcmVzaXplLnRvcCkge1xuXHQgICAgICAgICAgcmV0dXJuVmFsdWUgPSByZXNpemUudG9wO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoeSA+IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20pIHtcblx0ICAgICAgICAgIHJldHVyblZhbHVlID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX3JvdW5kVG8yLmRlZmF1bHQpKHJldHVyblZhbHVlLCA1ICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULCAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UKSAtIHBvaW50Lnk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXBvaW50LXRvdWNoJyksXG5cdCAgICAgICAgICBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKGVsKSk7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHRcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczYgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNi5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM2LmluZGV4O1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFJyxcblx0ICAgICAgICAgIGRhdGE6IHsgeDogZ2V0VGVtcFgoZSksIHk6IGdldFRlbXBZKGUpLCBpbmRleDogaW5kZXggfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHM3ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczcucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNy5pbmRleDtcblx0ICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEVfRU5EJywgZGF0YTogaW5kZXgsIGlzUmVjb3JkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAoMCwgX2FkZFBvaW50ZXJEb3duMi5kZWZhdWx0KShlbCwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzOCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM4LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczguaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAgICAgZGF0YToge1xuXHQgICAgICAgICAgICBpbmRleDogaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNoaWZ0S2V5LFxuXHQgICAgICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gUG9pbnQ7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUG9pbnQ7XG5cbi8qKiovIH0sXG4vKiAxMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGVsLCBmbikge1xuXHQgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ01TUG9pbnRlckRvd24nLCBmbik7XG5cdCAgfSBlbHNlIGlmICh3aW5kb3cub250b3VjaHN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmbik7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmbik7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZuKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ2xlVG9Qb2ludCk7XG5cdFxuXHR2YXIgX3BvaW50VG9BbmdsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcblx0XG5cdHZhciBfcG9pbnRUb0FuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50VG9BbmdsZSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0XG5cdHZhciBMaXR0bGVIYW5kbGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKExpdHRsZUhhbmRsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIExpdHRsZUhhbmRsZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIExpdHRsZUhhbmRsZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShMaXR0bGVIYW5kbGUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoTGl0dGxlSGFuZGxlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIC8vIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGUnXSxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdsaXR0bGUtaGFuZGxlJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10sXG5cdCAgICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRQb2ludFN0eWxlKCkgfSxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaCddIH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fbGluZSddLFxuXHQgICAgICAgICAgc3R5bGU6IHRoaXMuX2dldExpbmVTdHlsZSgpIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIodGhpcy5iYXNlKSk7dmFyIGhhbmRsZSA9IHRoaXMucHJvcHMuaGFuZGxlO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbnN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBoYW5kbGUgPSBfdGhpczIucHJvcHMuaGFuZGxlO1xuXHQgICAgICB9KS5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wcy5pbmRleDtcblx0ICAgICAgICB2YXIgcGFyZW50SW5kZXggPSBfcHJvcHMucGFyZW50SW5kZXg7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gX3Byb3BzLnN0YXRlO1xuXHQgICAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgICAgIC8vIG5ld1ggICAgICA9IHBvaW50LnggKyBlLmRlbHRhWCxcblx0ICAgICAgICB2YXIgbmV3WSA9IHBvaW50LnkgKyBlLmRlbHRhWTtcblx0ICAgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICAgIC8vIGFic29sdXRlIHggcmVnYXJkaW5nIGhvcml6b250YWwgc2l6ZVxuXHQgICAgICAgIHZhciBhYnNYID0gcG9pbnQueCArIGUuZGVsdGFYIC8gcmVzaXplLmFic1NjYWxlclg7XG5cdCAgICAgICAgdmFyIGFuZ2xlID0gKDAsIF9wb2ludFRvQW5nbGUyLmRlZmF1bHQpKGFic1gsIG5ld1kpO1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICBkYXRhOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgaW5kZXg6IGluZGV4LCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXggfSwgYW5nbGUpXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ21pcnJvcmVkJykge1xuXHQgICAgICAgICAgdmFyIGkgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogaSwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuXHQgICAgICAgICAgICAgIHJhZGl1czogYW5nbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ2FzeW1tZXRyaWMnKSB7XG5cdCAgICAgICAgICB2YXIgX2kgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogX2ksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGhhbmRsZS5yYWRpdXMsXG5cdCAgICAgICAgICAgICAgYW5nbGU6IGFuZ2xlLmFuZ2xlIC0gMTgwXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFX0VORCcsIGlzUmVjb3JkOiB0cnVlIH0pO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRQb2ludFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UG9pbnRTdHlsZSgpIHtcblx0ICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgaGFuZGxlID0gX3Byb3BzMi5oYW5kbGU7XG5cdCAgICAgIHZhciBzdGF0ZSA9IF9wcm9wczIuc3RhdGU7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyBwb2ludC54ICogcmVzaXplLmFic1NjYWxlclggKyAncHgsICcgKyBwb2ludC55ICsgJ3B4KSByb3RhdGUoJyArIGhhbmRsZS5hbmdsZSArICdkZWcpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TGluZVN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGluZVN0eWxlKCkge1xuXHQgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBoYW5kbGUgPSBfcHJvcHMzLmhhbmRsZTtcblx0ICAgICAgdmFyIHN0YXRlID0gX3Byb3BzMy5zdGF0ZTtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgLy8gc2luY2UgdGhlIGFuZ2xlIGFuZCByYWRpdXMgd2VyZSBzdG9yZWQgYXMgYWJzb2x1dGUsXG5cdCAgICAgIC8vIGUuZy4gcmVnYXJkbGVzcyB0aGUgZWRpdG9yJ3MgaG9yaXpvbnRhbCByZXNpemUsXG5cdCAgICAgIC8vIHdlIG5lZWQgdG8gcmVjYWxjIHRoZSB4IHBvc2l0aW9uIGZvciB0aGUgbGluZVxuXHQgICAgICB2YXIgcG9pbnQgPSAoMCwgX2FuZ2xlVG9Qb2ludDIuZGVmYXVsdCkoaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzKTtcblx0ICAgICAgdmFyIG5ld1ZlY3RvciA9ICgwLCBfcG9pbnRUb0FuZ2xlMi5kZWZhdWx0KShwb2ludC54ICogcmVzaXplLmFic1NjYWxlclgsIHBvaW50LnkpO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogcm90YXRlKCcgKyBuZXdWZWN0b3IuYW5nbGUgKyAnZGVnKSBzY2FsZVkoJyArIG5ld1ZlY3Rvci5yYWRpdXMgKyAnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBMaXR0bGVIYW5kbGU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGl0dGxlSGFuZGxlO1xuXG4vKioqLyB9LFxuLyogMTMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHgsIHkpIHtcblx0ICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxuXHQgICAgICBhbmdsZSA9IE1hdGguYXRhbih5IC8geCkgKiAoMTgwIC8gTWF0aC5QSSkgLSA5MDtcblx0ICBpZiAoeCA+IDApIHtcblx0ICAgIGFuZ2xlID0gYW5nbGUgLSAxODA7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHsgcmFkaXVzOiByYWRpdXMsIGFuZ2xlOiBhbmdsZSB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMzIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9saXR0bGUtaGFuZGxlX3gxbWcxXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDowO2hlaWdodDowfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfeDFtZzFfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6NnB4O2hlaWdodDo2cHg7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotM3B4O21hcmdpbi10b3A6LTNweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9saXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoX3gxbWcxXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCU7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotMTAwJTttYXJnaW4tdG9wOi0xMDAlfS5fbGl0dGxlLWhhbmRsZV9fbGluZV94MW1nMV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O21hcmdpbi1sZWZ0Oi0xcHg7bWFyZ2luLXRvcDotMXB4O2xlZnQ6NTAlO3RvcDo1MCU7YmFja2dyb3VuZDojZmY1MTJmOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJsaXR0bGUtaGFuZGxlXCI6IFwiX2xpdHRsZS1oYW5kbGVfeDFtZzFfM1wiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfeDFtZzFfMVwiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaFwiOiBcIl9saXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoX3gxbWcxXzFcIixcblx0XHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV94MW1nMV8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh2YWx1ZSwgYmFzZSwgc25hcCkge1xuXHQgIHZhciBtb2RpZmllZCA9IE1hdGgucm91bmQodmFsdWUgLyBiYXNlKSAqIGJhc2U7XG5cdFxuXHQgIHJldHVybiBNYXRoLmFicyh2YWx1ZSAtIG1vZGlmaWVkKSA8IHNuYXAgPyBtb2RpZmllZCA6IHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCkge1xuXHQgIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgWV9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFO1xuXHR2YXIgbW9kID0gZnVuY3Rpb24gbW9kKHRlbXBSZXNpemVfdG9wKSB7XG5cdCAgICAgIHZhciBjb2VmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHZhciBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG5cdCAgICAgICAgICBESVYgPSBwYXJzZUludCh0ZW1wUmVzaXplX3RvcCAvIFlfU0laRSksXG5cdCAgICAgICAgICBHQVAgPSAxNTtcblx0XG5cdCAgICAgIGlmIChNT0QgPCBHQVApIHtcblx0ICAgICAgICAgICAgdGVtcFJlc2l6ZV90b3AgPSBESVYgKiBZX1NJWkU7XG5cdCAgICAgIH0gZWxzZSBpZiAoTU9EID4gWV9TSVpFIC0gR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gY29lZiAqIChESVYgKyAxKSAqIFlfU0laRTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbW9kO1xuXG4vKioqLyB9LFxuLyogMTM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMzgsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludF8xNGpucF81e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tdG9wOi01cHg7Y3Vyc29yOm1vdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3otaW5kZXg6Mztib3gtc2hhZG93OjNweCAzcHggMCByZ2JhKDAsMCwwLC41KX0uX3BvaW50XzE0am5wXzUgW2RhdGEtY29tcG9uZW50PWxpdHRsZS1oYW5kbGVde2Rpc3BsYXk6bm9uZX0uX3BvaW50X190b3VjaF8xNGpucF8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDttYXJnaW4tbGVmdDotMTBweDttYXJnaW4tdG9wOi0xMHB4fS5fcG9pbnRfMTRqbnBfNS5faXMtc2VsZWN0ZWRfMTRqbnBfMzEsLl9wb2ludF8xNGpucF81OmhvdmVye2JhY2tncm91bmQ6I2ZmNTEyZn0uX3BvaW50XzE0am5wXzUuX2lzLXNlbGVjdGVkXzE0am5wXzMxIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5OmJsb2NrfS5fcG9pbnRfMTRqbnBfNS5faXMtaGlkZS1oYW5kbGVzXzE0am5wXzQzIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInBvaW50XCI6IFwiX3BvaW50XzE0am5wXzVcIixcblx0XHRcInBvaW50X190b3VjaFwiOiBcIl9wb2ludF9fdG91Y2hfMTRqbnBfMVwiLFxuXHRcdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTRqbnBfMzFcIixcblx0XHRcImlzLWhpZGUtaGFuZGxlc1wiOiBcIl9pcy1oaWRlLWhhbmRsZXNfMTRqbnBfNDNcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNDEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZV9rOWxzeF81e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMHB4O2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC43NSk7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgNHB4IDRweCAwIHJnYmEoMCwwLDAsLjUpO3otaW5kZXg6Mn0uX2N1cnZlX19iYWNrZ3JvdW5kX2s5bHN4XzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO3RvcDowO2JvdHRvbTowO3dpZHRoOjM1MHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0xNzVweDtvcGFjaXR5Oi41O2JvcmRlci1yYWRpdXM6aW5oZXJpdDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K1BITjJaeUIzYVdSMGFEMGlNelV3Y0hnaUlHaGxhV2RvZEQwaU16VXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXpOVEFnTXpVd0lpQjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnSUNBZ0lDQWdQSFJwZEd4bFBsTnNhV05sSURFOEwzUnBkR3hsUGlBZ0lDQThaR1Z6WXo1RGNtVmhkR1ZrSUhkcGRHZ2dVMnRsZEdOb0xqd3ZaR1Z6WXo0Z0lDQWdQR1JsWm5NK1BDOWtaV1p6UGlBZ0lDQThaeUJwWkQwaVVHRm5aUzB4SWlCemRISnZhMlU5SW01dmJtVWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0Z0lDQWdJQ0FnSUR4bklHbGtQU0pIY205MWNDSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFdU1EQXdNREF3TENBd0xqQXdNREF3TUNraUlITjBjbTlyWlQwaUkwWkdSa1pHUmlJK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE16TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16TXpMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXhOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpFMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nams0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk0TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qZ3dMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTBOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpRMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nakk0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl4TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qRXdMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRrekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMU9TNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFU1TGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTVM0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UUXhMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXlOQzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRJMExqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFd05pNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEEyTGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVGN4TGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU56RXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVTBMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTlRRdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMkxqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1Nell1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU1Ua3VNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVGt1TURBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERFNUxqQXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERNMkxqVXdNakUzT1RNZ1RERXVNREF4TURnNE15d3pOaTQxTURJeE56a3pJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9DdzFOQzR3TURJeE56a3pJRXd4TGpBd01UQTRPRE1zTlRRdU1EQXlNVGM1TXlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTnpFdU5UQXlNVGM1TXlCTU1TNHdNREV3T0RnekxEY3hMalV3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERXdOaTQxTURJeE56a2dUREV1TURBeE1EZzRNeXd4TURZdU5UQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4TWpRdU1EQXlNVGM1SUV3eExqQXdNVEE0T0RNc01USTBMakF3TWpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01UUXhMalV3TWpFM09TQk1NUzR3TURFd09EZ3pMREUwTVM0MU1ESXhOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREUxT1M0d01ESXhOemtnVERFdU1EQXhNRGc0TXl3eE5Ua3VNREF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE9UTXVNVEkzTVRjNUlFd3hMakF3TVRBNE9ETXNNVGt6TGpFeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNakV3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJeE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJeU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lNamd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3lORFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTWpRMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpnd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESTRNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESTVPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5T1RndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d6TVRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc016RTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc016TXpMakV5TnpFM09TQk1NUzR3TURFd09EZ3pMRE16TXk0eE1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMDRPQzR3TmpReE16VXlMREVnVERnNExqQTJOREV6TlRJc016VXhJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweE56VXVNVEk0TWpjc01TQk1NVGMxTGpFeU9ESTNMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5Nall5TGpFNU1qUXdOaXd4SUV3eU5qSXVNVGt5TkRBMkxETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXdMalUyTXpVNU1TdzRPQzR3TmpRMk56a3pJRXd3TGpVMk16VTVNVEF5TWl3NE9DNHdOalEyTnpreklpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRBdU5UWXpOVGt4TERFM05TNDFOalEyTnprZ1REQXVOVFl6TlRreE1ESXlMREUzTlM0MU5qUTJOemtpSUdsa1BTSndZWFJvT0RJeE5TSWdiM0JoWTJsMGVUMGlNQzQxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNQzQxTmpNMU9URXNNall6TGpBMk5EWTNPU0JNTUM0MU5qTTFPVEV3TWpJc01qWXpMakEyTkRZM09TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y21WamRDQnBaRDBpY21WamRERXdNRGM0SWlCdmNHRmphWFI1UFNJd0xqYzFJaUI0UFNJd0xqZzNNamd4TnprMU5TSWdlVDBpTVNJZ2QybGtkR2c5SWpNMU1DSWdhR1ZwWjJoMFBTSXpOVEFpUGp3dmNtVmpkRDRnSUNBZ0lDQWdJRHd2Wno0Z0lDQWdQQzluUGp3dmMzWm5QZz09KX0uX2N1cnZlX19zdmctd3JhcHBlcl9rOWxzeF8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtsZWZ0Oi0xcHg7cmlnaHQ6LTFweH0uX2N1cnZlX19zdmdfazlsc3hfMXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGU7d2lkdGg6MTAwJX0uX2N1cnZlX19zdmctc2VnbWVudF9rOWxzeF8xe3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoycHg7Y3Vyc29yOmNyb3NzaGFpcn0uX2N1cnZlX19zdmctc2VnbWVudF9rOWxzeF8xOmhvdmVye3N0cm9rZTojZmY1MTJmfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjdXJ2ZVwiOiBcIl9jdXJ2ZV9rOWxzeF81XCIsXG5cdFx0XCJjdXJ2ZV9fYmFja2dyb3VuZFwiOiBcIl9jdXJ2ZV9fYmFja2dyb3VuZF9rOWxzeF8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyX2s5bHN4XzFcIixcblx0XHRcImN1cnZlX19zdmdcIjogXCJfY3VydmVfX3N2Z19rOWxzeF8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnLXNlZ21lbnRcIjogXCJfY3VydmVfX3N2Zy1zZWdtZW50X2s5bHN4XzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xuXHRcblx0dmFyIFJlc2l6ZUhhbmRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUmVzaXplSGFuZGxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUmVzaXplSGFuZGxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUmVzaXplSGFuZGxlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShSZXNpemVIYW5kbGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSAnJyArIENMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXTtcblx0ICAgICAgdmFyIGNsYXNzVHlwZSA9ICcnICsgQ0xBU1NFU1sncmVzaXplLWhhbmRsZS0tJyArIHR5cGVdO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnICcgKyBjbGFzc1R5cGUgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICdkYXRhLXR5cGUnOiB0eXBlLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ3Jlc2l6ZS1oYW5kbGUnIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb24yLmRlZmF1bHQsIHsgc2hhcGU6ICdlbGxpcHNpcycgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRV9FTkQnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFJlc2l6ZUhhbmRsZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSZXNpemVIYW5kbGU7XG5cbi8qKiovIH0sXG4vKiAxNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtcblx0XG5cdHZhciBJY29uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShJY29uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gSWNvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEljb24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoSWNvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJY29uLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzaGFwZSA9IHRoaXMucHJvcHMuc2hhcGU7XG5cdCAgICAgIHZhciBtYXJrdXAgPSAnPHN2ZyB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+PHVzZSB4bGluazpocmVmPVwiIycgKyBzaGFwZSArICctc2hhcGVcIiAvPjwvc3ZnPic7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbiddLFxuXHQgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdpY29uJyxcblx0ICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IG1hcmt1cCB9IH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWNvbjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29uO1xuXG4vKioqLyB9LFxuLyogMTQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTQ3LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbl80YThsZl81e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Y3Vyc29yOnBvaW50ZXI7ZmlsbDojZmZmO2Rpc3BsYXk6YmxvY2t9Ll9pY29uXzRhOGxmXzU+c3Zne3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNT5zdmc+dXNle2ZpbGw6aW5oZXJpdH0uX2ljb25fNGE4bGZfNTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6MX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLXJpZ2h0XCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzFcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1MCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTApO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xaXR6MV80XCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFpdHoxXzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fcmlnaHRcIjogXCJfY3VydmUtZWRpdG9yX19yaWdodF8xaXR6MV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFpdHoxXzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xaXR6MV8xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nb1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xaXR6MV8xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9jb2RlQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXHRcblx0dmFyIF9jb2RlQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvZGVCdXR0b24pO1xuXHRcblx0dmFyIF9pY29uRGl2aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblx0XG5cdHZhciBfaWNvbkRpdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbkRpdmlkZXIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50Q29udHJvbHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0dmFyIEN1cnZlRWRpdG9yTGVmdCA9IGZ1bmN0aW9uIEN1cnZlRWRpdG9yTGVmdChfcmVmKSB7XG5cdCAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0XG5cdCAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgJ2RpdicsXG5cdCAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19sZWZ0J10sIGlkOiAnanMtbGVmdC1wYW5lbCcgfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKF9jb2RlQnV0dG9uMi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKF9pY29uRGl2aWRlcjIuZGVmYXVsdCwgbnVsbCksXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfcG9pbnRDb250cm9sczIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUsXG5cdCAgICAgIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9ucyddIH0pLFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICdhJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvJ10sXG5cdCAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3InLCB0YXJnZXQ6ICdfYmxhbmsnIH0sXG5cdCAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiAnbW9qcy1sb2dvJyB9KVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvckxlZnQ7XG5cbi8qKiovIH0sXG4vKiAxNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX2ljb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbkJ1dHRvbik7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENvZGVCdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKENvZGVCdXR0b24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDb2RlQnV0dG9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ29kZUJ1dHRvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDb2RlQnV0dG9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENvZGVCdXR0b24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHN0YXRlID0gdGhpcy5wcm9wcy5zdGF0ZTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShfaWNvbkJ1dHRvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ2NvZGUnLCBpc0NoZWNrOiBzdGF0ZS5jb250cm9scy5pc0NvZGUgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgbWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQ09ERV9UQVAnIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIENvZGVCdXR0b247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29kZUJ1dHRvbjtcblxuLyoqKi8gfSxcbi8qIDE1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NSk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTcpO1xuXHRcblx0dmFyIEljb25CdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEljb25CdXR0b24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBJY29uQnV0dG9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWNvbkJ1dHRvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShJY29uQnV0dG9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEljb25CdXR0b24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIGNoZWNrID0gdGhpcy5wcm9wcy5pc0NoZWNrID8gQ0xBU1NFU1snaXMtY2hlY2tlZCddIDogJyc7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbi1idXR0b24nXSArICcgJyArIGNoZWNrLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24tYnV0dG9uJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiB0aGlzLnByb3BzLnNoYXBlIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vblRhcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHZhciBoYW1tZXJ0aW1lID0gbmV3IF9oYW1tZXJqczIuZGVmYXVsdCh0aGlzLmJhc2UpLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgX3RoaXMyLnByb3BzLm9uVGFwKGUsIF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEljb25CdXR0b247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbkJ1dHRvbjtcblxuLyoqKi8gfSxcbi8qIDE1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTU2LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1idXR0b25fNnlzZGlfNHtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDojM2EwODM5O2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjE1KX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQgW2RhdGEtY29tcG9uZW50PWljb25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVye2JveC1zaGFkb3c6bm9uZX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQ6aG92ZXIgW2RhdGEtY29tcG9uZW50PWljb25dey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTIlLC01MiUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQuX2lzLWNoZWNrZWRfNnlzZGlfMzEsLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZXtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93Omluc2V0IC0xcHggLTFweCAwIGhzbGEoMCwwJSwxMDAlLC4yNSksaW5zZXQgMXB4IDFweCAxcHggcmdiYSgwLDAsMCwuNCl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxIFtkYXRhLWNvbXBvbmVudD1pY29uXSwuX2ljb24tYnV0dG9uXzZ5c2RpXzQ6YWN0aXZlIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uLWJ1dHRvblwiOiBcIl9pY29uLWJ1dHRvbl82eXNkaV80XCIsXG5cdFx0XCJpcy1jaGVja2VkXCI6IFwiX2lzLWNoZWNrZWRfNnlzZGlfMzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNjApO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24tZGl2aWRlciddLFxuXHQgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24tZGl2aWRlcicgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiaWNvbi1kaXZpZGVyXCI6IFwiX2ljb24tZGl2aWRlcl9mdGFza18zXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYxKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTYxLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1kaXZpZGVyX2Z0YXNrXzN7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bzt3aWR0aDoxNnB4O2hlaWdodDoxcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgwLDAsMCwuMyl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25CdXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdFxuXHR2YXIgUG9pbnRDb250cm9scyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUG9pbnRDb250cm9scywgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBvaW50Q29udHJvbHMoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQb2ludENvbnRyb2xzKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFBvaW50Q29udHJvbHMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9pbnRDb250cm9scywgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgcCA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHAuc3RhdGU7XG5cdCAgICAgIHZhciBjb250cm9scyA9IHN0YXRlLnBvaW50Q29udHJvbHMucHJlc2VudDtcblx0ICAgICAgdmFyIHNob3cgPSBjb250cm9scy5pc1Nob3cgPyBDTEFTU0VTWydpcy1zaG93J10gOiAnJztcblx0ICAgICAgdmFyIGNsYXNzTmFtZSA9IHAuY2xhc3NOYW1lICsgJyAnICsgQ0xBU1NFU1sncG9pbnQtY29udHJvbHMnXSArICcgJyArIHNob3c7XG5cdCAgICAgIHZhciBidXR0b25zID0gdGhpcy5fYWRkQnV0dG9ucyhjb250cm9scyk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHQgICAgICAgICcgJyxcblx0ICAgICAgICBidXR0b25zLFxuXHQgICAgICAgICcgJ1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19vbkJ1dHRvblRhcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX29uQnV0dG9uVGFwKHR5cGUpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBfdGhpczIuY29udGV4dC5zdG9yZTtcblx0XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0NIQU5HRV9UWVBFJywgZGF0YTogdHlwZSwgaXNSZWNvcmQ6IHRydWUgfSk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2FkZEJ1dHRvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRCdXR0b25zKGNvbnRyb2xzKSB7XG5cdCAgICAgIHZhciBidXR0b25zTWFwID0gWydzdHJhaWdodCcsICdkaXNjb25uZWN0ZWQnLCAnbWlycm9yZWQnLCAnYXN5bW1ldHJpYyddLFxuXHQgICAgICAgICAgYnV0dG9ucyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zTWFwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBidXR0b25zTWFwW2ldO1xuXHQgICAgICAgIGJ1dHRvbnMucHVzaCgoMCwgX3ByZWFjdC5oKShfaWNvbkJ1dHRvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ3BvaW50LScgKyB0eXBlLFxuXHQgICAgICAgICAgaXNDaGVjazogY29udHJvbHMudHlwZSA9PT0gdHlwZSxcblx0ICAgICAgICAgIG9uVGFwOiB0aGlzLl9vbkJ1dHRvblRhcCh0eXBlKSB9KSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGJ1dHRvbnM7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQb2ludENvbnRyb2xzO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvaW50Q29udHJvbHM7XG5cbi8qKiovIH0sXG4vKiAxNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE2NCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzR7ZGlzcGxheTpub25lfS5fcG9pbnQtY29udHJvbHNfMXhjdTdfNCBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25dOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6M3B4O2hlaWdodDo3LjVweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjJweDtsZWZ0Oi0xMHB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMy43NXB4O2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXVtjbGFzcyo9aXMtY2hlY2tlZF06YWZ0ZXIsLl9wb2ludC1jb250cm9sc18xeGN1N180Ll9pcy1zaG93XzF4Y3U3Xzd7ZGlzcGxheTpibG9ja31cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicG9pbnQtY29udHJvbHNcIjogXCJfcG9pbnQtY29udHJvbHNfMXhjdTdfNFwiLFxuXHRcdFwiaXMtc2hvd1wiOiBcIl9pcy1zaG93XzF4Y3U3XzdcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoX3JlZikge1xuXHQgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdCAgdmFyIHBvaW50cyA9IHN0YXRlLnBvaW50cztcblx0ICB2YXIgY29udHJvbHMgPSBzdGF0ZS5jb250cm9scztcblx0ICB2YXIgb3BlbiA9IGNvbnRyb2xzLmlzQ29kZSA/IENMQVNTRVNbJ2lzLW9wZW4nXSA6ICcnO1xuXHQgIHZhciBtYWluQ2xhc3MgPSBDTEFTU0VTWydjb2RlLXBhbmVsJ10gKyAnICcgKyBvcGVuO1xuXHRcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiBtYWluQ2xhc3MgfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lubmVyJ10gfSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAndG9wJyB9KSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LXdyYXAnXSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdpbnB1dCcsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC1maWVsZCddLFxuXHQgICAgICAgICAgdHlwZTogJ3RleHQnLCByZWFkb25seTogJ3JlYWRvbmx5Jyxcblx0ICAgICAgICAgIHZhbHVlOiBwb2ludHMucHJlc2VudC5wYXRoIH0pXG5cdCAgICAgIClcblx0ICAgIClcblx0ICApO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjgpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNjgsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jb2RlLXBhbmVsX25uYjlwXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3JpZ2h0OjEwcHg7Ym90dG9tOjEwMCU7ei1pbmRleDoxO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXRvcDoxNnB4O2JveC1zaXppbmc6Y29udGVudC1ib3h9Ll9jb2RlLXBhbmVsX25uYjlwXzMgW2RhdGEtY29tcG9uZW50PXJlc2l6ZS1oYW5kbGVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JvdHRvbToxMDAlfS5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXtib3JkZXItcmFkaXVzOjZweCA2cHggMCAwO2JhY2tncm91bmQ6IzNkMWIzYztwYWRkaW5nOjRweCA1cHggNXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXQ7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0fS5fY29kZS1wYW5lbF9faW5wdXQtd3JhcF9ubmI5cF8xe2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6IzQyMTAzZjtib3JkZXI6MXB4IHNvbGlkICM5YzgyOWE7Ym94LXNoYWRvdzppbnNldCAycHggMnB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9jb2RlLXBhbmVsX19pbnB1dC1maWVsZF9ubmI5cF8xe2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6LjQ1cHg7Zm9udC13ZWlnaHQ6MTAwO3BhZGRpbmc6MCAuM2VtIDAgLjhlbTtib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyMXB4O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6LW1vei1zZWxlY3Rpb24sLmNvZGUtcGFuZWwgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjpzZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zLl9pcy1vcGVuX25uYjlwXzYxIC5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjb2RlLXBhbmVsXCI6IFwiX2NvZGUtcGFuZWxfbm5iOXBfM1wiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5uZXJcIjogXCJfY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMVwiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5wdXQtd3JhcFwiOiBcIl9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzFcIixcblx0XHRcImNvZGUtcGFuZWxfX2lucHV0LWZpZWxkXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzFcIixcblx0XHRcImlzLW9wZW5cIjogXCJfaXMtb3Blbl9ubmI5cF82MVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBJY29ucyA9IGZ1bmN0aW9uIEljb25zKCkge1xuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6ICc8c3ZnIGhlaWdodD1cIjBcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMTAwJTsgd2lkdGg6MDsgaGVpZ2h0OjA7XCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+XFxuICAgICAgPGcgaWQ9XCJlbGxpcHNpcy1zaGFwZVwiPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIyMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cImNvZGUtc2hhcGVcIiBkPVwiTTgsMTYuMDg0OTY0OCBDOCwxNS44MjEwNzkzIDguMTExNDkwNjksMTUuNjEyOTM5MyA4LjMzNDgzNDA1LDE1LjQ2MDkwNjUgTDEyLjMzOTA4NzQsMTIuODQxOTYxMiBDMTIuMzg5NzY0OSwxMi44MDE0MTkyIDEyLjQ2NTc4MTMsMTIuNzgxMTQ4MSAxMi41Njc0OTg1LDEyLjc4MTE0ODEgQzEyLjczOTgwMjMsMTIuNzgxMTQ4MSAxMi45MDQ4NjY0LDEyLjg1NzE2NDUgMTMuMDYyMzI4OSwxMy4wMDk1NTkyIEMxMy4yMTk0Mjk0LDEzLjE2MTk1NCAxMy4yOTgzNDE3LDEzLjMzOTMyNTUgMTMuMjk4MzQxNywxMy41NDIzOTc5IEMxMy4yOTgzNDE3LDEzLjczNTMzNDcgMTMuMjIxOTYzMywxMy44ODI2NjE3IDEzLjA2OTIwNjYsMTMuOTg0MDE2OCBMOS44NTc2OTU1MywxNi4wODQ5NjQ4IEwxMy4wNjkyMDY2LDE4LjE4NjI3NDcgQzEzLjIyMTk2MzMsMTguMjY3NzIwOCAxMy4yOTgzNDE3LDE4LjQxNDY4NTggMTMuMjk4MzQxNywxOC42Mjc4OTM3IEMxMy4yOTgzNDE3LDE4LjgzMDk2NiAxMy4yMTk3OTE0LDE5LjAwNjE2NTcgMTMuMDYyMzI4OSwxOS4xNTMxMzA3IEMxMi45MDQ4NjY0LDE5LjMwMDQ1NzYgMTIuNzM5ODAyMywxOS4zNzM5NDAxIDEyLjU2NzQ5ODUsMTkuMzczOTQwMSBDMTIuNDY1NzgxMywxOS4zNzM5NDAxIDEyLjM4OTc2NDksMTkuMzUzNjY5MSAxMi4zMzkwODc0LDE5LjMxMzEyNyBMOC4zMzQ4MzQwNSwxNi42OTM4MTk4IEM4LjExMTQ5MDY5LDE2LjU0MTQyNSA4LDE2LjMzODcxNDcgOCwxNi4wODQ5NjQ4IEw4LDE2LjA4NDk2NDggWiBNMTQuMTM5OTUxNiwyMC42ODc1NzU2IEMxNC4xMjY1NTgyLDIwLjYwNzU3NzQgMTQuMTI4NzMwMSwyMC41MzAxMTMxIDE0LjE0NjgyOTMsMjAuNDU0ODIwNyBMMTYuOTM5NTI2MywxMS4zNTYwMjIgQzE2Ljk4OTExNzksMTEuMTYyMzYxMiAxNy4xMjM3NzU1LDExLjA0Njg4ODcgMTcuMzQ0MjIzLDExLjAwOTYwNDUgQzE3LjUwNDIxOTQsMTAuOTgyNDU1OCAxNy42NTg3ODYsMTEuMDEyODYyMyAxNy44MDc1NjA5LDExLjEwMDgyNDIgQzE3Ljk1NjMzNTgsMTEuMTg5MTQ3OSAxOC4wNDQyOTc2LDExLjMxMzMwOCAxOC4wNzEwODQ0LDExLjQ3MzMwNDQgQzE4LjA4NjI4NzYsMTEuNTYzNDM4MSAxOC4wNzk3NzIsMTEuNjQ3MDU2MSAxOC4wNTE4OTkzLDExLjcyMzc5NjUgTDE1LjI2NjQ0MTksMjAuNzc0ODEzNCBDMTUuMjA4NTI0NywyMC45ODAwNTc3IDE1LjA1OTM4NzgsMjEuMTAzMTMxOCAxNC44MTkzOTMyLDIxLjE0NDAzNTggQzE0LjY0ODg5OTMsMjEuMTcyOTk0NSAxNC40OTk0MDA1LDIxLjEzODk2ODEgMTQuMzY5ODEwNiwyMS4wNDI2ODA3IEMxNC4yNDAyMjA4LDIwLjk0NjAzMTMgMTQuMTYzODQyNCwyMC44Mjc2NjI5IDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBMMTQuMTM5OTUxNiwyMC42ODc1NzU2IFogTTE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBDMTguNzk1NDExOSwxOS4wMDU4MDM3IDE4LjcxNjg2MTYsMTguODMwNjA0IDE4LjcxNjg2MTYsMTguNjI3NTMxNyBDMTguNzE2ODYxNiwxOC40MjQ0NTk0IDE4Ljc4NzgxMDIsMTguMjc3NDk0NCAxOC45MzAwNjk1LDE4LjE4NTkxMjcgTDIyLjE0MjY2NjUsMTYuMDg0NjAyOCBMMTguOTMwMDY5NSwxMy45ODM2NTQ5IEMxOC43ODc4MTAyLDEzLjg3MTgwMjIgMTguNzE2ODYxNiwxMy43MjQ4MzcyIDE4LjcxNjg2MTYsMTMuNTQyMDM1OSBDMTguNzE2ODYxNiwxMy4zMzg5NjM2IDE4Ljc5NTQxMTksMTMuMTYxNTkyIDE4Ljk1Mjg3NDQsMTMuMDA5MTk3MyBDMTkuMTEwMzM2OSwxMi44NTY4MDI1IDE5LjI3NTAzOSwxMi43ODA3ODYxIDE5LjQ0NzcwNDgsMTIuNzgwNzg2MSBDMTkuNTM4OTI0NSwxMi43ODA3ODYxIDE5LjYwOTg3MzEsMTIuODAxNDE5MiAxOS42NjA5MTI2LDEyLjg0MTU5OTIgTDIzLjY2NTE2NTksMTUuNDYwNTQ0NSBDMjMuODg4MTQ3MywxNS42MTI5MzkzIDI0LDE1LjgyMTA3OTMgMjQsMTYuMDg0NjAyOCBDMjQsMTYuMzQ4ODUwMiAyMy44ODgxNDczLDE2LjU1MTU2MDYgMjMuNjY1MTY1OSwxNi42OTM4MTk4IEwxOS42NjA5MTI2LDE5LjMxMjc2NTEgQzE5LjYwOTg3MzEsMTkuMzUzMzA3MSAxOS41Mzg5MjQ1LDE5LjM3MzU3ODIgMTkuNDQ3NzA0OCwxOS4zNzM1NzgyIEMxOS4yNzUwMzksMTkuMzczNTc4MiAxOS4xMTAzMzY5LDE5LjMwMDA5NTcgMTguOTUyODc0NCwxOS4xNTI3Njg3IEwxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgWlwiPjwvcGF0aD5cXG4gICAgICA8ZyBpZD1cInBvaW50LXN0cmFpZ2h0LXNoYXBlXCIgZmlsbD1cIm5vbmVcIj5cXG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtbWlycm9yZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMS45MDEyNjMyIEM3Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgNy41OTI4NzE3MiwxMy41NzQwNTM3IDE1LjQ1MTQ0MjMsMTMuNTc0MDUzNyBDMjMuMzEwMDEyOSwxMy41NzQwNTM3IDIzLjg5MjEyMjgsMjEuOTAxMjYzMiAyMy44OTIxMjI4LDIxLjkwMTI2MzJcIi8+XFxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjE0LjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTMuMzMzXCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjAuNTY3OTI5OCBDNy44ODE0NDg0MSwyMC41Njc5Mjk4IDcuNTkyODcxNzIsMTIuMjQwNzIwNCAxNS40NTE0NDIzLDEyLjI0MDcyMDQgQzIxLjIwMDUyMDcsMTcuODg3MzcgMjMuODkyMTIyOCwyMC41Njc5Mjk4IDIzLjg5MjEyMjgsMjAuNTY3OTI5OFwiLz5cXG4gICAgICAgIDxwb2x5bGluZSBzdHJva2U9XCIjRkY1MTJGXCIgcG9pbnRzPVwiNi4xMzMgMTIgMTUuMjI4IDEyIDIzLjkzMyAyMC42MDJcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyMS44ODZcIiB5PVwiMTguNTUyXCIgZmlsbD1cIiNGRjUxMkZcIiB0cmFuc2Zvcm09XCJyb3RhdGUoNDUgMjMuMjE5IDE5Ljg4NilcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtYXN5bW1ldHJpYy1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg3LjY2NyA5LjMzMylcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiOVwiIGN5PVwiNC40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNMi41Mjc4ODUwMywyLjY2NjY2NjY3IEwxOC4xMzg4MzQ2LDIuNjY2NjY2NjdcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMTYuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiLjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cIm1vanMtbG9nby1zaGFwZVwiIGQ9XCJNMTguNDY3ODkwNywyLjY3NzAwMDQ4IEMxOS40ODg1ODYsMy4yNTc1ODYyNSAyMC4yNzg5MjI3LDQuMTg0MjE2NTEgMjAuODc4MjMsNS4xOTczNTc5IEMyNC4wODA3Nzg4LDEwLjUwMTQ1MSAyNy4yNzc3MDkxLDE1LjgxMTMxMTYgMzAuNDgwMjU4LDIxLjExNTQwNDcgQzMxLjEzMjAwNDcsMjIuMTYxMjI4MSAzMS43NzA2NDE3LDIzLjI2NDcyNTYgMzEuOTM1NDUxMiwyNC41MTYyNTMyIEMzMi4xODgyODQsMjYuMDYxOTE4NiAzMS42OTE5ODI2LDI3LjczNjM4OTUgMzAuNTU4OTE3MSwyOC44MDMzNiBDMjkuNDUwMTk4NCwyOS44ODU3MTAzIDI3Ljg4MDc2MjIsMzAuMzE4MjY1OSAyNi4zODA2MjA5LDMwLjMwNDgwODYgQzE5LjQ1MTEyOTMsMzAuMzA4NjUzNSAxMi41MjM1MTA2LDMwLjMwODY1MzUgNS41OTQwMTkwMSwzMC4zMDQ4MDg2IEMzLjcxNTU2NDk0LDMwLjM0MzI1OCAxLjY5ODUyMTA0LDI5LjU3MjM0NzggMC42ODM0NDQxNjUsMjcuODcwOTYyMyBDLTAuNDA2NTQ2MTMyLDI2LjEwOTk4MDMgLTAuMDk3NTI4MjY0MywyMy43OTE0ODIyIDAuOTQwMDIyNjM3LDIyLjA4NDMyOTMgQzQuMzQyOTY0ODUsMTYuNDEzMDQ0NSA3Ljc2NjUwODI2LDEwLjc1MzI5NDUgMTEuMTgyNTYwMyw1LjA4OTY5OTYxIEMxMS45NzQ3Njk4LDMuNzQ3ODE1OTUgMTMuMTg0NjIxNSwyLjYwMjAyNDE4IDE0LjY4NDc2MjgsMi4xODI5MjU4NCBDMTUuOTQ1MTgxMiwxLjgxNTczNDE4IDE3LjMzNDgyNTEsMi4wMTE4MjYwNiAxOC40Njc4OTA3LDIuNjc3MDAwNDggWiBNMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IEMxNS42MTQ2MjM4LDkuMDM3Nzk0NzYgMTYuMDc5MTU5Nyw5LjAyMjUwNjU1IDE2LjM3ODU2NzksOS40OTI5NTQ3IEwyNS4yNzYzNTU1LDIzLjQ3MzY5MTMgQzI1LjU3MjM5MTksMjMuOTM4ODQxNCAyNS4zNTY4NDMzLDI0LjMxNTkyMDEgMjQuODA3NDM5OCwyNC4zMTU5MjAyIEw3LjYyMzE0NjQ3LDI0LjMxNTkyMDUgQzcuMDY4MTM1MDUsMjQuMzE1OTIwNiA2Ljg0NjIyNzk4LDIzLjkyODY4ODkgNy4xMjcyODkxMywyMy40NTEzNzc5IEwxNS4zMzM0NjY4LDkuNTE1MjY4NDkgWlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48L3BhdGg+XFxuICAgIDwvc3ZnPicgfSB9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb25zO1xuXG4vKioqLyB9LFxuLyogMTcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNzIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZS1lZGl0b3JfMWl0ejFfNHtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7d2lkdGg6NDAzcHg7aGVpZ2h0OjM3OHB4O2JvcmRlci1yYWRpdXM6MTJweDtiYWNrZ3JvdW5kOiM1NzJiNTE7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzoycHggMnB4IDJweCByZ2JhKDAsMCwwLC4zOCl9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWl0ejFfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MnB4O2xlZnQ6MDt0b3A6MDtib3R0b206MDtwYWRkaW5nOjEwcHg7Y3Vyc29yOm1vdmV9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWl0ejFfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1kaXZpZGVyXXttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xaXR6MV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFpdHoxXzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xaXR6MV8xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFpdHoxXzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWl0ejFfMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFpdHoxXzEgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXXttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFpdHoxXzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xaXR6MV8xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9pbmRleFJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleFJlZHVjZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBpbml0U3RvcmUgPSBmdW5jdGlvbiBpbml0U3RvcmUoKSB7XG5cdCAgcmV0dXJuICgwLCBfcmVkdXguY3JlYXRlU3RvcmUpKF9pbmRleFJlZHVjZXIyLmRlZmF1bHQpO1xuXHR9O1xuXHQvLyBpbXBvcnQgcmVkdWNlclxuXHRleHBvcnRzLmRlZmF1bHQgPSBpbml0U3RvcmU7XG5cbi8qKiovIH0sXG4vKiAxNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9yZWR1eFVuZG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFVuZG8pO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZVJlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50c1JlZHVjZXIpO1xuXHRcblx0dmFyIF9jb250cm9sc1JlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5NCk7XG5cdFxuXHR2YXIgX2NvbnRyb2xzUmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb250cm9sc1JlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTk1KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sc1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9sc1JlZHVjZXIpO1xuXHRcblx0dmFyIF9wcm9ncmVzc2VzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTk2KTtcblx0XG5cdHZhciBfcHJvZ3Jlc3Nlc1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvZ3Jlc3Nlc1JlZHVjZXIpO1xuXHRcblx0dmFyIF9yZWR1eFJlY3ljbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Nyk7XG5cdFxuXHR2YXIgX3JlZHV4UmVjeWNsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFJlY3ljbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyLW9yZGVyIHJlZHVjZXJcblx0dmFyIFVORE9BQkxFX09QVFMgPSB7XG5cdCAgbGltaXQ6IDEwLFxuXHQgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuXHQgICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG5cdCAgfSxcblx0ICBkZWJ1ZzogZmFsc2Vcblx0fTsgLy8gUmVkdXggdXRpbGl0eSBmdW5jdGlvbnNcblx0XG5cdFxuXHR2YXIgcmVkdWNlciA9ICgwLCBfcmVkdXhSZWN5Y2xlMi5kZWZhdWx0KSgoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuXHQgIHJlc2l6ZTogX3Jlc2l6ZVJlZHVjZXIyLmRlZmF1bHQsXG5cdCAgcG9pbnRzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50c1JlZHVjZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIFVORE9BQkxFX09QVFMpKSxcblx0ICBjb250cm9sczogX2NvbnRyb2xzUmVkdWNlcjIuZGVmYXVsdCxcblx0ICBwb2ludENvbnRyb2xzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50Q29udHJvbHNSZWR1Y2VyMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBVTkRPQUJMRV9PUFRTKSksXG5cdCAgcHJvZ3Jlc3NMaW5lczogX3Byb2dyZXNzZXNSZWR1Y2VyMi5kZWZhdWx0XG5cdH0pLCBbJ1NFVF9TVEFURSddLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuXHQgIHJldHVybiBhY3Rpb24uZGF0YTtcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSByZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9leHRlbmRzNCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHM1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIHg6IDIwLFxuXHQgIHRlbXBYOiAwLFxuXHRcblx0ICB5OiAyMCxcblx0ICB0ZW1wWTogMCxcblx0XG5cdCAgdG9wOiAwLFxuXHQgIHRlbXBfdG9wOiAwLFxuXHRcblx0ICByaWdodDogMCxcblx0ICB0ZW1wX3JpZ2h0OiAwLFxuXHRcblx0ICBib3R0b206IDAsXG5cdCAgdGVtcF9ib3R0b206IDAsXG5cdCAgc2NhbGVyWDogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULFxuXHQgIGFic1NjYWxlclg6IDFcblx0fTtcblx0XG5cdHZhciByZXNpemVSZWR1Y2VyID0gZnVuY3Rpb24gcmVzaXplUmVkdWNlcigpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ0VESVRPUl9SRVNJWkUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0ICAgICAgICB2YXIgZGVsdGEgPSB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyA/IGRhdGEueSA6IGRhdGEueDtcblx0XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKHt9LCAndGVtcF8nICsgdHlwZSwgZGVsdGEpKTtcblx0ICAgICAgICAvLyBpZiBgcmlnaHRgc2l6ZSBjaGFuZ2VkIC0gY2FsY3VsYXRlIHRoZSBzY2FsZXIgZm9yIHggYXhpc1xuXHQgICAgICAgIGlmICh0eXBlID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgICBuZXdTdGF0ZVsnc2NhbGVyWCddID0gKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIE1hdGgubWF4KHN0YXRlLnJpZ2h0ICsgZGVsdGEsIDApKSAvIDEwMDtcblx0ICAgICAgICAgIG5ld1N0YXRlWydhYnNTY2FsZXJYJ10gPSBuZXdTdGF0ZVsnc2NhbGVyWCddIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfUkVTSVpFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2V4dGVuZHMzO1xuXHRcblx0ICAgICAgICB2YXIgX2RhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX3R5cGUgPSBfZGF0YS50eXBlO1xuXHRcblx0ICAgICAgICB2YXIgX2RlbHRhID0gX3R5cGUgPT09ICd0b3AnIHx8IF90eXBlID09PSAnYm90dG9tJyA/IF9kYXRhLnkgOiBfZGF0YS54O1xuXHQgICAgICAgIC8vIGdldCB0aGUgdG90YWwgcmVzaXplIHZhbHVlICggdGVtcG9yYXJ5ICsgYWN0dWFsIClcblx0ICAgICAgICB2YXIgcmVzaXplID0gc3RhdGVbJycgKyBhY3Rpb24uZGF0YS50eXBlXSArIF9kZWx0YTtcblx0ICAgICAgICAvLyBpZiB0aGUgdHlwZSBpZiB0byAtIGl0IGhhcyB0aGUgYC1gIGFzIGJhc2Ugc28gd2UgbmVlZCB0byBzd2FwIG1ldGhvZHNcblx0ICAgICAgICB2YXIgbWF0aE1ldGhvZCA9IF90eXBlID09PSAndG9wJyA/ICdtaW4nIDogJ21heCc7XG5cdCAgICAgICAgdmFyIF9uZXdTdGF0ZSA9ICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCAoX2V4dGVuZHMzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKF9leHRlbmRzMywgJycgKyBhY3Rpb24uZGF0YS50eXBlLCBNYXRoW21hdGhNZXRob2RdKDAsIHJlc2l6ZSkpLCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfZXh0ZW5kczMsICd0ZW1wXycgKyBhY3Rpb24uZGF0YS50eXBlLCAwKSwgX2V4dGVuZHMzKSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfYWN0aW9uJGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgeCA9IF9hY3Rpb24kZGF0YS54O1xuXHQgICAgICAgIHZhciB5ID0gX2FjdGlvbiRkYXRhLnk7XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyB0ZW1wWDogeCwgdGVtcFk6IHkgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2FjdGlvbiRkYXRhMiA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfeDIgPSBfYWN0aW9uJGRhdGEyLng7XG5cdCAgICAgICAgdmFyIF95ID0gX2FjdGlvbiRkYXRhMi55O1xuXHRcblx0ICAgICAgICBfeDIgKz0gc3RhdGUueDtcblx0ICAgICAgICBfeSArPSBzdGF0ZS55O1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyB4OiBfeDIsIHk6IF95LCB0ZW1wWDogMCwgdGVtcFk6IDAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgfVxuXHQgIHJldHVybiBzdGF0ZTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlc2l6ZVJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcblx0ICBpZiAoa2V5IGluIG9iaikge1xuXHQgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkob2JqLCBrZXksIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqW2tleV0gPSB2YWx1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvYmo7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX21ha2VQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTg4KTtcblx0XG5cdHZhciBfbWFrZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VQb2ludCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2luaXRQb2ludHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7XG5cdFxuXHR2YXIgX2luaXRQb2ludHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50cyk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUGF0aCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgcGF0aDogJycsXG5cdCAgbmFtZTogJ21vanMtY3VydmUtZWRpdG9yJyxcblx0ICBzZWdtZW50czogW10sXG5cdCAgcG9pbnRzOiBbXVxuXHQgIC8vIHBvaW50czogaW5pdFBvaW50cyhbXG5cdCAgLy8gICBtYWtlUG9pbnQoeyB4OiAwLCAgIHk6IEMuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH0pLFxuXHQgIC8vICAgLy8gbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcblx0ICAvLyAgIG1ha2VQb2ludCh7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0pXG5cdCAgLy8gXSlcblx0fTtcblx0XG5cdHZhciBkZXNlbGVjdEFsbCA9IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKHN0YXRlKSB7XG5cdCAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBbXSB9KSxcblx0ICAgICAgcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgbmV3U3RhdGUucG9pbnRzLnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRzW2ldLCB7IGlzU2VsZWN0ZWQ6IGZhbHNlIH0pKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1N0YXRlO1xuXHR9O1xuXHRcblx0dmFyIGZpbmRTZWxlY3RlZEluZGVjaWVzID0gZnVuY3Rpb24gZmluZFNlbGVjdGVkSW5kZWNpZXMocG9pbnRzKSB7XG5cdCAgdmFyIGluZGVjaWVzID0gW107XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBwb2ludHNbaV0uaXNTZWxlY3RlZCAmJiBpbmRlY2llcy5wdXNoKGkpO1xuXHQgIH1cblx0ICByZXR1cm4gaW5kZWNpZXM7XG5cdH07XG5cdFxuXHR2YXIgcG9pbnRzUmVkdWNlciA9IGZ1bmN0aW9uIHBvaW50c1JlZHVjZXIoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICBjYXNlICdTRVRfRURJVE9SX05BTUUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IG5hbWU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gZGF0YS5pbmRleDtcblx0ICAgICAgICB2YXIgcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBvbGRQb2ludCA9IHBvaW50c1tpbmRleF07XG5cdCAgICAgICAgdmFyIG5ld1BvaW50cyA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShwb2ludHMpKTtcblx0XG5cdCAgICAgICAgbmV3UG9pbnRzW2RhdGEuaW5kZXhdID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb2xkUG9pbnQsIHsgdGVtcFg6IGRhdGEueCwgdGVtcFk6IGRhdGEueSB9KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBuZXdQb2ludHMgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShuZXdQb2ludHMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9pbmRleCA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBfb2xkUG9pbnQgPSBfcG9pbnRzW19pbmRleF07XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHMgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoX3BvaW50cykpO1xuXHRcblx0ICAgICAgICBfbmV3UG9pbnRzW19pbmRleF0gPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfb2xkUG9pbnQsIHtcblx0ICAgICAgICAgIHg6IF9vbGRQb2ludC54ICsgX29sZFBvaW50LnRlbXBYLFxuXHQgICAgICAgICAgeTogX29sZFBvaW50LnkgKyBfb2xkUG9pbnQudGVtcFksXG5cdCAgICAgICAgICB0ZW1wWDogMCwgdGVtcFk6IDBcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHBvaW50czogX25ld1BvaW50cyB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2RhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX2luZGV4MiA9IF9kYXRhLmluZGV4O1xuXHQgICAgICAgIHZhciBpc0Rlc2VsZWN0ID0gX2RhdGEuaXNEZXNlbGVjdDtcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSBpc0Rlc2VsZWN0ID8gZGVzZWxlY3RBbGwoc3RhdGUpIDogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUpO1xuXHQgICAgICAgIHZhciBfcG9pbnRzMiA9IG5ld1N0YXRlLnBvaW50cztcblx0XG5cdFxuXHQgICAgICAgIHZhciBwb2ludCA9IF9wb2ludHMyW19pbmRleDJdO1xuXHQgICAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBwb2ludHM6IF9wb2ludHMyIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfQUREJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZGF0YTIgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX2luZGV4MyA9IF9kYXRhMi5pbmRleDtcblx0ICAgICAgICB2YXIgX3BvaW50ID0gX2RhdGEyLnBvaW50O1xuXHQgICAgICAgIHZhciBkZXNlbGVjdGVkID0gZGVzZWxlY3RBbGwoc3RhdGUpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czIgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5wb2ludHMuc2xpY2UoMCwgX2luZGV4MykpLCBbKDAsIF9tYWtlUG9pbnQyLmRlZmF1bHQpKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludCkpXSwgKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5wb2ludHMuc2xpY2UoX2luZGV4MykpKTtcblx0XG5cdCAgICAgICAgdmFyIF9wb2ludHMzID0gX25ld1BvaW50czIubGVuZ3RoID4gMSA/ICgwLCBfaW5pdFBvaW50czIuZGVmYXVsdCkoX25ld1BvaW50czIpIDogX25ld1BvaW50czI7XG5cdFxuXHQgICAgICAgIHZhciBwYXRoID0gX3BvaW50czMubGVuZ3RoID4gMSA/ICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX3BvaW50czMpIDoge307XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBwb2ludHM6IF9wb2ludHMzIH0sIHBhdGgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfREVMRVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfcG9pbnRzNCA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhfcG9pbnRzNCk7XG5cdFxuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzMyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3BvaW50czQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBpdGVtID0gX3BvaW50czRbaV07XG5cdCAgICAgICAgICAoc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFgpICYmIF9uZXdQb2ludHMzLnB1c2goaXRlbSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBfbmV3UG9pbnRzMyB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHMzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX3BvaW50czUgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIF9zZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKF9wb2ludHM1KTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdQb2ludHM0ID0gW107XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfcG9pbnRzNS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgdmFyIF9pdGVtID0gX3BvaW50czVbaV0sXG5cdCAgICAgICAgICAgICAgdHlwZSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBwb2ludHNcblx0ICAgICAgICAgIF9uZXdQb2ludHM0LnB1c2goKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX2l0ZW0pKTtcblx0ICAgICAgICAgIC8vIGlmIGl0ZW0gd2FzIHNlbGVjdGVkIC0gc2V0IHRoZSBuZXcgYHR5cGVgXG5cdCAgICAgICAgICBfc2VsZWN0ZWQuaW5kZXhPZihpKSAhPT0gLTEgJiYgKF9uZXdQb2ludHM0W2ldLnR5cGUgPSB0eXBlKTtcblx0XG5cdCAgICAgICAgICB2YXIgX2luZGV4NCA9IGksXG5cdCAgICAgICAgICAgICAgX3BvaW50MiA9IF9uZXdQb2ludHM0W19pbmRleDRdLFxuXHQgICAgICAgICAgICAgIHNpYlBvaW50ID0gX2luZGV4NCA9PT0gX25ld1BvaW50czQubGVuZ3RoIC0gMSA/IF9uZXdQb2ludHM0W19pbmRleDQgLSAxXSA6IF9uZXdQb2ludHM0W19pbmRleDQgKyAxXTtcblx0XG5cdCAgICAgICAgICB2YXIgaGFuZGxlSW5kZXggPSBfaW5kZXg0ID09PSBfbmV3UG9pbnRzNC5sZW5ndGggLSAxID8gMSA6IDIsXG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlSW5kZXggPSBoYW5kbGVJbmRleCA9PT0gMSA/IDIgOiAxLFxuXHQgICAgICAgICAgICAgIGhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIGhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIHNpYkhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgICAgIGhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludDJbaGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9wb2ludDJbc2liSGFuZGxlTmFtZV0pO1xuXHRcblx0ICAgICAgICAgIF9wb2ludDJbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG5cdCAgICAgICAgICBfcG9pbnQyW3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnIHx8IHR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUuYW5nbGUgPSBoYW5kbGUuYW5nbGUgLSAxODA7XG5cdCAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWlycm9yZWQnKSB7XG5cdCAgICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBwb2ludHM6IF9uZXdQb2ludHM0IH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX25ld1BvaW50czQpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZGVzZWxlY3RBbGwoc3RhdGUpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgIC8vIEhBTkRMRVNcblx0ICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9wb2ludHM2ID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBfZGF0YTMgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICAvLyBjcmVhdGUgbmV3IHN0YXRlIGFuZCBjb3B5IHRoZSBuZXcgcG9pbnQgaW50byBpdFxuXHRcblx0ICAgICAgICB2YXIgX25ld1BvaW50czUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoX3BvaW50czYpKSxcblx0ICAgICAgICAgICAgbmV3UG9pbnQgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfbmV3UG9pbnRzNVtfZGF0YTMucGFyZW50SW5kZXhdKTtcblx0XG5cdCAgICAgICAgX25ld1BvaW50czVbX2RhdGEzLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuXHQgICAgICAgIC8vIGNyZWF0ZSBoYW5kbGUgYW5kIGNvcHkgaXQgaW50byB0aGUgbmV3IHBvaW50XG5cdCAgICAgICAgdmFyIF9oYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBfZGF0YTMuaW5kZXgsXG5cdCAgICAgICAgICAgIG5ld0hhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG5ld1BvaW50W19oYW5kbGVOYW1lXSk7XG5cdFxuXHQgICAgICAgIG5ld1BvaW50W19oYW5kbGVOYW1lXSA9IG5ld0hhbmRsZTtcblx0ICAgICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG5cdCAgICAgICAgbmV3SGFuZGxlLmFuZ2xlID0gX2RhdGEzLmFuZ2xlO1xuXHQgICAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBfZGF0YTMucmFkaXVzO1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgcG9pbnRzOiBfbmV3UG9pbnRzNSB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHM1KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdIQU5ETEVfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gc3RhdGU7IC8veyAuLi5zdGF0ZSB9O1xuXHQgICAgICB9XG5cdFxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwb2ludHNSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Zyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHR2YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgYXJyMltpXSA9IGFycltpXTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYXJyMjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxODApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5BcnJheS5mcm9tO1xuXG4vKioqLyB9LFxuLyogMTgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjdHggICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsIHRvT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIGNhbGwgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODIpXG5cdCAgLCBpc0FycmF5SXRlciAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgzKVxuXHQgICwgdG9MZW5ndGggICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKVxuXHQgICwgY3JlYXRlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NClcblx0ICAsIGdldEl0ZXJGbiAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODUpO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygxODcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuXHQgIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblx0ICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcblx0ICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuXHQgICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG5cdCAgICAgICwgYUxlbiAgICA9IGFyZ3VtZW50cy5sZW5ndGhcblx0ICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcblx0ICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuXHQgICAgICAsIGluZGV4ICAgPSAwXG5cdCAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuXHQgICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcblx0ICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcblx0ICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuXHQgICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuXHQgICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG5cdCAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG5cdCAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHR9KTtcblxuXG4vKioqLyB9LFxuLyogMTgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG5cdHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuXHQgIHRyeSB7XG5cdCAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuXHQgIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG5cdCAgfSBjYXRjaChlKXtcblx0ICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG5cdCAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuXHQgICAgdGhyb3cgZTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3Jcblx0dmFyIEl0ZXJhdG9ycyAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKVxuXHQgICwgSVRFUkFUT1IgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpXG5cdCAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgJGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIGNyZWF0ZURlc2MgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGluZGV4LCB2YWx1ZSl7XG5cdCAgaWYoaW5kZXggaW4gb2JqZWN0KSRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcblx0ICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KVxuXHQgICwgSVRFUkFUT1IgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ2l0ZXJhdG9yJylcblx0ICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cblx0ICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cblx0ICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NikoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuXHR2YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG5cdCAgICAvLyBidWlsdGluVGFnIGNhc2Vcblx0ICAgIDogQVJHID8gY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElURVJBVE9SICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oODYpKCdpdGVyYXRvcicpXG5cdCAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblx0XG5cdHRyeSB7XG5cdCAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG5cdCAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG5cdH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuXHQgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcblx0ICB2YXIgc2FmZSA9IGZhbHNlO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyICA9IFs3XVxuXHQgICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcblx0ICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcblx0ICAgIGV4ZWMoYXJyKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuIHNhZmU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBmYWxsYmFjayA9IGZ1bmN0aW9uIGZhbGxiYWNrKHZhbHVlLCBfZmFsbGJhY2spIHtcblx0ICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogX2ZhbGxiYWNrO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VIYW5kbGVQb2ludCA9IGZ1bmN0aW9uIG1ha2VIYW5kbGVQb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgaW5kZXg6IGZhbGxiYWNrKG8uaW5kZXgsIDApLFxuXHQgICAgLy8gY29vcmRpbmF0ZXNcblx0ICAgIGFuZ2xlOiBmYWxsYmFjayhvLmFuZ2xlLCBudWxsKSxcblx0ICAgIHJhZGl1czogZmFsbGJhY2soby5yYWRpdXMsIG51bGwpLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9zaXRpb25Qb2ludCA9IGZ1bmN0aW9uIG1ha2VQb3NpdGlvblBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgeDogZmFsbGJhY2soby54LCAwKSxcblx0ICAgIHk6IGZhbGxiYWNrKG8ueSwgMCksXG5cdCAgICAvLyB0ZW1wb3JhcnkgY29vcmRpbmF0ZXMgKHdoZW4gdXNlciBtb3ZlcyB0aGUgcG9pbnQpIC1cblx0ICAgIC8vIHNob3VsZCBub3QgYmUgaW4gaGlzdG9yeVxuXHQgICAgdGVtcFg6IGZhbGxiYWNrKG8udGVtcFgsIDApLFxuXHQgICAgdGVtcFk6IGZhbGxiYWNrKG8udGVtcFksIDApLFxuXHQgICAgLy8gc3RhdGVcblx0ICAgIGlzVG91Y2hlZDogZmFsbGJhY2soby5pc1RvdWNoZWQsIGZhbHNlKSxcblx0ICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKG8uaXNTZWxlY3RlZCwgZmFsc2UpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBtYWtlUG9pbnQgPSBmdW5jdGlvbiBtYWtlUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe1xuXHQgICAgLy8gc3RhdGVcblx0ICAgIC8vIGlzT25lSGFuZGxlOiBmYWxsYmFjayggby5pc09uZUhhbmRsZSwgZmFsc2UgKSxcblx0ICAgIGlzTG9ja2VkWDogZmFsbGJhY2soby5pc0xvY2tlZFgsIGZhbHNlKSxcblx0ICAgIGlzTG9ja2VkWTogZmFsbGJhY2soby5pc0xvY2tlZFksIGZhbHNlKSxcblx0ICAgIC8vIHR5cGUgb2YgdGhlIHBvaW50OlxuXHQgICAgLy8gICAnc3RyYWlnaHQnIHx8ICdtaXJyb3JlZCcgfHwgJ2Rpc2Nvbm5lY3RlZCcgfHwgJ2FzeW1ldHJpYydcblx0ICAgIHR5cGU6IGZhbGxiYWNrKG8udHlwZSwgJ3N0cmFpZ2h0Jylcblx0ICB9LCBtYWtlUG9zaXRpb25Qb2ludChvKSwge1xuXHQgICAgLy8gYWRkIGN1cnZlIGhhbmRsZXNcblx0ICAgIGhhbmRsZTE6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTEgfHwgeyBpbmRleDogMSB9KSxcblx0ICAgIGhhbmRsZTI6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTIgfHwgeyBpbmRleDogMiB9KVxuXHQgIH0pO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbWFrZVBvaW50O1xuXG4vKioqLyB9LFxuLyogMTg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfaW5pdFBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuXHRcblx0dmFyIF9pbml0UG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG5cdFxuXHQgIHZhciBuZXdQb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuXHQgICAgICAgIHNpYlBvaW50ID0gaSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyBwb2ludHNbaSAtIDFdIDogcG9pbnRzW2kgKyAxXSxcblx0ICAgICAgICBoYW5kbGVJbmRleCA9IGkgPT09IHBvaW50cy5sZW5ndGggLSAxID8gMSA6IDI7XG5cdFxuXHQgICAgbmV3UG9pbnRzLnB1c2goKDAsIF9pbml0UG9pbnQyLmRlZmF1bHQpKHBvaW50LCBzaWJQb2ludCwgaGFuZGxlSW5kZXgpKTtcblx0ICB9XG5cdCAgcmV0dXJuIG5ld1BvaW50cztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCwgc2liUG9pbnQsIGhhbmRsZUluZGV4KSB7XG5cdFxuXHQgICAgICBwb2ludCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50KTtcblx0XG5cdCAgICAgIHZhciBoYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBoYW5kbGVJbmRleCxcblx0ICAgICAgICAgIHNpYkhhbmRsZUluZGV4ID0gaGFuZGxlSW5kZXggPT09IDEgPyAyIDogMSxcblx0ICAgICAgICAgIHNpYkhhbmRsZU5hbWUgPSAnaGFuZGxlJyArIHNpYkhhbmRsZUluZGV4LFxuXHQgICAgICAgICAgaGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRbaGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgc2liSGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRbc2liSGFuZGxlTmFtZV0pLFxuXHQgICAgICAgICAgdHlwZSA9IHBvaW50LnR5cGU7XG5cdFxuXHQgICAgICBwb2ludFtoYW5kbGVOYW1lXSA9IGhhbmRsZTtcblx0ICAgICAgcG9pbnRbc2liSGFuZGxlTmFtZV0gPSBzaWJIYW5kbGU7XG5cdFxuXHQgICAgICBpZiAoaGFuZGxlLmFuZ2xlID09IG51bGwgfHwgaGFuZGxlLnJhZGl1cyA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIGhhbmRsZS5yYWRpdXMgPSA1MDtcblx0XG5cdCAgICAgICAgICAgIHZhciBkeSA9IChzaWJQb2ludC55IC0gcG9pbnQueSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsXG5cdCAgICAgICAgICAgICAgICBkeCA9IHNpYlBvaW50LnggLSBwb2ludC54O1xuXHRcblx0ICAgICAgICAgICAgdmFyIGFuZ2xlID0gTWF0aC5hdGFuKGR5IC8gZHgpICogKDE4MCAvIE1hdGguUEkpIC0gOTA7XG5cdCAgICAgICAgICAgIGlmIChkeCA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZSAtIDE4MDtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGhhbmRsZS5hbmdsZSA9IGFuZ2xlO1xuXHQgICAgICAgICAgICBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1cztcblx0ICAgICAgICAgICAgc2liSGFuZGxlLmFuZ2xlID0gaGFuZGxlLmFuZ2xlIC0gMTgwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcG9pbnQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVTZWdtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTIpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVTZWdtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVNlZ21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludHMpIHtcblx0ICB2YXIgcGF0aCA9ICcnLFxuXHQgICAgICBzZWdtZW50cyA9IFtdO1xuXHRcblx0ICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcG9pbnRzLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcblx0ICAgIHZhciBwb2ludCA9IHBvaW50c1tpbmRleF0sXG5cdCAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2luZGV4ICsgMV07XG5cdFxuXHQgICAgdmFyIHNlZ21lbnQgPSAoMCwgX2NhbGN1bGF0ZVNlZ21lbnQyLmRlZmF1bHQpKHBvaW50LCBuZXh0UG9pbnQsIGluZGV4KTtcblx0ICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG5cdFxuXHQgICAgcGF0aCArPSBzZWdtZW50LnN0cmluZztcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7IHBhdGg6IHBhdGgsIHNlZ21lbnRzOiBzZWdtZW50cyB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkzKTtcblx0XG5cdHZhciBfY2FsY3VsYXRlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUG9pbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCwgbmV4dFBvaW50LCBpbmRleCkge1xuXHQgICAgaWYgKCFuZXh0UG9pbnQpIHtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RyaW5nID0gJycsXG5cdCAgICAgICAgc2VnbWVudFN0cmluZyA9ICcnO1xuXHRcblx0ICAgIHZhciB4ID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuXHQgICAgICAgIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFksXG5cdCAgICAgICAgeE5leHQgPSBuZXh0UG9pbnQueCArIG5leHRQb2ludC50ZW1wWCxcblx0ICAgICAgICB5TmV4dCA9IG5leHRQb2ludC55ICsgbmV4dFBvaW50LnRlbXBZO1xuXHRcblx0ICAgIHZhciBwYXJ0MSA9ICdNJyArIHggKyAnLCAnICsgeSAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCArICcgJztcblx0ICAgIGlmIChpbmRleCA9PT0gMCkge1xuXHQgICAgICAgIHN0cmluZyArPSBwYXJ0MTtcblx0ICAgIH1cblx0ICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDE7XG5cdFxuXHQgICAgdmFyIHBhcnQyID0gKDAsIF9jYWxjdWxhdGVQb2ludDIuZGVmYXVsdCkocG9pbnQsIDIpO1xuXHQgICAgc3RyaW5nICs9IHBhcnQyO1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mjtcblx0XG5cdCAgICB2YXIgcGFydDMgPSAoMCwgX2NhbGN1bGF0ZVBvaW50Mi5kZWZhdWx0KShuZXh0UG9pbnQsIDEpO1xuXHQgICAgc3RyaW5nICs9IHBhcnQzO1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0Mztcblx0XG5cdCAgICB2YXIgcGFydDQgPSB4TmV4dCArICcsICcgKyB5TmV4dCAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCArICcgJztcblx0ICAgIHN0cmluZyArPSBwYXJ0NDtcblx0ICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDQ7XG5cdFxuXHQgICAgcmV0dXJuIHsgc3RyaW5nOiBzdHJpbmcsIHNlZ21lbnRTdHJpbmc6IHNlZ21lbnRTdHJpbmcsIGluZGV4OiBpbmRleCB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTkzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5nbGVUb1BvaW50KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnQpIHtcblx0ICB2YXIgaGFuZGxlSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICB2YXIgeCA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcblx0ICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcblx0ICAgICAgaGFuZGxlID0gcG9pbnRbJ2hhbmRsZScgKyBoYW5kbGVJbmRleF07XG5cdFxuXHQgIHZhciBDSEFSID0gaGFuZGxlSW5kZXggPT09IDIgPyAnQycgOiAnJztcblx0ICBpZiAocG9pbnQudHlwZSAhPT0gJ3N0cmFpZ2h0Jykge1xuXHQgICAgdmFyIGhhbmRsZUNvb3JkcyA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgcmV0dXJuICcnICsgQ0hBUiArICh4ICsgaGFuZGxlQ29vcmRzLnggLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQpICsgJywgJyArICh5ICsgaGFuZGxlQ29vcmRzLnkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gJycgKyBDSEFSICsgeCArICcsICcgKyB5IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUGF0aCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgaXNDb2RlOiBmYWxzZVxuXHR9O1xuXHRcblx0dmFyIGNvbnRyb2xzID0gZnVuY3Rpb24gY29udHJvbHMoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICBjYXNlICdDT0RFX1RBUCc6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgaXNDb2RlOiAhc3RhdGUuaXNDb2RlIH0pO1xuXHQgICAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBzdGF0ZTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNvbnRyb2xzO1xuXG4vKioqLyB9LFxuLyogMTk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBpc1Nob3c6IGZhbHNlLFxuXHQgIHR5cGU6ICdzdHJhaWdodCdcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IHJlZHVuZGFudFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuXHQgICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG5cdCAgICAvLyB9XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogdHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTc4KTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Db25zdW1hYmxlQXJyYXkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBzZWxlY3RlZDogMCxcblx0ICBsaW5lczogW11cblx0fTtcblx0XG5cdHZhciBnZXRDb2xvciA9IGZ1bmN0aW9uIGdldENvbG9yKGxpbmVzKSB7XG5cdCAgdmFyIENPTE9SUyA9IFsnI0ZGNTEyRicsICcjRkYwMEM1JywgJyMwMEZGNjknLCAnd2hpdGUnLCAnIzFCOEZFNicsICdDWUFOJywgJ1lFTExPVyddO1xuXHRcblx0ICByZXR1cm4gQ09MT1JTW2xpbmVzLmxlbmd0aCAlIENPTE9SUy5sZW5ndGhdO1xuXHR9O1xuXHRcblx0dmFyIG1ha2VQcm9ncmVzc0xpbmUgPSBmdW5jdGlvbiBtYWtlUHJvZ3Jlc3NMaW5lKCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzWzFdO1xuXHQgIHZhciBsaW5lcyA9IHN0YXRlLmxpbmVzO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgLy8gcHJvZ3Jlc3M6ICAgICAwLFxuXHQgICAgY29sb3I6IGdldENvbG9yKGxpbmVzKSxcblx0ICAgIG5hbWU6ICdlYXNpbmcnICsgKGxpbmVzLmxlbmd0aCArIDEpXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBwcm9ncmVzc2VzID0gZnVuY3Rpb24gcHJvZ3Jlc3NlcygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0XG5cdCAgICBjYXNlICdBRERfUFJPR1JFU1NfTElORSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSk7XG5cdCAgICAgICAgbmV3U3RhdGUubGluZXMgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkobmV3U3RhdGUubGluZXMpLCBbbWFrZVByb2dyZXNzTGluZShhY3Rpb24uZGF0YSwgc3RhdGUpXSk7XG5cdCAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnU0VUX1NFTEVDVEVEX1BST0dSRVNTX0xJTkUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9uLmluZGV4O1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgc2VsZWN0ZWQ6IGluZGV4IH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgLy8gY2FzZSAnU0VUX1BST0dSRVNTX0xJTkVfU0hJRlQnOiB7XG5cdCAgICAvLyAgIGNvbnN0IHtkYXRhfSAgICA9IGFjdGlvbixcblx0ICAgIC8vICAgICAgICAge2luZGV4fSAgID0gZGF0YSxcblx0ICAgIC8vICAgICAgICAgbmV3U3RhdGUgID0geyAuLi5zdGF0ZSB9LFxuXHQgICAgLy8gICAgICAgICB7bGluZXN9ICAgPSBuZXdTdGF0ZTtcblx0XG5cdCAgICAvLyAgIG5ld1N0YXRlLmxpbmVzICA9IFsgLi4ubGluZXMuc2xpY2UoIDAsIGluZGV4ICksXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgeyAuLi5saW5lc1tpbmRleF0sIHByb2dyZXNzOiBkYXRhLnByb2dyZXNzIH0sXG5cdCAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgLi4ubGluZXMuc2xpY2UoIGluZGV4KzEgKVxuXHQgICAgLy8gICAgICAgICAgICAgICAgICAgICBdO1xuXHRcblx0ICAgIC8vICAgcmV0dXJuIG5ld1N0YXRlO1xuXHQgICAgLy8gfVxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwcm9ncmVzc2VzO1xuXG4vKioqLyB9LFxuLyogMTk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVjeWNsZVN0YXRlO1xuXHQvLyByZWR1eC1yZWN5Y2xlIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5cdGZ1bmN0aW9uIHJlY3ljbGVTdGF0ZShyZWR1Y2VyKSB7XG5cdCAgdmFyIGFjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0ICB2YXIgaW5pdGlhbFN0YXRlID0gYXJndW1lbnRzWzJdO1xuXHRcblx0ICB2YXIgZ2V0SW5pdGlhbFN0YXRlID0gdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZSA6IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBpbml0aWFsU3RhdGU7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICBpZiAoYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwKSB7XG5cdCAgICAgIHJldHVybiByZWR1Y2VyKGdldEluaXRpYWxTdGF0ZShzdGF0ZSwgYWN0aW9uKSwgeyB0eXBlOiAnQEByZWR1eC1yZWN5Y2xlL0lOSVQnIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkdXgtcmVjeWNsZVxuXG4vKioqLyB9LFxuLyogMTk4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0Lypcblx0ICBGdW5jdGlvbiB0byBnZW5lcmF0ZSBoYXNoIGNvZGUuXG5cdCAgQHByaXZhdGVcblx0ICBAcmV0dXJuIHtTdHJpbmd9IEhhc2ggY29kZS5cblx0Ki9cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICB2YXIgaGFzaCA9IDAsXG5cdCAgICAgIGksXG5cdCAgICAgIGNocixcblx0ICAgICAgbGVuO1xuXHQgIGlmIChzdHIubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcblx0ICBmb3IgKGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHQgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNocjtcblx0ICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdCAgfVxuXHQgIHJldHVybiBNYXRoLmFicyhoYXNoKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdC8qXG5cdCAgRnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBzZWNvbmQgYXJndW1lbnQgaWYgdGhlIGZpcnN0IG9uZSBpc24ndCBzZXQuXG5cdCAgQHByaXZhdGVcblx0ICBAcGFyYW0ge0FueX0gUHJvcGVydHkgdG8gc2V0LlxuXHQgIEBwYXJhbSB7QW55fSBQcm9wZXJ0eSB0byByZXR1cm4gYXMgZmFsbGJhY2suXG5cdCAgQHJldHVybnMge0FueX0gSWYgc2V0IC0gdGhlIGZpcnN0IHByb3BlcnR5LCBpZiBub3QgLSB0aGUgc2Vjb25kLlxuXHQqL1xuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocHJvcCwgZmFsbGJhY2spIHtcblx0ICByZXR1cm4gcHJvcCAhPSBudWxsID8gcHJvcCA6IGZhbGxiYWNrO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgc2V0VGltZW91dChmbiwgMSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDIwMiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMjAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5LGh0bWx7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQ6I2ZmZjVlNH0qe2JveC1zaXppbmc6Ym9yZGVyLWJveH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBtb2pzLWN1cnZlLWVkaXRvci5taW4uanNcbiAqKi8iLCIgXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZW1vanNfY3VydmVfZWRpdG9yXCJdO1xuIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXSA9IFxyXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHR0cnkge1xyXG4gXHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuIFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuIFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4gXHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuIFx0XHR9XHJcbiBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4gXHRcdFx0aWYocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcclxuIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbiBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuIFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcclxuIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRjYWxsYmFjayhuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuIFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrKGUpO1xyXG4gXHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCB1cGRhdGUpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH07XHJcbiBcdH1cclxuXG4gXHRcclxuIFx0XHJcbiBcdC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2JlZjQ1YjAvc3JjL3NoYXJlZC91dGlscy9jYW5EZWZpbmVQcm9wZXJ0eS5qc1xyXG4gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuIFx0dHJ5IHtcclxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwieFwiLCB7XHJcbiBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuIFx0XHR9KTtcclxuIFx0XHRjYW5EZWZpbmVQcm9wZXJ0eSA9IHRydWU7XHJcbiBcdH0gY2F0Y2goeCkge1xyXG4gXHRcdC8vIElFIHdpbGwgZmFpbCBvbiBkZWZpbmVQcm9wZXJ0eVxyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMWYwMGU4ZTcwNTEwODQ0ZDJhYWFcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbiBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbiBcdFx0XHRcdH0gZWxzZSBob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbiBcdFx0fTtcclxuIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbiBcdFx0XHRcdGlmKGNhbkRlZmluZVByb3BlcnR5KSB7XHJcbiBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCAoZnVuY3Rpb24obmFtZSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiBcdFx0XHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4gXHRcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHRcdH0obmFtZSkpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGVuc3VyZShjaHVua0lkLCBjYWxsYmFjaykge1xyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbiBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBmbik7XHJcbiBcdFx0XHRcdH0gZmluYWxseSB7XHJcbiBcdFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuIFx0XHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbiBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH0pO1xyXG4gXHRcdH1cclxuIFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHR2YWx1ZTogZW5zdXJlXHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0Zm4uZSA9IGVuc3VyZTtcclxuIFx0XHR9XHJcbiBcdFx0cmV0dXJuIGZuO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBob3QgPSB7XHJcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbiBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwibnVtYmVyXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuIFx0XHR9O1xyXG4gXHRcdHJldHVybiBob3Q7XHJcbiBcdH1cclxuIFx0XHJcbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RDYWxsYmFjaztcclxuIFx0XHJcbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5LCBjYWxsYmFjaykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBhcHBseSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gZmFsc2U7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4gXHRcdGhvdERvd25sb2FkTWFuaWZlc3QoZnVuY3Rpb24oZXJyLCB1cGRhdGUpIHtcclxuIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4gXHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB1cGRhdGUuYy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXBbdXBkYXRlLmNbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xyXG4gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGlibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuIFx0XHRob3RDYWxsYmFjayA9IG51bGw7XHJcbiBcdFx0aWYoIWNhbGxiYWNrKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSwgY2FsbGJhY2spO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zLCBjYWxsYmFjaykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbiBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBvcHRpb25zO1xyXG4gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlKSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgbW9kdWxlSWQgKyBcIiBpbiBcIiArIHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0cmV0dXJuIFtvdXRkYXRlZE1vZHVsZXMsIG91dGRhdGVkRGVwZW5kZW5jaWVzXTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4gXHRcdFx0XHR2YXIgcmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuIFx0XHRcdFx0XHRpZihvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIikpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdFswXSk7XHJcbiBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbiBcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdFsxXSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0WzFdW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbiBcdFx0XHRcdH0pO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4gXHRcclxuIFx0XHRcdHZhciBkYXRhID0ge307XHJcbiBcdFxyXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbiBcdFx0XHRcdGNiKGRhdGEpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuIFx0XHJcbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbiBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbiBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4gXHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuIFx0XHJcbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdHZhciBjYiA9IGNhbGxiYWNrc1tpXTtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0Y2Iob3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbiBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fSBlbHNlIGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbiBcdFx0aWYoZXJyb3IpIHtcclxuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbiBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuIFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHR9XHJcblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiBob3RDdXJyZW50UGFyZW50cyxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiYnVpbGQvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAxZjAwZThlNzA1MTA4NDRkMmFhYVxuICoqLyIsIi8vIGltcG9ydCAnLi90YWdzL2N1cnZlLWVkaXRvci50YWcnO1xucmVxdWlyZSgnLi4vY3NzL21haW4nKTtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncHJlYWN0LXJlZHV4JztcbmltcG9ydCB7cmVuZGVyLCBofSAgZnJvbSAncHJlYWN0JztcbmltcG9ydCBDdXJ2ZUVkaXRvciAgZnJvbSAnLi90YWdzL2N1cnZlLWVkaXRvcic7XG5pbXBvcnQgaW5pdFN0b3JlICAgIGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IEMgICAgICAgICAgICBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgaGFzaCAgICAgICAgIGZyb20gJy4vaGVscGVycy9oYXNoJztcbmltcG9ydCBmYWxsYmFja1RvICAgZnJvbSAnLi9oZWxwZXJzL2ZhbGxiYWNrLXRvJztcbmltcG9ydCBkZWZlciAgICAgICAgZnJvbSAnLi9oZWxwZXJzL2RlZmVyJztcbmltcG9ydCBhZGRQb2ludGVyRG93biBmcm9tICcuL2hlbHBlcnMvYWRkLXBvaW50ZXItZG93bic7XG5cbi8vIFRPRE9cbi8vICAgLSByZXNpemUgZG93biB3aGVuIHBvaW50cyBhcmUgYWJvdmUgdGhlIGVkaXRvciBib3JkZXJcbi8vICAgLSBwZXJmb3JtYW5jZVxuLy8gICAtIGltcG9ydCBwYXRoIGRhdGFcbi8vICAgLSBtb3ZlIGJ1bmNoIG9mIHBvaW50cyBhdCBvbmNlXG5cblxuLypcbiAgQVBJIHdyYXBwZXIgYWJvdmUgdGhlIGFwcCBpdHNlbGYuXG4qL1xuY2xhc3MgQVBJIHtcbiAgY29uc3RydWN0b3IgKCBvID0ge30gKSB7XG4gICAgdGhpcy5fbyA9IG87XG5cbiAgICB0aGlzLl9kZWNhbGFyZURlZmF1bHRzKCk7XG4gICAgdGhpcy5fZXh0ZW5kRGVmYXVsdHMoKTtcbiAgICB0aGlzLl92YXJzKCk7XG4gICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgdGhpcy5fdHJ5VG9SZXN0b3JlKCk7XG4gICAgdGhpcy5fbGlzdGVuVW5sb2FkKCk7XG5cbiAgICB0aGlzLl9zdWJzY3JpYmUoKTtcbiAgICB0aGlzLl9zdWJzY3JpYmVGb2N1cygpO1xuICB9XG5cbiAgX2RlY2FsYXJlRGVmYXVsdHMgKCApIHtcbiAgICB0aGlzLl9kZWZhdWx0cyA9IHtcbiAgICAgIG5hbWU6ICAgICAgICAgICAnbW9qcy1jdXJ2ZS1lZGl0b3InLFxuICAgICAgaXNTYXZlU3RhdGU6ICAgIHRydWVcbiAgICB9XG4gIH1cblxuXG4gIF9leHRlbmREZWZhdWx0cyAoKSB7XG4gICAgdGhpcy5fcHJvcHMgPSB7fTtcblxuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9kZWZhdWx0cykge1xuICAgICAgdGhpcy5fcHJvcHNbIGtleSBdID0gZmFsbGJhY2tUbyggdGhpcy5fb1trZXldLCB0aGlzLl9kZWZhdWx0c1trZXldICk7XG4gICAgfVxuICB9XG5cbiAgX3ZhcnMgKCkge1xuICAgIHRoaXMucmV2aXNpb24gPSAnMS4wLjAnO1xuICAgIHRoaXMuc3RvcmUgICAgPSBpbml0U3RvcmUoKTtcblxuICAgIHRoaXMuX2Vhc2luZ3MgPSBbXTtcbiAgICB0aGlzLl9wcm9ncmVzc0xpbmVzID0gW107XG5cbiAgICBsZXQgc3RyID0gZmFsbGJhY2tUbyggdGhpcy5fby5uYW1lLCB0aGlzLl9kZWZhdWx0cy5uYW1lICk7XG4gICAgc3RyICs9ICggc3RyID09PSB0aGlzLl9kZWZhdWx0cy5uYW1lICkgPyAnJyA6IGBfXyR7dGhpcy5fZGVmYXVsdHMubmFtZX1gO1xuICAgIHRoaXMuX2xvY2FsU3RvcmFnZSA9IGAke3N0cn1fXyR7IGhhc2goIHN0ciApIH1gO1xuXG4gICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdTRVRfRURJVE9SX05BTUUnLCBkYXRhOiB0aGlzLl9sb2NhbFN0b3JhZ2UgfSk7XG4gIH1cblxuICBfcmVuZGVyICgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3RoaXMuc3RvcmV9PlxuICAgICAgICAgIDxDdXJ2ZUVkaXRvciBwcm9ncmVzc0xpbmVzPXt0aGlzLl9wcm9ncmVzc0xpbmVzfSAvPlxuICAgICAgICA8L1Byb3ZpZGVyPiwgZG9jdW1lbnQuYm9keSk7XG4gICAgfSk7XG4gIH1cblxuICBfbGlzdGVuVW5sb2FkICgpIHtcbiAgICBjb25zdCB1bmxvYWRFdmVudCA9ICgnb25wYWdlaGlkZScgaW4gd2luZG93KSA/ICdwYWdlaGlkZScgOiAnYmVmb3JldW5sb2FkJztcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggdW5sb2FkRXZlbnQsICgpID0+IHtcbiAgICAgIGlmICggdGhpcy5fcHJvcHMuaXNTYXZlU3RhdGUgKSB7XG4gICAgICAgIGNvbnN0IHByZVN0YXRlID0geyAuLi50aGlzLnN0b3JlLmdldFN0YXRlKCkgfTtcblxuICAgICAgICBkZWxldGUgcHJlU3RhdGUucG9pbnRzLmhpc3Rvcnk7XG4gICAgICAgIGRlbGV0ZSBwcmVTdGF0ZS5wb2ludENvbnRyb2xzLmhpc3Rvcnk7XG4gICAgICAgIHByZVN0YXRlLnByb2dyZXNzTGluZXMubGluZXMgPSBbXTtcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9sb2NhbFN0b3JhZ2UsIEpTT04uc3RyaW5naWZ5KCBwcmVTdGF0ZSApICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSggdGhpcy5fbG9jYWxTdG9yYWdlICk7XG4gICAgICB9XG4gICAgfSk7XG5cblxuICB9XG5cbiAgX3RyeVRvUmVzdG9yZSAoKSB7XG4gICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5fbG9jYWxTdG9yYWdlKTtcbiAgICBpZiAoIHN0b3JlZCApIHsgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdTRVRfU1RBVEUnLCBkYXRhOiBKU09OLnBhcnNlKHN0b3JlZCkgfSk7fVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7eDogMCwgICB5OiBDLkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZX0sIGluZGV4OiAwIH0gfSk7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHt4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZX0sIGluZGV4OiAxIH0gfSk7XG4gICAgICAvLyB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX1NFTEVDVCcsIGRhdGE6IHsgaW5kZXg6IDAsIHR5cGU6ICdzdHJhaWdodCcgfSB9KTtcbiAgICB9XG4gIH1cblxuICBfc3Vic2NyaWJlICgpIHtcbiAgICB0aGlzLl9jb21waWxlUGF0aCgpO1xuICAgIHRoaXMuc3RvcmUuc3Vic2NyaWJlKCB0aGlzLl9jb21waWxlUGF0aC5iaW5kKHRoaXMpICk7XG4gIH1cblxuICBfc3Vic2NyaWJlRm9jdXMgKCkge1xuICAgIGFkZFBvaW50ZXJEb3duKCBkb2N1bWVudC5ib2R5LCAoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2xvY2FsU3RvcmFnZSAhPT0gZS5fbW9qc0N1cnZlRWRpdG9yTmFtZSkge1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfY29tcGlsZVBhdGggKCkge1xuICAgIGNvbnN0IHN0YXRlICAgICA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBwb2ludHMgICAgPSBzdGF0ZS5wb2ludHMucHJlc2VudCxcbiAgICAgICAgICB7cGF0aH0gICAgPSBwb2ludHM7XG5cbiAgICBpZiAoIHRoaXMuX3ByZXZQYXRoICE9PSBwYXRoICkge1xuICAgICAgdGhpcy5fcHJldlBhdGggPSBwYXRoO1xuICAgICAgdGhpcy5fZWFzaW5nID0gbW9qcy5lYXNpbmcucGF0aCggcGF0aCApO1xuICAgICAgdGhpcy5fZmlyZU9uQ2hhbmdlKCBwYXRoICk7XG4gICAgfVxuICB9XG5cbiAgX2ZpcmVPbkNoYW5nZSAoIHBhdGggKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lYXNpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZWNvcmQgICAgID0gdGhpcy5fZWFzaW5nc1tpXSxcbiAgICAgICAgICAgIHtvcHRpb25zLCBlYXNpbmd9ICA9IHJlY29yZCxcbiAgICAgICAgICAgIHtvbkNoYW5nZX0gPSBvcHRpb25zO1xuICAgICAgXG4gICAgICAodHlwZW9mIG9uQ2hhbmdlID09PSAnZnVuY3Rpb24nICkgJiYgb25DaGFuZ2UoIGVhc2luZywgcGF0aCApO1xuICAgICAgdGhpcy5fdXBkYXRlUGFyZW50KCBlYXNpbmcgKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlUGFyZW50KCBlYXNpbmcgKSB7XG4gICAgY29uc3QgcGFyZW50ID0gZWFzaW5nLl9wYXJlbnQ7XG5cbiAgICBpZiAoIHBhcmVudCAmJiBwYXJlbnQuc2V0UHJvZ3Jlc3MgKSB7XG4gICAgICB0aGlzLl90cmlnZ2VyUGFyZW50KCBwYXJlbnQgKTtcbiAgICB9IGVsc2UgaWYgKCBwYXJlbnQudGltZWxpbmUgKSB7XG4gICAgICB0aGlzLl90cmlnZ2VyUGFyZW50KCBwYXJlbnQudGltZWxpbmUgKVxuICAgIH0gZWxzZSBpZiAoIHBhcmVudC50d2VlbiApIHtcbiAgICAgIHRoaXMuX3RyaWdnZXJQYXJlbnQoIHBhcmVudC50d2VlbiApXG4gICAgfVxuICB9XG5cbiAgX3RyaWdnZXJQYXJlbnQgKHBhcmVudCkge1xuICAgIGNvbnN0IHN0ZXAgPSAwLjAwMSxcbiAgICAgICAgICB7cHJvZ3Jlc3N9ID0gcGFyZW50LFxuICAgICAgICAgIHVwZGF0ZVByb2dyZXNzID0gKHByb2dyZXNzICsgc3RlcCA8IDEgKVxuICAgICAgICAgICAgPyAocHJvZ3Jlc3MgKyBzdGVwKSA6IChwcm9ncmVzcyAtIHN0ZXApO1xuXG4gICAgcGFyZW50LnNldFByb2dyZXNzKCB1cGRhdGVQcm9ncmVzcyApO1xuICAgIHBhcmVudC5zZXRQcm9ncmVzcyggcHJvZ3Jlc3MgKTtcbiAgfVxuXG4gIGdldEVhc2luZyAobz17fSkge1xuICAgIC8vIGdldCB0aGUgZWFzaW5nIGZ1bmN0aW9uIHJlZ2FyZGluZyByZXZlcnNlIG9wdGlvbnNcbiAgICBjb25zdCBmdW4gPSAoKCkgPT4ge1xuICAgICAgY29uc3QgaSA9IHRoaXMuX2Vhc2luZ3MubGVuZ3RoO1xuICAgICAgcmV0dXJuIChrKSA9PiB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzTGluZSggaywgaSwgdGhpcy5fcHJvZ3Jlc3NMaW5lcyApO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLl9lYXNpbmdzW2ldLm9wdGlvbnMudHJhbnNmb3JtO1xuICAgICAgICByZXR1cm4gKCB0cmFuc2Zvcm0gKVxuICAgICAgICAgID8gdHJhbnNmb3JtKCB0aGlzLl9lYXNpbmcoIGsgKSApIDogdGhpcy5fZWFzaW5nKCBrICk7XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQUREX1BST0dSRVNTX0xJTkUnLCBkYXRhOiB7fSB9KTtcbiAgICB0aGlzLl9lYXNpbmdzLnB1c2goeyBvcHRpb25zOiBvLCBlYXNpbmc6IGZ1biB9KTtcblxuICAgIGRlZmVyKCAoKSA9PiB7IHRoaXMuX2ZpcmVPbkNoYW5nZSggdGhpcy5fcHJldlBhdGggKTsgfSk7XG4gICAgcmV0dXJuIGZ1bjtcbiAgfVxuXG4gIF91cGRhdGVQcm9ncmVzc0xpbmUgKHAsIGksIGxpbmVzKSB7XG4gICAgY29uc3QgZWwgPSBsaW5lc1tpXSxcbiAgICAgICAgICBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICB7cmVzaXplfSA9IHN0YXRlO1xuXG4gICAgaWYgKCAhZWwgKSB7IHJldHVybjsgfVxuXG4gICAgZWwuc3R5bGUubGVmdCA9IGAke3AqMTAwfSVgO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQVBJO1xud2luZG93Lk1vanNDdXJ2ZUVkaXRvciA9IEFQSTtcblxuLy8gY3VydmVcbi8vICAgLmdldEZ1bmN0aW9uKHsgaXNJbnZlcnNlWDogZmFsc2UsIGlzSW52ZXJzZVk6IHRydWUsIG5hbWU6ICdTb21lIG5hbWUnIH0pXG4vLyAgIC5nZXRDb2RlKClcblxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2FwcC5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvYXNzaWduXCIpO1xuXG52YXIgX2Fzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKVxuICAsIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJT2JqZWN0ICA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgdmFyIEEgPSB7fVxuICAgICwgQiA9IHt9XG4gICAgLCBTID0gU3ltYm9sKClcbiAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW1NdID0gNztcbiAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG4gICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGluZGV4ID0gMVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuICB3aGlsZShhTGVuID4gaW5kZXgpe1xuICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcbiAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgLCBqICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShsZW5ndGggPiBqKWlmKGlzRW51bS5jYWxsKFMsIGtleSA9IGtleXNbaisrXSkpVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnQgeyBDb21wb25lbnQsIGggYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0b25seShjaGlsZHJlbikge1xuXHRcdHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlblswXSB8fCBudWxsO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5wcm9wdHlwZS5pc1JlcXVpcmVkID0gcHJvcHR5cGU7XG5cbmV4cG9ydCBjb25zdCBQcm9wVHlwZXMgPSB7XG5cdGVsZW1lbnQ6IHByb3B0eXBlLFxuXHRmdW5jOiBwcm9wdHlwZSxcblx0c2hhcGU6ICgpID0+IHByb3B0eXBlXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vc3JjL2NvbXBhdC5qc1xuICoqLyIsIi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BUeXBlcywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdG9yZVNoYXBlIGZyb20gJy4uL3V0aWxzL3N0b3JlU2hhcGUnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuXG5sZXQgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSBmYWxzZVxuZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG4gIGlmIChkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSkge1xuICAgIHJldHVyblxuICB9XG4gIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZVxuXG4gIHdhcm5pbmcoXG4gICAgJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgK1xuICAgICdJdCBpcyBtb3N0IGxpa2VseSB0aGF0IHlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSB1cGRhdGVkIHRvICcgK1xuICAgICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICtcbiAgICAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgK1xuICAgICd0YWcvdjIuMC4wIGZvciB0aGUgbWlncmF0aW9uIGluc3RydWN0aW9ucy4nXG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHsgc3RvcmU6IHRoaXMuc3RvcmUgfVxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dClcbiAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pXG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgY29uc3QgeyBzdG9yZSB9ID0gdGhpc1xuICAgIGNvbnN0IHsgc3RvcmU6IG5leHRTdG9yZSB9ID0gbmV4dFByb3BzXG5cbiAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKVxuICAgIH1cbiAgfVxufVxuXG5Qcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkXG59XG5Qcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgc3RvcmU6IHN0b3JlU2hhcGUuaXNSZXF1aXJlZFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9Qcm92aWRlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqQSlcbiAgY29uc3Qga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKVxuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgY29uc3QgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHxcbiAgICAgICAgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc2hhbGxvd0VxdWFsLmpzXG4gKiovIiwiaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXBBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycykge1xuICByZXR1cm4gZGlzcGF0Y2ggPT4gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaClcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qc1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0b3JlU2hhcGUgZnJvbSAnLi4vdXRpbHMvc3RvcmVTaGFwZSdcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnLi4vdXRpbHMvc2hhbGxvd0VxdWFsJ1xuaW1wb3J0IHdyYXBBY3Rpb25DcmVhdG9ycyBmcm9tICcuLi91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnbG9kYXNoL2lzUGxhaW5PYmplY3QnXG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJ1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnXG5cbmNvbnN0IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe30pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmNvbnN0IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoeyBkaXNwYXRjaCB9KVxuY29uc3QgZGVmYXVsdE1lcmdlUHJvcHMgPSAoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpID0+ICh7XG4gIC4uLnBhcmVudFByb3BzLFxuICAuLi5zdGF0ZVByb3BzLFxuICAuLi5kaXNwYXRjaFByb3BzXG59KVxuXG5mdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J1xufVxuXG5sZXQgZXJyb3JPYmplY3QgPSB7IHZhbHVlOiBudWxsIH1cbmZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4uYXBwbHkoY3R4KVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3JPYmplY3QudmFsdWUgPSBlXG4gICAgcmV0dXJuIGVycm9yT2JqZWN0XG4gIH1cbn1cblxuLy8gSGVscHMgdHJhY2sgaG90IHJlbG9hZGluZy5cbmxldCBuZXh0VmVyc2lvbiA9IDBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKVxuICBjb25zdCBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzXG5cbiAgbGV0IG1hcERpc3BhdGNoXG4gIGlmICh0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHNcbiAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzXG4gIH0gZWxzZSB7XG4gICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKVxuICB9XG5cbiAgY29uc3QgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wc1xuICBjb25zdCB7IHB1cmUgPSB0cnVlLCB3aXRoUmVmID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgY29uc3QgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHNcblxuICAvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuICBjb25zdCB2ZXJzaW9uID0gbmV4dFZlcnNpb24rK1xuXG4gIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGNvbnN0IGNvbm5lY3REaXNwbGF5TmFtZSA9IGBDb25uZWN0KCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWBcblxuICAgIGZ1bmN0aW9uIGNoZWNrU3RhdGVTaGFwZShwcm9wcywgbWV0aG9kTmFtZSkge1xuICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGAke21ldGhvZE5hbWV9KCkgaW4gJHtjb25uZWN0RGlzcGxheU5hbWV9IG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0LiBgICtcbiAgICAgICAgICBgSW5zdGVhZCByZWNlaXZlZCAke3Byb3BzfS5gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTWVyZ2VkUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcbiAgICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZmluYWxNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpXG4gICAgICB9XG4gICAgICByZXR1cm4gbWVyZ2VkUHJvcHNcbiAgICB9XG5cbiAgICBjbGFzcyBDb25uZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gICAgICAgIHRoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlXG5cbiAgICAgICAgaW52YXJpYW50KHRoaXMuc3RvcmUsXG4gICAgICAgICAgYENvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgYCArXG4gICAgICAgICAgYHByb3BzIG9mIFwiJHtjb25uZWN0RGlzcGxheU5hbWV9XCIuIGAgK1xuICAgICAgICAgIGBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBgICtcbiAgICAgICAgICBgb3IgZXhwbGljaXRseSBwYXNzIFwic3RvcmVcIiBhcyBhIHByb3AgdG8gXCIke2Nvbm5lY3REaXNwbGF5TmFtZX1cIi5gXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGUgfVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuXG4gICAgICBjb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgY29uc3Qgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKHN0YXRlUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZVByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZFN0YXRlID0gbWFwU3RhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgcHJvcHMpXG4gICAgICAgIGNvbnN0IGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xuXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlXG4gICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxXG5cbiAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGVcbiAgICAgIH1cblxuICAgICAgY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gc3RvcmVcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hQcm9wcyA9IHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKGRpc3BhdGNoUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKVxuICAgICAgICBjb25zdCBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbidcblxuICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaFxuICAgICAgICB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzLmxlbmd0aCAhPT0gMVxuXG4gICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWREaXNwYXRjaCwgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZERpc3BhdGNoXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgIGNvbnN0IG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0RGlzcGF0Y2hQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHNcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dE1lcmdlZFByb3BzID0gY29tcHV0ZU1lcmdlZFByb3BzKHRoaXMuc3RhdGVQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgfVxuXG4gICAgICB0cnlTdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJ5VW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpXG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoIXB1cmUgfHwgIXNoYWxsb3dFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnRyeVVuc3Vic2NyaWJlKClcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cblxuICAgICAgY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbnVsbFxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGxcbiAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIGNvbnN0IHByZXZTdG9yZVN0YXRlID0gdGhpcy5zdGF0ZS5zdG9yZVN0YXRlXG4gICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG4gICAgICAgICAgY29uc3QgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ5Q2F0Y2godGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsIHRoaXMpXG4gICAgICAgICAgaWYgKCFoYXZlU3RhdGVQcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdG9yZVN0YXRlIH0pXG4gICAgICB9XG5cbiAgICAgIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICAgaW52YXJpYW50KHdpdGhSZWYsXG4gICAgICAgICAgYFRvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSBgICtcbiAgICAgICAgICBgeyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuYFxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2VcbiAgICAgIH1cblxuICAgICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCxcbiAgICAgICAgICBoYXNTdG9yZVN0YXRlQ2hhbmdlZCxcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkLFxuICAgICAgICAgIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yLFxuICAgICAgICAgIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9ID0gdGhpc1xuXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbFxuXG4gICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWVcbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSB0cnVlXG4gICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgIHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMgPSBoYXNTdG9yZVN0YXRlQ2hhbmdlZCB8fCAoXG4gICAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID1cbiAgICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgbGV0IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkKSB7XG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcbiAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpdGhSZWYpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4udGhpcy5tZXJnZWRQcm9wcyxcbiAgICAgICAgICAgIHJlZjogJ3dyYXBwZWRJbnN0YW5jZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LFxuICAgICAgICAgICAgdGhpcy5tZXJnZWRQcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudFxuICAgICAgfVxuICAgIH1cblxuICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWVcbiAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50XG4gICAgQ29ubmVjdC5jb250ZXh0VHlwZXMgPSB7XG4gICAgICBzdG9yZTogc3RvcmVTaGFwZVxuICAgIH1cbiAgICBDb25uZWN0LnByb3BUeXBlcyA9IHtcbiAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBhcmUgaG90IHJlbG9hZGluZyFcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvblxuICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanNcbiAqKi8iLCJpbXBvcnQgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgUHJvcFR5cGVzLnNoYXBlKHtcbiAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0U3RhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zdG9yZVNoYXBlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiovIiwiLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qc1xuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBjb250ZXh0VHlwZXM6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBtaXhpbnM6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxuICAgIHR5cGU6IHRydWVcbn07XG5cbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICAgIG5hbWU6IHRydWUsXG4gICAgbGVuZ3RoOiB0cnVlLFxuICAgIHByb3RvdHlwZTogdHJ1ZSxcbiAgICBjYWxsZXI6IHRydWUsXG4gICAgYXJndW1lbnRzOiB0cnVlLFxuICAgIGFyaXR5OiB0cnVlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXlzW2ldXSAmJiAhS05PV05fU1RBVElDU1trZXlzW2ldXSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2ludmFyaWFudC9pbnZhcmlhbnQuanNcbiAqKi8iLCIvKiogQ29weSBvd24tcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqXHRAcmV0dXJucyBvYmpcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0aWYgKHByb3BzKSB7XG5cdFx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldIT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9ialtpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBGYXN0IGNsb25lLiBOb3RlOiBkb2VzIG5vdCBmaWx0ZXIgb3V0IG5vbi1vd24gcHJvcGVydGllcy5cbiAqXHRAc2VlIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTZiYWEzNGY0NWRmNjg5NTAwMmUwM2I2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0cmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuXG4vKiogR2V0IGEgZGVlcCBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QsIGV4cHJlc3NlZCBpbiBkb3Qtbm90YXRpb24uXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdGZvciAobGV0IHA9a2V5LnNwbGl0KCcuJyksIGk9MDsgaTxwLmxlbmd0aCAmJiBvYmo7IGkrKykge1xuXHRcdG9iaiA9IG9ialtwW2ldXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIEFycmF5XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0cmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgRnVuY3Rpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuICdmdW5jdGlvbic9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgU3RyaW5nPyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHRyZXR1cm4gJ3N0cmluZyc9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHRyZXR1cm4geD09PXVuZGVmaW5lZCB8fCB4PT09bnVsbDtcbn1cblxuXG4vKiogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBleHBsaWNpdGx5IGBmYWxzZWAuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZT09PWZhbHNlIHx8IGVtcHR5KHZhbHVlKTtcbn1cblxuXG4vKiogQ29udmVydCBhIGhhc2htYXAgb2YgQ1NTIGNsYXNzZXMgdG8gYSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NOYW1lIHN0cmluZ1xuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IHByb3AgaW4gYykge1xuXHRcdGlmIChjW3Byb3BdKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0c3RyICs9IHByb3A7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG5cblxuLyoqIEp1c3QgYSBtZW1vaXplZCBTdHJpbmcjdG9Mb3dlckNhc2UgKi9cbmxldCBsY0NhY2hlID0ge307XG5leHBvcnQgY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuXG4gKlx0QHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xubGV0IHJlc29sdmVkID0gdHlwZW9mIFByb21pc2UhPT0ndW5kZWZpbmVkJyAmJiBQcm9taXNlLnJlc29sdmUoKTtcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IChmID0+IHsgcmVzb2x2ZWQudGhlbihmKTsgfSkgOiBzZXRUaW1lb3V0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZmFsc2V5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzaFRvQ2xhc3NOYW1lIH0gZnJvbSAnLi91dGlsJztcblxuXG5jb25zdCBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXG5cbi8qKiBKU1gvaHlwZXJzY3JpcHQgcmV2aXZlclxuICpcdEBzZWUgaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4XG4gKlx0QHB1YmxpY1xuICogIEBleGFtcGxlXG4gKiAgLyoqIEBqc3ggaCAqXFwvXG4gKiAgaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbiAqICByZW5kZXIoPHNwYW4+Zm9vPC9zcGFuPiwgZG9jdW1lbnQuYm9keSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdGxldCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGU7XG5cblxuXHRpZiAobGVuPjIpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHRcdGlmIChsZW49PT0zICYmIHR5cGUhPT0nb2JqZWN0JyAmJiB0eXBlIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbU3RyaW5nKGZpcnN0Q2hpbGQpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaT0yOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdGxldCBwID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoZmFsc2V5KHApKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHAuam9pbikgYXJyID0gcDtcblx0XHRcdFx0ZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gcDtcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPGFyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGxldCBjaGlsZCA9IGFycltqXSxcblx0XHRcdFx0XHRcdHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXSArPSBjaGlsZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0XHRcdFx0bGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikge1xuXHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHRcdFx0Ly8gbm9ybWFsaXplIGNsYXNzTmFtZSB0byBjbGFzcy5cblx0XHRcdGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0XHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0XHRcdGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5zdHlsZTtcblx0XHRcdC8vIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0Ly8gXHRhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVPYmpUb0NzcyhsYXN0U2ltcGxlKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cdH1cblxuXHRsZXQgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB1bmRlZmluZWQsIGNoaWxkcmVuKTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdHJldHVybiBwO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvaC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIHRvQXJyYXkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHJldHVybiBoKFxuXHRcdHZub2RlLm5vZGVOYW1lLFxuXHRcdGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLFxuXHRcdGFyZ3VtZW50cy5sZW5ndGg+MiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuXG5cdCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzXG4gKiovIiwiaW1wb3J0IHsgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBkZWx2ZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKiBDcmVhdGUgYW4gRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHNldHMgYSBnaXZlbiBzdGF0ZSBwcm9wZXJ0eS5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgY29tcG9uZW50IHdob3NlIHN0YXRlIHNob3VsZCBiZSB1cGRhdGVkXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0QSBkb3Qtbm90YXRlZCBrZXkgcGF0aCB0byB1cGRhdGUgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGV2ZW50UGF0aFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRXZlbnQgb3IgY29tcG9uZW50XG4gKlx0QHJldHVybnMge2Z1bmN0aW9ufSBsaW5rZWRTdGF0ZUhhbmRsZXJcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHRsZXQgcGF0aCA9IGtleS5zcGxpdCgnLicpLFxuXHRcdHAwID0gcGF0aFswXTtcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsXG5cdFx0XHRzID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdFx0b2JqID0gcyxcblx0XHRcdHYsIGk7XG5cdFx0aWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0XHRcdHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHRcdFx0aWYgKGVtcHR5KHYpICYmICh0PXQuX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0diA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0diA9IHQubm9kZU5hbWUgPyAoKHQubm9kZU5hbWUrdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlKSA6IGU7XG5cdFx0fVxuXHRcdGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHRcdGlmIChwYXRoLmxlbmd0aD4xKSB7XG5cdFx0XHRmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0b2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdFx0XHR9XG5cdFx0XHRvYmpbcGF0aFtpXV0gPSB2O1xuXHRcdFx0diA9IHNbcDBdO1xuXHRcdH1cblx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBbcDBdOiB2IH0pO1xuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzXG4gKiovIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNldEltbWVkaWF0ZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG4vLyBpdGVtcy9pdGVtc09mZmxpbmUgc3dhcCBvbiBlYWNoIHJlcmVuZGVyKCkgY2FsbCAoanVzdCBhIHNpbXBsZSBwb29sIHRlY2huaXF1ZSlcbmxldCBpdGVtcyA9IFtdLFxuXHRpdGVtc09mZmxpbmUgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmIChpdGVtcy5wdXNoKGNvbXBvbmVudCkhPT0xKSByZXR1cm47XG5cblx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHRpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG5cdGxldCBjdXJyZW50SXRlbXMgPSBpdGVtcyxcblx0XHRwO1xuXG5cdC8vIHN3YXAgb25saW5lICYgb2ZmbGluZVxuXHRpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0aXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXG5cdHdoaWxlICggKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpICkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSwgTk9OX0RJTUVOU0lPTl9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHRvTG93ZXJDYXNlLCBlbXB0eSwgZmFsc2V5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSAoZGF0YSB8fCB7fSkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7XG5cdHJldHVybiAwO1xufVxuXG5cbi8qKiBSZW1vdmVzIGEgZ2l2ZW4gRE9NIE5vZGUgZnJvbSBpdHMgcGFyZW50LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdFx0QW4gYXR0cmlidXRlIHZhbHVlLCBzdWNoIGFzIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyXG4gKlx0QHBhcmFtIHthbnl9IHByZXZpb3VzVmFsdWVcdFRoZSBsYXN0IHZhbHVlIHRoYXQgd2FzIHNldCBmb3IgdGhpcyBuYW1lL25vZGUgcGFpclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHRlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXG5cdGlmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdjaGlsZHJlbicpIHJldHVybjtcblxuXHRpZiAobmFtZT09PSdjbGFzcycgJiYgIWlzU3ZnKSB7XG5cdFx0bm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJztcblx0fVxuXHRlbHNlIGlmIChuYW1lPT09J3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlPT09J29iamVjdCcpIHtcblx0XHRcdGlmICghaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHR5cGVvZiB2YWx1ZVtpXT09PSdudW1iZXInICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gKHZhbHVlW2ldKydweCcpIDogdmFsdWVbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0fVxuXHRlbHNlIGlmIChuYW1lWzBdPT09J28nICYmIG5hbWVbMV09PT0nbicpIHtcblx0XHRsZXQgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHRcdG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAobFtuYW1lXSkge1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRsW25hbWVdID0gdmFsdWU7XG5cdH1cblx0ZWxzZSBpZiAobmFtZSE9PSd0eXBlJyAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdFx0c2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxldCBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7XG5cdFx0XHRlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0eXBlb2YgdmFsdWUhPT0nb2JqZWN0JyAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpO1xuXHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIEF0dGVtcHQgdG8gc2V0IGEgRE9NIHByb3BlcnR5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXHRJRSAmIEZGIHRocm93IGZvciBjZXJ0YWluIHByb3BlcnR5LXZhbHVlIGNvbWJpbmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0dHJ5IHtcblx0XHRub2RlW25hbWVdID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5cbi8qKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcbn1cblxuXG4vKiogR2V0IGEgbm9kZSdzIGF0dHJpYnV0ZXMgYXMgYSBoYXNobWFwLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdGxldCBhdHRycyA9IHt9O1xuXHRmb3IgKGxldCBpPW5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0YXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBhdHRycztcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0xvd2VyQ2FzZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXROb2RlVHlwZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIENoZWNrIGlmIHR3byBub2RlcyBhcmUgZXF1aXZhbGVudC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHRpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGdldE5vZGVUeXBlKG5vZGUpPT09Mztcblx0fVxuXHRpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpO1xuXHR9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZT09PW5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpPT09dG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xufVxuXG5cbi8qKlxuICogUmVjb25zdHJ1Y3QgQ29tcG9uZW50LXN0eWxlIGBwcm9wc2AgZnJvbSBhIFZOb2RlLlxuICogRW5zdXJlcyBkZWZhdWx0L2ZhbGxiYWNrIHZhbHVlcyBmcm9tIGBkZWZhdWx0UHJvcHNgOlxuICogT3duLXByb3BlcnRpZXMgb2YgYGRlZmF1bHRQcm9wc2Agbm90IHByZXNlbnQgaW4gYHZub2RlLmF0dHJpYnV0ZXNgIGFyZSBhZGRlZC5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdGxldCBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsXG5cdFx0cHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnN1cmVOb2RlRGF0YSwgZ2V0Tm9kZVR5cGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzLCByZW1vdmVOb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKiBET00gbm9kZSBwb29sLCBrZXllZCBvbiBub2RlTmFtZS4gKi9cblxuY29uc3Qgbm9kZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0Y2xlYW5Ob2RlKG5vZGUpO1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLFxuXHRcdGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTtcblx0ZWxzZSBub2Rlc1tuYW1lXSA9IFtub2RlXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0bGV0IG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksXG5cdFx0bm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdHJlbW92ZU5vZGUobm9kZSk7XG5cblx0aWYgKGdldE5vZGVUeXBlKG5vZGUpIT09MSkgcmV0dXJuO1xuXG5cdC8vIFdoZW4gcmVjbGFpbWluZyBleHRlcm5hbGx5IGNyZWF0ZWQgbm9kZXMsIHNlZWQgdGhlIGF0dHJpYnV0ZSBjYWNoZTogKElzc3VlICM5NylcblxuXHRlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cblx0bm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXG5cdC8vIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPjApIHtcblx0Ly8gXHRjb25zb2xlLnRyYWNlKGBXYXJuaW5nOiBSZWN5Y2xlciBjb2xsZWN0aW5nIDwke25vZGUubm9kZU5hbWV9PiB3aXRoICR7bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH0gY2hpbGRyZW4uYCk7XG5cdC8vIFx0Zm9yIChsZXQgaT1ub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpLS07ICkgY29sbGVjdE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0Ly8gfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgQVRUUl9LRVkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNTYW1lTm9kZVR5cGUsIGlzTmFtZWROb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgYnVpbGRDb21wb25lbnRGcm9tVk5vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzZXRBY2Nlc3NvciwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZU5vZGUsIGNvbGxlY3ROb2RlIH0gZnJvbSAnLi4vZG9tL3JlY3ljbGVyJztcbmltcG9ydCB7IHVubW91bnRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgY29uc3QgbW91bnRzID0gW107XG5cbi8qKiBEaWZmIHJlY3Vyc2lvbiBjb3VudCwgdXNlZCB0byB0cmFjayB0aGUgZW5kIG9mIHRoZSBkaWZmIGN5Y2xlLiAqL1xuZXhwb3J0IGxldCBkaWZmTGV2ZWwgPSAwO1xuXG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHRsZXQgYztcblx0d2hpbGUgKChjPW1vdW50cy5wb3AoKSkpIHtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cblxuLyoqIEFwcGx5IGRpZmZlcmVuY2VzIGluIGEgZ2l2ZW4gdm5vZGUgKGFuZCBpdCdzIGRlZXAgY2hpbGRyZW4pIHRvIGEgcmVhbCBET00gTm9kZS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IFtkb209bnVsbF1cdFx0QSBET00gbm9kZSB0byBtdXRhdGUgaW50byB0aGUgc2hhcGUgb2YgdGhlIGB2bm9kZWBcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRcdEEgVk5vZGUgKHdpdGggZGVzY2VuZGFudHMgZm9ybWluZyBhIHRyZWUpIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBET00gc3RydWN0dXJlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0XHRcdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ZGlmZkxldmVsKys7XG5cdGxldCByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUhPT1wYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHRpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXG5cdHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGVtcHR5KHZub2RlKSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0fVxuXG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRpZiAoZG9tKSB7XG5cdFx0XHRpZiAoZ2V0Tm9kZVR5cGUoZG9tKT09PTMgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aWYgKGRvbS5ub2RlVmFsdWUhPXZub2RlKSB7XG5cdFx0XHRcdFx0ZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkb207XG5cdFx0XHR9XG5cdFx0XHRjb2xsZWN0Tm9kZShkb20pO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHR9XG5cblx0bGV0IG91dCA9IGRvbSxcblx0XHRub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lLFxuXHRcdHN2Z01vZGU7XG5cblx0aWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSB7XG5cdFx0bm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHR9XG5cblx0c3ZnTW9kZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKT09PSdzdmcnO1xuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSB0cnVlO1xuXG5cdGlmICghZG9tKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0fVxuXHRlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHRcdC8vIG1vdmUgY2hpbGRyZW4gaW50byB0aGUgcmVwbGFjZW1lbnQgbm9kZVxuXHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHQvLyByZWNsYWltIGVsZW1lbnQgbm9kZXNcblx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHR9XG5cblx0Ly8gZmFzdC1wYXRoIGZvciBlbGVtZW50cyBjb250YWluaW5nIGEgc2luZ2xlIFRleHROb2RlOlxuXHRpZiAodm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoPT09MSAmJiB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF09PT0nc3RyaW5nJyAmJiBvdXQuY2hpbGROb2Rlcy5sZW5ndGg9PT0xICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkge1xuXHRcdG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdO1xuXHR9XG5cdGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSB7XG5cdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdH1cblxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikge1xuXHRcdChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdH1cblxuXHRpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gZmFsc2U7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiogQXBwbHkgY2hpbGQgYW5kIGF0dHJpYnV0ZSBjaGFuZ2VzIGJldHdlZW4gYSBWTm9kZSBhbmQgYSBET00gTm9kZSB0byB0aGUgRE9NLiAqL1xuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2Rlcyxcblx0XHRjaGlsZHJlbiA9IFtdLFxuXHRcdGtleWVkID0ge30sXG5cdFx0a2V5ZWRMZW4gPSAwLFxuXHRcdG1pbiA9IDAsXG5cdFx0bGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdFx0Y2hpbGRyZW5MZW4gPSAwLFxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCxcblx0XHRqLCBjLCB2Y2hpbGQsIGNoaWxkO1xuXG5cdGlmIChsZW4pIHtcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHRcdGtleSA9IHZsZW4gPyAoKGMgPSBjaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IGNoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwpIDogbnVsbDtcblx0XHRcdGlmIChrZXkgfHwga2V5PT09MCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gY2hpbGQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBjaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTx2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0Ly8gaWYgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpKSB7XG5cdFx0XHQvLyBcdHZjaGlsZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIGZpbmQgYSBub2RlIGJhc2VkIG9uIGtleSBtYXRjaGluZ1xuXHRcdFx0aWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xuXHRcdFx0XHRpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXG5cdFx0XHRpZiAoIWNoaWxkICYmIG1pbjxjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRmb3IgKGo9bWluOyBqPGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRjID0gY2hpbGRyZW5bal07XG5cdFx0XHRcdFx0aWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRpZiAoaj09PWNoaWxkcmVuTGVuLTEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRpZiAoaj09PW1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9ycGggdGhlIG1hdGNoZWQvZm91bmQvY3JlYXRlZCBET00gY2hpbGQgdG8gbWF0Y2ggdmNoaWxkIChkZWVwKVxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGlmIChjaGlsZCE9PW9yaWdpbmFsQ2hpbGRyZW5baV0pIHtcblx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGlmIChrZXllZExlbikge1xuXHRcdC8qZXNsaW50IGd1YXJkLWZvci1pbjowKi9cblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIHtcblx0XHRcdGNoaWxkcmVuW21pbj1jaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCBjaGlsZHJlblxuXHRpZiAobWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdH1cbn1cblxuXG4vKiogUmVjbGFpbSBjaGlsZHJlbiB0aGF0IHdlcmUgdW5yZWZlcmVuY2VkIGluIHRoZSBkZXNpcmVkIFZUcmVlICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0Zm9yIChsZXQgaT1jaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0bGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGFuIGVudGlyZSB0cmVlIG9mIG5vZGVzLCBzdGFydGluZyBhdCB0aGUgcm9vdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQvLyBAVE9ETzogTmVlZCB0byBtYWtlIGEgY2FsbCBvbiB3aGV0aGVyIFByZWFjdCBzaG91bGQgcmVtb3ZlIG5vZGVzIG5vdCBjcmVhdGVkIGJ5IGl0c2VsZi5cblx0Ly8gQ3VycmVudGx5IGl0ICpkb2VzKiByZW1vdmUgdGhlbS4gRGlzY3Vzc2lvbjogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvaXNzdWVzLzM5XG5cdC8vaWYgKCFub2RlW0FUVFJfS0VZXSkgcmV0dXJuO1xuXG5cdGxldCBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTtcblx0fVxuXHRlbHNlIHtcblx0XHRpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRpZiAoIXVubW91bnRPbmx5KSB7XG5cblx0XHRcdGNvbGxlY3ROb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYXR0cmlidXRlcyBmcm9tIGEgVk5vZGUgdG8gdGhlIGdpdmVuIERPTSBOb2RlLiAqL1xuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHRsZXQgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXG5cdC8vIHJlbW92ZUF0dHJpYnV0ZXMoZG9tLCBvbGQsIGF0dHJzIHx8IEVNUFRZKTtcblx0Zm9yIChsZXQgbmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIWF0dHJzIHx8ICEobmFtZSBpbiBhdHRycykpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgbnVsbCwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG5ldyAmIHVwZGF0ZWRcblx0aWYgKGF0dHJzKSB7XG5cdFx0Zm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuXHRcdFx0aWYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdIT0obmFtZT09PSd2YWx1ZScgfHwgbmFtZT09PSdzZWxlY3RlZCcgfHwgbmFtZT09PSdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpIHtcblx0XHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBhdHRyc1tuYW1lXSwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9kaWZmLmpzXG4gKiovIiwiLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG5jb25zdCBjb21wb25lbnRzID0ge307XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0bGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTtcblx0ZWxzZSBjb21wb25lbnRzW25hbWVdID0gW2NvbXBvbmVudF07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHRsZXQgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHRpZiAobGlzdCkge1xuXHRcdGZvciAobGV0IGk9bGlzdC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5jb25zdHJ1Y3Rvcj09PUN0b3IpIHtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdFx0XHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGluc3Q7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC1yZWN5Y2xlci5qc1xuICoqLyIsImltcG9ydCB7IFNZTkNfUkVOREVSLCBOT19SRU5ERVIsIEZPUkNFX1JFTkRFUiwgQVNZTkNfUkVOREVSLCBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGNsb25lLCBleHRlbmQsIGVtcHR5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyLXF1ZXVlJztcbmltcG9ydCB7IGdldE5vZGVQcm9wcyB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgZGlmZiwgbW91bnRzLCBkaWZmTGV2ZWwsIGZsdXNoTW91bnRzLCByZW1vdmVPcnBoYW5lZENoaWxkcmVuLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vZGlmZic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50LCBjb2xsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtcmVjeWNsZXInO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIE1hcmsgY29tcG9uZW50IGFzIGRpcnR5IGFuZCBxdWV1ZSB1cCBhIHJlbmRlci5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHRcdGNvbXBvbmVudC5fZGlydHkgPSB0cnVlO1xuXHRcdGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0fVxufVxuXG5cblxuLyoqIFNldCBhIGNvbXBvbmVudCdzIGBwcm9wc2AgKGdlbmVyYWxseSBkZXJpdmVkIGZyb20gSlNYIGF0dHJpYnV0ZXMpLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlclN5bmM9ZmFsc2VdXHRJZiBgdHJ1ZWAgYW5kIHtAbGluayBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzfSBpcyBgdHJ1ZWAsIHRyaWdnZXJzIHN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlcj10cnVlXVx0XHRcdElmIGBmYWxzZWAsIG5vIHJlbmRlciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBiID0gY29tcG9uZW50LmJhc2U7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGlmICgoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSkgZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9XG5cdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCE9PWNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cblx0aWYgKG9wdHMhPT1OT19SRU5ERVIpIHtcblx0XHRpZiAob3B0cz09PVNZTkNfUkVOREVSIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMhPT1mYWxzZSB8fCAhYikge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgU1lOQ19SRU5ERVIsIG1vdW50QWxsKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cblxuXG4vKiogUmVuZGVyIGEgQ29tcG9uZW50LCB0cmlnZ2VyaW5nIG5lY2Vzc2FyeSBsaWZlY3ljbGUgZXZlbnRzIGFuZCB0YWtpbmcgSGlnaC1PcmRlciBDb21wb25lbnRzIGludG8gYWNjb3VudC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYnVpbGQ9ZmFsc2VdXHRcdElmIGB0cnVlYCwgY29tcG9uZW50IHdpbGwgYnVpbGQgYW5kIHN0b3JlIGEgRE9NIG5vZGUgaWYgbm90IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIG9uZS5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXG5cdGxldCBza2lwLCByZW5kZXJlZCxcblx0XHRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcblx0XHRzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0XHRjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdFx0cHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsXG5cdFx0cHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdFx0cHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdFx0aXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSxcblx0XHRpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0XHRuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLFxuXHRcdGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLFxuXHRcdGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LFxuXHRcdGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyE9PUZPUkNFX1JFTkRFUlxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSBmYWxzZSkge1xuXHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cblx0XHQvLyBjb250ZXh0IHRvIHBhc3MgdG8gdGhlIGNoaWxkLCBjYW4gYmUgdXBkYXRlZCB2aWEgKGdyYW5kLSlwYXJlbnQgY29tcG9uZW50XG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHtcblx0XHRcdHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHRcdHRvVW5tb3VudCwgYmFzZTtcblxuXHRcdGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHQvLyBzZXQgdXAgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXG5cdFx0XHRsZXQgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCxcblx0XHRcdFx0Y2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3I9PT1jaGlsZENvbXBvbmVudCkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblx0XHRcdFx0aW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBOT19SRU5ERVIsIGNvbnRleHQpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgU1lOQ19SRU5ERVIpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHQvLyBkZXN0cm95IGhpZ2ggb3JkZXIgY29tcG9uZW50IGxpbmtcblx0XHRcdHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0XHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdFx0Y2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0aWFsQmFzZSB8fCBvcHRzPT09U1lOQ19SRU5ERVIpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlIT09aW5pdGlhbEJhc2UpIHtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UhPT1iYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0XHRcdGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQ9PT1jb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsIHRydWUpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSkge1xuXHRcdFx0bGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdFx0dCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICgodD10Ll9wYXJlbnRDb21wb25lbnQpKSB7IGNvbXBvbmVudFJlZiA9IHQ7IH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdFx0aWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdH1cblx0ZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0fVxuXG5cdGxldCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLCBmbjtcblx0aWYgKGNiKSB3aGlsZSAoIChmbiA9IGNiLnBvcCgpKSApIGZuLmNhbGwoY29tcG9uZW50KTtcblxuXHRyZXR1cm4gcmVuZGVyZWQ7XG59XG5cblxuXG4vKiogQXBwbHkgdGhlIENvbXBvbmVudCByZWZlcmVuY2VkIGJ5IGEgVk5vZGUgdG8gdGhlIERPTS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0VGhlIERPTSBub2RlIHRvIG11dGF0ZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIENvbXBvbmVudC1yZWZlcmVuY2luZyBWTm9kZVxuICpcdEByZXR1cm5zIHtFbGVtZW50fSBkb21cdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0XHRvbGREb20gPSBkb20sXG5cdFx0aXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lLFxuXHRcdGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHRcdHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGM9Yy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgQVNZTkNfUkVOREVSLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KGMsIHRydWUpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSE9PW9sZERvbSkge1xuXHRcdFx0b2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5cblxuLyoqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBET00gYW5kIHJlY3ljbGUgaXQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRBIERPTSBub2RlIGZyb20gd2hpY2ggdG8gdW5tb3VudCB0aGUgZ2l2ZW4gQ29tcG9uZW50XG4gKlx0QHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFx0VGhlIENvbXBvbmVudCBpbnN0YW5jZSB0byB1bm1vdW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0Ly8gY29uc29sZS5sb2coYCR7cmVtb3ZlPydSZW1vdmluZyc6J1VubW91bnRpbmcnfSBjb21wb25lbnQ6ICR7Y29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cdGxldCBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0Ly8gcmVjdXJzaXZlbHkgdGVhciBkb3duICYgcmVjb2xsZWN0IGhpZ2gtb3JkZXIgY29tcG9uZW50IGNoaWxkcmVuOlxuXHRsZXQgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0aWYgKGlubmVyKSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTtcblx0fVxuXHRlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBGT1JDRV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBleHRlbmQsIGNsb25lLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNyZWF0ZUxpbmtlZFN0YXRlIH0gZnJvbSAnLi9saW5rZWQtc3RhdGUnO1xuaW1wb3J0IHsgdHJpZ2dlckNvbXBvbmVudFJlbmRlciwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi92ZG9tL2NvbXBvbmVudCc7XG5cbi8qKiBCYXNlIENvbXBvbmVudCBjbGFzcywgZm9yIGhlIEVTNiBDbGFzcyBtZXRob2Qgb2YgY3JlYXRpbmcgQ29tcG9uZW50c1xuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHRjbGFzcyBNeUZvbyBleHRlbmRzIENvbXBvbmVudCB7XG4gKlx0XHRyZW5kZXIocHJvcHMsIHN0YXRlKSB7XG4gKlx0XHRcdHJldHVybiA8ZGl2IC8+O1xuICpcdFx0fVxuICpcdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQvKiogQHByaXZhdGUgKi9cblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xufVxuXG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFN0YXRlXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcblx0ICpcdEByZXR1cm5zIHtCb29sZWFufSBzaG91bGQgdGhlIGNvbXBvbmVudCByZS1yZW5kZXJcblx0ICpcdEBuYW1lIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKlx0QGZ1bmN0aW9uXG5cdCAqL1xuXHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdC8vIFx0cmV0dXJuIHRydWU7XG5cdC8vIH0sXG5cblxuXHQvKiogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIHN0YXRlIHByb3BlcnR5IHdoZW4gY2FsbGVkLlxuXHQgKlx0Q2FsbGluZyBsaW5rU3RhdGUoKSByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHJldHVybnMgYSBjYWNoZWQgbGluayBmdW5jdGlvbi5cblx0ICpcblx0ICpcdFByb3ZpZGVzIHNvbWUgYnVpbHQtaW4gc3BlY2lhbCBjYXNlczpcblx0ICpcdFx0LSBDaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGxpbmsgdGhlaXIgYm9vbGVhbiBgY2hlY2tlZGAgdmFsdWVcblx0ICpcdFx0LSBJbnB1dHMgYXV0b21hdGljYWxseSBsaW5rIHRoZWlyIGB2YWx1ZWAgcHJvcGVydHlcblx0ICpcdFx0LSBFdmVudCBwYXRocyBmYWxsIGJhY2sgdG8gYW55IGFzc29jaWF0ZWQgQ29tcG9uZW50IGlmIG5vdCBmb3VuZCBvbiBhbiBlbGVtZW50XG5cdCAqXHRcdC0gSWYgbGlua2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHdpbGwgaW52b2tlIGl0IGFuZCB1c2UgdGhlIHJlc3VsdFxuXHQgKlxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0VGhlIHBhdGggdG8gc2V0IC0gY2FuIGJlIGEgZG90LW5vdGF0ZWQgZGVlcCBrZXlcblx0ICpcdEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRQYXRoXVx0XHRJZiBzZXQsIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5ldyBzdGF0ZSB2YWx1ZSBhdCBhIGdpdmVuIGRvdC1ub3RhdGVkIHBhdGggd2l0aGluIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBsaW5rZWRTdGF0ZSBzZXR0ZXIuXG5cdCAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtTdGF0ZVNldHRlcihlKVxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgVXBkYXRlIGEgXCJ0ZXh0XCIgc3RhdGUgdmFsdWUgd2hlbiBhbiBpbnB1dCBjaGFuZ2VzOlxuXHQgKlx0XHQ8aW5wdXQgb25DaGFuZ2U9eyB0aGlzLmxpbmtTdGF0ZSgndGV4dCcpIH0gLz5cblx0ICpcblx0ICpcdEBleGFtcGxlIFNldCBhIGRlZXAgc3RhdGUgdmFsdWUgb24gY2xpY2tcblx0ICpcdFx0PGJ1dHRvbiBvbkNsaWNrPXsgdGhpcy5saW5rU3RhdGUoJ3RvdWNoLmNvb3JkcycsICd0b3VjaGVzLjAnKSB9PlRhcDwvYnV0dG9uXG5cdCAqL1xuXHRsaW5rU3RhdGUoa2V5LCBldmVudFBhdGgpIHtcblx0XHRsZXQgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLFxuXHRcdFx0Y2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdFx0cmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdH0sXG5cblxuXHQvKiogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBieSBjb3B5aW5nIHByb3BlcnRpZXMgZnJvbSBgc3RhdGVgIHRvIGB0aGlzLnN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG5cdCAqL1xuXHRzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRsZXQgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0XHRleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdFx0dHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0fSxcblxuXG5cdC8qKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqXHRAcHJpdmF0ZVxuXHQgKi9cblx0Zm9yY2VVcGRhdGUoKSB7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIEZPUkNFX1JFTkRFUik7XG5cdH0sXG5cblxuXHQvKiogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuXHQgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHByb3BzXHRcdFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50IGVsZW1lbnQvY29tcG9uZW50XG5cdCAqXHRAcGFyYW0ge29iamVjdH0gc3RhdGVcdFx0VGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG5cdCAqXHRAcmV0dXJucyBWTm9kZVxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzXG4gKiovIiwiLy8gcmVuZGVyIG1vZGVzXG5cbmV4cG9ydCBjb25zdCBOT19SRU5ERVIgPSAwO1xuZXhwb3J0IGNvbnN0IFNZTkNfUkVOREVSID0gMTtcbmV4cG9ydCBjb25zdCBGT1JDRV9SRU5ERVIgPSAyO1xuZXhwb3J0IGNvbnN0IEFTWU5DX1JFTkRFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IHt9O1xuXG5leHBvcnQgY29uc3QgQVRUUl9LRVkgPSB0eXBlb2YgU3ltYm9sIT09J3VuZGVmaW5lZCcgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHRib3hGbGV4OjEsIGJveEZsZXhHcm91cDoxLCBjb2x1bW5Db3VudDoxLCBmaWxsT3BhY2l0eToxLCBmbGV4OjEsIGZsZXhHcm93OjEsXG5cdGZsZXhQb3NpdGl2ZToxLCBmbGV4U2hyaW5rOjEsIGZsZXhOZWdhdGl2ZToxLCBmb250V2VpZ2h0OjEsIGxpbmVDbGFtcDoxLCBsaW5lSGVpZ2h0OjEsXG5cdG9wYWNpdHk6MSwgb3JkZXI6MSwgb3JwaGFuczoxLCBzdHJva2VPcGFjaXR5OjEsIHdpZG93czoxLCB6SW5kZXg6MSwgem9vbToxXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vdmRvbS9kaWZmJztcblxuLyoqIFJlbmRlciBKU1ggaW50byBhIGBwYXJlbnRgIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0QSAoSlNYKSBWTm9kZSB0byByZW5kZXJcbiAqXHRAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFx0XHRET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICpcdEBwYXJhbSB7RWxlbWVudH0gW21lcmdlXVx0QXR0ZW1wdCB0byByZS11c2UgYW4gZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGBtZXJnZWBcbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgZGl2IGludG8gPGJvZHk+OlxuICpcdHJlbmRlcig8ZGl2IGlkPVwiaGVsbG9cIj5oZWxsbyE8L2Rpdj4sIGRvY3VtZW50LmJvZHkpO1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdC8vIHJlbmRlciBhIFwiVGhpbmdcIiBjb21wb25lbnQgaW50byAjZm9vOlxuICpcdGNvbnN0IFRoaW5nID0gKHsgbmFtZSB9KSA9PiA8c3Bhbj57IG5hbWUgfTwvc3Bhbj47XG4gKlx0cmVuZGVyKDxUaGluZyBuYW1lPVwib25lXCIgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb28nKSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0cmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXIuanNcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbihmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbn0gKCkpXG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VycyA9IHJlcXVpcmUoJy4vY29tYmluZVJlZHVjZXJzJyk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzID0gcmVxdWlyZSgnLi9iaW5kQWN0aW9uQ3JlYXRvcnMnKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL2FwcGx5TWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLypcbiogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4qL1xuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbaW5pdGlhbFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzSG9zdE9iamVjdCA9IHJlcXVpcmUoJy4vX2lzSG9zdE9iamVjdCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fFxuICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhuYXRpdmVHZXRQcm90b3R5cGUsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fb3ZlckFyZy5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanNcbiAqKiBtb2R1bGUgaWQgPSA1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbWJpbmVSZWR1Y2VycztcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcblxuICByZXR1cm4gJ0dpdmVuIGFjdGlvbiAnICsgYWN0aW9uTmFtZSArICcsIHJlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gJyArICdUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJztcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiB0eXBlIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgc2FuaXR5RXJyb3I7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNhbml0eUVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY29tYmluZVJlZHVjZXJzLmpzXG4gKiogbW9kdWxlIGlkID0gNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL3V0aWxzL3dhcm5pbmcuanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYmluZEFjdGlvbkNyZWF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBhcHBseU1pZGRsZXdhcmU7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgdmFyIGNoYWluID0gW107XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2NvbXBvc2UuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5pbXBvcnQgeyBBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4LXVuZG8nO1xuaW1wb3J0IEN1cnZlRWRpdG9yUmlnaHQgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItcmlnaHQnO1xuaW1wb3J0IEN1cnZlRWRpdG9yTGVmdCAgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItbGVmdCc7XG5pbXBvcnQgQ29kZVBhbmVsIGZyb20gJy4vY29kZS1wYW5lbCc7XG5pbXBvcnQgSWNvbnMgZnJvbSAnLi9pY29ucyc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgYWRkUG9pbnRlckRvd24gZnJvbSAnLi4vaGVscGVycy9hZGQtcG9pbnRlci1kb3duJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yJyk7XG5cbmNsYXNzIEN1cnZlRWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHN0YXRlICAgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHN0eWxlICAgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSksXG4gICAgICAgICAgcCAgICAgICA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgIHJldHVybiAgKCA8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yJ119IHN0eWxlPXsgc3R5bGUgfT5cbiAgICAgICAgICAgICAgICA8SWNvbnMgLz5cbiAgICAgICAgICAgICAgICA8Q29kZVBhbmVsIHN0YXRlPXsgc3RhdGUgfS8+XG4gICAgICAgICAgICAgICAgPEN1cnZlRWRpdG9yTGVmdCBzdGF0ZT17IHN0YXRlIH0gLz5cbiAgICAgICAgICAgICAgICA8Q3VydmVFZGl0b3JSaWdodCBzdGF0ZT17IHN0YXRlIH0gcHJvZ3Jlc3NMaW5lcz17cC5wcm9ncmVzc0xpbmVzfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj4pO1xuICB9XG5cbiAgX2dldFN0eWxlIChzdGF0ZSkge1xuICAgIGNvbnN0IFhfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDUzLFxuICAgICAgICAgIFlfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDIqQy5DVVJWRV9QQURESU5HLFxuICAgICAgICAgIHtyZXNpemV9ICA9IHN0YXRlO1xuICAgIGxldCB7dGVtcF90b3AsIHRlbXBfYm90dG9tLCB0ZW1wX3JpZ2h0LCB0cmFuc2xhdGV9ID0gcmVzaXplO1xuXG4gICAgdGVtcF90b3AgICAgKz0gcmVzaXplLnRvcDtcbiAgICB0ZW1wX2JvdHRvbSArPSByZXNpemUuYm90dG9tO1xuICAgIHRlbXBfcmlnaHQgICs9IHJlc2l6ZS5yaWdodDtcblxuICAgIC8vIGNvbnN0cmFpbiBtaW4gaGVpZ2h0XG4gICAgaWYgKFlfU0laRSAtIHRlbXBfdG9wIDwgWV9TSVpFKSB7IHRlbXBfdG9wID0gMDsgfVxuICAgIGlmIChZX1NJWkUgKyB0ZW1wX2JvdHRvbSA8IFlfU0laRSkgeyB0ZW1wX2JvdHRvbSA9IDA7IH1cbiAgICBpZiAoWF9TSVpFICsgdGVtcF9yaWdodCA8IFhfU0laRSkgeyB0ZW1wX3JpZ2h0ID0gMDsgfVxuXG4gICAgdGVtcF90b3AgICAgPSBtb2QoIHRlbXBfdG9wLCAtMSApO1xuICAgIHRlbXBfYm90dG9tID0gbW9kKCB0ZW1wX2JvdHRvbSApO1xuXG4gICAgY29uc3QgaGVpZ2h0ID0gYGhlaWdodDogJHtZX1NJWkUgLSB0ZW1wX3RvcCArIHRlbXBfYm90dG9tfXB4YCxcbiAgICAgICAgICB3aWR0aCAgPSBgd2lkdGg6ICR7WF9TSVpFICsgdGVtcF9yaWdodH1weGAsXG4gICAgICAgICAgeCA9IHJlc2l6ZS54ICsgcmVzaXplLnRlbXBYLFxuICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHt4fXB4LCAke3kgKyB0ZW1wX3RvcH1weClgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNmb3JtfTsgJHt0cmFuc2Zvcm19OyAke3dpZHRofTsgJHtoZWlnaHR9O2A7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtbGVmdC1wYW5lbCcpLFxuICAgICAgICAgIG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFJywgZGF0YTogeyB4LCB5IH0gfSk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS5kZWx0YVgsIHkgPSBlLmRlbHRhWTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1RSQU5TTEFURV9FTkQnLCBkYXRhOiB7IHgsIHkgfSB9KVxuICAgICAgfSlcbiAgICAgIC8vIC5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTsgfSk7XG5cbiAgICB0aGlzLl9hZGRLZXlVcCgpO1xuICAgIHRoaXMuX3N1YnNjcmliZUZvY3VzKCk7XG4gICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfc3Vic2NyaWJlRm9jdXMgKCkge1xuICAgIGFkZFBvaW50ZXJEb3duKCB0aGlzLmJhc2UsIChlKSA9PiB7XG4gICAgICBlLl9tb2pzQ3VydmVFZGl0b3JOYW1lID0gdGhpcy5fc3RhdGUucG9pbnRzLnByZXNlbnQubmFtZTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRLZXlVcCAoKSB7IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpKTsgfVxuXG4gIF9vbktleVVwIChlKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcbiAgICBpZiAoICFlLmFsdEtleSApIHsgcmV0dXJuOyB9XG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDkwOiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy51bmRvKCkpOyB9XG4gICAgICBjYXNlIDg4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy5yZWRvKCkpOyB9XG4gICAgICBjYXNlIDY4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pOyB9XG4gICAgfVxuICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciB0b09iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsICRnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuICB9O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcbiAqKiBtb2R1bGUgaWQgPSA2OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29yZSAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzXG4gKiogbW9kdWxlIGlkID0gNzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDczXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzXG4gKiogbW9kdWxlIGlkID0gNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBoaWRlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJdGVyYXRvcnMgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgJGl0ZXJDcmVhdGUgICAgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBJVEVSQVRPUiAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG4gICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuICAgICwgJGVudHJpZXMgICA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWRcbiAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG4gICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKCRhbnlOYXRpdmUpe1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG4gICAgaWYoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpe1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA3N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSA4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBkUHMgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcbiAgICAsIGx0ICAgICA9ICc8J1xuICAgICwgZ3QgICAgID0gJz4nXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkUCAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpID0gMFxuICAgICwgUDtcbiAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbiAqKiBtb2R1bGUgaWQgPSA4M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBoYXMgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4gKiogbW9kdWxlIGlkID0gODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIEl0ZXJhdG9ycyAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxuZm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG4gIHZhciBOQU1FICAgICAgID0gY29sbGVjdGlvbnNbaV1cbiAgICAsIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV1cbiAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZihwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJylcbiAgLCBzdGVwICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgICAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qc1xuICoqIG1vZHVsZSBpZCA9IDkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuICoqIG1vZHVsZSBpZCA9IDkyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIERFU0NSSVBUT1JTICAgID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBNRVRBICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVlcbiAgLCAkZmFpbHMgICAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBzaGFyZWQgICAgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIHdrc0RlZmluZSAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuL19rZXlvZicpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKVxuICAsIGlzQXJyYXkgICAgICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIF9jcmVhdGUgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZ09QTkV4dCAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKVxuICAsICRHT1BEICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsICREUCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCAka2V5cyAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BEICAgICAgICAgICA9ICRHT1BELmZcbiAgLCBkUCAgICAgICAgICAgICA9ICREUC5mXG4gICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCAkSlNPTiAgICAgICAgICA9IGdsb2JhbC5KU09OXG4gICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcbiAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG4gICwgaXNFbnVtICAgICAgICAgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCBPUFN5bWJvbHMgICAgICA9IHNoYXJlZCgnb3Atc3ltYm9scycpXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3RbUFJPVE9UWVBFXVxuICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIFFPYmplY3QgICAgICAgID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBkUCh0aGlzLCAnYScsIHt2YWx1ZTogN30pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKWRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZihoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICBpdCAgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdPUE4odG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgSVNfT1AgID0gaXQgPT09IE9iamVjdFByb3RvXG4gICAgLCBuYW1lcyAgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuICAgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCFVU0VfTkFUSVZFKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8pJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSl7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH1cbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1N5bWJvbDogJFN5bWJvbH0pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXG5mb3IodmFyIHN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzRGVmaW5lKHN5bWJvbHNbaSsrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgaWYoaXNTeW1ib2woa2V5KSlyZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gICAgdGhyb3cgVHlwZUVycm9yKGtleSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoe2E6IFN9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpe1xuICAgIGlmKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKXJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIHZhciBhcmdzID0gW2l0XVxuICAgICAgLCBpICAgID0gMVxuICAgICAgLCByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmKHR5cGVvZiByZXBsYWNlciA9PSAnZnVuY3Rpb24nKSRyZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcbiAgICAgIGlmKCRyZXBsYWNlcil2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYoIWlzU3ltYm9sKHZhbHVlKSlyZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanNcbiAqKiBtb2R1bGUgaWQgPSA5NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIE1FVEEgICAgID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKVxuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBoYXMgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgc2V0RGVzYyAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaWQgICAgICAgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24oaXQpe1xuICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9fSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZighaXNPYmplY3QoaXQpKXJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIGlmKCFoYXMoaXQsIE1FVEEpKXtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKXNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiAgICAgIE1FVEEsXG4gIE5FRUQ6ICAgICBmYWxzZSxcbiAgZmFzdEtleTogIGZhc3RLZXksXG4gIGdldFdlYWs6ICBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanNcbiAqKiBtb2R1bGUgaWQgPSA5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZihuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKWRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHt2YWx1ZTogd2tzRXh0LmYobmFtZSl9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA5NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdldEtleXMgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gOThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpe1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBnT1BOICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmZcbiAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzXG4gKiogbW9kdWxlIGlkID0gMTAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pe1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHBJRSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgZ09QRCAgICAgICAgICAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcbiAgTyA9IHRvSU9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuICBhbk9iamVjdChPKTtcbiAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanNcbiAqKiBtb2R1bGUgaWQgPSAxMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge2NyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuY29uc3QgQ1VSVkVfU0laRSA9IDM1MDtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgQ1VSVkVfU0laRSxcbiAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRS8xMDAsXG4gIENVUlZFX1BBRERJTkc6IDEwXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvY29uc3RhbnRzLmJhYmVsLmpzXG4gKiovIiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2hhbW1lcmpzL2hhbW1lci5qc1xuICoqIG1vZHVsZSBpZCA9IDExNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcbiAgfVxufShmdW5jdGlvbiAoKSB7XG4gIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblxuICAvKipcbiAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKlxuICAgKiBGZWF0dXJlczpcbiAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcbiAgICogICBlbGVtZW50cy5cbiAgICogLSBFdmVudHMgYXJlIGV4dGVuZGVkIHdpdGggYSBmdW5jdGlvbiBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgIHRvIHN0b3BcbiAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG4gICAqIC0gQW4gb3B0aW9uIGBwcmV2ZW50RGVmYXVsdGAgdG8gc3RvcCBhbGwgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSk7XG4gICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCksIHtwcmV2ZW50RGVmYXVsdDogdHJ1ZX0pO1xuICAgKlxuICAgKiBAcGFyYW0ge0hhbW1lci5NYW5hZ2VyfSBoYW1tZXIgICBBbiBoYW1tZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZSBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLlxuICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmIChoYW1tZXIuTWFuYWdlcikge1xuICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG4gICAgICAvLyBPdmVybG9hZCB0aGUgY29uc3RydWN0b3JzIHdpdGggb3VyIG93bi5cbiAgICAgIHZhciBIYW1tZXIgPSBoYW1tZXI7XG5cbiAgICAgIHZhciBQcm9wYWdhdGluZ0hhbW1lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyKGVsZW1lbnQsIG8pLCBvKTtcbiAgICAgIH07XG4gICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXG4gICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFByb3BhZ2F0aW5nSGFtbWVyO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uc1xuICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgIHZhciB3cmFwcGVyID0gT2JqZWN0LmNyZWF0ZShoYW1tZXIpO1xuXG4gICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG4gICAgdmFyIGVsZW1lbnQgPSBoYW1tZXIuZWxlbWVudDtcblxuICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcbiAgICBlbGVtZW50LmhhbW1lci5wdXNoKHdyYXBwZXIpO1xuXG4gICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG4gICAgLy8gdGFyZ2V0IGluIGEgc2luZ2xldG9uXG4gICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcbiAgICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgQXJyYXkuPGZ1bmN0aW9uPj59ICovXG4gICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudClcbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycyA9IFtdO1xuXG4gICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG4gICAgICAgICAgaGFtbWVyLm9uKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkLCBhbGwgaGFuZGxlcnMgZm9yIGdpdmVuIGV2ZW50c1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC5cbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG4gICAgICovXG4gICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG4gICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgIGlmIChfaGFuZGxlcnMpIHtcbiAgICAgICAgICBfaGFuZGxlcnMgPSBoYW5kbGVyID8gX2hhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG4gICAgICAgICAgfSkgOiBbXTtcblxuICAgICAgICAgIGlmIChfaGFuZGxlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuICAgICAgICAgICAgaGFtbWVyLm9mZihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICovXG4gICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7XG4gICAgfTtcblxuICAgIHdyYXBwZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG4gICAgICB2YXIgaGFtbWVycyA9IGhhbW1lci5lbGVtZW50LmhhbW1lcjtcbiAgICAgIHZhciBpZHggPSBoYW1tZXJzLmluZGV4T2Yod3JhcHBlcik7XG4gICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG4gICAgICBpZighaGFtbWVycy5sZW5ndGgpIGRlbGV0ZSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cbiAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuICAgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuICAgICAgaGFtbWVyLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgLy8gc3BsaXQgYSBzdHJpbmcgd2l0aCBzcGFjZSBzZXBhcmF0ZWQgd29yZHNcbiAgICBmdW5jdGlvbiBzcGxpdChldmVudHMpIHtcbiAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGV2ZW50IGhhbmRsZXIsIGFwcGx5aW5nIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnRcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuICAgICAgICAvLyBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBzYW1lIHNyY0V2ZW50IGlzIHVzZWQgd2l0aCBtdWx0aXBsZSBoYW1tZXIgZXZlbnRzLFxuICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWRcbiAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcbiAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuICAgICAgdmFyIHNyY1N0b3AgPSBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24uYmluZChldmVudC5zcmNFdmVudCk7XG4gICAgICBpZih0eXBlb2Ygc3JjU3RvcCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBzcmNTdG9wKCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuICAgICAgZXZlbnQuZmlyc3RUYXJnZXQgPSBfZmlyc3RUYXJnZXQ7XG5cbiAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcbiAgICAgIHZhciBlbGVtID0gX2ZpcnN0VGFyZ2V0O1xuICAgICAgd2hpbGUgKGVsZW0gJiYgIXN0b3BwZWQpIHtcbiAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcbiAgICAgICAgaWYoZWxlbUhhbW1lcil7XG4gICAgICAgICAgdmFyIF9oYW5kbGVycztcbiAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG4gICAgICAgICAgICBfaGFuZGxlcnMgPSBlbGVtSGFtbWVyW2tdLl9oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgICAgICAgIGlmKF9oYW5kbGVycykgZm9yICh2YXIgaSA9IDA7IGkgPCBfaGFuZGxlcnMubGVuZ3RoICYmICFzdG9wcGVkOyBpKyspIHtcbiAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcbn0pKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb3BhZ2F0aW5nLWhhbW1lcmpzL3Byb3BhZ2F0aW5nLmpzXG4gKiogbW9kdWxlIGlkID0gMTE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHMucGFyc2VBY3Rpb25zID0gcGFyc2VBY3Rpb25zO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kb2FibGU7XG5leHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuZXhwb3J0cy5pbmNsdWRlQWN0aW9uID0gaW5jbHVkZUFjdGlvbjtcbmV4cG9ydHMuaWZBY3Rpb24gPSBpZkFjdGlvbjtcbmV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG4vLyBkZWJ1ZyBvdXRwdXRcbnZhciBfX0RFQlVHX18gPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBkZWJ1ZygpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHZhciBfY29uc29sZTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmICghY29uc29sZS5ncm91cCkge1xuICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG4gICAgfVxuICAgIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJncyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSkge1xuICBpZiAoX19ERUJVR19fKSB7XG4gICAgdmFyIGFyZ3MgPSBbJ2FjdGlvbicsIGFjdGlvbi50eXBlXTtcbiAgICBpZiAoY29uc29sZS5ncm91cCkge1xuICAgICAgdmFyIF9jb25zb2xlMjtcblxuICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG4gICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlZCcsIHsgc3RhdGU6IHN0YXRlLCBhY3Rpb246IGFjdGlvbiB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRlYnVnRW5kKCkge1xuICBpZiAoX19ERUJVR19fKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG59XG4vLyAvZGVidWcgb3V0cHV0XG5cbi8vIGFjdGlvbiB0eXBlc1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgVU5ETzogJ0BAcmVkdXgtdW5kby9VTkRPJyxcbiAgUkVETzogJ0BAcmVkdXgtdW5kby9SRURPJyxcbiAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuICBKVU1QX1RPX1BBU1Q6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19QQVNUJ1xufTtcbi8vIC9hY3Rpb24gdHlwZXNcblxuLy8gYWN0aW9uIGNyZWF0b3JzIHRvIGNoYW5nZSB0aGUgc3RhdGVcbnZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG4gIHVuZG86IGZ1bmN0aW9uIHVuZG8oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuVU5ETyB9O1xuICB9LFxuICByZWRvOiBmdW5jdGlvbiByZWRvKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlJFRE8gfTtcbiAgfSxcbiAganVtcFRvRnV0dXJlOiBmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaW5kZXgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRSwgaW5kZXg6IGluZGV4IH07XG4gIH0sXG4gIGp1bXBUb1Bhc3Q6IGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaW5kZXgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsIGluZGV4OiBpbmRleCB9O1xuICB9XG59O1xuLy8gL2FjdGlvbiBjcmVhdG9yc1xuXG4vLyBsZW5ndGg6IGdldCBsZW5ndGggb2YgaGlzdG9yeVxuZnVuY3Rpb24gbGVuZ3RoKGhpc3RvcnkpIHtcbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcbn1cbi8vIC9sZW5ndGhcblxuLy8gaW5zZXJ0OiBpbnNlcnQgYHN0YXRlYCBpbnRvIGhpc3RvcnksIHdoaWNoIG1lYW5zIGFkZGluZyB0aGUgY3VycmVudCBzdGF0ZVxuLy8gICAgICAgICBpbnRvIGBwYXN0YCwgc2V0dGluZyB0aGUgbmV3IGBzdGF0ZWAgYXMgYHByZXNlbnRgIGFuZCBlcmFzaW5nXG4vLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cbmZ1bmN0aW9uIGluc2VydChoaXN0b3J5LCBzdGF0ZSwgbGltaXQpIHtcbiAgZGVidWcoJ2luc2VydCcsIHsgc3RhdGU6IHN0YXRlLCBoaXN0b3J5OiBoaXN0b3J5LCBmcmVlOiBsaW1pdCAtIGxlbmd0aChoaXN0b3J5KSB9KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cbiAgdmFyIGhpc3RvcnlPdmVyZmxvdyA9IGxpbWl0ICYmIGxlbmd0aChoaXN0b3J5KSA+PSBsaW1pdDtcblxuICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gaW5pdCBoaXN0b3J5XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhc3Q6IFtdLFxuICAgICAgcHJlc2VudDogc3RhdGUsXG4gICAgICBmdXR1cmU6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGFzdDogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0LnNsaWNlKGhpc3RvcnlPdmVyZmxvdyA/IDEgOiAwKSksIFtwcmVzZW50XSksXG4gICAgcHJlc2VudDogc3RhdGUsXG4gICAgZnV0dXJlOiBbXVxuICB9O1xufVxuLy8gL2luc2VydFxuXG4vLyB1bmRvOiBnbyBiYWNrIHRvIHRoZSBwcmV2aW91cyBwb2ludCBpbiBoaXN0b3J5XG5mdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcbiAgZGVidWcoJ3VuZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICBpZiAocGFzdC5sZW5ndGggPD0gMCkgcmV0dXJuIGhpc3Rvcnk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIHBhc3QubGVuZ3RoIC0gMSksIC8vIHJlbW92ZSBsYXN0IGVsZW1lbnQgZnJvbSBwYXN0XG4gICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuICAgIGZ1dHVyZTogW3ByZXNlbnRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZnV0dXJlKSlcbiAgfTtcbn1cbi8vIC91bmRvXG5cbi8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3RvcnlcbmZ1bmN0aW9uIHJlZG8oaGlzdG9yeSkge1xuICBkZWJ1ZygncmVkbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG4gICAgcHJlc2VudDogZnV0dXJlWzBdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdCksIFtwcmVzZW50IC8vIG9sZCBwcmVzZW50IHN0YXRlIGlzIGluIHRoZSBwYXN0IG5vd1xuICAgIF0pXG4gIH07XG59XG4vLyAvcmVkb1xuXG4vLyBqdW1wVG9GdXR1cmU6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIGZ1dHVyZSBoaXN0b3J5XG5mdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSAwKSByZXR1cm4gcmVkbyhoaXN0b3J5KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcbiAgICBwcmVzZW50OiBmdXR1cmVbaW5kZXhdLFxuICAgIHBhc3Q6IHBhc3QuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZS5zbGljZSgwLCBpbmRleCkpXG4gIH07XG59XG4vLyAvanVtcFRvRnV0dXJlXG5cbi8vIGp1bXBUb1Bhc3Q6IGp1bXAgdG8gcmVxdWVzdGVkIGluZGV4IGluIHBhc3QgaGlzdG9yeVxuZnVuY3Rpb24ganVtcFRvUGFzdChoaXN0b3J5LCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIHJldHVybiB7XG4gICAgZnV0dXJlOiBwYXN0LnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KFtwcmVzZW50XSkuY29uY2F0KGZ1dHVyZSksXG4gICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG4gICAgcGFzdDogcGFzdC5zbGljZSgwLCBpbmRleClcbiAgfTtcbn1cbi8vIC9qdW1wVG9QYXN0XG5cbi8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuZnVuY3Rpb24gd3JhcFN0YXRlKHN0YXRlKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICBoaXN0b3J5OiBzdGF0ZVxuICB9KTtcbn1cbi8vIC93cmFwU3RhdGVcblxuLy8gdXBkYXRlU3RhdGVcbmZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG4gIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBoaXN0b3J5KSk7XG59XG4vLyAvdXBkYXRlU3RhdGVcblxuLy8gY3JlYXRlSGlzdG9yeVxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHBhc3Q6IFtdLFxuICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgIGZ1dHVyZTogW11cbiAgfTtcbn1cbi8vIC9jcmVhdGVIaXN0b3J5XG5cbi8vIHBhcnNlQWN0aW9uc1xuZnVuY3Rpb24gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJhd0FjdGlvbnMpKSB7XG4gICAgcmV0dXJuIHJhd0FjdGlvbnM7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFtyYXdBY3Rpb25zXTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuLy8gL3BhcnNlQWN0aW9uc1xuXG4vLyByZWR1eC11bmRvIGhpZ2hlciBvcmRlciByZWR1Y2VyXG5mdW5jdGlvbiB1bmRvYWJsZShyZWR1Y2VyKSB7XG4gIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuICBfX0RFQlVHX18gPSByYXdDb25maWcuZGVidWc7XG5cbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBpbml0aWFsU3RhdGU6IHJhd0NvbmZpZy5pbml0aWFsU3RhdGUsXG4gICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuICAgIGxpbWl0OiByYXdDb25maWcubGltaXQsXG4gICAgZmlsdGVyOiByYXdDb25maWcuZmlsdGVyIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgdW5kb1R5cGU6IHJhd0NvbmZpZy51bmRvVHlwZSB8fCBBY3Rpb25UeXBlcy5VTkRPLFxuICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcbiAgICBqdW1wVG9QYXN0VHlwZTogcmF3Q29uZmlnLmp1bXBUb1Bhc3RUeXBlIHx8IEFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCxcbiAgICBqdW1wVG9GdXR1cmVUeXBlOiByYXdDb25maWcuanVtcFRvRnV0dXJlVHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX0ZVVFVSRVxuICB9O1xuICBjb25maWcuaGlzdG9yeSA9IHJhd0NvbmZpZy5pbml0aWFsSGlzdG9yeSB8fCBjcmVhdGVIaXN0b3J5KGNvbmZpZy5pbml0aWFsU3RhdGUpO1xuXG4gIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUud2FybigncmVkdXgtdW5kbzogc3VwcGx5IGF0IGxlYXN0IG9uZSBhY3Rpb24gdHlwZSBpbiBpbml0VHlwZXMgdG8gZW5zdXJlIGluaXRpYWwgc3RhdGUnKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGRlYnVnU3RhcnQoYWN0aW9uLCBzdGF0ZSk7XG4gICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIGNvbmZpZy51bmRvVHlwZTpcbiAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG4gICAgICAgIGRlYnVnKCdhZnRlciB1bmRvJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLnJlZG9UeXBlOlxuICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIHJlZG8nLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgY2FzZSBjb25maWcuanVtcFRvUGFzdFR5cGU6XG4gICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9QYXN0JywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb0Z1dHVyZVR5cGU6XG4gICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb0Z1dHVyZScsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5pbml0VHlwZXMuc29tZShmdW5jdGlvbiAoYWN0aW9uVHlwZSkge1xuICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBkZWJ1ZygncmVzZXQgaGlzdG9yeSBkdWUgdG8gaW5pdCBhY3Rpb24nKTtcbiAgICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCBjcmVhdGVIaXN0b3J5KHJlcykpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuZmlsdGVyICYmIHR5cGVvZiBjb25maWcuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaWYgKCFjb25maWcuZmlsdGVyKGFjdGlvbiwgcmVzLCBzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50KSkge1xuICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuICAgICAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoaXN0b3J5ID0gc3RhdGUgJiYgc3RhdGUucHJlc2VudCAhPT0gdW5kZWZpbmVkID8gc3RhdGUgOiBjb25maWcuaGlzdG9yeTtcbiAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIGluc2VydCcsIHsgaGlzdG9yeTogdXBkYXRlZEhpc3RvcnksIGZyZWU6IGNvbmZpZy5saW1pdCAtIGxlbmd0aCh1cGRhdGVkSGlzdG9yeSkgfSk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHVwZGF0ZWRIaXN0b3J5KSk7XG4gICAgfVxuICB9O1xufVxuLy8gL3JlZHV4LXVuZG9cblxuLy8gZGlzdGluY3RTdGF0ZSBoZWxwZXJcbmZ1bmN0aW9uIGRpc3RpbmN0U3RhdGUoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlICE9PSBwcmV2aW91c1N0YXRlO1xuICB9O1xufVxuLy8gL2Rpc3RpbmN0U3RhdGVcblxuLy8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucykge1xuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwO1xuICB9O1xufVxuLy8gL2luY2x1ZGVBY3Rpb25cblxuLy8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGlmQWN0aW9uKHJhd0FjdGlvbnMpIHtcbiAgY29uc29sZS5lcnJvcignRGVwcmVjYXRpb24gV2FybmluZzogUGxlYXNlIGNoYW5nZSBgaWZBY3Rpb25gIHRvIGBpbmNsdWRlQWN0aW9uYCcpO1xuICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcbn1cbi8vIC9pZkFjdGlvblxuXG4vLyBleGNsdWRlQWN0aW9uIGhlbHBlclxuZnVuY3Rpb24gZXhjbHVkZUFjdGlvbigpIHtcbiAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgYWN0aW9ucyA9IHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA8IDA7XG4gIH07XG59XG4vLyAvZXhjbHVkZUFjdGlvblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4LXVuZG8vbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDdXJ2ZSBmcm9tICcuL2N1cnZlJztcbmltcG9ydCBSZXNpemVIYW5kbGUgZnJvbSAnLi9yZXNpemUtaGFuZGxlJztcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY29uc3QgQ3VydmVFZGl0b3JSaWdodCA9ICh7c3RhdGUsIHByb2dyZXNzTGluZXN9KSA9PiB7XG4gIHJldHVybiAoPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmlnaHQnXX0+XG4gICAgICAgICAgICA8Q3VydmUgc3RhdGUgPXsgc3RhdGUgfSBwcm9ncmVzc0xpbmVzPXtwcm9ncmVzc0xpbmVzfSAvPlxuICAgICAgICAgICAgPFJlc2l6ZUhhbmRsZSB0eXBlPVwicmlnaHRcIiBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9IC8+XG4gICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJib3R0b21cIiBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9IC8+XG4gICAgICAgICAgPC9kaXY+KVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEN1cnZlRWRpdG9yUmlnaHQ7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItcmlnaHQuYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBhbmdsZVRvUG9pbnQgZnJvbSAnLi4vaGVscGVycy9hbmdsZS10by1wb2ludCc7XG5pbXBvcnQgUHJvZ3Jlc3NMaW5lIGZyb20gJy4vcHJvZ3Jlc3MtbGluZSc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZScpO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5jbGFzcyBDdXJ2ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge3N0YXRlfSAgID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cGF0aH0gICAgPSBzdGF0ZS5wb2ludHMucHJlc2VudCxcbiAgICAgICAgICBzdHlsZXMgICAgPSB0aGlzLl9nZXRTdHlsZSggc3RhdGUgKSxcbiAgICAgICAgICBwb2ludHMgICAgPSB0aGlzLl9yZW5kZXJQb2ludHMoIHN0YXRlICksXG4gICAgICAgICAgc2VnbWVudHMgID0gdGhpcy5fcmVuZGVyU2VnbWVudHMoIHN0YXRlICksXG4gICAgICAgICAgcHJvZ3Jlc3NMaW5lcyA9IHRoaXMuX3JlbmRlclByb2dyZXNzTGluZXMoIHN0YXRlICk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlJ119PlxuICAgICAgICAgICAgICA8ZGl2ICBpZD1cImpzLWJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZV9fYmFja2dyb3VuZCddfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGVzLmJhY2tncm91bmR9IC8+XG5cbiAgICAgICAgICAgICAge3Byb2dyZXNzTGluZXN9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50cmFuc2Zvcm19PlxuXG4gICAgICAgICAgICAgICAgeyBwb2ludHMgfVxuXG4gICAgICAgICAgICAgICAgPHN2ZyAgaGVpZ2h0PXsgQy5DVVJWRV9TSVpFIH1cbiAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImpzLXN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnJ10gfT5cblxuICAgICAgICAgICAgICAgICAgPHBhdGggZD17cGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiMwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLW9wYWNpdHk9XCIwLjM1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLjc1LC43NSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiAvPlxuXG4gICAgICAgICAgICAgICAgICA8ZyBpZD1cImpzLXNlZ21lbnRzXCI+IHsgc2VnbWVudHMgfSA8L2c+XG5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG5cbiAgX2dldFN0eWxlKHN0YXRlKSB7XG4gICAgY29uc3Qge3Jlc2l6ZX0gPSBzdGF0ZTtcbiAgICBsZXQge3RlbXBfdG9wLCB0ZW1wX3JpZ2h0fSA9IHJlc2l6ZTtcblxuICAgIHRlbXBfdG9wICAgICs9IHJlc2l6ZS50b3A7XG4gICAgdGVtcF9yaWdodCAgKz0gcmVzaXplLnJpZ2h0O1xuXG4gICAgaWYgKEMuQ1VSVkVfU0laRSAtIHRlbXBfdG9wIDwgQy5DVVJWRV9TSVpFKSB7IHRlbXBfdG9wID0gMDsgfVxuICAgIHRlbXBfdG9wID0gbW9kKCB0ZW1wX3RvcCwgLTEgKTtcblxuICAgIGNvbnN0IHNjYWxlID0gYHRyYW5zZm9ybTogc2NhbGVYKCR7KEMuQ1VSVkVfU0laRSArIE1hdGgubWF4KHRlbXBfcmlnaHQsMCkpL0MuQ1VSVkVfU0laRX0pYCxcbiAgICAgICAgICBiZ1RyYW5zZm9ybSA9IGAke21vanMuaC5wcmVmaXguY3NzfSR7c2NhbGV9OyAke3NjYWxlfTtgLFxuICAgICAgICAgIGJhY2tncm91bmQgPSBgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAkey10ZW1wX3RvcCAtIDF9cHg7ICR7YmdUcmFuc2Zvcm19YCxcbiAgICAgICAgICB0cmFuc2Zvcm0gID0gYHRyYW5zZm9ybTogdHJhbnNsYXRlKDBweCwgJHstdGVtcF90b3B9cHgpYDtcblxuICAgIHJldHVybiB7XG4gICAgICBiYWNrZ3JvdW5kLFxuICAgICAgdHJhbnNmb3JtOiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zZm9ybX07ICR7dHJhbnNmb3JtfTtgXG4gICAgfTtcbiAgfVxuXG4gIF9yZW5kZXJQb2ludHMgKHN0YXRlKSB7XG4gICAgY29uc3QgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnBvaW50cyxcbiAgICAgICAgICBwb2ludHMgICAgID0gW10sXG4gICAgICAgICAgbGVuICAgICAgICA9IHBvaW50c0RhdGEubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgIDxQb2ludCBwb2ludD17IHBvaW50c0RhdGFbaV0gfSBzdGF0ZT17c3RhdGV9IGluZGV4PXtpfSBwb2ludHNDb3VudD17bGVufSAvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG4gIH1cblxuICBfcmVuZGVyU2VnbWVudHMgKHN0YXRlKSB7XG4gICAgY29uc3Qge3NlZ21lbnRzfSAgPSBzdGF0ZS5wb2ludHMucHJlc2VudCxcbiAgICAgICAgICBkb21TZWdtZW50cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgICAgZG9tU2VnbWVudHMucHVzaChcbiAgICAgICAgPHBhdGggZD17c2VnbWVudC5zZWdtZW50U3RyaW5nfVxuICAgICAgICAgICAgICBkYXRhLWluZGV4PXtzZWdtZW50LmluZGV4fVxuICAgICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiXCJcbiAgICAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gICAgICAgICAgICAgIGNsYXNzPXtDTEFTU0VTWydjdXJ2ZV9fc3ZnLXNlZ21lbnQnXX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbVNlZ21lbnRzO1xuICB9XG5cbiAgX3JlbmRlclByb2dyZXNzTGluZXMgKCBzdGF0ZSApIHtcbiAgICBjb25zdCB7cHJvZ3Jlc3NMaW5lc30gPSBzdGF0ZSxcbiAgICAgICAgICB7bGluZXN9ICAgICAgICAgPSBwcm9ncmVzc0xpbmVzLFxuICAgICAgICAgIHJlbmRlcmVkTGluZXMgICA9IFtdO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSBsaW5lcy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgIHJlbmRlcmVkTGluZXMucHVzaCg8UHJvZ3Jlc3NMaW5lIHsuLi5saW5lfSAvPik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcmVkTGluZXM7XG4gIH1cblxuICBfdXBkYXRlRG9tUHJvZ3Jlc3NMaW5lcyAoKSB7XG4gICAgY29uc3Qge3Byb2dyZXNzTGluZXN9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBETyBOT1QgTVVUQVRFIFRIRSBBUlJBWSBUTyBQUkVWRU5UIExPT1NJTkcgVEhFIExJTksgVE8gSVRcbiAgICBwcm9ncmVzc0xpbmVzLmxlbmd0aCA9IDA7XG5cbiAgICBjb25zdCBsaW5lcyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb21wb25lbnQ9XCJwcm9ncmVzcy1saW5lXCJdJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvZ3Jlc3NMaW5lc1tpXSA9IGxpbmVzW2ldO1xuICAgIH1cbiAgfVxuXG4gIC8vIF9yZW5kZXJTZWdtZW50ICggaW5kZXgsIHN0cmluZykge1xuICAvLyAgIHJldHVybiA8cGF0aFxuICAvLyAgICAgICAgICAgZD17c3RyaW5nfVxuICAvLyAgICAgICAgICAgZGF0YS1pbmRleD17aW5kZXh9XG4gIC8vICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG4gIC8vICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gIC8vICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuICAvLyAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG4gIC8vICAgICAgICAgICBjbGFzcz17Q0xBU1NFU1snY3VydmVfX3N2Zy1zZWdtZW50J119XG4gIC8vICAgICAgICAgICAvPjtcbiAgLy8gfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7IHRoaXMuX3VwZGF0ZURvbVByb2dyZXNzTGluZXMoKTsgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICB0aGlzLl91cGRhdGVEb21Qcm9ncmVzc0xpbmVzKCk7XG4gICAgXG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc2VnbWVudHMnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgZXYgICAgID0gZS5zcmNFdmVudCxcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuICAgICAgICAvLyBoYW5kbGUgcGF0aHMgb25seVxuICAgICAgICBpZiAoIHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJyApIHsgcmV0dXJuOyB9XG4gICAgICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHggID0gZXYub2Zmc2V0WCxcbiAgICAgICAgICAgICAgeSAgPSBldi5vZmZzZXRZKkMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICAgICAgaW5kZXggPSBwYXJzZUludCh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpICsgMTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogICAgICAnUE9JTlRfQUREJyxcbiAgICAgICAgICBkYXRhOiAgICAgIHsgcG9pbnQ6IHsgeCwgeSB9LCBpbmRleCB9LFxuICAgICAgICAgIGlzUmVjb3JkOiAgdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdmcgICA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG4gICAgICAgICAgc3ZnTWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICBzdmdNYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgc3ZnTWNcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcbiAgICAgIH0pO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoYW5nbGUsIHJhZGl1cykgPT4ge1xuICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGUsIHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgUHJvZ3Jlc3NMaW5lIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzdHlsZSA9IHsgYmFja2dyb3VuZENvbG9yOiBwLmNvbG9yIH1cbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17Q0xBU1NFU1sncHJvZ3Jlc3MtbGluZSddfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9eydwcm9ncmVzcy1saW5lJ30gLz47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NMaW5lO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcHJvZ3Jlc3MtbGluZS5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcHJvZ3Jlc3MtbGluZS5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wcm9ncmVzcy1saW5lLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcHJvZ3Jlc3MtbGluZV8xajRwcF8ze3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2JvdHRvbTowO3dpZHRoOjFweDttYXJnaW4tbGVmdDotMS41cHh9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcHJvZ3Jlc3MtbGluZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInByb2dyZXNzLWxpbmVcIjogXCJfcHJvZ3Jlc3MtbGluZV8xajRwcF8zXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Byb2dyZXNzLWxpbmUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBhZGRQb2ludGVyRG93biBmcm9tICcuLi9oZWxwZXJzL2FkZC1wb2ludGVyLWRvd24nO1xuaW1wb3J0IExpdHRsZUhhbmRsZSBmcm9tICcuL2xpdHRsZS1oYW5kbGUnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCByb3VuZFRvIGZyb20gJy4uL2hlbHBlcnMvcm91bmQtdG8nO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vaGVscGVycy9jbGFtcCc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50Jyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7cG9pbnQsIHN0YXRlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2VsZWN0ZWQgID0gKHBvaW50LmlzU2VsZWN0ZWQpID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnLFxuICAgICAgICAgIGhhbmRsZXMgICA9IChwb2ludC50eXBlID09PSAnc3RyYWlnaHQnKSA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cbiAgICBjb25zdCBsaXR0bGVIYW5kbGVzID0gdGhpcy5fZ2V0TGl0dGxlSGFuZGxlcyggKTtcblxuICAgIHJldHVybiAgPGRpdiAgY2xhc3NOYW1lPXtgJHtDTEFTU0VTWydwb2ludCddfSAke3NlbGVjdGVkfSAke2hhbmRsZXN9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXsgdGhpcy5fZ2V0U3R5bGUoc3RhdGUpIH1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwicG9pbnRcIj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IENMQVNTRVNbJ3BvaW50X190b3VjaCddIH0gaWQ9XCJqcy1wb2ludC10b3VjaFwiIC8+XG5cbiAgICAgICAgICAgICAgeyBsaXR0bGVIYW5kbGVzIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gIH1cblxuICBfZ2V0U3R5bGUgKHN0YXRlKSB7XG4gICAgY29uc3Qge3BvaW50fSAgID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICB4ICAgICAgICAgPSBjbGFtcChwb2ludC54ICsgcG9pbnQudGVtcFgsIDAsIDEwMCksXG4gICAgICAgICAgY2xlYW5YICAgID0geCAqIHJlc2l6ZS5zY2FsZXJYLFxuICAgICAgICAgIHkgICAgICAgICA9IHBvaW50LnkgKyBwb2ludC50ZW1wWTtcblxuICAgIC8vIGNvbnNvbGUubG9nKHBvaW50KTtcblxuICAgIGNvbnN0IHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2NsZWFuWH1weCwgJHt5LTF9cHgpYDtcbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cbiAgX2dldExpdHRsZUhhbmRsZXMgKCkge1xuICAgIGNvbnN0IHtpbmRleCwgcG9pbnQsIHBvaW50c0NvdW50fSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGFuZGxlcyA9IFtdO1xuICAgIC8vIGRvbnQgc2V0IHRoZSBoYW5kbGUxIGZvciBzdGFydCBwb2ludFxuICAgIChpbmRleCAhPT0gMCkgJiYgaGFuZGxlcy5wdXNoKCB0aGlzLl9jcmVhdGVIYW5kbGUoIDEsIHBvaW50ICkgKTtcbiAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMiBmb3IgZW5kIHBvaW50XG4gICAgKGluZGV4ICE9PSBwb2ludHNDb3VudC0xKSAmJiBoYW5kbGVzLnB1c2goIHRoaXMuX2NyZWF0ZUhhbmRsZSggMiwgcG9pbnQgKSApO1xuICAgIHJldHVybiBoYW5kbGVzO1xuICB9XG5cbiAgX2NyZWF0ZUhhbmRsZSAoaW5kZXgsIHBvaW50KSAge1xuICAgIHJldHVybiA8TGl0dGxlSGFuZGxlXG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgc3RhdGU9e3RoaXMucHJvcHMuc3RhdGV9XG4gICAgICAgIHBhcmVudEluZGV4PXt0aGlzLnByb3BzLmluZGV4fVxuICAgICAgICBoYW5kbGU9e3BvaW50W2BoYW5kbGUke2luZGV4fWBdfVxuICAgICAgICB0eXBlPXtwb2ludC50eXBlfVxuICAgICAgICAvPlxuICB9XG4gIFxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBjb25zdCBnZXRUZW1wWCA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG4gICAgICAvLyBpZiBwb2ludCBpcyBub3QgbG9ja2VkIHRvIHggYXhlcyAtPlxuICAgICAgLy8gY2FsY3VsYXRlIGRlbHRhIHJlZ2FyZGluZyBzY2FsZXJcbiAgICAgIGlmICggcG9pbnQuaXNMb2NrZWRYICkgeyByZXR1cm4gMCB9O1xuICAgICAgICBcbiAgICAgIGNvbnN0IHggPSBlLmRlbHRhWC9yZXNpemUuc2NhbGVyWDtcbiAgICAgIGlmICggcG9pbnQueCArIHggPCAwICkgeyByZXR1cm4gMCAtIHBvaW50Lng7IH1cbiAgICAgIGVsc2UgaWYgKCBwb2ludC54ICsgeCA+IDEwMCApIHsgcmV0dXJuIDEwMCAtIHBvaW50Lng7IH1cbiAgICAgIHJldHVybiByb3VuZFRvKCBwb2ludC54ICsgeCwgNSwgMS41ICkgLSBwb2ludC54O1xuICAgIH1cblxuICAgIGNvbnN0IGdldFkgPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgeSA9IHBvaW50LnkgKyBlLmRlbHRhWTtcblxuICAgICAgLy8gY2xhbXAgeSB0byB0aGUgc2l6ZSBvZiBjdXJ2ZVxuICAgICAgcmV0dXJuIGNsYW1wKCB5LCByZXNpemUudG9wLCBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tICk7IFxuICAgIH1cblxuICAgIC8vIGdldCB5IGRlbHRhIHJlYWdhcmRpbmcgY3VydmUgYm91bmRzXG4gICAgY29uc3QgZ2V0VGVtcFkgPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICBsZXQgeSA9IHBvaW50LnkgKyBlLmRlbHRhWSxcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IHk7XG5cbiAgICAgIGlmICggeSA8IHJlc2l6ZS50b3AgKSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gcmVzaXplLnRvcDtcbiAgICAgIH0gZWxzZSBpZiAoIHkgPiBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tICkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b207XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByb3VuZFRvKCByZXR1cm5WYWx1ZSwgNSpDLkNVUlZFX1BFUkNFTlQsIDIqQy5DVVJWRV9QRVJDRU5UICkgLSBwb2ludC55O1xuICAgIH1cblxuICAgIGNvbnN0IGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb2ludC10b3VjaCcpLFxuICAgICAgICAgIG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURScsXG4gICAgICAgICAgZGF0YTogeyB4OiBnZXRUZW1wWChlKSwgeTogZ2V0VGVtcFkoZSksIGluZGV4IH1cbiAgICAgICAgfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG4gICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEVfRU5EJywgZGF0YTogaW5kZXgsIGlzUmVjb3JkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5vbigndGFwJywgKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSk7XG5cbiAgICAgIGFkZFBvaW50ZXJEb3duKCBlbCwgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNoaWZ0S2V5LFxuICAgICAgICAgICAgdHlwZTogcG9pbnQudHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9ICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9wb2ludC5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoZWwsIGZuKSA9PiB7XG4gIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdNU1BvaW50ZXJEb3duJywgZm4pO1xuICB9IGVsc2UgaWYgKCB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZuKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmbik7XG4gIH0gZWxzZSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuICB9XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9hZGQtcG9pbnRlci1kb3duLmJhYmVsLmpzXG4gKiovIiwiaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgYW5nbGVUb1BvaW50IGZyb20gJy4uL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQnO1xuaW1wb3J0IHBvaW50VG9BbmdsZSBmcm9tICcuLi9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlJztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgTGl0dGxlSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17Q0xBU1NFU1snbGl0dGxlLWhhbmRsZSddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJsaXR0bGUtaGFuZGxlXCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRQb2ludFN0eWxlKCl9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoJ119IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX2xpbmUnXSB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3RoaXMuX2dldExpbmVTdHlsZSgpfSAvPlxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIG1jICAgICAgID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXG4gICAgdmFyIHtoYW5kbGV9ID0gdGhpcy5wcm9wcztcbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuICAgIG1jXG4gICAgICAub24oJ3BhbnN0YXJ0JywgKGUpID0+IHsgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7IH0pXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtpbmRleCwgcGFyZW50SW5kZXgsIHN0YXRlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIHBvaW50ICAgICA9IGFuZ2xlVG9Qb2ludCggaGFuZGxlLmFuZ2xlLCBoYW5kbGUucmFkaXVzICksXG4gICAgICAgICAgICAgIC8vIG5ld1ggICAgICA9IHBvaW50LnggKyBlLmRlbHRhWCxcbiAgICAgICAgICAgICAgbmV3WSAgICAgID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICAgICAgLy8gYWJzb2x1dGUgeCByZWdhcmRpbmcgaG9yaXpvbnRhbCBzaXplXG4gICAgICAgICAgICAgIGFic1ggICAgICA9IHBvaW50LnggKyAoZS5kZWx0YVgpL3Jlc2l6ZS5hYnNTY2FsZXJYLFxuICAgICAgICAgICAgICBhbmdsZSAgICAgPSBwb2ludFRvQW5nbGUoIGFic1gsIG5ld1kgKTtcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuICAgICAgICAgIGRhdGE6IHsgaW5kZXgsIHBhcmVudEluZGV4LCAuLi5hbmdsZSB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICggdGhpcy5wcm9wcy50eXBlID09PSAnbWlycm9yZWQnICkge1xuICAgICAgICAgIGNvbnN0IGkgPSAoaW5kZXggPT09IDEpID8gMiA6IDE7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpbmRleDogICAgICBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiAgICAgYW5nbGUucmFkaXVzLFxuICAgICAgICAgICAgICBhbmdsZTogICAgICBhbmdsZS5hbmdsZSAtIDE4MFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLnByb3BzLnR5cGUgPT09ICdhc3ltbWV0cmljJyApIHtcbiAgICAgICAgICBjb25zdCBpID0gKGluZGV4ID09PSAxKSA/IDIgOiAxO1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdIQU5ETEVfVFJBTlNMQVRFJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaW5kZXg6ICAgICAgaSwgcGFyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHJhZGl1czogICAgIGhhbmRsZS5yYWRpdXMsXG4gICAgICAgICAgICAgIGFuZ2xlOiAgICAgIGFuZ2xlLmFuZ2xlIC0gMTgwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEVfRU5EJywgaXNSZWNvcmQ6IHRydWUgfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9nZXRQb2ludFN0eWxlICgpIHtcbiAgICBjb25zdCB7aGFuZGxlLCBzdGF0ZX0gID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICBwb2ludCAgICAgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApLFxuICAgICAgICAgIHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3BvaW50LngqcmVzaXplLmFic1NjYWxlclh9cHgsICR7cG9pbnQueX1weCkgcm90YXRlKCR7aGFuZGxlLmFuZ2xlfWRlZylgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG4gIF9nZXRMaW5lU3R5bGUgKCkge1xuICAgIGNvbnN0IHtoYW5kbGUsIHN0YXRlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtyZXNpemV9ICA9IHN0YXRlLFxuICAgICAgICAgIC8vIHNpbmNlIHRoZSBhbmdsZSBhbmQgcmFkaXVzIHdlcmUgc3RvcmVkIGFzIGFic29sdXRlLFxuICAgICAgICAgIC8vIGUuZy4gcmVnYXJkbGVzcyB0aGUgZWRpdG9yJ3MgaG9yaXpvbnRhbCByZXNpemUsXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byByZWNhbGMgdGhlIHggcG9zaXRpb24gZm9yIHRoZSBsaW5lXG4gICAgICAgICAgcG9pbnQgICAgID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICBuZXdWZWN0b3IgPSBwb2ludFRvQW5nbGUoIHBvaW50LngqcmVzaXplLmFic1NjYWxlclgsIHBvaW50LnkgKSxcbiAgICAgICAgICB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiByb3RhdGUoJHtuZXdWZWN0b3IuYW5nbGV9ZGVnKSBzY2FsZVkoJHtuZXdWZWN0b3IucmFkaXVzfSlgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGl0dGxlSGFuZGxlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9saXR0bGUtaGFuZGxlLmJhYmVsLmpzeFxuICoqLyIsImV4cG9ydCBkZWZhdWx0ICh4LCB5KSA9PiB7XG4gIGxldCAgIHJhZGl1cyAgPSBNYXRoLnNxcnQoIHgqeCArIHkqeSApLFxuICAgICAgICBhbmdsZSAgID0gTWF0aC5hdGFuKCB5L3ggKSAqICgxODAvTWF0aC5QSSkgLSA5MDtcbiAgaWYgKCB4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuXG4gIHJldHVybiB7IHJhZGl1cywgYW5nbGUgfTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2xpdHRsZS1oYW5kbGVfeDFtZzFfM3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjA7aGVpZ2h0OjB9Ll9saXR0bGUtaGFuZGxlX19wb2ludF94MW1nMV8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0zcHg7bWFyZ2luLXRvcDotM3B4O2JhY2tncm91bmQ6I2ZmNTEyZjtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC41KX0uX2xpdHRsZS1oYW5kbGVfX2Vhc3ktdG91Y2hfeDFtZzFfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6MjAwJTtoZWlnaHQ6MjAwJTtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0xMDAlO21hcmdpbi10b3A6LTEwMCV9Ll9saXR0bGUtaGFuZGxlX19saW5lX3gxbWcxXzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7bWFyZ2luLWxlZnQ6LTFweDttYXJnaW4tdG9wOi0xcHg7bGVmdDo1MCU7dG9wOjUwJTtiYWNrZ3JvdW5kOiNmZjUxMmY7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwibGl0dGxlLWhhbmRsZVwiOiBcIl9saXR0bGUtaGFuZGxlX3gxbWcxXzNcIixcblx0XCJsaXR0bGUtaGFuZGxlX19wb2ludFwiOiBcIl9saXR0bGUtaGFuZGxlX19wb2ludF94MW1nMV8xXCIsXG5cdFwibGl0dGxlLWhhbmRsZV9fZWFzeS10b3VjaFwiOiBcIl9saXR0bGUtaGFuZGxlX19lYXN5LXRvdWNoX3gxbWcxXzFcIixcblx0XCJsaXR0bGUtaGFuZGxlX19saW5lXCI6IFwiX2xpdHRsZS1oYW5kbGVfX2xpbmVfeDFtZzFfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCBiYXNlLCBzbmFwKSA9PiB7XG4gIGNvbnN0IG1vZGlmaWVkID0gTWF0aC5yb3VuZCh2YWx1ZS9iYXNlKSpiYXNlO1xuXG4gIHJldHVybiAoIE1hdGguYWJzKHZhbHVlIC0gbW9kaWZpZWQpIDwgc25hcCApID8gbW9kaWZpZWQgOiB2YWx1ZTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL3JvdW5kLXRvLmJhYmVsLmpzXG4gKiovIiwiXG5cbmV4cG9ydCBkZWZhdWx0ICh2YWx1ZSwgbWluLCBtYXgpID0+IHtcbiAgcmV0dXJuICh2YWx1ZSA8IG1pbilcbiAgICA/IG1pblxuICAgIDogKHZhbHVlID4gbWF4KSA/IG1heCA6IHZhbHVlO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvY2xhbXAuYmFiZWwuanNcbiAqKi8iLCJcblxuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgWV9TSVpFID0gQy5DVVJWRV9TSVpFO1xuY29uc3QgbW9kID0gKCB0ZW1wUmVzaXplX3RvcCwgY29lZiA9IDEgKSA9PiB7XG4gIGNvbnN0IE1PRCA9IE1hdGguYWJzKHRlbXBSZXNpemVfdG9wICUgWV9TSVpFKSxcbiAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuICAgICAgICBHQVAgPSAxNTtcblxuICBpZiAoTU9EIDwgR0FQICkgeyB0ZW1wUmVzaXplX3RvcCA9IERJVipZX1NJWkU7IH1cbiAgZWxzZSBpZiAoIE1PRCA+IFlfU0laRSAtIEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBjb2VmKihESVYrMSkqWV9TSVpFOyB9XG5cbiAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtb2Q7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9yZXNpemUtbW9kLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludF8xNGpucF81e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tdG9wOi01cHg7Y3Vyc29yOm1vdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3otaW5kZXg6Mztib3gtc2hhZG93OjNweCAzcHggMCByZ2JhKDAsMCwwLC41KX0uX3BvaW50XzE0am5wXzUgW2RhdGEtY29tcG9uZW50PWxpdHRsZS1oYW5kbGVde2Rpc3BsYXk6bm9uZX0uX3BvaW50X190b3VjaF8xNGpucF8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDttYXJnaW4tbGVmdDotMTBweDttYXJnaW4tdG9wOi0xMHB4fS5fcG9pbnRfMTRqbnBfNS5faXMtc2VsZWN0ZWRfMTRqbnBfMzEsLl9wb2ludF8xNGpucF81OmhvdmVye2JhY2tncm91bmQ6I2ZmNTEyZn0uX3BvaW50XzE0am5wXzUuX2lzLXNlbGVjdGVkXzE0am5wXzMxIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5OmJsb2NrfS5fcG9pbnRfMTRqbnBfNS5faXMtaGlkZS1oYW5kbGVzXzE0am5wXzQzIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInBvaW50XCI6IFwiX3BvaW50XzE0am5wXzVcIixcblx0XCJwb2ludF9fdG91Y2hcIjogXCJfcG9pbnRfX3RvdWNoXzE0am5wXzFcIixcblx0XCJpcy1zZWxlY3RlZFwiOiBcIl9pcy1zZWxlY3RlZF8xNGpucF8zMVwiLFxuXHRcImlzLWhpZGUtaGFuZGxlc1wiOiBcIl9pcy1oaWRlLWhhbmRsZXNfMTRqbnBfNDNcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZV9rOWxzeF81e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMHB4O2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC43NSk7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgNHB4IDRweCAwIHJnYmEoMCwwLDAsLjUpO3otaW5kZXg6Mn0uX2N1cnZlX19iYWNrZ3JvdW5kX2s5bHN4XzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO3RvcDowO2JvdHRvbTowO3dpZHRoOjM1MHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0xNzVweDtvcGFjaXR5Oi41O2JvcmRlci1yYWRpdXM6aW5oZXJpdDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K1BITjJaeUIzYVdSMGFEMGlNelV3Y0hnaUlHaGxhV2RvZEQwaU16VXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXpOVEFnTXpVd0lpQjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnSUNBZ0lDQWdQSFJwZEd4bFBsTnNhV05sSURFOEwzUnBkR3hsUGlBZ0lDQThaR1Z6WXo1RGNtVmhkR1ZrSUhkcGRHZ2dVMnRsZEdOb0xqd3ZaR1Z6WXo0Z0lDQWdQR1JsWm5NK1BDOWtaV1p6UGlBZ0lDQThaeUJwWkQwaVVHRm5aUzB4SWlCemRISnZhMlU5SW01dmJtVWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0Z0lDQWdJQ0FnSUR4bklHbGtQU0pIY205MWNDSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFdU1EQXdNREF3TENBd0xqQXdNREF3TUNraUlITjBjbTlyWlQwaUkwWkdSa1pHUmlJK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE16TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16TXpMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXhOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpFMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nams0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk0TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qZ3dMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTBOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpRMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nakk0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl4TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qRXdMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRrekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMU9TNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFU1TGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTVM0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UUXhMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXlOQzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRJMExqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFd05pNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEEyTGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVGN4TGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU56RXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVTBMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTlRRdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMkxqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1Nell1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU1Ua3VNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVGt1TURBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERFNUxqQXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERNMkxqVXdNakUzT1RNZ1RERXVNREF4TURnNE15d3pOaTQxTURJeE56a3pJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9DdzFOQzR3TURJeE56a3pJRXd4TGpBd01UQTRPRE1zTlRRdU1EQXlNVGM1TXlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTnpFdU5UQXlNVGM1TXlCTU1TNHdNREV3T0RnekxEY3hMalV3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERXdOaTQxTURJeE56a2dUREV1TURBeE1EZzRNeXd4TURZdU5UQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4TWpRdU1EQXlNVGM1SUV3eExqQXdNVEE0T0RNc01USTBMakF3TWpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01UUXhMalV3TWpFM09TQk1NUzR3TURFd09EZ3pMREUwTVM0MU1ESXhOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREUxT1M0d01ESXhOemtnVERFdU1EQXhNRGc0TXl3eE5Ua3VNREF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE9UTXVNVEkzTVRjNUlFd3hMakF3TVRBNE9ETXNNVGt6TGpFeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNakV3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJeE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJeU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lNamd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3lORFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTWpRMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpnd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESTRNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESTVPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5T1RndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d6TVRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc016RTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc016TXpMakV5TnpFM09TQk1NUzR3TURFd09EZ3pMRE16TXk0eE1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMDRPQzR3TmpReE16VXlMREVnVERnNExqQTJOREV6TlRJc016VXhJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweE56VXVNVEk0TWpjc01TQk1NVGMxTGpFeU9ESTNMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5Nall5TGpFNU1qUXdOaXd4SUV3eU5qSXVNVGt5TkRBMkxETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXdMalUyTXpVNU1TdzRPQzR3TmpRMk56a3pJRXd3TGpVMk16VTVNVEF5TWl3NE9DNHdOalEyTnpreklpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRBdU5UWXpOVGt4TERFM05TNDFOalEyTnprZ1REQXVOVFl6TlRreE1ESXlMREUzTlM0MU5qUTJOemtpSUdsa1BTSndZWFJvT0RJeE5TSWdiM0JoWTJsMGVUMGlNQzQxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNQzQxTmpNMU9URXNNall6TGpBMk5EWTNPU0JNTUM0MU5qTTFPVEV3TWpJc01qWXpMakEyTkRZM09TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y21WamRDQnBaRDBpY21WamRERXdNRGM0SWlCdmNHRmphWFI1UFNJd0xqYzFJaUI0UFNJd0xqZzNNamd4TnprMU5TSWdlVDBpTVNJZ2QybGtkR2c5SWpNMU1DSWdhR1ZwWjJoMFBTSXpOVEFpUGp3dmNtVmpkRDRnSUNBZ0lDQWdJRHd2Wno0Z0lDQWdQQzluUGp3dmMzWm5QZz09KX0uX2N1cnZlX19zdmctd3JhcHBlcl9rOWxzeF8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtsZWZ0Oi0xcHg7cmlnaHQ6LTFweH0uX2N1cnZlX19zdmdfazlsc3hfMXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGU7d2lkdGg6MTAwJX0uX2N1cnZlX19zdmctc2VnbWVudF9rOWxzeF8xe3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoycHg7Y3Vyc29yOmNyb3NzaGFpcn0uX2N1cnZlX19zdmctc2VnbWVudF9rOWxzeF8xOmhvdmVye3N0cm9rZTojZmY1MTJmfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjdXJ2ZVwiOiBcIl9jdXJ2ZV9rOWxzeF81XCIsXG5cdFwiY3VydmVfX2JhY2tncm91bmRcIjogXCJfY3VydmVfX2JhY2tncm91bmRfazlsc3hfMVwiLFxuXHRcImN1cnZlX19zdmctd3JhcHBlclwiOiBcIl9jdXJ2ZV9fc3ZnLXdyYXBwZXJfazlsc3hfMVwiLFxuXHRcImN1cnZlX19zdmdcIjogXCJfY3VydmVfX3N2Z19rOWxzeF8xXCIsXG5cdFwiY3VydmVfX3N2Zy1zZWdtZW50XCI6IFwiX2N1cnZlX19zdmctc2VnbWVudF9rOWxzeF8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlJyk7XG5jbGFzcyBSZXNpemVIYW5kbGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHt0eXBlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gYCR7Q0xBU1NFU1sncmVzaXplLWhhbmRsZSddfWAsXG4gICAgICAgICAgY2xhc3NUeXBlID0gYCR7Q0xBU1NFU1sncmVzaXplLWhhbmRsZS0tJyArIHR5cGUgXX1gO1xuICAgIHJldHVybiA8ZGl2XG4gICAgICBjbGFzc05hbWU9eyBgJHtjbGFzc05hbWV9ICR7Y2xhc3NUeXBlfSAke3RoaXMucHJvcHMuY2xhc3NOYW1lfWAgfVxuICAgICAgZGF0YS10eXBlPXt0eXBlfVxuICAgICAgZGF0YS1jb21wb25lbnQ9XCJyZXNpemUtaGFuZGxlXCI+XG4gICAgICAgIDxJY29uIHNoYXBlPVwiZWxsaXBzaXNcIiAvPlxuICAgICAgPC9kaXY+O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAge3R5cGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWMgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFX0VORCcsIGRhdGE6IHsgeCwgeSwgdHlwZSB9IH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzaXplSGFuZGxlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcmVzaXplLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24nKTtcblxuY2xhc3MgSWNvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge3NoYXBlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWFya3VwID0gYDxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiPjx1c2UgeGxpbms6aHJlZj1cIiMke3NoYXBlfS1zaGFwZVwiIC8+PC9zdmc+YDtcbiAgICByZXR1cm4gIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snaWNvbiddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJpY29uXCJcbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWFya3VwIH19PlxuICAgICAgICAgICAgPC9kaXY+O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb25cIjogXCJfaWNvbl80YThsZl81XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24ucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb25fNGE4bGZfNXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMnB4O2hlaWdodDozMnB4O2N1cnNvcjpwb2ludGVyO2ZpbGw6I2ZmZjtkaXNwbGF5OmJsb2NrfS5faWNvbl80YThsZl81PnN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU+c3ZnPnVzZXtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjF9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XCJyZXNpemUtaGFuZGxlLS1yaWdodFwiOiBcIl9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xXCIsXG5cdFwicmVzaXplLWhhbmRsZS0tYm90dG9tXCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTUwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjdXJ2ZS1lZGl0b3JcIjogXCJfY3VydmUtZWRpdG9yXzFpdHoxXzRcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFpdHoxXzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX3JpZ2h0XCI6IFwiX2N1cnZlLWVkaXRvcl9fcmlnaHRfMWl0ejFfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZVwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xaXR6MV8xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ29cIjogXCJfY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWl0ejFfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5pbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IENvZGVCdXR0b24gZnJvbSAnLi9jb2RlLWJ1dHRvbic7XG5pbXBvcnQgSWNvbkRpdmlkZXIgZnJvbSAnLi9pY29uLWRpdmlkZXInO1xuaW1wb3J0IFBvaW50Q29udHJvbHMgZnJvbSAnLi9wb2ludC1jb250cm9scyc7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNvbnN0IEN1cnZlRWRpdG9yTGVmdCA9ICh7c3RhdGV9KSA9PiB7XG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddfSBpZD1cImpzLWxlZnQtcGFuZWxcIj5cbiAgICAgICAgICAgIDxDb2RlQnV0dG9uIHN0YXRlPXtzdGF0ZX0gLz5cbiAgICAgICAgICAgIDxJY29uRGl2aWRlciAvPlxuICAgICAgICAgICAgPFBvaW50Q29udHJvbHMgc3RhdGU9e3N0YXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9ucyddfSAvPlxuICAgICAgICAgICAgPGEgIGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19tb2pzLWxvZ28nXX1cbiAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2xlZ29tdXNocm9vbS9tb2pzLWN1cnZlLWVkaXRvclwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgICA8SWNvbiBzaGFwZT1cIm1vanMtbG9nb1wiIC8+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvckxlZnQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1sZWZ0LmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnLi9pY29uLWJ1dHRvbic7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5cbmNsYXNzIENvZGVCdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiA8SWNvbkJ1dHRvbiBzaGFwZT1cImNvZGVcIiBpc0NoZWNrPXtzdGF0ZS5jb250cm9scy5pc0NvZGV9IC8+O1xuICB9XG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IG1jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuICAgIG1jLmFkZChuZXcgSGFtbWVyLlRhcCk7XG5cbiAgICBtYy5vbigndGFwJywgKGUpID0+IHsgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnQ09ERV9UQVAnIH0pOyB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb2RlQnV0dG9uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY29kZS1idXR0b24uYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG4vLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24tYnV0dG9uJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIEljb25CdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGNoZWNrID0gKHRoaXMucHJvcHMuaXNDaGVjaykgPyBDTEFTU0VTWydpcy1jaGVja2VkJ10gOiAnJztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17YCR7Q0xBU1NFU1snaWNvbi1idXR0b24nXX0gJHtjaGVja31gfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9eydpY29uLWJ1dHRvbid9PlxuICAgICAgICAgICAgICA8SWNvbiBzaGFwZT17dGhpcy5wcm9wcy5zaGFwZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIHR5cGVvZiB0aGlzLnByb3BzLm9uVGFwID09PSAnZnVuY3Rpb24nICkge1xuICAgICAgdmFyIGhhbW1lcnRpbWUgPSBuZXcgSGFtbWVyKHRoaXMuYmFzZSlcbiAgICAgICAgLm9uKCd0YXAnLCAoZSkgPT4geyB0aGlzLnByb3BzLm9uVGFwKCBlLCB0aGlzLnByb3BzICkgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25CdXR0b247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tYnV0dG9uXzZ5c2RpXzR7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6IzNhMDgzOTtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC4xNSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3Zlcntib3gtc2hhZG93Om5vbmV9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVyIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmV7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzppbnNldCAtMXB4IC0xcHggMCBoc2xhKDAsMCUsMTAwJSwuMjUpLGluc2V0IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjQpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSBbZGF0YS1jb21wb25lbnQ9aWNvbl0sLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZSBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01NCUsLTU0JSkgc2NhbGUoLjk1KX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiaWNvbi1idXR0b25cIjogXCJfaWNvbi1idXR0b25fNnlzZGlfNFwiLFxuXHRcImlzLWNoZWNrZWRcIjogXCJfaXMtY2hlY2tlZF82eXNkaV8zMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTU3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXInKTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24tZGl2aWRlciddfVxuICAgICAgICAgICAgICBkYXRhLWNvbXBvbmVudD1cImljb24tZGl2aWRlclwiIC8+O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi1kaXZpZGVyLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb24tZGl2aWRlclwiOiBcIl9pY29uLWRpdmlkZXJfZnRhc2tfM1wiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWRpdmlkZXIucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1kaXZpZGVyX2Z0YXNrXzN7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bzt3aWR0aDoxNnB4O2hlaWdodDoxcHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgwLDAsMCwuMyl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4vaWNvbi1idXR0b24nO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50Q29udHJvbHMgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtzdGF0ZX0gICA9IHAsXG4gICAgICAgICAgY29udHJvbHMgID0gc3RhdGUucG9pbnRDb250cm9scy5wcmVzZW50LFxuICAgICAgICAgIHNob3cgICAgICA9IChjb250cm9scy5pc1Nob3cpID8gQ0xBU1NFU1snaXMtc2hvdyddIDogJycsXG4gICAgICAgICAgY2xhc3NOYW1lID0gYCR7cC5jbGFzc05hbWV9ICR7Q0xBU1NFU1sncG9pbnQtY29udHJvbHMnXX0gJHtzaG93fWAsXG4gICAgICAgICAgYnV0dG9ucyAgID0gdGhpcy5fYWRkQnV0dG9ucyhjb250cm9scyk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+IHtidXR0b25zfSA8L2Rpdj5cbiAgfVxuXG4gIF9vbkJ1dHRvblRhcCAodHlwZSkge1xuICAgIHJldHVybiAoZSkgPT4ge1xuICAgICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcblxuICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfQ0hBTkdFX1RZUEUnLCBkYXRhOiB0eXBlLCBpc1JlY29yZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBfYWRkQnV0dG9ucyAoY29udHJvbHMpIHtcbiAgICBjb25zdCBidXR0b25zTWFwICA9IFsgJ3N0cmFpZ2h0JywgJ2Rpc2Nvbm5lY3RlZCcsICdtaXJyb3JlZCcsICdhc3ltbWV0cmljJyBdLFxuICAgICAgICAgIGJ1dHRvbnMgICAgID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnNNYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBidXR0b25zTWFwW2ldO1xuICAgICAgYnV0dG9ucy5wdXNoKDxJY29uQnV0dG9uICBzaGFwZT17YHBvaW50LSR7dHlwZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NoZWNrPXsgY29udHJvbHMudHlwZSA9PT0gdHlwZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVGFwPXsgdGhpcy5fb25CdXR0b25UYXAodHlwZSkgfSAvPik7XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50Q29udHJvbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9wb2ludC1jb250cm9scy5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzR7ZGlzcGxheTpub25lfS5fcG9pbnQtY29udHJvbHNfMXhjdTdfNCBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25dOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6M3B4O2hlaWdodDo3LjVweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjJweDtsZWZ0Oi0xMHB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMy43NXB4O2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzF4Y3U3XzQgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXVtjbGFzcyo9aXMtY2hlY2tlZF06YWZ0ZXIsLl9wb2ludC1jb250cm9sc18xeGN1N180Ll9pcy1zaG93XzF4Y3U3Xzd7ZGlzcGxheTpibG9ja31cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwicG9pbnQtY29udHJvbHNcIjogXCJfcG9pbnQtY29udHJvbHNfMXhjdTdfNFwiLFxuXHRcImlzLXNob3dcIjogXCJfaXMtc2hvd18xeGN1N183XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7aH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBSZXNpemVIYW5kbGUgZnJvbSAnLi9yZXNpemUtaGFuZGxlJztcblxuLy8gY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzLmpzb24nKTtcbmV4cG9ydCBkZWZhdWx0ICh7c3RhdGV9KSA9PiB7XG4gIGNvbnN0IHtwb2ludHMsIGNvbnRyb2xzfSA9IHN0YXRlLFxuICAgICAgICBvcGVuICAgICAgPSAoY29udHJvbHMuaXNDb2RlKSA/IENMQVNTRVNbJ2lzLW9wZW4nXSA6ICcnLFxuICAgICAgICBtYWluQ2xhc3MgPSBgJHtDTEFTU0VTWydjb2RlLXBhbmVsJ119ICR7b3Blbn1gO1xuXG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e21haW5DbGFzc30+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lubmVyJ10gfT5cbiAgICAgICAgICAgICAgPFJlc2l6ZUhhbmRsZSB0eXBlPVwidG9wXCIgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC13cmFwJ10gfT5cbiAgICAgICAgICAgICAgICA8aW5wdXQgIGNsYXNzTmFtZT17IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkJ10gfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiByZWFkb25seT1cInJlYWRvbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsgcG9pbnRzLnByZXNlbnQucGF0aCB9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY29kZS1wYW5lbC5iYWJlbC5qc3hcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY29kZS1wYW5lbF9ubmI5cF8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMDAlO3otaW5kZXg6MTtvdmVyZmxvdzpoaWRkZW47cGFkZGluZy10b3A6MTZweDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5fY29kZS1wYW5lbF9ubmI5cF8zIFtkYXRhLWNvbXBvbmVudD1yZXNpemUtaGFuZGxlXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTtib3R0b206MTAwJX0uX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzF7Ym9yZGVyLXJhZGl1czo2cHggNnB4IDAgMDtiYWNrZ3JvdW5kOiMzZDFiM2M7cGFkZGluZzo0cHggNXB4IDVweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0O3RyYW5zaXRpb246YWxsIC4ycyBlYXNlLW91dH0uX2NvZGUtcGFuZWxfX2lucHV0LXdyYXBfbm5iOXBfMXtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOiM0MjEwM2Y7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjUpfS5fY29kZS1wYW5lbF9faW5wdXQtZmllbGRfbm5iOXBfMXtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6I2ZmZjtmb250LXNpemU6OXB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2xldHRlci1zcGFjaW5nOi40NXB4O2ZvbnQtd2VpZ2h0OjEwMDtwYWRkaW5nOjAgLjNlbSAwIC44ZW07Ym9yZGVyOm5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6MjFweDt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uX2NvZGUtcGFuZWxfbm5iOXBfMyA6Oi1tb3otc2VsZWN0aW9uLC5jb2RlLXBhbmVsIDo6LW1vei1zZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6c2VsZWN0aW9ue2JhY2tncm91bmQ6I2ZmNTEyZn0uX2NvZGUtcGFuZWxfbm5iOXBfMy5faXMtb3Blbl9ubmI5cF82MSAuX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJjb2RlLXBhbmVsXCI6IFwiX2NvZGUtcGFuZWxfbm5iOXBfM1wiLFxuXHRcImNvZGUtcGFuZWxfX2lubmVyXCI6IFwiX2NvZGUtcGFuZWxfX2lubmVyX25uYjlwXzFcIixcblx0XCJjb2RlLXBhbmVsX19pbnB1dC13cmFwXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LXdyYXBfbm5iOXBfMVwiLFxuXHRcImNvZGUtcGFuZWxfX2lucHV0LWZpZWxkXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzFcIixcblx0XCJpcy1vcGVuXCI6IFwiX2lzLW9wZW5fbm5iOXBfNjFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY29kZS1wYW5lbC5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgSWNvbnMgPSAoKSA9PiB7XG4gIHJldHVybiA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYDxzdmcgaGVpZ2h0PVwiMFwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3R5bGU9XCJwb3NpdGlvbjphYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xMDAlOyB3aWR0aDowOyBoZWlnaHQ6MDtcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj5cbiAgICAgIDxnIGlkPVwiZWxsaXBzaXMtc2hhcGVcIj5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNlwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMjFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwiY29kZS1zaGFwZVwiIGQ9XCJNOCwxNi4wODQ5NjQ4IEM4LDE1LjgyMTA3OTMgOC4xMTE0OTA2OSwxNS42MTI5MzkzIDguMzM0ODM0MDUsMTUuNDYwOTA2NSBMMTIuMzM5MDg3NCwxMi44NDE5NjEyIEMxMi4zODk3NjQ5LDEyLjgwMTQxOTIgMTIuNDY1NzgxMywxMi43ODExNDgxIDEyLjU2NzQ5ODUsMTIuNzgxMTQ4MSBDMTIuNzM5ODAyMywxMi43ODExNDgxIDEyLjkwNDg2NjQsMTIuODU3MTY0NSAxMy4wNjIzMjg5LDEzLjAwOTU1OTIgQzEzLjIxOTQyOTQsMTMuMTYxOTU0IDEzLjI5ODM0MTcsMTMuMzM5MzI1NSAxMy4yOTgzNDE3LDEzLjU0MjM5NzkgQzEzLjI5ODM0MTcsMTMuNzM1MzM0NyAxMy4yMjE5NjMzLDEzLjg4MjY2MTcgMTMuMDY5MjA2NiwxMy45ODQwMTY4IEw5Ljg1NzY5NTUzLDE2LjA4NDk2NDggTDEzLjA2OTIwNjYsMTguMTg2Mjc0NyBDMTMuMjIxOTYzMywxOC4yNjc3MjA4IDEzLjI5ODM0MTcsMTguNDE0Njg1OCAxMy4yOTgzNDE3LDE4LjYyNzg5MzcgQzEzLjI5ODM0MTcsMTguODMwOTY2IDEzLjIxOTc5MTQsMTkuMDA2MTY1NyAxMy4wNjIzMjg5LDE5LjE1MzEzMDcgQzEyLjkwNDg2NjQsMTkuMzAwNDU3NiAxMi43Mzk4MDIzLDE5LjM3Mzk0MDEgMTIuNTY3NDk4NSwxOS4zNzM5NDAxIEMxMi40NjU3ODEzLDE5LjM3Mzk0MDEgMTIuMzg5NzY0OSwxOS4zNTM2NjkxIDEyLjMzOTA4NzQsMTkuMzEzMTI3IEw4LjMzNDgzNDA1LDE2LjY5MzgxOTggQzguMTExNDkwNjksMTYuNTQxNDI1IDgsMTYuMzM4NzE0NyA4LDE2LjA4NDk2NDggTDgsMTYuMDg0OTY0OCBaIE0xNC4xMzk5NTE2LDIwLjY4NzU3NTYgQzE0LjEyNjU1ODIsMjAuNjA3NTc3NCAxNC4xMjg3MzAxLDIwLjUzMDExMzEgMTQuMTQ2ODI5MywyMC40NTQ4MjA3IEwxNi45Mzk1MjYzLDExLjM1NjAyMiBDMTYuOTg5MTE3OSwxMS4xNjIzNjEyIDE3LjEyMzc3NTUsMTEuMDQ2ODg4NyAxNy4zNDQyMjMsMTEuMDA5NjA0NSBDMTcuNTA0MjE5NCwxMC45ODI0NTU4IDE3LjY1ODc4NiwxMS4wMTI4NjIzIDE3LjgwNzU2MDksMTEuMTAwODI0MiBDMTcuOTU2MzM1OCwxMS4xODkxNDc5IDE4LjA0NDI5NzYsMTEuMzEzMzA4IDE4LjA3MTA4NDQsMTEuNDczMzA0NCBDMTguMDg2Mjg3NiwxMS41NjM0MzgxIDE4LjA3OTc3MiwxMS42NDcwNTYxIDE4LjA1MTg5OTMsMTEuNzIzNzk2NSBMMTUuMjY2NDQxOSwyMC43NzQ4MTM0IEMxNS4yMDg1MjQ3LDIwLjk4MDA1NzcgMTUuMDU5Mzg3OCwyMS4xMDMxMzE4IDE0LjgxOTM5MzIsMjEuMTQ0MDM1OCBDMTQuNjQ4ODk5MywyMS4xNzI5OTQ1IDE0LjQ5OTQwMDUsMjEuMTM4OTY4MSAxNC4zNjk4MTA2LDIxLjA0MjY4MDcgQzE0LjI0MDIyMDgsMjAuOTQ2MDMxMyAxNC4xNjM4NDI0LDIwLjgyNzY2MjkgMTQuMTM5OTUxNiwyMC42ODc1NzU2IEwxNC4xMzk5NTE2LDIwLjY4NzU3NTYgWiBNMTguOTUyODc0NCwxOS4xNTI3Njg3IEMxOC43OTU0MTE5LDE5LjAwNTgwMzcgMTguNzE2ODYxNiwxOC44MzA2MDQgMTguNzE2ODYxNiwxOC42Mjc1MzE3IEMxOC43MTY4NjE2LDE4LjQyNDQ1OTQgMTguNzg3ODEwMiwxOC4yNzc0OTQ0IDE4LjkzMDA2OTUsMTguMTg1OTEyNyBMMjIuMTQyNjY2NSwxNi4wODQ2MDI4IEwxOC45MzAwNjk1LDEzLjk4MzY1NDkgQzE4Ljc4NzgxMDIsMTMuODcxODAyMiAxOC43MTY4NjE2LDEzLjcyNDgzNzIgMTguNzE2ODYxNiwxMy41NDIwMzU5IEMxOC43MTY4NjE2LDEzLjMzODk2MzYgMTguNzk1NDExOSwxMy4xNjE1OTIgMTguOTUyODc0NCwxMy4wMDkxOTczIEMxOS4xMTAzMzY5LDEyLjg1NjgwMjUgMTkuMjc1MDM5LDEyLjc4MDc4NjEgMTkuNDQ3NzA0OCwxMi43ODA3ODYxIEMxOS41Mzg5MjQ1LDEyLjc4MDc4NjEgMTkuNjA5ODczMSwxMi44MDE0MTkyIDE5LjY2MDkxMjYsMTIuODQxNTk5MiBMMjMuNjY1MTY1OSwxNS40NjA1NDQ1IEMyMy44ODgxNDczLDE1LjYxMjkzOTMgMjQsMTUuODIxMDc5MyAyNCwxNi4wODQ2MDI4IEMyNCwxNi4zNDg4NTAyIDIzLjg4ODE0NzMsMTYuNTUxNTYwNiAyMy42NjUxNjU5LDE2LjY5MzgxOTggTDE5LjY2MDkxMjYsMTkuMzEyNzY1MSBDMTkuNjA5ODczMSwxOS4zNTMzMDcxIDE5LjUzODkyNDUsMTkuMzczNTc4MiAxOS40NDc3MDQ4LDE5LjM3MzU3ODIgQzE5LjI3NTAzOSwxOS4zNzM1NzgyIDE5LjExMDMzNjksMTkuMzAwMDk1NyAxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgTDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBaXCI+PC9wYXRoPlxuICAgICAgPGcgaWQ9XCJwb2ludC1zdHJhaWdodC1zaGFwZVwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1taXJyb3JlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjEuOTAxMjYzMiBDNy44ODE0NDg0MSwyMS45MDEyNjMyIDcuNTkyODcxNzIsMTMuNTc0MDUzNyAxNS40NTE0NDIzLDEzLjU3NDA1MzcgQzIzLjMxMDAxMjksMTMuNTc0MDUzNyAyMy44OTIxMjI4LDIxLjkwMTI2MzIgMjMuODkyMTIyOCwyMS45MDEyNjMyXCIvPlxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTQuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPGVsbGlwc2UgY3g9XCIxNS4zMzNcIiBjeT1cIjEzLjMzM1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMC41Njc5Mjk4IEM3Ljg4MTQ0ODQxLDIwLjU2NzkyOTggNy41OTI4NzE3MiwxMi4yNDA3MjA0IDE1LjQ1MTQ0MjMsMTIuMjQwNzIwNCBDMjEuMjAwNTIwNywxNy44ODczNyAyMy44OTIxMjI4LDIwLjU2NzkyOTggMjMuODkyMTIyOCwyMC41Njc5Mjk4XCIvPlxuICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPVwiI0ZGNTEyRlwiIHBvaW50cz1cIjYuMTMzIDEyIDE1LjIyOCAxMiAyMy45MzMgMjAuNjAyXCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjEuODg2XCIgeT1cIjE4LjU1MlwiIGZpbGw9XCIjRkY1MTJGXCIgdHJhbnNmb3JtPVwicm90YXRlKDQ1IDIzLjIxOSAxOS44ODYpXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LWFzeW1tZXRyaWMtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNy42NjcgOS4zMzMpXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCI5XCIgY3k9XCI0LjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTIuNTI3ODg1MDMsMi42NjY2NjY2NyBMMTguMTM4ODM0NiwyLjY2NjY2NjY3XCIvPlxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIxNi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxwYXRoIGlkPVwibW9qcy1sb2dvLXNoYXBlXCIgZD1cIk0xOC40Njc4OTA3LDIuNjc3MDAwNDggQzE5LjQ4ODU4NiwzLjI1NzU4NjI1IDIwLjI3ODkyMjcsNC4xODQyMTY1MSAyMC44NzgyMyw1LjE5NzM1NzkgQzI0LjA4MDc3ODgsMTAuNTAxNDUxIDI3LjI3NzcwOTEsMTUuODExMzExNiAzMC40ODAyNTgsMjEuMTE1NDA0NyBDMzEuMTMyMDA0NywyMi4xNjEyMjgxIDMxLjc3MDY0MTcsMjMuMjY0NzI1NiAzMS45MzU0NTEyLDI0LjUxNjI1MzIgQzMyLjE4ODI4NCwyNi4wNjE5MTg2IDMxLjY5MTk4MjYsMjcuNzM2Mzg5NSAzMC41NTg5MTcxLDI4LjgwMzM2IEMyOS40NTAxOTg0LDI5Ljg4NTcxMDMgMjcuODgwNzYyMiwzMC4zMTgyNjU5IDI2LjM4MDYyMDksMzAuMzA0ODA4NiBDMTkuNDUxMTI5MywzMC4zMDg2NTM1IDEyLjUyMzUxMDYsMzAuMzA4NjUzNSA1LjU5NDAxOTAxLDMwLjMwNDgwODYgQzMuNzE1NTY0OTQsMzAuMzQzMjU4IDEuNjk4NTIxMDQsMjkuNTcyMzQ3OCAwLjY4MzQ0NDE2NSwyNy44NzA5NjIzIEMtMC40MDY1NDYxMzIsMjYuMTA5OTgwMyAtMC4wOTc1MjgyNjQzLDIzLjc5MTQ4MjIgMC45NDAwMjI2MzcsMjIuMDg0MzI5MyBDNC4zNDI5NjQ4NSwxNi40MTMwNDQ1IDcuNzY2NTA4MjYsMTAuNzUzMjk0NSAxMS4xODI1NjAzLDUuMDg5Njk5NjEgQzExLjk3NDc2OTgsMy43NDc4MTU5NSAxMy4xODQ2MjE1LDIuNjAyMDI0MTggMTQuNjg0NzYyOCwyLjE4MjkyNTg0IEMxNS45NDUxODEyLDEuODE1NzM0MTggMTcuMzM0ODI1MSwyLjAxMTgyNjA2IDE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBaIE0xNS4zMzM0NjY4LDkuNTE1MjY4NDkgQzE1LjYxNDYyMzgsOS4wMzc3OTQ3NiAxNi4wNzkxNTk3LDkuMDIyNTA2NTUgMTYuMzc4NTY3OSw5LjQ5Mjk1NDcgTDI1LjI3NjM1NTUsMjMuNDczNjkxMyBDMjUuNTcyMzkxOSwyMy45Mzg4NDE0IDI1LjM1Njg0MzMsMjQuMzE1OTIwMSAyNC44MDc0Mzk4LDI0LjMxNTkyMDIgTDcuNjIzMTQ2NDcsMjQuMzE1OTIwNSBDNy4wNjgxMzUwNSwyNC4zMTU5MjA2IDYuODQ2MjI3OTgsMjMuOTI4Njg4OSA3LjEyNzI4OTEzLDIzLjQ1MTM3NzkgTDE1LjMzMzQ2NjgsOS41MTUyNjg0OSBaXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjwvcGF0aD5cbiAgICA8L3N2Zz5gIH19PjwvZGl2PlxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29ucztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2ljb25zLmJhYmVsLmpzeFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE3MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlLWVkaXRvcl8xaXR6MV80e3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDt0b3A6MDt3aWR0aDo0MDNweDtoZWlnaHQ6Mzc4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6IzU3MmI1MTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjJweCAycHggMnB4IHJnYmEoMCwwLDAsLjM4KX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xaXR6MV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQycHg7bGVmdDowO3RvcDowO2JvdHRvbTowO3BhZGRpbmc6MTBweDtjdXJzb3I6bW92ZX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xaXR6MV8xIFtkYXRhLWNvbXBvbmVudD1pY29uLWRpdmlkZXJde21hcmdpbjoxMHB4IGF1dG99Ll9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFpdHoxXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0M3B4O3RvcDowO3JpZ2h0OjA7Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMXtwb3NpdGlvbjphYnNvbHV0ZX0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xaXR6MV8xW2RhdGEtdHlwZT10b3Bde3RvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xaXR6MV8xW2RhdGEtdHlwZT1ib3R0b21de2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFpdHoxXzFbZGF0YS10eXBlPWJvdHRvbV0sLl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWl0ejFfMVtkYXRhLXR5cGU9dG9wXXtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjFweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xaXR6MV8xW2RhdGEtdHlwZT1yaWdodF17cmlnaHQ6LTE2cHg7dG9wOjUwJTttYXJnaW4tdG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xaXR6MV8xe21hcmdpbi10b3A6MTBweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWl0ejFfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25de21hcmdpbi1ib3R0b206NXB4fS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWl0ejFfMXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTdweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDoxcHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFpdHoxXzEgW2RhdGEtY29tcG9uZW50PWljb25de2ZpbGw6I2ZmNTEyZjt3aWR0aDoxMnB4O2hlaWdodDoxMnB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE3MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtjcmVhdGVTdG9yZX0gZnJvbSAncmVkdXgnO1xuLy8gaW1wb3J0IHJlZHVjZXJcbmltcG9ydCByZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMvaW5kZXgtcmVkdWNlcic7XG5cbmNvbnN0IGluaXRTdG9yZSA9ICgpID0+IHsgcmV0dXJuIGNyZWF0ZVN0b3JlKCByZWR1Y2VyICk7ICB9XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRTdG9yZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9zdG9yZS5iYWJlbC5qc1xuICoqLyIsIi8vIFJlZHV4IHV0aWxpdHkgZnVuY3Rpb25zXG5pbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCc7XG4vLyByZWR1eC11bmRvIGhpZ2hlci1vcmRlciByZWR1Y2VyXG5pbXBvcnQgdW5kb2FibGUgZnJvbSAncmVkdXgtdW5kbyc7XG5cbmltcG9ydCByZXNpemVSZWR1Y2VyICAgICAgICBmcm9tICcuL3Jlc2l6ZS1yZWR1Y2VyJztcbmltcG9ydCBwb2ludHNSZWR1Y2VyICAgICAgICBmcm9tICcuL3BvaW50cy1yZWR1Y2VyJztcbmltcG9ydCBjb250cm9sc1JlZHVjZXIgICAgICBmcm9tICcuL2NvbnRyb2xzLXJlZHVjZXInO1xuaW1wb3J0IHBvaW50Q29udHJvbHNSZWR1Y2VyIGZyb20gJy4vcG9pbnQtY29udHJvbHMtcmVkdWNlcic7XG5pbXBvcnQgcHJvZ3Jlc3Nlc1JlZHVjZXIgICAgZnJvbSAnLi9wcm9ncmVzc2VzLXJlZHVjZXInO1xuXG5jb25zdCBVTkRPQUJMRV9PUFRTID0ge1xuICBsaW1pdDogMTAsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuICAgIHJldHVybiBhY3Rpb24uaXNSZWNvcmQ7IC8vIG9ubHkgYWRkIHRvIGhpc3RvcnkgaWYgaXNSZWNvcmQgc2V0IG9uIGFjdGlvblxuICB9LFxuICBkZWJ1ZzogZmFsc2Vcbn07XG5cbmltcG9ydCByZWN5Y2xlU3RhdGUgZnJvbSAncmVkdXgtcmVjeWNsZSdcblxuY29uc3QgcmVkdWNlciA9IHJlY3ljbGVTdGF0ZShjb21iaW5lUmVkdWNlcnMoe1xuICByZXNpemU6ICAgICAgICByZXNpemVSZWR1Y2VyLFxuICBwb2ludHM6ICAgICAgICB1bmRvYWJsZShwb2ludHNSZWR1Y2VyLCB7IC4uLlVORE9BQkxFX09QVFMgfSksXG4gIGNvbnRyb2xzOiAgICAgIGNvbnRyb2xzUmVkdWNlcixcbiAgcG9pbnRDb250cm9sczogdW5kb2FibGUocG9pbnRDb250cm9sc1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KSxcbiAgcHJvZ3Jlc3NMaW5lczogcHJvZ3Jlc3Nlc1JlZHVjZXIsXG59KSwgWydTRVRfU1RBVEUnXSwgKHN0YXRlLCBhY3Rpb24pID0+IGFjdGlvbi5kYXRhICk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHg6ICAgICAgICAgICAgMjAsXG4gIHRlbXBYOiAgICAgICAgMCxcblxuICB5OiAgICAgICAgICAgIDIwLFxuICB0ZW1wWTogICAgICAgIDAsXG5cbiAgdG9wOiAgICAgICAgICAwLFxuICB0ZW1wX3RvcDogICAgIDAsXG5cbiAgcmlnaHQ6ICAgICAgICAwLFxuICB0ZW1wX3JpZ2h0OiAgIDAsXG5cbiAgYm90dG9tOiAgICAgICAwLFxuICB0ZW1wX2JvdHRvbTogIDAsXG4gIHNjYWxlclg6ICAgICAgQy5DVVJWRV9QRVJDRU5ULFxuICBhYnNTY2FsZXJYOiAgIDFcbn1cblxuY29uc3QgcmVzaXplUmVkdWNlciA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnRURJVE9SX1JFU0laRSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbixcbiAgICAgICAgICAgIHt0eXBlfSA9IGRhdGEsXG4gICAgICAgICAgICBkZWx0YSAgPSAoIHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nICkgPyBkYXRhLnkgOiBkYXRhLng7XG5cbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgW2B0ZW1wXyR7dHlwZX1gXTogZGVsdGEgfTtcbiAgICAgIC8vIGlmIGByaWdodGBzaXplIGNoYW5nZWQgLSBjYWxjdWxhdGUgdGhlIHNjYWxlciBmb3IgeCBheGlzXG4gICAgICBpZiAoIHR5cGUgPT09ICdyaWdodCcgKSB7XG4gICAgICAgIG5ld1N0YXRlWyAnc2NhbGVyWCcgXSAgICA9IChDLkNVUlZFX1NJWkUgKyBNYXRoLm1heCggc3RhdGUucmlnaHQgKyBkZWx0YSwgMCApKS8xMDA7XG4gICAgICAgIG5ld1N0YXRlWyAnYWJzU2NhbGVyWCcgXSA9IG5ld1N0YXRlWyAnc2NhbGVyWCcgXSAvIEMuQ1VSVkVfUEVSQ0VOVDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfUkVTSVpFX0VORCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IHt0eXBlfSA9IGRhdGE7XG4gICAgICBjb25zdCBkZWx0YSA9ICggdHlwZSA9PT0gJ3RvcCcgfHwgdHlwZSA9PT0gJ2JvdHRvbScgKSA/IGRhdGEueSA6IGRhdGEueDtcbiAgICAgIC8vIGdldCB0aGUgdG90YWwgcmVzaXplIHZhbHVlICggdGVtcG9yYXJ5ICsgYWN0dWFsIClcbiAgICAgIGNvbnN0IHJlc2l6ZSA9IHN0YXRlW2Ake2FjdGlvbi5kYXRhLnR5cGV9YF0gKyBkZWx0YTtcbiAgICAgIC8vIGlmIHRoZSB0eXBlIGlmIHRvIC0gaXQgaGFzIHRoZSBgLWAgYXMgYmFzZSBzbyB3ZSBuZWVkIHRvIHN3YXAgbWV0aG9kc1xuICAgICAgY29uc3QgbWF0aE1ldGhvZCA9ICggdHlwZSA9PT0gJ3RvcCcgKSA/ICdtaW4nIDogJ21heCc7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUsXG4gICAgICAgIFtgJHthY3Rpb24uZGF0YS50eXBlfWBdOiBNYXRoW21hdGhNZXRob2RdKDAsIHJlc2l6ZSksXG4gICAgICAgIFtgdGVtcF8ke2FjdGlvbi5kYXRhLnR5cGV9YF06IDBcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFJzoge1xuICAgICAgY29uc3Qge3gsIHl9ID0gYWN0aW9uLmRhdGE7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgdGVtcFg6IHgsIHRlbXBZOiB5IH07XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBsZXQge3gsIHl9ID0gYWN0aW9uLmRhdGE7XG4gICAgICB4ICs9IHN0YXRlLng7XG4gICAgICB5ICs9IHN0YXRlLnk7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgeCwgeSwgdGVtcFg6IDAsIHRlbXBZOiAwIH07XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCByZXNpemVSZWR1Y2VyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3Jlc2l6ZS1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMTc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgbWFrZVBvaW50IGZyb20gJy4uL2hlbHBlcnMvbWFrZS1wb2ludCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGluaXRQb2ludHMgZnJvbSAnLi4vaGVscGVycy9pbml0LXBvaW50cyc7XG5pbXBvcnQgY2FsY3VsYXRlUGF0aCBmcm9tICcuLi9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoJztcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgcGF0aDogICAgICAgJycsXG4gIG5hbWU6ICAgICAgICdtb2pzLWN1cnZlLWVkaXRvcicsXG4gIHNlZ21lbnRzOiAgIFtdLFxuICBwb2ludHM6ICAgICBbXVxuICAvLyBwb2ludHM6IGluaXRQb2ludHMoW1xuICAvLyAgIG1ha2VQb2ludCh7IHg6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUsIHR5cGU6ICdzdHJhaWdodCcgfSksXG4gIC8vICAgLy8gbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcbiAgLy8gICBtYWtlUG9pbnQoeyB4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZSB9KVxuICAvLyBdKVxufVxuXG5jb25zdCBkZXNlbGVjdEFsbCA9IChzdGF0ZSkgPT4ge1xuICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUsIHBvaW50czogW10gfSxcbiAgICAgICAgcG9pbnRzICAgPSBzdGF0ZS5wb2ludHM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdTdGF0ZS5wb2ludHMucHVzaCh7IC4uLnBvaW50c1tpXSwgaXNTZWxlY3RlZDogZmFsc2UgfSk7XG4gIH1cbiAgcmV0dXJuIG5ld1N0YXRlO1xufVxuXG5jb25zdCBmaW5kU2VsZWN0ZWRJbmRlY2llcyA9IChwb2ludHMpID0+IHtcbiAgY29uc3QgaW5kZWNpZXMgID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBwb2ludHNbaV0uaXNTZWxlY3RlZCAmJiBpbmRlY2llcy5wdXNoKCBpICk7XG4gIH1cbiAgcmV0dXJuIGluZGVjaWVzO1xufVxuXG5jb25zdCBwb2ludHNSZWR1Y2VyID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCggYWN0aW9uLnR5cGUgKSB7XG4gICAgY2FzZSAnU0VUX0VESVRPUl9OQU1FJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIG5hbWU6IGFjdGlvbi5kYXRhIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzoge1xuICAgICAgY29uc3Qge2RhdGF9ICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4fSAgID0gZGF0YSxcbiAgICAgICAgICAgIHtwb2ludHN9ICA9IHN0YXRlLFxuICAgICAgICAgICAgb2xkUG9pbnQgID0gcG9pbnRzW2luZGV4XSxcbiAgICAgICAgICAgIG5ld1BvaW50cyA9IFsgLi4ucG9pbnRzIF07XG5cbiAgICAgIG5ld1BvaW50c1sgZGF0YS5pbmRleCBdID0geyAuLi5vbGRQb2ludCwgdGVtcFg6IGRhdGEueCwgdGVtcFk6IGRhdGEueSB9XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFX0VORCc6IHtcbiAgICAgIGNvbnN0IGluZGV4ICAgICA9IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAge3BvaW50c30gID0gc3RhdGUsXG4gICAgICAgICAgICBvbGRQb2ludCAgPSBwb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgbmV3UG9pbnRzID0gWyAuLi5wb2ludHMgXTtcblxuICAgICAgbmV3UG9pbnRzWyBpbmRleCBdID0ge1xuICAgICAgICAgIC4uLm9sZFBvaW50LFxuICAgICAgICAgIHg6IG9sZFBvaW50LnggKyBvbGRQb2ludC50ZW1wWCxcbiAgICAgICAgICB5OiBvbGRQb2ludC55ICsgb2xkUG9pbnQudGVtcFksXG4gICAgICAgICAgdGVtcFg6IDAsIHRlbXBZOiAwXG4gICAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cbiAgICBcbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gICAgICAgICAgICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4LCBpc0Rlc2VsZWN0fSA9IGRhdGEsXG4gICAgICAgICAgICBuZXdTdGF0ZSAgICAgICAgICAgID0gKGlzRGVzZWxlY3QpID8gZGVzZWxlY3RBbGwoIHN0YXRlICkgOiB7IC4uLnN0YXRlIH0sXG4gICAgICAgICAgICB7cG9pbnRzfSAgICAgICAgICAgID0gbmV3U3RhdGU7XG4gICAgICBcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2luZGV4XTtcbiAgICAgIHBvaW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50cyB9O1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX0FERCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4LCBwb2ludH0gPSBkYXRhLFxuICAgICAgICAgICAgZGVzZWxlY3RlZCAgICAgPSBkZXNlbGVjdEFsbCggc3RhdGUgKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW1xuICAgICAgICAuLi5kZXNlbGVjdGVkLnBvaW50cy5zbGljZSggMCwgaW5kZXggKSxcbiAgICAgICAgbWFrZVBvaW50KHsgLi4ucG9pbnQgfSksXG4gICAgICAgIC4uLmRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKCBpbmRleCApXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBwb2ludHMgPSAobmV3UG9pbnRzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGluaXRQb2ludHMoIG5ld1BvaW50cyApIDogbmV3UG9pbnRzO1xuXG4gICAgICBjb25zdCBwYXRoID0gKHBvaW50cy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlUGF0aCggcG9pbnRzICkgOiB7fTtcblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50cywgLi4ucGF0aCB9O1xuICAgIH1cbiAgICBcbiAgICBjYXNlICdQT0lOVF9ERUxFVEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSA9IHN0YXRlLFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhwb2ludHMpO1xuXG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBwb2ludHNbaV07XG4gICAgICAgICggc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFggKSAmJiBuZXdQb2ludHMucHVzaCggaXRlbSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSA9IHN0YXRlLFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhwb2ludHMpO1xuXG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBwb2ludHNbaV0sXG4gICAgICAgICAgICAgIHR5cGUgPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBwb2ludHNcbiAgICAgICAgbmV3UG9pbnRzLnB1c2goIHsgLi4uaXRlbSB9ICk7XG4gICAgICAgIC8vIGlmIGl0ZW0gd2FzIHNlbGVjdGVkIC0gc2V0IHRoZSBuZXcgYHR5cGVgXG4gICAgICAgICggc2VsZWN0ZWQuaW5kZXhPZihpKSAhPT0gLTEgKSAmJiAobmV3UG9pbnRzW2ldLnR5cGUgPSB0eXBlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaSxcbiAgICAgICAgICAgICAgcG9pbnQgPSBuZXdQb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgICBzaWJQb2ludCA9IChpbmRleCA9PT0gbmV3UG9pbnRzLmxlbmd0aC0xKVxuICAgICAgICAgICAgICAgID8gbmV3UG9pbnRzW2luZGV4LTFdIDogbmV3UG9pbnRzW2luZGV4KzFdO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUluZGV4ID0gKGluZGV4ID09PSBuZXdQb2ludHMubGVuZ3RoLTEpID8gMSA6IDIsXG4gICAgICAgICAgICAgIHNpYkhhbmRsZUluZGV4ID0gKGhhbmRsZUluZGV4ID09PSAxKSA/IDIgOiAxLFxuICAgICAgICAgICAgICBoYW5kbGVOYW1lID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YCxcbiAgICAgICAgICAgICAgc2liSGFuZGxlTmFtZSA9IGBoYW5kbGUke3NpYkhhbmRsZUluZGV4fWAsXG4gICAgICAgICAgICAgIGhhbmRsZSA9IHsgLi4ucG9pbnRbaGFuZGxlTmFtZV0gfSxcbiAgICAgICAgICAgICAgc2liSGFuZGxlID0geyAuLi5wb2ludFtzaWJIYW5kbGVOYW1lXSB9O1xuXG4gICAgICAgIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuICAgICAgICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblxuICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgfHwgdHlwZSA9PT0gJ2FzeW1tZXRyaWMnICkge1xuICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgKSB7XG4gICAgICAgICAgICBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6IHtcbiAgICAgIHJldHVybiB7IC4uLmRlc2VsZWN0QWxsKCBzdGF0ZSApIH07XG4gICAgfVxuXG4gICAgLy8gSEFORExFU1xuICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSAgPSBzdGF0ZSxcbiAgICAgICAgICAgIHtkYXRhfSAgICA9IGFjdGlvbjtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbLi4ucG9pbnRzXSxcbiAgICAgICAgICAgIG5ld1BvaW50ICA9IHsgLi4ubmV3UG9pbnRzW2RhdGEucGFyZW50SW5kZXhdIH07XG5cbiAgICAgIG5ld1BvaW50c1tkYXRhLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcbiAgICAgIGNvbnN0IGhhbmRsZU5hbWUgPSBgaGFuZGxlJHtkYXRhLmluZGV4fWAsXG4gICAgICAgICAgICBuZXdIYW5kbGUgPSB7IC4uLm5ld1BvaW50W2hhbmRsZU5hbWVdIH07XG5cbiAgICAgIG5ld1BvaW50WyBoYW5kbGVOYW1lIF0gPSBuZXdIYW5kbGU7XG4gICAgICAvLyBmaW5hbGx5IGFkZCBhbmdsZSBhbmQgcmFkaXVzXG4gICAgICBuZXdIYW5kbGUuYW5nbGUgID0gZGF0YS5hbmdsZTtcbiAgICAgIG5ld0hhbmRsZS5yYWRpdXMgPSBkYXRhLnJhZGl1cztcblxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHBvaW50czogbmV3UG9pbnRzLCAuLi5jYWxjdWxhdGVQYXRoKCBuZXdQb2ludHMgKSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEVfRU5EJzoge1xuICAgICAgcmV0dXJuIHN0YXRlOy8veyAuLi5zdGF0ZSB9O1xuICAgIH1cblxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRzUmVkdWNlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9wb2ludHMtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Zyb20gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9hcnJheS9mcm9tXCIpO1xuXG52YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuZnJvbTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qc1xuICoqIG1vZHVsZSBpZCA9IDE4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIGNhbGwgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKVxuICAsIHRvTGVuZ3RoICAgICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpXG4gICwgZ2V0SXRlckZuICAgICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheVxuICAgICAgLCBhTGVuICAgID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcbiAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcbiAgICAgICwgaW5kZXggICA9IDBcbiAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuICAgICAgLCBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYobWFwcGluZyltYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKXtcbiAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKXtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGluZGV4LCB2YWx1ZSl7XG4gIGlmKGluZGV4IGluIG9iamVjdCkkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMTg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanNcbiAqKiBtb2R1bGUgaWQgPSAxODVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmNvbnN0IGZhbGxiYWNrID0gKCB2YWx1ZSwgZmFsbGJhY2sgKSA9PiB7XG4gIHJldHVybiAoIHZhbHVlICE9IG51bGwgKSA/IHZhbHVlIDogZmFsbGJhY2s7XG59XG5cblxuY29uc3QgbWFrZUhhbmRsZVBvaW50ID0gKG89e30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogICAgICBmYWxsYmFjayggby5pbmRleCwgMCApLFxuICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgYW5nbGU6ICAgICAgZmFsbGJhY2soIG8uYW5nbGUsICBudWxsICksXG4gICAgcmFkaXVzOiAgICAgZmFsbGJhY2soIG8ucmFkaXVzLCBudWxsICksXG4gICAgLy8gc3RhdGVcbiAgICBpc1RvdWNoZWQ6ICBmYWxsYmFjayggby5pc1RvdWNoZWQsIGZhbHNlICksXG4gICAgaXNTZWxlY3RlZDogZmFsbGJhY2soIG8uaXNTZWxlY3RlZCwgZmFsc2UgKSxcbiAgfTtcbn1cblxuY29uc3QgbWFrZVBvc2l0aW9uUG9pbnQgPSAobz17fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgeDogICAgZmFsbGJhY2soIG8ueCwgMCApLFxuICAgIHk6ICAgIGZhbGxiYWNrKCBvLnksIDAgKSxcbiAgICAvLyB0ZW1wb3JhcnkgY29vcmRpbmF0ZXMgKHdoZW4gdXNlciBtb3ZlcyB0aGUgcG9pbnQpIC1cbiAgICAvLyBzaG91bGQgbm90IGJlIGluIGhpc3RvcnlcbiAgICB0ZW1wWDogZmFsbGJhY2soIG8udGVtcFgsIDAgKSxcbiAgICB0ZW1wWTogZmFsbGJhY2soIG8udGVtcFksIDAgKSxcbiAgICAvLyBzdGF0ZVxuICAgIGlzVG91Y2hlZDogIGZhbGxiYWNrKCBvLmlzVG91Y2hlZCwgZmFsc2UgKSxcbiAgICBpc1NlbGVjdGVkOiBmYWxsYmFjayggby5pc1NlbGVjdGVkLCBmYWxzZSApLFxuICB9O1xufVxuXG5jb25zdCBtYWtlUG9pbnQgPSAobyA9IHt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgLy8gc3RhdGVcbiAgICAvLyBpc09uZUhhbmRsZTogZmFsbGJhY2soIG8uaXNPbmVIYW5kbGUsIGZhbHNlICksXG4gICAgaXNMb2NrZWRYOiAgIGZhbGxiYWNrKCBvLmlzTG9ja2VkWCwgZmFsc2UgKSxcbiAgICBpc0xvY2tlZFk6ICAgZmFsbGJhY2soIG8uaXNMb2NrZWRZLCBmYWxzZSApLFxuICAgIC8vIHR5cGUgb2YgdGhlIHBvaW50OlxuICAgIC8vICAgJ3N0cmFpZ2h0JyB8fCAnbWlycm9yZWQnIHx8ICdkaXNjb25uZWN0ZWQnIHx8ICdhc3ltZXRyaWMnXG4gICAgdHlwZTogICAgICAgZmFsbGJhY2soIG8udHlwZSwgJ3N0cmFpZ2h0JyApLFxuICAgIC8vIGFkZCBwb3NpdGlvbiBhdHRyaWJ1dGVzIHRvIHNlbGZcbiAgICAuLi5tYWtlUG9zaXRpb25Qb2ludChvKSxcbiAgICAvLyBhZGQgY3VydmUgaGFuZGxlc1xuICAgIGhhbmRsZTE6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTEgfHwgeyBpbmRleDogMSB9KSxcbiAgICBoYW5kbGUyOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUyIHx8IHsgaW5kZXg6IDIgfSlcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZVBvaW50O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBpbml0UG9pbnQgZnJvbSAnLi9pbml0LXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50cykgPT4ge1xuXG4gIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldLFxuICAgICAgICAgIHNpYlBvaW50ID0gKGkgPT09IHBvaW50cy5sZW5ndGgtMSlcbiAgICAgICAgICAgID8gcG9pbnRzW2ktMV0gOiBwb2ludHNbaSsxXSxcbiAgICAgICAgICBoYW5kbGVJbmRleCA9IChpID09PSBwb2ludHMubGVuZ3RoLTEpID8gMSA6IDI7XG5cbiAgICBuZXdQb2ludHMucHVzaCggaW5pdFBvaW50KCBwb2ludCwgc2liUG9pbnQsIGhhbmRsZUluZGV4ICkgKTtcbiAgfVxuICByZXR1cm4gbmV3UG9pbnRzO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvaW5pdC1wb2ludHMuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkgPT4ge1xuXG4gIHBvaW50ID0geyAuLi5wb2ludCB9O1xuXG4gIGNvbnN0IGhhbmRsZU5hbWUgICAgID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YCxcbiAgICAgICAgc2liSGFuZGxlSW5kZXggPSAoaGFuZGxlSW5kZXggPT09IDEpID8gMiA6IDEsXG4gICAgICAgIHNpYkhhbmRsZU5hbWUgID0gYGhhbmRsZSR7c2liSGFuZGxlSW5kZXh9YCxcbiAgICAgICAgaGFuZGxlICAgICAgICAgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH0sXG4gICAgICAgIHNpYkhhbmRsZSAgICAgID0geyAuLi5wb2ludFtzaWJIYW5kbGVOYW1lXSB9LFxuICAgICAgICB0eXBlICAgICAgICAgICA9IHBvaW50LnR5cGU7XG5cbiAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG4gIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXG4gIGlmICggaGFuZGxlLmFuZ2xlID09IG51bGwgfHwgaGFuZGxlLnJhZGl1cyA9PSBudWxsICkge1xuICAgIGhhbmRsZS5yYWRpdXMgPSA1MDtcblxuICAgIGNvbnN0IGR5ID0gKHNpYlBvaW50LnkgLSBwb2ludC55KSAvIEMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICBkeCA9IHNpYlBvaW50LnggLSBwb2ludC54O1xuICAgIFxuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbiggZHkvZHggKSAqICgxODAvTWF0aC5QSSkgLSA5MDtcbiAgICBpZiAoIGR4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuXG4gICAgaGFuZGxlLmFuZ2xlID0gYW5nbGU7XG4gICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG4gICAgc2liSGFuZGxlLmFuZ2xlICA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgfVxuXG4gIHJldHVybiBwb2ludDtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2luaXQtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJcbmltcG9ydCBjYWxjdWxhdGVTZWdtZW50IGZyb20gJy4vY2FsY3VsYXRlLXNlZ21lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnRzKSA9PiB7XG4gIGxldCBwYXRoICAgICA9ICcnLFxuICAgICAgc2VnbWVudHMgPSBbXTtcblxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9pbnRzLmxlbmd0aC0xOyBpbmRleCsrKSB7XG4gICAgY29uc3QgcG9pbnQgICAgID0gcG9pbnRzW2luZGV4XSxcbiAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaW5kZXgrMV07XG5cbiAgICBjb25zdCBzZWdtZW50ID0gY2FsY3VsYXRlU2VnbWVudCggcG9pbnQsIG5leHRQb2ludCwgaW5kZXggKTtcbiAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIFxuICAgIHBhdGggKz0gc2VnbWVudC5zdHJpbmc7XG4gIH1cblxuICByZXR1cm4geyBwYXRoLCBzZWdtZW50cyB9O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvY2FsY3VsYXRlLXBhdGguYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGNhbGN1bGF0ZVBvaW50IGZyb20gJy4vY2FsY3VsYXRlLXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50LCBuZXh0UG9pbnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCAhbmV4dFBvaW50ICkgeyByZXR1cm4gMTsgfVxuXG4gICAgbGV0IHN0cmluZyA9ICcnLFxuICAgICAgICBzZWdtZW50U3RyaW5nID0gJyc7XG5cbiAgICBjb25zdCB4ID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuICAgICAgICAgIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFksXG4gICAgICAgICAgeE5leHQgPSBuZXh0UG9pbnQueCArIG5leHRQb2ludC50ZW1wWCxcbiAgICAgICAgICB5TmV4dCA9IG5leHRQb2ludC55ICsgbmV4dFBvaW50LnRlbXBZO1xuXG4gICAgY29uc3QgcGFydDEgPSBgTSR7eH0sICR7eS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gICAgaWYgKCBpbmRleCA9PT0gMCApIHsgc3RyaW5nICs9IHBhcnQxIH1cbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQxO1xuXG4gICAgY29uc3QgcGFydDIgPSBjYWxjdWxhdGVQb2ludCggcG9pbnQsIDIgKTtcbiAgICBzdHJpbmcgKz0gcGFydDI7XG4gICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MjtcblxuICAgIGNvbnN0IHBhcnQzID0gY2FsY3VsYXRlUG9pbnQoIG5leHRQb2ludCwgMSApO1xuICAgIHN0cmluZyArPSBwYXJ0MztcbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQzO1xuXG4gICAgY29uc3QgcGFydDQgPSBgJHt4TmV4dH0sICR7eU5leHQvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICAgIHN0cmluZyArPSBwYXJ0NDtcbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQ0O1xuXG4gICAgcmV0dXJuIHsgc3RyaW5nLCBzZWdtZW50U3RyaW5nLCBpbmRleCB9O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvY2FsY3VsYXRlLXNlZ21lbnQuYmFiZWwuanNcbiAqKi8iLCJcbmltcG9ydCBhbmdsZVRvUG9pbnQgZnJvbSAnLi9hbmdsZS10by1wb2ludCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnQsIGhhbmRsZUluZGV4ID0gMSkgPT4ge1xuICAgIGNvbnN0IHggICAgICA9IHBvaW50LnggKyBwb2ludC50ZW1wWCxcbiAgICAgICAgICB5ICAgICAgPSBwb2ludC55ICsgcG9pbnQudGVtcFksXG4gICAgICAgICAgaGFuZGxlID0gcG9pbnRbYGhhbmRsZSR7aGFuZGxlSW5kZXh9YF07XG5cbiAgY29uc3QgQ0hBUiA9ICggaGFuZGxlSW5kZXggPT09IDIgKSA/ICdDJyA6ICcnO1xuICBpZiAoIHBvaW50LnR5cGUgIT09ICdzdHJhaWdodCcgKSB7XG4gICAgY29uc3QgaGFuZGxlQ29vcmRzID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKTtcbiAgICByZXR1cm4gYCR7Q0hBUn0ke3ggKyBoYW5kbGVDb29yZHMueC9DLkNVUlZFX1BFUkNFTlR9LCAkeyh5ICsgaGFuZGxlQ29vcmRzLnkpL0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7Q0hBUn0ke3h9LCAke3kvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICB9XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgY2FsY3VsYXRlUGF0aCBmcm9tICcuLi9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoJztcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgaXNDb2RlOiAgIGZhbHNlXG59XG5cbmNvbnN0IGNvbnRyb2xzID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdDT0RFX1RBUCc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc0NvZGU6ICFzdGF0ZS5pc0NvZGUgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb250cm9scztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBpc1Nob3c6IGZhbHNlLFxuICB0eXBlOiAgICdzdHJhaWdodCdcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gcHJvYmFibHkgcmVkdW5kYW50XG4gICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9O1xuICAgIC8vIH1cbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICBjb25zdCB0eXBlID0gYWN0aW9uLmRhdGEudHlwZTtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZSB9O1xuICAgIH1cbiAgICBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB0eXBlOiBhY3Rpb24uZGF0YSB9OyBcbiAgICB9XG4gICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogZmFsc2UgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3BvaW50LWNvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHNlbGVjdGVkOiAgIDAsXG4gIGxpbmVzOiAgICAgIFtdXG59O1xuXG5jb25zdCBnZXRDb2xvciA9IChsaW5lcykgPT4ge1xuICBjb25zdCBDT0xPUlMgPSBbICcjRkY1MTJGJywgJyNGRjAwQzUnLCAnIzAwRkY2OScsICd3aGl0ZScsICcjMUI4RkU2JywgJ0NZQU4nLCAnWUVMTE9XJyBdO1xuXG4gIHJldHVybiBDT0xPUlNbIGxpbmVzLmxlbmd0aCAlIENPTE9SUy5sZW5ndGggXTtcbn1cblxuY29uc3QgbWFrZVByb2dyZXNzTGluZSA9IChvID17fSwgc3RhdGUpID0+IHtcbiAgY29uc3Qge2xpbmVzfSA9IHN0YXRlO1xuICByZXR1cm4ge1xuICAgIC8vIHByb2dyZXNzOiAgICAgMCxcbiAgICBjb2xvcjogICAgICAgIGdldENvbG9yKGxpbmVzKSxcbiAgICBuYW1lOiAgICAgICAgIGBlYXNpbmcke2xpbmVzLmxlbmd0aCsxfWBcbiAgfVxufVxuXG5jb25zdCBwcm9ncmVzc2VzID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblxuICAgIGNhc2UgJ0FERF9QUk9HUkVTU19MSU5FJzoge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlIH07XG4gICAgICBuZXdTdGF0ZS5saW5lcyA9IFsgLi4ubmV3U3RhdGUubGluZXMsIG1ha2VQcm9ncmVzc0xpbmUoIGFjdGlvbi5kYXRhLCBzdGF0ZSApIF07XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnU0VUX1NFTEVDVEVEX1BST0dSRVNTX0xJTkUnOiB7XG4gICAgICBjb25zdCB7aW5kZXh9ICAgID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHNlbGVjdGVkOiBpbmRleCB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBjYXNlICdTRVRfUFJPR1JFU1NfTElORV9TSElGVCc6IHtcbiAgICAvLyAgIGNvbnN0IHtkYXRhfSAgICA9IGFjdGlvbixcbiAgICAvLyAgICAgICAgIHtpbmRleH0gICA9IGRhdGEsXG4gICAgLy8gICAgICAgICBuZXdTdGF0ZSAgPSB7IC4uLnN0YXRlIH0sXG4gICAgLy8gICAgICAgICB7bGluZXN9ICAgPSBuZXdTdGF0ZTtcblxuICAgIC8vICAgbmV3U3RhdGUubGluZXMgID0gWyAuLi5saW5lcy5zbGljZSggMCwgaW5kZXggKSxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgeyAuLi5saW5lc1tpbmRleF0sIHByb2dyZXNzOiBkYXRhLnByb2dyZXNzIH0sXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgIC4uLmxpbmVzLnNsaWNlKCBpbmRleCsxIClcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIF07XG5cbiAgICAvLyAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAvLyB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwcm9ncmVzc2VzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3Byb2dyZXNzZXMtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJlY3ljbGVTdGF0ZTtcbi8vIHJlZHV4LXJlY3ljbGUgaGlnaGVyIG9yZGVyIHJlZHVjZXJcbmZ1bmN0aW9uIHJlY3ljbGVTdGF0ZShyZWR1Y2VyKSB7XG4gIHZhciBhY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG4gIHZhciBpbml0aWFsU3RhdGUgPSBhcmd1bWVudHNbMl07XG5cbiAgdmFyIGdldEluaXRpYWxTdGF0ZSA9IHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsU3RhdGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSA+PSAwKSB7XG4gICAgICByZXR1cm4gcmVkdWNlcihnZXRJbml0aWFsU3RhdGUoc3RhdGUsIGFjdGlvbiksIHsgdHlwZTogJ0BAcmVkdXgtcmVjeWNsZS9JTklUJyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH07XG59XG4vLyAvcmVkdXgtcmVjeWNsZVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4LXJlY3ljbGUvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuICBGdW5jdGlvbiB0byBnZW5lcmF0ZSBoYXNoIGNvZGUuXG4gIEBwcml2YXRlXG4gIEByZXR1cm4ge1N0cmluZ30gSGFzaCBjb2RlLlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgKHN0cikgPT4ge1xuICB2YXIgaGFzaCA9IDAsIGksIGNociwgbGVuO1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG4gIGZvciAoaSA9IDAsIGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNociAgID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCAgPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG4gIHJldHVybiBNYXRoLmFicyggaGFzaCApO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvaGFzaC5iYWJlbC5qc1xuICoqLyIsIi8qXG4gIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgc2Vjb25kIGFyZ3VtZW50IGlmIHRoZSBmaXJzdCBvbmUgaXNuJ3Qgc2V0LlxuICBAcHJpdmF0ZVxuICBAcGFyYW0ge0FueX0gUHJvcGVydHkgdG8gc2V0LlxuICBAcGFyYW0ge0FueX0gUHJvcGVydHkgdG8gcmV0dXJuIGFzIGZhbGxiYWNrLlxuICBAcmV0dXJucyB7QW55fSBJZiBzZXQgLSB0aGUgZmlyc3QgcHJvcGVydHksIGlmIG5vdCAtIHRoZSBzZWNvbmQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgKHByb3AsIGZhbGxiYWNrKSA9PiB7XG4gIHJldHVybiAoIHByb3AgIT0gbnVsbCApID8gcHJvcCA6IGZhbGxiYWNrO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvZmFsbGJhY2stdG8uYmFiZWwuanNcbiAqKi8iLCJcblxuZXhwb3J0IGRlZmF1bHQgKGZuKSA9PiB7XG4gIHNldFRpbWVvdXQoIGZuLCAxICk7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9kZWZlci5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDIwMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5LGh0bWx7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQ6I2ZmZjVlNH0qe2JveC1zaXppbmc6Ym9yZGVyLWJveH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAyMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=