!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+I+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===b&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===b&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=O[t];if(!n)return p;var r=function(e){return n.hot.active?O[e]?(O[e].parents.indexOf(t)<0&&O[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):M=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),M=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void x.push(t):b},addStatusHandler:function(t){x.push(t)},removeStatusHandler:function(t){var e=x.indexOf(t);e>=0&&x.splice(e,1)},data:w[t]};return e}function i(t){b=t;for(var e=0;e<x.length;e++)x[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==b)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);A={},E={},j={};for(var r=0;r<n.c.length;r++)E[n.c[r]]=!0;_=n.h,i("prepare"),g=e,y={};var o=0;c(o),"prepare"===b&&0===C&&0===T&&l()})}function u(t,e){if(E[t]&&A[t]){A[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y[n]=e[n]);0===--T&&0===C&&l()}}function c(t){E[t]?(A[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=O[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=O[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==b)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=y[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];O[f]&&O[f].hot._selfAccepted&&h.push({module:f,errorHandler:O[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=O[f];if(m){for(var x={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(x)}w[f]=x,m.hot.active=!1,delete O[f];for(var C=0;C<m.children.length;C++){var A=O[m.children[C]];if(A){var E=A.parents.indexOf(f);E>=0&&A.parents.splice(E,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=O[f],P=s[f],C=0;C<P.length;C++){var S=P[C],E=m.children.indexOf(S);E>=0&&m.children.splice(E,1)}i("apply"),I=_;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=O[f],P=s[f],N=[],v=0;v<P.length;v++){var S=P[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(L){D||(D=L)}}}for(var v=0;v<h.length;v++){var k=h[v],f=k.module;M=[f];try{p(f)}catch(L){if("function"==typeof k.errorHandler)try{k.errorHandler(L)}catch(L){D||(D=L)}else D||(D=L)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(O[e])return O[e].exports;var n=O[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:M,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,y,_,m=!0,I="f1deb2ba008fc1dc1dd8",w={},M=[],x=[],b="idle",T=0,C=0,j={},A={},E={},O={};return p.m=t,p.c=O,p.p="build/",p.h=function(){return I},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(2),i=n(5),a=r(i),s=n(111),u=r(s),c=n(147);n(148),document.addEventListener("DOMContentLoaded",function(){(0,o.render)((0,o.h)(c.Provider,{store:u["default"]},(0,o.h)(a["default"],null)),document.body)})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var y=i[g],_=!(c(y)||a(y)||y instanceof e);_&&!s(y)&&(y=String(y)),_&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=_)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function y(t,e){return t.nodeName(j(t),e||$)}function _(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function I(t){var e=t.parentNode;e&&e.removeChild(t)}function w(t,e,n,r,o){if(_(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=Q(e.substring(2)),n?l[e]||t.addEventListener(e,x):l[e]&&t.removeEventListener(e,x),l[e]=n}else if("type"!==e&&!o&&e in t)M(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",Q(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",Q(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function M(t,e,n){try{t[e]=n}catch(r){}}function x(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function b(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||Q(t.nodeName)===Q(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function A(t){O(t);var e=Q(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function E(t,e){var n=Q(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return _(r),r.normalizedNodeName=n,r}function O(t){I(t),1===m(t)&&(_(t,b(t)),t._component=t._componentConstructor=null)}function P(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||P(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=y(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;A(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return X(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===Q(l),i&&(st=!0),t){if(!C(t,l)){for(c=E(l,st);t.firstChild;)c.appendChild(t.firstChild);k(t)}}else c=E(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var y=0;y<h;y++){var _=c[y],m=g?(i=_._component)?i.__key:(i=_[tt])?i.key:null:null;m||0===m?(p++,f[m]=_):l[v++]=_}if(g)for(var y=0;y<g;y++){if(a=e[y],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[y]&&t.insertBefore(s,c[y]||null)}if(p)for(var y in f)f[y]&&(l[d=v++]=f[y]);d<v&&L(l)}function L(t,e){for(var n=t.length;n--;){var r=t[n];r&&k(r,e)}}function k(t,e){var n=t._component;n?Y(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||A(t),t.childNodes&&t.childNodes.length&&L(t.childNodes,e))}function R(t,e){var n=t[tt]||b(t);for(var r in n)e&&r in e||w(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||w(t,o,e[o],n[o],st)}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function F(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function U(t){t._dirty||(t._dirty=!0,h(t))}function B(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?U(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,_=v&&v.nextSibling,m=v&&v.parentNode,I=v&&v._component,w=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=y(s,l);var M,x,b=s&&s.nodeName;if(a(b)&&b.prototype.render){var T=w,C=j(s);T&&T.constructor===b?B(T,C,1,l):(M=T,T=F(b,C,l),T._parentComponent=t,t._component=T,B(T,C,0,l),G(T,1)),x=T.base}else{var A=v;M=w,M&&(A=t._component=null),(v||1===e)&&(A&&(A._component=null),x=S(A,s,l,o||!h))}if(v&&x!==v&&(m&&x!==m&&m.insertBefore(x,_||null),M||I!==t||w||!v.parentNode||(v._component=null,k(v))),M&&Y(M,!0),t.base=x,x){for(var E=t,O=t;O=O._parentComponent;)E=O;x._component=E,x._componentConstructor=E.constructor}}!h||o?(it.unshift(t),at||P()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function X(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(Y(o,!0),t=i=null),o=F(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),B(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,k(i))):(B(o,u,3,n,r),t=o.base),t}function Y(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?Y(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(I(n),z(t)),L(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},Q=function(t){return W[t]||(W[t]=t.toLowerCase())},V="undefined"!=typeof Promise&&Promise.resolve(),J=V?function(t){V.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),U(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(3).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(4).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(3).setImmediate,n(3).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(92),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),w=n(95),M=n(96),x=r(M),b=n(97),T=r(b),C=n(155),j=r(C),A=n(154),E=r(A);n(109);var O=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(108),e=this.context.store,r=e.getState(),o=this._getStyle(r);return(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(E["default"],null),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,x["default"])(o,-1),i=(0,x["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=(0,I["default"])(new _["default"].Manager(this.base));e.add(new _["default"].Pan({threshold:0})),e.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}).on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})}),this._addKeyUp(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp)}},{key:"_onKeyUp",value:function(t){if(t.altKey)switch(t.which){case 90:return store.dispatch(w.ActionCreators.undo());case 88:return store.dispatch(w.ActionCreators.redo());case 68:return store.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=O},function(t,e,n){t.exports={"default":n(7),__esModule:!0}},function(t,e,n){n(8),t.exports=n(19).Object.getPrototypeOf},function(t,e,n){var r=n(9),o=n(11);n(17)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(10);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(12),o=n(9),i=n(13)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(14)("keys"),o=n(16);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(15),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(18),o=n(19),i=n(28);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(15),o=n(19),i=n(20),a=n(22),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,_=d?o:o[e]||(o[e]={}),m=_[s],I=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&I&&void 0!==I[c],l&&c in _||(f=l?I[c]:n[c],_[c]=d&&"function"!=typeof I[c]?n[c]:g&&l?i(f,r):y&&I[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(23),o=n(31);t.exports=n(27)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(24),o=n(26),i=n(30),a=Object.defineProperty;e.f=n(27)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(25);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(27)&&!n(28)(function(){return 7!=Object.defineProperty(n(29)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(25),o=n(15).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(25);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(34),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(35),__esModule:!0}},function(t,e,n){n(36);var r=n(19).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(18);r(r.S+r.F*!n(27),"Object",{defineProperty:n(23).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(38),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(39),i=r(o),a=n(68),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(40),__esModule:!0}},function(t,e,n){n(41),n(63),t.exports=n(67).f("iterator")},function(t,e,n){"use strict";var r=n(42)(!0);n(44)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(43),o=n(10);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(45),o=n(18),i=n(46),a=n(22),s=n(12),u=n(47),c=n(48),l=n(61),f=n(11),p=n(62)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,_,m,I,w){c(n,e,_);var M,x,b,T=function(t){if(!d&&t in E)return E[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,A=!1,E=t.prototype,O=E[p]||E[h]||m&&E[m],P=O||T(m),S=m?j?T("entries"):P:void 0,D="Array"==e?E.entries||O:O;if(D&&(b=f(D.call(new t)),b!==Object.prototype&&(l(b,C,!0),r||s(b,p)||a(b,p,y))),j&&O&&O.name!==g&&(A=!0,P=function(){return O.call(this)}),r&&!w||!d&&!A&&E[p]||a(E,p,P),u[e]=P,u[C]=y,m)if(M={values:j?P:T(g),keys:I?P:T(v),entries:S},w)for(x in M)x in E||i(E,x,M[x]);else o(o.P+o.F*(d||A),e,M);return M}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(22)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(49),o=n(31),i=n(61),a={};n(22)(a,n(62)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(24),o=n(50),i=n(59),a=n(13)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(29)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(60).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(23),o=n(24),i=n(51);t.exports=n(27)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(52),o=n(59);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(12),o=n(53),i=n(56)(!1),a=n(13)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(54),o=n(10);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(55);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(53),o=n(57),i=n(58);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(43),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(43),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(15).document&&document.documentElement},function(t,e,n){var r=n(23).f,o=n(12),i=n(62)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(14)("wks"),o=n(16),i=n(15).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(64);for(var r=n(15),o=n(22),i=n(47),a=n(62)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(65),o=n(66),i=n(47),a=n(53);t.exports=n(44)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(62)},function(t,e,n){t.exports={"default":n(69),__esModule:!0}},function(t,e,n){n(70),n(81),n(82),n(83),t.exports=n(19).Symbol},function(t,e,n){"use strict";var r=n(15),o=n(12),i=n(27),a=n(18),s=n(46),u=n(71).KEY,c=n(28),l=n(14),f=n(61),p=n(16),d=n(62),h=n(67),v=n(72),g=n(73),y=n(74),_=n(77),m=n(24),I=n(53),w=n(30),M=n(31),x=n(49),b=n(78),T=n(80),C=n(23),j=n(51),A=T.f,E=C.f,O=b.f,P=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",L=d("_hidden"),k=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),B=Object[N],G="function"==typeof P,X=r.QObject,Y=!X||!X[N]||!X[N].findChild,H=i&&c(function(){return 7!=x(E({},"a",{
get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(B,e);r&&delete B[e],E(t,e,n),r&&t!==B&&E(B,e,r)}:E,Z=function(t){var e=F[t]=x(P[N]);return e._k=t,e},W=G&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Q=function(t,e,n){return t===B&&Q(U,e,n),m(t),e=w(e,!0),m(n),o(F,e)?(n.enumerable?(o(t,L)&&t[L][e]&&(t[L][e]=!1),n=x(n,{enumerable:M(0,!1)})):(o(t,L)||E(t,L,M(1,{})),t[L][e]=!0),H(t,e,n)):E(t,e,n)},V=function(t,e){m(t);for(var n,r=y(e=I(e)),o=0,i=r.length;i>o;)Q(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?x(t):V(x(t),e)},q=function(t){var e=R.call(this,t=w(t,!0));return!(this===B&&o(F,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,L)&&this[L][t])||e)},K=function(t,e){if(t=I(t),e=w(e,!0),t!==B||!o(F,e)||o(U,e)){var n=A(t,e);return!n||!o(F,e)||o(t,L)&&t[L][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=O(I(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==L||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=O(n?U:I(t)),i=[],a=0;r.length>a;)!o(F,e=r[a++])||n&&!o(B,e)||i.push(F[e]);return i};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),o(this,L)&&o(this[L],t)&&(this[L][t]=!1),H(this,t,M(1,n))};return i&&Y&&H(B,t,{configurable:!0,set:e}),Z(t)},s(P[N],"toString",function(){return this._k}),T.f=K,C.f=Q,n(79).f=b.f=$,n(76).f=q,n(75).f=tt,i&&!n(45)&&s(B,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:Q,defineProperties:V,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),P[N][k]||n(22)(P[N],k,P[N].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(16)("meta"),o=n(25),i=n(12),a=n(23).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(28)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(15),o=n(19),i=n(45),a=n(67),s=n(23).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(51),o=n(53);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(51),o=n(75),i=n(76);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(55);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(53),o=n(79).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(52),o=n(59).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(76),o=n(31),i=n(53),a=n(30),s=n(12),u=n(26),c=Object.getOwnPropertyDescriptor;e.f=n(27)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(72)("asyncIterator")},function(t,e,n){n(72)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(85),i=r(o),a=n(89),s=r(a),u=n(38),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(86),__esModule:!0}},function(t,e,n){n(87),t.exports=n(19).Object.setPrototypeOf},function(t,e,n){var r=n(18);r(r.S,"Object",{setPrototypeOf:n(88).set})},function(t,e,n){var r=n(25),o=n(24),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(20)(Function.call,n(80).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(90),__esModule:!0}},function(t,e,n){n(91);var r=n(19).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(18);r(r.S,"Object",{create:n(49)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==_t?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(I(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(I(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function w(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];w(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function b(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return bt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function A(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:At?H:Ct?W:B)(t,E)}function E(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(kt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,O(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function O(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=wt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),P(n,e),e.offsetDirection=k(e.deltaX,e.deltaY);var c=L(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=It(c.x)>It(c.y)?c.x:c.y,e.scale=a?U(a.pointers,r):1,e.rotation=a?F(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;_(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==kt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=L(u,c,l);r=f.x,o=f.y,n=It(f.x)>It(f.y)?f.x:f.y,i=k(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:wt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function L(t,e,n){return{x:e/t||0,y:n/t||0}}function k(t,e){return t===e?zt:It(t)>=It(e)?t<0?Ft:Ut:e<0?Bt:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function F(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function U(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function B(){this.evEl=Vt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function X(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function Y(t,e){var n=M(t.touches),r=M(t.changedTouches);return e&(kt|Rt)&&(n=x(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=M(t.touches),r=this.targetIds;if(e&(Nt|Lt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=M(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return _(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(kt|Rt)&&delete r[a[o].identifier],o++;return s.length?[x(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Q(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,V.call(this,e)):t&(kt|Rt)&&V.call(this,e)}function V(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function et(t){return t&Me?"cancel":t&Ie?"end":t&me?"move":t&_e?"start":""}function nt(t){return t==Gt?"down":t==Bt?"up":t==Ft?"left":t==Ut?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=A(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=b(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],yt=i.createElement("div"),_t="function",mt=Math.round,It=Math.abs,wt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var Mt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),xt=f(function(t,e){return Mt(t,e,!0)},"merge","Use `assign`."),bt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=b(o,"PointerEvent")!==s,At=Ct&&Tt.test(navigator.userAgent),Et="touch",Ot="pen",Pt="mouse",St="kinect",Dt=25,Nt=1,Lt=2,kt=4,Rt=8,zt=1,Ft=2,Ut=4,Bt=8,Gt=16,Xt=Ft|Ut,Yt=Bt|Gt,Ht=Xt|Yt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Qt={mousedown:Nt,mousemove:Lt,mouseup:kt},Vt="mousedown",Jt="mousemove mouseup";p(B,j,{handler:function(t){var e=Qt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&Lt&&1!==t.which&&(e=kt),this.pressed&&(e&kt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Pt,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:Lt,pointerup:kt,pointercancel:Rt,pointerout:Rt},Kt={2:Et,3:Ot,4:Pt,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==Et,s=w(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(kt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:Lt,touchend:kt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(X,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(kt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:Lt,touchend:kt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==Et,o=n.pointerType==Pt;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Q.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=b(yt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Xt||a&&n&Yt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ye=1,_e=2,me=4,Ie=8,we=Ie,Me=16,xe=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),w(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=w(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<Ie&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=Ie&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=xe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(xe|ye)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(we|Me|xe)&&(this.state=ye),this.state=this.process(e),void(this.state&(_e|me|Ie|Me)&&this.tryEmit(e))):(this.reset(),void(this.state=xe))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(_e|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|Me:r||o?n&kt?e|Ie:e&_e?e|me:_e:xe}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Xt&&e.push(ve),t&Yt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Xt?(o=0===i?zt:i<0?Ft:Ut,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Bt:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&_e||!(this.state&_e)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&_e)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(kt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=we,this.tryEmit()},e.time,this);else if(t.eventType&kt)return we;return xe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===we&&(t&&t.eventType&kt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=wt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&_e)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Xt|Yt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Xt|Yt)?e=t.overallVelocity:n&Xt?e=t.overallVelocityX:n&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&It(e)>this.options.velocity&&t.eventType&kt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=kt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=we,this.tryEmit()},e.interval,this),_e):we}return xe},failTimeout:function(){return this._timer=u(function(){this.state=xe},this.options.interval,this),xe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==we&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Xt}],[it,{direction:Xt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var be=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:be},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&we)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(_e|me|Ie)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=w(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(I(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(I(t),function(t){e?n[t]&&n[t].splice(w(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:Lt,INPUT_END:kt,INPUT_CANCEL:Rt,STATE_POSSIBLE:ye,STATE_BEGAN:_e,STATE_CHANGED:me,STATE_ENDED:Ie,STATE_RECOGNIZED:we,STATE_CANCELLED:Me,STATE_FAILED:xe,DIRECTION_NONE:zt,DIRECTION_LEFT:Ft,DIRECTION_RIGHT:Ut,DIRECTION_UP:Bt,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Xt,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:B,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:X,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:y,each:l,merge:xt,extend:Mt,assign:vt,inherit:p,bindFn:d,prefixed:b});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(M){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(M){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(M)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return w({},t,{history:t})}function d(t,e){return p(w({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];M=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||x.UNDO,redoType:e.redoType||x.REDO,jumpToPastType:e.jumpToPastType||x.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||x.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(w({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(w({},e,{present:g}));var y=e&&void 0!==e.present?e:n.history,_=s(y,g,n.limit);return r("after insert",{history:_,free:n.limit-a(_)}),i(),p(w({},e,_))}}}function y(){return function(t,e,n){return e!==n}}function _(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(t)}function I(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=y,e.includeAction=_,e.ifAction=m,e.excludeAction=I;var M=void 0,x=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:x.UNDO}},redo:function(){return{type:x.REDO}},jumpToFuture:function(t){return{type:x.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:x.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(92),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(98),a=r(i),s=n(104),u=r(s),c=n(108),l=function(t){var e=t.state;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e}),(0,o.h)(u["default"],{type:"top",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(96),g=r(v),y=n(92),_=r(y),m=n(156),I=r(m);n(99);var w=n(103),M=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=this._getStyle(t),n=this._renderPoints(t);return(0,h.h)("div",{className:w.curve},(0,h.h)("div",{className:w.curve__background,style:e.background}),(0,h.h)("div",{className:w["curve__svg-wrapper"],style:e.transform},n,(0,h.h)("svg",{height:_["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none","class":w.curve__svg})))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,_["default"].CURVE_SIZE-n<_["default"].CURVE_SIZE&&(n=0),n=(0,g["default"])(n,-1);var o="transform: scaleX("+(_["default"].CURVE_SIZE+Math.max(r,0))/_["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(I["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}}]),e}(h.Component);e["default"]=M},function(t,e,n){var r=n(100);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(100,function(){var e=n(100);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._curve_1u41l_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_1u41l_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_1u41l_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_1u41l_1{display:block;overflow:visible;width:100%}._curve__svg-segment_1u41l_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_1u41l_1:hover{stroke:#ff512f}",""]);
},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=_++;n=y||(y=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=I(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var I=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={curve:"_curve_1u41l_5",curve__background:"_curve__background_1u41l_1","curve__svg-wrapper":"_curve__svg-wrapper_1u41l_1",curve__svg:"_curve__svg_1u41l_1","curve__svg-segment":"_curve__svg-segment_1u41l_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(150),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),w=n(105);n(106);var M=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+w["resize-handle"],n=""+w["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,I["default"])(new _["default"].Manager(this.base));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=M},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(107);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(107,function(){var e=n(107);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1co9o_4","curve-editor__left":"_curve-editor__left_1co9o_1","curve-editor__right":"_curve-editor__right_1co9o_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1co9o_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1co9o_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1co9o_1"}},function(t,e,n){var r=n(110);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(110,function(){var e=n(110);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._curve-editor_1co9o_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:rgba(58,8,58,.85);z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1co9o_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px}._curve-editor__left_1co9o_1 icon-divider{margin:10px auto}._curve-editor__right_1co9o_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1co9o_1{position:absolute}._curve-editor__resize-handle_1co9o_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1co9o_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1co9o_1[data-type=bottom],._curve-editor__resize-handle_1co9o_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1co9o_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1co9o_1{margin-top:10px}._curve-editor__anchor-buttons_1co9o_1 icon-button{margin-bottom:5px}._curve-editor__mojs-logo_1co9o_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1co9o_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(112),i=n(126),a=r(i),s=(0,o.createStore)(a["default"]);e["default"]=s},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(113),a=r(i),s=n(121),u=r(s),c=n(123),l=r(c),f=n(124),p=r(f),d=n(125),h=r(d),v=n(122),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(4))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){y===g&&(y=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,t)}finally{_=!1}for(var e=g=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],y=g,_=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(114),a=r(i),s=n(119),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(115),i=n(117),a=n(118),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(116),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(120)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var y=o(d,n);throw new Error(y)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(113),c=n(114),l=r(c),f=n(122),p=r(f)}).call(e,n(4))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(125),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(127),i=r(o),a=n(112),s=n(95),u=r(s),c=n(132),l=r(c),f=n(134),p=r(f),d=n(146),h=r(d),v={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},g=(0,a.combineReducers)({pointControls:(0,u["default"])(h["default"],(0,i["default"])({},v)),resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},v))});e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(128),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(129),__esModule:!0}},function(t,e,n){n(130),t.exports=n(19).Object.assign},function(t,e,n){var r=n(18);r(r.S+r.F,"Object",{assign:n(131)})},function(t,e,n){"use strict";var r=n(51),o=n(75),i=n(76),a=n(9),s=n(54),u=Object.assign;t.exports=!u||n(28)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(133),i=r(o),a=n(127),s=r(a),u=n(92),c=r(u),l={x:150,tempX:0,y:100,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var y=e.data,_=y.x,m=y.y;return(0,s["default"])({},t,{tempX:_,tempY:m});case"EDITOR_TRANSLATE_END":var I=e.data,w=I.x,M=I.y;return w+=t.x,M+=t.y,(0,s["default"])({},t,{x:w,y:M,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(34),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(135),i=r(o),a=n(127),s=r(a),u=n(145),c=r(u),l=n(92),f=r(l),p=[(0,c["default"])({x:0,y:f["default"].CURVE_SIZE,isLockedX:!0,type:"straight"}),(0,c["default"])({x:50,y:f["default"].CURVE_SIZE/2,type:"mirrored"}),(0,c["default"])({x:100,y:0,isLockedX:!0})],d=function(t){for(var e=[],n=0;n<t.length;n++)e.push((0,s["default"])({},t[n],{isSelected:!1}));return e},h=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},v=function(){var t=arguments.length<=0||void 0===arguments[0]?p:arguments[0],e=arguments[1];switch(e.type){case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t[r],a=[].concat((0,i["default"])(t));return a[n.index]=(0,s["default"])({},o,{tempX:n.x,tempY:n.y}),a;case"POINT_TRANSLATE_END":var u=e.data,l=t[u],v=[].concat((0,i["default"])(t));return v[u]=(0,s["default"])({},l,{x:l.x+l.tempX,y:l.y+l.tempY,tempX:0,tempY:0}),v;case"POINT_SELECT":var g=e.data,y=g.index,_=g.isDeselect,m=_?d(t):[].concat((0,i["default"])(t)),I=m[y],w=y===m.length-1?m[y-1]:m[y+1],M=y===m.length-1?1:2,x="handle"+M,b=1===M?2:1,T="handle"+b,C=(0,s["default"])({},I[x]),j=(0,s["default"])({},I[T]);I[x]=C,I[T]=j;var A=null==C.angle||null==C.radius;I.type;if(A){C.radius=50;var E=(w.y-I.y)/f["default"].CURVE_PERCENT,O=w.x-I.x,P=Math.atan(E/O)*(180/Math.PI)-90;O>0&&(P-=180),C.angle=P,j.radius=C.radius,j.angle=C.angle-180}return I.isSelected=!0,m;case"POINT_ADD":var S=e.data,D=S.x,N=S.y,L=S.index,k=d(t);return[].concat((0,i["default"])(k.slice(0,L)),[(0,c["default"])({x:D,y:N,isSelected:!0})],(0,i["default"])(k.slice(L)));case"POINT_DELETE":for(var R=h(t),z=[],F=0;F<t.length;F++){var U=t[F];(R.indexOf(F)===-1||U.isLockedX)&&z.push(U)}return z;case"POINT_CHANGE_TYPE":for(var B=h(t),G=[],F=0;F<t.length;F++){var X=t[F],Y=e.data;G.push((0,s["default"])({},X)),B.indexOf(F)!==-1&&(G[F].type=Y);var H=F,Z=G[H],W=(H===G.length-1?G[H-1]:G[H+1],H===G.length-1?1:2),Q=1===W?2:1,V="handle"+W,J="handle"+Q,q=(0,s["default"])({},Z[V]),K=(0,s["default"])({},Z[J]);Z[V]=q,Z[J]=K,"mirrored"!==Y&&"asymmetric"!==Y||(K.angle=q.angle-180,"mirrored"===Y&&(K.radius=q.radius))}return G;case"POINT_DESELECT_ALL":return d(t);case"HANDLE_TRANSLATE":var $=e.data,tt=[].concat((0,i["default"])(t)),et=(0,s["default"])({},tt[$.parentIndex]);tt[$.parentIndex]=et;var nt="handle"+$.index,rt=(0,s["default"])({},et[nt]);return et[nt]=rt,rt.angle=$.angle,rt.radius=$.radius,tt}return t};e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(136),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(137),__esModule:!0}},function(t,e,n){n(41),n(138),t.exports=n(19).Array.from},function(t,e,n){"use strict";var r=n(20),o=n(18),i=n(9),a=n(139),s=n(140),u=n(57),c=n(141),l=n(142);o(o.S+o.F*!n(144)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,_=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(p.length),n=new d(e);e>y;y++)c(n,y,g?v(p[y],y):p[y]);else for(f=_.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,g?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(24);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(47),o=n(62)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(23),o=n(31);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(143),o=n(62)("iterator"),i=n(47);t.exports=n(19).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(55),o=n(62)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(62)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(127),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(127),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":return(0,i["default"])({},t,{isShow:!e.isDeselect,type:e.data.type});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e,n){!function(t,r){r(e,n(2),n(112))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||O,d=void 0;d="function"==typeof n?n:n?u(n):P;var h=r||S,g=o.pure,y=void 0===g||g,_=o.withRef,m=void 0!==_&&_,I=y&&h!==S,w=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=w,n.store=t.store||e.store,E(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&I&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){y&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!y||e!==t){if(y&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return E(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;y&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==w&&(this.version=w,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,y=function(t){
function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);y.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},y.childContextTypes={store:v.isRequired};var _=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=_&&"object"==typeof _&&"default"in _?_["default"]:_,I=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),w=I&&"object"==typeof I&&"default"in I?I["default"]:I,M=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),x=M&&"object"==typeof M&&"default"in M?M["default"]:M,b=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=x,r=w,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=b&&"object"==typeof b&&"default"in b?b["default"]:b,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,A=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),E=A&&"object"==typeof A&&"default"in A?A["default"]:A,O=function(t){return{}},P=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=y,t.connect=f})},function(t,e,n){var r=n(149);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(149,function(){var e=n(149);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(151);n(152);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(153);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(153,function(){var e=n(153);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'}})};e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(150),a=r(i),s=n(108),u=function(){return(0,o.h)("div",{className:s["curve-editor__left"]},(0,o.h)("a",{className:s["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(32),s=r(a),u=n(33),c=r(u),l=n(37),f=r(l),p=n(84),d=r(p),h=n(2),v=n(162),g=r(v),y=n(93),_=r(y),m=n(94),I=r(m),w=n(157),M=r(w),x=n(159),b=r(x),T=n(96),C=(r(T),n(92)),j=r(C);n(160);var A=n(158),E=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?A["is-selected"]:"",o="straight"===e.type?A["is-hide-handles"]:"",i=this._getLittleHandles(n);return(0,h.h)("div",{className:A.point+" "+r+" "+o,style:this._getStyle(n)},(0,h.h)("div",{className:A.point__touch,id:"js-point-touch"}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,b["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(t){var e=this.props,n=e.index,r=e.point,o=e.pointsCount,i=[];return 0!==n&&i.push(this._createHandle(1,r)),n!==o-1&&i.push(this._createHandle(2,r)),i}},{key:"_createHandle",value:function(t,e){return(0,h.h)(g["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(this.props.state.resize,this.props),r=n.point,o=n.index,i=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,M["default"])(o.x+i,5,1.5)-o.x},a=function(e){var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>j["default"].CURVE_SIZE+n.bottom&&(a=j["default"].CURVE_SIZE+n.bottom),(0,M["default"])(a,5*j["default"].CURVE_PERCENT,2*j["default"].CURVE_PERCENT)-o.y},s=this.base.querySelector("#js-point-touch"),u=(0,I["default"])(new _["default"].Manager(s));u.add(new _["default"].Pan({threshold:0})),u.add(new _["default"].Tap),u.on("pan",function(t){e.dispatch({type:"POINT_TRANSLATE",data:{x:i(t),y:a(t),index:o}}),t.stopPropagation()}).on("panend",function(t){e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),t.stopPropagation()}).on("tap",function(t){e.dispatch({type:"POINT_SELECT",data:{index:o,type:r.type,isDeselect:!t.srcEvent.shiftKey}}),t.stopPropagation()})}}]),e}(h.Component);e["default"]=E},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){t.exports={point:"_point_17pb1_5",point__touch:"_point__touch_17pb1_1","is-selected":"_is-selected_17pb1_31","is-hide-handles":"_is-hide-handles_17pb1_42"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(161);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(161,function(){var e=n(161);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._point_17pb1_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5);border:2px solid #fff}._point_17pb1_5 [data-component=little-handle]{display:none}._point__touch_17pb1_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_17pb1_5._is-selected_17pb1_31,._point_17pb1_5:hover{border-color:#ff512f}._point_17pb1_5._is-selected_17pb1_31 [data-component=little-handle]{display:block}._point_17pb1_5._is-hide-handles_17pb1_42 [data-component=little-handle]{display:none}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(127),i=r(o),a=n(6),s=r(a),u=n(32),c=r(u),l=n(33),f=r(l),p=n(37),d=r(p),h=n(84),v=r(h),g=n(2),y=n(163),_=r(y),m=n(164),I=r(m),w=n(93),M=r(w),x=n(94),b=r(x);n(165);var T=n(167),C=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:T["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":T["little-handle__point"],style:this._getPointStyle()}),(0,g.h)("div",{"class":T["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,b["default"])(new M["default"].Manager(this.base)),r=this.props.handle;n.add(new M["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=(0,_["default"])(r.angle,r.radius),c=u.x+n.deltaX,l=u.y+n.deltaY,f=(0,I["default"])(c,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},f)}),"mirrored"===t.props.type){var p=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:p,parentIndex:s,radius:f.radius,angle:f.angle-180}})}if("asymmetric"===t.props.type){var d=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:d,parentIndex:s,radius:r.radius,angle:f.angle-180}})}n.stopPropagation()}).on("panend",function(t){t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props.handle,e=(0,_["default"])(t.angle,t.radius),n="transform: translate("+e.x+"px, "+e.y+"px) rotate("+t.angle+"deg)";return""+mojs.h.prefix.css+n+"; "+n}},{key:"_getLineStyle",value:function(){var t=this.props.handle,e="transform: rotate("+t.angle+"deg) scaleY("+t.radius+")";return""+mojs.h.prefix.css+e+"; "+e}}]),e}(g.Component);e["default"]=C},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(166);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(102)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(166,function(){var e=n(166);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(101)(),e.push([t.id,"._little-handle_iw2ru_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_iw2ru_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__point_iw2ru_1:after{content:'';position:absolute;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_iw2ru_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports={"little-handle":"_little-handle_iw2ru_3","little-handle__point":"_little-handle__point_iw2ru_1","little-handle__line":"_little-handle__line_iw2ru_1"}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGYxZGViMmJhMDA4ZmMxZGMxZGQ4Iiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9oLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9saW5rZWQtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9kb20vcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQtcmVjeWNsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3IuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2NvbnN0YW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hhbW1lcmpzL2hhbW1lci5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb3BhZ2F0aW5nLWhhbW1lcmpzL3Byb3BhZ2F0aW5nLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgtdW5kby9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvcmVzaXplLW1vZC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItcmlnaHQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2N1cnZlLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcz81YTVkIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvcmVzaXplLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3M/MTY5YSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcz9lODNjIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvc3RvcmUuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19vdmVyQXJnLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvdXRpbHMvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3JlZHVjZXJzL2luZGV4LXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnQtY29udHJvbHMtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBhdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvY29ubmVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc3RvcmVTaGFwZS5qcyIsIndlYnBhY2s6Ly8vLi4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzIiwid2VicGFjazovLy8uLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uLi9+L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9+L2ludmFyaWFudC9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzPzlhZGQiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzP2JiYzEiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29ucy5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3BvaW50LmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2NsYW1wLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzP2VkYzkiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvcG9pbnQtdG8tYW5nbGUuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcz8yNzA1Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImNodW5rSWQiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZE1hbmlmZXN0IiwiY2FsbGJhY2siLCJYTUxIdHRwUmVxdWVzdCIsIkVycm9yIiwicmVxdWVzdCIsInJlcXVlc3RQYXRoIiwiaG90Q3VycmVudEhhc2giLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsImVuc3VyZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsImhvdENodW5rc0xvYWRpbmciLCJmaW5pc2hDaHVua0xvYWRpbmciLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFdhaXRpbmdGaWxlcyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJjYWxsIiwiZm4iLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImhvdEN1cnJlbnRQYXJlbnRzIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYW5EZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiYWNjZXB0IiwiZGVwIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJpc051bWJlciIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdEF2YWlsaWJsZUZpbGVzTWFwIiwiYyIsImhvdFVwZGF0ZU5ld0hhc2giLCJoIiwiaG90Q2FsbGJhY2siLCJob3RVcGRhdGUiLCJob3RBZGRVcGRhdGVDaHVuayIsIm1vcmVNb2R1bGVzIiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImdldEFmZmVjdGVkU3R1ZmYiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJwb3AiLCJwYXJlbnRJZCIsInBhcmVudCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsInJlc3VsdCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJkaXNwb3NlSGFuZGxlcnMiLCJqIiwiY2IiLCJjaGlsZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsImVycm9yIiwiY2FsbGJhY2tzIiwibG9hZGVkIiwicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ4IiwibSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9wcmVhY3QiLCJfY3VydmVFZGl0b3IiLCJfY3VydmVFZGl0b3IyIiwiX3N0b3JlIiwiX3N0b3JlMiIsIl9wcmVhY3RSZWR1eCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJQcm92aWRlciIsInN0b3JlIiwiYm9keSIsInNldEltbWVkaWF0ZSIsImdsb2JhbCIsIlZOb2RlIiwibm9kZU5hbWUiLCJhdHRyaWJ1dGVzIiwia2V5IiwiZXh0ZW5kIiwicHJvcHMiLCJ1bmRlZmluZWQiLCJjbG9uZSIsImRlbHZlIiwic3BsaXQiLCJ0b0FycmF5Iiwib2Zmc2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiZW1wdHkiLCJmYWxzZXkiLCJoYXNoVG9DbGFzc05hbWUiLCJzdHIiLCJwcm9wIiwiZmlyc3RDaGlsZCIsImFyciIsImxhc3RTaW1wbGUiLCJsZW4iLCJhcmd1bWVudHMiLCJTdHJpbmciLCJfcCIsImpvaW4iLCJTSEFSRURfVEVNUF9BUlJBWSIsInNpbXBsZSIsImNsYXNzTmFtZSIsInZub2RlIiwiY2xvbmVFbGVtZW50IiwiY3JlYXRlTGlua2VkU3RhdGUiLCJjb21wb25lbnQiLCJldmVudFBhdGgiLCJwYXRoIiwicDAiLCJfY29tcG9uZW50JHNldFN0YXRlIiwidiIsInQiLCJjdXJyZW50VGFyZ2V0IiwicyIsInN0YXRlIiwiX2NvbXBvbmVudCIsIm1hdGNoIiwiY2hlY2tlZCIsInNldFN0YXRlIiwiZW5xdWV1ZVJlbmRlciIsIml0ZW1zIiwicmVyZW5kZXIiLCJjdXJyZW50SXRlbXMiLCJpdGVtc09mZmxpbmUiLCJpc0Z1bmN0aW9uYWxDb21wb25lbnQiLCJidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQiLCJjb250ZXh0IiwiZ2V0Tm9kZVByb3BzIiwiRU1QVFkiLCJlbnN1cmVOb2RlRGF0YSIsIm5vZGUiLCJBVFRSX0tFWSIsImdldE5vZGVUeXBlIiwiVGV4dCIsIkVsZW1lbnQiLCJyZW1vdmVOb2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0QWNjZXNzb3IiLCJvbGQiLCJpc1N2ZyIsInN0eWxlIiwiY3NzVGV4dCIsIk5PTl9ESU1FTlNJT05fUFJPUFMiLCJpbm5lckhUTUwiLCJfX2h0bWwiLCJfbGlzdGVuZXJzIiwidG9Mb3dlckNhc2UiLCJzdWJzdHJpbmciLCJldmVudFByb3h5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFByb3BlcnR5IiwicmVtb3ZlQXR0cmlidXRlIiwibnMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJnZXRSYXdOb2RlQXR0cmlidXRlcyIsImF0dHJzIiwiaXNTYW1lTm9kZVR5cGUiLCJpc05hbWVkTm9kZSIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsIm5vcm1hbGl6ZWROb2RlTmFtZSIsImRlZmF1bHRQcm9wcyIsImNvbGxlY3ROb2RlIiwiY2xlYW5Ob2RlIiwibGlzdCIsIm5vZGVzIiwiY3JlYXRlTm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImZsdXNoTW91bnRzIiwibW91bnRzIiwiZGlmZiIsImRvbSIsIm1vdW50QWxsIiwiZGlmZkxldmVsIiwicmV0IiwiaWRpZmYiLCJvcmlnaW5hbEF0dHJpYnV0ZXMiLCJub2RlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInN2Z01vZGUiLCJvdXQiLCJpc1N2Z01vZGUiLCJyZWNvbGxlY3ROb2RlVHJlZSIsImNoaWxkTm9kZXMiLCJpbm5lckRpZmZOb2RlIiwiZGlmZkF0dHJpYnV0ZXMiLCJyZWYiLCJ2Y2hpbGRyZW4iLCJ2Y2hpbGQiLCJrZXllZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjaGlsZHJlbkxlbiIsInZsZW4iLCJfY2hpbGQiLCJfX2tleSIsImtleWVkTGVuIiwibWluIiwiaW5zZXJ0QmVmb3JlIiwicmVtb3ZlT3JwaGFuZWRDaGlsZHJlbiIsInVubW91bnRPbmx5IiwiX25hbWUiLCJfbmFtZTIiLCJjb2xsZWN0Q29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJjb21wb25lbnRzIiwiY3JlYXRlQ29tcG9uZW50IiwiQ3RvciIsImluc3QiLCJuZXh0QmFzZSIsInRyaWdnZXJDb21wb25lbnRSZW5kZXIiLCJfZGlydHkiLCJzZXRDb21wb25lbnRQcm9wcyIsIm9wdHMiLCJiYXNlIiwiX2Rpc2FibGVSZW5kZXJpbmciLCJfX3JlZiIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJwcmV2Q29udGV4dCIsInByZXZQcm9wcyIsInN5bmNDb21wb25lbnRVcGRhdGVzIiwicmVuZGVyQ29tcG9uZW50Iiwic2tpcCIsInJlbmRlcmVkIiwicHJldmlvdXNTdGF0ZSIsInByZXZTdGF0ZSIsInByZXZpb3VzQ29udGV4dCIsImlzVXBkYXRlIiwiaW5pdGlhbEJhc2UiLCJuZXh0U2libGluZyIsImJhc2VQYXJlbnQiLCJpbml0aWFsQ29tcG9uZW50IiwiaW5pdGlhbENoaWxkQ29tcG9uZW50IiwicHJldmlvdXNQcm9wcyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJnZXRDaGlsZENvbnRleHQiLCJ0b1VubW91bnQiLCJjaGlsZENvbXBvbmVudCIsImNoaWxkUHJvcHMiLCJfcGFyZW50Q29tcG9uZW50IiwiY2Jhc2UiLCJ1bm1vdW50Q29tcG9uZW50IiwiY29tcG9uZW50UmVmIiwidW5zaGlmdCIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJidWlsZENvbXBvbmVudEZyb21WTm9kZSIsIm9sZERvbSIsImlzRGlyZWN0T3duZXIiLCJpc093bmVyIiwicmVtb3ZlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbm5lciIsImNvbXBvbmVudERpZFVubW91bnQiLCJDb21wb25lbnQiLCJfbGlua2VkU3RhdGVzIiwiZ2V0SW5pdGlhbFN0YXRlIiwibWVyZ2UiLCJsY0NhY2hlIiwicmVzb2x2ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImYiLCJ0aGVuIiwic2V0VGltZW91dCIsIlN5bWJvbCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleCIsImZsZXhHcm93IiwiZmxleFBvc2l0aXZlIiwiZmxleFNocmluayIsImZsZXhOZWdhdGl2ZSIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInN0cm9rZU9wYWNpdHkiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwibGlua1N0YXRlIiwiY2FjaGVLZXkiLCJmb3JjZVVwZGF0ZSIsImNsZWFySW1tZWRpYXRlIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsIm5leHRUaWNrIiwiRnVuY3Rpb24iLCJBcnJheSIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJfb25UaW1lb3V0IiwiYXJncyIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwiY29uY2F0IiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJjYWNoZWRTZXRUaW1lb3V0IiwicnVuIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImZ1biIsImFycmF5Iiwibm9vcCIsInByb2Nlc3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfY29uc3RhbnRzIiwiX2NvbnN0YW50czIiLCJfaGFtbWVyanMiLCJfaGFtbWVyanMyIiwiX3Byb3BhZ2F0aW5nSGFtbWVyanMiLCJfcHJvcGFnYXRpbmdIYW1tZXJqczIiLCJfcmVkdXhVbmRvIiwiX3Jlc2l6ZU1vZCIsIl9yZXNpemVNb2QyIiwiX2N1cnZlRWRpdG9yUmlnaHQiLCJfY3VydmVFZGl0b3JSaWdodDIiLCJfY3VydmVFZGl0b3JMZWZ0IiwiX2N1cnZlRWRpdG9yTGVmdDIiLCJfaWNvbnMiLCJfaWNvbnMyIiwiQ3VydmVFZGl0b3IiLCJfQ29tcG9uZW50IiwiQ0xBU1NFUyIsImdldFN0YXRlIiwiX2dldFN0eWxlIiwiWF9TSVpFIiwiQ1VSVkVfU0laRSIsIllfU0laRSIsIkNVUlZFX1BBRERJTkciLCJyZXNpemUiLCJ0ZW1wX3RvcCIsInRlbXBfYm90dG9tIiwidGVtcF9yaWdodCIsInRyYW5zbGF0ZSIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ0ZW1wWCIsInkiLCJ0ZW1wWSIsInRyYW5zZm9ybSIsIm1vanMiLCJwcmVmaXgiLCJjc3MiLCJtYyIsIk1hbmFnZXIiLCJhZGQiLCJQYW4iLCJ0aHJlc2hvbGQiLCJkZWx0YVgiLCJkZWx0YVkiLCJkaXNwYXRjaCIsIl9hZGRLZXlVcCIsInN1YnNjcmliZSIsImJpbmQiLCJfb25LZXlVcCIsImFsdEtleSIsIndoaWNoIiwiQWN0aW9uQ3JlYXRvcnMiLCJ1bmRvIiwicmVkbyIsImdldFByb3RvdHlwZU9mIiwidG9PYmplY3QiLCIkZ2V0UHJvdG90eXBlT2YiLCJpdCIsImRlZmluZWQiLCJUeXBlRXJyb3IiLCJoYXMiLCJJRV9QUk9UTyIsIk9iamVjdFByb3RvIiwiTyIsInNoYXJlZCIsInVpZCIsIlNIQVJFRCIsIk1hdGgiLCJzZWxmIiwiX19nIiwicHgiLCJyYW5kb20iLCJ0b1N0cmluZyIsIiRleHBvcnQiLCJjb3JlIiwiZmFpbHMiLCJLRVkiLCJleGVjIiwiZXhwIiwiUyIsIkYiLCJjdHgiLCJoaWRlIiwiUFJPVE9UWVBFIiwic291cmNlIiwib3duIiwiSVNfRk9SQ0VEIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsInRhcmdldCIsIkMiLCJ2aXJ0dWFsIiwiUiIsIlUiLCJfX2UiLCJhRnVuY3Rpb24iLCJ0aGF0IiwiZFAiLCJjcmVhdGVEZXNjIiwib2JqZWN0IiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiQXR0cmlidXRlcyIsImlzT2JqZWN0IiwiaXMiLCJ2YWwiLCJ2YWx1ZU9mIiwiYml0bWFwIiwid3JpdGFibGUiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiJE9iamVjdCIsImRlc2MiLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiUmVmZXJlbmNlRXJyb3IiLCJfaXRlcmF0b3IiLCJfaXRlcmF0b3IyIiwiX3N5bWJvbCIsIl9zeW1ib2wyIiwiX3R5cGVvZiIsIiRhdCIsIml0ZXJhdGVkIiwiX3QiLCJfaSIsInBvaW50IiwiaW5kZXgiLCJkb25lIiwidG9JbnRlZ2VyIiwiVE9fU1RSSU5HIiwicG9zIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsImNlaWwiLCJmbG9vciIsImlzTmFOIiwiTElCUkFSWSIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsIklURVJBVE9SIiwiQlVHR1kiLCJrZXlzIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwibmV4dCIsIkRFRkFVTFQiLCJJU19TRVQiLCJGT1JDRUQiLCJtZXRob2RzIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRNZXRob2QiLCJraW5kIiwicHJvdG8iLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJjcmVhdGUiLCJkUHMiLCJlbnVtQnVnS2V5cyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwibHQiLCJndCIsImRpc3BsYXkiLCJjb250ZW50V2luZG93Iiwid3JpdGUiLCJQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsIiRrZXlzIiwidG9JT2JqZWN0IiwiYXJyYXlJbmRleE9mIiwibmFtZXMiLCJJT2JqZWN0IiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xlbmd0aCIsInRvSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZWwiLCJmcm9tSW5kZXgiLCJtYXgiLCJkb2N1bWVudEVsZW1lbnQiLCJkZWYiLCJ0YWciLCJzdGF0IiwiVVNFX1NZTUJPTCIsIiRleHBvcnRzIiwiVE9fU1RSSU5HX1RBRyIsImNvbGxlY3Rpb25zIiwiQ29sbGVjdGlvbiIsImFkZFRvVW5zY29wYWJsZXMiLCJzdGVwIiwiX2siLCJBcmd1bWVudHMiLCJERVNDUklQVE9SUyIsIk1FVEEiLCIkZmFpbHMiLCJ3a3MiLCJ3a3NFeHQiLCJ3a3NEZWZpbmUiLCJrZXlPZiIsImVudW1LZXlzIiwiaXNBcnJheSIsIl9jcmVhdGUiLCJnT1BORXh0IiwiJEdPUEQiLCIkRFAiLCJnT1BEIiwiZ09QTiIsIiRTeW1ib2wiLCIkSlNPTiIsIl9zdHJpbmdpZnkiLCJzdHJpbmdpZnkiLCJISURERU4iLCJUT19QUklNSVRJVkUiLCJpc0VudW0iLCJTeW1ib2xSZWdpc3RyeSIsIkFsbFN5bWJvbHMiLCJPUFN5bWJvbHMiLCJVU0VfTkFUSVZFIiwiUU9iamVjdCIsInNldHRlciIsImZpbmRDaGlsZCIsInNldFN5bWJvbERlc2MiLCJEIiwicHJvdG9EZXNjIiwid3JhcCIsInN5bSIsImlzU3ltYm9sIiwiaXRlcmF0b3IiLCIkZGVmaW5lUHJvcGVydHkiLCIkZGVmaW5lUHJvcGVydGllcyIsIiRjcmVhdGUiLCIkcHJvcGVydHlJc0VudW1lcmFibGUiLCJFIiwiJGdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIiRnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiJGdldE93blByb3BlcnR5U3ltYm9scyIsIklTX09QIiwiJHNldCIsInN5bWJvbHMiLCJmb3IiLCJrZXlGb3IiLCJ1c2VTZXR0ZXIiLCJ1c2VTaW1wbGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwiYXJnIiwid2luZG93TmFtZXMiLCJnZXRXaW5kb3dOYW1lcyIsImhpZGRlbktleXMiLCJfc2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZTIiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJfX3Byb3RvX18iLCJzZXRQcm90b3R5cGVPZiIsInRlc3QiLCJidWdneSIsIkNVUlZFX1BFUkNFTlQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImV4cG9ydE5hbWUiLCJzZXRUaW1lb3V0Q29udGV4dCIsImJpbmRGbiIsImludm9rZUFycmF5QXJnIiwiZWFjaCIsImZvckVhY2giLCJkZXByZWNhdGUiLCJtZXRob2QiLCJtZXNzYWdlIiwiZGVwcmVjYXRpb25NZXNzYWdlIiwic3RhY2siLCJyZXBsYWNlIiwibG9nIiwiaW5oZXJpdCIsInByb3BlcnRpZXMiLCJjaGlsZFAiLCJiYXNlUCIsIl9zdXBlciIsImFzc2lnbiIsImJvb2xPckZuIiwiVFlQRV9GVU5DVElPTiIsImlmVW5kZWZpbmVkIiwidmFsMSIsInZhbDIiLCJhZGRFdmVudExpc3RlbmVycyIsInR5cGVzIiwiaGFuZGxlciIsInNwbGl0U3RyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXNQYXJlbnQiLCJpblN0ciIsImZpbmQiLCJ0cmltIiwiaW5BcnJheSIsImZpbmRCeUtleSIsInVuaXF1ZUFycmF5Iiwic29ydCIsInJlc3VsdHMiLCJwcmVmaXhlZCIsInByb3BlcnR5IiwiY2FtZWxQcm9wIiwidG9VcHBlckNhc2UiLCJWRU5ET1JfUFJFRklYRVMiLCJ1bmlxdWVJZCIsIl91bmlxdWVJZCIsImdldFdpbmRvd0ZvckVsZW1lbnQiLCJlbGVtZW50IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiSW5wdXQiLCJtYW5hZ2VyIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZXYiLCJlbmFibGUiLCJpbml0IiwiY3JlYXRlSW5wdXRJbnN0YW5jZSIsIlR5cGUiLCJpbnB1dENsYXNzIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0IiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwiVG91Y2hJbnB1dCIsIlNVUFBPUlRfVE9VQ0giLCJUb3VjaE1vdXNlSW5wdXQiLCJNb3VzZUlucHV0IiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsInBvaW50ZXJzIiwiY2hhbmdlZFBvaW50ZXJzTGVuIiwiY2hhbmdlZFBvaW50ZXJzIiwiaXNGaXJzdCIsIklOUFVUX1NUQVJUIiwiaXNGaW5hbCIsIklOUFVUX0VORCIsIklOUFVUX0NBTkNFTCIsInNlc3Npb24iLCJjb21wdXRlSW5wdXREYXRhIiwicmVjb2duaXplIiwicHJldklucHV0IiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwibm93IiwiZGVsdGFUaW1lIiwiYW5nbGUiLCJnZXRBbmdsZSIsImRpc3RhbmNlIiwiZ2V0RGlzdGFuY2UiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJhYnMiLCJzY2FsZSIsImdldFNjYWxlIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJvZmZzZXREZWx0YSIsInByZXZEZWx0YSIsInZlbG9jaXR5IiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwiZGlyZWN0aW9uIiwibGFzdCIsImxhc3RJbnRlcnZhbCIsIkNPTVBVVEVfSU5URVJWQUwiLCJjbGllbnRYIiwicm91bmQiLCJjbGllbnRZIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fTEVGVCIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9VUCIsIkRJUkVDVElPTl9ET1dOIiwicDEiLCJwMiIsIlBST1BTX1hZIiwic3FydCIsImF0YW4yIiwiUEkiLCJzdGFydCIsImVuZCIsIlBST1BTX0NMSUVOVF9YWSIsImV2RWwiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsImV2V2luIiwiTU9VU0VfV0lORE9XX0VWRU5UUyIsInByZXNzZWQiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwicG9pbnRlckV2ZW50cyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJldlRhcmdldCIsIlNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTIiwiU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMiLCJzdGFydGVkIiwibm9ybWFsaXplU2luZ2xlVG91Y2hlcyIsImFsbCIsInRvdWNoZXMiLCJjaGFuZ2VkIiwiY2hhbmdlZFRvdWNoZXMiLCJUT1VDSF9UQVJHRVRfRVZFTlRTIiwidGFyZ2V0SWRzIiwiZ2V0VG91Y2hlcyIsImFsbFRvdWNoZXMiLCJJTlBVVF9NT1ZFIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsImZpbHRlciIsInRvdWNoIiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInJlY29yZFRvdWNoZXMiLCJldmVudERhdGEiLCJzZXRMYXN0VG91Y2giLCJsYXN0VG91Y2giLCJsdHMiLCJyZW1vdmVMYXN0VG91Y2giLCJERURVUF9USU1FT1VUIiwiaXNTeW50aGV0aWNFdmVudCIsImR4IiwiZHkiLCJERURVUF9ESVNUQU5DRSIsIlRvdWNoQWN0aW9uIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJhY3Rpb25zIiwiVE9VQ0hfQUNUSU9OX05PTkUiLCJoYXNQYW5YIiwiVE9VQ0hfQUNUSU9OX1BBTl9YIiwiaGFzUGFuWSIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fQVVUTyIsImdldFRvdWNoQWN0aW9uUHJvcHMiLCJOQVRJVkVfVE9VQ0hfQUNUSU9OIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsIkNTUyIsInN1cHBvcnRzIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwiU1RBVEVfUE9TU0lCTEUiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfQkVHQU4iLCJkaXJlY3Rpb25TdHIiLCJnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyIiwib3RoZXJSZWNvZ25pemVyIiwicmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwiSGFtbWVyIiwicmVjb2duaXplcnMiLCJwcmVzZXQiLCJoYW5kbGVycyIsIm9sZENzc1Byb3BzIiwidG91Y2hBY3Rpb24iLCJ0b2dnbGVDc3NQcm9wcyIsInJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImNzc1Byb3BzIiwidHJpZ2dlckRvbUV2ZW50IiwiZ2VzdHVyZUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJnZXN0dXJlIiwiZGlzcGF0Y2hFdmVudCIsIlRFU1RfRUxFTUVOVCIsIkRhdGUiLCJvdXRwdXQiLCJuZXh0S2V5IiwiZGVzdCIsIk1PQklMRV9SRUdFWCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIklOUFVUX1RZUEVfVE9VQ0giLCJJTlBVVF9UWVBFX1BFTiIsIklOUFVUX1RZUEVfTU9VU0UiLCJJTlBVVF9UWVBFX0tJTkVDVCIsIkRJUkVDVElPTl9IT1JJWk9OVEFMIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwiRElSRUNUSU9OX0FMTCIsImRlc3Ryb3kiLCJNT1VTRV9JTlBVVF9NQVAiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwiYnV0dG9uIiwicG9pbnRlclR5cGUiLCJQT0lOVEVSX0lOUFVUX01BUCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm91dCIsIklFMTBfUE9JTlRFUl9UWVBFX0VOVU0iLCIyIiwiMyIsIjQiLCI1IiwiTVNQb2ludGVyRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJyZW1vdmVQb2ludGVyIiwiZXZlbnRUeXBlTm9ybWFsaXplZCIsImlzVG91Y2giLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwiVE9VQ0hfSU5QVVRfTUFQIiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiVE9VQ0hfQUNUSU9OX0NPTVBVVEUiLCJUT1VDSF9BQ1RJT05fTUFQIiwiY29tcHV0ZSIsImdldFRvdWNoQWN0aW9uIiwicHJldmVudERlZmF1bHRzIiwicHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwicHJldmVudFNyYyIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9GQUlMRUQiLCJkcm9wUmVjb2duaXplV2l0aCIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicmVzZXQiLCJhdHRyVGVzdCIsIm9wdGlvblBvaW50ZXJzIiwiaXNSZWNvZ25pemVkIiwiaXNWYWxpZCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiU1RPUCIsIkZPUkNFRF9TVE9QIiwic3RvcCIsImZvcmNlIiwic3RvcHBlZCIsImN1clJlY29nbml6ZXIiLCJleGlzdGluZyIsImV2ZW50cyIsIlRhcCIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsImZyZWVHbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX2ZpcnN0VGFyZ2V0IiwicHJvcGFnYXRpbmciLCJoYW1tZXIiLCJwcm9wYWdhdGVkSGFuZGxlciIsIl9oYW5kbGVkIiwic3RvcFByb3BhZ2F0aW9uIiwic3JjU3RvcCIsImZpcnN0VGFyZ2V0IiwiZWxlbSIsImVsZW1IYW1tZXIiLCJfaGFuZGxlcnMiLCJrIiwiX29wdGlvbnMiLCJQcm9wYWdhdGluZ0hhbW1lciIsIm8iLCJ3cmFwcGVyIiwiaGFtbWVycyIsIl90b0NvbnN1bWFibGVBcnJheSIsImFycjIiLCJmcm9tIiwiZGVidWciLCJfX0RFQlVHX18iLCJfY29uc29sZSIsIl9sZW4iLCJfa2V5IiwiZ3JvdXAiLCJkZWJ1Z1N0YXJ0IiwiYWN0aW9uIiwiX2NvbnNvbGUyIiwiZ3JvdXBDb2xsYXBzZWQiLCJkZWJ1Z0VuZCIsImdyb3VwRW5kIiwiaGlzdG9yeSIsInBhc3QiLCJmdXR1cmUiLCJpbnNlcnQiLCJsaW1pdCIsImZyZWUiLCJwcmVzZW50IiwiaGlzdG9yeU92ZXJmbG93IiwianVtcFRvRnV0dXJlIiwianVtcFRvUGFzdCIsIndyYXBTdGF0ZSIsIl9leHRlbmRzIiwidXBkYXRlU3RhdGUiLCJjcmVhdGVIaXN0b3J5IiwicGFyc2VBY3Rpb25zIiwicmF3QWN0aW9ucyIsImRlZmF1bHRWYWx1ZSIsInVuZG9hYmxlIiwicmVkdWNlciIsInJhd0NvbmZpZyIsImNvbmZpZyIsImluaXRpYWxTdGF0ZSIsImluaXRUeXBlcyIsInVuZG9UeXBlIiwiQWN0aW9uVHlwZXMiLCJVTkRPIiwicmVkb1R5cGUiLCJSRURPIiwianVtcFRvUGFzdFR5cGUiLCJKVU1QX1RPX1BBU1QiLCJqdW1wVG9GdXR1cmVUeXBlIiwiSlVNUF9UT19GVVRVUkUiLCJpbml0aWFsSGlzdG9yeSIsInJlcyIsInNvbWUiLCJhY3Rpb25UeXBlIiwidXBkYXRlZEhpc3RvcnkiLCJkaXN0aW5jdFN0YXRlIiwiY3VycmVudFN0YXRlIiwiaW5jbHVkZUFjdGlvbiIsImlmQWN0aW9uIiwiZXhjbHVkZUFjdGlvbiIsIm1vZCIsInRlbXBSZXNpemVfdG9wIiwiY29lZiIsIk1PRCIsIkRJViIsInBhcnNlSW50IiwiR0FQIiwiX2N1cnZlIiwiX2N1cnZlMiIsIl9yZXNpemVIYW5kbGUiLCJfcmVzaXplSGFuZGxlMiIsIkN1cnZlRWRpdG9yUmlnaHQiLCJfcmVmIiwiX3BvaW50IiwiX3BvaW50MiIsIkN1cnZlIiwic3R5bGVzIiwicG9pbnRzIiwiX3JlbmRlclBvaW50cyIsImJhY2tncm91bmQiLCJ2aWV3Qm94IiwicHJlc2VydmVBc3BlY3RSYXRpbyIsImNsYXNzIiwiYmdUcmFuc2Zvcm0iLCJwb2ludHNEYXRhIiwicG9pbnRzQ291bnQiLCJjb250ZW50IiwibG9jYWxzIiwibmV3Q29udGVudCIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsInN0eWxlc0luRG9tIiwicmVmcyIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJtZWRpYSIsInNvdXJjZU1hcCIsInBhcnQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZUVsZW1lbnQiLCJnZXRIZWFkRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwic3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsInJlbW92ZVN0eWxlRWxlbWVudCIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUxpbmtFbGVtZW50IiwibGlua0VsZW1lbnQiLCJyZWwiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJ1cGRhdGVMaW5rIiwiaHJlZiIsImFwcGx5VG9UYWciLCJuZXdPYmoiLCJzdHlsZVNoZWV0IiwicmVwbGFjZVRleHQiLCJjc3NOb2RlIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJibG9iIiwib2xkU3JjIiwibWVtb2l6ZSIsIm1lbW8iLCJpc09sZElFIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImN1cnZlIiwiY3VydmVfX2JhY2tncm91bmQiLCJjdXJ2ZV9fc3ZnLXdyYXBwZXIiLCJjdXJ2ZV9fc3ZnIiwiY3VydmVfX3N2Zy1zZWdtZW50IiwiX2ljb24iLCJfaWNvbjIiLCJSZXNpemVIYW5kbGUiLCJjbGFzc1R5cGUiLCJkYXRhLXR5cGUiLCJzaGFwZSIsInJlc2l6ZS1oYW5kbGUiLCJyZXNpemUtaGFuZGxlLS1yaWdodCIsInJlc2l6ZS1oYW5kbGUtLWJvdHRvbSIsImN1cnZlLWVkaXRvciIsImN1cnZlLWVkaXRvcl9fbGVmdCIsImN1cnZlLWVkaXRvcl9fcmlnaHQiLCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUiLCJjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zIiwiY3VydmUtZWRpdG9yX19tb2pzLWxvZ28iLCJfcmVkdXgiLCJfaW5kZXhSZWR1Y2VyIiwiX2luZGV4UmVkdWNlcjIiLCJjcmVhdGVTdG9yZSIsImlzQ3J1c2hlZCIsImNvbXBvc2UiLCJhcHBseU1pZGRsZXdhcmUiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJjb21iaW5lUmVkdWNlcnMiLCJfY3JlYXRlU3RvcmUiLCJfY3JlYXRlU3RvcmUyIiwiX2NvbWJpbmVSZWR1Y2VycyIsIl9jb21iaW5lUmVkdWNlcnMyIiwiX2JpbmRBY3Rpb25DcmVhdG9ycyIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMyIiwiX2FwcGx5TWlkZGxld2FyZSIsIl9hcHBseU1pZGRsZXdhcmUyIiwiX2NvbXBvc2UiLCJfY29tcG9zZTIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsIk5PREVfRU5WIiwiZW5oYW5jZXIiLCJlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzIiwibmV4dExpc3RlbmVycyIsImN1cnJlbnRMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImlzU3Vic2NyaWJlZCIsIl9pc1BsYWluT2JqZWN0MiIsImlzRGlzcGF0Y2hpbmciLCJjdXJyZW50UmVkdWNlciIsImxpc3RlbmVycyIsInJlcGxhY2VSZWR1Y2VyIiwibmV4dFJlZHVjZXIiLCJJTklUIiwib2JzZXJ2YWJsZSIsIm91dGVyU3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJvYnNlcnZlU3RhdGUiLCJ1bnN1YnNjcmliZSIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9yZWYyIiwiX2lzUGxhaW5PYmplY3QiLCJfc3ltYm9sT2JzZXJ2YWJsZSIsImlzUGxhaW5PYmplY3QiLCJpc09iamVjdExpa2UiLCJvYmplY3RUb1N0cmluZyIsIm9iamVjdFRhZyIsImlzSG9zdE9iamVjdCIsImdldFByb3RvdHlwZSIsImZ1bmNUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvYmplY3RQcm90byIsIm92ZXJBcmciLCJuYXRpdmVHZXRQcm90b3R5cGUiLCJmdW5jIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25OYW1lIiwiZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZSIsImlucHV0U3RhdGUiLCJyZWR1Y2VycyIsInJlZHVjZXJLZXlzIiwiYXJndW1lbnROYW1lIiwidW5leHBlY3RlZEtleXMiLCJhc3NlcnRSZWR1Y2VyU2FuaXR5IiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsIndhcm5pbmdNZXNzYWdlIiwiaGFzQ2hhbmdlZCIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGVGb3JLZXkiLCJuZXh0U3RhdGVGb3JLZXkiLCJlcnJvck1lc3NhZ2UiLCJ3YXJuaW5nIiwiYmluZEFjdGlvbkNyZWF0b3IiLCJhY3Rpb25DcmVhdG9yIiwiYWN0aW9uQ3JlYXRvcnMiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwibWlkZGxld2FyZXMiLCJfZGlzcGF0Y2giLCJjaGFpbiIsIm1pZGRsZXdhcmVBUEkiLCJtYXAiLCJtaWRkbGV3YXJlIiwiZnVuY3MiLCJfcmV0IiwicmVzdCIsInJlZHVjZVJpZ2h0IiwiY29tcG9zZWQiLCJfZXh0ZW5kczIiLCJfZXh0ZW5kczMiLCJfcmVkdXhVbmRvMiIsIl9yZXNpemVSZWR1Y2VyIiwiX3Jlc2l6ZVJlZHVjZXIyIiwiX3BvaW50c1JlZHVjZXIiLCJfcG9pbnRzUmVkdWNlcjIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIiLCJfcG9pbnRDb250cm9sc1JlZHVjZXIyIiwiVU5ET0FCTEVfT1BUUyIsImN1cnJTdGF0ZSIsImlzUmVjb3JkIiwicG9pbnRDb250cm9scyIsIl9hc3NpZ24iLCJfYXNzaWduMiIsIiRhc3NpZ24iLCJBIiwiSyIsIlQiLCJhTGVuIiwiX2RlZmluZVByb3BlcnR5MyIsIl9leHRlbmRzNCIsIl9leHRlbmRzNSIsIklOSVRJQUxfU1RBVEUiLCJzY2FsZXJYIiwicmVzaXplUmVkdWNlciIsImRlbHRhIiwibmV3U3RhdGUiLCJfZGF0YSIsIl90eXBlIiwiX2RlbHRhIiwibWF0aE1ldGhvZCIsIl9uZXdTdGF0ZSIsIl9hY3Rpb24kZGF0YSIsIl9hY3Rpb24kZGF0YTIiLCJfeDIiLCJfeSIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJfdG9Db25zdW1hYmxlQXJyYXkzIiwiX21ha2VQb2ludCIsIl9tYWtlUG9pbnQyIiwiaXNMb2NrZWRYIiwiZGVzbGVjdEFsbCIsImlzU2VsZWN0ZWQiLCJmaW5kU2VsZWN0ZWRJbmRlY2llcyIsImluZGVjaWVzIiwicG9pbnRzUmVkdWNlciIsIm9sZFBvaW50IiwiX2luZGV4IiwiX29sZFBvaW50IiwiX2luZGV4MiIsImlzRGVzZWxlY3QiLCJfbmV3U3RhdGUyIiwic2liUG9pbnQiLCJoYW5kbGVJbmRleCIsImhhbmRsZU5hbWUiLCJzaWJIYW5kbGVJbmRleCIsInNpYkhhbmRsZU5hbWUiLCJoYW5kbGUiLCJzaWJIYW5kbGUiLCJ3YXNudFNldCIsInJhZGl1cyIsImF0YW4iLCJfZGF0YTIiLCJfaW5kZXgzIiwiZGVzZWxlY3RlZCIsInNlbGVjdGVkIiwiX25ld1N0YXRlMyIsIl9zZWxlY3RlZCIsIl9uZXdTdGF0ZTQiLCJfaXRlbSIsIl9pbmRleDQiLCJfaGFuZGxlSW5kZXgiLCJfc2liSGFuZGxlSW5kZXgiLCJfaGFuZGxlTmFtZSIsIl9zaWJIYW5kbGVOYW1lIiwiX2hhbmRsZSIsIl9zaWJIYW5kbGUiLCJfZGF0YTMiLCJfbmV3U3RhdGU1IiwibmV3UG9pbnQiLCJwYXJlbnRJbmRleCIsIl9oYW5kbGVOYW1lMiIsIm5ld0hhbmRsZSIsIl9mcm9tIiwiX2Zyb20yIiwiaXNBcnJheUl0ZXIiLCJjcmVhdGVQcm9wZXJ0eSIsImdldEl0ZXJGbiIsIml0ZXIiLCJhcnJheUxpa2UiLCJtYXBmbiIsIm1hcHBpbmciLCJpdGVyRm4iLCJBcnJheVByb3RvIiwiY2xhc3NvZiIsImdldEl0ZXJhdG9yTWV0aG9kIiwiQVJHIiwidHJ5R2V0IiwiY2FsbGVlIiwiU0FGRV9DTE9TSU5HIiwicml0ZXIiLCJza2lwQ2xvc2luZyIsInNhZmUiLCJmYWxsYmFjayIsIl9mYWxsYmFjayIsIm1ha2VIYW5kbGVQb2ludCIsImlzVG91Y2hlZCIsIm1ha2VQb3NpdGlvblBvaW50IiwibWFrZVBvaW50IiwiaXNMb2NrZWRZIiwiaGFuZGxlMSIsImhhbmRsZTIiLCJpc1Nob3ciLCJwcmVhY3QiLCJyZWR1eCIsIl9fY29tbW9uanMiLCJwcm9wdHlwZSIsIndhcm5BYm91dFJlY2VpdmluZ1N0b3JlIiwiZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUiLCJzaGFsbG93RXF1YWwiLCJvYmpBIiwib2JqQiIsImtleXNBIiwia2V5c0IiLCJoYXNPd24iLCJ3cmFwQWN0aW9uQ3JlYXRvcnMiLCJnZXREaXNwbGF5TmFtZSIsIldyYXBwZWRDb21wb25lbnQiLCJkaXNwbGF5TmFtZSIsInRyeUNhdGNoIiwiZXJyb3JPYmplY3QiLCJjb25uZWN0IiwibWFwU3RhdGVUb1Byb3BzIiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwibWVyZ2VQcm9wcyIsInNob3VsZFN1YnNjcmliZSIsIm1hcFN0YXRlIiwiZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoIiwiZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyIsImZpbmFsTWVyZ2VQcm9wcyIsImRlZmF1bHRNZXJnZVByb3BzIiwiX29wdGlvbnMkcHVyZSIsInB1cmUiLCJfb3B0aW9ucyR3aXRoUmVmIiwid2l0aFJlZiIsImNoZWNrTWVyZ2VkRXF1YWxzIiwibmV4dFZlcnNpb24iLCJjaGVja1N0YXRlU2hhcGUiLCJtZXRob2ROYW1lIiwiY29ubmVjdERpc3BsYXlOYW1lIiwiY29tcHV0ZU1lcmdlZFByb3BzIiwic3RhdGVQcm9wcyIsImRpc3BhdGNoUHJvcHMiLCJwYXJlbnRQcm9wcyIsIm1lcmdlZFByb3BzIiwiQ29ubmVjdCIsImJhYmVsSGVscGVycyIsImNsYXNzQ2FsbENoZWNrIiwiX3RoaXMiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiaW52YXJpYW50JDEiLCJzdG9yZVN0YXRlIiwiY2xlYXJDYWNoZSIsImluaGVyaXRzIiwiaGF2ZU93blByb3BzQ2hhbmdlZCIsImhhc1N0b3JlU3RhdGVDaGFuZ2VkIiwiY29tcHV0ZVN0YXRlUHJvcHMiLCJmaW5hbE1hcFN0YXRlVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUiLCJkb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkU3RhdGUiLCJpc0ZhY3RvcnkiLCJjb21wdXRlRGlzcGF0Y2hQcm9wcyIsImZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzIiwiY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCIsImRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMiLCJtYXBwZWREaXNwYXRjaCIsInVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCIsIm5leHRTdGF0ZVByb3BzIiwidXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkIiwibmV4dERpc3BhdGNoUHJvcHMiLCJ1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkIiwibmV4dE1lcmdlZFByb3BzIiwidHJ5U3Vic2NyaWJlIiwiaGFuZGxlQ2hhbmdlIiwidHJ5VW5zdWJzY3JpYmUiLCJjb21wb25lbnREaWRNb3VudCIsIm5leHRQcm9wcyIsImhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQiLCJzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciIsInJlbmRlcmVkRWxlbWVudCIsInByZXZTdG9yZVN0YXRlIiwiaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkIiwiZ2V0V3JhcHBlZEluc3RhbmNlIiwid3JhcHBlZEluc3RhbmNlIiwic2hvdWxkVXBkYXRlU3RhdGVQcm9wcyIsInNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMiLCJoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQiLCJoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkIiwiY29udGV4dFR5cGVzIiwic3RvcmVTaGFwZSIsImhvaXN0U3RhdGljcyIsIkNoaWxkcmVuIiwib25seSIsImlzUmVxdWlyZWQiLCJQcm9wVHlwZXMiLCJuZXh0U3RvcmUiLCJjaGlsZENvbnRleHRUeXBlcyIsInJlcXVpcmUkJDAiLCJfaXNIb3N0T2JqZWN0IiwicmVxdWlyZSQkMSIsIl9nZXRQcm90b3R5cGUiLCJyZXF1aXJlJCQyIiwiaXNQbGFpbk9iamVjdCQxIiwiUkVBQ1RfU1RBVElDUyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsInByb3BUeXBlcyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJhcml0eSIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsImQiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwiSWNvbiIsIm1hcmt1cCIsImRhdGEtY29tcG9uZW50IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpY29uIiwiSWNvbnMiLCJDdXJ2ZUVkaXRvckxlZnQiLCJfbGl0dGxlSGFuZGxlIiwiX2xpdHRsZUhhbmRsZTIiLCJfcm91bmRUbyIsIl9yb3VuZFRvMiIsIl9jbGFtcCIsIl9jbGFtcDIiLCJQb2ludCIsIl9wcm9wcyIsImhhbmRsZXMiLCJsaXR0bGVIYW5kbGVzIiwiX2dldExpdHRsZUhhbmRsZXMiLCJjbGVhblgiLCJfcHJvcHMyIiwiX2NyZWF0ZUhhbmRsZSIsIl90aGlzMiIsIl9wcm9wczMiLCJnZXRUZW1wWCIsIl9wcm9wczQiLCJnZXRUZW1wWSIsIl9wcm9wczYiLCJyZXR1cm5WYWx1ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzaGlmdEtleSIsInNuYXAiLCJtb2RpZmllZCIsInBvaW50X190b3VjaCIsImlzLXNlbGVjdGVkIiwiaXMtaGlkZS1oYW5kbGVzIiwiX2FuZ2xlVG9Qb2ludCIsIl9hbmdsZVRvUG9pbnQyIiwiX3BvaW50VG9BbmdsZSIsIl9wb2ludFRvQW5nbGUyIiwiTGl0dGxlSGFuZGxlIiwiX2dldFBvaW50U3R5bGUiLCJfZ2V0TGluZVN0eWxlIiwibmV3WCIsIm5ld1kiLCJnZXRSYWRpYWxQb2ludCIsImxpdHRsZS1oYW5kbGUiLCJsaXR0bGUtaGFuZGxlX19wb2ludCIsImxpdHRsZS1oYW5kbGVfX2xpbmUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsZ0JBQUFDLFVBQUEsZ0JBQUFDLFFBQ0FBLE9BQUFELFFBQUFELElBQ0Esa0JBQUFHLGdCQUFBQyxJQUNBRCxPQUFBLHVCQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLHFCQUFBRCxJQUVBRCxFQUFBLHFCQUFBQyxLQUNDSyxLQUFBLFdBQ0QsTUNBZ0IsVUFBVUMsR0NIMUIsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxTQUFBQyxxQkFBQSxXQUNBQyxFQUFBRixTQUFBRyxjQUFBLFNBQ0FELEdBQUFFLEtBQUEsa0JBQ0FGLEVBQUFHLFFBQUEsUUFDQUgsRUFBQUksSUFBQUMsRUFBQUMsRUFBQSxHQUFBVixFQUFBLGlCQUNBQyxFQUFBVSxZQUFBUCxHQUdBLFFBQUFRLEdBQUFDLEdBQ0Esc0JBQUFDLGdCQUNBLE1BQUFELEdBQUEsR0FBQUUsT0FBQSxzQkFDQSxLQUNBLEdBQUFDLEdBQUEsR0FBQUYsZ0JBQ0FHLEVBQUFSLEVBQUFDLEVBQUEsR0FBQVEsRUFBQSxrQkFDQUYsR0FBQUcsS0FBQSxNQUFBRixHQUFBLEdBQ0FELEVBQUFJLFFBQUEsSUFDQUosRUFBQUssS0FBQSxNQUNJLE1BQUFDLEdBQ0osTUFBQVQsR0FBQVMsR0FFQU4sRUFBQU8sbUJBQUEsV0FDQSxPQUFBUCxFQUFBUSxXQUNBLE9BQUFSLEVBQUFTLE9BRUFaLEVBQUEsR0FBQUUsT0FBQSx1QkFBQUUsRUFBQSxvQkFDSyxVQUFBRCxFQUFBUyxPQUVMWixRQUNLLFVB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Q0FDLHNCQUFBIiwiZmlsZSI6Im1vanMtY3VydmUtZWRpdG9yLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwibW9qcy1jdXJ2ZS1lZGl0b3JcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibW9qcy1jdXJ2ZS1lZGl0b3JcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm1vanMtY3VydmUtZWRpdG9yXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZW1vanNfY3VydmVfZWRpdG9yXCJdO1xuLyoqKioqKi8gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZW1vanNfY3VydmVfZWRpdG9yXCJdID0gXHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbi8qKioqKiovIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoY2FsbGJhY2spIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuLyoqKioqKi8gXHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbi8qKioqKiovIFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4vKioqKioqLyBcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyB0aW1lb3V0XHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gc3VjY2Vzc1xyXG4vKioqKioqLyBcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBjYXRjaChlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2JlZjQ1YjAvc3JjL3NoYXJlZC91dGlscy9jYW5EZWZpbmVQcm9wZXJ0eS5qc1xyXG4vKioqKioqLyBcdHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwieFwiLCB7XHJcbi8qKioqKiovIFx0XHRcdGdldDogZnVuY3Rpb24oKSB7fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRjYW5EZWZpbmVQcm9wZXJ0eSA9IHRydWU7XHJcbi8qKioqKiovIFx0fSBjYXRjaCh4KSB7XHJcbi8qKioqKiovIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiZjFkZWIyYmEwMDhmYzFkYzFkZDhcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbi8qKioqKiovIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCAoZnVuY3Rpb24obmFtZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZuW25hbWVdID0gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGVuc3VyZShjaHVua0lkLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbi8qKioqKiovIFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkLCBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChudWxsLCBmbik7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBmaW5hbGx5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIFwiZVwiLCB7XHJcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHR2YWx1ZTogZW5zdXJlXHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0Zm4uZSA9IGVuc3VyZTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdHJldHVybiBmbjtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBob3QgPSB7XHJcbi8qKioqKiovIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuLyoqKioqKi8gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4vKioqKioqLyBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwibnVtYmVyXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4vKioqKioqLyBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbi8qKioqKiovIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcclxuLyoqKioqKi8gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4vKioqKioqLyBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaG90O1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuLyoqKioqKi8gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4vKioqKioqLyBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90QXZhaWxpYmxlRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbi8qKioqKiovIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbi8qKioqKiovIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5LCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gYXBwbHk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuLyoqKioqKi8gXHRcdGhvdERvd25sb2FkTWFuaWZlc3QoZnVuY3Rpb24oZXJyLCB1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgbnVsbCk7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0aG90QXZhaWxpYmxlRmlsZXNNYXBbdXBkYXRlLmNbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRob3RDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xyXG4vKioqKioqLyBcdFx0XHR7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcclxuLyoqKioqKi8gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbi8qKioqKiovIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBjYWxsYmFjayA9IGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0aWYoIWNhbGxiYWNrKSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRpZihob3RBcHBseU9uVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbi8qKioqKiovIFx0XHRpZih0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuLyoqKioqKi8gXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIGlmKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbbW9kdWxlXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZUlkID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cXVldWUucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXHJcbi8qKioqKiovIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIXJlc3VsdCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdFswXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiByZXN1bHRbMV0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbi8qKioqKiovIFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHZhciBkYXRhID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdGNiKGRhdGEpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4vKioqKioqLyBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIWNoaWxkKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgaWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IGNhbGxiYWNrc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuLyoqKioqKi8gXHRcdGlmKGVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnJvcik7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4vKioqKioqLyBcdFx0XHRwYXJlbnRzOiBob3RDdXJyZW50UGFyZW50cyxcbi8qKioqKiovIFx0XHRcdGNoaWxkcmVuOiBbXVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJidWlsZC9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19oYXNoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKSgwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yKTtcblx0XG5cdHZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG5cdFxuXHR2YXIgX3N0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JlKTtcblx0XG5cdHZhciBfcHJlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gaW1wb3J0ICcuL3RhZ3MvY3VydmUtZWRpdG9yLnRhZyc7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdFxuXHQvLyBUT0RPXG5cdC8vICAgLSBpbml0IHBvaW50cyB3aXRoIGZ1bmN0aW9uXG5cdC8vICAgLSBtb3ZlIGJ1bmNoIG9mIHBvaW50cyBhdCBvbmNlXG5cdC8vICAgLSBhZGQgZ3JpZCBiYWNrZ3JvdW5kXG5cdFxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICgwLCBfcHJlYWN0LnJlbmRlcikoKDAsIF9wcmVhY3QuaCkoXG5cdCAgICBfcHJlYWN0UmVkdXguUHJvdmlkZXIsXG5cdCAgICB7IHN0b3JlOiBfc3RvcmUyLmRlZmF1bHQgfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvcjIuZGVmYXVsdCwgbnVsbClcblx0ICApLCBkb2N1bWVudC5ib2R5KTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oc2V0SW1tZWRpYXRlKSB7IWZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuXHQgICAgIHRydWUgPyBmYWN0b3J5KGV4cG9ydHMpIDogJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyAnZXhwb3J0cycgXSwgZmFjdG9yeSkgOiBmYWN0b3J5KGdsb2JhbC5wcmVhY3QgPSBnbG9iYWwucHJlYWN0IHx8IHt9KTtcblx0fSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cdCAgICBmdW5jdGlvbiBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcywgY2hpbGRyZW4pIHtcblx0ICAgICAgICB0aGlzLm5vZGVOYW1lID0gbm9kZU5hbWU7XG5cdCAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcblx0ICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdCAgICAgICAgdGhpcy5rZXkgPSBhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMua2V5O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0ICAgICAgICBpZiAocHJvcHMpIGZvciAodmFyIGkgaW4gcHJvcHMpIGlmICh2b2lkIDAgIT09IHByb3BzW2ldKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0ICAgICAgICByZXR1cm4gb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xvbmUob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdCAgICAgICAgZm9yICh2YXIgcCA9IGtleS5zcGxpdCgnLicpLCBpID0gMDsgaSA8IHAubGVuZ3RoICYmIG9iajsgaSsrKSBvYmogPSBvYmpbcFtpXV07XG5cdCAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0ICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChvYmosIG9mZnNldCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHQgICAgICAgIHJldHVybiAnZnVuY3Rpb24nID09IHR5cGVvZiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcblx0ICAgICAgICByZXR1cm4gJ3N0cmluZycgPT0gdHlwZW9mIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGVtcHR5KHgpIHtcblx0ICAgICAgICByZXR1cm4gdm9pZCAwID09PSB4IHx8IG51bGwgPT09IHg7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBmYWxzZXkodmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWUgPT09ICExIHx8IGVtcHR5KHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGhhc2hUb0NsYXNzTmFtZShjKSB7XG5cdCAgICAgICAgdmFyIHN0ciA9ICcnO1xuXHQgICAgICAgIGZvciAodmFyIHByb3AgaW4gYykgaWYgKGNbcHJvcF0pIHtcblx0ICAgICAgICAgICAgaWYgKHN0cikgc3RyICs9ICcgJztcblx0ICAgICAgICAgICAgc3RyICs9IHByb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdCAgICAgICAgdmFyIGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGUsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbiA+IDIpIHtcblx0ICAgICAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgZmlyc3RDaGlsZDtcblx0ICAgICAgICAgICAgaWYgKDMgPT09IGxlbiAmJiAnb2JqZWN0JyAhPT0gdHlwZSAmJiAnZnVuY3Rpb24nICE9PSB0eXBlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWZhbHNleShmaXJzdENoaWxkKSkgY2hpbGRyZW4gPSBbIFN0cmluZyhmaXJzdENoaWxkKSBdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBbXTtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgX3AgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFmYWxzZXkoX3ApKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcC5qb2luKSBhcnIgPSBfcDsgZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gX3A7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBhcnJbal0sIHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUgJiYgIWlzU3RyaW5nKGNoaWxkKSkgY2hpbGQgPSBTdHJpbmcoY2hpbGQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiBsYXN0U2ltcGxlKSBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSArPSBjaGlsZDsgZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gc2ltcGxlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBlbHNlIDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSByZXR1cm4gaChub2RlTmFtZSwgYXR0cmlidXRlcywgYXR0cmlidXRlcy5jaGlsZHJlbik7XG5cdCAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2hpbGRyZW4pIGRlbGV0ZSBhdHRyaWJ1dGVzLmNoaWxkcmVuO1xuXHQgICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoJ2NsYXNzTmFtZScgaW4gYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0ICAgICAgICAgICAgICAgIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkgYXR0cmlidXRlcy5jbGFzcyA9IGhhc2hUb0NsYXNzTmFtZShsYXN0U2ltcGxlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB2b2lkIDAsIGNoaWxkcmVuKTtcblx0ICAgICAgICBpZiAob3B0aW9ucy52bm9kZSkgb3B0aW9ucy52bm9kZShwKTtcblx0ICAgICAgICByZXR1cm4gcDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMpIHtcblx0ICAgICAgICByZXR1cm4gaCh2bm9kZS5ub2RlTmFtZSwgZXh0ZW5kKGNsb25lKHZub2RlLmF0dHJpYnV0ZXMpLCBwcm9wcyksIGFyZ3VtZW50cy5sZW5ndGggPiAyID8gdG9BcnJheShhcmd1bWVudHMsIDIpIDogdm5vZGUuY2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHQgICAgICAgIHZhciBwYXRoID0ga2V5LnNwbGl0KCcuJyksIHAwID0gcGF0aFswXTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuXHQgICAgICAgICAgICB2YXIgX2NvbXBvbmVudCRzZXRTdGF0ZTtcblx0ICAgICAgICAgICAgdmFyIHYsIGksIHQgPSBlICYmIGUuY3VycmVudFRhcmdldCB8fCB0aGlzLCBzID0gY29tcG9uZW50LnN0YXRlLCBvYmogPSBzO1xuXHQgICAgICAgICAgICBpZiAoaXNTdHJpbmcoZXZlbnRQYXRoKSkge1xuXHQgICAgICAgICAgICAgICAgdiA9IGRlbHZlKGUsIGV2ZW50UGF0aCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoZW1wdHkodikgJiYgKHQgPSB0Ll9jb21wb25lbnQpKSB2ID0gZGVsdmUodCwgZXZlbnRQYXRoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHYgPSB0Lm5vZGVOYW1lID8gKHQubm9kZU5hbWUgKyB0LnR5cGUpLm1hdGNoKC9eaW5wdXQoY2hlY2t8cmFkKS9pKSA/IHQuY2hlY2tlZCA6IHQudmFsdWUgOiBlO1xuXHQgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2KSkgdiA9IHYuY2FsbCh0KTtcblx0ICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuXHQgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSBvYmogPSBvYmpbcGF0aFtpXV0gfHwgKG9ialtwYXRoW2ldXSA9IHt9KTtcblx0ICAgICAgICAgICAgICAgIG9ialtwYXRoW2ldXSA9IHY7XG5cdCAgICAgICAgICAgICAgICB2ID0gc1twMF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29tcG9uZW50LnNldFN0YXRlKChfY29tcG9uZW50JHNldFN0YXRlID0ge30sIF9jb21wb25lbnQkc2V0U3RhdGVbcDBdID0gdiwgX2NvbXBvbmVudCRzZXRTdGF0ZSkpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCkge1xuXHQgICAgICAgIGlmICgxID09PSBpdGVtcy5wdXNoKGNvbXBvbmVudCkpIChvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nIHx8IHNldEltbWVkaWF0ZSkocmVyZW5kZXIpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVyZW5kZXIoKSB7XG5cdCAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB2YXIgcCwgY3VycmVudEl0ZW1zID0gaXRlbXM7XG5cdCAgICAgICAgICAgIGl0ZW1zID0gaXRlbXNPZmZsaW5lO1xuXHQgICAgICAgICAgICBpdGVtc09mZmxpbmUgPSBjdXJyZW50SXRlbXM7XG5cdCAgICAgICAgICAgIHdoaWxlIChwID0gY3VycmVudEl0ZW1zLnBvcCgpKSBpZiAocC5fZGlydHkpIHJlbmRlckNvbXBvbmVudChwKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpIHtcblx0ICAgICAgICB2YXIgbm9kZU5hbWUgPSB2bm9kZSAmJiB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICByZXR1cm4gbm9kZU5hbWUgJiYgaXNGdW5jdGlvbihub2RlTmFtZSkgJiYgIShub2RlTmFtZS5wcm90b3R5cGUgJiYgbm9kZU5hbWUucHJvdG90eXBlLnJlbmRlcik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpIHtcblx0ICAgICAgICByZXR1cm4gdm5vZGUubm9kZU5hbWUoZ2V0Tm9kZVByb3BzKHZub2RlKSwgY29udGV4dCB8fCBFTVBUWSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIG5vZGVbQVRUUl9LRVldIHx8IChub2RlW0FUVFJfS0VZXSA9IGRhdGEgfHwge30pO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0Tm9kZVR5cGUobm9kZSkge1xuXHQgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdCAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSByZXR1cm4gMTsgZWxzZSByZXR1cm4gMDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHQgICAgICAgIHZhciBwID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgICAgIGlmIChwKSBwLnJlbW92ZUNoaWxkKG5vZGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0QWNjZXNzb3Iobm9kZSwgbmFtZSwgdmFsdWUsIG9sZCwgaXNTdmcpIHtcblx0ICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXHQgICAgICAgIGlmICgna2V5JyAhPT0gbmFtZSAmJiAnY2hpbGRyZW4nICE9PSBuYW1lKSBpZiAoJ2NsYXNzJyA9PT0gbmFtZSAmJiAhaXNTdmcpIG5vZGUuY2xhc3NOYW1lID0gdmFsdWUgfHwgJyc7IGVsc2UgaWYgKCdzdHlsZScgPT09IG5hbWUpIHtcblx0ICAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCBpc1N0cmluZyh2YWx1ZSkgfHwgaXNTdHJpbmcob2xkKSkgbm9kZS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgfHwgJyc7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAnb2JqZWN0JyA9PSB0eXBlb2YgdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghaXNTdHJpbmcob2xkKSkgZm9yICh2YXIgaSBpbiBvbGQpIGlmICghKGkgaW4gdmFsdWUpKSBub2RlLnN0eWxlW2ldID0gJyc7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHZhbHVlKSBub2RlLnN0eWxlW2ldID0gJ251bWJlcicgPT0gdHlwZW9mIHZhbHVlW2ldICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gdmFsdWVbaV0gKyAncHgnIDogdmFsdWVbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKCdkYW5nZXJvdXNseVNldElubmVySFRNTCcgPT09IG5hbWUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKCdvJyA9PT0gbmFtZVswXSAmJiAnbicgPT09IG5hbWVbMV0pIHtcblx0ICAgICAgICAgICAgdmFyIGwgPSBub2RlLl9saXN0ZW5lcnMgfHwgKG5vZGUuX2xpc3RlbmVycyA9IHt9KTtcblx0ICAgICAgICAgICAgbmFtZSA9IHRvTG93ZXJDYXNlKG5hbWUuc3Vic3RyaW5nKDIpKTtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChsW25hbWVdKSBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSk7XG5cdCAgICAgICAgICAgIGxbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCd0eXBlJyAhPT0gbmFtZSAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdCAgICAgICAgICAgIHNldFByb3BlcnR5KG5vZGUsIG5hbWUsIGVtcHR5KHZhbHVlKSA/ICcnIDogdmFsdWUpO1xuXHQgICAgICAgICAgICBpZiAoZmFsc2V5KHZhbHVlKSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIG5zID0gaXNTdmcgJiYgbmFtZS5tYXRjaCgvXnhsaW5rXFw6PyguKykvKTtcblx0ICAgICAgICAgICAgaWYgKGZhbHNleSh2YWx1ZSkpIGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7IGVsc2Ugbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7IGVsc2UgaWYgKCdvYmplY3QnICE9IHR5cGVvZiB2YWx1ZSAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpOyBlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIG5vZGVbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7fVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldFJhd05vZGVBdHRyaWJ1dGVzKG5vZGUpIHtcblx0ICAgICAgICB2YXIgYXR0cnMgPSB7fTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaS0tOyApIGF0dHJzW25vZGUuYXR0cmlidXRlc1tpXS5uYW1lXSA9IG5vZGUuYXR0cmlidXRlc1tpXS52YWx1ZTtcblx0ICAgICAgICByZXR1cm4gYXR0cnM7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZSkpIHJldHVybiAzID09PSBnZXROb2RlVHlwZShub2RlKTtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSByZXR1cm4gaXNOYW1lZE5vZGUobm9kZSwgdm5vZGUubm9kZU5hbWUpO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZub2RlLm5vZGVOYW1lKSkgcmV0dXJuIG5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpOyBlbHNlIDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdCAgICAgICAgcmV0dXJuIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID09PSBub2RlTmFtZSB8fCB0b0xvd2VyQ2FzZShub2RlLm5vZGVOYW1lKSA9PT0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdCAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHZub2RlLm5vZGVOYW1lLmRlZmF1bHRQcm9wcywgcHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblx0ICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cdCAgICAgICAgcmV0dXJuIHByb3BzO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY29sbGVjdE5vZGUobm9kZSkge1xuXHQgICAgICAgIGNsZWFuTm9kZShub2RlKTtcblx0ICAgICAgICB2YXIgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLCBsaXN0ID0gbm9kZXNbbmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTsgZWxzZSBub2Rlc1tuYW1lXSA9IFsgbm9kZSBdO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKSwgbm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdCAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSk7XG5cdCAgICAgICAgbm9kZS5ub3JtYWxpemVkTm9kZU5hbWUgPSBuYW1lO1xuXHQgICAgICAgIHJldHVybiBub2RlO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY2xlYW5Ob2RlKG5vZGUpIHtcblx0ICAgICAgICByZW1vdmVOb2RlKG5vZGUpO1xuXHQgICAgICAgIGlmICgxID09PSBnZXROb2RlVHlwZShub2RlKSkge1xuXHQgICAgICAgICAgICBlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cdCAgICAgICAgICAgIG5vZGUuX2NvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBmbHVzaE1vdW50cygpIHtcblx0ICAgICAgICB2YXIgYztcblx0ICAgICAgICB3aGlsZSAoYyA9IG1vdW50cy5wb3AoKSkgaWYgKGMuY29tcG9uZW50RGlkTW91bnQpIGMuY29tcG9uZW50RGlkTW91bnQoKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwsIHBhcmVudCkge1xuXHQgICAgICAgIGRpZmZMZXZlbCsrO1xuXHQgICAgICAgIHZhciByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgaWYgKHBhcmVudCAmJiByZXQucGFyZW50Tm9kZSAhPT0gcGFyZW50KSBwYXJlbnQuYXBwZW5kQ2hpbGQocmV0KTtcblx0ICAgICAgICBpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXHQgICAgICAgIHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB2bm9kZSA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2bm9kZSwgY29udGV4dCk7XG5cdCAgICAgICAgaWYgKGVtcHR5KHZub2RlKSkgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXHQgICAgICAgIGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0ICAgICAgICAgICAgaWYgKGRvbSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKDMgPT09IGdldE5vZGVUeXBlKGRvbSkgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPSB2bm9kZSkgZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb207XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBjb2xsZWN0Tm9kZShkb20pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2bm9kZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzdmdNb2RlLCBvdXQgPSBkb20sIG5vZGVOYW1lID0gdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSByZXR1cm4gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSBub2RlTmFtZSA9IFN0cmluZyhub2RlTmFtZSk7XG5cdCAgICAgICAgc3ZnTW9kZSA9ICdzdmcnID09PSB0b0xvd2VyQ2FzZShub2RlTmFtZSk7XG5cdCAgICAgICAgaWYgKHN2Z01vZGUpIGlzU3ZnTW9kZSA9ICEwO1xuXHQgICAgICAgIGlmICghZG9tKSBvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpOyBlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0ICAgICAgICAgICAgb3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0ICAgICAgICAgICAgd2hpbGUgKGRvbS5maXJzdENoaWxkKSBvdXQuYXBwZW5kQ2hpbGQoZG9tLmZpcnN0Q2hpbGQpO1xuXHQgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gJiYgMSA9PT0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmICdzdHJpbmcnID09IHR5cGVvZiB2bm9kZS5jaGlsZHJlblswXSAmJiAxID09PSBvdXQuY2hpbGROb2Rlcy5sZW5ndGggJiYgb3V0LmZpcnN0Q2hpbGQgaW5zdGFuY2VvZiBUZXh0KSBvdXQuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB2bm9kZS5jaGlsZHJlblswXTsgZWxzZSBpZiAodm5vZGUuY2hpbGRyZW4gfHwgb3V0LmZpcnN0Q2hpbGQpIGlubmVyRGlmZk5vZGUob3V0LCB2bm9kZS5jaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGRpZmZBdHRyaWJ1dGVzKG91dCwgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKG9yaWdpbmFsQXR0cmlidXRlcyAmJiBvcmlnaW5hbEF0dHJpYnV0ZXMucmVmKSAob3V0W0FUVFJfS0VZXS5yZWYgPSBvcmlnaW5hbEF0dHJpYnV0ZXMucmVmKShvdXQpO1xuXHQgICAgICAgIGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSAhMTtcblx0ICAgICAgICByZXR1cm4gb3V0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgaiwgYywgdmNoaWxkLCBjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzLCBjaGlsZHJlbiA9IFtdLCBrZXllZCA9IHt9LCBrZXllZExlbiA9IDAsIG1pbiA9IDAsIGxlbiA9IG9yaWdpbmFsQ2hpbGRyZW4ubGVuZ3RoLCBjaGlsZHJlbkxlbiA9IDAsIHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aDtcblx0ICAgICAgICBpZiAobGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBfY2hpbGQgPSBvcmlnaW5hbENoaWxkcmVuW2ldLCBrZXkgPSB2bGVuID8gKGMgPSBfY2hpbGQuX2NvbXBvbmVudCkgPyBjLl9fa2V5IDogKGMgPSBfY2hpbGRbQVRUUl9LRVldKSA/IGMua2V5IDogbnVsbCA6IG51bGw7XG5cdCAgICAgICAgICAgIGlmIChrZXkgfHwgMCA9PT0ga2V5KSB7XG5cdCAgICAgICAgICAgICAgICBrZXllZExlbisrO1xuXHQgICAgICAgICAgICAgICAga2V5ZWRba2V5XSA9IF9jaGlsZDtcblx0ICAgICAgICAgICAgfSBlbHNlIGNoaWxkcmVuW2NoaWxkcmVuTGVuKytdID0gX2NoaWxkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodmxlbikgZm9yICh2YXIgaSA9IDA7IGkgPCB2bGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgdmNoaWxkID0gdmNoaWxkcmVuW2ldO1xuXHQgICAgICAgICAgICBjaGlsZCA9IG51bGw7XG5cdCAgICAgICAgICAgIGlmIChrZXllZExlbiAmJiB2Y2hpbGQuYXR0cmlidXRlcykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleSA9IHZjaGlsZC5rZXk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBrZXllZFtrZXldO1xuXHQgICAgICAgICAgICAgICAgICAgIGtleWVkW2tleV0gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICAgICAga2V5ZWRMZW4tLTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWNoaWxkICYmIG1pbiA8IGNoaWxkcmVuTGVuKSBmb3IgKGogPSBtaW47IGogPCBjaGlsZHJlbkxlbjsgaisrKSB7XG5cdCAgICAgICAgICAgICAgICBjID0gY2hpbGRyZW5bal07XG5cdCAgICAgICAgICAgICAgICBpZiAoYyAmJiBpc1NhbWVOb2RlVHlwZShjLCB2Y2hpbGQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBjO1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuW2pdID0gdm9pZCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBjaGlsZHJlbkxlbiAtIDEpIGNoaWxkcmVuTGVuLS07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IG1pbikgbWluKys7XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGlmIChjaGlsZCAhPT0gb3JpZ2luYWxDaGlsZHJlbltpXSkgZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGtleWVkTGVuKSBmb3IgKHZhciBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIGNoaWxkcmVuW21pbiA9IGNoaWxkcmVuTGVuKytdID0ga2V5ZWRbaV07XG5cdCAgICAgICAgaWYgKG1pbiA8IGNoaWxkcmVuTGVuKSByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oY2hpbGRyZW4sIHVubW91bnRPbmx5KSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0ICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cdCAgICAgICAgICAgIGlmIChjaGlsZCkgcmVjb2xsZWN0Tm9kZVRyZWUoY2hpbGQsIHVubW91bnRPbmx5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQgICAgICAgIHZhciBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudCkgdW5tb3VudENvbXBvbmVudChjb21wb25lbnQsICF1bm1vdW50T25seSk7IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cdCAgICAgICAgICAgIGlmICghdW5tb3VudE9ubHkpIGNvbGxlY3ROb2RlKG5vZGUpO1xuXHQgICAgICAgICAgICBpZiAobm9kZS5jaGlsZE5vZGVzICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4obm9kZS5jaGlsZE5vZGVzLCB1bm1vdW50T25seSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHQgICAgICAgIHZhciBvbGQgPSBkb21bQVRUUl9LRVldIHx8IGdldFJhd05vZGVBdHRyaWJ1dGVzKGRvbSk7XG5cdCAgICAgICAgZm9yICh2YXIgX25hbWUgaW4gb2xkKSBpZiAoIShhdHRycyAmJiBfbmFtZSBpbiBhdHRycykpIHNldEFjY2Vzc29yKGRvbSwgX25hbWUsIG51bGwsIG9sZFtfbmFtZV0sIGlzU3ZnTW9kZSk7XG5cdCAgICAgICAgaWYgKGF0dHJzKSBmb3IgKHZhciBfbmFtZTIgaW4gYXR0cnMpIGlmICghKF9uYW1lMiBpbiBvbGQpIHx8IGF0dHJzW19uYW1lMl0gIT0gKCd2YWx1ZScgPT09IF9uYW1lMiB8fCAnc2VsZWN0ZWQnID09PSBfbmFtZTIgfHwgJ2NoZWNrZWQnID09PSBfbmFtZTIgPyBkb21bX25hbWUyXSA6IG9sZFtfbmFtZTJdKSkgc2V0QWNjZXNzb3IoZG9tLCBfbmFtZTIsIGF0dHJzW19uYW1lMl0sIG9sZFtfbmFtZTJdLCBpc1N2Z01vZGUpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY29sbGVjdENvbXBvbmVudChjb21wb25lbnQpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lLCBsaXN0ID0gY29tcG9uZW50c1tuYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgbGlzdC5wdXNoKGNvbXBvbmVudCk7IGVsc2UgY29tcG9uZW50c1tuYW1lXSA9IFsgY29tcG9uZW50IF07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoQ3RvciwgcHJvcHMsIGNvbnRleHQpIHtcblx0ICAgICAgICB2YXIgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSwgbGlzdCA9IGNvbXBvbmVudHNbQ3Rvci5uYW1lXTtcblx0ICAgICAgICBpZiAobGlzdCkgZm9yICh2YXIgaSA9IGxpc3QubGVuZ3RoOyBpLS07ICkgaWYgKGxpc3RbaV0uY29uc3RydWN0b3IgPT09IEN0b3IpIHtcblx0ICAgICAgICAgICAgaW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdCAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGluc3Q7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCkge1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2RpcnR5ID0gITA7XG5cdCAgICAgICAgICAgIGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzZXRDb21wb25lbnRQcm9wcyhjb21wb25lbnQsIHByb3BzLCBvcHRzLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBiID0gY29tcG9uZW50LmJhc2U7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITA7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYgPSBwcm9wcy5yZWYpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19rZXkgPSBwcm9wcy5rZXkpIGRlbGV0ZSBwcm9wcy5rZXk7XG5cdCAgICAgICAgICAgIGlmIChlbXB0eShiKSB8fCBtb3VudEFsbCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgY29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0ICE9PSBjb21wb25lbnQuY29udGV4dCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0ICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICExO1xuXHQgICAgICAgICAgICBpZiAoMCAhPT0gb3B0cykgaWYgKDEgPT09IG9wdHMgfHwgb3B0aW9ucy5zeW5jQ29tcG9uZW50VXBkYXRlcyAhPT0gITEgfHwgIWIpIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIDEsIG1vdW50QWxsKTsgZWxzZSB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihjb21wb25lbnQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIG9wdHMsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgaWYgKCFjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHtcblx0ICAgICAgICAgICAgdmFyIHNraXAsIHJlbmRlcmVkLCBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcywgc3RhdGUgPSBjb21wb25lbnQuc3RhdGUsIGNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dCwgcHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsIHByZXZpb3VzU3RhdGUgPSBjb21wb25lbnQucHJldlN0YXRlIHx8IHN0YXRlLCBwcmV2aW91c0NvbnRleHQgPSBjb21wb25lbnQucHJldkNvbnRleHQgfHwgY29udGV4dCwgaXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSwgaW5pdGlhbEJhc2UgPSBpc1VwZGF0ZSB8fCBjb21wb25lbnQubmV4dEJhc2UsIG5leHRTaWJsaW5nID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UubmV4dFNpYmxpbmcsIGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLCBpbml0aWFsQ29tcG9uZW50ID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UuX2NvbXBvbmVudCwgaW5pdGlhbENoaWxkQ29tcG9uZW50ID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdCAgICAgICAgICAgIGlmIChpc1VwZGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnByb3BzID0gcHJldmlvdXNQcm9wcztcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHByZXZpb3VzU3RhdGU7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0ICAgICAgICAgICAgICAgIGlmICgyICE9PSBvcHRzICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUgJiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSAhMSkgc2tpcCA9ICEwOyBlbHNlIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZSkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0YXRlID0gc3RhdGU7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcmV2U3RhdGUgPSBjb21wb25lbnQucHJldkNvbnRleHQgPSBjb21wb25lbnQubmV4dEJhc2UgPSBudWxsO1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2RpcnR5ID0gITE7XG5cdCAgICAgICAgICAgIGlmICghc2tpcCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5yZW5kZXIpIHJlbmRlcmVkID0gY29tcG9uZW50LnJlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkKSkgcmVuZGVyZWQgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQocmVuZGVyZWQsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHRvVW5tb3VudCwgYmFzZSwgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZTtcblx0ICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGluc3QgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQsIGNoaWxkUHJvcHMgPSBnZXROb2RlUHJvcHMocmVuZGVyZWQpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3IgPT09IGNoaWxkQ29tcG9uZW50KSBzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCAxLCBjb250ZXh0KTsgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRvVW5tb3VudCA9IGluc3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluc3QgPSBjcmVhdGVDb21wb25lbnQoY2hpbGRDb21wb25lbnQsIGNoaWxkUHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnN0Ll9wYXJlbnRDb21wb25lbnQgPSBjb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fY29tcG9uZW50ID0gaW5zdDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMCwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudChpbnN0LCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZSA9IGluc3QuYmFzZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGNiYXNlID0gaW5pdGlhbEJhc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgdG9Vbm1vdW50ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0b1VubW91bnQpIGNiYXNlID0gY29tcG9uZW50Ll9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFzZSB8fCAxID09PSBvcHRzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYmFzZSkgY2Jhc2UuX2NvbXBvbmVudCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBkaWZmKGNiYXNlLCByZW5kZXJlZCwgY29udGV4dCwgbW91bnRBbGwgfHwgIWlzVXBkYXRlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEJhc2UgJiYgYmFzZSAhPT0gaW5pdGlhbEJhc2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVBhcmVudCAmJiBiYXNlICE9PSBiYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXRvVW5tb3VudCAmJiBpbml0aWFsQ29tcG9uZW50ID09PSBjb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHRvVW5tb3VudCkgdW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsICEwKTtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0ICAgICAgICAgICAgICAgIGlmIChiYXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCwgdCA9IGNvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICB3aGlsZSAodCA9IHQuX3BhcmVudENvbXBvbmVudCkgY29tcG9uZW50UmVmID0gdDtcblx0ICAgICAgICAgICAgICAgICAgICBiYXNlLl9jb21wb25lbnQgPSBjb21wb25lbnRSZWY7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBjb21wb25lbnRSZWYuY29uc3RydWN0b3I7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHQgICAgICAgICAgICAgICAgbW91bnRzLnVuc2hpZnQoY29tcG9uZW50KTtcblx0ICAgICAgICAgICAgICAgIGlmICghZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCFza2lwICYmIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUpIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0ICAgICAgICAgICAgdmFyIGZuLCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzO1xuXHQgICAgICAgICAgICBpZiAoY2IpIHdoaWxlIChmbiA9IGNiLnBvcCgpKSBmbi5jYWxsKGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIHJldHVybiByZW5kZXJlZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHQgICAgICAgIHZhciBjID0gZG9tICYmIGRvbS5fY29tcG9uZW50LCBvbGREb20gPSBkb20sIGlzRGlyZWN0T3duZXIgPSBjICYmIGRvbS5fY29tcG9uZW50Q29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lLCBpc093bmVyID0gaXNEaXJlY3RPd25lciwgcHJvcHMgPSBnZXROb2RlUHJvcHModm5vZGUpO1xuXHQgICAgICAgIHdoaWxlIChjICYmICFpc093bmVyICYmIChjID0gYy5fcGFyZW50Q29tcG9uZW50KSkgaXNPd25lciA9IGMuY29uc3RydWN0b3IgPT09IHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIGlmIChpc093bmVyICYmICghbW91bnRBbGwgfHwgYy5fY29tcG9uZW50KSkge1xuXHQgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMywgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBkb20gPSBjLmJhc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGMgJiYgIWlzRGlyZWN0T3duZXIpIHtcblx0ICAgICAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQoYywgITApO1xuXHQgICAgICAgICAgICAgICAgZG9tID0gb2xkRG9tID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdCAgICAgICAgICAgIGlmIChkb20gJiYgIWMubmV4dEJhc2UpIGMubmV4dEJhc2UgPSBkb207XG5cdCAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCAxLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdCAgICAgICAgICAgIGRvbSA9IGMuYmFzZTtcblx0ICAgICAgICAgICAgaWYgKG9sZERvbSAmJiBkb20gIT09IG9sZERvbSkge1xuXHQgICAgICAgICAgICAgICAgb2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZG9tO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudChjb21wb25lbnQsIHJlbW92ZSkge1xuXHQgICAgICAgIHZhciBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cdCAgICAgICAgY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gITA7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdCAgICAgICAgY29tcG9uZW50LmJhc2UgPSBudWxsO1xuXHQgICAgICAgIHZhciBpbm5lciA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHQgICAgICAgIGlmIChpbm5lcikgdW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTsgZWxzZSBpZiAoYmFzZSkge1xuXHQgICAgICAgICAgICBpZiAoYmFzZVtBVFRSX0tFWV0gJiYgYmFzZVtBVFRSX0tFWV0ucmVmKSBiYXNlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5uZXh0QmFzZSA9IGJhc2U7XG5cdCAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcblx0ICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoYmFzZSk7XG5cdCAgICAgICAgICAgICAgICBjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihiYXNlLmNoaWxkTm9kZXMsICFyZW1vdmUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYobnVsbCk7XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdGhpcy5fZGlydHkgPSAhMDtcblx0ICAgICAgICB0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gITE7XG5cdCAgICAgICAgdGhpcy5wcmV2U3RhdGUgPSB0aGlzLnByZXZQcm9wcyA9IHRoaXMucHJldkNvbnRleHQgPSB0aGlzLmJhc2UgPSB0aGlzLm5leHRCYXNlID0gdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gdGhpcy5fY29tcG9uZW50ID0gdGhpcy5fX3JlZiA9IHRoaXMuX19rZXkgPSB0aGlzLl9saW5rZWRTdGF0ZXMgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwge307XG5cdCAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVuZGVyKHZub2RlLCBwYXJlbnQsIG1lcmdlKSB7XG5cdCAgICAgICAgcmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgITEsIHBhcmVudCk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGNDYWNoZSA9IHt9O1xuXHQgICAgdmFyIHRvTG93ZXJDYXNlID0gZnVuY3Rpb24ocykge1xuXHQgICAgICAgIHJldHVybiBsY0NhY2hlW3NdIHx8IChsY0NhY2hlW3NdID0gcy50b0xvd2VyQ2FzZSgpKTtcblx0ICAgIH07XG5cdCAgICB2YXIgcmVzb2x2ZWQgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUoKTtcblx0ICAgIHZhciBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXNvbHZlZC50aGVuKGYpO1xuXHQgICAgfSA6IHNldFRpbWVvdXQ7XG5cdCAgICB2YXIgb3B0aW9ucyA9IHtcblx0ICAgICAgICB2bm9kZTogZW1wdHlcblx0ICAgIH07XG5cdCAgICB2YXIgU0hBUkVEX1RFTVBfQVJSQVkgPSBbXTtcblx0ICAgIHZhciBFTVBUWSA9IHt9O1xuXHQgICAgdmFyIEFUVFJfS0VZID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbC5mb3IoJ3ByZWFjdGF0dHInKSA6ICdfX3ByZWFjdGF0dHJfJztcblx0ICAgIHZhciBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHQgICAgICAgIGJveEZsZXg6IDEsXG5cdCAgICAgICAgYm94RmxleEdyb3VwOiAxLFxuXHQgICAgICAgIGNvbHVtbkNvdW50OiAxLFxuXHQgICAgICAgIGZpbGxPcGFjaXR5OiAxLFxuXHQgICAgICAgIGZsZXg6IDEsXG5cdCAgICAgICAgZmxleEdyb3c6IDEsXG5cdCAgICAgICAgZmxleFBvc2l0aXZlOiAxLFxuXHQgICAgICAgIGZsZXhTaHJpbms6IDEsXG5cdCAgICAgICAgZmxleE5lZ2F0aXZlOiAxLFxuXHQgICAgICAgIGZvbnRXZWlnaHQ6IDEsXG5cdCAgICAgICAgbGluZUNsYW1wOiAxLFxuXHQgICAgICAgIGxpbmVIZWlnaHQ6IDEsXG5cdCAgICAgICAgb3BhY2l0eTogMSxcblx0ICAgICAgICBvcmRlcjogMSxcblx0ICAgICAgICBvcnBoYW5zOiAxLFxuXHQgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsXG5cdCAgICAgICAgd2lkb3dzOiAxLFxuXHQgICAgICAgIHpJbmRleDogMSxcblx0ICAgICAgICB6b29tOiAxXG5cdCAgICB9O1xuXHQgICAgdmFyIGl0ZW1zID0gW107XG5cdCAgICB2YXIgaXRlbXNPZmZsaW5lID0gW107XG5cdCAgICB2YXIgbm9kZXMgPSB7fTtcblx0ICAgIHZhciBtb3VudHMgPSBbXTtcblx0ICAgIHZhciBkaWZmTGV2ZWwgPSAwO1xuXHQgICAgdmFyIGlzU3ZnTW9kZSA9ICExO1xuXHQgICAgdmFyIGNvbXBvbmVudHMgPSB7fTtcblx0ICAgIGV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cdCAgICAgICAgbGlua1N0YXRlOiBmdW5jdGlvbihrZXksIGV2ZW50UGF0aCkge1xuXHQgICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLCBjYWNoZUtleSA9IGtleSArICd8JyArIGV2ZW50UGF0aDtcblx0ICAgICAgICAgICAgcmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBzID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0ICAgICAgICAgICAgZXh0ZW5kKHMsIGlzRnVuY3Rpb24oc3RhdGUpID8gc3RhdGUocywgdGhpcy5wcm9wcykgOiBzdGF0ZSk7XG5cdCAgICAgICAgICAgIGlmIChjYWxsYmFjaykgKHRoaXMuX3JlbmRlckNhbGxiYWNrcyA9IHRoaXMuX3JlbmRlckNhbGxiYWNrcyB8fCBbXSkucHVzaChjYWxsYmFjayk7XG5cdCAgICAgICAgICAgIHRyaWdnZXJDb21wb25lbnRSZW5kZXIodGhpcyk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBmb3JjZVVwZGF0ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudCh0aGlzLCAyKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgZXhwb3J0cy5oID0gaDtcblx0ICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gY2xvbmVFbGVtZW50O1xuXHQgICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG5cdCAgICBleHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblx0ICAgIGV4cG9ydHMucmVyZW5kZXIgPSByZXJlbmRlcjtcblx0ICAgIGV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdH0pO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykuc2V0SW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihzZXRJbW1lZGlhdGUsIGNsZWFySW1tZWRpYXRlKSB7dmFyIG5leHRUaWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5uZXh0VGljaztcblx0dmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXHR2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cdHZhciBpbW1lZGlhdGVJZHMgPSB7fTtcblx0dmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cdFxuXHQvLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXHRcblx0ZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xuXHR9O1xuXHRleHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG5cdH07XG5cdGV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cblx0ZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cdFxuXHRmdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG5cdCAgdGhpcy5faWQgPSBpZDtcblx0ICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcblx0fVxuXHRUaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5cdFRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xuXHR9O1xuXHRcblx0Ly8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5cdGV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcblx0fTtcblx0XG5cdGV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG5cdH07XG5cdFxuXHRleHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0XG5cdCAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG5cdCAgaWYgKG1zZWNzID49IDApIHtcblx0ICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcblx0ICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcblx0ICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcblx0ICAgIH0sIG1zZWNzKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cblx0ZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBzZXRJbW1lZGlhdGUgOiBmdW5jdGlvbihmbikge1xuXHQgIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuXHQgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XG5cdCAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cdFxuXHQgIG5leHRUaWNrKGZ1bmN0aW9uIG9uTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuXHQgICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG5cdCAgICAgIC8vIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vY2FsbC1hcHBseS1zZWd1XG5cdCAgICAgIGlmIChhcmdzKSB7XG5cdCAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm4uY2FsbChudWxsKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBQcmV2ZW50IGlkcyBmcm9tIGxlYWtpbmdcblx0ICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBpZDtcblx0fTtcblx0XG5cdGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcblx0ICBkZWxldGUgaW1tZWRpYXRlSWRzW2lkXTtcblx0fTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMykuc2V0SW1tZWRpYXRlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLmNsZWFySW1tZWRpYXRlKSlcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHRcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHRcblx0Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG5cdC8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuXHQvLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG5cdC8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cdFxuXHR2YXIgY2FjaGVkU2V0VGltZW91dDtcblx0dmFyIGNhY2hlZENsZWFyVGltZW91dDtcblx0XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgdHJ5IHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuXHQgICAgfVxuXHQgIH1cblx0ICB0cnkge1xuXHQgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdH0gKCkpXG5cdHZhciBxdWV1ZSA9IFtdO1xuXHR2YXIgZHJhaW5pbmcgPSBmYWxzZTtcblx0dmFyIGN1cnJlbnRRdWV1ZTtcblx0dmFyIHF1ZXVlSW5kZXggPSAtMTtcblx0XG5cdGZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcblx0ICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgIH1cblx0ICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBkcmFpblF1ZXVlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG5cdCAgICBpZiAoZHJhaW5pbmcpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGRyYWluUXVldWUsIDApO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuXHRmdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcblx0ICAgIHRoaXMuZnVuID0gZnVuO1xuXHQgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuXHR9XG5cdEl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuXHR9O1xuXHRwcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xuXHRwcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xuXHRwcm9jZXNzLmVudiA9IHt9O1xuXHRwcm9jZXNzLmFyZ3YgPSBbXTtcblx0cHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cdHByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0cHJvY2Vzcy5vbiA9IG5vb3A7XG5cdHByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLm9uY2UgPSBub29wO1xuXHRwcm9jZXNzLm9mZiA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5cdHByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cdFxuXHRwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbyA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yUmlnaHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JSaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvclJpZ2h0KTtcblx0XG5cdHZhciBfY3VydmVFZGl0b3JMZWZ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvckxlZnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3VydmVFZGl0b3JMZWZ0KTtcblx0XG5cdHZhciBfaWNvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX2ljb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25zKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3IgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEN1cnZlRWRpdG9yLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ3VydmVFZGl0b3IoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDdXJ2ZUVkaXRvcik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDdXJ2ZUVkaXRvcikuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDdXJ2ZUVkaXRvciwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcblx0ICAgICAgdmFyIHN0eWxlID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3InXSwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb25zMi5kZWZhdWx0LCBudWxsKSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JMZWZ0Mi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmVFZGl0b3JSaWdodDIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHlsZShzdGF0ZSkge1xuXHQgICAgICB2YXIgWF9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgNTM7XG5cdCAgICAgIHZhciBZX1NJWkUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyAyICogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QQURESU5HO1xuXHQgICAgICB2YXIgcmVzaXplID0gc3RhdGUucmVzaXplO1xuXHQgICAgICB2YXIgdGVtcF90b3AgPSByZXNpemUudGVtcF90b3A7XG5cdCAgICAgIHZhciB0ZW1wX2JvdHRvbSA9IHJlc2l6ZS50ZW1wX2JvdHRvbTtcblx0ICAgICAgdmFyIHRlbXBfcmlnaHQgPSByZXNpemUudGVtcF9yaWdodDtcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9IHJlc2l6ZS50cmFuc2xhdGU7XG5cdFxuXHRcblx0ICAgICAgdGVtcF90b3AgKz0gcmVzaXplLnRvcDtcblx0ICAgICAgdGVtcF9ib3R0b20gKz0gcmVzaXplLmJvdHRvbTtcblx0ICAgICAgdGVtcF9yaWdodCArPSByZXNpemUucmlnaHQ7XG5cdFxuXHQgICAgICAvLyBjb25zdHJhaW4gbWluIGhlaWdodFxuXHQgICAgICBpZiAoWV9TSVpFIC0gdGVtcF90b3AgPCBZX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3RvcCA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKFlfU0laRSArIHRlbXBfYm90dG9tIDwgWV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9ib3R0b20gPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChYX1NJWkUgKyB0ZW1wX3JpZ2h0IDwgWF9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF9yaWdodCA9IDA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRlbXBfdG9wID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfdG9wLCAtMSk7XG5cdCAgICAgIHRlbXBfYm90dG9tID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfYm90dG9tKTtcblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSAnaGVpZ2h0OiAnICsgKFlfU0laRSAtIHRlbXBfdG9wICsgdGVtcF9ib3R0b20pICsgJ3B4Jyxcblx0ICAgICAgICAgIHdpZHRoID0gJ3dpZHRoOiAnICsgKFhfU0laRSArIHRlbXBfcmlnaHQpICsgJ3B4Jyxcblx0ICAgICAgICAgIHggPSByZXNpemUueCArIHJlc2l6ZS50ZW1wWCxcblx0ICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcblx0ICAgICAgICAgIHRyYW5zZm9ybSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgeCArICdweCwgJyArICh5ICsgdGVtcF90b3ApICsgJ3B4KSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zZm9ybSArICc7ICcgKyB0cmFuc2Zvcm0gKyAnOyAnICsgd2lkdGggKyAnOyAnICsgaGVpZ2h0ICsgJzsnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFJywgZGF0YTogeyB4OiB4LCB5OiB5IH0gfSk7XG5cdCAgICAgIH0pLm9uKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeDogeCwgeTogeSB9IH0pO1xuXHQgICAgICB9KS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHRoaXMuX2FkZEtleVVwKCk7XG5cdCAgICAgIHN0b3JlLnN1YnNjcmliZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcykpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19hZGRLZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEtleVVwKCkge1xuXHQgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uS2V5VXApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19vbktleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfb25LZXlVcChlKSB7XG5cdCAgICAgIGlmICghZS5hbHRLZXkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG5cdCAgICAgICAgY2FzZSA5MDpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKF9yZWR1eFVuZG8uQWN0aW9uQ3JlYXRvcnMudW5kbygpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIDg4OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goX3JlZHV4VW5kby5BY3Rpb25DcmVhdG9ycy5yZWRvKCkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIGNhc2UgNjg6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZUVkaXRvcjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvcjtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblx0dmFyIHRvT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0ICAsICRnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuXHQgICAgcmV0dXJuICRnZXRQcm90b3R5cGVPZih0b09iamVjdChpdCkpO1xuXHQgIH07XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxuXHR2YXIgZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuXHQgIHJldHVybiBpdDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxuXHR2YXIgaGFzICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgdG9PYmplY3QgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCBjb3JlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0ICAsIGZhaWxzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuXHQgIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cblx0ICAgICwgZXhwID0ge307XG5cdCAgZXhwW0tFWV0gPSBleGVjKGZuKTtcblx0ICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cdHZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcblx0ICBhRnVuY3Rpb24oZm4pO1xuXHQgIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG5cdCAgc3dpdGNoKGxlbmd0aCl7XG5cdCAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKVxuXHQgICwgY3JlYXRlRGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHR9IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuXHQgIHJldHVybiBvYmplY3Q7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG5cdCAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXygyOCkoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19yZXF1aXJlX18oMjkpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiAhIWV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpLmRvY3VtZW50XG5cdCAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG5cdCAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdC8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG5cdC8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuXHQgIHZhciBmbiwgdmFsO1xuXHQgIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG5cdCAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0ICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHQgICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzNSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXygyNyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMjMpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblx0XG5cdHZhciBfc3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHR2YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9IDogZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KS5mKCdpdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSh0cnVlKTtcblx0XG5cdC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBpbmRleCA9IHRoaXMuX2lcblx0ICAgICwgcG9pbnQ7XG5cdCAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcblx0ICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG5cdCAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG5cdCAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4xLjQgVG9JbnRlZ2VyXG5cdHZhciBjZWlsICA9IE1hdGguY2VpbFxuXHQgICwgZmxvb3IgPSBNYXRoLmZsb29yO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBMSUJSQVJZICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdCAgLCBoaWRlICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpXG5cdCAgLCBJdGVyYXRvcnMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cdFxuXHR2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuXHQgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblx0ICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG5cdCAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2goa2luZCl7XG5cdCAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICB9O1xuXHQgIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG5cdCAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuXHQgICAgLCBWQUxVRVNfQlVHID0gZmFsc2Vcblx0ICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG5cdCAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cblx0ICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG5cdCAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG5cdCAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG5cdCAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmKCRhbnlOYXRpdmUpe1xuXHQgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcblx0ICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuXHQgICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcblx0ICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG5cdCAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuXHQgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG5cdCAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuXHQgIH1cblx0ICAvLyBQbHVnIGZvciBsaWJyYXJ5XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG5cdCAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcblx0ICBpZihERUZBVUxUKXtcblx0ICAgIG1ldGhvZHMgPSB7XG5cdCAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG5cdCAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG5cdCAgICB9O1xuXHQgICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG5cdCAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjcmVhdGUgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpXG5cdCAgLCBkZXNjcmlwdG9yICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXHRcblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMikoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcblx0ICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdHZhciBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCBkUHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCdJRV9QUk9UTycpXG5cdCAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHQvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cdHZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSgnaWZyYW1lJylcblx0ICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG5cdCAgICAsIGx0ICAgICA9ICc8J1xuXHQgICAgLCBndCAgICAgPSAnPidcblx0ICAgICwgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg2MCkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuXHQgIHJldHVybiBjcmVhdGVEaWN0KCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYoTyAhPT0gbnVsbCl7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcblx0ICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcblx0ICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA1MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMylcblx0ICAsIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGkgPSAwXG5cdCAgICAsIFA7XG5cdCAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxuXHR2YXIgJGtleXMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBoYXMgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgdG9JT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIGFycmF5SW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpKGZhbHNlKVxuXHQgICwgSUVfUFJPVE8gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoJ0lFX1BST1RPJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGtleTtcblx0ICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcblx0ICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG5cdHZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NClcblx0ICAsIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcblx0Ly8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpXG5cdCAgLCB0b0xlbmd0aCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KVxuXHQgICwgdG9JbmRleCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuXHQgIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG5cdCAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuXHQgICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuXHQgICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG5cdCAgICAgICwgdmFsdWU7XG5cdCAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG5cdCAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG5cdCAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcblx0ICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG5cdCAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG5cdCAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcblx0ICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuXHQgICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjE1IFRvTGVuZ3RoXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKVxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG5cdCAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuXHQgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcblx0KS5zcGxpdCgnLCcpO1xuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSkuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5mXG5cdCAgLCBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MikoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpKCd3a3MnKVxuXHQgICwgdWlkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCAgLCBTeW1ib2wgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSkuU3ltYm9sXG5cdCAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cdFxuXHQkZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHR2YXIgZ2xvYmFsICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCAgLCBoaWRlICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0ICAsIEl0ZXJhdG9ycyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KVxuXHQgICwgVE9fU1RSSU5HX1RBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0Zm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG5cdCAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuXHQgICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG5cdCAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuXHQgIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSlcblx0ICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KVxuXHQgICwgSXRlcmF0b3JzICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHQvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG5cdC8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG5cdC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcblx0Ly8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCkoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcblx0ICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0ICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuXHQvLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcblx0fSwgZnVuY3Rpb24oKXtcblx0ICB2YXIgTyAgICAgPSB0aGlzLl90XG5cdCAgICAsIGtpbmQgID0gdGhpcy5fa1xuXHQgICAgLCBpbmRleCA9IHRoaXMuX2krKztcblx0ICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG5cdCAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuIHN0ZXAoMSk7XG5cdCAgfVxuXHQgIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuXHQgIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuXHQgIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcblx0fSwgJ3ZhbHVlcycpO1xuXHRcblx0Ly8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuXHRJdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXHRcblx0YWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vKioqLyB9LFxuLyogNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcblx0ICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oNjkpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuU3ltYm9sO1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKVxuXHQgICwgREVTQ1JJUFRPUlMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KVxuXHQgICwgTUVUQSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKS5LRVlcblx0ICAsICRmYWlscyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOClcblx0ICAsIHNoYXJlZCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNClcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSlcblx0ICAsIHVpZCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNilcblx0ICAsIHdrcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Milcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nylcblx0ICAsIHdrc0RlZmluZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Milcblx0ICAsIGtleU9mICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mylcblx0ICAsIGVudW1LZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NClcblx0ICAsIGlzQXJyYXkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nylcblx0ICAsIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsIF9jcmVhdGUgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSlcblx0ICAsIGdPUE5FeHQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OClcblx0ICAsICRHT1BEICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0ICAsICREUCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMylcblx0ICAsICRrZXlzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuXHQgICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuXHQgICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcblx0ICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuXHQgICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuXHQgICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcblx0ICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcblx0ICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcblx0ICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG5cdCAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG5cdCAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jylcblx0ICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcblx0ICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcblx0ICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cblx0ICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuXHQgICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcblx0Ly8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG5cdHZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG5cdHZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG5cdCAgfSkpLmEgIT0gNztcblx0fSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcblx0ICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcblx0ICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG5cdCAgZFAoaXQsIGtleSwgRCk7XG5cdCAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuXHR9IDogZFA7XG5cdFxuXHR2YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG5cdCAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcblx0ICBzeW0uX2sgPSB0YWc7XG5cdCAgcmV0dXJuIHN5bTtcblx0fTtcblx0XG5cdHZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcblx0fSA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xuXHR9O1xuXHRcblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGFuT2JqZWN0KEQpO1xuXHQgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcblx0ICAgIGlmKCFELmVudW1lcmFibGUpe1xuXHQgICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcblx0ICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG5cdCAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuXHQgICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcblx0ICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcblx0fTtcblx0dmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcblx0ICAgICwgaSAgICA9IDBcblx0ICAgICwgbCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcblx0ICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG5cdH07XG5cdHZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuXHQgIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG5cdCAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG5cdCAgaXQgID0gdG9JT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG5cdCAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuXHQgIHJldHVybiBEO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuXHQgIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cblx0ICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuXHQgICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0Ly8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5cdGlmKCFVU0VfTkFUSVZFKXtcblx0ICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG5cdCAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcblx0ICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuXHQgICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdCAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcblx0ICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuXHQgICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHQgICAgfTtcblx0ICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuXHQgICAgcmV0dXJuIHdyYXAodGFnKTtcblx0ICB9O1xuXHQgIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcblx0ICAgIHJldHVybiB0aGlzLl9rO1xuXHQgIH0pO1xuXHRcblx0ICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0ICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oNzkpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblx0XG5cdCAgaWYoREVTQ1JJUFRPUlMgJiYgIV9fd2VicGFja19yZXF1aXJlX18oNDUpKXtcblx0ICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuXHQgIH1cblx0XG5cdCAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcblx0ICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cdFxuXHRmb3IodmFyIHN5bWJvbHMgPSAoXG5cdCAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcblx0ICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG5cdCkuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcblx0ICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcblx0ICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcblx0ICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcblx0ICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG5cdCAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcblx0ICB9LFxuXHQgIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuXHQgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG5cdCAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcblx0ICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcblx0ICB9LFxuXHQgIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcblx0ICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG5cdH0pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcblx0ICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdCAgY3JlYXRlOiAkY3JlYXRlLFxuXHQgIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQgIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG5cdCAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcblx0ICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcblx0ICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG5cdCAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuXHQgIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdCAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuXHQgIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xuXHR9KTtcblx0XG5cdC8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuXHQkSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcblx0ICB2YXIgUyA9ICRTeW1ib2woKTtcblx0ICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuXHQgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuXHQgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG5cdCAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcblx0fSkpLCAnSlNPTicsIHtcblx0ICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG5cdCAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcblx0ICAgIHZhciBhcmdzID0gW2l0XVxuXHQgICAgICAsIGkgICAgPSAxXG5cdCAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcblx0ICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG5cdCAgICByZXBsYWNlciA9IGFyZ3NbMV07XG5cdCAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcblx0ICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0ICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG5cdCAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuXHQgICAgfTtcblx0ICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcblx0ICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0Ly8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuXHQkU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuXHQvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5cdHNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcblx0Ly8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuXHQvLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuLyoqKi8gfSxcbi8qIDcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgTUVUQSAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSgnbWV0YScpXG5cdCAgLCBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBoYXMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpXG5cdCAgLCBzZXREZXNjICA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpLmZcblx0ICAsIGlkICAgICAgID0gMDtcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0dmFyIEZSRUVaRSA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG5cdH0pO1xuXHR2YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcblx0ICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuXHQgICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcblx0ICB9fSk7XG5cdH07XG5cdHZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcblx0ICBpZighaGFzKGl0LCBNRVRBKSl7XG5cdCAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuXHQgICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG5cdCAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXHQgICAgc2V0TWV0YShpdCk7XG5cdCAgLy8gcmV0dXJuIG9iamVjdCBJRFxuXHQgIH0gcmV0dXJuIGl0W01FVEFdLmk7XG5cdH07XG5cdHZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuXHQgICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcblx0ICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfSByZXR1cm4gaXRbTUVUQV0udztcblx0fTtcblx0Ly8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG5cdHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIEtFWTogICAgICBNRVRBLFxuXHQgIE5FRUQ6ICAgICBmYWxzZSxcblx0ICBmYXN0S2V5OiAgZmFzdEtleSxcblx0ICBnZXRXZWFrOiAgZ2V0V2Vhayxcblx0ICBvbkZyZWV6ZTogb25GcmVlemVcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQgICwgY29yZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuXHQgICwgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KVxuXHQgICwgd2tzRXh0ICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHQgICwgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKS5mO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuXHQgIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG5cdCAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdldEtleXMgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpXG5cdCAgLCB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpbmRleCAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG5cdHZhciBnZXRLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUFMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KVxuXHQgICwgcElFICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG5cdCAgaWYoZ2V0U3ltYm9scyl7XG5cdCAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG5cdCAgICAgICwgaXNFbnVtICA9IHBJRS5mXG5cdCAgICAgICwgaSAgICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuLyoqKi8gfSxcbi8qIDc2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG5cdCAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xuXHR2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIGdPUE4gICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpLmZcblx0ICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXHRcblx0dmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcblx0ICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblx0XG5cdHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGdPUE4oaXQpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblx0dmFyICRrZXlzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXHQgICwgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXHRcblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHBJRSAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMClcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMilcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNilcblx0ICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcblx0ICBPID0gdG9JT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuXHQgICAgcmV0dXJuIGdPUEQoTywgUCk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzIpKCdhc3luY0l0ZXJhdG9yJyk7XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MikoJ29ic2VydmFibGUnKTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcblx0ICB9XG5cdFxuXHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG5cdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHQgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG5cdCAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHQkZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogX193ZWJwYWNrX3JlcXVpcmVfXyg4OCkuc2V0fSk7XG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHR2YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApKEZ1bmN0aW9uLmNhbGwsIF9fd2VicGFja19yZXF1aXJlX18oODApLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG5cdCAgICAgICAgc2V0KHRlc3QsIFtdKTtcblx0ICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcblx0ICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG5cdCAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuXHQgICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG5cdCAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuXHQgICAgICAgIHJldHVybiBPO1xuXHQgICAgICB9O1xuXHQgICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcblx0ICBjaGVjazogY2hlY2tcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oOTApLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cdHZhciAkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuT2JqZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcblx0ICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KX0pO1xuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgQ1VSVkVfU0laRSA9IDM1MDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIENVUlZFX1NJWkU6IENVUlZFX1NJWkUsXG5cdCAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRSAvIDEwMCxcblx0ICBDVVJWRV9QQURESU5HOiAxMFxuXHR9O1xuXG4vKioqLyB9LFxuLyogOTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuXHQgKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuXHQgKlxuXHQgKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cblx0KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcblx0dmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcblx0dmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblx0dmFyIGFicyA9IE1hdGguYWJzO1xuXHR2YXIgbm93ID0gRGF0ZS5ub3c7XG5cdFxuXHQvKipcblx0ICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICogQHJldHVybnMge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG5cdCAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuXHQgKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cblx0ICogQHBhcmFtIHsqfEFycmF5fSBhcmdcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdCAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICovXG5cdGZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuXHQgICAgdmFyIGk7XG5cdFxuXHQgICAgaWYgKCFvYmopIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG9iai5mb3JFYWNoKSB7XG5cdCAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuXHQgICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvciAoaSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG5cdCAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcblx0ICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG5cdCAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuXHQgICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXHRcblx0ICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcblx0ICAgICAgICBpZiAobG9nKSB7XG5cdCAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcblx0ICovXG5cdHZhciBhc3NpZ247XG5cdGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuXHQgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG5cdCAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcblx0ICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cdCAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXHR9IGVsc2Uge1xuXHQgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGV4dGVuZCBvYmplY3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3JjXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuXHQgICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGVzdDtcblx0fSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cblx0ICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcblx0ICogQHBhcmFtIHtPYmplY3R9IGRlc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IHNyY1xuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG5cdCAqL1xuXHR2YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG5cdH0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cdFxuXHQvKipcblx0ICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2Vcblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuXHQgICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG5cdCAgICAgICAgY2hpbGRQO1xuXHRcblx0ICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuXHQgICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG5cdCAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cdFxuXHQgICAgaWYgKHByb3BlcnRpZXMpIHtcblx0ICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cblx0ICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuXHQgICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuXHQgICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWw7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuXHQgKiBAcGFyYW0geyp9IHZhbDFcblx0ICogQHBhcmFtIHsqfSB2YWwyXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuXHQgICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2Vcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG5cdCAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuXHQgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHQvKipcblx0ICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgKi9cblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuXHQgICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcblx0ICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcblx0ICogQG1ldGhvZCBoYXNQYXJlbnRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcblx0ICovXG5cdGZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcblx0ICAgIHdoaWxlIChub2RlKSB7XG5cdCAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcblx0ICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xuXHR9XG5cdFxuXHQvKipcblx0ICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0clxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG5cdCAqL1xuXHRmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcblx0ICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBzcmNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcblx0ICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG5cdCAqL1xuXHRmdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG5cdCAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuXHQgICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcblx0ICogQHJldHVybnMge0FycmF5fVxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BcnJheShvYmopIHtcblx0ICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuXHQgKi9cblx0ZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcblx0ICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICB2YXIgdmFsdWVzID0gW107XG5cdCAgICB2YXIgaSA9IDA7XG5cdFxuXHQgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuXHQgICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcblx0ICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHNvcnQpIHtcblx0ICAgICAgICBpZiAoIWtleSkge1xuXHQgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHRzO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcblx0ICovXG5cdGZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcblx0ICAgIHZhciBwcmVmaXgsIHByb3A7XG5cdCAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXHRcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuXHQgICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcblx0ICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblx0XG5cdCAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdW5pcXVlIGlkXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG5cdCAqL1xuXHR2YXIgX3VuaXF1ZUlkID0gMTtcblx0ZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG5cdCAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG5cdCAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG5cdCAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG5cdH1cblx0XG5cdHZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cdFxuXHR2YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xuXHR2YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG5cdHZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXHRcblx0dmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xuXHR2YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcblx0dmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xuXHR2YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0Jztcblx0XG5cdHZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cdFxuXHR2YXIgSU5QVVRfU1RBUlQgPSAxO1xuXHR2YXIgSU5QVVRfTU9WRSA9IDI7XG5cdHZhciBJTlBVVF9FTkQgPSA0O1xuXHR2YXIgSU5QVVRfQ0FOQ0VMID0gODtcblx0XG5cdHZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG5cdHZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG5cdHZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xuXHR2YXIgRElSRUNUSU9OX1VQID0gODtcblx0dmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cdFxuXHR2YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcblx0dmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xuXHR2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXHRcblx0dmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcblx0dmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHtJbnB1dH1cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcblx0ICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0ICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXHRcblx0ICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuXHQgICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuXHQgICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcblx0ICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuXHQgICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5pbml0KCk7XG5cdFxuXHR9XG5cdFxuXHRJbnB1dC5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG5cdCAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuXHQgKiBAcmV0dXJucyB7SW5wdXR9XG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcblx0ICAgIHZhciBUeXBlO1xuXHQgICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblx0XG5cdCAgICBpZiAoaW5wdXRDbGFzcykge1xuXHQgICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG5cdCAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuXHQgICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcblx0ICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcblx0ICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcblx0ICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuXHQgICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cdCAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblx0XG5cdCAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuXHQgICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblx0XG5cdCAgICBpZiAoaXNGaXJzdCkge1xuXHQgICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG5cdCAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcblx0ICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblx0XG5cdCAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcblx0ICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG5cdCAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblx0XG5cdCAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG5cdCAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuXHQgICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG5cdCAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcblx0ICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblx0XG5cdCAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG5cdCAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG5cdCAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG5cdCAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcblx0ICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblx0XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcblx0ICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuXHQgICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cdFxuXHQgICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cdCAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblx0XG5cdCAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG5cdCAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXHRcblx0ICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcblx0ICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXHRcblx0ICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG5cdCAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXHRcblx0ICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuXHQgICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblx0XG5cdCAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXHRcblx0ICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG5cdCAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcblx0ICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG5cdCAgICB9XG5cdCAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuXHQgICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG5cdCAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cdFxuXHQgICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG5cdCAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcblx0ICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcblx0ICAgICAgICAgICAgeDogY2VudGVyLngsXG5cdCAgICAgICAgICAgIHk6IGNlbnRlci55XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcblx0ICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG5cdCAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuXHQgICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuXHQgICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXHRcblx0ICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG5cdCAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuXHQgICAgICAgIHZlbG9jaXR5WCA9IHYueDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG5cdCAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG5cdCAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblx0XG5cdCAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuXHQgICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcblx0ICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcblx0ICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcblx0ICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuXHQgICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuXHQgICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuXHQgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuXHQgICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG5cdCAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcblx0ICAgIHZhciBwb2ludGVycyA9IFtdO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcblx0ICAgICAgICBwb2ludGVyc1tpXSA9IHtcblx0ICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG5cdCAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuXHQgICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcblx0ICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG5cdCAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG5cdCAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcblx0ICovXG5cdGZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuXHQgICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXHRcblx0ICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG5cdCAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcblx0ICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuXHQgICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcblx0ICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcblx0ICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcblx0ICovXG5cdGZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG5cdCAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuXHQgICAgaWYgKHggPT09IHkpIHtcblx0ICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcblx0ICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHRcblx0ICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gcDFcblx0ICogQHBhcmFtIHtPYmplY3R9IHAyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcblx0ICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuXHQgICAgaWYgKCFwcm9wcykge1xuXHQgICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG5cdCAgICB9XG5cdCAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcblx0ICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXHQgICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG5cdCAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuXHQgKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcblx0ICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcblx0ICovXG5cdGZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcblx0ICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcblx0fVxuXHRcblx0dmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcblx0ICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG5cdCAgICBtb3VzZXVwOiBJTlBVVF9FTkRcblx0fTtcblx0XG5cdHZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xuXHR2YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cdFxuXHQvKipcblx0ICogTW91c2UgZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAgICAgKi9cblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cdFxuXHQgICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG5cdCAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG5cdCAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG5cdCAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuXHQgICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuXHQgICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHQvLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxuXHR2YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcblx0ICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAzOiBJTlBVVF9UWVBFX1BFTixcblx0ICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG5cdCAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcblx0fTtcblx0XG5cdHZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcblx0dmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cdFxuXHQvLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcblx0aWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuXHQgICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcblx0ICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuXHQgICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG5cdH1cblx0XG5cdGluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuXHQgICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcblx0ICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblx0XG5cdCAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cdFxuXHQgICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cdCAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblx0XG5cdCAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuXHQgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG5cdCAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuXHQgICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG5cdCAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3Zlcilcblx0ICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcblx0ICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuXHQgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcblx0ICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHR2YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0Jztcblx0dmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBUb3VjaCBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuXHQgICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuXHQgICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuXHQgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHRcblx0ICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG5cdCAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcblx0ICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEB0aGlzIHtUb3VjaElucHV0fVxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuXHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuXHQgKi9cblx0ZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuXHQgICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG5cdCAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXHRcblx0ICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcblx0fVxuXHRcblx0dmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcblx0ICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuXHQgICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcblx0ICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcblx0fTtcblx0XG5cdHZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblx0XG5cdC8qKlxuXHQgKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcblx0ICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cdFxuXHQgICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHQgICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblx0ICAgICAgICBpZiAoIXRvdWNoZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBAdGhpcyB7VG91Y2hJbnB1dH1cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cblx0ICovXG5cdGZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcblx0ICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcblx0ICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblx0XG5cdCAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuXHQgICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpLFxuXHQgICAgICAgIHRhcmdldFRvdWNoZXMsXG5cdCAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcblx0ICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuXHQgICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXHRcblx0ICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcblx0ICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuXHQgICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgLy8gY29sbGVjdCB0b3VjaGVzXG5cdCAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG5cdCAgICBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuXHQgICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG5cdCAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFtcblx0ICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcblx0ICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG5cdCAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcblx0ICAgIF07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcblx0ICpcblx0ICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG5cdCAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRcblx0dmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xuXHR2YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblx0XG5cdGZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcblx0ICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXHQgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cdFxuXHQgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuXHQgICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xuXHR9XG5cdFxuXHRpbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcblx0ICAgIC8qKlxuXHQgICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuXHQgICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcblx0ICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cdFxuXHQgICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG5cdCAgICAgICAgaWYgKGlzVG91Y2gpIHtcblx0ICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuXHQgICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcblx0ICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuXHQgICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG5cdCAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuXHQgICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblx0XG5cdCAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcblx0ICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuXHQgICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuXHQgICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuXHQgICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuXHQgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG5cdCAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG5cdCAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG5cdCAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0dmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG5cdHZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cdFxuXHQvLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG5cdHZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcblx0dmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcblx0dmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14Jztcblx0dmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXHRcblx0LyoqXG5cdCAqIFRvdWNoIEFjdGlvblxuXHQgKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcblx0ICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cdCAgICB0aGlzLnNldCh2YWx1ZSk7XG5cdH1cblx0XG5cdFRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG5cdCAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuXHQgICAgICovXG5cdCAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3Ncblx0ICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBhY3Rpb25zID0gW107XG5cdCAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcblx0ICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3Jcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblx0XG5cdCAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG5cdCAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuXHQgICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcblx0ICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG5cdCAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cdFxuXHQgICAgICAgIGlmIChoYXNOb25lKSB7XG5cdCAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cdFxuXHQgICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuXHQgICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcblx0ICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaGFzTm9uZSB8fFxuXHQgICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcblx0ICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcblx0ICAgICAqL1xuXHQgICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcblx0ICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuXHQgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0ZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuXHQgICAgLy8gbm9uZVxuXHQgICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG5cdCAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cdFxuXHQgICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG5cdCAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcblx0ICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuXHQgICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcblx0ICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcGFuLXggT1IgcGFuLXlcblx0ICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcblx0ICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBtYW5pcHVsYXRpb25cblx0ICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuXHQgICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcblx0ICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuXHQgICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuXHQgICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblx0XG5cdCAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG5cdCAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuXHQgICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdG91Y2hNYXA7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG5cdCAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cblx0ICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG5cdCAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuXHQgKlxuXHQgKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG5cdCAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG5cdCAqXG5cdCAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cblx0ICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cblx0ICpcblx0ICogICAgICAgICAgICAgICBQb3NzaWJsZVxuXHQgKiAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuXHQgKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcblx0ICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuXHQgKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuXHQgKi9cblx0dmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcblx0dmFyIFNUQVRFX0JFR0FOID0gMjtcblx0dmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xuXHR2YXIgU1RBVEVfRU5ERUQgPSA4O1xuXHR2YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xuXHR2YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG5cdHZhciBTVEFURV9GQUlMRUQgPSAzMjtcblx0XG5cdC8qKlxuXHQgKiBSZWNvZ25pemVyXG5cdCAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAqL1xuXHRmdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cdFxuXHQgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cdFxuXHQgICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblx0XG5cdCAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG5cdCAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cdFxuXHQgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXHRcblx0ICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG5cdCAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG5cdH1cblx0XG5cdFJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHt9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IG9wdGlvbnNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcblx0ICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcblx0ICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcblx0ICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuXHQgICAgICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcblx0ICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuXHQgICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG5cdCAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcblx0ICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cdFxuXHQgICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG5cdCAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG5cdCAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuXHQgICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuXHQgICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG5cdCAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYW4gd2UgZW1pdD9cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuXHQgICAgICovXG5cdCAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuXHQgICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG5cdCAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcblx0ICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cdFxuXHQgICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuXHQgICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXHRcblx0ICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcblx0ICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG5cdCAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICogQHJldHVybnMge0FycmF5fVxuXHQgICAgICovXG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuXHQgICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqL1xuXHQgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG5cdCAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuXHQgICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgcmV0dXJuICdlbmQnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcblx0ICAgICAgICByZXR1cm4gJ21vdmUnO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG5cdCAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcblx0ICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqL1xuXHRmdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG5cdCAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG5cdCAgICAgICAgcmV0dXJuICdkb3duJztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuXHQgICAgICAgIHJldHVybiAndXAnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcblx0ICAgICAgICByZXR1cm4gJ2xlZnQnO1xuXHQgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG5cdCAgICAgICAgcmV0dXJuICdyaWdodCc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gJyc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuXHQgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICogQHJldHVybnMge1JlY29nbml6ZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuXHQgICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG5cdCAgICBpZiAobWFuYWdlcikge1xuXHQgICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgICAgICogQGRlZmF1bHQgMVxuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBvaW50ZXJzOiAxXG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuXHQgICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG5cdCAgICAgKi9cblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcblx0ICAgICAqL1xuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuXHQgICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cdFxuXHQgICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcblx0ICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQYW5cblx0ICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLnBYID0gbnVsbDtcblx0ICAgIHRoaXMucFkgPSBudWxsO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwYW4nLFxuXHQgICAgICAgIHRocmVzaG9sZDogMTAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuXHQgICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdCAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuXHQgICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG5cdCAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG5cdCAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG5cdCAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcblx0ICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuXHQgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG5cdCAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcblx0ICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cdCAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0XG5cdCAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcblx0ICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXHRcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24pIHtcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQaW5jaFxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3BpbmNoJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDAsXG5cdCAgICAgICAgcG9pbnRlcnM6IDJcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcblx0ICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG5cdCAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0Jztcblx0ICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFByZXNzXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcblx0fVxuXHRcblx0aW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncHJlc3MnLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcblx0ICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHQgICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuXHQgICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcblx0ICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXHRcblx0ICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuXHQgICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcblx0ICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG5cdCAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUm90YXRlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcblx0ICAgIC8qKlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3JvdGF0ZScsXG5cdCAgICAgICAgdGhyZXNob2xkOiAwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAyXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFN3aXBlXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuXHQgICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3N3aXBlJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuXHQgICAgICAgIHZlbG9jaXR5OiAwLjMsXG5cdCAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcblx0ICAgICAgICBwb2ludGVyczogMVxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgICAgIHZhciB2ZWxvY2l0eTtcblx0XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuXHQgICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcblx0ICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG5cdCAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcblx0ICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG5cdCAqIGEgc2luZ2xlIHRhcC5cblx0ICpcblx0ICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG5cdCAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG5cdCAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuXHQgICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG5cdCAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG5cdCAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblx0XG5cdCAgICB0aGlzLl90aW1lciA9IG51bGw7XG5cdCAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cdCAgICB0aGlzLmNvdW50ID0gMDtcblx0fVxuXHRcblx0aW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3RhcCcsXG5cdCAgICAgICAgcG9pbnRlcnM6IDEsXG5cdCAgICAgICAgdGFwczogMSxcblx0ICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuXHQgICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcblx0ICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG5cdCAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuXHQgICAgfSxcblx0XG5cdCAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcblx0ICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG5cdCAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXHRcblx0ICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdFxuXHQgICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcblx0ICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cdCAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuXHQgICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG5cdCAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblx0XG5cdCAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG5cdCAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblx0XG5cdCAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cdFxuXHQgICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG5cdCAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG5cdCAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG5cdCAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuXHQgICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG5cdCAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuXHQgICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG5cdCAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAY29uc3Qge3N0cmluZ31cblx0ICovXG5cdEhhbW1lci5WRVJTSU9OID0gJzIuMC43Jztcblx0XG5cdC8qKlxuXHQgKiBkZWZhdWx0IHNldHRpbmdzXG5cdCAqIEBuYW1lc3BhY2Vcblx0ICovXG5cdEhhbW1lci5kZWZhdWx0cyA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cblx0ICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IGZhbHNlXG5cdCAgICAgKi9cblx0ICAgIGRvbUV2ZW50czogZmFsc2UsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cblx0ICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuXHQgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcblx0ICAgICAqL1xuXHQgICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCB0cnVlXG5cdCAgICAgKi9cblx0ICAgIGVuYWJsZTogdHJ1ZSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcblx0ICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuXHQgICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cblx0ICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuXHQgICAgICogQGRlZmF1bHQgbnVsbFxuXHQgICAgICovXG5cdCAgICBpbnB1dFRhcmdldDogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG5cdCAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cblx0ICAgICAqIEBkZWZhdWx0IG51bGxcblx0ICAgICAqL1xuXHQgICAgaW5wdXRDbGFzczogbnVsbCxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuXHQgICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgcHJlc2V0OiBbXG5cdCAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG5cdCAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG5cdCAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcblx0ICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuXHQgICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG5cdCAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuXHQgICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG5cdCAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cblx0ICAgIF0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuXHQgICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuXHQgICAgICogQG5hbWVzcGFjZVxuXHQgICAgICovXG5cdCAgICBjc3NQcm9wczoge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuXHQgICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuXHQgICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXHRcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuXHQgICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cblx0ICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuXHQgICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBTVE9QID0gMTtcblx0dmFyIEZPUkNFRF9TVE9QID0gMjtcblx0XG5cdC8qKlxuXHQgKiBNYW5hZ2VyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXHRcblx0ICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXHRcblx0ICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblx0ICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuXHQgICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXHRcblx0ICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcblx0ICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblx0XG5cdCAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblx0XG5cdCAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuXHQgICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG5cdCAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG5cdCAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuXHQgICAgfSwgdGhpcyk7XG5cdH1cblx0XG5cdE1hbmFnZXIucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzZXQgb3B0aW9uc1xuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblx0XG5cdCAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuXHQgICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG5cdCAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuXHQgICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG5cdCAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cblx0ICAgICAqL1xuXHQgICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcblx0ICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG5cdCAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG5cdCAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcblx0ICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblx0ICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXI7XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0XG5cdCAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuXHQgICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcblx0ICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblx0XG5cdCAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcblx0ICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cblx0ICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG5cdCAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblx0XG5cdCAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cblx0ICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG5cdCAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuXHQgICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cblx0ICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG5cdCAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuXHQgICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcblx0ICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuXHQgICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcblx0ICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG5cdCAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuXHQgICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cblx0ICAgICAqL1xuXHQgICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG5cdCAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG5cdCAgICAgKi9cblx0ICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyByZW1vdmUgZXhpc3Rpbmdcblx0ICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuXHQgICAgICAgIGlmIChleGlzdGluZykge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG5cdCAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblx0XG5cdCAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2Vcblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuXHQgICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdCAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGJpbmQgZXZlbnRcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcblx0ICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcblx0ICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuXHQgICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuXHQgICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuXHQgICAgICovXG5cdCAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuXHQgICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuXHQgICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcblx0ICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG5cdCAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuXHQgICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblx0XG5cdCAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuXHQgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuXHQgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG5cdCAqL1xuXHRmdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcblx0ICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuXHQgICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb3A7XG5cdCAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcblx0ICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG5cdCAgICAgICAgaWYgKGFkZCkge1xuXHQgICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcblx0ICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKCFhZGQpIHtcblx0ICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB0cmlnZ2VyIGRvbSBldmVudFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICovXG5cdGZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuXHQgICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHQgICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG5cdCAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG5cdH1cblx0XG5cdGFzc2lnbihIYW1tZXIsIHtcblx0ICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcblx0ICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG5cdCAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcblx0ICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXHRcblx0ICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcblx0ICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcblx0ICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG5cdCAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG5cdCAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuXHQgICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG5cdCAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblx0XG5cdCAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG5cdCAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG5cdCAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcblx0ICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuXHQgICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuXHQgICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuXHQgICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG5cdCAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXHRcblx0ICAgIE1hbmFnZXI6IE1hbmFnZXIsXG5cdCAgICBJbnB1dDogSW5wdXQsXG5cdCAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cdFxuXHQgICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcblx0ICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG5cdCAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG5cdCAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcblx0ICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cdFxuXHQgICAgUmVjb2duaXplcjogUmVjb2duaXplcixcblx0ICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcblx0ICAgIFRhcDogVGFwUmVjb2duaXplcixcblx0ICAgIFBhbjogUGFuUmVjb2duaXplcixcblx0ICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG5cdCAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuXHQgICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuXHQgICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblx0XG5cdCAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG5cdCAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuXHQgICAgZWFjaDogZWFjaCxcblx0ICAgIG1lcmdlOiBtZXJnZSxcblx0ICAgIGV4dGVuZDogZXh0ZW5kLFxuXHQgICAgYXNzaWduOiBhc3NpZ24sXG5cdCAgICBpbmhlcml0OiBpbmhlcml0LFxuXHQgICAgYmluZEZuOiBiaW5kRm4sXG5cdCAgICBwcmVmaXhlZDogcHJlZml4ZWRcblx0fSk7XG5cdFxuXHQvLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuXHQvLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cblx0dmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXHRmcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblx0XG5cdGlmICh0cnVlKSB7XG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIEhhbW1lcjtcblx0ICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG5cdH0gZWxzZSB7XG5cdCAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG5cdH1cblx0XG5cdH0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcblxuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyd1c2Ugc3RyaWN0Jztcblx0XG5cdChmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHQgIGlmICh0cnVlKSB7XG5cdCAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9ICh0eXBlb2YgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID09PSAnZnVuY3Rpb24nID8gKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSkgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHQgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG5cdCAgICAvLyBsaWtlIE5vZGUuXG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0ICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcblx0ICB9XG5cdH0oZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblx0XG5cdCAgLyoqXG5cdCAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuXHQgICAqXG5cdCAgICogRmVhdHVyZXM6XG5cdCAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcblx0ICAgKiAgIGVsZW1lbnRzLlxuXHQgICAqIC0gRXZlbnRzIGFyZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gYGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpYCB0byBzdG9wXG5cdCAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG5cdCAgICogLSBBbiBvcHRpb24gYHByZXZlbnREZWZhdWx0YCB0byBzdG9wIGFsbCBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG5cdCAgICpcblx0ICAgKiBVc2FnZTpcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpKTtcblx0ICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpLCB7cHJldmVudERlZmF1bHQ6IHRydWV9KTtcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7SGFtbWVyLk1hbmFnZXJ9IGhhbW1lciAgIEFuIGhhbW1lciBpbnN0YW5jZS5cblx0ICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgb3B0aW9uczpcblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBiZSBzZXQgdG8gYGZhbHNlYC5cblx0ICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbmFsaXR5XG5cdCAgICovXG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuXHQgICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyB8fCB7XG5cdCAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZVxuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHtcblx0ICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG5cdCAgICAgIC8vIE92ZXJsb2FkIHRoZSBjb25zdHJ1Y3RvcnMgd2l0aCBvdXIgb3duLlxuXHQgICAgICB2YXIgSGFtbWVyID0gaGFtbWVyO1xuXHRcblx0ICAgICAgdmFyIFByb3BhZ2F0aW5nSGFtbWVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuXHQgICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG5cdCAgICAgICAgcmV0dXJuIHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIoZWxlbWVudCwgbyksIG8pO1xuXHQgICAgICB9O1xuXHQgICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXHRcblx0ICAgICAgUHJvcGFnYXRpbmdIYW1tZXIuTWFuYWdlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcblx0ICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsZW1lbnQsIG8pLCBvKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBmdW5jdGlvbnNcblx0ICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgdmFyIHdyYXBwZXIgPSBPYmplY3QuY3JlYXRlKGhhbW1lcik7XG5cdFxuXHQgICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG5cdCAgICB2YXIgZWxlbWVudCA9IGhhbW1lci5lbGVtZW50O1xuXHRcblx0ICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcblx0ICAgIGVsZW1lbnQuaGFtbWVyLnB1c2god3JhcHBlcik7XG5cdFxuXHQgICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG5cdCAgICAvLyB0YXJnZXQgaW4gYSBzaW5nbGV0b25cblx0ICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcblx0ICAgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIEFycmF5LjxmdW5jdGlvbj4+fSAqL1xuXHQgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayBmdW5jdGlvbiwgY2FsbGVkIGFzIGhhbmRsZXIoZXZlbnQpXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuXHQgICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuXHQgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzID0gW107XG5cdFxuXHQgICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG5cdCAgICAgICAgICBoYW1tZXIub24oZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQsIGFsbCBoYW5kbGVycyBmb3IgZ2l2ZW4gZXZlbnRzXG5cdCAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHJlbW92ZWQuXG5cdCAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIub2ZmID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuXHQgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG5cdCAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgIGlmIChfaGFuZGxlcnMpIHtcblx0ICAgICAgICAgIF9oYW5kbGVycyA9IGhhbmRsZXIgPyBfaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuXHQgICAgICAgICAgfSkgOiBbXTtcblx0XG5cdCAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuXHQgICAgICAgICAgICBoYW1tZXIub2ZmKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG5cdCAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVtaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuXHQgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuXHQgICAgICBfZmlyc3RUYXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdCAgICAgIGhhbW1lci5lbWl0KGV2ZW50VHlwZSwgZXZlbnQpO1xuXHQgICAgfTtcblx0XG5cdCAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG5cdCAgICAgIHZhciBoYW1tZXJzID0gaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXHQgICAgICB2YXIgaWR4ID0gaGFtbWVycy5pbmRleE9mKHdyYXBwZXIpO1xuXHQgICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgIGlmKCFoYW1tZXJzLmxlbmd0aCkgZGVsZXRlIGhhbW1lci5lbGVtZW50LmhhbW1lcjtcblx0XG5cdCAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuXHQgICAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXHRcblx0ICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuXHQgICAgICBoYW1tZXIuZGVzdHJveSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICAvLyBzcGxpdCBhIHN0cmluZyB3aXRoIHNwYWNlIHNlcGFyYXRlZCB3b3Jkc1xuXHQgICAgZnVuY3Rpb24gc3BsaXQoZXZlbnRzKSB7XG5cdCAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQSBzdGF0aWMgZXZlbnQgaGFuZGxlciwgYXBwbHlpbmcgZXZlbnQgcHJvcGFnYXRpb24uXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcblx0ICAgICAqL1xuXHQgICAgZnVuY3Rpb24gcHJvcGFnYXRlZEhhbmRsZXIoZXZlbnQpIHtcblx0ICAgICAgLy8gbGV0IG9ubHkgYSBzaW5nbGUgaGFtbWVyIGluc3RhbmNlIGhhbmRsZSB0aGlzIGV2ZW50XG5cdCAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuXHQgICAgICAgIC8vIGl0IGlzIHBvc3NpYmxlIHRoYXQgdGhlIHNhbWUgc3JjRXZlbnQgaXMgdXNlZCB3aXRoIG11bHRpcGxlIGhhbW1lciBldmVudHMsXG5cdCAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvbiB3aGljaCBldmVudHMgYXJlIGhhbmRsZWQgaW4gYW4gb2JqZWN0IF9oYW5kbGVkXG5cdCAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuXHQgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQgPSB7fTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChldmVudC5zcmNFdmVudC5faGFuZGxlZFtldmVudC50eXBlXSkge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcblx0ICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcblx0ICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuXHQgICAgICB2YXIgc3JjU3RvcCA9IGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbi5iaW5kKGV2ZW50LnNyY0V2ZW50KTtcblx0ICAgICAgaWYodHlwZW9mIHNyY1N0b3AgPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICAgIHNyY1N0b3AoKTtcblx0ICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuXHQgICAgICBldmVudC5maXJzdFRhcmdldCA9IF9maXJzdFRhcmdldDtcblx0XG5cdCAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcblx0ICAgICAgdmFyIGVsZW0gPSBfZmlyc3RUYXJnZXQ7XG5cdCAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7XG5cdCAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcblx0ICAgICAgICBpZihlbGVtSGFtbWVyKXtcblx0ICAgICAgICAgIHZhciBfaGFuZGxlcnM7XG5cdCAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG5cdCAgICAgICAgICAgIF9oYW5kbGVycyA9IGVsZW1IYW1tZXJba10uX2hhbmRsZXJzW2V2ZW50LnR5cGVdO1xuXHQgICAgICAgICAgICBpZihfaGFuZGxlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgX2hhbmRsZXJzLmxlbmd0aCAmJiAhc3RvcHBlZDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgfTtcblx0fSkpO1xuXG5cbi8qKiovIH0sXG4vKiA5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZUFjdGlvbnMgPSBwYXJzZUFjdGlvbnM7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuXHRleHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuXHRleHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuXHRleHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5cdGV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdC8vIGRlYnVnIG91dHB1dFxuXHR2YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBkZWJ1ZygpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgX2NvbnNvbGU7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG5cdCAgICB9XG5cdCAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgYXJncyA9IFsnYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuXHQgICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgdmFyIF9jb25zb2xlMjtcblx0XG5cdCAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuXHQgICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcblx0ICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkJywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbjogYWN0aW9uIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gZGVidWdFbmQoKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuXHQgIH1cblx0fVxuXHQvLyAvZGVidWcgb3V0cHV0XG5cdFxuXHQvLyBhY3Rpb24gdHlwZXNcblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBVTkRPOiAnQEByZWR1eC11bmRvL1VORE8nLFxuXHQgIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG5cdCAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuXHQgIEpVTVBfVE9fUEFTVDogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX1BBU1QnXG5cdH07XG5cdC8vIC9hY3Rpb24gdHlwZXNcblx0XG5cdC8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG5cdHZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG5cdCAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcblx0ICB9LFxuXHQgIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG5cdCAgfSxcblx0ICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuXHQgIH0sXG5cdCAganVtcFRvUGFzdDogZnVuY3Rpb24ganVtcFRvUGFzdChpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcblx0ICB9XG5cdH07XG5cdC8vIC9hY3Rpb24gY3JlYXRvcnNcblx0XG5cdC8vIGxlbmd0aDogZ2V0IGxlbmd0aCBvZiBoaXN0b3J5XG5cdGZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0ICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcblx0fVxuXHQvLyAvbGVuZ3RoXG5cdFxuXHQvLyBpbnNlcnQ6IGluc2VydCBgc3RhdGVgIGludG8gaGlzdG9yeSwgd2hpY2ggbWVhbnMgYWRkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG5cdC8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuXHQvLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cblx0ZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCkge1xuXHQgIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHRcblx0ICB2YXIgaGlzdG9yeU92ZXJmbG93ID0gbGltaXQgJiYgbGVuZ3RoKGhpc3RvcnkpID49IGxpbWl0O1xuXHRcblx0ICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvLyBpbml0IGhpc3Rvcnlcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHBhc3Q6IFtdLFxuXHQgICAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgICAgZnV0dXJlOiBbXVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3Quc2xpY2UoaGlzdG9yeU92ZXJmbG93ID8gMSA6IDApKSwgW3ByZXNlbnRdKSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2luc2VydFxuXHRcblx0Ly8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuXHRmdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcblx0ICBkZWJ1ZygndW5kbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuXHQgICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuXHQgICAgZnV0dXJlOiBbcHJlc2VudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmdXR1cmUpKVxuXHQgIH07XG5cdH1cblx0Ly8gL3VuZG9cblx0XG5cdC8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3Rvcnlcblx0ZnVuY3Rpb24gcmVkbyhoaXN0b3J5KSB7XG5cdCAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG5cdCAgICBwcmVzZW50OiBmdXR1cmVbMF0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcblx0ICAgIF0pXG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkb1xuXHRcblx0Ly8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuXHRmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IDApIHJldHVybiByZWRvKGhpc3RvcnkpO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcblx0ICAgIHByZXNlbnQ6IGZ1dHVyZVtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb0Z1dHVyZVxuXHRcblx0Ly8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5cdGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuXHQgICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIGluZGV4KVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb1Bhc3Rcblx0XG5cdC8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuXHRmdW5jdGlvbiB3cmFwU3RhdGUoc3RhdGUpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG5cdCAgICBoaXN0b3J5OiBzdGF0ZVxuXHQgIH0pO1xuXHR9XG5cdC8vIC93cmFwU3RhdGVcblx0XG5cdC8vIHVwZGF0ZVN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG5cdCAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGhpc3RvcnkpKTtcblx0fVxuXHQvLyAvdXBkYXRlU3RhdGVcblx0XG5cdC8vIGNyZWF0ZUhpc3Rvcnlcblx0ZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2NyZWF0ZUhpc3Rvcnlcblx0XG5cdC8vIHBhcnNlQWN0aW9uc1xuXHRmdW5jdGlvbiBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucykge1xuXHQgIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcblx0ICAgIHJldHVybiByYXdBY3Rpb25zO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuXHQgIH1cblx0ICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHR9XG5cdC8vIC9wYXJzZUFjdGlvbnNcblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcblx0ZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuXHQgIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXHRcblx0ICB2YXIgY29uZmlnID0ge1xuXHQgICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuXHQgICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuXHQgICAgbGltaXQ6IHJhd0NvbmZpZy5saW1pdCxcblx0ICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0ICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcblx0ICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcblx0ICAgIGp1bXBUb1Bhc3RUeXBlOiByYXdDb25maWcuanVtcFRvUGFzdFR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuXHQgICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcblx0ICB9O1xuXHQgIGNvbmZpZy5oaXN0b3J5ID0gcmF3Q29uZmlnLmluaXRpYWxIaXN0b3J5IHx8IGNyZWF0ZUhpc3RvcnkoY29uZmlnLmluaXRpYWxTdGF0ZSk7XG5cdFxuXHQgIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgY29uc29sZS53YXJuKCdyZWR1eC11bmRvOiBzdXBwbHkgYXQgbGVhc3Qgb25lIGFjdGlvbiB0eXBlIGluIGluaXRUeXBlcyB0byBlbnN1cmUgaW5pdGlhbCBzdGF0ZScpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuXHQgICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG5cdCAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIHVuZG8nLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcblx0ICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgcmVkbycsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb1Bhc3QnLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvRnV0dXJlJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcblx0ICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG5cdCAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGNyZWF0ZUhpc3RvcnkocmVzKSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXIgJiYgdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcblx0ICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuXHQgICAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuXHQgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG5cdCAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgaW5zZXJ0JywgeyBoaXN0b3J5OiB1cGRhdGVkSGlzdG9yeSwgZnJlZTogY29uZmlnLmxpbWl0IC0gbGVuZ3RoKHVwZGF0ZWRIaXN0b3J5KSB9KTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHRcblx0ICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgdXBkYXRlZEhpc3RvcnkpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdC8vIC9yZWR1eC11bmRvXG5cdFxuXHQvLyBkaXN0aW5jdFN0YXRlIGhlbHBlclxuXHRmdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcblx0ICAgIHJldHVybiBjdXJyZW50U3RhdGUgIT09IHByZXZpb3VzU3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvLyAvZGlzdGluY3RTdGF0ZVxuXHRcblx0Ly8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKSB7XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDA7XG5cdCAgfTtcblx0fVxuXHQvLyAvaW5jbHVkZUFjdGlvblxuXHRcblx0Ly8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaWZBY3Rpb24ocmF3QWN0aW9ucykge1xuXHQgIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcblx0ICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcblx0fVxuXHQvLyAvaWZBY3Rpb25cblx0XG5cdC8vIGV4Y2x1ZGVBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG5cdCAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpIDwgMDtcblx0ICB9O1xuXHR9XG5cdC8vIC9leGNsdWRlQWN0aW9uXG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFlfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRTtcblx0dmFyIG1vZCA9IGZ1bmN0aW9uIG1vZCh0ZW1wUmVzaXplX3RvcCkge1xuXHQgICAgICB2YXIgY29lZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICB2YXIgTU9EID0gTWF0aC5hYnModGVtcFJlc2l6ZV90b3AgJSBZX1NJWkUpLFxuXHQgICAgICAgICAgRElWID0gcGFyc2VJbnQodGVtcFJlc2l6ZV90b3AgLyBZX1NJWkUpLFxuXHQgICAgICAgICAgR0FQID0gMTU7XG5cdFxuXHQgICAgICBpZiAoTU9EIDwgR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gRElWICogWV9TSVpFO1xuXHQgICAgICB9IGVsc2UgaWYgKE1PRCA+IFlfU0laRSAtIEdBUCkge1xuXHQgICAgICAgICAgICB0ZW1wUmVzaXplX3RvcCA9IGNvZWYgKiAoRElWICsgMSkgKiBZX1NJWkU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IG1vZDtcblxuLyoqKi8gfSxcbi8qIDk3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9jdXJ2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xuXHRcblx0dmFyIF9jdXJ2ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgQ3VydmVFZGl0b3JSaWdodCA9IGZ1bmN0aW9uIEN1cnZlRWRpdG9yUmlnaHQoX3JlZikge1xuXHQgICAgICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcblx0XG5cdCAgICAgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmlnaHQnXSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZTIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAndG9wJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdyaWdodCcsIGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlJ10gfSksXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAnYm90dG9tJywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KVxuXHQgICAgICAgICAgKTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEN1cnZlRWRpdG9yUmlnaHQ7XG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfcmVzaXplTW9kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX3BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuXHRcblx0dmFyIF9wb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAzKTtcblx0XG5cdHZhciBDdXJ2ZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ3VydmUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDdXJ2ZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEN1cnZlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEN1cnZlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEN1cnZlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHRoaXMucHJvcHMuc3RhdGU7XG5cdCAgICAgIHZhciBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cdCAgICAgIHZhciBwb2ludHMgPSB0aGlzLl9yZW5kZXJQb2ludHMoc3RhdGUpO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZSddIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fYmFja2dyb3VuZCddLFxuXHQgICAgICAgICAgc3R5bGU6IHN0eWxlcy5iYWNrZ3JvdW5kIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmVfX3N2Zy13cmFwcGVyJ10sXG5cdCAgICAgICAgICAgIHN0eWxlOiBzdHlsZXMudHJhbnNmb3JtIH0sXG5cdCAgICAgICAgICBwb2ludHMsXG5cdCAgICAgICAgICAoMCwgX3ByZWFjdC5oKSgnc3ZnJywgeyBoZWlnaHQ6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSxcblx0ICAgICAgICAgICAgdmlld0JveDogJzAgMCAxMDAgMTAwJyxcblx0ICAgICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ25vbmUnLFxuXHQgICAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnJ10gfSlcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoc3RhdGUpIHtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIHRlbXBfdG9wID0gcmVzaXplLnRlbXBfdG9wO1xuXHQgICAgICB2YXIgdGVtcF9yaWdodCA9IHJlc2l6ZS50ZW1wX3JpZ2h0O1xuXHRcblx0XG5cdCAgICAgIHRlbXBfdG9wICs9IHJlc2l6ZS50b3A7XG5cdCAgICAgIHRlbXBfcmlnaHQgKz0gcmVzaXplLnJpZ2h0O1xuXHRcblx0ICAgICAgaWYgKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSAtIHRlbXBfdG9wIDwgX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFKSB7XG5cdCAgICAgICAgdGVtcF90b3AgPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHRlbXBfdG9wID0gKDAsIF9yZXNpemVNb2QyLmRlZmF1bHQpKHRlbXBfdG9wLCAtMSk7XG5cdFxuXHQgICAgICB2YXIgc2NhbGUgPSAndHJhbnNmb3JtOiBzY2FsZVgoJyArIChfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyBNYXRoLm1heCh0ZW1wX3JpZ2h0LCAwKSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyAnKScsXG5cdCAgICAgICAgICBiZ1RyYW5zZm9ybSA9ICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyBzY2FsZSArICc7ICcgKyBzY2FsZSArICc7Jyxcblx0ICAgICAgICAgIGJhY2tncm91bmQgPSAnYmFja2dyb3VuZC1wb3NpdGlvbjogMCAnICsgKC10ZW1wX3RvcCAtIDEpICsgJ3B4OyAnICsgYmdUcmFuc2Zvcm0sXG5cdCAgICAgICAgICB0cmFuc2Zvcm0gPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAnICsgLXRlbXBfdG9wICsgJ3B4KSc7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZCxcblx0ICAgICAgICB0cmFuc2Zvcm06ICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2Zvcm0gKyAnOyAnICsgdHJhbnNmb3JtICsgJzsnXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3JlbmRlclBvaW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlclBvaW50cyhzdGF0ZSkge1xuXHQgICAgICB2YXIgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuXHQgICAgICAgICAgcG9pbnRzID0gW10sXG5cdCAgICAgICAgICBsZW4gPSBwb2ludHNEYXRhLmxlbmd0aDtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBwb2ludHMucHVzaCgoMCwgX3ByZWFjdC5oKShfcG9pbnQyLmRlZmF1bHQsIHsgcG9pbnQ6IHBvaW50c0RhdGFbaV0sIHN0YXRlOiBzdGF0ZSwgaW5kZXg6IGksIHBvaW50c0NvdW50OiBsZW4gfSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ3VydmU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmU7XG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfMXU0MWxfNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF8xdTQxbF8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfMXU0MWxfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnXzF1NDFsXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfMXU0MWxfMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfMXU0MWxfMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBtZW1vO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdH0pLFxyXG5cdFx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdFx0fSksXHJcblx0XHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRcdGlmKGZhbHNlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblx0XHJcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHRcclxuXHRcdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cdFxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHJcblx0XHRpZihvbGRTcmMpXHJcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImN1cnZlXCI6IFwiX2N1cnZlXzF1NDFsXzVcIixcblx0XHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kXzF1NDFsXzFcIixcblx0XHRcImN1cnZlX19zdmctd3JhcHBlclwiOiBcIl9jdXJ2ZV9fc3ZnLXdyYXBwZXJfMXU0MWxfMVwiLFxuXHRcdFwiY3VydmVfX3N2Z1wiOiBcIl9jdXJ2ZV9fc3ZnXzF1NDFsXzFcIixcblx0XHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfMXU0MWxfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIFJlc2l6ZUhhbmRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUmVzaXplSGFuZGxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUmVzaXplSGFuZGxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUmVzaXplSGFuZGxlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShSZXNpemVIYW5kbGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSAnJyArIENMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXTtcblx0ICAgICAgdmFyIGNsYXNzVHlwZSA9ICcnICsgQ0xBU1NFU1sncmVzaXplLWhhbmRsZS0tJyArIHR5cGVdO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnICcgKyBjbGFzc1R5cGUgKyAnICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICdkYXRhLXR5cGUnOiB0eXBlIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoX2ljb24yLmRlZmF1bHQsIHsgc2hhcGU6ICdlbGxpcHNpcycgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0ICAgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYLFxuXHQgICAgICAgICAgICB5ID0gZS5kZWx0YVk7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRV9FTkQnLCBkYXRhOiB7IHg6IHgsIHk6IHksIHR5cGU6IHR5cGUgfSB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFJlc2l6ZUhhbmRsZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSZXNpemVIYW5kbGU7XG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicmVzaXplLWhhbmRsZVwiOiBcIl9yZXNpemUtaGFuZGxlX2s4MWtjXzRcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLXJpZ2h0XCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzFcIixcblx0XHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMikoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDEwNywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNHtiYWNrZ3JvdW5kOiMzZDFiM2M7d2lkdGg6MzJweDtoZWlnaHQ6MTZweDtkaXNwbGF5OmJsb2NrO2N1cnNvcjpuLXJlc2l6ZTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6M3B4Oy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfS5fcmVzaXplLWhhbmRsZV9rODFrY180OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoyfS5fcmVzaXplLWhhbmRsZV9rODFrY180IFtkYXRhLWNvbXBvbmVudD1pY29uXXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOi03cHh9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6aG92ZXJ7b3BhY2l0eTouODV9Ll9yZXNpemUtaGFuZGxlLS1yaWdodF9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7Y3Vyc29yOmUtcmVzaXplfS5fcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO2N1cnNvcjpzLXJlc2l6ZX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xY285b180XCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX2xlZnRcIjogXCJfY3VydmUtZWRpdG9yX19sZWZ0XzFjbzlvXzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fcmlnaHRcIjogXCJfY3VydmUtZWRpdG9yX19yaWdodF8xY285b18xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFjbzlvXzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNcIjogXCJfY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xY285b18xXCIsXG5cdFx0XCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nb1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xY285b18xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTEwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmUtZWRpdG9yXzFjbzlvXzR7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3RvcDowO3dpZHRoOjQwM3B4O2hlaWdodDozNzhweDtib3JkZXItcmFkaXVzOjEycHg7YmFja2dyb3VuZDpyZ2JhKDU4LDgsNTgsLjg1KTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjJweCAycHggMnB4IHJnYmEoMCwwLDAsLjM4KX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xY285b18xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQycHg7bGVmdDowO3RvcDowO2JvdHRvbTowO3BhZGRpbmc6MTBweH0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xY285b18xIGljb24tZGl2aWRlcnttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xY285b18xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFjbzlvXzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWNvOW9fMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWNvOW9fMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xY285b18xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFjbzlvXzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWNvOW9fMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWNvOW9fMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFjbzlvXzEgaWNvbi1idXR0b257bWFyZ2luLWJvdHRvbTo1cHh9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xY285b18xe3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbToxN3B4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0OjFweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpfS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWNvOW9fMSBbZGF0YS1jb21wb25lbnQ9aWNvbl17ZmlsbDojZmY1MTJmO3dpZHRoOjEycHg7aGVpZ2h0OjEycHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMik7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcblx0XG5cdHZhciBfaW5kZXhSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4UmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4UmVkdWNlcjIuZGVmYXVsdCk7XG5cdC8vIGltcG9ydCByZWR1Y2VyXG5cdGV4cG9ydHMuZGVmYXVsdCA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogMTEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cdFxuXHR2YXIgX2NvbWJpbmVSZWR1Y2VycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cdFxuXHR2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblx0XG5cdHZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblx0XG5cdHZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG5cdFxuXHR2YXIgX2NvbXBvc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qXG5cdCogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuXHQqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cblx0Ki9cblx0ZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblx0XG5cdGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG5cdCAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSkpXG5cbi8qKiovIH0sXG4vKiAxMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG5cdCAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG5cdCAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuXHQgKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG5cdCAqL1xuXHR2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuXHQgIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG5cdCAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuXHQgKlxuXHQgKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG5cdCAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcblx0ICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG5cdCAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0gW2luaXRpYWxTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG5cdCAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG5cdCAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG5cdCAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcblx0ICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZW5oYW5jZXIgVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG5cdCAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcblx0ICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cblx0ICpcblx0ICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcblx0ICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgIHZhciBfcmVmMjtcblx0XG5cdCAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgZW5oYW5jZXIgPSBpbml0aWFsU3RhdGU7XG5cdCAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcblx0ICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG5cdCAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuXHQgIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG5cdCAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuXHQgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG5cdCAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cblx0ICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cblx0ICAgKlxuXHQgICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG5cdCAgICogY2F2ZWF0czpcblx0ICAgKlxuXHQgICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cblx0ICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcblx0ICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cblx0ICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcblx0ICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuXHQgICAqXG5cdCAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG5cdCAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcblx0ICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuXHQgICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3Rcblx0ICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cdFxuXHQgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuXHQgICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cblx0ICAgKlxuXHQgICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcblx0ICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG5cdCAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuXHQgICAqIHdpbGwgYmUgbm90aWZpZWQuXG5cdCAgICpcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuXHQgICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG5cdCAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG5cdCAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuXHQgICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuXHQgICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG5cdCAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcblx0ICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2Vcblx0ICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG5cdCAgICpcblx0ICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG5cdCAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuXHQgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG5cdCAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYWN0aW9uO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG5cdCAgICpcblx0ICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG5cdCAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuXHQgICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG5cdCAgICogQHJldHVybnMge3ZvaWR9XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuXHQgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG5cdCAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG5cdCAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcblx0ICAgKiBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcblx0ICAgIHZhciBfcmVmO1xuXHRcblx0ICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcblx0ICAgIHJldHVybiBfcmVmID0ge1xuXHQgICAgICAvKipcblx0ICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuXHQgICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cblx0ICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cblx0ICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuXHQgICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuXHQgICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcblx0ICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuXHQgICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG5cdCAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG5cdCAgICAgIH1cblx0ICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSwgX3JlZjtcblx0ICB9XG5cdFxuXHQgIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG5cdCAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG5cdCAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblx0ICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgIHJldHVybiBfcmVmMiA9IHtcblx0ICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcblx0ICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuXHQgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG5cdCAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcblx0fVxuXG4vKioqLyB9LFxuLyogMTE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2V0UHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpLFxuXHQgICAgaXNIb3N0T2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpLFxuXHQgICAgaXNPYmplY3RMaWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0LyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdCAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuXHQgKiBvZiB2YWx1ZXMuXG5cdCAqL1xuXHR2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdCAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMC44LjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHQgKiAgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAqICAgdGhpcy5hID0gMTtcblx0ICogfVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICovXG5cdGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcblx0ICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcblx0ICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0ICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHQgIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogMTE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgb3ZlckFyZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdCAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuLyoqKi8gfSxcbi8qIDExNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuXHQgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcblx0ICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG5cblxuLyoqKi8gfSxcbi8qIDExNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdCAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3Ncblx0ICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuXHQgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0ICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdCAgICB9IGNhdGNoIChlKSB7fVxuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogMTE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdCAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgNC4wLjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG4vKioqLyB9LFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMTIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdFx0dmFyIHJlc3VsdDtcblx0XHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cdFxuXHRcdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcblx0ICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcblx0ICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cdFxuXHQgIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXHRcblx0ICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuXHQgIH1cblx0XG5cdCAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcblx0ICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcblx0ICB9XG5cdFxuXHQgIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG5cdCAgfSk7XG5cdFxuXHQgIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdCAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcblx0ICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG5cdCAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcblx0ICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcblx0ICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuXHQgKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcblx0ICogcmVkdWNlciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG5cdCAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cblx0ICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cblx0ICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuXHQgKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcblx0ICogdW5yZWNvZ25pemVkIGFjdGlvbi5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuXHQgKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cdCAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblx0XG5cdCAgdmFyIHNhbml0eUVycm9yO1xuXHQgIHRyeSB7XG5cdCAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHNhbml0eUVycm9yID0gZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBpZiAoc2FuaXR5RXJyb3IpIHtcblx0ICAgICAgdGhyb3cgc2FuaXR5RXJyb3I7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcblx0ICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG5cdCAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuXHQgICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG5cdCAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cdCAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbik7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgbmV4dFN0YXRlW2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG5cdCAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSkpXG5cbi8qKiovIH0sXG4vKiAxMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcblx0LyoqXG5cdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuXHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0ICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHQgIH1cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblx0ICB0cnkge1xuXHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG5cdCAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuXHQgICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG5cdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdCAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuXHQgIH0gY2F0Y2ggKGUpIHt9XG5cdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuXHRmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG5cdCAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcblx0ICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG5cdCAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG5cdCAqXG5cdCAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuXHQgKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG5cdCAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2Bcblx0ICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcblx0ICogc3RvcmUuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG5cdCAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcblx0ICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG5cdCAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG5cdCAgfVxuXHRcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcblx0ICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIGtleSA9IGtleXNbaV07XG5cdCAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcblx0fVxuXG4vKioqLyB9LFxuLyogMTI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuXHRcblx0dmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2Rcblx0ICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuXHQgKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuXHQgKlxuXHQgKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG5cdCAqXG5cdCAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuXHQgKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcblx0ICogYXMgbmFtZWQgYXJndW1lbnRzLlxuXHQgKlxuXHQgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcblx0ICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuXHQgICAgICB2YXIgY2hhaW4gPSBbXTtcblx0XG5cdCAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuXHQgICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcblx0ICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuXHQgICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuXHQgICAgICB9KTtcblx0ICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cdFxuXHQgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0b3JlLCB7XG5cdCAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgfTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcblx0LyoqXG5cdCAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG5cdCAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuXHQgKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcblx0ICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcblx0ICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gY29tcG9zZSgpIHtcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcblx0ICAgICAgcmV0dXJuIGFyZztcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuXHQgICAgICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2OiBmdW5jdGlvbiB2KCkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNvbXBvc2VkLCBmKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcblx0ICAgICAgICAgIH0sIGxhc3QuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9KCk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuLyogMTI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcblx0XG5cdHZhciBfcmVkdXhVbmRvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eFVuZG8pO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuXHRcblx0dmFyIF9yZXNpemVSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZVJlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHRcblx0dmFyIF9wb2ludHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvaW50c1JlZHVjZXIpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sc1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRDb250cm9sc1JlZHVjZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyLW9yZGVyIHJlZHVjZXJcblx0dmFyIFVORE9BQkxFX09QVFMgPSB7XG5cdCAgbGltaXQ6IDEwLFxuXHQgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuXHQgICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG5cdCAgfSxcblx0ICBkZWJ1ZzogZmFsc2Vcblx0fTsgLy8gUmVkdXggdXRpbGl0eSBmdW5jdGlvbnNcblx0XG5cdFxuXHR2YXIgcmVkdWNlciA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG5cdCAgcG9pbnRDb250cm9sczogKDAsIF9yZWR1eFVuZG8yLmRlZmF1bHQpKF9wb2ludENvbnRyb2xzUmVkdWNlcjIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgVU5ET0FCTEVfT1BUUykpLFxuXHQgIHJlc2l6ZTogX3Jlc2l6ZVJlZHVjZXIyLmRlZmF1bHQsXG5cdCAgcG9pbnRzOiAoMCwgX3JlZHV4VW5kbzIuZGVmYXVsdCkoX3BvaW50c1JlZHVjZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIFVORE9BQkxFX09QVFMpKVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xuXHRcblx0dmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpLk9iamVjdC5hc3NpZ247XG5cbi8qKiovIH0sXG4vKiAxMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMTMxKX0pO1xuXG4vKioqLyB9LFxuLyogMTMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcblx0dmFyIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSlcblx0ICAsIGdPUFMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSlcblx0ICAsIHBJRSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHQgICwgSU9iamVjdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KVxuXHQgICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXHRcblx0Ly8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG5cdG1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgX193ZWJwYWNrX3JlcXVpcmVfXygyOCkoZnVuY3Rpb24oKXtcblx0ICB2YXIgQSA9IHt9XG5cdCAgICAsIEIgPSB7fVxuXHQgICAgLCBTID0gU3ltYm9sKClcblx0ICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG5cdCAgQVtTXSA9IDc7XG5cdCAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihrKXsgQltrXSA9IGs7IH0pO1xuXHQgIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xuXHR9KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblx0ICB2YXIgVCAgICAgPSB0b09iamVjdCh0YXJnZXQpXG5cdCAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgLCBpbmRleCA9IDFcblx0ICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZlxuXHQgICAgLCBpc0VudW0gICAgID0gcElFLmY7XG5cdCAgd2hpbGUoYUxlbiA+IGluZGV4KXtcblx0ICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSlcblx0ICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG5cdCAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblx0ICAgICAgLCBqICAgICAgPSAwXG5cdCAgICAgICwga2V5O1xuXHQgICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcblx0ICB9IHJldHVybiBUO1xuXHR9IDogJGFzc2lnbjtcblxuLyoqKi8gfSxcbi8qIDEzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHR2YXIgX2V4dGVuZHM1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgeDogMTUwLFxuXHQgIHRlbXBYOiAwLFxuXHRcblx0ICB5OiAxMDAsXG5cdCAgdGVtcFk6IDAsXG5cdFxuXHQgIHRvcDogMCxcblx0ICB0ZW1wX3RvcDogMCxcblx0XG5cdCAgcmlnaHQ6IDAsXG5cdCAgdGVtcF9yaWdodDogMCxcblx0XG5cdCAgYm90dG9tOiAwLFxuXHQgIHRlbXBfYm90dG9tOiAwLFxuXHQgIHNjYWxlclg6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVFxuXHR9O1xuXHRcblx0dmFyIHJlc2l6ZVJlZHVjZXIgPSBmdW5jdGlvbiByZXNpemVSZWR1Y2VyKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IElOSVRJQUxfU1RBVEUgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgY2FzZSAnRURJVE9SX1JFU0laRSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuXHQgICAgICAgIHZhciBkZWx0YSA9IHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nID8gZGF0YS55IDogZGF0YS54O1xuXHRcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoe30sICd0ZW1wXycgKyB0eXBlLCBkZWx0YSkpO1xuXHQgICAgICAgIC8vIGlmIGByaWdodGBzaXplIGNoYW5nZWQgLSBjYWxjdWxhdGUgdGhlIHNjYWxlciBmb3IgeCBheGlzXG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdyaWdodCcpIHtcblx0ICAgICAgICAgIG5ld1N0YXRlWydzY2FsZXJYJ10gPSAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgTWF0aC5tYXgoc3RhdGUucmlnaHQgKyBkZWx0YSwgMCkpIC8gMTAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfUkVTSVpFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2V4dGVuZHMzO1xuXHRcblx0ICAgICAgICB2YXIgX2RhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX3R5cGUgPSBfZGF0YS50eXBlO1xuXHRcblx0ICAgICAgICB2YXIgX2RlbHRhID0gX3R5cGUgPT09ICd0b3AnIHx8IF90eXBlID09PSAnYm90dG9tJyA/IF9kYXRhLnkgOiBfZGF0YS54O1xuXHQgICAgICAgIC8vIGdldCB0aGUgdG90YWwgcmVzaXplIHZhbHVlICggdGVtcG9yYXJ5ICsgYWN0dWFsIClcblx0ICAgICAgICB2YXIgcmVzaXplID0gc3RhdGVbJycgKyBhY3Rpb24uZGF0YS50eXBlXSArIF9kZWx0YTtcblx0ICAgICAgICAvLyBpZiB0aGUgdHlwZSBpZiB0byAtIGl0IGhhcyB0aGUgYC1gIGFzIGJhc2Ugc28gd2UgbmVlZCB0byBzd2FwIG1ldGhvZHNcblx0ICAgICAgICB2YXIgbWF0aE1ldGhvZCA9IF90eXBlID09PSAndG9wJyA/ICdtaW4nIDogJ21heCc7XG5cdCAgICAgICAgdmFyIF9uZXdTdGF0ZSA9ICgwLCBfZXh0ZW5kczUuZGVmYXVsdCkoe30sIHN0YXRlLCAoX2V4dGVuZHMzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKF9leHRlbmRzMywgJycgKyBhY3Rpb24uZGF0YS50eXBlLCBNYXRoW21hdGhNZXRob2RdKDAsIHJlc2l6ZSkpLCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfZXh0ZW5kczMsICd0ZW1wXycgKyBhY3Rpb24uZGF0YS50eXBlLCAwKSwgX2V4dGVuZHMzKSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGU7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfYWN0aW9uJGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgeCA9IF9hY3Rpb24kZGF0YS54O1xuXHQgICAgICAgIHZhciB5ID0gX2FjdGlvbiRkYXRhLnk7XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyB0ZW1wWDogeCwgdGVtcFk6IHkgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2FjdGlvbiRkYXRhMiA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfeDIgPSBfYWN0aW9uJGRhdGEyLng7XG5cdCAgICAgICAgdmFyIF95ID0gX2FjdGlvbiRkYXRhMi55O1xuXHRcblx0ICAgICAgICBfeDIgKz0gc3RhdGUueDtcblx0ICAgICAgICBfeSArPSBzdGF0ZS55O1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyB4OiBfeDIsIHk6IF95LCB0ZW1wWDogMCwgdGVtcFk6IDAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgfVxuXHQgIHJldHVybiBzdGF0ZTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHJlc2l6ZVJlZHVjZXI7XG5cbi8qKiovIH0sXG4vKiAxMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcblx0ICBpZiAoa2V5IGluIG9iaikge1xuXHQgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkob2JqLCBrZXksIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWUsXG5cdCAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgb2JqW2tleV0gPSB2YWx1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvYmo7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfbWFrZVBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHRcblx0dmFyIF9tYWtlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFrZVBvaW50KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0gWygwLCBfbWFrZVBvaW50Mi5kZWZhdWx0KSh7IHg6IDAsIHk6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH0pLCAoMCwgX21ha2VQb2ludDIuZGVmYXVsdCkoeyB4OiA1MCwgeTogX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFIC8gMiwgdHlwZTogJ21pcnJvcmVkJyB9KSwgKDAsIF9tYWtlUG9pbnQyLmRlZmF1bHQpKHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSldO1xuXHRcblx0dmFyIGRlc2xlY3RBbGwgPSBmdW5jdGlvbiBkZXNsZWN0QWxsKHN0YXRlKSB7XG5cdCAgdmFyIG5ld1N0YXRlID0gW107XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgbmV3U3RhdGUucHVzaCgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZVtpXSwgeyBpc1NlbGVjdGVkOiBmYWxzZSB9KSk7XG5cdCAgfVxuXHQgIHJldHVybiBuZXdTdGF0ZTtcblx0fTtcblx0XG5cdHZhciBmaW5kU2VsZWN0ZWRJbmRlY2llcyA9IGZ1bmN0aW9uIGZpbmRTZWxlY3RlZEluZGVjaWVzKHN0YXRlKSB7XG5cdCAgdmFyIGluZGVjaWVzID0gW107XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgc3RhdGVbaV0uaXNTZWxlY3RlZCAmJiBpbmRlY2llcy5wdXNoKGkpO1xuXHQgIH1cblx0ICByZXR1cm4gaW5kZWNpZXM7XG5cdH07XG5cdFxuXHR2YXIgcG9pbnRzUmVkdWNlciA9IGZ1bmN0aW9uIHBvaW50c1JlZHVjZXIoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgaW5kZXggPSBkYXRhLmluZGV4O1xuXHQgICAgICAgIHZhciBvbGRQb2ludCA9IHN0YXRlW2luZGV4XTtcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoc3RhdGUpKTtcblx0XG5cdCAgICAgICAgbmV3U3RhdGVbZGF0YS5pbmRleF0gPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvbGRQb2ludCwgeyB0ZW1wWDogZGF0YS54LCB0ZW1wWTogZGF0YS55IH0pO1xuXHQgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9pbmRleCA9IGFjdGlvbi5kYXRhLFxuXHQgICAgICAgICAgICBfb2xkUG9pbnQgPSBzdGF0ZVtfaW5kZXhdLFxuXHQgICAgICAgICAgICBfbmV3U3RhdGUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoc3RhdGUpKTtcblx0XG5cdCAgICAgICAgX25ld1N0YXRlW19pbmRleF0gPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfb2xkUG9pbnQsIHtcblx0ICAgICAgICAgIHg6IF9vbGRQb2ludC54ICsgX29sZFBvaW50LnRlbXBYLFxuXHQgICAgICAgICAgeTogX29sZFBvaW50LnkgKyBfb2xkUG9pbnQudGVtcFksXG5cdCAgICAgICAgICB0ZW1wWDogMCwgdGVtcFk6IDBcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZTtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2RhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX2luZGV4MiA9IF9kYXRhLmluZGV4O1xuXHQgICAgICAgIHZhciBpc0Rlc2VsZWN0ID0gX2RhdGEuaXNEZXNlbGVjdDtcblx0ICAgICAgICAvLyBpZiBzaG91bGQgZGUgc2VsZWN0IGFsbCBvdGhlciBwb2ludHNcblx0ICAgICAgICB2YXIgX25ld1N0YXRlMiA9IGlzRGVzZWxlY3QgPyBkZXNsZWN0QWxsKHN0YXRlKSA6IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShzdGF0ZSkpO1xuXHRcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfbmV3U3RhdGUyW19pbmRleDJdO1xuXHQgICAgICAgIHZhciBzaWJQb2ludCA9IF9pbmRleDIgPT09IF9uZXdTdGF0ZTIubGVuZ3RoIC0gMSA/IF9uZXdTdGF0ZTJbX2luZGV4MiAtIDFdIDogX25ld1N0YXRlMltfaW5kZXgyICsgMV07XG5cdFxuXHQgICAgICAgIHZhciBoYW5kbGVJbmRleCA9IF9pbmRleDIgPT09IF9uZXdTdGF0ZTIubGVuZ3RoIC0gMSA/IDEgOiAyO1xuXHRcblx0ICAgICAgICB2YXIgaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgaGFuZGxlSW5kZXg7XG5cdCAgICAgICAgdmFyIHNpYkhhbmRsZUluZGV4ID0gaGFuZGxlSW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICB2YXIgc2liSGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgc2liSGFuZGxlSW5kZXg7XG5cdCAgICAgICAgdmFyIGhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50W2hhbmRsZU5hbWVdKTtcblx0ICAgICAgICB2YXIgc2liSGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcG9pbnRbc2liSGFuZGxlTmFtZV0pO1xuXHQgICAgICAgIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuXHQgICAgICAgIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgICB2YXIgd2FzbnRTZXQgPSBoYW5kbGUuYW5nbGUgPT0gbnVsbCB8fCBoYW5kbGUucmFkaXVzID09IG51bGw7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBwb2ludC50eXBlO1xuXHQgICAgICAgIGlmICh3YXNudFNldCkge1xuXHQgICAgICAgICAgaGFuZGxlLnJhZGl1cyA9IDUwO1xuXHRcblx0ICAgICAgICAgIHZhciBkeSA9IChzaWJQb2ludC55IC0gcG9pbnQueSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQ7XG5cdCAgICAgICAgICB2YXIgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcblx0ICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbihkeSAvIGR4KSAqICgxODAgLyBNYXRoLlBJKSAtIDkwO1xuXHQgICAgICAgICAgaWYgKGR4ID4gMCkge1xuXHQgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gMTgwO1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICAgIGhhbmRsZS5hbmdsZSA9IGFuZ2xlO1xuXHRcblx0ICAgICAgICAgIHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzO1xuXHQgICAgICAgICAgc2liSGFuZGxlLmFuZ2xlID0gaGFuZGxlLmFuZ2xlIC0gMTgwO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcG9pbnQuaXNTZWxlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZTI7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9BREQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9kYXRhMiA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciB4ID0gX2RhdGEyLng7XG5cdCAgICAgICAgdmFyIHkgPSBfZGF0YTIueTtcblx0ICAgICAgICB2YXIgX2luZGV4MyA9IF9kYXRhMi5pbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciBkZXNlbGVjdGVkID0gZGVzbGVjdEFsbChzdGF0ZSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5zbGljZSgwLCBfaW5kZXgzKSksIFsoMCwgX21ha2VQb2ludDIuZGVmYXVsdCkoeyB4OiB4LCB5OiB5LCBpc1NlbGVjdGVkOiB0cnVlIH0pXSwgKDAsIF90b0NvbnN1bWFibGVBcnJheTMuZGVmYXVsdCkoZGVzZWxlY3RlZC5zbGljZShfaW5kZXgzKSkpO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERUxFVEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMoc3RhdGUpO1xuXHRcblx0ICAgICAgICB2YXIgX25ld1N0YXRlMyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBpdGVtID0gc3RhdGVbaV07XG5cdCAgICAgICAgICAoc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFgpICYmIF9uZXdTdGF0ZTMucHVzaChpdGVtKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfbmV3U3RhdGUzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9zZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHN0YXRlKTtcblx0XG5cdCAgICAgICAgdmFyIF9uZXdTdGF0ZTQgPSBbXTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICB2YXIgX2l0ZW0gPSBzdGF0ZVtpXTtcblx0ICAgICAgICAgIHZhciBfdHlwZSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBzdGF0ZVxuXHQgICAgICAgICAgX25ld1N0YXRlNC5wdXNoKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9pdGVtKSk7XG5cdCAgICAgICAgICAvLyBpZiBpdGVtIHdhcyBzZWxlY3RlZCAtIHNldCB0aGUgbmV3IGB0eXBlYFxuXHQgICAgICAgICAgX3NlbGVjdGVkLmluZGV4T2YoaSkgIT09IC0xICYmIChfbmV3U3RhdGU0W2ldLnR5cGUgPSBfdHlwZSk7XG5cdFxuXHQgICAgICAgICAgdmFyIF9pbmRleDQgPSBpO1xuXHQgICAgICAgICAgdmFyIF9wb2ludCA9IF9uZXdTdGF0ZTRbX2luZGV4NF07XG5cdCAgICAgICAgICB2YXIgX3NpYlBvaW50ID0gX2luZGV4NCA9PT0gX25ld1N0YXRlNC5sZW5ndGggLSAxID8gX25ld1N0YXRlNFtfaW5kZXg0IC0gMV0gOiBfbmV3U3RhdGU0W19pbmRleDQgKyAxXTtcblx0XG5cdCAgICAgICAgICB2YXIgX2hhbmRsZUluZGV4ID0gX2luZGV4NCA9PT0gX25ld1N0YXRlNC5sZW5ndGggLSAxID8gMSA6IDI7XG5cdCAgICAgICAgICB2YXIgX3NpYkhhbmRsZUluZGV4ID0gX2hhbmRsZUluZGV4ID09PSAxID8gMiA6IDE7XG5cdCAgICAgICAgICB2YXIgX2hhbmRsZU5hbWUgPSAnaGFuZGxlJyArIF9oYW5kbGVJbmRleDtcblx0ICAgICAgICAgIHZhciBfc2liSGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgX3NpYkhhbmRsZUluZGV4O1xuXHQgICAgICAgICAgdmFyIF9oYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfcG9pbnRbX2hhbmRsZU5hbWVdKTtcblx0ICAgICAgICAgIHZhciBfc2liSGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX3BvaW50W19zaWJIYW5kbGVOYW1lXSk7XG5cdCAgICAgICAgICBfcG9pbnRbX2hhbmRsZU5hbWVdID0gX2hhbmRsZTtcblx0ICAgICAgICAgIF9wb2ludFtfc2liSGFuZGxlTmFtZV0gPSBfc2liSGFuZGxlO1xuXHRcblx0ICAgICAgICAgIGlmIChfdHlwZSA9PT0gJ21pcnJvcmVkJyB8fCBfdHlwZSA9PT0gJ2FzeW1tZXRyaWMnKSB7XG5cdCAgICAgICAgICAgIF9zaWJIYW5kbGUuYW5nbGUgPSBfaGFuZGxlLmFuZ2xlIC0gMTgwO1xuXHQgICAgICAgICAgICBpZiAoX3R5cGUgPT09ICdtaXJyb3JlZCcpIHtcblx0ICAgICAgICAgICAgICBfc2liSGFuZGxlLnJhZGl1cyA9IF9oYW5kbGUucmFkaXVzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX25ld1N0YXRlNDtcblx0ICAgICAgfVxuXHRcblx0ICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gZGVzbGVjdEFsbChzdGF0ZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAvLyBIQU5ETEVTXG5cdCAgICBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZGF0YTMgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICAvLyBjcmVhdGUgbmV3IHN0YXRlIGFuZCBjb3B5IHRoZSBuZXcgcG9pbnQgaW50byBpdFxuXHRcblx0ICAgICAgICB2YXIgX25ld1N0YXRlNSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShzdGF0ZSkpO1xuXHQgICAgICAgIHZhciBuZXdQb2ludCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9uZXdTdGF0ZTVbX2RhdGEzLnBhcmVudEluZGV4XSk7XG5cdCAgICAgICAgX25ld1N0YXRlNVtfZGF0YTMucGFyZW50SW5kZXhdID0gbmV3UG9pbnQ7XG5cdCAgICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcblx0ICAgICAgICB2YXIgX2hhbmRsZU5hbWUyID0gJ2hhbmRsZScgKyBfZGF0YTMuaW5kZXg7XG5cdCAgICAgICAgdmFyIG5ld0hhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG5ld1BvaW50W19oYW5kbGVOYW1lMl0pO1xuXHQgICAgICAgIG5ld1BvaW50W19oYW5kbGVOYW1lMl0gPSBuZXdIYW5kbGU7XG5cdCAgICAgICAgLy8gZmluYWxseSBhZGQgYW5nbGUgYW5kIHJhZGl1c1xuXHQgICAgICAgIG5ld0hhbmRsZS5hbmdsZSA9IF9kYXRhMy5hbmdsZTtcblx0ICAgICAgICBuZXdIYW5kbGUucmFkaXVzID0gX2RhdGEzLnJhZGl1cztcblx0XG5cdCAgICAgICAgcmV0dXJuIF9uZXdTdGF0ZTU7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRzUmVkdWNlcjtcblxuLyoqKi8gfSxcbi8qIDEzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9mcm9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpO1xuXHRcblx0dmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGFycjJbaV0gPSBhcnJbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGFycjI7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oMTM3KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMTM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpLkFycmF5LmZyb207XG5cbi8qKiovIH0sXG4vKiAxMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyIGN0eCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMClcblx0ICAsICRleHBvcnQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOClcblx0ICAsIHRvT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHQgICwgY2FsbCAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSlcblx0ICAsIGlzQXJyYXlJdGVyICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDApXG5cdCAgLCB0b0xlbmd0aCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpXG5cdCAgLCBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKVxuXHQgICwgZ2V0SXRlckZuICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCkoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG5cdCAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuXHQgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuXHQgICAgdmFyIE8gICAgICAgPSB0b09iamVjdChhcnJheUxpa2UpXG5cdCAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcblx0ICAgICAgLCBhTGVuICAgID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgICAsIG1hcGZuICAgPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZFxuXHQgICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG5cdCAgICAgICwgaW5kZXggICA9IDBcblx0ICAgICAgLCBpdGVyRm4gID0gZ2V0SXRlckZuKE8pXG5cdCAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuXHQgICAgaWYobWFwcGluZyltYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuXHQgICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG5cdCAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG5cdCAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKXtcblx0ICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcblx0ICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcblx0ICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdH0pO1xuXG5cbi8qKiovIH0sXG4vKiAxMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3Jcblx0dmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG5cdCAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcblx0ICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG5cdCAgICB0aHJvdyBlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxuXHR2YXIgSXRlcmF0b3JzICA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCAgLCBJVEVSQVRPUiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MikoJ2l0ZXJhdG9yJylcblx0ICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKVxuXHQgICwgY3JlYXRlRGVzYyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgaW5kZXgsIHZhbHVlKXtcblx0ICBpZihpbmRleCBpbiBvYmplY3QpJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuXHQgIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpXG5cdCAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSgnaXRlcmF0b3InKVxuXHQgICwgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSkuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cblx0ICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cblx0ICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MikoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuXHR2YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG5cdCAgICAvLyBidWlsdGluVGFnIGNhc2Vcblx0ICAgIDogQVJHID8gY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElURVJBVE9SICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpKCdpdGVyYXRvcicpXG5cdCAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblx0XG5cdHRyeSB7XG5cdCAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG5cdCAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG5cdH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuXHQgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcblx0ICB2YXIgc2FmZSA9IGZhbHNlO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyICA9IFs3XVxuXHQgICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcblx0ICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcblx0ICAgIGV4ZWMoYXJyKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuIHNhZmU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGZhbGxiYWNrID0gZnVuY3Rpb24gZmFsbGJhY2sodmFsdWUsIF9mYWxsYmFjaykge1xuXHQgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBfZmFsbGJhY2s7XG5cdH07XG5cdFxuXHR2YXIgbWFrZUhhbmRsZVBvaW50ID0gZnVuY3Rpb24gbWFrZUhhbmRsZVBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBpbmRleDogZmFsbGJhY2soby5pbmRleCwgMCksXG5cdCAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgYW5nbGU6IGZhbGxiYWNrKG8uYW5nbGUsIG51bGwpLFxuXHQgICAgcmFkaXVzOiBmYWxsYmFjayhvLnJhZGl1cywgbnVsbCksXG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgaXNUb3VjaGVkOiBmYWxsYmFjayhvLmlzVG91Y2hlZCwgZmFsc2UpLFxuXHQgICAgaXNTZWxlY3RlZDogZmFsbGJhY2soby5pc1NlbGVjdGVkLCBmYWxzZSlcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG1ha2VQb3NpdGlvblBvaW50ID0gZnVuY3Rpb24gbWFrZVBvc2l0aW9uUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIC8vIGNvb3JkaW5hdGVzXG5cdCAgICB4OiBmYWxsYmFjayhvLngsIDApLFxuXHQgICAgeTogZmFsbGJhY2soby55LCAwKSxcblx0ICAgIC8vIHRlbXBvcmFyeSBjb29yZGluYXRlcyAod2hlbiB1c2VyIG1vdmVzIHRoZSBwb2ludCkgLVxuXHQgICAgLy8gc2hvdWxkIG5vdCBiZSBpbiBoaXN0b3J5XG5cdCAgICB0ZW1wWDogZmFsbGJhY2soby50ZW1wWCwgMCksXG5cdCAgICB0ZW1wWTogZmFsbGJhY2soby50ZW1wWSwgMCksXG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgaXNUb3VjaGVkOiBmYWxsYmFjayhvLmlzVG91Y2hlZCwgZmFsc2UpLFxuXHQgICAgaXNTZWxlY3RlZDogZmFsbGJhY2soby5pc1NlbGVjdGVkLCBmYWxzZSlcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG1ha2VQb2ludCA9IGZ1bmN0aW9uIG1ha2VQb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgLy8gaXNPbmVIYW5kbGU6IGZhbGxiYWNrKCBvLmlzT25lSGFuZGxlLCBmYWxzZSApLFxuXHQgICAgaXNMb2NrZWRYOiBmYWxsYmFjayhvLmlzTG9ja2VkWCwgZmFsc2UpLFxuXHQgICAgaXNMb2NrZWRZOiBmYWxsYmFjayhvLmlzTG9ja2VkWSwgZmFsc2UpLFxuXHQgICAgLy8gdHlwZSBvZiB0aGUgcG9pbnQ6XG5cdCAgICAvLyAgICdzdHJhaWdodCcgfHwgJ21pcnJvcmVkJyB8fCAnZGlzY29ubmVjdGVkJyB8fCAnYXN5bWV0cmljJ1xuXHQgICAgdHlwZTogZmFsbGJhY2soby50eXBlLCAnc3RyYWlnaHQnKVxuXHQgIH0sIG1ha2VQb3NpdGlvblBvaW50KG8pLCB7XG5cdCAgICAvLyBhZGQgY3VydmUgaGFuZGxlc1xuXHQgICAgaGFuZGxlMTogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMSB8fCB7IGluZGV4OiAxIH0pLFxuXHQgICAgaGFuZGxlMjogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMiB8fCB7IGluZGV4OiAyIH0pXG5cdCAgfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtYWtlUG9pbnQ7XG5cbi8qKiovIH0sXG4vKiAxNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgaXNTaG93OiBmYWxzZSxcblx0ICB0eXBlOiAnc3RyYWlnaHQnXG5cdH07XG5cdFxuXHR2YXIgcG9pbnRDb250cm9scyA9IGZ1bmN0aW9uIHBvaW50Q29udHJvbHMoKSB7XG5cdCAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gSU5JVElBTF9TVEFURSA6IGFyZ3VtZW50c1swXTtcblx0ICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXHRcblx0ICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG5cdCAgICAvLyBwcm9iYWJseSByZWR1bmRhbnRcblx0ICAgIC8vIGNhc2UgJ1BPSU5UX0FERCc6IHtcblx0ICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9O1xuXHQgICAgLy8gfVxuXHQgICAgY2FzZSAnUE9JTlRfU0VMRUNUJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogYWN0aW9uLmRhdGEudHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0XHQgdHJ1ZSA/IGZhY3RvcnkoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygyKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpKSA6XG5cdFx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdwcmVhY3QnLCAncmVkdXgnXSwgZmFjdG9yeSkgOlxuXHRcdChmYWN0b3J5KChnbG9iYWwucHJlYWN0UmVkdXggPSBnbG9iYWwucHJlYWN0UmVkdXggfHwge30pLGdsb2JhbC5wcmVhY3QsZ2xvYmFsLnJlZHV4KSk7XG5cdH0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMscHJlYWN0LHJlZHV4KSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ZnVuY3Rpb24gX19jb21tb25qcyhmbiwgbW9kdWxlKSB7IHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0czsgfVxuXHRcblx0XG5cdFx0dmFyIGJhYmVsSGVscGVycyA9IHt9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdFx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHRcdCAgfVxuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXHRcblx0XHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHRcdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdFx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0YXJnZXQ7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG5cdFx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdFx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuXHRcdCAgfVxuXHRcblx0XHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHRcdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHRcdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0XHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0XHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0XHQgICAgfVxuXHRcdCAgfSk7XG5cdFx0ICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuXHRcdCAgaWYgKCFzZWxmKSB7XG5cdFx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnM7XG5cdFxuXHRcdHZhciBDaGlsZHJlbiA9IHtcblx0XHRcdG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHRcdFx0XHRyZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW5bMF0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5cdFx0cHJvcHR5cGUuaXNSZXF1aXJlZCA9IHByb3B0eXBlO1xuXHRcblx0XHR2YXIgUHJvcFR5cGVzID0ge1xuXHRcdFx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdFx0XHRmdW5jOiBwcm9wdHlwZSxcblx0XHRcdHNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBwcm9wdHlwZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHR2YXIgc3RvcmVTaGFwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG5cdFx0ICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0XHQgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG5cdFx0fSk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cblx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcblx0XHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHQgIH1cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHRcdCAgdHJ5IHtcblx0XHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdFx0ICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdFx0ICB9IGNhdGNoIChlKSB7fVxuXHRcdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHRcdH1cblx0XG5cdFx0dmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG5cdFx0ZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG5cdFx0ICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcblx0XHQgICAgcmV0dXJuO1xuXHRcdCAgfVxuXHRcdCAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlO1xuXHRcblx0XHQgIHdhcm5pbmcoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHRcdCAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9O1xuXHRcdCAgfTtcblx0XG5cdFx0ICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXHRcblx0XHQgICAgdmFyIF90aGlzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cdFxuXHRcdCAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuXHRcdCAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICB9XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0XG5cdFx0ICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblx0XHQgIH07XG5cdFxuXHRcdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHRcdH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdGlmICh0cnVlKSB7XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcblx0XHQgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0XHQgICAgdmFyIG5leHRTdG9yZSA9IG5leHRQcm9wcy5zdG9yZTtcblx0XG5cdFxuXHRcdCAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuXHRcdCAgICAgIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcblx0XHQgIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWRcblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuXHRcdCAgaWYgKG9iakEgPT09IG9iakIpIHtcblx0XHQgICAgcmV0dXJuIHRydWU7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG5cdFx0ICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblx0XG5cdFx0ICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcblx0XHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgfVxuXHRcblx0XHQgIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG5cdFx0ICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG5cdFx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICB9XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcblx0XHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0XHQgICAgcmV0dXJuIHJlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdHZhciBpc09iamVjdExpa2UgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdFx0ICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSA0LjAuMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2Uoe30pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcblx0XHQgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMCA9IGlzT2JqZWN0TGlrZSAmJiB0eXBlb2YgaXNPYmplY3RMaWtlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNPYmplY3RMaWtlID8gaXNPYmplY3RMaWtlWydkZWZhdWx0J10gOiBpc09iamVjdExpa2U7XG5cdFxuXHRcdHZhciBfaXNIb3N0T2JqZWN0ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHRcdCAgICpcblx0XHQgICAqIEBwcml2YXRlXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdFx0ICAgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdFx0ICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0XHQgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdFx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0XHQgICAgfVxuXHRcdCAgICByZXR1cm4gcmVzdWx0O1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMSA9IF9pc0hvc3RPYmplY3QgJiYgdHlwZW9mIF9pc0hvc3RPYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfaXNIb3N0T2JqZWN0ID8gX2lzSG9zdE9iamVjdFsnZGVmYXVsdCddIDogX2lzSG9zdE9iamVjdDtcblx0XG5cdFx0dmFyIF9nZXRQcm90b3R5cGUgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0XHQgIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdFx0ICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciByZXF1aXJlJCQyID0gX2dldFByb3RvdHlwZSAmJiB0eXBlb2YgX2dldFByb3RvdHlwZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIF9nZXRQcm90b3R5cGUgPyBfZ2V0UHJvdG90eXBlWydkZWZhdWx0J10gOiBfZ2V0UHJvdG90eXBlO1xuXHRcblx0XHR2YXIgaXNQbGFpbk9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgdmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUkJDIsXG5cdFx0ICAgICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSQkMSxcblx0XHQgICAgICBpc09iamVjdExpa2UgPSByZXF1aXJlJCQwO1xuXHRcblx0XHQgIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0XHQgIHZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdFx0ICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0XHQgIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdFx0ICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdFx0ICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdFx0ICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0XHQgICAqIG9mIHZhbHVlcy5cblx0XHQgICAqL1xuXHRcdCAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdFx0ICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSAwLjguMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG5cdFx0ICAgKiAgZWxzZSBgZmFsc2VgLlxuXHRcdCAgICogQGV4YW1wbGVcblx0XHQgICAqXG5cdFx0ICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdFx0ICAgKiAgIHRoaXMuYSA9IDE7XG5cdFx0ICAgKiB9XG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuXHRcdCAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0XHQgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdCAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QkMSA9IGlzUGxhaW5PYmplY3QgJiYgdHlwZW9mIGlzUGxhaW5PYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpc1BsYWluT2JqZWN0ID8gaXNQbGFpbk9iamVjdFsnZGVmYXVsdCddIDogaXNQbGFpbk9iamVjdDtcblx0XG5cdFx0dmFyIGluZGV4ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cblx0XHQgICAgICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuXHRcdCAgICAgKi9cblx0XHQgICAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0XHQgICAgdmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuXHRcdCAgICAgICAgbWl4aW5zOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvcFR5cGVzOiB0cnVlLFxuXHRcdCAgICAgICAgdHlwZTogdHJ1ZVxuXHRcdCAgICB9O1xuXHRcblx0XHQgICAgdmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBuYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgbGVuZ3RoOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvdG90eXBlOiB0cnVlLFxuXHRcdCAgICAgICAgY2FsbGVyOiB0cnVlLFxuXHRcdCAgICAgICAgYXJndW1lbnRzOiB0cnVlLFxuXHRcdCAgICAgICAgYXJpdHk6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcblx0XHQgICAgICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuXHRcdCAgICAgICAgICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cdFx0ICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXHRcdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHRcdCAgICAgICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuXHRcdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cdFx0ICAgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcblx0XHQgICAgfTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGhvaXN0U3RhdGljcyA9IGluZGV4ICYmIHR5cGVvZiBpbmRleCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGluZGV4ID8gaW5kZXhbJ2RlZmF1bHQnXSA6IGluZGV4O1xuXHRcblx0XHR2YXIgaW52YXJpYW50ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdFx0ICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHRcdCAgICpcblx0XHQgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHRcdCAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdFx0ICAgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0XHQgICAqL1xuXHRcblx0XHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAvKipcblx0XHQgICAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0XHQgICAqXG5cdFx0ICAgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHRcdCAgICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdFx0ICAgKiBleHBlY3RpbmcuXG5cdFx0ICAgKlxuXHRcdCAgICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0XHQgICAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0XHQgICAqL1xuXHRcblx0XHQgIHZhciBOT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XG5cdFxuXHRcdCAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdCAgICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcblx0XHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0XHQgICAgICB2YXIgZXJyb3I7XG5cdFx0ICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0XHQgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0XHQgICAgICAgIH0pKTtcblx0XHQgICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdFx0ICAgICAgdGhyb3cgZXJyb3I7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpbnZhcmlhbnQkMSA9IGludmFyaWFudCAmJiB0eXBlb2YgaW52YXJpYW50ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaW52YXJpYW50ID8gaW52YXJpYW50WydkZWZhdWx0J10gOiBpbnZhcmlhbnQ7XG5cdFxuXHRcdHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdFx0ICByZXR1cm4ge307XG5cdFx0fTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHZhciBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICByZXR1cm4geyBkaXNwYXRjaDogZGlzcGF0Y2ggfTtcblx0XHR9O1xuXHRcdHZhciBkZWZhdWx0TWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgcmV0dXJuIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHRcdH1cblx0XG5cdFx0dmFyIGVycm9yT2JqZWN0ID0geyB2YWx1ZTogbnVsbCB9O1xuXHRcdGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcblx0XHQgIHRyeSB7XG5cdFx0ICAgIHJldHVybiBmbi5hcHBseShjdHgpO1xuXHRcdCAgfSBjYXRjaCAoZSkge1xuXHRcdCAgICBlcnJvck9iamVjdC52YWx1ZSA9IGU7XG5cdFx0ICAgIHJldHVybiBlcnJvck9iamVjdDtcblx0XHQgIH1cblx0XHR9XG5cdFxuXHRcdC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0dmFyIG5leHRWZXJzaW9uID0gMDtcblx0XG5cdFx0ZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykge1xuXHRcdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdFx0ICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuXHRcdCAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG5cdFxuXHRcdCAgdmFyIG1hcERpc3BhdGNoID0gdm9pZCAwO1xuXHRcdCAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHM7XG5cdFx0ICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKTtcblx0XHQgIH1cblx0XG5cdFx0ICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XHQgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuXHRcdCAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcblx0XHQgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuXHRcdCAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG5cdFxuXHRcdCAgdmFyIGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzO1xuXHRcblx0XHQgIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0ICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG5cdFxuXHRcdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG5cdFx0ICAgIHZhciBjb25uZWN0RGlzcGxheU5hbWUgPSAnQ29ubmVjdCgnICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcblx0XHQgICAgICBpZiAoIWlzUGxhaW5PYmplY3QkMShwcm9wcykpIHtcblx0XHQgICAgICAgIHdhcm5pbmcobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgICAgIHZhciBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcyk7XG5cdFx0ICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgZnVuY3Rpb24gQ29ubmVjdChwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICAgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXHRcblx0XHQgICAgICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdCAgICAgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlO1xuXHRcblx0XHQgICAgICAgIGludmFyaWFudCQxKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnICsgKCdwcm9wcyBvZiBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuICcpICsgJ0VpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcgKyAoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICdcIi4nKSk7XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfTtcblx0XHQgICAgICAgIF90aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICAgIHJldHVybiBfdGhpcztcblx0XHQgICAgICB9XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpO1xuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShzdGF0ZVByb3BzLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gc3RhdGVQcm9wcztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGU7XG5cdFx0ICAgICAgICB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcHV0ZURpc3BhdGNoUHJvcHMgPSBmdW5jdGlvbiBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpO1xuXHRcdCAgICAgICAgdmFyIGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJztcblx0XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcblx0XHQgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuXHRcblx0XHQgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBtYXBwZWREaXNwYXRjaDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzO1xuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcblx0XHQgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcblx0XHQgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcblx0XHQgICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG5cdFx0ICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcyk7XG5cdFx0ICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RvcmVTdGF0ZTogc3RvcmVTdGF0ZSB9KTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMSh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAneyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuJyk7XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdCAgICAgICAgdmFyIGhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQ7XG5cdFx0ICAgICAgICB2YXIgaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMucmVuZGVyZWRFbGVtZW50O1xuXHRcblx0XG5cdFx0ICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFxuXHRcdCAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG5cdFx0ICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcztcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG5cdFx0ICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHwgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAod2l0aFJlZikge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCB0aGlzLm1lcmdlZFByb3BzLCB7XG5cdFx0ICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuXHRcdCAgICAgICAgICB9KSk7XG5cdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICByZXR1cm4gQ29ubmVjdDtcblx0XHQgICAgfShwcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG5cdFx0ICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cdFx0ICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge1xuXHRcdCAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG5cdFx0ICAgIH07XG5cdFxuXHRcblx0XHQgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcblx0XHQgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuXHRcdCAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdGV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcblx0XHRleHBvcnRzLmNvbm5lY3QgPSBjb25uZWN0O1xuXG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMTQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNDksIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSxodG1se21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kOiNmZmY1ZTR9Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7XG5cdFxuXHR2YXIgSWNvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoSWNvbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEljb24oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBJY29uKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEljb24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSWNvbiwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc2hhcGUgPSB0aGlzLnByb3BzLnNoYXBlO1xuXHQgICAgICB2YXIgbWFya3VwID0gJzxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiPjx1c2UgeGxpbms6aHJlZj1cIiMnICsgc2hhcGUgKyAnLXNoYXBlXCIgLz48L3N2Zz4nO1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2ljb24nXSxcblx0ICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAnaWNvbicsXG5cdCAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBtYXJrdXAgfSB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEljb247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbjtcblxuLyoqKi8gfSxcbi8qIDE1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uXCI6IFwiX2ljb25fNGE4bGZfNVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Myk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMikoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1MywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb25fNGE4bGZfNXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMnB4O2hlaWdodDozMnB4O2N1cnNvcjpwb2ludGVyO2ZpbGw6I2ZmZjtkaXNwbGF5OmJsb2NrfS5faWNvbl80YThsZl81PnN2Z3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU+c3ZnPnVzZXtmaWxsOmluaGVyaXR9Ll9pY29uXzRhOGxmXzU6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjF9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBJY29ucyA9IGZ1bmN0aW9uIEljb25zKCkge1xuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6ICc8c3ZnIGhlaWdodD1cIjBcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMTAwJTsgd2lkdGg6MDsgaGVpZ2h0OjA7XCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+XFxuICAgICAgPGcgaWQ9XCJlbGxpcHNpcy1zaGFwZVwiPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjExXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIyMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cImNvZGUtc2hhcGVcIiBkPVwiTTgsMTYuMDg0OTY0OCBDOCwxNS44MjEwNzkzIDguMTExNDkwNjksMTUuNjEyOTM5MyA4LjMzNDgzNDA1LDE1LjQ2MDkwNjUgTDEyLjMzOTA4NzQsMTIuODQxOTYxMiBDMTIuMzg5NzY0OSwxMi44MDE0MTkyIDEyLjQ2NTc4MTMsMTIuNzgxMTQ4MSAxMi41Njc0OTg1LDEyLjc4MTE0ODEgQzEyLjczOTgwMjMsMTIuNzgxMTQ4MSAxMi45MDQ4NjY0LDEyLjg1NzE2NDUgMTMuMDYyMzI4OSwxMy4wMDk1NTkyIEMxMy4yMTk0Mjk0LDEzLjE2MTk1NCAxMy4yOTgzNDE3LDEzLjMzOTMyNTUgMTMuMjk4MzQxNywxMy41NDIzOTc5IEMxMy4yOTgzNDE3LDEzLjczNTMzNDcgMTMuMjIxOTYzMywxMy44ODI2NjE3IDEzLjA2OTIwNjYsMTMuOTg0MDE2OCBMOS44NTc2OTU1MywxNi4wODQ5NjQ4IEwxMy4wNjkyMDY2LDE4LjE4NjI3NDcgQzEzLjIyMTk2MzMsMTguMjY3NzIwOCAxMy4yOTgzNDE3LDE4LjQxNDY4NTggMTMuMjk4MzQxNywxOC42Mjc4OTM3IEMxMy4yOTgzNDE3LDE4LjgzMDk2NiAxMy4yMTk3OTE0LDE5LjAwNjE2NTcgMTMuMDYyMzI4OSwxOS4xNTMxMzA3IEMxMi45MDQ4NjY0LDE5LjMwMDQ1NzYgMTIuNzM5ODAyMywxOS4zNzM5NDAxIDEyLjU2NzQ5ODUsMTkuMzczOTQwMSBDMTIuNDY1NzgxMywxOS4zNzM5NDAxIDEyLjM4OTc2NDksMTkuMzUzNjY5MSAxMi4zMzkwODc0LDE5LjMxMzEyNyBMOC4zMzQ4MzQwNSwxNi42OTM4MTk4IEM4LjExMTQ5MDY5LDE2LjU0MTQyNSA4LDE2LjMzODcxNDcgOCwxNi4wODQ5NjQ4IEw4LDE2LjA4NDk2NDggWiBNMTQuMTM5OTUxNiwyMC42ODc1NzU2IEMxNC4xMjY1NTgyLDIwLjYwNzU3NzQgMTQuMTI4NzMwMSwyMC41MzAxMTMxIDE0LjE0NjgyOTMsMjAuNDU0ODIwNyBMMTYuOTM5NTI2MywxMS4zNTYwMjIgQzE2Ljk4OTExNzksMTEuMTYyMzYxMiAxNy4xMjM3NzU1LDExLjA0Njg4ODcgMTcuMzQ0MjIzLDExLjAwOTYwNDUgQzE3LjUwNDIxOTQsMTAuOTgyNDU1OCAxNy42NTg3ODYsMTEuMDEyODYyMyAxNy44MDc1NjA5LDExLjEwMDgyNDIgQzE3Ljk1NjMzNTgsMTEuMTg5MTQ3OSAxOC4wNDQyOTc2LDExLjMxMzMwOCAxOC4wNzEwODQ0LDExLjQ3MzMwNDQgQzE4LjA4NjI4NzYsMTEuNTYzNDM4MSAxOC4wNzk3NzIsMTEuNjQ3MDU2MSAxOC4wNTE4OTkzLDExLjcyMzc5NjUgTDE1LjI2NjQ0MTksMjAuNzc0ODEzNCBDMTUuMjA4NTI0NywyMC45ODAwNTc3IDE1LjA1OTM4NzgsMjEuMTAzMTMxOCAxNC44MTkzOTMyLDIxLjE0NDAzNTggQzE0LjY0ODg5OTMsMjEuMTcyOTk0NSAxNC40OTk0MDA1LDIxLjEzODk2ODEgMTQuMzY5ODEwNiwyMS4wNDI2ODA3IEMxNC4yNDAyMjA4LDIwLjk0NjAzMTMgMTQuMTYzODQyNCwyMC44Mjc2NjI5IDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBMMTQuMTM5OTUxNiwyMC42ODc1NzU2IFogTTE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBDMTguNzk1NDExOSwxOS4wMDU4MDM3IDE4LjcxNjg2MTYsMTguODMwNjA0IDE4LjcxNjg2MTYsMTguNjI3NTMxNyBDMTguNzE2ODYxNiwxOC40MjQ0NTk0IDE4Ljc4NzgxMDIsMTguMjc3NDk0NCAxOC45MzAwNjk1LDE4LjE4NTkxMjcgTDIyLjE0MjY2NjUsMTYuMDg0NjAyOCBMMTguOTMwMDY5NSwxMy45ODM2NTQ5IEMxOC43ODc4MTAyLDEzLjg3MTgwMjIgMTguNzE2ODYxNiwxMy43MjQ4MzcyIDE4LjcxNjg2MTYsMTMuNTQyMDM1OSBDMTguNzE2ODYxNiwxMy4zMzg5NjM2IDE4Ljc5NTQxMTksMTMuMTYxNTkyIDE4Ljk1Mjg3NDQsMTMuMDA5MTk3MyBDMTkuMTEwMzM2OSwxMi44NTY4MDI1IDE5LjI3NTAzOSwxMi43ODA3ODYxIDE5LjQ0NzcwNDgsMTIuNzgwNzg2MSBDMTkuNTM4OTI0NSwxMi43ODA3ODYxIDE5LjYwOTg3MzEsMTIuODAxNDE5MiAxOS42NjA5MTI2LDEyLjg0MTU5OTIgTDIzLjY2NTE2NTksMTUuNDYwNTQ0NSBDMjMuODg4MTQ3MywxNS42MTI5MzkzIDI0LDE1LjgyMTA3OTMgMjQsMTYuMDg0NjAyOCBDMjQsMTYuMzQ4ODUwMiAyMy44ODgxNDczLDE2LjU1MTU2MDYgMjMuNjY1MTY1OSwxNi42OTM4MTk4IEwxOS42NjA5MTI2LDE5LjMxMjc2NTEgQzE5LjYwOTg3MzEsMTkuMzUzMzA3MSAxOS41Mzg5MjQ1LDE5LjM3MzU3ODIgMTkuNDQ3NzA0OCwxOS4zNzM1NzgyIEMxOS4yNzUwMzksMTkuMzczNTc4MiAxOS4xMTAzMzY5LDE5LjMwMDA5NTcgMTguOTUyODc0NCwxOS4xNTI3Njg3IEwxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgWlwiPjwvcGF0aD5cXG4gICAgICA8ZyBpZD1cInBvaW50LXN0cmFpZ2h0LXNoYXBlXCIgZmlsbD1cIm5vbmVcIj5cXG4gICAgICAgIDxwb2x5bGluZSBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBwb2ludHM9XCI3Ljg4MSAyMC41NjggMTUuNDUxIDEyLjI0MSAyMy44OTIgMjAuNTY4XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtbWlycm9yZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMS45MDEyNjMyIEM3Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgNy41OTI4NzE3MiwxMy41NzQwNTM3IDE1LjQ1MTQ0MjMsMTMuNTc0MDUzNyBDMjMuMzEwMDEyOSwxMy41NzQwNTM3IDIzLjg5MjEyMjgsMjEuOTAxMjYzMiAyMy44OTIxMjI4LDIxLjkwMTI2MzJcIi8+XFxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk03LjEzODgzNTI3LDEzLjMzMzMzMzMgTDI1LjgwNTUwMTMsMTMuMzMzMzMzM1wiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjE0LjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTMuMzMzXCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyNFwiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtZGlzY29ubmVjdGVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjAuNTY3OTI5OCBDNy44ODE0NDg0MSwyMC41Njc5Mjk4IDcuNTkyODcxNzIsMTIuMjQwNzIwNCAxNS40NTE0NDIzLDEyLjI0MDcyMDQgQzIxLjIwMDUyMDcsMTcuODg3MzcgMjMuODkyMTIyOCwyMC41Njc5Mjk4IDIzLjg5MjEyMjgsMjAuNTY3OTI5OFwiLz5cXG4gICAgICAgIDxwb2x5bGluZSBzdHJva2U9XCIjRkY1MTJGXCIgcG9pbnRzPVwiNi4xMzMgMTIgMTUuMjI4IDEyIDIzLjkzMyAyMC42MDJcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxMy40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyMS44ODZcIiB5PVwiMTguNTUyXCIgZmlsbD1cIiNGRjUxMkZcIiB0cmFuc2Zvcm09XCJyb3RhdGUoNDUgMjMuMjE5IDE5Ljg4NilcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiNS4zMzNcIiB5PVwiMTAuNjY3XCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgPC9nPlxcbiAgICAgIDxnIGlkPVwicG9pbnQtYXN5bW1ldHJpYy1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg3LjY2NyA5LjMzMylcIj5cXG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSBDMC4yMTQ3ODE3NDIsMTEuMjM0NTk2NSAtMC4zNzM1MTE4NjksMi45MDcwOTYxMyA3Ljc4NDc3NTY0LDIuOTA3Mzg3MDQgQzEwLjc1MDAwMDMsMi45MDc0OTI3NyAxNi4yMjU0NTYyLDExLjIzNDU5NjUgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1XCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiOVwiIGN5PVwiNC40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNMi41Mjc4ODUwMywyLjY2NjY2NjY3IEwxOC4xMzg4MzQ2LDIuNjY2NjY2NjdcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjcuNjY3XCIgY3k9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMTYuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiLjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8cGF0aCBpZD1cIm1vanMtbG9nby1zaGFwZVwiIGQ9XCJNMTguNDY3ODkwNywyLjY3NzAwMDQ4IEMxOS40ODg1ODYsMy4yNTc1ODYyNSAyMC4yNzg5MjI3LDQuMTg0MjE2NTEgMjAuODc4MjMsNS4xOTczNTc5IEMyNC4wODA3Nzg4LDEwLjUwMTQ1MSAyNy4yNzc3MDkxLDE1LjgxMTMxMTYgMzAuNDgwMjU4LDIxLjExNTQwNDcgQzMxLjEzMjAwNDcsMjIuMTYxMjI4MSAzMS43NzA2NDE3LDIzLjI2NDcyNTYgMzEuOTM1NDUxMiwyNC41MTYyNTMyIEMzMi4xODgyODQsMjYuMDYxOTE4NiAzMS42OTE5ODI2LDI3LjczNjM4OTUgMzAuNTU4OTE3MSwyOC44MDMzNiBDMjkuNDUwMTk4NCwyOS44ODU3MTAzIDI3Ljg4MDc2MjIsMzAuMzE4MjY1OSAyNi4zODA2MjA5LDMwLjMwNDgwODYgQzE5LjQ1MTEyOTMsMzAuMzA4NjUzNSAxMi41MjM1MTA2LDMwLjMwODY1MzUgNS41OTQwMTkwMSwzMC4zMDQ4MDg2IEMzLjcxNTU2NDk0LDMwLjM0MzI1OCAxLjY5ODUyMTA0LDI5LjU3MjM0NzggMC42ODM0NDQxNjUsMjcuODcwOTYyMyBDLTAuNDA2NTQ2MTMyLDI2LjEwOTk4MDMgLTAuMDk3NTI4MjY0MywyMy43OTE0ODIyIDAuOTQwMDIyNjM3LDIyLjA4NDMyOTMgQzQuMzQyOTY0ODUsMTYuNDEzMDQ0NSA3Ljc2NjUwODI2LDEwLjc1MzI5NDUgMTEuMTgyNTYwMyw1LjA4OTY5OTYxIEMxMS45NzQ3Njk4LDMuNzQ3ODE1OTUgMTMuMTg0NjIxNSwyLjYwMjAyNDE4IDE0LjY4NDc2MjgsMi4xODI5MjU4NCBDMTUuOTQ1MTgxMiwxLjgxNTczNDE4IDE3LjMzNDgyNTEsMi4wMTE4MjYwNiAxOC40Njc4OTA3LDIuNjc3MDAwNDggWiBNMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IEMxNS42MTQ2MjM4LDkuMDM3Nzk0NzYgMTYuMDc5MTU5Nyw5LjAyMjUwNjU1IDE2LjM3ODU2NzksOS40OTI5NTQ3IEwyNS4yNzYzNTU1LDIzLjQ3MzY5MTMgQzI1LjU3MjM5MTksMjMuOTM4ODQxNCAyNS4zNTY4NDMzLDI0LjMxNTkyMDEgMjQuODA3NDM5OCwyNC4zMTU5MjAyIEw3LjYyMzE0NjQ3LDI0LjMxNTkyMDUgQzcuMDY4MTM1MDUsMjQuMzE1OTIwNiA2Ljg0NjIyNzk4LDIzLjkyODY4ODkgNy4xMjcyODkxMywyMy40NTEzNzc5IEwxNS4zMzM0NjY4LDkuNTE1MjY4NDkgWlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48L3BhdGg+XFxuICAgIDwvc3ZnPicgfSB9KTtcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb25zO1xuXG4vKioqLyB9LFxuLyogMTU1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvckxlZnQgPSBmdW5jdGlvbiBDdXJ2ZUVkaXRvckxlZnQoKSB7XG5cdCAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgJ2RpdicsXG5cdCAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snY3VydmUtZWRpdG9yX19sZWZ0J10gfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnYScsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvJ10sXG5cdCAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3InLCB0YXJnZXQ6ICdfYmxhbmsnIH0sXG5cdCAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiAnbW9qcy1sb2dvJyB9KVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZUVkaXRvckxlZnQ7XG5cbi8qKiovIH0sXG4vKiAxNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2xpdHRsZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYyKTtcblx0XG5cdHZhciBfbGl0dGxlSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpdHRsZUhhbmRsZSk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9yb3VuZFRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTcpO1xuXHRcblx0dmFyIF9yb3VuZFRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdW5kVG8pO1xuXHRcblx0dmFyIF9jbGFtcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblx0XG5cdHZhciBfY2xhbXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhbXApO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xuXHRcblx0dmFyIFBvaW50ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShQb2ludCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBvaW50KCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUG9pbnQpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoUG9pbnQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9pbnQsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBwb2ludCA9IF9wcm9wcy5wb2ludDtcblx0ICAgICAgdmFyIHN0YXRlID0gX3Byb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgc2VsZWN0ZWQgPSBwb2ludC5pc1NlbGVjdGVkID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnO1xuXHQgICAgICB2YXIgaGFuZGxlcyA9IHBvaW50LnR5cGUgPT09ICdzdHJhaWdodCcgPyBDTEFTU0VTWydpcy1oaWRlLWhhbmRsZXMnXSA6ICcnO1xuXHRcblx0ICAgICAgdmFyIGxpdHRsZUhhbmRsZXMgPSB0aGlzLl9nZXRMaXR0bGVIYW5kbGVzKHN0YXRlKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncG9pbnQnXSArICcgJyArIHNlbGVjdGVkICsgJyAnICsgaGFuZGxlcyxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRTdHlsZShzdGF0ZSkgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ3BvaW50X190b3VjaCddLCBpZDogJ2pzLXBvaW50LXRvdWNoJyB9KSxcblx0ICAgICAgICBsaXR0bGVIYW5kbGVzXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoc3RhdGUpIHtcblx0ICAgICAgdmFyIHBvaW50ID0gdGhpcy5wcm9wcy5wb2ludDtcblx0ICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIHggPSAoMCwgX2NsYW1wMi5kZWZhdWx0KShwb2ludC54ICsgcG9pbnQudGVtcFgsIDAsIDEwMCk7XG5cdCAgICAgIHZhciBjbGVhblggPSB4ICogcmVzaXplLnNjYWxlclg7XG5cdCAgICAgIHZhciB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZO1xuXHRcblx0ICAgICAgdmFyIHRyYW5zbGF0ZSA9ICd0cmFuc2Zvcm06IHRyYW5zbGF0ZSgnICsgY2xlYW5YICsgJ3B4LCAnICsgKHkgLSAxKSArICdweCknO1xuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldExpdHRsZUhhbmRsZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRMaXR0bGVIYW5kbGVzKHN0YXRlKSB7XG5cdCAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMi5wb2ludDtcblx0ICAgICAgdmFyIHBvaW50c0NvdW50ID0gX3Byb3BzMi5wb2ludHNDb3VudDtcblx0ICAgICAgdmFyIGhhbmRsZXMgPSBbXTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTEgZm9yIHN0YXJ0IHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSAwICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMSwgcG9pbnQpKTtcblx0ICAgICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuXHQgICAgICBpbmRleCAhPT0gcG9pbnRzQ291bnQgLSAxICYmIGhhbmRsZXMucHVzaCh0aGlzLl9jcmVhdGVIYW5kbGUoMiwgcG9pbnQpKTtcblx0ICAgICAgcmV0dXJuIGhhbmRsZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2NyZWF0ZUhhbmRsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUhhbmRsZShpbmRleCwgcG9pbnQpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKF9saXR0bGVIYW5kbGUyLmRlZmF1bHQsIHtcblx0ICAgICAgICBpbmRleDogaW5kZXgsXG5cdCAgICAgICAgc3RhdGU6IHRoaXMucHJvcHMuc3RhdGUsXG5cdCAgICAgICAgcGFyZW50SW5kZXg6IHRoaXMucHJvcHMuaW5kZXgsXG5cdCAgICAgICAgaGFuZGxlOiBwb2ludFsnaGFuZGxlJyArIGluZGV4XSxcblx0ICAgICAgICB0eXBlOiBwb2ludC50eXBlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciByZXNpemUgPSB0aGlzLnByb3BzLnN0YXRlLnJlc2l6ZTtcblx0ICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgcG9pbnQgPSBfcHJvcHMzLnBvaW50O1xuXHQgICAgICB2YXIgaW5kZXggPSBfcHJvcHMzLmluZGV4O1xuXHRcblx0XG5cdCAgICAgIHZhciBnZXRUZW1wWCA9IGZ1bmN0aW9uIGdldFRlbXBYKGUpIHtcblx0ICAgICAgICB2YXIgcmVzaXplID0gX3RoaXMyLnByb3BzLnN0YXRlLnJlc2l6ZTtcblx0ICAgICAgICB2YXIgX3Byb3BzNCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM0LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczQuaW5kZXg7XG5cdCAgICAgICAgLy8gaWYgcG9pbnQgaXMgbm90IGxvY2tlZCB0byB4IGF4ZXMgLT5cblx0ICAgICAgICAvLyBjYWxjdWxhdGUgZGVsdGEgcmVnYXJkaW5nIHNjYWxlclxuXHRcblx0ICAgICAgICBpZiAocG9pbnQuaXNMb2NrZWRYKSB7XG5cdCAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgeCA9IGUuZGVsdGFYIC8gcmVzaXplLnNjYWxlclg7XG5cdCAgICAgICAgaWYgKHBvaW50LnggKyB4IDwgMCkge1xuXHQgICAgICAgICAgcmV0dXJuIDAgLSBwb2ludC54O1xuXHQgICAgICAgIH0gZWxzZSBpZiAocG9pbnQueCArIHggPiAxMDApIHtcblx0ICAgICAgICAgIHJldHVybiAxMDAgLSBwb2ludC54O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gKDAsIF9yb3VuZFRvMi5kZWZhdWx0KShwb2ludC54ICsgeCwgNSwgMS41KSAtIHBvaW50Lng7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgZ2V0WSA9IGZ1bmN0aW9uIGdldFkoZSkge1xuXHQgICAgICAgIHZhciByZXNpemUgPSBfdGhpczIucHJvcHMuc3RhdGUucmVzaXplO1xuXHQgICAgICAgIHZhciBfcHJvcHM1ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczUucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzNS5pbmRleDtcblx0ICAgICAgICB2YXIgeSA9IHBvaW50LnkgKyBlLmRlbHRhWTtcblx0XG5cdCAgICAgICAgLy8gY2xhbXAgeSB0byB0aGUgc2l6ZSBvZiBjdXJ2ZVxuXHQgICAgICAgIHJldHVybiAoMCwgX2NsYW1wMi5kZWZhdWx0KSh5LCByZXNpemUudG9wLCBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIC8vIGdldCB5IGRlbHRhIHJlYWdhcmRpbmcgY3VydmUgYm91bmRzXG5cdCAgICAgIHZhciBnZXRUZW1wWSA9IGZ1bmN0aW9uIGdldFRlbXBZKGUpIHtcblx0ICAgICAgICB2YXIgcmVzaXplID0gX3RoaXMyLnByb3BzLnN0YXRlLnJlc2l6ZTtcblx0ICAgICAgICB2YXIgX3Byb3BzNiA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM2LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczYuaW5kZXg7XG5cdFxuXHRcblx0ICAgICAgICB2YXIgeSA9IHBvaW50LnkgKyBlLmRlbHRhWSxcblx0ICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB5O1xuXHRcblx0ICAgICAgICBpZiAoeSA8IHJlc2l6ZS50b3ApIHtcblx0ICAgICAgICAgIHJldHVyblZhbHVlID0gcmVzaXplLnRvcDtcblx0ICAgICAgICB9IGVsc2UgaWYgKHkgPiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tKSB7XG5cdCAgICAgICAgICByZXR1cm5WYWx1ZSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b207XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9yb3VuZFRvMi5kZWZhdWx0KShyZXR1cm5WYWx1ZSwgNSAqIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCwgMiAqIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCkgLSBwb2ludC55O1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1wb2ludC10b3VjaCcpLFxuXHQgICAgICAgICAgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihlbCkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURScsXG5cdCAgICAgICAgICBkYXRhOiB7IHg6IGdldFRlbXBYKGUpLCB5OiBnZXRUZW1wWShlKSwgaW5kZXg6IGluZGV4IH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURV9FTkQnLCBkYXRhOiBpbmRleCwgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgIGluZGV4OiBpbmRleCwgdHlwZTogcG9pbnQudHlwZSwgaXNEZXNlbGVjdDogIWUuc3JjRXZlbnQuc2hpZnRLZXlcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFBvaW50O1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xuXG4vKioqLyB9LFxuLyogMTU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCBiYXNlLCBzbmFwKSB7XG5cdCAgdmFyIG1vZGlmaWVkID0gTWF0aC5yb3VuZCh2YWx1ZSAvIGJhc2UpICogYmFzZTtcblx0XG5cdCAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gbW9kaWZpZWQpIDwgc25hcCA/IG1vZGlmaWVkIDogdmFsdWU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwicG9pbnRcIjogXCJfcG9pbnRfMTdwYjFfNVwiLFxuXHRcdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xN3BiMV8xXCIsXG5cdFx0XCJpcy1zZWxlY3RlZFwiOiBcIl9pcy1zZWxlY3RlZF8xN3BiMV8zMVwiLFxuXHRcdFwiaXMtaGlkZS1oYW5kbGVzXCI6IFwiX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MlwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUsIG1pbiwgbWF4KSB7XG5cdCAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluIDogdmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYxKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTYxLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTdwYjFfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSk7Ym9yZGVyOjJweCBzb2xpZCAjZmZmfS5fcG9pbnRfMTdwYjFfNSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfS5fcG9pbnRfX3RvdWNoXzE3cGIxXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O21hcmdpbi1sZWZ0Oi0xMHB4O21hcmdpbi10b3A6LTEwcHh9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSwuX3BvaW50XzE3cGIxXzU6aG92ZXJ7Ym9yZGVyLWNvbG9yOiNmZjUxMmZ9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE3cGIxXzUuX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MiBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Myk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9wb2ludFRvQW5nbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cdFxuXHR2YXIgX3BvaW50VG9BbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludFRvQW5nbGUpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIExpdHRsZUhhbmRsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoTGl0dGxlSGFuZGxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTGl0dGxlSGFuZGxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTGl0dGxlSGFuZGxlKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKExpdHRsZUhhbmRsZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShMaXR0bGVIYW5kbGUsIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgLy8gY29uc3Qge3N0YXRlfSA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZSddLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2xpdHRsZS1oYW5kbGUnIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10sXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0UG9pbnRTdHlsZSgpIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7XG5cdCAgICAgICAgICAnY2xhc3MnOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlX19saW5lJ10sXG5cdCAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0TGluZVN0eWxlKCkgfSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTt2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdFxuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuXHQgICAgICBtYy5vbigncGFuc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIGhhbmRsZSA9IF90aGlzMi5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIH0pLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzLmluZGV4O1xuXHQgICAgICAgIHZhciBwYXJlbnRJbmRleCA9IF9wcm9wcy5wYXJlbnRJbmRleDtcblx0XG5cdFxuXHQgICAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpLFxuXHQgICAgICAgICAgICBuZXdYID0gcG9pbnQueCArIGUuZGVsdGFYLFxuXHQgICAgICAgICAgICBuZXdZID0gcG9pbnQueSArIGUuZGVsdGFZLFxuXHQgICAgICAgICAgICBhbmdsZSA9ICgwLCBfcG9pbnRUb0FuZ2xlMi5kZWZhdWx0KShuZXdYLCBuZXdZKTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGluZGV4OiBpbmRleCwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4IH0sIGFuZ2xlKVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcpIHtcblx0ICAgICAgICAgIHZhciBpID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IGksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGFuZ2xlLnJhZGl1cyxcblx0ICAgICAgICAgICAgICBhbmdsZTogYW5nbGUuYW5nbGUgLSAxODBcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoX3RoaXMyLnByb3BzLnR5cGUgPT09ICdhc3ltbWV0cmljJykge1xuXHQgICAgICAgICAgdmFyIF9pID0gaW5kZXggPT09IDEgPyAyIDogMTtcblx0ICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgICAgdHlwZTogJ0hBTkRMRV9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgICAgaW5kZXg6IF9pLCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXgsXG5cdCAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldFBvaW50U3R5bGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRQb2ludFN0eWxlKCkge1xuXHQgICAgICB2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIHZhciBwb2ludCA9ICgwLCBfYW5nbGVUb1BvaW50Mi5kZWZhdWx0KShoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMpO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyBwb2ludC54ICsgJ3B4LCAnICsgcG9pbnQueSArICdweCkgcm90YXRlKCcgKyBoYW5kbGUuYW5nbGUgKyAnZGVnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2dldExpbmVTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldExpbmVTdHlsZSgpIHtcblx0ICAgICAgdmFyIGhhbmRsZSA9IHRoaXMucHJvcHMuaGFuZGxlO1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gJ3RyYW5zZm9ybTogcm90YXRlKCcgKyBoYW5kbGUuYW5nbGUgKyAnZGVnKSBzY2FsZVkoJyArIGhhbmRsZS5yYWRpdXMgKyAnKSc7XG5cdFxuXHQgICAgICByZXR1cm4gJycgKyBtb2pzLmgucHJlZml4LmNzcyArIHRyYW5zbGF0ZSArICc7ICcgKyB0cmFuc2xhdGU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBMaXR0bGVIYW5kbGU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGl0dGxlSGFuZGxlO1xuXG4vKioqLyB9LFxuLyogMTYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFuZ2xlLCByYWRpdXMpIHtcblx0ICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGU6IGFuZ2xlLCByYWRpdXM6IHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh4LCB5KSB7XG5cdCAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSxcblx0ICAgICAgYW5nbGUgPSBNYXRoLmF0YW4oeSAvIHgpICogKDE4MCAvIE1hdGguUEkpIC0gOTA7XG5cdCAgaWYgKHggPiAwKSB7XG5cdCAgICBhbmdsZSA9IGFuZ2xlIC0gMTgwO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB7IHJhZGl1czogcmFkaXVzLCBhbmdsZTogYW5nbGUgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTY2LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fbGl0dGxlLWhhbmRsZV9pdzJydV8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MDtoZWlnaHQ6MH0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjZweDtoZWlnaHQ6NnB4O2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTNweDttYXJnaW4tdG9wOi0zcHg7YmFja2dyb3VuZDojZmY1MTJmO2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjUpfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCU7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotMTAwJTttYXJnaW4tdG9wOi0xMDAlfS5fbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O21hcmdpbi1sZWZ0Oi0xcHg7bWFyZ2luLXRvcDotMXB4O2xlZnQ6NTAlO3RvcDo1MCU7YmFja2dyb3VuZDojZmY1MTJmOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJsaXR0bGUtaGFuZGxlXCI6IFwiX2xpdHRsZS1oYW5kbGVfaXcycnVfM1wiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMVwiLFxuXHRcdFwibGl0dGxlLWhhbmRsZV9fbGluZVwiOiBcIl9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzFcIlxuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImYxZGViMmJhMDA4ZmMxZGMxZGQ4XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgZjFkZWIyYmEwMDhmYzFkYzFkZDhcbiAqKi8iLCIvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcbnJlcXVpcmUoJy4uL2Nzcy9tYWluJyk7XG5pbXBvcnQge3JlbmRlciwgaH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDdXJ2ZUVkaXRvciBmcm9tICcuL3RhZ3MvY3VydmUtZWRpdG9yJztcbmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncHJlYWN0LXJlZHV4JztcblxuLy8gVE9ET1xuLy8gICAtIGluaXQgcG9pbnRzIHdpdGggZnVuY3Rpb25cbi8vICAgLSBtb3ZlIGJ1bmNoIG9mIHBvaW50cyBhdCBvbmNlXG4vLyAgIC0gYWRkIGdyaWQgYmFja2dyb3VuZFxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICByZW5kZXIoXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gICAgICA8Q3VydmVFZGl0b3IgLz5cbiAgICA8L1Byb3ZpZGVyPiwgZG9jdW1lbnQuYm9keSk7XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2FwcC5iYWJlbC5qc3hcbiAqKi8iLCIvKiogQ29weSBvd24tcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqXHRAcmV0dXJucyBvYmpcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0aWYgKHByb3BzKSB7XG5cdFx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldIT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9ialtpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBGYXN0IGNsb25lLiBOb3RlOiBkb2VzIG5vdCBmaWx0ZXIgb3V0IG5vbi1vd24gcHJvcGVydGllcy5cbiAqXHRAc2VlIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTZiYWEzNGY0NWRmNjg5NTAwMmUwM2I2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0cmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuXG4vKiogR2V0IGEgZGVlcCBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QsIGV4cHJlc3NlZCBpbiBkb3Qtbm90YXRpb24uXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdGZvciAobGV0IHA9a2V5LnNwbGl0KCcuJyksIGk9MDsgaTxwLmxlbmd0aCAmJiBvYmo7IGkrKykge1xuXHRcdG9iaiA9IG9ialtwW2ldXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIEFycmF5XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0cmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgRnVuY3Rpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuICdmdW5jdGlvbic9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgU3RyaW5nPyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHRyZXR1cm4gJ3N0cmluZyc9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHRyZXR1cm4geD09PXVuZGVmaW5lZCB8fCB4PT09bnVsbDtcbn1cblxuXG4vKiogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBleHBsaWNpdGx5IGBmYWxzZWAuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZT09PWZhbHNlIHx8IGVtcHR5KHZhbHVlKTtcbn1cblxuXG4vKiogQ29udmVydCBhIGhhc2htYXAgb2YgQ1NTIGNsYXNzZXMgdG8gYSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NOYW1lIHN0cmluZ1xuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IHByb3AgaW4gYykge1xuXHRcdGlmIChjW3Byb3BdKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0c3RyICs9IHByb3A7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG5cblxuLyoqIEp1c3QgYSBtZW1vaXplZCBTdHJpbmcjdG9Mb3dlckNhc2UgKi9cbmxldCBsY0NhY2hlID0ge307XG5leHBvcnQgY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuXG4gKlx0QHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xubGV0IHJlc29sdmVkID0gdHlwZW9mIFByb21pc2UhPT0ndW5kZWZpbmVkJyAmJiBQcm9taXNlLnJlc29sdmUoKTtcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IChmID0+IHsgcmVzb2x2ZWQudGhlbihmKTsgfSkgOiBzZXRUaW1lb3V0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZmFsc2V5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzaFRvQ2xhc3NOYW1lIH0gZnJvbSAnLi91dGlsJztcblxuXG5jb25zdCBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXG5cbi8qKiBKU1gvaHlwZXJzY3JpcHQgcmV2aXZlclxuICpcdEBzZWUgaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4XG4gKlx0QHB1YmxpY1xuICogIEBleGFtcGxlXG4gKiAgLyoqIEBqc3ggaCAqXFwvXG4gKiAgaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbiAqICByZW5kZXIoPHNwYW4+Zm9vPC9zcGFuPiwgZG9jdW1lbnQuYm9keSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdGxldCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGU7XG5cblxuXHRpZiAobGVuPjIpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHRcdGlmIChsZW49PT0zICYmIHR5cGUhPT0nb2JqZWN0JyAmJiB0eXBlIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbU3RyaW5nKGZpcnN0Q2hpbGQpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaT0yOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdGxldCBwID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoZmFsc2V5KHApKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHAuam9pbikgYXJyID0gcDtcblx0XHRcdFx0ZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gcDtcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPGFyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGxldCBjaGlsZCA9IGFycltqXSxcblx0XHRcdFx0XHRcdHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXSArPSBjaGlsZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0XHRcdFx0bGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikge1xuXHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHRcdFx0Ly8gbm9ybWFsaXplIGNsYXNzTmFtZSB0byBjbGFzcy5cblx0XHRcdGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0XHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0XHRcdGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5zdHlsZTtcblx0XHRcdC8vIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0Ly8gXHRhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVPYmpUb0NzcyhsYXN0U2ltcGxlKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cdH1cblxuXHRsZXQgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB1bmRlZmluZWQsIGNoaWxkcmVuKTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdHJldHVybiBwO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvaC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIHRvQXJyYXkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHJldHVybiBoKFxuXHRcdHZub2RlLm5vZGVOYW1lLFxuXHRcdGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLFxuXHRcdGFyZ3VtZW50cy5sZW5ndGg+MiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuXG5cdCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzXG4gKiovIiwiaW1wb3J0IHsgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBkZWx2ZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKiBDcmVhdGUgYW4gRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHNldHMgYSBnaXZlbiBzdGF0ZSBwcm9wZXJ0eS5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgY29tcG9uZW50IHdob3NlIHN0YXRlIHNob3VsZCBiZSB1cGRhdGVkXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0QSBkb3Qtbm90YXRlZCBrZXkgcGF0aCB0byB1cGRhdGUgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGV2ZW50UGF0aFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRXZlbnQgb3IgY29tcG9uZW50XG4gKlx0QHJldHVybnMge2Z1bmN0aW9ufSBsaW5rZWRTdGF0ZUhhbmRsZXJcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHRsZXQgcGF0aCA9IGtleS5zcGxpdCgnLicpLFxuXHRcdHAwID0gcGF0aFswXTtcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsXG5cdFx0XHRzID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdFx0b2JqID0gcyxcblx0XHRcdHYsIGk7XG5cdFx0aWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0XHRcdHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHRcdFx0aWYgKGVtcHR5KHYpICYmICh0PXQuX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0diA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0diA9IHQubm9kZU5hbWUgPyAoKHQubm9kZU5hbWUrdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlKSA6IGU7XG5cdFx0fVxuXHRcdGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHRcdGlmIChwYXRoLmxlbmd0aD4xKSB7XG5cdFx0XHRmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0b2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdFx0XHR9XG5cdFx0XHRvYmpbcGF0aFtpXV0gPSB2O1xuXHRcdFx0diA9IHNbcDBdO1xuXHRcdH1cblx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBbcDBdOiB2IH0pO1xuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzXG4gKiovIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNldEltbWVkaWF0ZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG4vLyBpdGVtcy9pdGVtc09mZmxpbmUgc3dhcCBvbiBlYWNoIHJlcmVuZGVyKCkgY2FsbCAoanVzdCBhIHNpbXBsZSBwb29sIHRlY2huaXF1ZSlcbmxldCBpdGVtcyA9IFtdLFxuXHRpdGVtc09mZmxpbmUgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmIChpdGVtcy5wdXNoKGNvbXBvbmVudCkhPT0xKSByZXR1cm47XG5cblx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHRpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG5cdGxldCBjdXJyZW50SXRlbXMgPSBpdGVtcyxcblx0XHRwO1xuXG5cdC8vIHN3YXAgb25saW5lICYgb2ZmbGluZVxuXHRpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0aXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXG5cdHdoaWxlICggKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpICkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSwgTk9OX0RJTUVOU0lPTl9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHRvTG93ZXJDYXNlLCBlbXB0eSwgZmFsc2V5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSAoZGF0YSB8fCB7fSkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7XG5cdHJldHVybiAwO1xufVxuXG5cbi8qKiBSZW1vdmVzIGEgZ2l2ZW4gRE9NIE5vZGUgZnJvbSBpdHMgcGFyZW50LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdFx0QW4gYXR0cmlidXRlIHZhbHVlLCBzdWNoIGFzIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyXG4gKlx0QHBhcmFtIHthbnl9IHByZXZpb3VzVmFsdWVcdFRoZSBsYXN0IHZhbHVlIHRoYXQgd2FzIHNldCBmb3IgdGhpcyBuYW1lL25vZGUgcGFpclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHRlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXG5cdGlmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdjaGlsZHJlbicpIHJldHVybjtcblxuXHRpZiAobmFtZT09PSdjbGFzcycgJiYgIWlzU3ZnKSB7XG5cdFx0bm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJztcblx0fVxuXHRlbHNlIGlmIChuYW1lPT09J3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlPT09J29iamVjdCcpIHtcblx0XHRcdGlmICghaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHR5cGVvZiB2YWx1ZVtpXT09PSdudW1iZXInICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gKHZhbHVlW2ldKydweCcpIDogdmFsdWVbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0fVxuXHRlbHNlIGlmIChuYW1lWzBdPT09J28nICYmIG5hbWVbMV09PT0nbicpIHtcblx0XHRsZXQgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHRcdG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAobFtuYW1lXSkge1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRsW25hbWVdID0gdmFsdWU7XG5cdH1cblx0ZWxzZSBpZiAobmFtZSE9PSd0eXBlJyAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdFx0c2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxldCBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7XG5cdFx0XHRlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0eXBlb2YgdmFsdWUhPT0nb2JqZWN0JyAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpO1xuXHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIEF0dGVtcHQgdG8gc2V0IGEgRE9NIHByb3BlcnR5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXHRJRSAmIEZGIHRocm93IGZvciBjZXJ0YWluIHByb3BlcnR5LXZhbHVlIGNvbWJpbmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0dHJ5IHtcblx0XHRub2RlW25hbWVdID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5cbi8qKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcbn1cblxuXG4vKiogR2V0IGEgbm9kZSdzIGF0dHJpYnV0ZXMgYXMgYSBoYXNobWFwLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdGxldCBhdHRycyA9IHt9O1xuXHRmb3IgKGxldCBpPW5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0YXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBhdHRycztcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0xvd2VyQ2FzZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXROb2RlVHlwZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIENoZWNrIGlmIHR3byBub2RlcyBhcmUgZXF1aXZhbGVudC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHRpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGdldE5vZGVUeXBlKG5vZGUpPT09Mztcblx0fVxuXHRpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpO1xuXHR9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZT09PW5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpPT09dG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xufVxuXG5cbi8qKlxuICogUmVjb25zdHJ1Y3QgQ29tcG9uZW50LXN0eWxlIGBwcm9wc2AgZnJvbSBhIFZOb2RlLlxuICogRW5zdXJlcyBkZWZhdWx0L2ZhbGxiYWNrIHZhbHVlcyBmcm9tIGBkZWZhdWx0UHJvcHNgOlxuICogT3duLXByb3BlcnRpZXMgb2YgYGRlZmF1bHRQcm9wc2Agbm90IHByZXNlbnQgaW4gYHZub2RlLmF0dHJpYnV0ZXNgIGFyZSBhZGRlZC5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdGxldCBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsXG5cdFx0cHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnN1cmVOb2RlRGF0YSwgZ2V0Tm9kZVR5cGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzLCByZW1vdmVOb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKiBET00gbm9kZSBwb29sLCBrZXllZCBvbiBub2RlTmFtZS4gKi9cblxuY29uc3Qgbm9kZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0Y2xlYW5Ob2RlKG5vZGUpO1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLFxuXHRcdGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTtcblx0ZWxzZSBub2Rlc1tuYW1lXSA9IFtub2RlXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0bGV0IG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksXG5cdFx0bm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdHJlbW92ZU5vZGUobm9kZSk7XG5cblx0aWYgKGdldE5vZGVUeXBlKG5vZGUpIT09MSkgcmV0dXJuO1xuXG5cdC8vIFdoZW4gcmVjbGFpbWluZyBleHRlcm5hbGx5IGNyZWF0ZWQgbm9kZXMsIHNlZWQgdGhlIGF0dHJpYnV0ZSBjYWNoZTogKElzc3VlICM5NylcblxuXHRlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cblx0bm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXG5cdC8vIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPjApIHtcblx0Ly8gXHRjb25zb2xlLnRyYWNlKGBXYXJuaW5nOiBSZWN5Y2xlciBjb2xsZWN0aW5nIDwke25vZGUubm9kZU5hbWV9PiB3aXRoICR7bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH0gY2hpbGRyZW4uYCk7XG5cdC8vIFx0Zm9yIChsZXQgaT1ub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpLS07ICkgY29sbGVjdE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0Ly8gfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgQVRUUl9LRVkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNTYW1lTm9kZVR5cGUsIGlzTmFtZWROb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgYnVpbGRDb21wb25lbnRGcm9tVk5vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzZXRBY2Nlc3NvciwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZU5vZGUsIGNvbGxlY3ROb2RlIH0gZnJvbSAnLi4vZG9tL3JlY3ljbGVyJztcbmltcG9ydCB7IHVubW91bnRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgY29uc3QgbW91bnRzID0gW107XG5cbi8qKiBEaWZmIHJlY3Vyc2lvbiBjb3VudCwgdXNlZCB0byB0cmFjayB0aGUgZW5kIG9mIHRoZSBkaWZmIGN5Y2xlLiAqL1xuZXhwb3J0IGxldCBkaWZmTGV2ZWwgPSAwO1xuXG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHRsZXQgYztcblx0d2hpbGUgKChjPW1vdW50cy5wb3AoKSkpIHtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cblxuLyoqIEFwcGx5IGRpZmZlcmVuY2VzIGluIGEgZ2l2ZW4gdm5vZGUgKGFuZCBpdCdzIGRlZXAgY2hpbGRyZW4pIHRvIGEgcmVhbCBET00gTm9kZS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IFtkb209bnVsbF1cdFx0QSBET00gbm9kZSB0byBtdXRhdGUgaW50byB0aGUgc2hhcGUgb2YgdGhlIGB2bm9kZWBcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRcdEEgVk5vZGUgKHdpdGggZGVzY2VuZGFudHMgZm9ybWluZyBhIHRyZWUpIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBET00gc3RydWN0dXJlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0XHRcdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ZGlmZkxldmVsKys7XG5cdGxldCByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUhPT1wYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHRpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXG5cdHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGVtcHR5KHZub2RlKSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0fVxuXG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRpZiAoZG9tKSB7XG5cdFx0XHRpZiAoZ2V0Tm9kZVR5cGUoZG9tKT09PTMgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aWYgKGRvbS5ub2RlVmFsdWUhPXZub2RlKSB7XG5cdFx0XHRcdFx0ZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkb207XG5cdFx0XHR9XG5cdFx0XHRjb2xsZWN0Tm9kZShkb20pO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHR9XG5cblx0bGV0IG91dCA9IGRvbSxcblx0XHRub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lLFxuXHRcdHN2Z01vZGU7XG5cblx0aWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSB7XG5cdFx0bm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHR9XG5cblx0c3ZnTW9kZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKT09PSdzdmcnO1xuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSB0cnVlO1xuXG5cdGlmICghZG9tKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0fVxuXHRlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHRcdC8vIG1vdmUgY2hpbGRyZW4gaW50byB0aGUgcmVwbGFjZW1lbnQgbm9kZVxuXHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHQvLyByZWNsYWltIGVsZW1lbnQgbm9kZXNcblx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHR9XG5cblx0Ly8gZmFzdC1wYXRoIGZvciBlbGVtZW50cyBjb250YWluaW5nIGEgc2luZ2xlIFRleHROb2RlOlxuXHRpZiAodm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoPT09MSAmJiB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF09PT0nc3RyaW5nJyAmJiBvdXQuY2hpbGROb2Rlcy5sZW5ndGg9PT0xICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkge1xuXHRcdG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdO1xuXHR9XG5cdGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSB7XG5cdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdH1cblxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikge1xuXHRcdChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdH1cblxuXHRpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gZmFsc2U7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiogQXBwbHkgY2hpbGQgYW5kIGF0dHJpYnV0ZSBjaGFuZ2VzIGJldHdlZW4gYSBWTm9kZSBhbmQgYSBET00gTm9kZSB0byB0aGUgRE9NLiAqL1xuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2Rlcyxcblx0XHRjaGlsZHJlbiA9IFtdLFxuXHRcdGtleWVkID0ge30sXG5cdFx0a2V5ZWRMZW4gPSAwLFxuXHRcdG1pbiA9IDAsXG5cdFx0bGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdFx0Y2hpbGRyZW5MZW4gPSAwLFxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCxcblx0XHRqLCBjLCB2Y2hpbGQsIGNoaWxkO1xuXG5cdGlmIChsZW4pIHtcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHRcdGtleSA9IHZsZW4gPyAoKGMgPSBjaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IGNoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwpIDogbnVsbDtcblx0XHRcdGlmIChrZXkgfHwga2V5PT09MCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gY2hpbGQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBjaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTx2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0Ly8gaWYgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpKSB7XG5cdFx0XHQvLyBcdHZjaGlsZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIGZpbmQgYSBub2RlIGJhc2VkIG9uIGtleSBtYXRjaGluZ1xuXHRcdFx0aWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xuXHRcdFx0XHRpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXG5cdFx0XHRpZiAoIWNoaWxkICYmIG1pbjxjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRmb3IgKGo9bWluOyBqPGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRjID0gY2hpbGRyZW5bal07XG5cdFx0XHRcdFx0aWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRpZiAoaj09PWNoaWxkcmVuTGVuLTEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRpZiAoaj09PW1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9ycGggdGhlIG1hdGNoZWQvZm91bmQvY3JlYXRlZCBET00gY2hpbGQgdG8gbWF0Y2ggdmNoaWxkIChkZWVwKVxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGlmIChjaGlsZCE9PW9yaWdpbmFsQ2hpbGRyZW5baV0pIHtcblx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGlmIChrZXllZExlbikge1xuXHRcdC8qZXNsaW50IGd1YXJkLWZvci1pbjowKi9cblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIHtcblx0XHRcdGNoaWxkcmVuW21pbj1jaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCBjaGlsZHJlblxuXHRpZiAobWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdH1cbn1cblxuXG4vKiogUmVjbGFpbSBjaGlsZHJlbiB0aGF0IHdlcmUgdW5yZWZlcmVuY2VkIGluIHRoZSBkZXNpcmVkIFZUcmVlICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0Zm9yIChsZXQgaT1jaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0bGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGFuIGVudGlyZSB0cmVlIG9mIG5vZGVzLCBzdGFydGluZyBhdCB0aGUgcm9vdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQvLyBAVE9ETzogTmVlZCB0byBtYWtlIGEgY2FsbCBvbiB3aGV0aGVyIFByZWFjdCBzaG91bGQgcmVtb3ZlIG5vZGVzIG5vdCBjcmVhdGVkIGJ5IGl0c2VsZi5cblx0Ly8gQ3VycmVudGx5IGl0ICpkb2VzKiByZW1vdmUgdGhlbS4gRGlzY3Vzc2lvbjogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvaXNzdWVzLzM5XG5cdC8vaWYgKCFub2RlW0FUVFJfS0VZXSkgcmV0dXJuO1xuXG5cdGxldCBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTtcblx0fVxuXHRlbHNlIHtcblx0XHRpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRpZiAoIXVubW91bnRPbmx5KSB7XG5cblx0XHRcdGNvbGxlY3ROb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYXR0cmlidXRlcyBmcm9tIGEgVk5vZGUgdG8gdGhlIGdpdmVuIERPTSBOb2RlLiAqL1xuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHRsZXQgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXG5cdC8vIHJlbW92ZUF0dHJpYnV0ZXMoZG9tLCBvbGQsIGF0dHJzIHx8IEVNUFRZKTtcblx0Zm9yIChsZXQgbmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIWF0dHJzIHx8ICEobmFtZSBpbiBhdHRycykpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgbnVsbCwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG5ldyAmIHVwZGF0ZWRcblx0aWYgKGF0dHJzKSB7XG5cdFx0Zm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuXHRcdFx0aWYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdIT0obmFtZT09PSd2YWx1ZScgfHwgbmFtZT09PSdzZWxlY3RlZCcgfHwgbmFtZT09PSdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpIHtcblx0XHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBhdHRyc1tuYW1lXSwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9kaWZmLmpzXG4gKiovIiwiLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG5jb25zdCBjb21wb25lbnRzID0ge307XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0bGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTtcblx0ZWxzZSBjb21wb25lbnRzW25hbWVdID0gW2NvbXBvbmVudF07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHRsZXQgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHRpZiAobGlzdCkge1xuXHRcdGZvciAobGV0IGk9bGlzdC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5jb25zdHJ1Y3Rvcj09PUN0b3IpIHtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdFx0XHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGluc3Q7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC1yZWN5Y2xlci5qc1xuICoqLyIsImltcG9ydCB7IFNZTkNfUkVOREVSLCBOT19SRU5ERVIsIEZPUkNFX1JFTkRFUiwgQVNZTkNfUkVOREVSLCBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGNsb25lLCBleHRlbmQsIGVtcHR5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyLXF1ZXVlJztcbmltcG9ydCB7IGdldE5vZGVQcm9wcyB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgZGlmZiwgbW91bnRzLCBkaWZmTGV2ZWwsIGZsdXNoTW91bnRzLCByZW1vdmVPcnBoYW5lZENoaWxkcmVuLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vZGlmZic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50LCBjb2xsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtcmVjeWNsZXInO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIE1hcmsgY29tcG9uZW50IGFzIGRpcnR5IGFuZCBxdWV1ZSB1cCBhIHJlbmRlci5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHRcdGNvbXBvbmVudC5fZGlydHkgPSB0cnVlO1xuXHRcdGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0fVxufVxuXG5cblxuLyoqIFNldCBhIGNvbXBvbmVudCdzIGBwcm9wc2AgKGdlbmVyYWxseSBkZXJpdmVkIGZyb20gSlNYIGF0dHJpYnV0ZXMpLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlclN5bmM9ZmFsc2VdXHRJZiBgdHJ1ZWAgYW5kIHtAbGluayBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzfSBpcyBgdHJ1ZWAsIHRyaWdnZXJzIHN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlcj10cnVlXVx0XHRcdElmIGBmYWxzZWAsIG5vIHJlbmRlciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBiID0gY29tcG9uZW50LmJhc2U7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGlmICgoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSkgZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9XG5cdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCE9PWNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cblx0aWYgKG9wdHMhPT1OT19SRU5ERVIpIHtcblx0XHRpZiAob3B0cz09PVNZTkNfUkVOREVSIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMhPT1mYWxzZSB8fCAhYikge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgU1lOQ19SRU5ERVIsIG1vdW50QWxsKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cblxuXG4vKiogUmVuZGVyIGEgQ29tcG9uZW50LCB0cmlnZ2VyaW5nIG5lY2Vzc2FyeSBsaWZlY3ljbGUgZXZlbnRzIGFuZCB0YWtpbmcgSGlnaC1PcmRlciBDb21wb25lbnRzIGludG8gYWNjb3VudC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYnVpbGQ9ZmFsc2VdXHRcdElmIGB0cnVlYCwgY29tcG9uZW50IHdpbGwgYnVpbGQgYW5kIHN0b3JlIGEgRE9NIG5vZGUgaWYgbm90IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIG9uZS5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXG5cdGxldCBza2lwLCByZW5kZXJlZCxcblx0XHRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcblx0XHRzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0XHRjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdFx0cHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsXG5cdFx0cHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdFx0cHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdFx0aXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSxcblx0XHRpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0XHRuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLFxuXHRcdGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLFxuXHRcdGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LFxuXHRcdGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyE9PUZPUkNFX1JFTkRFUlxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSBmYWxzZSkge1xuXHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cblx0XHQvLyBjb250ZXh0IHRvIHBhc3MgdG8gdGhlIGNoaWxkLCBjYW4gYmUgdXBkYXRlZCB2aWEgKGdyYW5kLSlwYXJlbnQgY29tcG9uZW50XG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHtcblx0XHRcdHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHRcdHRvVW5tb3VudCwgYmFzZTtcblxuXHRcdGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHQvLyBzZXQgdXAgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXG5cdFx0XHRsZXQgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCxcblx0XHRcdFx0Y2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3I9PT1jaGlsZENvbXBvbmVudCkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblx0XHRcdFx0aW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBOT19SRU5ERVIsIGNvbnRleHQpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgU1lOQ19SRU5ERVIpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHQvLyBkZXN0cm95IGhpZ2ggb3JkZXIgY29tcG9uZW50IGxpbmtcblx0XHRcdHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0XHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdFx0Y2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0aWFsQmFzZSB8fCBvcHRzPT09U1lOQ19SRU5ERVIpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlIT09aW5pdGlhbEJhc2UpIHtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UhPT1iYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0XHRcdGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQ9PT1jb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsIHRydWUpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSkge1xuXHRcdFx0bGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdFx0dCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICgodD10Ll9wYXJlbnRDb21wb25lbnQpKSB7IGNvbXBvbmVudFJlZiA9IHQ7IH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdFx0aWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdH1cblx0ZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0fVxuXG5cdGxldCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLCBmbjtcblx0aWYgKGNiKSB3aGlsZSAoIChmbiA9IGNiLnBvcCgpKSApIGZuLmNhbGwoY29tcG9uZW50KTtcblxuXHRyZXR1cm4gcmVuZGVyZWQ7XG59XG5cblxuXG4vKiogQXBwbHkgdGhlIENvbXBvbmVudCByZWZlcmVuY2VkIGJ5IGEgVk5vZGUgdG8gdGhlIERPTS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0VGhlIERPTSBub2RlIHRvIG11dGF0ZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIENvbXBvbmVudC1yZWZlcmVuY2luZyBWTm9kZVxuICpcdEByZXR1cm5zIHtFbGVtZW50fSBkb21cdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0XHRvbGREb20gPSBkb20sXG5cdFx0aXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lLFxuXHRcdGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHRcdHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGM9Yy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgQVNZTkNfUkVOREVSLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KGMsIHRydWUpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSE9PW9sZERvbSkge1xuXHRcdFx0b2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5cblxuLyoqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBET00gYW5kIHJlY3ljbGUgaXQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRBIERPTSBub2RlIGZyb20gd2hpY2ggdG8gdW5tb3VudCB0aGUgZ2l2ZW4gQ29tcG9uZW50XG4gKlx0QHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFx0VGhlIENvbXBvbmVudCBpbnN0YW5jZSB0byB1bm1vdW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0Ly8gY29uc29sZS5sb2coYCR7cmVtb3ZlPydSZW1vdmluZyc6J1VubW91bnRpbmcnfSBjb21wb25lbnQ6ICR7Y29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cdGxldCBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0Ly8gcmVjdXJzaXZlbHkgdGVhciBkb3duICYgcmVjb2xsZWN0IGhpZ2gtb3JkZXIgY29tcG9uZW50IGNoaWxkcmVuOlxuXHRsZXQgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0aWYgKGlubmVyKSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTtcblx0fVxuXHRlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBGT1JDRV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBleHRlbmQsIGNsb25lLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNyZWF0ZUxpbmtlZFN0YXRlIH0gZnJvbSAnLi9saW5rZWQtc3RhdGUnO1xuaW1wb3J0IHsgdHJpZ2dlckNvbXBvbmVudFJlbmRlciwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi92ZG9tL2NvbXBvbmVudCc7XG5cbi8qKiBCYXNlIENvbXBvbmVudCBjbGFzcywgZm9yIGhlIEVTNiBDbGFzcyBtZXRob2Qgb2YgY3JlYXRpbmcgQ29tcG9uZW50c1xuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHRjbGFzcyBNeUZvbyBleHRlbmRzIENvbXBvbmVudCB7XG4gKlx0XHRyZW5kZXIocHJvcHMsIHN0YXRlKSB7XG4gKlx0XHRcdHJldHVybiA8ZGl2IC8+O1xuICpcdFx0fVxuICpcdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQvKiogQHByaXZhdGUgKi9cblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xufVxuXG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFN0YXRlXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcblx0ICpcdEByZXR1cm5zIHtCb29sZWFufSBzaG91bGQgdGhlIGNvbXBvbmVudCByZS1yZW5kZXJcblx0ICpcdEBuYW1lIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKlx0QGZ1bmN0aW9uXG5cdCAqL1xuXHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdC8vIFx0cmV0dXJuIHRydWU7XG5cdC8vIH0sXG5cblxuXHQvKiogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIHN0YXRlIHByb3BlcnR5IHdoZW4gY2FsbGVkLlxuXHQgKlx0Q2FsbGluZyBsaW5rU3RhdGUoKSByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHJldHVybnMgYSBjYWNoZWQgbGluayBmdW5jdGlvbi5cblx0ICpcblx0ICpcdFByb3ZpZGVzIHNvbWUgYnVpbHQtaW4gc3BlY2lhbCBjYXNlczpcblx0ICpcdFx0LSBDaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGxpbmsgdGhlaXIgYm9vbGVhbiBgY2hlY2tlZGAgdmFsdWVcblx0ICpcdFx0LSBJbnB1dHMgYXV0b21hdGljYWxseSBsaW5rIHRoZWlyIGB2YWx1ZWAgcHJvcGVydHlcblx0ICpcdFx0LSBFdmVudCBwYXRocyBmYWxsIGJhY2sgdG8gYW55IGFzc29jaWF0ZWQgQ29tcG9uZW50IGlmIG5vdCBmb3VuZCBvbiBhbiBlbGVtZW50XG5cdCAqXHRcdC0gSWYgbGlua2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHdpbGwgaW52b2tlIGl0IGFuZCB1c2UgdGhlIHJlc3VsdFxuXHQgKlxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0VGhlIHBhdGggdG8gc2V0IC0gY2FuIGJlIGEgZG90LW5vdGF0ZWQgZGVlcCBrZXlcblx0ICpcdEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRQYXRoXVx0XHRJZiBzZXQsIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5ldyBzdGF0ZSB2YWx1ZSBhdCBhIGdpdmVuIGRvdC1ub3RhdGVkIHBhdGggd2l0aGluIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBsaW5rZWRTdGF0ZSBzZXR0ZXIuXG5cdCAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtTdGF0ZVNldHRlcihlKVxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgVXBkYXRlIGEgXCJ0ZXh0XCIgc3RhdGUgdmFsdWUgd2hlbiBhbiBpbnB1dCBjaGFuZ2VzOlxuXHQgKlx0XHQ8aW5wdXQgb25DaGFuZ2U9eyB0aGlzLmxpbmtTdGF0ZSgndGV4dCcpIH0gLz5cblx0ICpcblx0ICpcdEBleGFtcGxlIFNldCBhIGRlZXAgc3RhdGUgdmFsdWUgb24gY2xpY2tcblx0ICpcdFx0PGJ1dHRvbiBvbkNsaWNrPXsgdGhpcy5saW5rU3RhdGUoJ3RvdWNoLmNvb3JkcycsICd0b3VjaGVzLjAnKSB9PlRhcDwvYnV0dG9uXG5cdCAqL1xuXHRsaW5rU3RhdGUoa2V5LCBldmVudFBhdGgpIHtcblx0XHRsZXQgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLFxuXHRcdFx0Y2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdFx0cmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdH0sXG5cblxuXHQvKiogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBieSBjb3B5aW5nIHByb3BlcnRpZXMgZnJvbSBgc3RhdGVgIHRvIGB0aGlzLnN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG5cdCAqL1xuXHRzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRsZXQgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0XHRleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdFx0dHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0fSxcblxuXG5cdC8qKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqXHRAcHJpdmF0ZVxuXHQgKi9cblx0Zm9yY2VVcGRhdGUoKSB7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIEZPUkNFX1JFTkRFUik7XG5cdH0sXG5cblxuXHQvKiogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuXHQgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHByb3BzXHRcdFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50IGVsZW1lbnQvY29tcG9uZW50XG5cdCAqXHRAcGFyYW0ge29iamVjdH0gc3RhdGVcdFx0VGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG5cdCAqXHRAcmV0dXJucyBWTm9kZVxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzXG4gKiovIiwiLy8gcmVuZGVyIG1vZGVzXG5cbmV4cG9ydCBjb25zdCBOT19SRU5ERVIgPSAwO1xuZXhwb3J0IGNvbnN0IFNZTkNfUkVOREVSID0gMTtcbmV4cG9ydCBjb25zdCBGT1JDRV9SRU5ERVIgPSAyO1xuZXhwb3J0IGNvbnN0IEFTWU5DX1JFTkRFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IHt9O1xuXG5leHBvcnQgY29uc3QgQVRUUl9LRVkgPSB0eXBlb2YgU3ltYm9sIT09J3VuZGVmaW5lZCcgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHRib3hGbGV4OjEsIGJveEZsZXhHcm91cDoxLCBjb2x1bW5Db3VudDoxLCBmaWxsT3BhY2l0eToxLCBmbGV4OjEsIGZsZXhHcm93OjEsXG5cdGZsZXhQb3NpdGl2ZToxLCBmbGV4U2hyaW5rOjEsIGZsZXhOZWdhdGl2ZToxLCBmb250V2VpZ2h0OjEsIGxpbmVDbGFtcDoxLCBsaW5lSGVpZ2h0OjEsXG5cdG9wYWNpdHk6MSwgb3JkZXI6MSwgb3JwaGFuczoxLCBzdHJva2VPcGFjaXR5OjEsIHdpZG93czoxLCB6SW5kZXg6MSwgem9vbToxXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vdmRvbS9kaWZmJztcblxuLyoqIFJlbmRlciBKU1ggaW50byBhIGBwYXJlbnRgIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0QSAoSlNYKSBWTm9kZSB0byByZW5kZXJcbiAqXHRAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFx0XHRET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICpcdEBwYXJhbSB7RWxlbWVudH0gW21lcmdlXVx0QXR0ZW1wdCB0byByZS11c2UgYW4gZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGBtZXJnZWBcbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgZGl2IGludG8gPGJvZHk+OlxuICpcdHJlbmRlcig8ZGl2IGlkPVwiaGVsbG9cIj5oZWxsbyE8L2Rpdj4sIGRvY3VtZW50LmJvZHkpO1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdC8vIHJlbmRlciBhIFwiVGhpbmdcIiBjb21wb25lbnQgaW50byAjZm9vOlxuICpcdGNvbnN0IFRoaW5nID0gKHsgbmFtZSB9KSA9PiA8c3Bhbj57IG5hbWUgfTwvc3Bhbj47XG4gKlx0cmVuZGVyKDxUaGluZyBuYW1lPVwib25lXCIgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb28nKSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0cmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXIuanNcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxufSAoKSlcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgdGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCB7IEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgtdW5kbyc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JSaWdodCBmcm9tICcuL2N1cnZlLWVkaXRvci1yaWdodCc7XG5pbXBvcnQgQ3VydmVFZGl0b3JMZWZ0ICBmcm9tICcuL2N1cnZlLWVkaXRvci1sZWZ0JztcbmltcG9ydCBJY29ucyBmcm9tICcuL2ljb25zJztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yJyk7XG5cbmNsYXNzIEN1cnZlRWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHN0YXRlICAgPSBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHN0eWxlICAgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cbiAgICByZXR1cm4gICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yJ119IHN0eWxlPXsgc3R5bGUgfT5cbiAgICAgICAgICAgICAgICA8SWNvbnMgLz5cbiAgICAgICAgICAgICAgICA8Q3VydmVFZGl0b3JMZWZ0IHN0YXRlPXsgc3RhdGUgfSAvPlxuICAgICAgICAgICAgICAgIDxDdXJ2ZUVkaXRvclJpZ2h0IHN0YXRlPXsgc3RhdGUgfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj4pO1xuICB9XG5cbiAgX2dldFN0eWxlIChzdGF0ZSkge1xuICAgIGNvbnN0IFhfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDUzLFxuICAgICAgICAgIFlfU0laRSAgICA9IEMuQ1VSVkVfU0laRSArIDIqQy5DVVJWRV9QQURESU5HLFxuICAgICAgICAgIHtyZXNpemV9ICA9IHN0YXRlO1xuICAgIGxldCB7dGVtcF90b3AsIHRlbXBfYm90dG9tLCB0ZW1wX3JpZ2h0LCB0cmFuc2xhdGV9ID0gcmVzaXplO1xuXG4gICAgdGVtcF90b3AgICAgKz0gcmVzaXplLnRvcDtcbiAgICB0ZW1wX2JvdHRvbSArPSByZXNpemUuYm90dG9tO1xuICAgIHRlbXBfcmlnaHQgICs9IHJlc2l6ZS5yaWdodDtcblxuICAgIC8vIGNvbnN0cmFpbiBtaW4gaGVpZ2h0XG4gICAgaWYgKFlfU0laRSAtIHRlbXBfdG9wIDwgWV9TSVpFKSB7IHRlbXBfdG9wID0gMDsgfVxuICAgIGlmIChZX1NJWkUgKyB0ZW1wX2JvdHRvbSA8IFlfU0laRSkgeyB0ZW1wX2JvdHRvbSA9IDA7IH1cbiAgICBpZiAoWF9TSVpFICsgdGVtcF9yaWdodCA8IFhfU0laRSkgeyB0ZW1wX3JpZ2h0ID0gMDsgfVxuXG4gICAgdGVtcF90b3AgICAgPSBtb2QoIHRlbXBfdG9wLCAtMSApO1xuICAgIHRlbXBfYm90dG9tID0gbW9kKCB0ZW1wX2JvdHRvbSApO1xuXG4gICAgY29uc3QgaGVpZ2h0ID0gYGhlaWdodDogJHtZX1NJWkUgLSB0ZW1wX3RvcCArIHRlbXBfYm90dG9tfXB4YCxcbiAgICAgICAgICB3aWR0aCAgPSBgd2lkdGg6ICR7WF9TSVpFICsgdGVtcF9yaWdodH1weGAsXG4gICAgICAgICAgeCA9IHJlc2l6ZS54ICsgcmVzaXplLnRlbXBYLFxuICAgICAgICAgIHkgPSByZXNpemUueSArIHJlc2l6ZS50ZW1wWSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHt4fXB4LCAke3kgKyB0ZW1wX3RvcH1weClgO1xuXG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNmb3JtfTsgJHt0cmFuc2Zvcm19OyAke3dpZHRofTsgJHtoZWlnaHR9O2A7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEUnLCBkYXRhOiB7IHgsIHkgfSB9KTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeCwgeSB9IH0pXG4gICAgICB9KVxuICAgICAgLm9uKCd0YXAnLCAoZSkgPT4geyBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pOyB9KTtcblxuICAgIHRoaXMuX2FkZEtleVVwKCk7XG4gICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfYWRkS2V5VXAgKCkgeyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uS2V5VXApOyB9XG5cbiAgX29uS2V5VXAgKGUpIHtcbiAgICBpZiAoICFlLmFsdEtleSApIHsgcmV0dXJuOyB9XG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDkwOiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy51bmRvKCkpOyB9XG4gICAgICBjYXNlIDg4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaChBY3Rpb25DcmVhdG9ycy5yZWRvKCkpOyB9XG4gICAgICBjYXNlIDY4OiB7IHJldHVybiBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERUxFVEUnIH0pOyB9XG4gICAgfVxuICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZUVkaXRvcjtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLmJhYmVsLmpzeFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKVxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBjb3JlICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYyl7XG4gIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cbiAgICAsIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV1cbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGtleSwgb3duLCBvdXQ7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcbiAgICAgICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYoSVNfUFJPVE8pe1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0paGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkUCAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBkUCAgICAgICAgICAgICA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpe1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmKCd2YWx1ZScgaW4gQXR0cmlidXRlcylPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBTKXtcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZihTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZ9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzXG4gKiogbW9kdWxlIGlkID0gMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL193a3MtZXh0JykuZignaXRlcmF0b3InKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW50ZWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGRlc2NyaXB0b3IgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCl9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG4gICAgLCBsdCAgICAgPSAnPCdcbiAgICAsIGd0ICAgICA9ICc+J1xuICAgICwgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcbiAgdmFyIHJlc3VsdDtcbiAgaWYoTyAhPT0gbnVsbCl7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIFA7XG4gIHdoaWxlKGxlbmd0aCA+IGkpZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDUxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaGFzICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKVxuICAsIElFX1BST1RPICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIG5hbWVzKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwga2V5O1xuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXG4gKiogbW9kdWxlIGlkID0gNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA1NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qc1xuICoqIG1vZHVsZSBpZCA9IDU3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qc1xuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzXG4gKiogbW9kdWxlIGlkID0gNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBzdG9yZSAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgU3ltYm9sICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanNcbiAqKiBtb2R1bGUgaWQgPSA2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSA2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzXG4gKiogbW9kdWxlIGlkID0gNjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzXG4gKiogbW9kdWxlIGlkID0gNjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuU3ltYm9sO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgREVTQ1JJUFRPUlMgICAgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIE1FVEEgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWVxuICAsICRmYWlscyAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuL193a3MnKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgd2tzRGVmaW5lICAgICAgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2tleW9mJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheScpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgX2NyZWF0ZSAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBnT1BORXh0ICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpXG4gICwgJEdPUEQgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJERQICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsICRrZXlzICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuICAsIGRQICAgICAgICAgICAgID0gJERQLmZcbiAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cbiAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcbiAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG4gICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIGl0ICA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cbiAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIVVTRV9OQVRJVkUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKXtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfVxufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbmZvcih2YXIgc3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzKHN5bWJvbHNbaSsrXSk7XG5cbmZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbigpe1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgdmFyIGFyZ3MgPSBbaXRdXG4gICAgICAsIGkgICAgPSAxXG4gICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgTUVUQSAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGhhcyAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBzZXREZXNjICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBpZCAgICAgICA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG4gIHNldERlc2MoaXQsIE1FVEEsIHt2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH19KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24oaXQpe1xuICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6ICAgICAgTUVUQSxcbiAgTkVFRDogICAgIGZhbHNlLFxuICBmYXN0S2V5OiAgZmFzdEtleSxcbiAgZ2V0V2VhazogIGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCB3a3NFeHQgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcy1leHQnKVxuICAsIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2V0S2V5cyAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzXG4gKiogbW9kdWxlIGlkID0gNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCBnT1BTICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHJlc3VsdCAgICAgPSBnZXRLZXlzKGl0KVxuICAgICwgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYoZ2V0U3ltYm9scyl7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KVxuICAgICAgLCBpc0VudW0gID0gcElFLmZcbiAgICAgICwgaSAgICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlyZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanNcbiAqKiBtb2R1bGUgaWQgPSA3N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGdPUE4gICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZlxuICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanNcbiAqKiBtb2R1bGUgaWQgPSA3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjcgLyAxNS4yLjMuNCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxudmFyICRrZXlzICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbiAqKiBtb2R1bGUgaWQgPSA3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHBJRSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvUHJpbWl0aXZlICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgZ09QRCAgICAgICAgICAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcbiAgTyA9IHRvSU9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuICoqIG1vZHVsZSBpZCA9IDgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ2FzeW5jSXRlcmF0b3InKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gODVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldH0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG4gIGFuT2JqZWN0KE8pO1xuICBpZighaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKXRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKXtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jylcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7Y3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmNvbnN0IENVUlZFX1NJWkUgPSAzNTA7XG5leHBvcnQgZGVmYXVsdCB7XG4gIENVUlZFX1NJWkUsXG4gIENVUlZFX1BFUkNFTlQ6IENVUlZFX1NJWkUvMTAwLFxuICBDVVJWRV9QQURESU5HOiAxMFxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2NvbnN0YW50cy5iYWJlbC5qc1xuICoqLyIsIi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG52YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbnZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBub3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG4gKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gKiBAcGFyYW0ge1N0cmluZ30gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcbiAgICAgICAgaWYgKGxvZykge1xuICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gKi9cbnZhciBhc3NpZ247XG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xufSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcbiAgICAgICAgY2hpbGRQO1xuXG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cbiAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG4gKiBAcGFyYW0geyp9IHZhbDFcbiAqIEBwYXJhbSB7Kn0gdmFsMlxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcbiAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcbn1cblxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcbiAqIEBtZXRob2QgaGFzUGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG59XG5cbi8qKlxuICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAqL1xuZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICogQHBhcmFtIHtBcnJheX0gc3JjXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xufVxuXG4vKipcbiAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gKi9cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICovXG5mdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeCwgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIGdldCBhIHVuaXF1ZSBpZFxuICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcbiAqL1xudmFyIF91bmlxdWVJZCA9IDE7XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG59XG5cbi8qKlxuICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xufVxuXG52YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXG52YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xudmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xudmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbnZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xudmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xudmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cbnZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cbnZhciBJTlBVVF9TVEFSVCA9IDE7XG52YXIgSU5QVVRfTU9WRSA9IDI7XG52YXIgSU5QVVRfRU5EID0gNDtcbnZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXG52YXIgRElSRUNUSU9OX05PTkUgPSAxO1xudmFyIERJUkVDVElPTl9MRUZUID0gMjtcbnZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xudmFyIERJUkVDVElPTl9VUCA9IDg7XG52YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblxudmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG52YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG52YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXG52YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xudmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cbiAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG4gICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuSW5wdXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICogQHJldHVybnMge0lucHV0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTtcbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG59XG5cbi8qKlxuICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG4gICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXG4gICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblxuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG59XG5cbi8qKlxuICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblxuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblxuICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXG4gICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG4gICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblxuICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cbiAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuICAgIH1cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcbiAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG4gICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICAgIH07XG5cbiAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICAgICAgeTogY2VudGVyLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbn1cblxuLyoqXG4gKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcbiAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG4gICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG4gICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblxuICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cbiAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcbiAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcbiAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG4gICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YW1wOiBub3coKSxcbiAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG4gICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG4gKi9cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHAxXG4gKiBAcGFyYW0ge09iamVjdH0gcDJcbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxudmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbn07XG5cbnZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXG4vKipcbiAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXG4gICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG59O1xuXG4vLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxudmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxufTtcblxudmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbi8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuaWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG4gICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcbn1cblxuLyoqXG4gKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xufVxuXG5pbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcbiAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG52YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG4gICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cbiAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcbn1cblxudmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG4gICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cbiAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuICAgIH1cblxuICAgIHZhciBpLFxuICAgICAgICB0YXJnZXRUb3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcbiAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb2xsZWN0IHRvdWNoZXNcbiAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcbiAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuICAgIF07XG59XG5cbi8qKlxuICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG4gKlxuICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG4gKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5cbnZhciBERURVUF9USU1FT1VUID0gMjUwMDtcbnZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG5mdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG4gICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG4gICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cbiAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xufVxuXG5pbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG4gICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG4gICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG52YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4vLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG52YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG52YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG52YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcbnZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG52YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblxuLyoqXG4gKiBUb3VjaCBBY3Rpb25cbiAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLnNldCh2YWx1ZSk7XG59XG5cblRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG4gICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICAgIGlmIChoYXNOb25lKSB7XG4gICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXG4gICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cbiAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOb25lIHx8XG4gICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuICAgICAqL1xuICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuICAgIC8vIG5vbmVcbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXG4gICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG4gICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG4gICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG4gICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICAvLyBwYW4teCBPUiBwYW4teVxuICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfVxuXG4gICAgLy8gbWFuaXB1bGF0aW9uXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcbiAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdG91Y2hNYXAgPSB7fTtcbiAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG4gICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblxuICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcbiAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hNYXA7XG59XG5cbi8qKlxuICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG4gKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAqXG4gKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG4gKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICpcbiAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cbiAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gKlxuICogICAgICAgICAgICAgICBQb3NzaWJsZVxuICogICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAqL1xudmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbnZhciBTVEFURV9CRUdBTiA9IDI7XG52YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG52YXIgU1RBVEVfRU5ERUQgPSA4O1xudmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbnZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcbnZhciBTVEFURV9GQUlMRUQgPSAzMjtcblxuLyoqXG4gKiBSZWNvZ25pemVyXG4gKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblxuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cbiAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXG4gICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG59XG5cblJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBkZWZhdWx0czoge30sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcbiAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcbiAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG4gICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcbiAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG4gICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cbiAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG4gICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cbiAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG4gICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cbn07XG5cbi8qKlxuICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcbiAqL1xuZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcbiAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcbiAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcbiAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG4gICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG4gICAgfVxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG59XG5cbi8qKlxuICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG4gICAgICovXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cbiAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cbiAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQYW5cbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucFggPSBudWxsO1xuICAgIHRoaXMucFkgPSBudWxsO1xufVxuXG5pbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfSxcblxuICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cbiAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXG4gICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBpbmNoXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGluY2gnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUHJlc3NcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xufVxuXG5pbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJvdGF0ZVxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfVxufSk7XG5cbi8qKlxuICogU3dpcGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcbiAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcbiAqIGEgc2luZ2xlIHRhcC5cbiAqXG4gKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2ZcbiAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcbiAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xufVxuXG5pbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblxuICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cbiAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG4gICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5IYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cbi8qKlxuICogZGVmYXVsdCBzZXR0aW5nc1xuICogQG5hbWVzcGFjZVxuICovXG5IYW1tZXIuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGRlZmF1bHQgY29tcHV0ZVxuICAgICAqL1xuICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dENsYXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgcHJlc2V0OiBbXG4gICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcbiAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcbiAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcbiAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICovXG4gICAgY3NzUHJvcHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG4gICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAgICovXG4gICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcbiAgICB9XG59O1xuXG52YXIgU1RPUCA9IDE7XG52YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXG4vKipcbiAqIE1hbmFnZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cbiAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblxuICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG4gICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG4gICAgfSwgdGhpcyk7XG59XG5cbk1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG4gICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblxuICAgICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblxuICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG4gICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG4gICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG4gICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblxuICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcbiAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcbiAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXG4gICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG4gICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcbiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICovXG5mdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvcDtcbiAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiB0cmlnZ2VyIGRvbSBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcbn1cblxuYXNzaWduKEhhbW1lciwge1xuICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcbiAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXG4gICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcbiAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcbiAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXG4gICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cbiAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuICAgIElucHV0OiBJbnB1dCxcbiAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cbiAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG4gICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cbiAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcbiAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG4gICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG4gICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcbiAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG4gICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblxuICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcbiAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGluaGVyaXQ6IGluaGVyaXQsXG4gICAgYmluZEZuOiBiaW5kRm4sXG4gICAgcHJlZml4ZWQ6IHByZWZpeGVkXG59KTtcblxuLy8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcbi8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxudmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIYW1tZXI7XG4gICAgfSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcbn0gZWxzZSB7XG4gICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9oYW1tZXJqcy9oYW1tZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA5M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHdpbmRvdy5wcm9wYWdhdGluZyA9IGZhY3RvcnkoKTtcbiAgfVxufShmdW5jdGlvbiAoKSB7XG4gIHZhciBfZmlyc3RUYXJnZXQgPSBudWxsOyAvLyBzaW5nbGV0b24sIHdpbGwgY29udGFpbiB0aGUgdGFyZ2V0IGVsZW1lbnQgd2hlcmUgdGhlIHRvdWNoIGV2ZW50IHN0YXJ0ZWRcblxuICAvKipcbiAgICogRXh0ZW5kIGFuIEhhbW1lci5qcyBpbnN0YW5jZSB3aXRoIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgKlxuICAgKiBGZWF0dXJlczpcbiAgICogLSBFdmVudHMgZW1pdHRlZCBieSBoYW1tZXIgd2lsbCBwcm9wYWdhdGUgaW4gb3JkZXIgZnJvbSBjaGlsZCB0byBwYXJlbnRcbiAgICogICBlbGVtZW50cy5cbiAgICogLSBFdmVudHMgYXJlIGV4dGVuZGVkIHdpdGggYSBmdW5jdGlvbiBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgIHRvIHN0b3BcbiAgICogICBwcm9wYWdhdGlvbiB0byBwYXJlbnQgZWxlbWVudHMuXG4gICAqIC0gQW4gb3B0aW9uIGBwcmV2ZW50RGVmYXVsdGAgdG8gc3RvcCBhbGwgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuICAgKlxuICAgKiBVc2FnZTpcbiAgICogICB2YXIgaGFtbWVyID0gcHJvcGFnYXRpbmdIYW1tZXIobmV3IEhhbW1lcihlbGVtZW50KSk7XG4gICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCksIHtwcmV2ZW50RGVmYXVsdDogdHJ1ZX0pO1xuICAgKlxuICAgKiBAcGFyYW0ge0hhbW1lci5NYW5hZ2VyfSBoYW1tZXIgICBBbiBoYW1tZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB8IGZhbHNlIHwgJ21vdXNlJyB8ICd0b3VjaCcgfCAncGVuJ2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZSBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGJyb3dzZXIgYmVoYXZpb3IuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLlxuICAgKiBAcmV0dXJuIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgc2FtZSBoYW1tZXIgaW5zdGFuY2Ugd2l0aCBleHRlbmRlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uIHByb3BhZ2F0aW5nKGhhbW1lciwgb3B0aW9ucykge1xuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmIChoYW1tZXIuTWFuYWdlcikge1xuICAgICAgLy8gVGhpcyBsb29rcyBsaWtlIHRoZSBIYW1tZXIgY29uc3RydWN0b3IuXG4gICAgICAvLyBPdmVybG9hZCB0aGUgY29uc3RydWN0b3JzIHdpdGggb3VyIG93bi5cbiAgICAgIHZhciBIYW1tZXIgPSBoYW1tZXI7XG5cbiAgICAgIHZhciBQcm9wYWdhdGluZ0hhbW1lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyKGVsZW1lbnQsIG8pLCBvKTtcbiAgICAgIH07XG4gICAgICBIYW1tZXIuYXNzaWduKFByb3BhZ2F0aW5nSGFtbWVyLCBIYW1tZXIpO1xuXG4gICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIEhhbW1lci5hc3NpZ24obywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFByb3BhZ2F0aW5nSGFtbWVyO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uc1xuICAgIC8vIGBvbmAsIGBvZmZgLCBgZGVzdHJveWAsIGFuZCBgZW1pdGAgb2YgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgIHZhciB3cmFwcGVyID0gT2JqZWN0LmNyZWF0ZShoYW1tZXIpO1xuXG4gICAgLy8gYXR0YWNoIHRvIERPTSBlbGVtZW50XG4gICAgdmFyIGVsZW1lbnQgPSBoYW1tZXIuZWxlbWVudDtcblxuICAgIGlmKCFlbGVtZW50LmhhbW1lcikgZWxlbWVudC5oYW1tZXIgPSBbXTtcbiAgICBlbGVtZW50LmhhbW1lci5wdXNoKHdyYXBwZXIpO1xuXG4gICAgLy8gcmVnaXN0ZXIgYW4gZXZlbnQgdG8gY2F0Y2ggdGhlIHN0YXJ0IG9mIGEgZ2VzdHVyZSBhbmQgc3RvcmUgdGhlXG4gICAgLy8gdGFyZ2V0IGluIGEgc2luZ2xldG9uXG4gICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gdHJ1ZSB8fCAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IGV2ZW50LnBvaW50ZXJUeXBlKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmlzRmlyc3QpIHtcbiAgICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgQXJyYXkuPGZ1bmN0aW9uPj59ICovXG4gICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgQSBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIHdpdGggZXZlbnRzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudClcbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyByZWdpc3RlciB0aGUgaGFuZGxlclxuICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICBpZiAoIV9oYW5kbGVycykge1xuICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycyA9IFtdO1xuXG4gICAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG4gICAgICAgICAgaGFtbWVyLm9uKGV2ZW50LCBwcm9wYWdhdGVkSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtoYW5kbGVyXSBPcHRpb25hbC4gVGhlIHJlZ2lzdGVyZWQgaGFuZGxlci4gSWYgbm90XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkLCBhbGwgaGFuZGxlcnMgZm9yIGdpdmVuIGV2ZW50c1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC5cbiAgICAgKiBAcmV0dXJucyB7SGFtbWVyLk1hbmFnZXJ9ICAgUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG4gICAgICovXG4gICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBoYW5kbGVyXG4gICAgICBzcGxpdChldmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgIGlmIChfaGFuZGxlcnMpIHtcbiAgICAgICAgICBfaGFuZGxlcnMgPSBoYW5kbGVyID8gX2hhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG4gICAgICAgICAgfSkgOiBbXTtcblxuICAgICAgICAgIGlmIChfaGFuZGxlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdID0gX2hhbmRsZXJzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuICAgICAgICAgICAgaGFtbWVyLm9mZihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICovXG4gICAgd3JhcHBlci5lbWl0ID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBldmVudCkge1xuICAgICAgX2ZpcnN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7XG4gICAgfTtcblxuICAgIHdyYXBwZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIERldGFjaCBmcm9tIERPTSBlbGVtZW50XG4gICAgICB2YXIgaGFtbWVycyA9IGhhbW1lci5lbGVtZW50LmhhbW1lcjtcbiAgICAgIHZhciBpZHggPSBoYW1tZXJzLmluZGV4T2Yod3JhcHBlcik7XG4gICAgICBpZihpZHggIT09IC0xKSBoYW1tZXJzLnNwbGljZShpZHgsMSk7XG4gICAgICBpZighaGFtbWVycy5sZW5ndGgpIGRlbGV0ZSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cbiAgICAgIC8vIGNsZWFyIGFsbCBoYW5kbGVyc1xuICAgICAgd3JhcHBlci5faGFuZGxlcnMgPSB7fTtcblxuICAgICAgLy8gY2FsbCBvcmlnaW5hbCBoYW1tZXIgZGVzdHJveVxuICAgICAgaGFtbWVyLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgLy8gc3BsaXQgYSBzdHJpbmcgd2l0aCBzcGFjZSBzZXBhcmF0ZWQgd29yZHNcbiAgICBmdW5jdGlvbiBzcGxpdChldmVudHMpIHtcbiAgICAgIHJldHVybiBldmVudHMubWF0Y2goL1teIF0rL2cpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGV2ZW50IGhhbmRsZXIsIGFwcGx5aW5nIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnRcbiAgICAgIGlmIChldmVudC50eXBlICE9PSAnaGFtbWVyLmlucHV0Jykge1xuICAgICAgICAvLyBpdCBpcyBwb3NzaWJsZSB0aGF0IHRoZSBzYW1lIHNyY0V2ZW50IGlzIHVzZWQgd2l0aCBtdWx0aXBsZSBoYW1tZXIgZXZlbnRzLFxuICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWRcbiAgICAgICAgaWYgKCFldmVudC5zcmNFdmVudC5faGFuZGxlZCkge1xuICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBhIHN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvbiB0byB0aGUgZXZlbnRcbiAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgLy93cmFwIHRoZSBzcmNFdmVudCdzIHN0b3BQcm9wYWdhdGlvbiB0byBhbHNvIHN0b3AgaGFtbWVyIHByb3BhZ2F0aW9uOlxuICAgICAgdmFyIHNyY1N0b3AgPSBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24uYmluZChldmVudC5zcmNFdmVudCk7XG4gICAgICBpZih0eXBlb2Ygc3JjU3RvcCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBzcmNTdG9wKCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0YWNoIGZpcnN0VGFyZ2V0IHByb3BlcnR5IHRvIHRoZSBldmVudFxuICAgICAgZXZlbnQuZmlyc3RUYXJnZXQgPSBfZmlyc3RUYXJnZXQ7XG5cbiAgICAgIC8vIHByb3BhZ2F0ZSBvdmVyIGFsbCBlbGVtZW50cyAodW50aWwgc3RvcHBlZClcbiAgICAgIHZhciBlbGVtID0gX2ZpcnN0VGFyZ2V0O1xuICAgICAgd2hpbGUgKGVsZW0gJiYgIXN0b3BwZWQpIHtcbiAgICAgICAgdmFyIGVsZW1IYW1tZXIgPSBlbGVtLmhhbW1lcjtcbiAgICAgICAgaWYoZWxlbUhhbW1lcil7XG4gICAgICAgICAgdmFyIF9oYW5kbGVycztcbiAgICAgICAgICBmb3IodmFyIGsgPSAwOyBrIDwgZWxlbUhhbW1lci5sZW5ndGg7IGsrKyl7XG4gICAgICAgICAgICBfaGFuZGxlcnMgPSBlbGVtSGFtbWVyW2tdLl9oYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgICAgICAgIGlmKF9oYW5kbGVycykgZm9yICh2YXIgaSA9IDA7IGkgPCBfaGFuZGxlcnMubGVuZ3RoICYmICFzdG9wcGVkOyBpKyspIHtcbiAgICAgICAgICAgICAgX2hhbmRsZXJzW2ldKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfTtcbn0pKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb3BhZ2F0aW5nLWhhbW1lcmpzL3Byb3BhZ2F0aW5nLmpzXG4gKiogbW9kdWxlIGlkID0gOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0cy5wYXJzZUFjdGlvbnMgPSBwYXJzZUFjdGlvbnM7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRvYWJsZTtcbmV4cG9ydHMuZGlzdGluY3RTdGF0ZSA9IGRpc3RpbmN0U3RhdGU7XG5leHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuZXhwb3J0cy5pZkFjdGlvbiA9IGlmQWN0aW9uO1xuZXhwb3J0cy5leGNsdWRlQWN0aW9uID0gZXhjbHVkZUFjdGlvbjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbi8vIGRlYnVnIG91dHB1dFxudmFyIF9fREVCVUdfXyA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGRlYnVnKCkge1xuICBpZiAoX19ERUJVR19fKSB7XG4gICAgdmFyIF9jb25zb2xlO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKCFjb25zb2xlLmdyb3VwKSB7XG4gICAgICBhcmdzLnVuc2hpZnQoJyVjcmVkdXgtdW5kbycsICdmb250LXN0eWxlOiBpdGFsaWMnKTtcbiAgICB9XG4gICAgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBhcmdzKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVidWdTdGFydChhY3Rpb24sIHN0YXRlKSB7XG4gIGlmIChfX0RFQlVHX18pIHtcbiAgICB2YXIgYXJncyA9IFsnYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuICAgIGlmIChjb25zb2xlLmdyb3VwKSB7XG4gICAgICB2YXIgX2NvbnNvbGUyO1xuXG4gICAgICBhcmdzLnVuc2hpZnQoJyVjcmVkdXgtdW5kbycsICdmb250LXN0eWxlOiBpdGFsaWMnKTtcbiAgICAgIChfY29uc29sZTIgPSBjb25zb2xlKS5ncm91cENvbGxhcHNlZC5hcHBseShfY29uc29sZTIsIGFyZ3MpO1xuICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkJywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbjogYWN0aW9uIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Zy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZGVidWdFbmQoKSB7XG4gIGlmIChfX0RFQlVHX18pIHtcbiAgICByZXR1cm4gY29uc29sZS5ncm91cEVuZCAmJiBjb25zb2xlLmdyb3VwRW5kKCk7XG4gIH1cbn1cbi8vIC9kZWJ1ZyBvdXRwdXRcblxuLy8gYWN0aW9uIHR5cGVzXG52YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuICBVTkRPOiAnQEByZWR1eC11bmRvL1VORE8nLFxuICBSRURPOiAnQEByZWR1eC11bmRvL1JFRE8nLFxuICBKVU1QX1RPX0ZVVFVSRTogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX0ZVVFVSRScsXG4gIEpVTVBfVE9fUEFTVDogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX1BBU1QnXG59O1xuLy8gL2FjdGlvbiB0eXBlc1xuXG4vLyBhY3Rpb24gY3JlYXRvcnMgdG8gY2hhbmdlIHRoZSBzdGF0ZVxudmFyIEFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5BY3Rpb25DcmVhdG9ycyA9IHtcbiAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5VTkRPIH07XG4gIH0sXG4gIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuUkVETyB9O1xuICB9LFxuICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLkpVTVBfVE9fRlVUVVJFLCBpbmRleDogaW5kZXggfTtcbiAgfSxcbiAganVtcFRvUGFzdDogZnVuY3Rpb24ganVtcFRvUGFzdChpbmRleCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLkpVTVBfVE9fUEFTVCwgaW5kZXg6IGluZGV4IH07XG4gIH1cbn07XG4vLyAvYWN0aW9uIGNyZWF0b3JzXG5cbi8vIGxlbmd0aDogZ2V0IGxlbmd0aCBvZiBoaXN0b3J5XG5mdW5jdGlvbiBsZW5ndGgoaGlzdG9yeSkge1xuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG4gIHJldHVybiBwYXN0Lmxlbmd0aCArIDEgKyBmdXR1cmUubGVuZ3RoO1xufVxuLy8gL2xlbmd0aFxuXG4vLyBpbnNlcnQ6IGluc2VydCBgc3RhdGVgIGludG8gaGlzdG9yeSwgd2hpY2ggbWVhbnMgYWRkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG4vLyAgICAgICAgIGludG8gYHBhc3RgLCBzZXR0aW5nIHRoZSBuZXcgYHN0YXRlYCBhcyBgcHJlc2VudGAgYW5kIGVyYXNpbmdcbi8vICAgICAgICAgdGhlIGBmdXR1cmVgLlxuZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCkge1xuICBkZWJ1ZygnaW5zZXJ0JywgeyBzdGF0ZTogc3RhdGUsIGhpc3Rvcnk6IGhpc3RvcnksIGZyZWU6IGxpbWl0IC0gbGVuZ3RoKGhpc3RvcnkpIH0pO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblxuICB2YXIgaGlzdG9yeU92ZXJmbG93ID0gbGltaXQgJiYgbGVuZ3RoKGhpc3RvcnkpID49IGxpbWl0O1xuXG4gIGlmIChwcmVzZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpbml0IGhpc3RvcnlcbiAgICByZXR1cm4ge1xuICAgICAgcGFzdDogW10sXG4gICAgICBwcmVzZW50OiBzdGF0ZSxcbiAgICAgIGZ1dHVyZTogW11cbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3Quc2xpY2UoaGlzdG9yeU92ZXJmbG93ID8gMSA6IDApKSwgW3ByZXNlbnRdKSxcbiAgICBwcmVzZW50OiBzdGF0ZSxcbiAgICBmdXR1cmU6IFtdXG4gIH07XG59XG4vLyAvaW5zZXJ0XG5cbi8vIHVuZG86IGdvIGJhY2sgdG8gdGhlIHByZXZpb3VzIHBvaW50IGluIGhpc3RvcnlcbmZ1bmN0aW9uIHVuZG8oaGlzdG9yeSkge1xuICBkZWJ1ZygndW5kbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblxuICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcbiAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG4gIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblxuXG4gIGlmIChwYXN0Lmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblxuICByZXR1cm4ge1xuICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgcGFzdC5sZW5ndGggLSAxKSwgLy8gcmVtb3ZlIGxhc3QgZWxlbWVudCBmcm9tIHBhc3RcbiAgICBwcmVzZW50OiBwYXN0W3Bhc3QubGVuZ3RoIC0gMV0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG4gICAgZnV0dXJlOiBbcHJlc2VudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmdXR1cmUpKVxuICB9O1xufVxuLy8gL3VuZG9cblxuLy8gcmVkbzogZ28gdG8gdGhlIG5leHQgcG9pbnQgaW4gaGlzdG9yeVxuZnVuY3Rpb24gcmVkbyhoaXN0b3J5KSB7XG4gIGRlYnVnKCdyZWRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgaWYgKGZ1dHVyZS5sZW5ndGggPD0gMCkgcmV0dXJuIGhpc3Rvcnk7XG5cbiAgcmV0dXJuIHtcbiAgICBmdXR1cmU6IGZ1dHVyZS5zbGljZSgxLCBmdXR1cmUubGVuZ3RoKSwgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBmdXR1cmVcbiAgICBwcmVzZW50OiBmdXR1cmVbMF0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG4gICAgcGFzdDogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXN0KSwgW3ByZXNlbnQgLy8gb2xkIHByZXNlbnQgc3RhdGUgaXMgaW4gdGhlIHBhc3Qgbm93XG4gICAgXSlcbiAgfTtcbn1cbi8vIC9yZWRvXG5cbi8vIGp1bXBUb0Z1dHVyZToganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gZnV0dXJlIGhpc3RvcnlcbmZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShoaXN0b3J5LCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IDApIHJldHVybiByZWRvKGhpc3RvcnkpO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgcmV0dXJuIHtcbiAgICBmdXR1cmU6IGZ1dHVyZS5zbGljZShpbmRleCArIDEpLFxuICAgIHByZXNlbnQ6IGZ1dHVyZVtpbmRleF0sXG4gICAgcGFzdDogcGFzdC5jb25jYXQoW3ByZXNlbnRdKS5jb25jYXQoZnV0dXJlLnNsaWNlKDAsIGluZGV4KSlcbiAgfTtcbn1cbi8vIC9qdW1wVG9GdXR1cmVcblxuLy8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5mdW5jdGlvbiBqdW1wVG9QYXN0KGhpc3RvcnksIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gaGlzdG9yeS5wYXN0Lmxlbmd0aCAtIDEpIHJldHVybiB1bmRvKGhpc3RvcnkpO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgcmV0dXJuIHtcbiAgICBmdXR1cmU6IHBhc3Quc2xpY2UoaW5kZXggKyAxKS5jb25jYXQoW3ByZXNlbnRdKS5jb25jYXQoZnV0dXJlKSxcbiAgICBwcmVzZW50OiBwYXN0W2luZGV4XSxcbiAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIGluZGV4KVxuICB9O1xufVxuLy8gL2p1bXBUb1Bhc3RcblxuLy8gd3JhcFN0YXRlOiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG8gMC40XG5mdW5jdGlvbiB3cmFwU3RhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGhpc3Rvcnk6IHN0YXRlXG4gIH0pO1xufVxuLy8gL3dyYXBTdGF0ZVxuXG4vLyB1cGRhdGVTdGF0ZVxuZnVuY3Rpb24gdXBkYXRlU3RhdGUoc3RhdGUsIGhpc3RvcnkpIHtcbiAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGhpc3RvcnkpKTtcbn1cbi8vIC91cGRhdGVTdGF0ZVxuXG4vLyBjcmVhdGVIaXN0b3J5XG5mdW5jdGlvbiBjcmVhdGVIaXN0b3J5KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgcGFzdDogW10sXG4gICAgcHJlc2VudDogc3RhdGUsXG4gICAgZnV0dXJlOiBbXVxuICB9O1xufVxuLy8gL2NyZWF0ZUhpc3RvcnlcblxuLy8gcGFyc2VBY3Rpb25zXG5mdW5jdGlvbiBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucykge1xuICB2YXIgZGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcbiAgICByZXR1cm4gcmF3QWN0aW9ucztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmF3QWN0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuICB9XG4gIHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG4vLyAvcGFyc2VBY3Rpb25zXG5cbi8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcbmZ1bmN0aW9uIHVuZG9hYmxlKHJlZHVjZXIpIHtcbiAgdmFyIHJhd0NvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gIF9fREVCVUdfXyA9IHJhd0NvbmZpZy5kZWJ1ZztcblxuICB2YXIgY29uZmlnID0ge1xuICAgIGluaXRpYWxTdGF0ZTogcmF3Q29uZmlnLmluaXRpYWxTdGF0ZSxcbiAgICBpbml0VHlwZXM6IHBhcnNlQWN0aW9ucyhyYXdDb25maWcuaW5pdFR5cGVzLCBbJ0BAcmVkdXgvSU5JVCcsICdAQElOSVQnXSksXG4gICAgbGltaXQ6IHJhd0NvbmZpZy5saW1pdCxcbiAgICBmaWx0ZXI6IHJhd0NvbmZpZy5maWx0ZXIgfHwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICB1bmRvVHlwZTogcmF3Q29uZmlnLnVuZG9UeXBlIHx8IEFjdGlvblR5cGVzLlVORE8sXG4gICAgcmVkb1R5cGU6IHJhd0NvbmZpZy5yZWRvVHlwZSB8fCBBY3Rpb25UeXBlcy5SRURPLFxuICAgIGp1bXBUb1Bhc3RUeXBlOiByYXdDb25maWcuanVtcFRvUGFzdFR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuICAgIGp1bXBUb0Z1dHVyZVR5cGU6IHJhd0NvbmZpZy5qdW1wVG9GdXR1cmVUeXBlIHx8IEFjdGlvblR5cGVzLkpVTVBfVE9fRlVUVVJFXG4gIH07XG4gIGNvbmZpZy5oaXN0b3J5ID0gcmF3Q29uZmlnLmluaXRpYWxIaXN0b3J5IHx8IGNyZWF0ZUhpc3RvcnkoY29uZmlnLmluaXRpYWxTdGF0ZSk7XG5cbiAgaWYgKGNvbmZpZy5pbml0VHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS53YXJuKCdyZWR1eC11bmRvOiBzdXBwbHkgYXQgbGVhc3Qgb25lIGFjdGlvbiB0eXBlIGluIGluaXRUeXBlcyB0byBlbnN1cmUgaW5pdGlhbCBzdGF0ZScpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgZGVidWdTdGFydChhY3Rpb24sIHN0YXRlKTtcbiAgICB2YXIgcmVzID0gdW5kZWZpbmVkO1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgY29uZmlnLnVuZG9UeXBlOlxuICAgICAgICByZXMgPSB1bmRvKHN0YXRlKTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIHVuZG8nLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgY2FzZSBjb25maWcucmVkb1R5cGU6XG4gICAgICAgIHJlcyA9IHJlZG8oc3RhdGUpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIgcmVkbycsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5qdW1wVG9QYXN0VHlwZTpcbiAgICAgICAgcmVzID0ganVtcFRvUGFzdChzdGF0ZSwgYWN0aW9uLmluZGV4KTtcbiAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb1Bhc3QnLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgY2FzZSBjb25maWcuanVtcFRvRnV0dXJlVHlwZTpcbiAgICAgICAgcmVzID0ganVtcFRvRnV0dXJlKHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvRnV0dXJlJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlcyA9IHJlZHVjZXIoc3RhdGUgJiYgc3RhdGUucHJlc2VudCwgYWN0aW9uKTtcblxuICAgICAgICBpZiAoY29uZmlnLmluaXRUeXBlcy5zb21lKGZ1bmN0aW9uIChhY3Rpb25UeXBlKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGlvblR5cGUgPT09IGFjdGlvbi50eXBlO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGRlYnVnKCdyZXNldCBoaXN0b3J5IGR1ZSB0byBpbml0IGFjdGlvbicpO1xuICAgICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGNyZWF0ZUhpc3RvcnkocmVzKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXIgJiYgdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpZiAoIWNvbmZpZy5maWx0ZXIoYWN0aW9uLCByZXMsIHN0YXRlICYmIHN0YXRlLnByZXNlbnQpKSB7XG4gICAgICAgICAgICBkZWJ1ZygnZmlsdGVyIHByZXZlbnRlZCBhY3Rpb24sIG5vdCBzdG9yaW5nIGl0Jyk7XG4gICAgICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgcHJlc2VudDogcmVzXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhpc3RvcnkgPSBzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50ICE9PSB1bmRlZmluZWQgPyBzdGF0ZSA6IGNvbmZpZy5oaXN0b3J5O1xuICAgICAgICB2YXIgdXBkYXRlZEhpc3RvcnkgPSBpbnNlcnQoaGlzdG9yeSwgcmVzLCBjb25maWcubGltaXQpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIgaW5zZXJ0JywgeyBoaXN0b3J5OiB1cGRhdGVkSGlzdG9yeSwgZnJlZTogY29uZmlnLmxpbWl0IC0gbGVuZ3RoKHVwZGF0ZWRIaXN0b3J5KSB9KTtcbiAgICAgICAgZGVidWdFbmQoKTtcblxuICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgdXBkYXRlZEhpc3RvcnkpKTtcbiAgICB9XG4gIH07XG59XG4vLyAvcmVkdXgtdW5kb1xuXG4vLyBkaXN0aW5jdFN0YXRlIGhlbHBlclxuZnVuY3Rpb24gZGlzdGluY3RTdGF0ZSgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIGN1cnJlbnRTdGF0ZSwgcHJldmlvdXNTdGF0ZSkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGUgIT09IHByZXZpb3VzU3RhdGU7XG4gIH07XG59XG4vLyAvZGlzdGluY3RTdGF0ZVxuXG4vLyBpbmNsdWRlQWN0aW9uIGhlbHBlclxuZnVuY3Rpb24gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKSB7XG4gIHZhciBhY3Rpb25zID0gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDA7XG4gIH07XG59XG4vLyAvaW5jbHVkZUFjdGlvblxuXG4vLyBkZXByZWNhdGVkIGlmQWN0aW9uIGhlbHBlclxuZnVuY3Rpb24gaWZBY3Rpb24ocmF3QWN0aW9ucykge1xuICBjb25zb2xlLmVycm9yKCdEZXByZWNhdGlvbiBXYXJuaW5nOiBQbGVhc2UgY2hhbmdlIGBpZkFjdGlvbmAgdG8gYGluY2x1ZGVBY3Rpb25gJyk7XG4gIHJldHVybiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpO1xufVxuLy8gL2lmQWN0aW9uXG5cbi8vIGV4Y2x1ZGVBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBleGNsdWRlQWN0aW9uKCkge1xuICB2YXIgcmF3QWN0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzBdO1xuXG4gIHZhciBhY3Rpb25zID0gcGFyc2VBY3Rpb25zKHJhd0FjdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpIDwgMDtcbiAgfTtcbn1cbi8vIC9leGNsdWRlQWN0aW9uXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgtdW5kby9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5cbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFlfU0laRSA9IEMuQ1VSVkVfU0laRTtcbmNvbnN0IG1vZCA9ICggdGVtcFJlc2l6ZV90b3AsIGNvZWYgPSAxICkgPT4ge1xuICBjb25zdCBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG4gICAgICAgIERJViA9IHBhcnNlSW50KHRlbXBSZXNpemVfdG9wIC8gWV9TSVpFKSxcbiAgICAgICAgR0FQID0gMTU7XG5cbiAgaWYgKE1PRCA8IEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBESVYqWV9TSVpFOyB9XG4gIGVsc2UgaWYgKCBNT0QgPiBZX1NJWkUgLSBHQVAgKSB7IHRlbXBSZXNpemVfdG9wID0gY29lZiooRElWKzEpKllfU0laRTsgfVxuXG4gIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcmVzaXplLW1vZC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEN1cnZlIGZyb20gJy4vY3VydmUnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZSBmcm9tICcuL3Jlc2l6ZS1oYW5kbGUnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvclJpZ2h0ID0gKHtzdGF0ZX0pID0+IHtcbiAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19yaWdodCddfT5cbiAgICAgICAgICAgIDxDdXJ2ZSBzdGF0ZSA9eyBzdGF0ZSB9IC8+XG4gICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJ0b3BcIiBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9IC8+XG4gICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJyaWdodFwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cImJvdHRvbVwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICA8L2Rpdj4pXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JSaWdodDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1yaWdodC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IG1vZCBmcm9tICcuLi9oZWxwZXJzL3Jlc2l6ZS1tb2QnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUnKTtcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3MuanNvbicpO1xuY2xhc3MgQ3VydmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzdGF0ZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlcyAgPSB0aGlzLl9nZXRTdHlsZSggc3RhdGUgKSxcbiAgICAgICAgICBwb2ludHMgID0gdGhpcy5fcmVuZGVyUG9pbnRzKCBzdGF0ZSApO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZSddfT5cbiAgICAgICAgICAgICAgPGRpdiAgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmVfX2JhY2tncm91bmQnXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5iYWNrZ3JvdW5kfSAvPlxuICAgICAgICAgICAgICA8ZGl2ICBjbGFzc05hbWU9eyBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy50cmFuc2Zvcm19PlxuXG4gICAgICAgICAgICAgICAgeyBwb2ludHMgfVxuXG4gICAgICAgICAgICAgICAgPHN2ZyAgaGVpZ2h0PXsgQy5DVVJWRV9TSVpFIH1cbiAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2N1cnZlX19zdmcnXSB9PlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBfZ2V0U3R5bGUoc3RhdGUpIHtcbiAgICBjb25zdCB7cmVzaXplfSA9IHN0YXRlO1xuICAgIGxldCB7dGVtcF90b3AsIHRlbXBfcmlnaHR9ID0gcmVzaXplO1xuXG4gICAgdGVtcF90b3AgICAgKz0gcmVzaXplLnRvcDtcbiAgICB0ZW1wX3JpZ2h0ICArPSByZXNpemUucmlnaHQ7XG5cbiAgICBpZiAoQy5DVVJWRV9TSVpFIC0gdGVtcF90b3AgPCBDLkNVUlZFX1NJWkUpIHsgdGVtcF90b3AgPSAwOyB9XG4gICAgdGVtcF90b3AgPSBtb2QoIHRlbXBfdG9wLCAtMSApO1xuXG4gICAgY29uc3Qgc2NhbGUgPSBgdHJhbnNmb3JtOiBzY2FsZVgoJHsoQy5DVVJWRV9TSVpFICsgTWF0aC5tYXgodGVtcF9yaWdodCwwKSkvQy5DVVJWRV9TSVpFfSlgLFxuICAgICAgICAgIGJnVHJhbnNmb3JtID0gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHtzY2FsZX07ICR7c2NhbGV9O2AsXG4gICAgICAgICAgYmFja2dyb3VuZCA9IGBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwICR7LXRlbXBfdG9wIC0gMX1weDsgJHtiZ1RyYW5zZm9ybX1gLFxuICAgICAgICAgIHRyYW5zZm9ybSAgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMHB4LCAkey10ZW1wX3RvcH1weClgO1xuICAgIHJldHVybiB7XG4gICAgICBiYWNrZ3JvdW5kLFxuICAgICAgdHJhbnNmb3JtOiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zZm9ybX07ICR7dHJhbnNmb3JtfTtgXG4gICAgfTtcbiAgfVxuXG4gIF9yZW5kZXJQb2ludHMgKHN0YXRlKSB7XG4gICAgY29uc3QgcG9pbnRzRGF0YSA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuICAgICAgICAgIHBvaW50cyAgICAgPSBbXSxcbiAgICAgICAgICBsZW4gICAgICAgID0gcG9pbnRzRGF0YS5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBwb2ludHMucHVzaChcbiAgICAgICAgPFBvaW50IHBvaW50PXsgcG9pbnRzRGF0YVtpXSB9IHN0YXRlPXtzdGF0ZX0gaW5kZXg9e2l9IHBvaW50c0NvdW50PXtsZW59IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDdXJ2ZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLmJhYmVsLmpzeFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZV8xdTQxbF81e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMHB4O2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC43NSk7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgNHB4IDRweCAwIHJnYmEoMCwwLDAsLjUpO3otaW5kZXg6Mn0uX2N1cnZlX19iYWNrZ3JvdW5kXzF1NDFsXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO3RvcDowO2JvdHRvbTowO3dpZHRoOjM1MHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0xNzVweDtvcGFjaXR5Oi41O2JvcmRlci1yYWRpdXM6aW5oZXJpdDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K1BITjJaeUIzYVdSMGFEMGlNelV3Y0hnaUlHaGxhV2RvZEQwaU16VXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXpOVEFnTXpVd0lpQjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnSUNBZ0lDQWdQSFJwZEd4bFBsTnNhV05sSURFOEwzUnBkR3hsUGlBZ0lDQThaR1Z6WXo1RGNtVmhkR1ZrSUhkcGRHZ2dVMnRsZEdOb0xqd3ZaR1Z6WXo0Z0lDQWdQR1JsWm5NK1BDOWtaV1p6UGlBZ0lDQThaeUJwWkQwaVVHRm5aUzB4SWlCemRISnZhMlU5SW01dmJtVWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0Z0lDQWdJQ0FnSUR4bklHbGtQU0pIY205MWNDSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFdU1EQXdNREF3TENBd0xqQXdNREF3TUNraUlITjBjbTlyWlQwaUkwWkdSa1pHUmlJK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE16TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16TXpMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXhOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpFMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nams0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk0TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qZ3dMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTBOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpRMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nakk0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl4TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qRXdMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRrekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMU9TNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFU1TGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTVM0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UUXhMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXlOQzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRJMExqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFd05pNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEEyTGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVGN4TGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU56RXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVTBMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTlRRdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMkxqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1Nell1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU1Ua3VNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVGt1TURBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERFNUxqQXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERNMkxqVXdNakUzT1RNZ1RERXVNREF4TURnNE15d3pOaTQxTURJeE56a3pJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9DdzFOQzR3TURJeE56a3pJRXd4TGpBd01UQTRPRE1zTlRRdU1EQXlNVGM1TXlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTnpFdU5UQXlNVGM1TXlCTU1TNHdNREV3T0RnekxEY3hMalV3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERXdOaTQxTURJeE56a2dUREV1TURBeE1EZzRNeXd4TURZdU5UQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4TWpRdU1EQXlNVGM1SUV3eExqQXdNVEE0T0RNc01USTBMakF3TWpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01UUXhMalV3TWpFM09TQk1NUzR3TURFd09EZ3pMREUwTVM0MU1ESXhOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREUxT1M0d01ESXhOemtnVERFdU1EQXhNRGc0TXl3eE5Ua3VNREF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE9UTXVNVEkzTVRjNUlFd3hMakF3TVRBNE9ETXNNVGt6TGpFeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNakV3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJeE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJeU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lNamd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3lORFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTWpRMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpnd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESTRNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESTVPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5T1RndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d6TVRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc016RTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc016TXpMakV5TnpFM09TQk1NUzR3TURFd09EZ3pMRE16TXk0eE1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMDRPQzR3TmpReE16VXlMREVnVERnNExqQTJOREV6TlRJc016VXhJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweE56VXVNVEk0TWpjc01TQk1NVGMxTGpFeU9ESTNMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5Nall5TGpFNU1qUXdOaXd4SUV3eU5qSXVNVGt5TkRBMkxETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXdMalUyTXpVNU1TdzRPQzR3TmpRMk56a3pJRXd3TGpVMk16VTVNVEF5TWl3NE9DNHdOalEyTnpreklpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRBdU5UWXpOVGt4TERFM05TNDFOalEyTnprZ1REQXVOVFl6TlRreE1ESXlMREUzTlM0MU5qUTJOemtpSUdsa1BTSndZWFJvT0RJeE5TSWdiM0JoWTJsMGVUMGlNQzQxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNQzQxTmpNMU9URXNNall6TGpBMk5EWTNPU0JNTUM0MU5qTTFPVEV3TWpJc01qWXpMakEyTkRZM09TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y21WamRDQnBaRDBpY21WamRERXdNRGM0SWlCdmNHRmphWFI1UFNJd0xqYzFJaUI0UFNJd0xqZzNNamd4TnprMU5TSWdlVDBpTVNJZ2QybGtkR2c5SWpNMU1DSWdhR1ZwWjJoMFBTSXpOVEFpUGp3dmNtVmpkRDRnSUNBZ0lDQWdJRHd2Wno0Z0lDQWdQQzluUGp3dmMzWm5QZz09KX0uX2N1cnZlX19zdmctd3JhcHBlcl8xdTQxbF8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtsZWZ0Oi0xcHg7cmlnaHQ6LTFweH0uX2N1cnZlX19zdmdfMXU0MWxfMXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGU7d2lkdGg6MTAwJX0uX2N1cnZlX19zdmctc2VnbWVudF8xdTQxbF8xe3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoycHg7Y3Vyc29yOmNyb3NzaGFpcn0uX2N1cnZlX19zdmctc2VnbWVudF8xdTQxbF8xOmhvdmVye3N0cm9rZTojZmY1MTJmfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblxyXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXNbaV07XHJcblx0XHRcdGlmKGl0ZW1bMl0pIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbVsxXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcclxuXHR9O1xyXG5cclxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XHJcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcclxuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXHJcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXHJcblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXHJcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XHJcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcclxuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdH1cclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihzb3VyY2VNYXApIHtcclxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHJcblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRpZihvbGRTcmMpXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmVcIjogXCJfY3VydmVfMXU0MWxfNVwiLFxuXHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kXzF1NDFsXzFcIixcblx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyXzF1NDFsXzFcIixcblx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfMXU0MWxfMVwiLFxuXHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfMXU0MWxfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZScpO1xuY2xhc3MgUmVzaXplSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7dHlwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXX1gLFxuICAgICAgICAgIGNsYXNzVHlwZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlIF19YDtcbiAgICByZXR1cm4gPGRpdlxuICAgICAgY2xhc3NOYW1lPXsgYCR7Y2xhc3NOYW1lfSAke2NsYXNzVHlwZX0gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gIH1cbiAgICAgIGRhdGEtdHlwZT17dHlwZX0+XG4gICAgICAgIDxJY29uIHNoYXBlPVwiZWxsaXBzaXNcIiAvPlxuICAgICAgPC9kaXY+O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAge3R5cGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWMgICAgICA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkUnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFX0VORCcsIGRhdGE6IHsgeCwgeSwgdHlwZSB9IH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVzaXplSGFuZGxlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcmVzaXplLWhhbmRsZS5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJyZXNpemUtaGFuZGxlXCI6IFwiX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNFwiLFxuXHRcInJlc2l6ZS1oYW5kbGUtLXJpZ2h0XCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzFcIixcblx0XCJyZXNpemUtaGFuZGxlLS1ib3R0b21cIjogXCJfcmVzaXplLWhhbmRsZS0tYm90dG9tX2s4MWtjXzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcmVzaXplLWhhbmRsZV9rODFrY180e2JhY2tncm91bmQ6IzNkMWIzYzt3aWR0aDozMnB4O2hlaWdodDoxNnB4O2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOm4tcmVzaXplO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjJ9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQgW2RhdGEtY29tcG9uZW50PWljb25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6LTdweH0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNDpob3ZlcntvcGFjaXR5Oi44NX0uX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtjdXJzb3I6ZS1yZXNpemV9Ll9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7Y3Vyc29yOnMtcmVzaXplfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImN1cnZlLWVkaXRvclwiOiBcIl9jdXJ2ZS1lZGl0b3JfMWNvOW9fNFwiLFxuXHRcImN1cnZlLWVkaXRvcl9fbGVmdFwiOiBcIl9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWNvOW9fMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fcmlnaHRcIjogXCJfY3VydmUtZWRpdG9yX19yaWdodF8xY285b18xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXCI6IFwiX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xY285b18xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFjbzlvXzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nb1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xY285b18xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZS1lZGl0b3JfMWNvOW9fNHtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7d2lkdGg6NDAzcHg7aGVpZ2h0OjM3OHB4O2JvcmRlci1yYWRpdXM6MTJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuODUpO3otaW5kZXg6MTAwO2JveC1zaGFkb3c6MnB4IDJweCAycHggcmdiYSgwLDAsMCwuMzgpfS5fY3VydmUtZWRpdG9yX19sZWZ0XzFjbzlvXzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NDJweDtsZWZ0OjA7dG9wOjA7Ym90dG9tOjA7cGFkZGluZzoxMHB4fS5fY3VydmUtZWRpdG9yX19sZWZ0XzFjbzlvXzEgaWNvbi1kaXZpZGVye21hcmdpbjoxMHB4IGF1dG99Ll9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFjbzlvXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0M3B4O3RvcDowO3JpZ2h0OjA7Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWNvOW9fMXtwb3NpdGlvbjphYnNvbHV0ZX0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xY285b18xW2RhdGEtdHlwZT10b3Bde3RvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xY285b18xW2RhdGEtdHlwZT1ib3R0b21de2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFjbzlvXzFbZGF0YS10eXBlPWJvdHRvbV0sLl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWNvOW9fMVtkYXRhLXR5cGU9dG9wXXtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjFweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xY285b18xW2RhdGEtdHlwZT1yaWdodF17cmlnaHQ6LTE2cHg7dG9wOjUwJTttYXJnaW4tdG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xY285b18xe21hcmdpbi10b3A6MTBweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWNvOW9fMSBpY29uLWJ1dHRvbnttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFjbzlvXzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xY285b18xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7Y3JlYXRlU3RvcmV9IGZyb20gJ3JlZHV4Jztcbi8vIGltcG9ydCByZWR1Y2VyXG5pbXBvcnQgcmVkdWNlciBmcm9tICcuL3JlZHVjZXJzL2luZGV4LXJlZHVjZXInO1xuXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKCByZWR1Y2VyICk7XG5cbmV4cG9ydCBkZWZhdWx0IHN0b3JlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuL2JpbmRBY3Rpb25DcmVhdG9ycycpO1xuXG52YXIgX2JpbmRBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5kQWN0aW9uQ3JlYXRvcnMpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vYXBwbHlNaWRkbGV3YXJlJyk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKlxuKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4qIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiovXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gX2JpbmRBY3Rpb25DcmVhdG9yczJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDExMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbaW5pdGlhbFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDExNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKlxuICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKG5hdGl2ZUdldFByb3RvdHlwZSwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fb3ZlckFyZy5qc1xuICoqIG1vZHVsZSBpZCA9IDExNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDExN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvcG9ueWZpbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tYmluZVJlZHVjZXJzO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdsb2Rhc2gvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCA/ICdpbml0aWFsU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbXCJkZWZhdWx0XCJdKShpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICB9KTtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgKyAnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykgKyAnbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgJyArICdjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCAnICsgJ2luIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSAnICsgJ2FjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpO1xuXG4gIHZhciBzYW5pdHlFcnJvcjtcbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2FuaXR5RXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBpZiAoc2FuaXR5RXJyb3IpIHtcbiAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24pO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL3V0aWxzL3dhcm5pbmcuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2JpbmRBY3Rpb25DcmVhdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDEyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFwcGx5TWlkZGxld2FyZTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHV4L2xpYi9hcHBseU1pZGRsZXdhcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2NvbXBvc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFJlZHV4IHV0aWxpdHkgZnVuY3Rpb25zXG5pbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCc7XG4vLyByZWR1eC11bmRvIGhpZ2hlci1vcmRlciByZWR1Y2VyXG5pbXBvcnQgdW5kb2FibGUgZnJvbSAncmVkdXgtdW5kbyc7XG5cbmltcG9ydCByZXNpemVSZWR1Y2VyICAgIGZyb20gJy4vcmVzaXplLXJlZHVjZXInO1xuaW1wb3J0IHBvaW50c1JlZHVjZXIgICAgZnJvbSAnLi9wb2ludHMtcmVkdWNlcic7XG5pbXBvcnQgcG9pbnRDb250cm9sc1JlZHVjZXIgIGZyb20gJy4vcG9pbnQtY29udHJvbHMtcmVkdWNlcic7XG5cbmNvbnN0IFVORE9BQkxFX09QVFMgPSB7XG4gIGxpbWl0OiAxMCxcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXJBY3Rpb25zKGFjdGlvbiwgY3VyclN0YXRlLCBoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG4gIH0sXG4gIGRlYnVnOiBmYWxzZVxufTtcblxuY29uc3QgcmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIHBvaW50Q29udHJvbHM6IHVuZG9hYmxlKHBvaW50Q29udHJvbHNSZWR1Y2VyLCB7IC4uLlVORE9BQkxFX09QVFMgfSksXG4gIHJlc2l6ZTogICAgICAgIHJlc2l6ZVJlZHVjZXIsXG4gIHBvaW50czogICAgICAgIHVuZG9hYmxlKHBvaW50c1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9hc3NpZ24yLmRlZmF1bHQgfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzLmpzXG4gKiogbW9kdWxlIGlkID0gMTI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJyl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElPYmplY3QgID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXG4vLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1Zylcbm1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICB2YXIgQSA9IHt9XG4gICAgLCBCID0ge31cbiAgICAsIFMgPSBTeW1ib2woKVxuICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldClcbiAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgaW5kZXggPSAxXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mXG4gICAgLCBpc0VudW0gICAgID0gcElFLmY7XG4gIHdoaWxlKGFMZW4gPiBpbmRleCl7XG4gICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKVxuICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG4gICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAsIGogICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgeDogICAgICAgICAgICAxNTAsXG4gIHRlbXBYOiAgICAgICAgMCxcblxuICB5OiAgICAgICAgICAgIDEwMCxcbiAgdGVtcFk6ICAgICAgICAwLFxuXG4gIHRvcDogICAgICAgICAgMCxcbiAgdGVtcF90b3A6ICAgICAwLFxuXG4gIHJpZ2h0OiAgICAgICAgMCxcbiAgdGVtcF9yaWdodDogICAwLFxuXG4gIGJvdHRvbTogICAgICAgMCxcbiAgdGVtcF9ib3R0b206ICAwLFxuICBzY2FsZXJYOiAgICAgIEMuQ1VSVkVfUEVSQ0VOVFxufVxuXG5jb25zdCByZXNpemVSZWR1Y2VyID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdFRElUT1JfUkVTSVpFJzoge1xuICAgICAgY29uc3Qge2RhdGF9ID0gYWN0aW9uLFxuICAgICAgICAgICAge3R5cGV9ID0gZGF0YSxcbiAgICAgICAgICAgIGRlbHRhICA9ICggdHlwZSA9PT0gJ3RvcCcgfHwgdHlwZSA9PT0gJ2JvdHRvbScgKSA/IGRhdGEueSA6IGRhdGEueDtcblxuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlLCBbYHRlbXBfJHt0eXBlfWBdOiBkZWx0YSB9O1xuICAgICAgLy8gaWYgYHJpZ2h0YHNpemUgY2hhbmdlZCAtIGNhbGN1bGF0ZSB0aGUgc2NhbGVyIGZvciB4IGF4aXNcbiAgICAgIGlmICggdHlwZSA9PT0gJ3JpZ2h0JyApIHtcbiAgICAgICAgbmV3U3RhdGVbICdzY2FsZXJYJyBdID0gKEMuQ1VSVkVfU0laRSArIE1hdGgubWF4KCBzdGF0ZS5yaWdodCArIGRlbHRhLCAwICkpLzEwMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfUkVTSVpFX0VORCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IHt0eXBlfSA9IGRhdGE7XG4gICAgICBjb25zdCBkZWx0YSA9ICggdHlwZSA9PT0gJ3RvcCcgfHwgdHlwZSA9PT0gJ2JvdHRvbScgKSA/IGRhdGEueSA6IGRhdGEueDtcbiAgICAgIC8vIGdldCB0aGUgdG90YWwgcmVzaXplIHZhbHVlICggdGVtcG9yYXJ5ICsgYWN0dWFsIClcbiAgICAgIGNvbnN0IHJlc2l6ZSA9IHN0YXRlW2Ake2FjdGlvbi5kYXRhLnR5cGV9YF0gKyBkZWx0YTtcbiAgICAgIC8vIGlmIHRoZSB0eXBlIGlmIHRvIC0gaXQgaGFzIHRoZSBgLWAgYXMgYmFzZSBzbyB3ZSBuZWVkIHRvIHN3YXAgbWV0aG9kc1xuICAgICAgY29uc3QgbWF0aE1ldGhvZCA9ICggdHlwZSA9PT0gJ3RvcCcgKSA/ICdtaW4nIDogJ21heCc7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4uc3RhdGUsXG4gICAgICAgIFtgJHthY3Rpb24uZGF0YS50eXBlfWBdOiBNYXRoW21hdGhNZXRob2RdKDAsIHJlc2l6ZSksXG4gICAgICAgIFtgdGVtcF8ke2FjdGlvbi5kYXRhLnR5cGV9YF06IDBcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG5cbiAgICBjYXNlICdFRElUT1JfVFJBTlNMQVRFJzoge1xuICAgICAgY29uc3Qge3gsIHl9ID0gYWN0aW9uLmRhdGE7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgdGVtcFg6IHgsIHRlbXBZOiB5IH07XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBsZXQge3gsIHl9ID0gYWN0aW9uLmRhdGE7XG4gICAgICB4ICs9IHN0YXRlLng7XG4gICAgICB5ICs9IHN0YXRlLnk7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgeCwgeSwgdGVtcFg6IDAsIHRlbXBZOiAwIH07XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCByZXNpemVSZWR1Y2VyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3Jlc2l6ZS1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMTMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgbWFrZVBvaW50IGZyb20gJy4uL2hlbHBlcnMvbWFrZS1wb2ludCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBJTklUSUFMX1NUQVRFID0gW1xuICAgIG1ha2VQb2ludCh7IHg6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUsIHR5cGU6ICdzdHJhaWdodCcgfSksXG4gICAgbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcbiAgICBtYWtlUG9pbnQoeyB4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZSB9KVxuICBdO1xuXG5jb25zdCBkZXNsZWN0QWxsID0gKHN0YXRlKSA9PiB7XG4gIGNvbnN0IG5ld1N0YXRlID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdTdGF0ZS5wdXNoKHsgLi4uc3RhdGVbaV0sIGlzU2VsZWN0ZWQ6IGZhbHNlIH0pO1xuICB9XG4gIHJldHVybiBuZXdTdGF0ZTtcbn1cblxuY29uc3QgZmluZFNlbGVjdGVkSW5kZWNpZXMgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgaW5kZWNpZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgIHN0YXRlW2ldLmlzU2VsZWN0ZWQgJiYgaW5kZWNpZXMucHVzaCggaSApO1xuICB9XG4gIHJldHVybiBpbmRlY2llcztcbn1cblxuY29uc3QgcG9pbnRzUmVkdWNlciA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2goIGFjdGlvbi50eXBlICkge1xuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgID0gYWN0aW9uLFxuICAgICAgICAgICAge2luZGV4fSAgPSBkYXRhLFxuICAgICAgICAgICAgb2xkUG9pbnQgPSBzdGF0ZVtpbmRleF0sXG4gICAgICAgICAgICBuZXdTdGF0ZSA9IFsgLi4uc3RhdGUgXTtcblxuICAgICAgbmV3U3RhdGVbIGRhdGEuaW5kZXggXSA9IHsgLi4ub2xkUG9pbnQsIHRlbXBYOiBkYXRhLngsIHRlbXBZOiBkYXRhLnkgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cblxuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOiB7XG4gICAgICBjb25zdCBpbmRleCAgICA9IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAgb2xkUG9pbnQgPSBzdGF0ZVtpbmRleF0sXG4gICAgICAgICAgICBuZXdTdGF0ZSA9IFsgLi4uc3RhdGUgXTtcblxuICAgICAgbmV3U3RhdGVbIGluZGV4IF0gPSB7XG4gICAgICAgICAgLi4ub2xkUG9pbnQsXG4gICAgICAgICAgeDogb2xkUG9pbnQueCArIG9sZFBvaW50LnRlbXBYLFxuICAgICAgICAgIHk6IG9sZFBvaW50LnkgKyBvbGRQb2ludC50ZW1wWSxcbiAgICAgICAgICB0ZW1wWDogMCwgdGVtcFk6IDBcbiAgICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXh9ICAgICAgID0gZGF0YSxcbiAgICAgICAgICAgIHtpc0Rlc2VsZWN0fSAgPSBkYXRhLFxuICAgICAgICAgICAgLy8gaWYgc2hvdWxkIGRlIHNlbGVjdCBhbGwgb3RoZXIgcG9pbnRzXG4gICAgICAgICAgICBuZXdTdGF0ZSAgICAgID0gKGlzRGVzZWxlY3QpID8gZGVzbGVjdEFsbCggc3RhdGUgKSA6IFsgLi4uc3RhdGUgXTtcblxuICAgICAgY29uc3QgcG9pbnQgPSBuZXdTdGF0ZVtpbmRleF07XG4gICAgICBjb25zdCBzaWJQb2ludCA9IChpbmRleCA9PT0gbmV3U3RhdGUubGVuZ3RoLTEpXG4gICAgICAgICAgICAgID8gbmV3U3RhdGVbaW5kZXgtMV0gOiBuZXdTdGF0ZVtpbmRleCsxXTtcblxuICAgICAgY29uc3QgaGFuZGxlSW5kZXggPSAoaW5kZXggPT09IG5ld1N0YXRlLmxlbmd0aC0xKSA/IDEgOiAyO1xuXG4gICAgICBjb25zdCBoYW5kbGVOYW1lID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YDtcbiAgICAgIGNvbnN0IHNpYkhhbmRsZUluZGV4ID0gKGhhbmRsZUluZGV4ID09PSAxKSA/IDIgOiAxO1xuICAgICAgY29uc3Qgc2liSGFuZGxlTmFtZSA9IGBoYW5kbGUke3NpYkhhbmRsZUluZGV4fWA7XG4gICAgICBjb25zdCBoYW5kbGUgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH07XG4gICAgICBjb25zdCBzaWJIYW5kbGUgPSB7IC4uLnBvaW50W3NpYkhhbmRsZU5hbWVdIH07XG4gICAgICBwb2ludFtoYW5kbGVOYW1lXSA9IGhhbmRsZTtcbiAgICAgIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXG4gICAgICBjb25zdCB3YXNudFNldCA9IGhhbmRsZS5hbmdsZSA9PSBudWxsIHx8IGhhbmRsZS5yYWRpdXMgPT0gbnVsbDtcbiAgICAgIGNvbnN0IHR5cGUgPSBwb2ludC50eXBlO1xuICAgICAgaWYgKCB3YXNudFNldCApIHtcbiAgICAgICAgaGFuZGxlLnJhZGl1cyA9IDUwO1xuXG4gICAgICAgIGNvbnN0IGR5ID0gKHNpYlBvaW50LnkgLSBwb2ludC55KSAvIEMuQ1VSVkVfUEVSQ0VOVDtcbiAgICAgICAgY29uc3QgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcbiAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuKCBkeS9keCApICogKDE4MC9NYXRoLlBJKSAtIDkwO1xuICAgICAgICBpZiAoIGR4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuICAgICAgICBoYW5kbGUuYW5nbGUgPSBhbmdsZTtcblxuICAgICAgICBzaWJIYW5kbGUucmFkaXVzID0gaGFuZGxlLnJhZGl1cztcbiAgICAgICAgc2liSGFuZGxlLmFuZ2xlICA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgICAgIH1cblxuICAgICAgcG9pbnQuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfQUREJzoge1xuICAgICAgY29uc3Qge2RhdGF9ICAgICAgICA9IGFjdGlvbixcbiAgICAgICAgICAgIHt4LCB5LCBpbmRleH0gPSBkYXRhO1xuXG4gICAgICBjb25zdCBkZXNlbGVjdGVkID0gZGVzbGVjdEFsbCggc3RhdGUgKTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4uZGVzZWxlY3RlZC5zbGljZSggMCwgaW5kZXggKSxcbiAgICAgICAgbWFrZVBvaW50KHsgeCwgeSwgaXNTZWxlY3RlZDogdHJ1ZSB9KSxcbiAgICAgICAgLi4uZGVzZWxlY3RlZC5zbGljZSggaW5kZXggKVxuICAgICAgXVxuICAgIH1cbiAgICBjYXNlICdQT0lOVF9ERUxFVEUnOiB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHN0YXRlKTtcblxuICAgICAgY29uc3QgbmV3U3RhdGUgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHN0YXRlW2ldO1xuICAgICAgICAoIHNlbGVjdGVkLmluZGV4T2YoaSkgPT09IC0xIHx8IGl0ZW0uaXNMb2NrZWRYICkgJiYgbmV3U3RhdGUucHVzaCggaXRlbSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOiB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IGZpbmRTZWxlY3RlZEluZGVjaWVzKHN0YXRlKTtcblxuICAgICAgY29uc3QgbmV3U3RhdGUgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHN0YXRlW2ldO1xuICAgICAgICBjb25zdCB0eXBlID0gYWN0aW9uLmRhdGE7XG4gICAgICAgIC8vIGNvcHkgYWxsIGl0ZW1zIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICAgICAgbmV3U3RhdGUucHVzaCggeyAuLi5pdGVtIH0gKTtcbiAgICAgICAgLy8gaWYgaXRlbSB3YXMgc2VsZWN0ZWQgLSBzZXQgdGhlIG5ldyBgdHlwZWBcbiAgICAgICAgKCBzZWxlY3RlZC5pbmRleE9mKGkpICE9PSAtMSApICYmIChuZXdTdGF0ZVtpXS50eXBlID0gdHlwZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IGk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3U3RhdGVbaW5kZXhdO1xuICAgICAgICBjb25zdCBzaWJQb2ludCA9IChpbmRleCA9PT0gbmV3U3RhdGUubGVuZ3RoLTEpXG4gICAgICAgICAgICAgICAgPyBuZXdTdGF0ZVtpbmRleC0xXSA6IG5ld1N0YXRlW2luZGV4KzFdO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUluZGV4ID0gKGluZGV4ID09PSBuZXdTdGF0ZS5sZW5ndGgtMSkgPyAxIDogMjtcbiAgICAgICAgY29uc3Qgc2liSGFuZGxlSW5kZXggPSAoaGFuZGxlSW5kZXggPT09IDEpID8gMiA6IDE7XG4gICAgICAgIGNvbnN0IGhhbmRsZU5hbWUgPSBgaGFuZGxlJHtoYW5kbGVJbmRleH1gO1xuICAgICAgICBjb25zdCBzaWJIYW5kbGVOYW1lID0gYGhhbmRsZSR7c2liSGFuZGxlSW5kZXh9YDtcbiAgICAgICAgY29uc3QgaGFuZGxlID0geyAuLi5wb2ludFtoYW5kbGVOYW1lXSB9O1xuICAgICAgICBjb25zdCBzaWJIYW5kbGUgPSB7IC4uLnBvaW50W3NpYkhhbmRsZU5hbWVdIH07XG4gICAgICAgIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuICAgICAgICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblxuICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgfHwgdHlwZSA9PT0gJ2FzeW1tZXRyaWMnICkge1xuICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgKSB7IHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzOyB9XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6IHtcbiAgICAgIHJldHVybiBkZXNsZWN0QWxsKCBzdGF0ZSApO1xuICAgIH1cblxuXG4gICAgLy8gSEFORExFU1xuICAgIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gPSBhY3Rpb247XG4gICAgICAvLyBjcmVhdGUgbmV3IHN0YXRlIGFuZCBjb3B5IHRoZSBuZXcgcG9pbnQgaW50byBpdFxuICAgICAgY29uc3QgbmV3U3RhdGUgPSBbLi4uc3RhdGVdO1xuICAgICAgY29uc3QgbmV3UG9pbnQgPSB7IC4uLm5ld1N0YXRlW2RhdGEucGFyZW50SW5kZXhdIH07XG4gICAgICBuZXdTdGF0ZVtkYXRhLnBhcmVudEluZGV4XSA9IG5ld1BvaW50O1xuICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcbiAgICAgIGNvbnN0IGhhbmRsZU5hbWUgPSBgaGFuZGxlJHtkYXRhLmluZGV4fWA7XG4gICAgICBjb25zdCBuZXdIYW5kbGUgPSB7IC4uLm5ld1BvaW50W2hhbmRsZU5hbWVdIH07XG4gICAgICBuZXdQb2ludFsgaGFuZGxlTmFtZSBdID0gbmV3SGFuZGxlO1xuICAgICAgLy8gZmluYWxseSBhZGQgYW5nbGUgYW5kIHJhZGl1c1xuICAgICAgbmV3SGFuZGxlLmFuZ2xlICA9IGRhdGEuYW5nbGU7XG4gICAgICBuZXdIYW5kbGUucmFkaXVzID0gZGF0YS5yYWRpdXM7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludHNSZWR1Y2VyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL3BvaW50cy1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZnJvbSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKDAsIF9mcm9tMi5kZWZhdWx0KShhcnIpO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb21cIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5BcnJheS5mcm9tO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzXG4gKiogbW9kdWxlIGlkID0gMTM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgY2FsbCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgdG9MZW5ndGggICAgICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5JylcbiAgLCBnZXRJdGVyRm4gICAgICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQqLyl7XG4gICAgdmFyIE8gICAgICAgPSB0b09iamVjdChhcnJheUxpa2UpXG4gICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG4gICAgICAsIGFMZW4gICAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAsIG1hcGZuICAgPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZFxuICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuICAgICAgLCBpbmRleCAgID0gMFxuICAgICAgLCBpdGVyRm4gID0gZ2V0SXRlckZuKE8pXG4gICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZihtYXBwaW5nKW1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuICAgICAgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDE0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyAgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgaW5kZXgsIHZhbHVlKXtcbiAgaWYoaW5kZXggaW4gb2JqZWN0KSRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jcmVhdGUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDE0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIElURVJBVE9SICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuY29uc3QgZmFsbGJhY2sgPSAoIHZhbHVlLCBmYWxsYmFjayApID0+IHtcbiAgcmV0dXJuICggdmFsdWUgIT0gbnVsbCApID8gdmFsdWUgOiBmYWxsYmFjaztcbn1cblxuXG5jb25zdCBtYWtlSGFuZGxlUG9pbnQgPSAobz17fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIGluZGV4OiAgICBmYWxsYmFjayggby5pbmRleCwgMCApLFxuICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgYW5nbGU6ICAgIGZhbGxiYWNrKCBvLmFuZ2xlLCAgbnVsbCApLFxuICAgIHJhZGl1czogICBmYWxsYmFjayggby5yYWRpdXMsIG51bGwgKSxcbiAgICAvLyBzdGF0ZVxuICAgIGlzVG91Y2hlZDogIGZhbGxiYWNrKCBvLmlzVG91Y2hlZCwgZmFsc2UgKSxcbiAgICBpc1NlbGVjdGVkOiBmYWxsYmFjayggby5pc1NlbGVjdGVkLCBmYWxzZSApLFxuICB9O1xufVxuXG5jb25zdCBtYWtlUG9zaXRpb25Qb2ludCA9IChvPXt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgLy8gY29vcmRpbmF0ZXNcbiAgICB4OiAgICBmYWxsYmFjayggby54LCAwICksXG4gICAgeTogICAgZmFsbGJhY2soIG8ueSwgMCApLFxuICAgIC8vIHRlbXBvcmFyeSBjb29yZGluYXRlcyAod2hlbiB1c2VyIG1vdmVzIHRoZSBwb2ludCkgLVxuICAgIC8vIHNob3VsZCBub3QgYmUgaW4gaGlzdG9yeVxuICAgIHRlbXBYOiBmYWxsYmFjayggby50ZW1wWCwgMCApLFxuICAgIHRlbXBZOiBmYWxsYmFjayggby50ZW1wWSwgMCApLFxuICAgIC8vIHN0YXRlXG4gICAgaXNUb3VjaGVkOiAgZmFsbGJhY2soIG8uaXNUb3VjaGVkLCBmYWxzZSApLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbGxiYWNrKCBvLmlzU2VsZWN0ZWQsIGZhbHNlICksXG4gIH07XG59XG5cbmNvbnN0IG1ha2VQb2ludCA9IChvID0ge30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICAvLyBzdGF0ZVxuICAgIC8vIGlzT25lSGFuZGxlOiBmYWxsYmFjayggby5pc09uZUhhbmRsZSwgZmFsc2UgKSxcbiAgICBpc0xvY2tlZFg6ICAgZmFsbGJhY2soIG8uaXNMb2NrZWRYLCBmYWxzZSApLFxuICAgIGlzTG9ja2VkWTogICBmYWxsYmFjayggby5pc0xvY2tlZFksIGZhbHNlICksXG4gICAgLy8gdHlwZSBvZiB0aGUgcG9pbnQ6XG4gICAgLy8gICAnc3RyYWlnaHQnIHx8ICdtaXJyb3JlZCcgfHwgJ2Rpc2Nvbm5lY3RlZCcgfHwgJ2FzeW1ldHJpYydcbiAgICB0eXBlOiAgICAgICBmYWxsYmFjayggby50eXBlLCAnc3RyYWlnaHQnICksXG4gICAgLy8gYWRkIHBvc2l0aW9uIGF0dHJpYnV0ZXMgdG8gc2VsZlxuICAgIC4uLm1ha2VQb3NpdGlvblBvaW50KG8pLFxuICAgIC8vIGFkZCBjdXJ2ZSBoYW5kbGVzXG4gICAgaGFuZGxlMTogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMSB8fCB7IGluZGV4OiAxIH0pLFxuICAgIGhhbmRsZTI6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTIgfHwgeyBpbmRleDogMiB9KVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlUG9pbnQ7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9tYWtlLXBvaW50LmJhYmVsLmpzXG4gKiovIiwiXG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBpc1Nob3c6IGZhbHNlLFxuICB0eXBlOiAgICdzdHJhaWdodCdcbn1cblxuY29uc3QgcG9pbnRDb250cm9scyA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gcHJvYmFibHkgcmVkdW5kYW50XG4gICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9O1xuICAgIC8vIH1cbiAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiAhYWN0aW9uLmlzRGVzZWxlY3QsIHR5cGU6IGFjdGlvbi5kYXRhLnR5cGUgfTtcbiAgICB9XG4gICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgdHlwZTogYWN0aW9uLmRhdGEgfTsgXG4gICAgfVxuICAgIGNhc2UgJ1BPSU5UX0RFU0VMRUNUX0FMTCc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc1Nob3c6IGZhbHNlIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRDb250cm9scztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9wb2ludC1jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzXG4gKiovIiwiZXhwb3J0IHsgQ29tcG9uZW50LCBoIGFzIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdwcmVhY3QnO1xuXG5leHBvcnQgY29uc3QgQ2hpbGRyZW4gPSB7XG5cdG9ubHkoY2hpbGRyZW4pIHtcblx0XHRyZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW5bMF0gfHwgbnVsbDtcblx0fVxufTtcblxuZnVuY3Rpb24gcHJvcHR5cGUoKSB7fVxucHJvcHR5cGUuaXNSZXF1aXJlZCA9IHByb3B0eXBlO1xuXG5leHBvcnQgY29uc3QgUHJvcFR5cGVzID0ge1xuXHRlbGVtZW50OiBwcm9wdHlwZSxcblx0ZnVuYzogcHJvcHR5cGUsXG5cdHNoYXBlOiAoKSA9PiBwcm9wdHlwZVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL3NyYy9jb21wYXQuanNcbiAqKi8iLCIvKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSlcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSlcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy93YXJuaW5nLmpzXG4gKiovIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wVHlwZXMsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgc3RvcmVTaGFwZSBmcm9tICcuLi91dGlscy9zdG9yZVNoYXBlJ1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vdXRpbHMvd2FybmluZydcblxubGV0IGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2VcbmZ1bmN0aW9uIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCkge1xuICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcbiAgICByZXR1cm5cbiAgfVxuICBkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSA9IHRydWVcblxuICB3YXJuaW5nKFxuICAgICc8UHJvdmlkZXI+IGRvZXMgbm90IHN1cHBvcnQgY2hhbmdpbmcgYHN0b3JlYCBvbiB0aGUgZmx5LiAnICtcbiAgICAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICtcbiAgICAnUmVkdXggMi54IGFuZCBSZWFjdCBSZWR1eCAyLnggd2hpY2ggbm8gbG9uZ2VyIGhvdCByZWxvYWQgcmVkdWNlcnMgJyArXG4gICAgJ2F1dG9tYXRpY2FsbHkuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yZWR1eC9yZWxlYXNlcy8nICtcbiAgICAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJ1xuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3ZpZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7IHN0b3JlOiB0aGlzLnN0b3JlIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgc3VwZXIocHJvcHMsIGNvbnRleHQpXG4gICAgdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKVxuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFByb3ZpZGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xuICAgIGNvbnN0IHsgc3RvcmUgfSA9IHRoaXNcbiAgICBjb25zdCB7IHN0b3JlOiBuZXh0U3RvcmUgfSA9IG5leHRQcm9wc1xuXG4gICAgaWYgKHN0b3JlICE9PSBuZXh0U3RvcmUpIHtcbiAgICAgIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKClcbiAgICB9XG4gIH1cbn1cblxuUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICBzdG9yZTogc3RvcmVTaGFwZS5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZFxufVxuUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWRcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL2NvbXBvbmVudHMvUHJvdmlkZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICBpZiAob2JqQSA9PT0gb2JqQikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpXG4gIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqQilcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGNvbnN0IGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duLmNhbGwob2JqQiwga2V5c0FbaV0pIHx8XG4gICAgICAgIG9iakFba2V5c0FbaV1dICE9PSBvYmpCW2tleXNBW2ldXSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3NoYWxsb3dFcXVhbC5qc1xuICoqLyIsImltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcbiAgcmV0dXJuIGRpc3BhdGNoID0+IGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMuanNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdG9yZVNoYXBlIGZyb20gJy4uL3V0aWxzL3N0b3JlU2hhcGUnXG5pbXBvcnQgc2hhbGxvd0VxdWFsIGZyb20gJy4uL3V0aWxzL3NoYWxsb3dFcXVhbCdcbmltcG9ydCB3cmFwQWN0aW9uQ3JlYXRvcnMgZnJvbSAnLi4vdXRpbHMvd3JhcEFjdGlvbkNyZWF0b3JzJ1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vdXRpbHMvd2FybmluZydcbmltcG9ydCBpc1BsYWluT2JqZWN0IGZyb20gJ2xvZGFzaC9pc1BsYWluT2JqZWN0J1xuaW1wb3J0IGhvaXN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcydcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50J1xuXG5jb25zdCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gc3RhdGUgPT4gKHt9KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5jb25zdCBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4gKHsgZGlzcGF0Y2ggfSlcbmNvbnN0IGRlZmF1bHRNZXJnZVByb3BzID0gKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKSA9PiAoe1xuICAuLi5wYXJlbnRQcm9wcyxcbiAgLi4uc3RhdGVQcm9wcyxcbiAgLi4uZGlzcGF0Y2hQcm9wc1xufSlcblxuZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuICByZXR1cm4gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCdcbn1cblxubGV0IGVycm9yT2JqZWN0ID0geyB2YWx1ZTogbnVsbCB9XG5mdW5jdGlvbiB0cnlDYXRjaChmbiwgY3R4KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGN0eClcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVycm9yT2JqZWN0LnZhbHVlID0gZVxuICAgIHJldHVybiBlcnJvck9iamVjdFxuICB9XG59XG5cbi8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5sZXQgbmV4dFZlcnNpb24gPSAwXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzaG91bGRTdWJzY3JpYmUgPSBCb29sZWFuKG1hcFN0YXRlVG9Qcm9wcylcbiAgY29uc3QgbWFwU3RhdGUgPSBtYXBTdGF0ZVRvUHJvcHMgfHwgZGVmYXVsdE1hcFN0YXRlVG9Qcm9wc1xuXG4gIGxldCBtYXBEaXNwYXRjaFxuICBpZiAodHlwZW9mIG1hcERpc3BhdGNoVG9Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG1hcERpc3BhdGNoID0gbWFwRGlzcGF0Y2hUb1Byb3BzXG4gIH0gZWxzZSBpZiAoIW1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgIG1hcERpc3BhdGNoID0gZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wc1xuICB9IGVsc2Uge1xuICAgIG1hcERpc3BhdGNoID0gd3JhcEFjdGlvbkNyZWF0b3JzKG1hcERpc3BhdGNoVG9Qcm9wcylcbiAgfVxuXG4gIGNvbnN0IGZpbmFsTWVyZ2VQcm9wcyA9IG1lcmdlUHJvcHMgfHwgZGVmYXVsdE1lcmdlUHJvcHNcbiAgY29uc3QgeyBwdXJlID0gdHJ1ZSwgd2l0aFJlZiA9IGZhbHNlIH0gPSBvcHRpb25zXG4gIGNvbnN0IGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzXG5cbiAgLy8gSGVscHMgdHJhY2sgaG90IHJlbG9hZGluZy5cbiAgY29uc3QgdmVyc2lvbiA9IG5leHRWZXJzaW9uKytcblxuICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICBjb25zdCBjb25uZWN0RGlzcGxheU5hbWUgPSBgQ29ubmVjdCgke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgXG5cbiAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIGlmICghaXNQbGFpbk9iamVjdChwcm9wcykpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBgJHttZXRob2ROYW1lfSgpIGluICR7Y29ubmVjdERpc3BsYXlOYW1lfSBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gYCArXG4gICAgICAgICAgYEluc3RlYWQgcmVjZWl2ZWQgJHtwcm9wc30uYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZU1lcmdlZFByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKSB7XG4gICAgICBjb25zdCBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcylcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1lcmdlZFByb3BzXG4gICAgfVxuXG4gICAgY2xhc3MgQ29ubmVjdCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiAhcHVyZSB8fCB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgfHwgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZFxuICAgICAgfVxuXG4gICAgICBjb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCkge1xuICAgICAgICBzdXBlcihwcm9wcywgY29udGV4dClcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvblxuICAgICAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmUgfHwgY29udGV4dC5zdG9yZVxuXG4gICAgICAgIGludmFyaWFudCh0aGlzLnN0b3JlLFxuICAgICAgICAgIGBDb3VsZCBub3QgZmluZCBcInN0b3JlXCIgaW4gZWl0aGVyIHRoZSBjb250ZXh0IG9yIGAgK1xuICAgICAgICAgIGBwcm9wcyBvZiBcIiR7Y29ubmVjdERpc3BsYXlOYW1lfVwiLiBgICtcbiAgICAgICAgICBgRWl0aGVyIHdyYXAgdGhlIHJvb3QgY29tcG9uZW50IGluIGEgPFByb3ZpZGVyPiwgYCArXG4gICAgICAgICAgYG9yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJHtjb25uZWN0RGlzcGxheU5hbWV9XCIuYFxuICAgICAgICApXG5cbiAgICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKVxuICAgICAgICB0aGlzLnN0YXRlID0geyBzdG9yZVN0YXRlIH1cbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cblxuICAgICAgY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIGNvbnN0IHN0YXRlUHJvcHMgPSB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgP1xuICAgICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSlcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShzdGF0ZVByb3BzLCAnbWFwU3RhdGVUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGVQcm9wc1xuICAgICAgfVxuXG4gICAgICBjb25maWd1cmVGaW5hbE1hcFN0YXRlKHN0b3JlLCBwcm9wcykge1xuICAgICAgICBjb25zdCBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKVxuICAgICAgICBjb25zdCBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbidcblxuICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkU3RhdGUgOiBtYXBTdGF0ZVxuICAgICAgICB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCAhPT0gMVxuXG4gICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWRTdGF0ZSwgJ21hcFN0YXRlVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZFN0YXRlXG4gICAgICB9XG5cbiAgICAgIGNvbXB1dGVEaXNwYXRjaFByb3BzKHN0b3JlLCBwcm9wcykge1xuICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IHN0b3JlXG4gICAgICAgIGNvbnN0IGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgP1xuICAgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIHByb3BzKSA6XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaClcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShkaXNwYXRjaFByb3BzLCAnbWFwRGlzcGF0Y2hUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzcGF0Y2hQcm9wc1xuICAgICAgfVxuXG4gICAgICBjb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcykge1xuICAgICAgICBjb25zdCBtYXBwZWREaXNwYXRjaCA9IG1hcERpc3BhdGNoKHN0b3JlLmRpc3BhdGNoLCBwcm9wcylcbiAgICAgICAgY29uc3QgaXNGYWN0b3J5ID0gdHlwZW9mIG1hcHBlZERpc3BhdGNoID09PSAnZnVuY3Rpb24nXG5cbiAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZERpc3BhdGNoIDogbWFwRGlzcGF0Y2hcbiAgICAgICAgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzID0gdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcy5sZW5ndGggIT09IDFcblxuICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWREaXNwYXRjaFxuICAgICAgfVxuXG4gICAgICB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZVByb3BzID0gdGhpcy5jb21wdXRlU3RhdGVQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5zdGF0ZVByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0U3RhdGVQcm9wcywgdGhpcy5zdGF0ZVByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbmV4dFN0YXRlUHJvcHNcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuICAgICAgICBjb25zdCBuZXh0RGlzcGF0Y2hQcm9wcyA9IHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHModGhpcy5zdG9yZSwgdGhpcy5wcm9wcylcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dERpc3BhdGNoUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG5leHREaXNwYXRjaFByb3BzXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcylcbiAgICAgICAgaWYgKHRoaXMubWVyZ2VkUHJvcHMgJiYgY2hlY2tNZXJnZWRFcXVhbHMgJiYgc2hhbGxvd0VxdWFsKG5leHRNZXJnZWRQcm9wcywgdGhpcy5tZXJnZWRQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHNcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbidcbiAgICAgIH1cblxuICAgICAgdHJ5U3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHRoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcykpXG4gICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKVxuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKClcbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKCFwdXJlIHx8ICFzaGFsbG93RXF1YWwobmV4dFByb3BzLCB0aGlzLnByb3BzKSkge1xuICAgICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG5cbiAgICAgIGNsZWFyQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hQcm9wcyA9IG51bGxcbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbFxuICAgICAgICB0aGlzLm1lcmdlZFByb3BzID0gbnVsbFxuICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBudWxsXG4gICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbFxuICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gbnVsbFxuICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzID0gbnVsbFxuICAgICAgfVxuXG4gICAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIGlmICghdGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKVxuICAgICAgICBjb25zdCBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZVxuICAgICAgICBpZiAocHVyZSAmJiBwcmV2U3RvcmVTdGF0ZSA9PT0gc3RvcmVTdGF0ZSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHB1cmUgJiYgIXRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcykge1xuICAgICAgICAgIGNvbnN0IGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRyeUNhdGNoKHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkLCB0aGlzKVxuICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9PT0gZXJyb3JPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSBlcnJvck9iamVjdC52YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RvcmVTdGF0ZSB9KVxuICAgICAgfVxuXG4gICAgICBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG4gICAgICAgIGludmFyaWFudCh3aXRoUmVmLFxuICAgICAgICAgIGBUbyBhY2Nlc3MgdGhlIHdyYXBwZWQgaW5zdGFuY2UsIHlvdSBuZWVkIHRvIHNwZWNpZnkgYCArXG4gICAgICAgICAgYHsgd2l0aFJlZjogdHJ1ZSB9IGFzIHRoZSBmb3VydGggYXJndW1lbnQgb2YgdGhlIGNvbm5lY3QoKSBjYWxsLmBcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJlZnMud3JhcHBlZEluc3RhbmNlXG4gICAgICB9XG5cbiAgICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQsXG4gICAgICAgICAgaGFzU3RvcmVTdGF0ZUNoYW5nZWQsXG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCxcbiAgICAgICAgICBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcixcbiAgICAgICAgICByZW5kZXJlZEVsZW1lbnRcbiAgICAgICAgfSA9IHRoaXNcblxuICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGxcblxuICAgICAgICBpZiAoc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvclxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMgPSB0cnVlXG4gICAgICAgIGxldCBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gdHJ1ZVxuICAgICAgICBpZiAocHVyZSAmJiByZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgKFxuICAgICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHNcbiAgICAgICAgICApXG4gICAgICAgICAgc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcyA9XG4gICAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wc1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGxldCBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSBmYWxzZVxuICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzKSB7XG4gICAgICAgICAgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gdGhpcy51cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0cnVlXG4gICAgICAgIGlmIChcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHxcbiAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgfHxcbiAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkXG4gICAgICAgICkge1xuICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aXRoUmVmKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHtcbiAgICAgICAgICAgIC4uLnRoaXMubWVyZ2VkUHJvcHMsXG4gICAgICAgICAgICByZWY6ICd3cmFwcGVkSW5zdGFuY2UnXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCxcbiAgICAgICAgICAgIHRoaXMubWVyZ2VkUHJvcHNcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEVsZW1lbnRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBDb25uZWN0LmRpc3BsYXlOYW1lID0gY29ubmVjdERpc3BsYXlOYW1lXG4gICAgQ29ubmVjdC5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudFxuICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge1xuICAgICAgc3RvcmU6IHN0b3JlU2hhcGVcbiAgICB9XG4gICAgQ29ubmVjdC5wcm9wVHlwZXMgPSB7XG4gICAgICBzdG9yZTogc3RvcmVTaGFwZVxuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gdmVyc2lvbikge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgYXJlIGhvdCByZWxvYWRpbmchXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb25cbiAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBob2lzdFN0YXRpY3MoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudClcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9jb25uZWN0LmpzXG4gKiovIiwiaW1wb3J0IHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5cbmV4cG9ydCBkZWZhdWx0IFByb3BUeXBlcy5zaGFwZSh7XG4gIHN1YnNjcmliZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGlzcGF0Y2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59KVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc3RvcmVTaGFwZS5qc1xuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL2lzT2JqZWN0TGlrZS5qc1xuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvX2lzSG9zdE9iamVjdC5qc1xuICoqLyIsIi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKlxuICogR2V0cyB0aGUgYFtbUHJvdG90eXBlXV1gIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge251bGx8T2JqZWN0fSBSZXR1cm5zIHRoZSBgW1tQcm90b3R5cGVdXWAuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3RvdHlwZSh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlR2V0UHJvdG90eXBlKE9iamVjdCh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanNcbiAqKi8iLCJ2YXIgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSgnLi9faXNIb3N0T2JqZWN0JyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8XG4gICAgICBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qc1xuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gICAgY29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgbWl4aW5zOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZSxcbiAgICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGFyZ3VtZW50czogdHJ1ZSxcbiAgICBhcml0eTogdHJ1ZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykgeyAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRDb21wb25lbnRba2V5c1tpXV0gPSBzb3VyY2VDb21wb25lbnRba2V5c1tpXV07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9pbmRleC5qc1xuICoqLyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIE5PREVfRU5WID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7XG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9pbnZhcmlhbnQvaW52YXJpYW50LmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL21haW4ucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9tYWluLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTQ4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZDojZmZmNWU0fSp7Ym94LXNpemluZzpib3JkZXItYm94fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uJyk7XG5cbmNsYXNzIEljb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzaGFwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1hcmt1cCA9IGA8c3ZnIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48dXNlIHhsaW5rOmhyZWY9XCIjJHtzaGFwZX0tc2hhcGVcIiAvPjwvc3ZnPmA7XG4gICAgcmV0dXJuICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24nXX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hcmt1cCB9fT5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJpY29uXCI6IFwiX2ljb25fNGE4bGZfNVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uXzRhOGxmXzV7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtjdXJzb3I6cG9pbnRlcjtmaWxsOiNmZmY7ZGlzcGxheTpibG9ja30uX2ljb25fNGE4bGZfNT5zdmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81PnN2Zz51c2V7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuXG5jb25zdCBJY29ucyA9ICgpID0+IHtcbiAgcmV0dXJuIDxkaXYgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBgPHN2ZyBoZWlnaHQ9XCIwXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBtYXJnaW4tbGVmdDogLTEwMCU7IHdpZHRoOjA7IGhlaWdodDowO1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxuICAgICAgPGcgaWQ9XCJlbGxpcHNpcy1zaGFwZVwiPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE2XCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIyMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgPC9nPlxuICAgICAgPHBhdGggaWQ9XCJjb2RlLXNoYXBlXCIgZD1cIk04LDE2LjA4NDk2NDggQzgsMTUuODIxMDc5MyA4LjExMTQ5MDY5LDE1LjYxMjkzOTMgOC4zMzQ4MzQwNSwxNS40NjA5MDY1IEwxMi4zMzkwODc0LDEyLjg0MTk2MTIgQzEyLjM4OTc2NDksMTIuODAxNDE5MiAxMi40NjU3ODEzLDEyLjc4MTE0ODEgMTIuNTY3NDk4NSwxMi43ODExNDgxIEMxMi43Mzk4MDIzLDEyLjc4MTE0ODEgMTIuOTA0ODY2NCwxMi44NTcxNjQ1IDEzLjA2MjMyODksMTMuMDA5NTU5MiBDMTMuMjE5NDI5NCwxMy4xNjE5NTQgMTMuMjk4MzQxNywxMy4zMzkzMjU1IDEzLjI5ODM0MTcsMTMuNTQyMzk3OSBDMTMuMjk4MzQxNywxMy43MzUzMzQ3IDEzLjIyMTk2MzMsMTMuODgyNjYxNyAxMy4wNjkyMDY2LDEzLjk4NDAxNjggTDkuODU3Njk1NTMsMTYuMDg0OTY0OCBMMTMuMDY5MjA2NiwxOC4xODYyNzQ3IEMxMy4yMjE5NjMzLDE4LjI2NzcyMDggMTMuMjk4MzQxNywxOC40MTQ2ODU4IDEzLjI5ODM0MTcsMTguNjI3ODkzNyBDMTMuMjk4MzQxNywxOC44MzA5NjYgMTMuMjE5NzkxNCwxOS4wMDYxNjU3IDEzLjA2MjMyODksMTkuMTUzMTMwNyBDMTIuOTA0ODY2NCwxOS4zMDA0NTc2IDEyLjczOTgwMjMsMTkuMzczOTQwMSAxMi41Njc0OTg1LDE5LjM3Mzk0MDEgQzEyLjQ2NTc4MTMsMTkuMzczOTQwMSAxMi4zODk3NjQ5LDE5LjM1MzY2OTEgMTIuMzM5MDg3NCwxOS4zMTMxMjcgTDguMzM0ODM0MDUsMTYuNjkzODE5OCBDOC4xMTE0OTA2OSwxNi41NDE0MjUgOCwxNi4zMzg3MTQ3IDgsMTYuMDg0OTY0OCBMOCwxNi4wODQ5NjQ4IFogTTE0LjEzOTk1MTYsMjAuNjg3NTc1NiBDMTQuMTI2NTU4MiwyMC42MDc1Nzc0IDE0LjEyODczMDEsMjAuNTMwMTEzMSAxNC4xNDY4MjkzLDIwLjQ1NDgyMDcgTDE2LjkzOTUyNjMsMTEuMzU2MDIyIEMxNi45ODkxMTc5LDExLjE2MjM2MTIgMTcuMTIzNzc1NSwxMS4wNDY4ODg3IDE3LjM0NDIyMywxMS4wMDk2MDQ1IEMxNy41MDQyMTk0LDEwLjk4MjQ1NTggMTcuNjU4Nzg2LDExLjAxMjg2MjMgMTcuODA3NTYwOSwxMS4xMDA4MjQyIEMxNy45NTYzMzU4LDExLjE4OTE0NzkgMTguMDQ0Mjk3NiwxMS4zMTMzMDggMTguMDcxMDg0NCwxMS40NzMzMDQ0IEMxOC4wODYyODc2LDExLjU2MzQzODEgMTguMDc5NzcyLDExLjY0NzA1NjEgMTguMDUxODk5MywxMS43MjM3OTY1IEwxNS4yNjY0NDE5LDIwLjc3NDgxMzQgQzE1LjIwODUyNDcsMjAuOTgwMDU3NyAxNS4wNTkzODc4LDIxLjEwMzEzMTggMTQuODE5MzkzMiwyMS4xNDQwMzU4IEMxNC42NDg4OTkzLDIxLjE3Mjk5NDUgMTQuNDk5NDAwNSwyMS4xMzg5NjgxIDE0LjM2OTgxMDYsMjEuMDQyNjgwNyBDMTQuMjQwMjIwOCwyMC45NDYwMzEzIDE0LjE2Mzg0MjQsMjAuODI3NjYyOSAxNC4xMzk5NTE2LDIwLjY4NzU3NTYgTDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBaIE0xOC45NTI4NzQ0LDE5LjE1Mjc2ODcgQzE4Ljc5NTQxMTksMTkuMDA1ODAzNyAxOC43MTY4NjE2LDE4LjgzMDYwNCAxOC43MTY4NjE2LDE4LjYyNzUzMTcgQzE4LjcxNjg2MTYsMTguNDI0NDU5NCAxOC43ODc4MTAyLDE4LjI3NzQ5NDQgMTguOTMwMDY5NSwxOC4xODU5MTI3IEwyMi4xNDI2NjY1LDE2LjA4NDYwMjggTDE4LjkzMDA2OTUsMTMuOTgzNjU0OSBDMTguNzg3ODEwMiwxMy44NzE4MDIyIDE4LjcxNjg2MTYsMTMuNzI0ODM3MiAxOC43MTY4NjE2LDEzLjU0MjAzNTkgQzE4LjcxNjg2MTYsMTMuMzM4OTYzNiAxOC43OTU0MTE5LDEzLjE2MTU5MiAxOC45NTI4NzQ0LDEzLjAwOTE5NzMgQzE5LjExMDMzNjksMTIuODU2ODAyNSAxOS4yNzUwMzksMTIuNzgwNzg2MSAxOS40NDc3MDQ4LDEyLjc4MDc4NjEgQzE5LjUzODkyNDUsMTIuNzgwNzg2MSAxOS42MDk4NzMxLDEyLjgwMTQxOTIgMTkuNjYwOTEyNiwxMi44NDE1OTkyIEwyMy42NjUxNjU5LDE1LjQ2MDU0NDUgQzIzLjg4ODE0NzMsMTUuNjEyOTM5MyAyNCwxNS44MjEwNzkzIDI0LDE2LjA4NDYwMjggQzI0LDE2LjM0ODg1MDIgMjMuODg4MTQ3MywxNi41NTE1NjA2IDIzLjY2NTE2NTksMTYuNjkzODE5OCBMMTkuNjYwOTEyNiwxOS4zMTI3NjUxIEMxOS42MDk4NzMxLDE5LjM1MzMwNzEgMTkuNTM4OTI0NSwxOS4zNzM1NzgyIDE5LjQ0NzcwNDgsMTkuMzczNTc4MiBDMTkuMjc1MDM5LDE5LjM3MzU3ODIgMTkuMTEwMzM2OSwxOS4zMDAwOTU3IDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBMMTguOTUyODc0NCwxOS4xNTI3Njg3IFpcIj48L3BhdGg+XG4gICAgICA8ZyBpZD1cInBvaW50LXN0cmFpZ2h0LXNoYXBlXCIgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgPHBvbHlsaW5lIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIHBvaW50cz1cIjcuODgxIDIwLjU2OCAxNS40NTEgMTIuMjQxIDIzLjg5MiAyMC41NjhcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LW1pcnJvcmVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCIjOEI2RThBXCIgc3Ryb2tlPVwiI0ZGRkZGRlwiIGQ9XCJNNy44ODE0NDg0MSwyMS45MDEyNjMyIEM3Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgNy41OTI4NzE3MiwxMy41NzQwNTM3IDE1LjQ1MTQ0MjMsMTMuNTc0MDUzNyBDMjMuMzEwMDEyOSwxMy41NzQwNTM3IDIzLjg5MjEyMjgsMjEuOTAxMjYzMiAyMy44OTIxMjI4LDIxLjkwMTI2MzJcIi8+XG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTcuMTM4ODM1MjcsMTMuMzMzMzMzMyBMMjUuODA1NTAxMywxMy4zMzMzMzMzXCIvPlxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxNC45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8ZWxsaXBzZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTMuMzMzXCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjI0XCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1kaXNjb25uZWN0ZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIwLjU2NzkyOTggQzcuODgxNDQ4NDEsMjAuNTY3OTI5OCA3LjU5Mjg3MTcyLDEyLjI0MDcyMDQgMTUuNDUxNDQyMywxMi4yNDA3MjA0IEMyMS4yMDA1MjA3LDE3Ljg4NzM3IDIzLjg5MjEyMjgsMjAuNTY3OTI5OCAyMy44OTIxMjI4LDIwLjU2NzkyOThcIi8+XG4gICAgICAgIDxwb2x5bGluZSBzdHJva2U9XCIjRkY1MTJGXCIgcG9pbnRzPVwiNi4xMzMgMTIgMTUuMjI4IDEyIDIzLjkzMyAyMC42MDJcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjRcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIyMS44ODZcIiB5PVwiMTguNTUyXCIgZmlsbD1cIiNGRjUxMkZcIiB0cmFuc2Zvcm09XCJyb3RhdGUoNDUgMjMuMjE5IDE5Ljg4NilcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMC42NjdcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtYXN5bW1ldHJpYy1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg3LjY2NyA5LjMzMylcIj5cbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk0wLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IEMwLjIxNDc4MTc0MiwxMS4yMzQ1OTY1IC0wLjM3MzUxMTg2OSwyLjkwNzA5NjEzIDcuNzg0Nzc1NjQsMi45MDczODcwNCBDMTAuNzUwMDAwMywyLjkwNzQ5Mjc3IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NSAxNi4yMjU0NTYyLDExLjIzNDU5NjVcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjlcIiBjeT1cIjQuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNMi41Mjc4ODUwMywyLjY2NjY2NjY3IEwxOC4xMzg4MzQ2LDIuNjY2NjY2NjdcIi8+XG4gICAgICAgIDxlbGxpcHNlIGN4PVwiNy42NjdcIiBjeT1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjE2LjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiLjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPHBhdGggaWQ9XCJtb2pzLWxvZ28tc2hhcGVcIiBkPVwiTTE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBDMTkuNDg4NTg2LDMuMjU3NTg2MjUgMjAuMjc4OTIyNyw0LjE4NDIxNjUxIDIwLjg3ODIzLDUuMTk3MzU3OSBDMjQuMDgwNzc4OCwxMC41MDE0NTEgMjcuMjc3NzA5MSwxNS44MTEzMTE2IDMwLjQ4MDI1OCwyMS4xMTU0MDQ3IEMzMS4xMzIwMDQ3LDIyLjE2MTIyODEgMzEuNzcwNjQxNywyMy4yNjQ3MjU2IDMxLjkzNTQ1MTIsMjQuNTE2MjUzMiBDMzIuMTg4Mjg0LDI2LjA2MTkxODYgMzEuNjkxOTgyNiwyNy43MzYzODk1IDMwLjU1ODkxNzEsMjguODAzMzYgQzI5LjQ1MDE5ODQsMjkuODg1NzEwMyAyNy44ODA3NjIyLDMwLjMxODI2NTkgMjYuMzgwNjIwOSwzMC4zMDQ4MDg2IEMxOS40NTExMjkzLDMwLjMwODY1MzUgMTIuNTIzNTEwNiwzMC4zMDg2NTM1IDUuNTk0MDE5MDEsMzAuMzA0ODA4NiBDMy43MTU1NjQ5NCwzMC4zNDMyNTggMS42OTg1MjEwNCwyOS41NzIzNDc4IDAuNjgzNDQ0MTY1LDI3Ljg3MDk2MjMgQy0wLjQwNjU0NjEzMiwyNi4xMDk5ODAzIC0wLjA5NzUyODI2NDMsMjMuNzkxNDgyMiAwLjk0MDAyMjYzNywyMi4wODQzMjkzIEM0LjM0Mjk2NDg1LDE2LjQxMzA0NDUgNy43NjY1MDgyNiwxMC43NTMyOTQ1IDExLjE4MjU2MDMsNS4wODk2OTk2MSBDMTEuOTc0NzY5OCwzLjc0NzgxNTk1IDEzLjE4NDYyMTUsMi42MDIwMjQxOCAxNC42ODQ3NjI4LDIuMTgyOTI1ODQgQzE1Ljk0NTE4MTIsMS44MTU3MzQxOCAxNy4zMzQ4MjUxLDIuMDExODI2MDYgMTguNDY3ODkwNywyLjY3NzAwMDQ4IFogTTE1LjMzMzQ2NjgsOS41MTUyNjg0OSBDMTUuNjE0NjIzOCw5LjAzNzc5NDc2IDE2LjA3OTE1OTcsOS4wMjI1MDY1NSAxNi4zNzg1Njc5LDkuNDkyOTU0NyBMMjUuMjc2MzU1NSwyMy40NzM2OTEzIEMyNS41NzIzOTE5LDIzLjkzODg0MTQgMjUuMzU2ODQzMywyNC4zMTU5MjAxIDI0LjgwNzQzOTgsMjQuMzE1OTIwMiBMNy42MjMxNDY0NywyNC4zMTU5MjA1IEM3LjA2ODEzNTA1LDI0LjMxNTkyMDYgNi44NDYyMjc5OCwyMy45Mjg2ODg5IDcuMTI3Mjg5MTMsMjMuNDUxMzc3OSBMMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IFpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PC9wYXRoPlxuICAgIDwvc3ZnPmAgfX0+PC9kaXY+XG59XG5cbmV4cG9ydCBkZWZhdWx0IEljb25zO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbnMuYmFiZWwuanN4XG4gKiovIiwiXG5pbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvckxlZnQgPSAoKSA9PiB7XG4gIHJldHVybiAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddfT5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19tb2pzLWxvZ28nXX1cbiAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3JcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgICAgPEljb24gc2hhcGU9XCJtb2pzLWxvZ29cIiAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2Pjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JMZWZ0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItbGVmdC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IExpdHRsZUhhbmRsZSBmcm9tICcuL2xpdHRsZS1oYW5kbGUnO1xuaW1wb3J0IEhhbW1lciBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHJvdW5kVG8gZnJvbSAnLi4vaGVscGVycy9yb3VuZC10byc7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vaGVscGVycy9jbGFtcCc7XG5pbXBvcnQgbW9kIGZyb20gJy4uL2hlbHBlcnMvcmVzaXplLW1vZCc7XG5pbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50Jyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbmNsYXNzIFBvaW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7cG9pbnQsIHN0YXRlfSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2VsZWN0ZWQgID0gKHBvaW50LmlzU2VsZWN0ZWQpID8gQ0xBU1NFU1snaXMtc2VsZWN0ZWQnXSA6ICcnLFxuICAgICAgICAgIGhhbmRsZXMgICA9IChwb2ludC50eXBlID09PSAnc3RyYWlnaHQnKSA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cbiAgICBjb25zdCBsaXR0bGVIYW5kbGVzID0gdGhpcy5fZ2V0TGl0dGxlSGFuZGxlcyggc3RhdGUgKTtcblxuICAgIHJldHVybiAgPGRpdiAgY2xhc3NOYW1lPXtgJHtDTEFTU0VTWydwb2ludCddfSAke3NlbGVjdGVkfSAke2hhbmRsZXN9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXsgdGhpcy5fZ2V0U3R5bGUoc3RhdGUpIH0+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ3BvaW50X190b3VjaCddIH0gaWQ9XCJqcy1wb2ludC10b3VjaFwiIC8+XG5cbiAgICAgICAgICAgICAgeyBsaXR0bGVIYW5kbGVzIH1cblxuICAgICAgICAgICAgPC9kaXY+XG4gIH1cblxuICBfZ2V0U3R5bGUgKHN0YXRlKSB7XG4gICAgY29uc3Qge3BvaW50fSAgID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7cmVzaXplfSAgPSBzdGF0ZSxcbiAgICAgICAgICB4ICAgICAgICAgPSBjbGFtcChwb2ludC54ICsgcG9pbnQudGVtcFgsIDAsIDEwMCksXG4gICAgICAgICAgY2xlYW5YICAgID0geCAqIHJlc2l6ZS5zY2FsZXJYLFxuICAgICAgICAgIHkgPSBwb2ludC55ICsgcG9pbnQudGVtcFk7XG5cbiAgICBjb25zdCB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtjbGVhblh9cHgsICR7eS0xfXB4KWA7XG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG4gIF9nZXRMaXR0bGVIYW5kbGVzIChzdGF0ZSkge1xuICAgIGNvbnN0IHtpbmRleCwgcG9pbnQsIHBvaW50c0NvdW50fSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGFuZGxlcyA9IFtdO1xuICAgIC8vIGRvbnQgc2V0IHRoZSBoYW5kbGUxIGZvciBzdGFydCBwb2ludFxuICAgIChpbmRleCAhPT0gMCkgJiYgaGFuZGxlcy5wdXNoKCB0aGlzLl9jcmVhdGVIYW5kbGUoIDEsIHBvaW50ICkgKTtcbiAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMiBmb3IgZW5kIHBvaW50XG4gICAgKGluZGV4ICE9PSBwb2ludHNDb3VudC0xKSAmJiBoYW5kbGVzLnB1c2goIHRoaXMuX2NyZWF0ZUhhbmRsZSggMiwgcG9pbnQgKSApO1xuICAgIHJldHVybiBoYW5kbGVzO1xuICB9XG5cbiAgX2NyZWF0ZUhhbmRsZSAoaW5kZXgsIHBvaW50KSAge1xuICAgIHJldHVybiA8TGl0dGxlSGFuZGxlXG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgc3RhdGU9e3RoaXMucHJvcHMuc3RhdGV9XG4gICAgICAgIHBhcmVudEluZGV4PXt0aGlzLnByb3BzLmluZGV4fVxuICAgICAgICBoYW5kbGU9e3BvaW50W2BoYW5kbGUke2luZGV4fWBdfVxuICAgICAgICB0eXBlPXtwb2ludC50eXBlfVxuICAgICAgICAvPlxuICB9XG4gIFxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGdldFRlbXBYID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcbiAgICAgIC8vIGlmIHBvaW50IGlzIG5vdCBsb2NrZWQgdG8geCBheGVzIC0+XG4gICAgICAvLyBjYWxjdWxhdGUgZGVsdGEgcmVnYXJkaW5nIHNjYWxlclxuICAgICAgaWYgKCBwb2ludC5pc0xvY2tlZFggKSB7IHJldHVybiAwIH07XG4gICAgICAgIFxuICAgICAgY29uc3QgeCA9IGUuZGVsdGFYL3Jlc2l6ZS5zY2FsZXJYO1xuICAgICAgaWYgKCBwb2ludC54ICsgeCA8IDAgKSB7IHJldHVybiAwIC0gcG9pbnQueDsgfVxuICAgICAgZWxzZSBpZiAoIHBvaW50LnggKyB4ID4gMTAwICkgeyByZXR1cm4gMTAwIC0gcG9pbnQueDsgfVxuICAgICAgcmV0dXJuIHJvdW5kVG8oIHBvaW50LnggKyB4LCA1LCAxLjUgKSAtIHBvaW50Lng7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0WSA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB5ID0gcG9pbnQueSArIGUuZGVsdGFZO1xuXG4gICAgICAvLyBjbGFtcCB5IHRvIHRoZSBzaXplIG9mIGN1cnZlXG4gICAgICByZXR1cm4gY2xhbXAoIHksIHJlc2l6ZS50b3AsIEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20gKTsgXG4gICAgfVxuXG4gICAgLy8gZ2V0IHkgZGVsdGEgcmVhZ2FyZGluZyBjdXJ2ZSBib3VuZHNcbiAgICBjb25zdCBnZXRUZW1wWSA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7cmVzaXplfSA9IHRoaXMucHJvcHMuc3RhdGUsXG4gICAgICAgICAgICB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHM7XG5cbiAgICAgIGxldCB5ID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgIHJldHVyblZhbHVlID0geTtcblxuICAgICAgaWYgKCB5IDwgcmVzaXplLnRvcCApIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSByZXNpemUudG9wO1xuICAgICAgfSBlbHNlIGlmICggeSA+IEMuQ1VSVkVfU0laRSArIHJlc2l6ZS5ib3R0b20gKSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJvdW5kVG8oIHJldHVyblZhbHVlLCA1KkMuQ1VSVkVfUEVSQ0VOVCwgMipDLkNVUlZFX1BFUkNFTlQgKSAtIHBvaW50Lnk7XG4gICAgfVxuXG4gICAgY29uc3QgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXBvaW50LXRvdWNoJyksXG4gICAgICAgICAgbWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWwpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuVGFwKTtcblxuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFJyxcbiAgICAgICAgICBkYXRhOiB7IHg6IGdldFRlbXBYKGUpLCB5OiBnZXRUZW1wWShlKSwgaW5kZXggfVxuICAgICAgICB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEVfRU5EJywgZGF0YTogaW5kZXgsIGlzUmVjb3JkOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCd0YXAnLCAoZSkgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXgsIHR5cGU6IHBvaW50LnR5cGUsIGlzRGVzZWxlY3Q6ICFlLnNyY0V2ZW50LnNoaWZ0S2V5XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4XG4gKiovIiwiXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIGJhc2UsIHNuYXApID0+IHtcbiAgY29uc3QgbW9kaWZpZWQgPSBNYXRoLnJvdW5kKHZhbHVlL2Jhc2UpKmJhc2U7XG5cbiAgcmV0dXJuICggTWF0aC5hYnModmFsdWUgLSBtb2RpZmllZCkgPCBzbmFwICkgPyBtb2RpZmllZCA6IHZhbHVlO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcm91bmQtdG8uYmFiZWwuanNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJwb2ludFwiOiBcIl9wb2ludF8xN3BiMV81XCIsXG5cdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xN3BiMV8xXCIsXG5cdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTdwYjFfMzFcIixcblx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIG1pbiwgbWF4KSA9PiB7XG4gIHJldHVybiAodmFsdWUgPCBtaW4pXG4gICAgPyBtaW5cbiAgICA6ICh2YWx1ZSA+IG1heCkgPyBtYXggOiB2YWx1ZTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NsYW1wLmJhYmVsLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludF8xN3BiMV81e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tdG9wOi01cHg7Y3Vyc29yOm1vdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3otaW5kZXg6Mztib3gtc2hhZG93OjNweCAzcHggMCByZ2JhKDAsMCwwLC41KTtib3JkZXI6MnB4IHNvbGlkICNmZmZ9Ll9wb2ludF8xN3BiMV81IFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9Ll9wb2ludF9fdG91Y2hfMTdwYjFfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLWxlZnQ6LTEwcHg7bWFyZ2luLXRvcDotMTBweH0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxLC5fcG9pbnRfMTdwYjFfNTpob3Zlcntib3JkZXItY29sb3I6I2ZmNTEyZn0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5OmJsb2NrfS5fcG9pbnRfMTdwYjFfNS5faXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBwb2ludFRvQW5nbGUgZnJvbSAnLi4vaGVscGVycy9wb2ludC10by1hbmdsZSc7XG5cbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgTGl0dGxlSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17Q0xBU1NFU1snbGl0dGxlLWhhbmRsZSddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJsaXR0bGUtaGFuZGxlXCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRQb2ludFN0eWxlKCl9IC8+XG5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPXsgQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fbGluZSddIH1cbiAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5fZ2V0TGluZVN0eWxlKCl9IC8+XG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgbWMgICAgICAgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICB2YXIge2hhbmRsZX0gPSB0aGlzLnByb3BzO1xuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuc3RhcnQnLCAoZSkgPT4geyBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTsgfSlcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge2luZGV4LCBwYXJlbnRJbmRleH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICAgICAgbmV3WCAgPSBwb2ludC54ICsgZS5kZWx0YVgsXG4gICAgICAgICAgICAgIG5ld1kgID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgICAgICBhbmdsZSA9IHBvaW50VG9BbmdsZSggbmV3WCwgbmV3WSApO1xuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgcGFyZW50SW5kZXgsIC4uLmFuZ2xlIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCB0aGlzLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBhbmdsZS5yYWRpdXMsXG4gICAgICAgICAgICAgIGFuZ2xlOiAgYW5nbGUuYW5nbGUgLSAxODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5wcm9wcy50eXBlID09PSAnYXN5bW1ldHJpYycgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuICAgICAgICAgICAgICBhbmdsZTogIGFuZ2xlLmFuZ2xlIC0gMTgwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pO1xuICB9XG5cbiAgX2dldFBvaW50U3R5bGUgKCkge1xuICAgIGNvbnN0IHtoYW5kbGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcG9pbnQgICAgID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtwb2ludC54fXB4LCAke3BvaW50Lnl9cHgpIHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuICBfZ2V0TGluZVN0eWxlICgpIHtcbiAgICBjb25zdCB7aGFuZGxlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpIHNjYWxlWSgke2hhbmRsZS5yYWRpdXN9KWA7XG5cbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXR0bGVIYW5kbGU7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2xpdHRsZS1oYW5kbGUuYmFiZWwuanN4XG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgKGFuZ2xlLCByYWRpdXMpID0+IHtcbiAgcmV0dXJuIG1vanMuaC5nZXRSYWRpYWxQb2ludCh7IGFuZ2xlLCByYWRpdXMsIGNlbnRlcjogeyB4OiAwLCB5OiAwIH0gfSlcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50LmJhYmVsLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgKHgsIHkpID0+IHtcbiAgbGV0ICAgcmFkaXVzICA9IE1hdGguc3FydCggeCp4ICsgeSp5ICksXG4gICAgICAgIGFuZ2xlICAgPSBNYXRoLmF0YW4oIHkveCApICogKDE4MC9NYXRoLlBJKSAtIDkwO1xuICBpZiAoIHggPiAwICkgeyBhbmdsZSA9IGFuZ2xlIC0gMTgwIH07XG5cbiAgcmV0dXJuIHsgcmFkaXVzLCBhbmdsZSB9O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcG9pbnQtdG8tYW5nbGUuYmFiZWwuanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fbGl0dGxlLWhhbmRsZV9pdzJydV8ze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MDtoZWlnaHQ6MH0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO3dpZHRoOjZweDtoZWlnaHQ6NnB4O2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTNweDttYXJnaW4tdG9wOi0zcHg7YmFja2dyb3VuZDojZmY1MTJmO2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjUpfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMTphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwMCU7aGVpZ2h0OjIwMCU7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotMTAwJTttYXJnaW4tdG9wOi0xMDAlfS5fbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O21hcmdpbi1sZWZ0Oi0xcHg7bWFyZ2luLXRvcDotMXB4O2xlZnQ6NTAlO3RvcDo1MCU7YmFja2dyb3VuZDojZmY1MTJmOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImxpdHRsZS1oYW5kbGVcIjogXCJfbGl0dGxlLWhhbmRsZV9pdzJydV8zXCIsXG5cdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMVwiLFxuXHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==