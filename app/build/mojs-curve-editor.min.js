!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("mojs-curve-editor",[],e):"object"==typeof exports?exports["mojs-curve-editor"]=e():t["mojs-curve-editor"]=e()}(this,function(){return function(t){function e(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+t+".hot-update.js",e.appendChild(n)}function n(t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var e=new XMLHttpRequest,n=p.p+""+b+".hot-update.json";e.open("GET",n,!0),e.timeout=1e4,e.send(null)}catch(r){return t(r)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)t(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(e.responseText)}catch(o){return void t(o)}t(null,r)}}}function r(t){function e(t,e){"ready"===M&&i("prepare"),C++,p.e(t,function(){function n(){C--,"prepare"===M&&(j[t]||c(t),0===C&&0===T&&l())}try{e.call(null,r)}finally{n()}})}var n=O[t];if(!n)return p;var r=function(e){return n.hot.active?O[e]?(O[e].parents.indexOf(t)<0&&O[e].parents.push(t),n.children.indexOf(e)<0&&n.children.push(e)):w=[t]:(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),w=[]),p(e)};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&(h?Object.defineProperty(r,o,function(t){return{configurable:!0,enumerable:!0,get:function(){return p[t]},set:function(e){p[t]=e}}}(o)):r[o]=p[o]);return h?Object.defineProperty(r,"e",{enumerable:!0,value:e}):r.e=e,r}function o(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(t,n){if("undefined"==typeof t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n;else e._acceptedDependencies[t]=n},decline:function(t){if("undefined"==typeof t)e._selfDeclined=!0;else if("number"==typeof t)e._declinedDependencies[t]=!0;else for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(t){return t?void I.push(t):M},addStatusHandler:function(t){I.push(t)},removeStatusHandler:function(t){var e=I.indexOf(t);e>=0&&I.splice(e,1)},data:x[t]};return e}function i(t){M=t;for(var e=0;e<I.length;e++)I[e].call(null,t)}function a(t){var e=+t+""===t;return e?+t:t}function s(t,e){if("idle"!==M)throw new Error("check() is only allowed in idle status");"function"==typeof t?(m=!1,e=t):(m=t,e=e||function(t){if(t)throw t}),i("check"),n(function(t,n){if(t)return e(t);if(!n)return i("idle"),void e(null,null);A={},E={},j={};for(var r=0;r<n.c.length;r++)E[n.c[r]]=!0;_=n.h,i("prepare"),g=e,y={};var o=0;c(o),"prepare"===M&&0===C&&0===T&&l()})}function u(t,e){if(E[t]&&A[t]){A[t]=!1;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y[n]=e[n]);0===--T&&0===C&&l()}}function c(t){E[t]?(A[t]=!0,T++,e(t)):j[t]=!0}function l(){i("ready");var t=g;if(g=null,t)if(m)f(m,t);else{var e=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&e.push(a(n));t(null,e)}}function f(e,n){function r(t){for(var e=[t],n={},r=e.slice();r.length>0;){var i=r.pop(),t=O[i];if(t&&!t.hot._selfAccepted){if(t.hot._selfDeclined)return new Error("Aborted because of self decline: "+i);if(0===i)return;for(var a=0;a<t.parents.length;a++){var s=t.parents[a],u=O[s];if(u.hot._declinedDependencies[i])return new Error("Aborted because of declined dependency: "+i+" in "+s);e.indexOf(s)>=0||(u.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),o(n[s],[i])):(delete n[s],e.push(s),r.push(s)))}}}return[e,n]}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}}if("ready"!==M)throw new Error("apply() is only allowed in ready status");"function"==typeof e?(n=e,e={}):e&&"object"==typeof e?n=n||function(t){if(t)throw t}:(e={},n=n||function(t){if(t)throw t});var s={},u=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var f=a(l),d=r(f);if(!d){if(e.ignoreUnaccepted)continue;return i("abort"),n(new Error("Aborted because "+f+" is not accepted"))}if(d instanceof Error)return i("abort"),n(d);c[f]=y[f],o(u,d[0]);for(var f in d[1])Object.prototype.hasOwnProperty.call(d[1],f)&&(s[f]||(s[f]=[]),o(s[f],d[1][f]))}for(var h=[],v=0;v<u.length;v++){var f=u[v];O[f]&&O[f].hot._selfAccepted&&h.push({module:f,errorHandler:O[f].hot._selfAccepted})}i("dispose");for(var g=u.slice();g.length>0;){var f=g.pop(),m=O[f];if(m){for(var I={},T=m.hot._disposeHandlers,C=0;C<T.length;C++){var j=T[C];j(I)}x[f]=I,m.hot.active=!1,delete O[f];for(var C=0;C<m.children.length;C++){var A=O[m.children[C]];if(A){var E=A.parents.indexOf(f);E>=0&&A.parents.splice(E,1)}}}}for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f))for(var m=O[f],P=s[f],C=0;C<P.length;C++){var S=P[C],E=m.children.indexOf(S);E>=0&&m.children.splice(E,1)}i("apply"),b=_;for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(t[f]=c[f]);var D=null;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){for(var m=O[f],P=s[f],N=[],v=0;v<P.length;v++){var S=P[v],j=m.hot._acceptedDependencies[S];N.indexOf(j)>=0||N.push(j)}for(var v=0;v<N.length;v++){var j=N[v];try{j(s)}catch(k){D||(D=k)}}}for(var v=0;v<h.length;v++){var L=h[v],f=L.module;w=[f];try{p(f)}catch(k){if("function"==typeof L.errorHandler)try{L.errorHandler(k)}catch(k){D||(D=k)}else D||(D=k)}}return D?(i("fail"),n(D)):(i("idle"),void n(null,u))}function p(e){if(O[e])return O[e].exports;var n=O[e]={exports:{},id:e,loaded:!1,hot:o(e),parents:w,children:[]};return t[e].call(n.exports,n,n.exports,r(e)),n.loaded=!0,n.exports}var d=this.webpackHotUpdatemojs_curve_editor;this.webpackHotUpdatemojs_curve_editor=function(t,e){u(t,e),d&&d(t,e)};var h=!1;try{Object.defineProperty({},"x",{get:function(){}}),h=!0}catch(v){}var g,y,_,m=!0,b="980aff0a81b940f9b10a",x={},w=[],I=[],M="idle",T=0,C=0,j={},A={},E={},O={};return p.m=t,p.c=O,p.p="build/",p.h=function(){return b},r(0)(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(2),i=n(3),a=n(20),s=r(a),u=n(167),c=r(u),l=n(107),f=r(l);n(187),document.addEventListener("DOMContentLoaded",function(){(0,i.render)((0,i.h)(o.Provider,{store:c["default"]},(0,i.h)(s["default"],null)),document.body)}),c["default"].dispatch({type:"POINT_ADD",data:{point:{x:0,y:f["default"].CURVE_SIZE,isLockedX:!0},index:0}}),c["default"].dispatch({type:"POINT_ADD",data:{point:{x:100,y:0,isLockedX:!0},index:1}})},function(t,e,n){!function(t,r){r(e,n(3),n(6))}(this,function(t,e,n){"use strict";function r(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){}function i(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}function a(){g||(g=!0,i("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function s(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}function u(t){return function(e){return n.bindActionCreators(t,e)}}function c(t){return t.displayName||t.name||"Component"}function l(t,e){try{return t.apply(e)}catch(n){return D.value=n,D}}function f(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=Boolean(t),f=t||O,d=void 0;d="function"==typeof n?n:n?u(n):P;var h=r||S,g=o.pure,y=void 0===g||g,_=o.withRef,m=void 0!==_&&_,b=y&&h!==S,x=N++;return function(t){function n(t,e){T(t)||i(e+"() in "+o+" must return a plain object. "+("Instead received "+t+"."))}function r(t,e,r){var o=h(t,e,r);return n(o,"mergeProps"),o}var o="Connect("+c(t)+")",u=function(i){function u(t,e){p.classCallCheck(this,u);var n=p.possibleConstructorReturn(this,i.call(this,t,e));n.version=x,n.store=t.store||e.store,E(n.store,'Could not find "store" in either the context or '+('props of "'+o+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+o+'".'));var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return p.inherits(u,i),u.prototype.shouldComponentUpdate=function(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var r=t.getState(),o=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,e):this.finalMapStateToProps(r);return n(o,"mapStateToProps"),o},u.prototype.configureFinalMapState=function(t,e){var r=f(t.getState(),e),o="function"==typeof r;return this.finalMapStateToProps=o?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,o?this.computeStateProps(t,e):(n(r,"mapStateToProps"),r)},u.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var r=t.dispatch,o=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,e):this.finalMapDispatchToProps(r);return n(o,"mapDispatchToProps"),o},u.prototype.configureFinalMapDispatch=function(t,e){var r=d(t.dispatch,e),o="function"==typeof r;return this.finalMapDispatchToProps=o?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,o?this.computeDispatchProps(t,e):(n(r,"mapDispatchToProps"),r)},u.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!s(t,this.stateProps))&&(this.stateProps=t,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!s(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&b&&s(t,this.mergedProps))&&(this.mergedProps=t,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){a&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(t){y&&s(t,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!y||e!==t){if(y&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===D&&(this.statePropsPrecalculationError=D.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},u.prototype.getWrappedInstance=function(){return E(m,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var n=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,o=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var s=!0,u=!0;y&&a&&(s=r||n&&this.doStatePropsDependOnOwnProps,u=n&&this.doDispatchPropsDependOnOwnProps);var c=!1,l=!1;o?c=!0:s&&(c=this.updateStatePropsIfNeeded()),u&&(l=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(c||l||n)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(m?this.renderedElement=e.h(t,p["extends"]({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=e.h(t,this.mergedProps),this.renderedElement)},u}(e.Component);return u.displayName=o,u.WrappedComponent=t,u.contextTypes={store:v},u.prototype.componentWillUpdate=function(){this.version!==x&&(this.version=x,this.trySubscribe(),this.clearCache())},j(u,t)}}var p={};p.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p["extends"]=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},p.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var d={only:function(t){return t&&t[0]||null}};o.isRequired=o;var h={element:o,func:o,shape:function(){return o}},v=h.shape({subscribe:h.func.isRequired,dispatch:h.func.isRequired,getState:h.func.isRequired}),g=!1,y=function(t){function e(n,r){p.classCallCheck(this,e);var o=p.possibleConstructorReturn(this,t.call(this,n,r));return o.store=n.store,o}return p.inherits(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return d.only(t)},e}(e.Component);y.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&a()},y.childContextTypes={store:v.isRequired};var _=r(function(t){function e(t){return!!t&&"object"==typeof t}t.exports=e}),m=_&&"object"==typeof _&&"default"in _?_["default"]:_,b=r(function(t){function e(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=e}),x=b&&"object"==typeof b&&"default"in b?b["default"]:b,w=r(function(t){function e(t){return n(Object(t))}var n=Object.getPrototypeOf;t.exports=e}),I=w&&"object"==typeof w&&"default"in w?w["default"]:w,M=r(function(t){function e(t){if(!o(t)||l.call(t)!=i||r(t))return!1;var e=n(t);if(null===e)return!0;var a=u.call(e,"constructor")&&e.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==c}var n=I,r=x,o=m,i="[object Object]",a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString;t.exports=e}),T=M&&"object"==typeof M&&"default"in M?M["default"]:M,C=r(function(t){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};t.exports=function(t,r){if("string"!=typeof r)for(var o=Object.getOwnPropertyNames(r),i=0;i<o.length;++i)if(!e[o[i]]&&!n[o[i]])try{t[o[i]]=r[o[i]]}catch(a){}return t}}),j=C&&"object"==typeof C&&"default"in C?C["default"]:C,A=r(function(t){var e="development",n=function(t,n,r,o,i,a,s,u){if("production"!==e&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,a,s,u],f=0;c=new Error(n.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}),E=A&&"object"==typeof A&&"default"in A?A["default"]:A,O=function(t){return{}},P=function(t){return{dispatch:t}},S=function(t,e,n){return p["extends"]({},n,t,e)},D={value:null},N=0;t.Provider=y,t.connect=f})},function(t,e,n){(function(t){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,e){if(e)for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function r(t){return n({},t)}function o(t,e){for(var n=e.split("."),r=0;r<n.length&&t;r++)t=t[n[r]];return t}function i(t,e){return[].slice.call(t,e)}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}function u(t){return void 0===t||null===t}function c(t){return t===!1||u(t)}function l(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function f(t,n,r){var o,i,u,p=arguments.length;if(p>2){var d=typeof r;if(3===p&&"object"!==d&&"function"!==d)c(r)||(o=[String(r)]);else{o=[];for(var h=2;h<p;h++){var v=arguments[h];if(!c(v)){v.join?i=v:(i=K)[0]=v;for(var g=0;g<i.length;g++){var y=i[g],_=!(c(y)||a(y)||y instanceof e);_&&!s(y)&&(y=String(y)),_&&u?o[o.length-1]+=y:c(y)||(o.push(y),u=_)}}}}}else if(n&&n.children)return f(t,n,n.children);n&&(n.children&&delete n.children,a(t)||("className"in n&&(n["class"]=n.className,delete n.className),u=n["class"],u&&!s(u)&&(n["class"]=l(u))));var m=new e(t,n||void 0,o);return q.vnode&&q.vnode(m),m}function p(t,e){return f(t.nodeName,n(r(t.attributes),e),arguments.length>2?i(arguments,2):t.children)}function d(t,e,n){var r=e.split("."),i=r[0];return function(e){var c,l,f,p=e&&e.currentTarget||this,d=t.state,h=d;if(s(n)?(l=o(e,n),u(l)&&(p=p._component)&&(l=o(p,n))):l=p.nodeName?(p.nodeName+p.type).match(/^input(check|rad)/i)?p.checked:p.value:e,a(l)&&(l=l.call(p)),r.length>1){for(f=0;f<r.length-1;f++)h=h[r[f]]||(h[r[f]]={});h[r[f]]=l,l=d[i]}t.setState((c={},c[i]=l,c))}}function h(t){1===nt.push(t)&&(q.debounceRendering||J)(v)}function v(){if(nt.length){var t,e=nt;for(nt=rt,rt=e;t=e.pop();)t._dirty&&G(t)}}function g(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function y(t,e){return t.nodeName(j(t),e||$)}function _(t,e){return t[tt]||(t[tt]=e||{})}function m(t){return t instanceof Text?3:t instanceof Element?1:0}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function x(t,e,n,r,o){if(_(t)[e]=n,"key"!==e&&"children"!==e)if("class"!==e||o)if("style"===e){if((!n||s(n)||s(r))&&(t.style.cssText=n||""),n&&"object"==typeof n){if(!s(r))for(var i in r)i in n||(t.style[i]="");for(var i in n)t.style[i]="number"!=typeof n[i]||et[i]?n[i]:n[i]+"px"}}else if("dangerouslySetInnerHTML"===e)n&&(t.innerHTML=n.__html);else if("o"===e[0]&&"n"===e[1]){var l=t._listeners||(t._listeners={});e=V(e.substring(2)),n?l[e]||t.addEventListener(e,I):l[e]&&t.removeEventListener(e,I),l[e]=n}else if("type"!==e&&!o&&e in t)w(t,e,u(n)?"":n),c(n)&&t.removeAttribute(e);else{var f=o&&e.match(/^xlink\:?(.+)/);c(n)?f?t.removeAttributeNS("http://www.w3.org/1999/xlink",V(f[1])):t.removeAttribute(e):"object"==typeof n||a(n)||(f?t.setAttributeNS("http://www.w3.org/1999/xlink",V(f[1]),n):t.setAttribute(e,n))}else t.className=n||""}function w(t,e,n){try{t[e]=n}catch(r){}}function I(t){return this._listeners[t.type](q.event&&q.event(t)||t)}function M(t){for(var e={},n=t.attributes.length;n--;)e[t.attributes[n].name]=t.attributes[n].value;return e}function T(t,e){return s(e)?3===m(t):s(e.nodeName)?C(t,e.nodeName):a(e.nodeName)?t._componentConstructor===e.nodeName||g(e):void 0}function C(t,e){return t.normalizedNodeName===e||V(t.nodeName)===V(e)}function j(t){var e=t.nodeName.defaultProps,o=r(e||t.attributes);return e&&n(o,t.attributes),t.children&&(o.children=t.children),o}function A(t){O(t);var e=V(t.nodeName),n=ot[e];n?n.push(t):ot[e]=[t]}function E(t,e){var n=V(t),r=ot[n]&&ot[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return _(r),r.normalizedNodeName=n,r}function O(t){b(t),1===m(t)&&(_(t,M(t)),t._component=t._componentConstructor=null)}function P(){for(var t;t=it.pop();)t.componentDidMount&&t.componentDidMount()}function S(t,e,n,r,o){at++;var i=D(t,e,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--at||P(),i}function D(t,e,n,r){for(var o=e&&e.attributes;g(e);)e=y(e,n);if(u(e))return document.createComment("");if(s(e)){if(t){if(3===m(t)&&t.parentNode)return t.nodeValue!=e&&(t.nodeValue=e),t;A(t)}return document.createTextNode(e)}var i,c=t,l=e.nodeName;if(a(l))return Y(t,e,n,r);if(s(l)||(l=String(l)),i="svg"===V(l),i&&(st=!0),t){if(!C(t,l)){for(c=E(l,st);t.firstChild;)c.appendChild(t.firstChild);L(t)}}else c=E(l,st);return e.children&&1===e.children.length&&"string"==typeof e.children[0]&&1===c.childNodes.length&&c.firstChild instanceof Text?c.firstChild.nodeValue=e.children[0]:(e.children||c.firstChild)&&N(c,e.children,n,r),R(c,e.attributes),o&&o.ref&&(c[tt].ref=o.ref)(c),i&&(st=!1),c}function N(t,e,n,r){var o,i,a,s,c=t.childNodes,l=[],f={},p=0,d=0,h=c.length,v=0,g=e&&e.length;if(h)for(var y=0;y<h;y++){var _=c[y],m=g?(i=_._component)?i.__key:(i=_[tt])?i.key:null:null;m||0===m?(p++,f[m]=_):l[v++]=_}if(g)for(var y=0;y<g;y++){if(a=e[y],s=null,p&&a.attributes){var m=a.key;!u(m)&&m in f&&(s=f[m],f[m]=void 0,p--)}if(!s&&d<v)for(o=d;o<v;o++)if(i=l[o],i&&T(i,a)){s=i,l[o]=void 0,o===v-1&&v--,o===d&&d++;break}s=D(s,a,n,r),s!==c[y]&&t.insertBefore(s,c[y]||null)}if(p)for(var y in f)f[y]&&(l[d=v++]=f[y]);d<v&&k(l)}function k(t,e){for(var n=t.length;n--;){var r=t[n];r&&L(r,e)}}function L(t,e){var n=t._component;n?X(n,!e):(t[tt]&&t[tt].ref&&t[tt].ref(null),e||A(t),t.childNodes&&t.childNodes.length&&k(t.childNodes,e))}function R(t,e){var n=t[tt]||M(t);for(var r in n)e&&r in e||x(t,r,null,n[r],st);if(e)for(var o in e)o in n&&e[o]==("value"===o||"selected"===o||"checked"===o?t[o]:n[o])||x(t,o,e[o],n[o],st)}function z(t){var e=t.constructor.name,n=ut[e];n?n.push(t):ut[e]=[t]}function U(t,e,n){var r=new t(e,n),o=ut[t.name];if(o)for(var i=o.length;i--;)if(o[i].constructor===t){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function B(t){t._dirty||(t._dirty=!0,h(t))}function F(t,e,n,r,o){var i=t.base;t._disableRendering||(t._disableRendering=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,u(i)||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disableRendering=!1,0!==n&&(1!==n&&q.syncComponentUpdates===!1&&i?B(t):G(t,1,o)),t.__ref&&t.__ref(t))}function G(t,e,o){if(!t._disableRendering){var i,s,u=t.props,c=t.state,l=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,h=t.base,v=h||t.nextBase,_=v&&v.nextSibling,m=v&&v.parentNode,b=v&&v._component,x=t._component;if(h&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(u,c,l)===!1?i=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!i){for(t.render&&(s=t.render(u,c,l)),t.getChildContext&&(l=n(r(l),t.getChildContext()));g(s);)s=y(s,l);var w,I,M=s&&s.nodeName;if(a(M)&&M.prototype.render){var T=x,C=j(s);T&&T.constructor===M?F(T,C,1,l):(w=T,T=U(M,C,l),T._parentComponent=t,t._component=T,F(T,C,0,l),G(T,1)),I=T.base}else{var A=v;w=x,w&&(A=t._component=null),(v||1===e)&&(A&&(A._component=null),I=S(A,s,l,o||!h))}if(v&&I!==v&&(m&&I!==m&&m.insertBefore(I,_||null),w||b!==t||x||!v.parentNode||(v._component=null,L(v))),w&&X(w,!0),t.base=I,I){for(var E=t,O=t;O=O._parentComponent;)E=O;I._component=E,I._componentConstructor=E.constructor}}!h||o?(it.unshift(t),at||P()):!i&&t.componentDidUpdate&&t.componentDidUpdate(f,p,d);var D,N=t._renderCallbacks;if(N)for(;D=N.pop();)D.call(t);return s}}function Y(t,e,n,r){for(var o=t&&t._component,i=t,a=o&&t._componentConstructor===e.nodeName,s=a,u=j(e);o&&!s&&(o=o._parentComponent);)s=o.constructor===e.nodeName;return!s||r&&!o._component?(o&&!a&&(X(o,!0),t=i=null),o=U(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t),F(o,u,1,n,r),t=o.base,i&&t!==i&&(i._component=null,L(i))):(F(o,u,3,n,r),t=o.base),t}function X(t,e){var n=t.base;t._disableRendering=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?X(r,e):n&&(n[tt]&&n[tt].ref&&n[tt].ref(null),t.nextBase=n,e&&(b(n),z(t)),k(n.childNodes,!e)),t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function H(t,e){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=e||{},this.props=t,this.state=this.getInitialState&&this.getInitialState()||{}}function Z(t,e,n){return S(n,t,{},!1,e)}var W={},V=function(t){return W[t]||(W[t]=t.toLowerCase())},Q="undefined"!=typeof Promise&&Promise.resolve(),J=Q?function(t){Q.then(t)}:setTimeout,q={vnode:u},K=[],$={},tt="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",et={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},nt=[],rt=[],ot={},it=[],at=0,st=!1,ut={};n(H.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={}),r=t+"|"+e;return n[r]||(n[r]=d(this,t,e))},setState:function(t,e){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,a(t)?t(o,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),B(this)},forceUpdate:function(){G(this,2)},render:function(){return null}}),t.h=f,t.cloneElement=p,t.Component=H,t.render=Z,t.rerender=v,t.options=q})}).call(e,n(4).setImmediate)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(5).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(4).setImmediate,n(4).clearImmediate)},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(7),a=r(i),s=n(15),u=r(s),c=n(17),l=r(c),f=n(18),p=r(f),d=n(19),h=r(d),v=n(16),g=r(v);"production"!==t.env.NODE_ENV&&"string"==typeof o.name&&"isCrushed"!==o.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a["default"],e.combineReducers=u["default"],e.bindActionCreators=l["default"],e.applyMiddleware=p["default"],e.compose=h["default"]}).call(e,n(5))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){y===g&&(y=g.slice())}function i(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function l(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,v=h(v,t)}finally{_=!1}for(var e=g=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:c.INIT})}function p(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,v=e,g=[],y=g,_=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var i=n(8),a=r(i),s=n(13),u=r(s),c=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||p.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(9),i=n(11),a=n(12),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;t.exports=r},function(t,e,n){var r=n(10),o=Object.getPrototypeOf,i=r(o,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(14)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";
return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t,e,n){var r=Object.keys(e),o=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,l["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var i=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var n=Object.keys(e),r={},s=0;s<n.length;s++){var u=n[s];"function"==typeof e[u]&&(r[u]=e[u])}var c,l=Object.keys(r);try{a(r)}catch(f){c=f}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];if(c)throw c;if("production"!==t.env.NODE_ENV){var a=i(e,r,n);a&&(0,p["default"])(a)}for(var s=!1,u={},f=0;f<l.length;f++){var d=l[f],h=r[d],v=e[d],g=h(v,n);if("undefined"==typeof g){var y=o(d,n);throw new Error(y)}u[d]=g,s=s||g!==v}return s?u:e}}e.__esModule=!0,e["default"]=s;var u=n(7),c=n(8),l=r(c),f=n(16),p=r(f)}).call(e,n(5))},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),o={},i=0;i<r.length;i++){var a=r[i],s=t[a];"function"==typeof s&&(o[a]=n(s,e))}return o}e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(19),s=r(a)},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(107),g=r(v),y=n(108),_=r(y),m=n(109),b=r(m),x=n(110),w=n(111),I=r(w),M=n(112),T=r(M),C=n(146),j=r(C),A=n(160),E=r(A),O=n(161),P=r(O);n(165);var S=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=n(145),e=this.context.store,r=e.getState(),o=this._getStyle(r);return(0,h.h)("div",{className:t["curve-editor"],style:o},(0,h.h)(E["default"],null),(0,h.h)(P["default"],{state:r}),(0,h.h)(j["default"],{state:r}),(0,h.h)(T["default"],{state:r}))}},{key:"_getStyle",value:function(t){var e=g["default"].CURVE_SIZE+53,n=g["default"].CURVE_SIZE+2*g["default"].CURVE_PADDING,r=t.resize,o=r.temp_top,i=r.temp_bottom,a=r.temp_right;r.translate;o+=r.top,i+=r.bottom,a+=r.right,n-o<n&&(o=0),n+i<n&&(i=0),e+a<e&&(a=0),o=(0,I["default"])(o,-1),i=(0,I["default"])(i);var s="height: "+(n-o+i)+"px",u="width: "+(e+a)+"px",c=r.x+r.tempX,l=r.y+r.tempY,f="transform: translate("+c+"px, "+(l+o)+"px)";return""+mojs.h.prefix.css+f+"; "+f+"; "+u+"; "+s+";"}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-left-panel"),n=(0,b["default"])(new _["default"].Manager(e));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE",data:{x:n,y:r}})}).on("panend",function(e){var n=e.deltaX,r=e.deltaY;t.dispatch({type:"EDITOR_TRANSLATE_END",data:{x:n,y:r}})}),this._addKeyUp(),t.subscribe(this.forceUpdate.bind(this))}},{key:"_addKeyUp",value:function(){document.addEventListener("keyup",this._onKeyUp.bind(this))}},{key:"_onKeyUp",value:function(t){var e=this.context.store;if(t.altKey)switch(t.which){case 90:return e.dispatch(x.ActionCreators.undo());case 88:return e.dispatch(x.ActionCreators.redo());case 68:return e.dispatch({type:"POINT_DELETE"})}}}]),e}(h.Component);e["default"]=S},function(t,e,n){t.exports={"default":n(22),__esModule:!0}},function(t,e,n){n(23),t.exports=n(34).Object.getPrototypeOf},function(t,e,n){var r=n(24),o=n(26);n(32)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(25);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27),o=n(24),i=n(28)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(29)("keys"),o=n(31);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(30),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(33),o=n(34),i=n(43);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(30),o=n(34),i=n(35),a=n(37),s="prototype",u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,_=d?o:o[e]||(o[e]={}),m=_[s],b=d?r:h?r[e]:(r[e]||{})[s];d&&(n=e);for(c in n)l=!p&&b&&void 0!==b[c],l&&c in _||(f=l?b[c]:n[c],_[c]=d&&"function"!=typeof b[c]?n[c]:g&&l?i(f,r):y&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(36);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(38),o=n(46);t.exports=n(42)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(39),o=n(41),i=n(45),a=Object.defineProperty;e.f=n(42)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(40);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(42)&&!n(43)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(43)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(40),o=n(30).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(40);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(49),i=r(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(50),__esModule:!0}},function(t,e,n){n(51);var r=n(34).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(33);r(r.S+r.F*!n(42),"Object",{defineProperty:n(38).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(53),i=r(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,i["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(54),i=r(o),a=n(83),s=r(a),u="function"==typeof s["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":typeof t};e["default"]="function"==typeof s["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s["default"]&&t.constructor===s["default"]?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports={"default":n(55),__esModule:!0}},function(t,e,n){n(56),n(78),t.exports=n(82).f("iterator")},function(t,e,n){"use strict";var r=n(57)(!0);n(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(58),o=n(25);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(60),o=n(33),i=n(61),a=n(37),s=n(27),u=n(62),c=n(63),l=n(76),f=n(26),p=n(77)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",g="values",y=function(){return this};t.exports=function(t,e,n,_,m,b,x){c(n,e,_);var w,I,M,T=function(t){if(!d&&t in E)return E[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=m==g,A=!1,E=t.prototype,O=E[p]||E[h]||m&&E[m],P=O||T(m),S=m?j?T("entries"):P:void 0,D="Array"==e?E.entries||O:O;if(D&&(M=f(D.call(new t)),M!==Object.prototype&&(l(M,C,!0),r||s(M,p)||a(M,p,y))),j&&O&&O.name!==g&&(A=!0,P=function(){return O.call(this)}),r&&!x||!d&&!A&&E[p]||a(E,p,P),u[e]=P,u[C]=y,m)if(w={values:j?P:T(g),keys:b?P:T(v),entries:S},x)for(I in w)I in E||i(E,I,w[I]);else o(o.P+o.F*(d||A),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){t.exports=n(37)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(64),o=n(46),i=n(76),a={};n(37)(a,n(77)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(39),o=n(65),i=n(74),a=n(28)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(44)("iframe"),r=i.length,o="<",a=">";for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(38),o=n(39),i=n(66);t.exports=n(42)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(67),o=n(74);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(27),o=n(68),i=n(71)(!1),a=n(28)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(69),o=n(25);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(70);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(68),o=n(72),i=n(73);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(58),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(58),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(30).document&&document.documentElement},function(t,e,n){var r=n(38).f,o=n(27),i=n(77)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(29)("wks"),o=n(31),i=n(30).Symbol,a="function"==typeof i,s=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};s.store=r},function(t,e,n){n(79);for(var r=n(30),o=n(37),i=n(62),a=n(77)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(80),o=n(81),i=n(62),a=n(68);t.exports=n(59)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(77)},function(t,e,n){t.exports={"default":n(84),__esModule:!0}},function(t,e,n){n(85),n(96),n(97),n(98),t.exports=n(34).Symbol},function(t,e,n){"use strict";var r=n(30),o=n(27),i=n(42),a=n(33),s=n(61),u=n(86).KEY,c=n(43),l=n(29),f=n(76),p=n(31),d=n(77),h=n(82),v=n(87),g=n(88),y=n(89),_=n(92),m=n(39),b=n(68),x=n(45),w=n(46),I=n(64),M=n(93),T=n(95),C=n(38),j=n(66),A=T.f,E=C.f,O=M.f,P=r.Symbol,S=r.JSON,D=S&&S.stringify,N="prototype",k=d("_hidden"),L=d("toPrimitive"),R={}.propertyIsEnumerable,z=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),F=Object[N],G="function"==typeof P,Y=r.QObject,X=!Y||!Y[N]||!Y[N].findChild,H=i&&c(function(){return 7!=I(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(F,e);r&&delete F[e],E(t,e,n),r&&t!==F&&E(F,e,r)}:E,Z=function(t){var e=U[t]=I(P[N]);return e._k=t,e},W=G&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},V=function(t,e,n){return t===F&&V(B,e,n),m(t),e=x(e,!0),m(n),o(U,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=I(n,{enumerable:w(0,!1)})):(o(t,k)||E(t,k,w(1,{})),t[k][e]=!0),H(t,e,n)):E(t,e,n)},Q=function(t,e){m(t);for(var n,r=y(e=b(e)),o=0,i=r.length;i>o;)V(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?I(t):Q(I(t),e)},q=function(t){var e=R.call(this,t=x(t,!0));return!(this===F&&o(U,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,k)&&this[k][t])||e)},K=function(t,e){if(t=b(t),e=x(e,!0),t!==F||!o(U,e)||o(B,e)){var n=A(t,e);return!n||!o(U,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=O(b(t)),r=[],i=0;n.length>i;)o(U,e=n[i++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===F,r=O(n?B:b(t)),i=[],a=0;r.length>a;)!o(U,e=r[a++])||n&&!o(F,e)||i.push(U[e]);return i};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,w(1,n))};return i&&X&&H(F,t,{configurable:!0,set:e}),Z(t)},s(P[N],"toString",function(){return this._k}),T.f=K,C.f=V,n(94).f=M.f=$,n(91).f=q,n(90).f=tt,i&&!n(60)&&s(F,"propertyIsEnumerable",q,!0),h.f=function(t){return Z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return o(z,t+="")?z[t]:z[t]=P(t)},keyFor:function(t){if(W(t))return g(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!G,"Object",{create:J,defineProperty:V,defineProperties:Q,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),S&&a(a.S+a.F*(!G||c(function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&_(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,D.apply(S,r)}}}),P[N][L]||n(37)(P[N],L,P[N].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(31)("meta"),o=n(40),i=n(27),a=n(38).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(43)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(30),o=n(34),i=n(60),a=n(82),s=n(38).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(66),o=n(68);t.exports=function(t,e){for(var n,i=o(t),a=r(i),s=a.length,u=0;s>u;)if(i[n=a[u++]]===e)return n}},function(t,e,n){var r=n(66),o=n(90),i=n(91);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(70);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(68),o=n(94).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},function(t,e,n){var r=n(67),o=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(91),o=n(46),i=n(68),a=n(45),s=n(27),u=n(41),c=Object.getOwnPropertyDescriptor;e.f=n(42)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(87)("asyncIterator")},function(t,e,n){n(87)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(100),i=r(o),a=n(104),s=r(a),u=n(53),c=r(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,c["default"])(e)));t.prototype=(0,s["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i["default"]?(0,i["default"])(t,e):t.__proto__=e)}},function(t,e,n){t.exports={"default":n(101),__esModule:!0}},function(t,e,n){n(102),t.exports=n(34).Object.setPrototypeOf},function(t,e,n){var r=n(33);r(r.S,"Object",{setPrototypeOf:n(103).set})},function(t,e,n){var r=n(40),o=n(39),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(35)(Function.call,n(95).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={"default":n(105),__esModule:!0}},function(t,e,n){n(106);var r=n(34).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(33);r(r.S,"Object",{create:n(64)})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=350;e["default"]={CURVE_SIZE:n,CURVE_PERCENT:n/100,CURVE_PADDING:10}},function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2016 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(o,i,a,s){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function f(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}function p(t,e,n){var r,o=e.prototype;r=t.prototype=Object.create(o),r.constructor=t,r._super=o,n&&vt(r,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==_t?t.apply(e?e[0]||s:s,e):t}function v(t,e){return t===s?e:t}function g(t,e,n){l(b(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(b(e),function(e){t.removeEventListener(e,n,!1)})}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];x(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function M(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<gt.length;){if(n=gt[i],r=n?n+o:e,r in t)return r;i++}return s}function T(){return Mt++}function C(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function A(t){var e,n=t.options.inputClass;return new(e=n?n:jt?G:At?H:Ct?W:F)(t,E)}function E(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=e&Nt&&r-o===0,a=e&(Lt|Rt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,O(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function O(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=D(e)),o>1&&!n.firstMultiple?n.firstMultiple=D(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,u=e.center=N(r);e.timeStamp=xt(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=z(s,u),e.distance=R(s,u),P(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);var c=k(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=bt(c.x)>bt(c.y)?c.x:c.y,e.scale=a?B(a.pointers,r):1,e.rotation=a?U(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,S(n,e);var l=t.element;_(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==Nt&&i.eventType!==Lt||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}function S(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(u>Dt||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=k(u,c,l);r=f.x,o=f.y,n=bt(f.x)>bt(f.y)?f.x:f.y,i=L(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:xt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:mt(n/e),y:mt(r/e)}}function k(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?zt:bt(t)>=bt(e)?t<0?Ut:Bt:e<0?Ft:Gt}function R(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function z(t,e,n){n||(n=Zt);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}function U(t,e){return z(e[1],e[0],Wt)+z(t[1],t[0],Wt)}function B(t,e){return R(e[0],e[1],Wt)/R(t[0],t[1],Wt)}function F(){this.evEl=Qt,this.evWin=Jt,this.pressed=!1,j.apply(this,arguments)}function G(){this.evEl=$t,this.evWin=te,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=ne,this.evWin=re,this.started=!1,j.apply(this,arguments)}function X(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Lt|Rt)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}function H(){this.evTarget=ie,this.targetIds={},j.apply(this,arguments)}function Z(t,e){var n=w(t.touches),r=this.targetIds;if(e&(Nt|kt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=w(t.changedTouches),s=[],u=this.target;if(i=n.filter(function(t){return _(t.target,u)}),e===Nt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),e&(Lt|Rt)&&delete r[a[o].identifier],o++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}function W(){j.apply(this,arguments);var t=d(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Nt?(this.primaryTouch=e.changedPointers[0].identifier,Q.call(this,e)):t&(Lt|Rt)&&Q.call(this,e)}function Q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(o,ae)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=se&&a<=se)return!0}return!1}function q(t,e){this.manager=t,this.set(e)}function K(t){if(m(t,de))return de;var e=m(t,he),n=m(t,ve);return e&&n?de:e||n?e?he:ve:m(t,pe)?pe:fe}function $(){if(!ce)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}function tt(t){this.options=vt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function et(t){return t&we?"cancel":t&be?"end":t&me?"move":t&_e?"start":""}function nt(t){return t==Gt?"down":t==Ft?"up":t==Ut?"left":t==Bt?"right":""}function rt(t,e){var n=e.manager;return n?n.get(t):t}function ot(){tt.apply(this,arguments)}function it(){ot.apply(this,arguments),this.pX=null,this.pY=null}function at(){ot.apply(this,arguments)}function st(){tt.apply(this,arguments),this._timer=null,this._input=null}function ut(){ot.apply(this,arguments)}function ct(){ot.apply(this,arguments)}function lt(){tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ft(t,e){return e=e||{},e.recognizers=v(e.recognizers,ft.defaults.preset),new pt(t,e)}function pt(t,e){this.options=vt({},ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=A(this),this.touchAction=new q(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n=t.element;if(n.style){var r;l(t.options.cssProps,function(o,i){r=M(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var vt,gt=["","webkit","Moz","MS","ms","o"],yt=i.createElement("div"),_t="function",mt=Math.round,bt=Math.abs,xt=Date.now;vt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var wt=f(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),It=f(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Mt=1,Tt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in o,jt=M(o,"PointerEvent")!==s,At=Ct&&Tt.test(navigator.userAgent),Et="touch",Ot="pen",Pt="mouse",St="kinect",Dt=25,Nt=1,kt=2,Lt=4,Rt=8,zt=1,Ut=2,Bt=4,Ft=8,Gt=16,Yt=Ut|Bt,Xt=Ft|Gt,Ht=Yt|Xt,Zt=["x","y"],Wt=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Nt,mousemove:kt,mouseup:Lt},Qt="mousedown",Jt="mousemove mouseup";p(F,j,{handler:function(t){var e=Vt[t.type];e&Nt&&0===t.button&&(this.pressed=!0),e&kt&&1!==t.which&&(e=Lt),this.pressed&&(e&Lt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Pt,srcEvent:t}))}});var qt={pointerdown:Nt,pointermove:kt,pointerup:Lt,pointercancel:Rt,pointerout:Rt},Kt={2:Et,3:Ot,4:Pt,5:St},$t="pointerdown",te="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&($t="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),p(G,j,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=qt[r],i=Kt[t.pointerType]||t.pointerType,a=i==Et,s=x(e,t.pointerId,"pointerId");o&Nt&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):o&(Lt|Rt)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var ee={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ne="touchstart",re="touchstart touchmove touchend touchcancel";p(Y,j,{handler:function(t){var e=ee[t.type];if(e===Nt&&(this.started=!0),this.started){var n=X.call(this,t,e);e&(Lt|Rt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}}});var oe={touchstart:Nt,touchmove:kt,touchend:Lt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";p(H,j,{handler:function(t){var e=oe[t.type],n=Z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Et,srcEvent:t})}});var ae=2500,se=25;p(W,j,{handler:function(t,e,n){var r=n.pointerType==Et,o=n.pointerType==Pt;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)V.call(this,e,n);else if(o&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=M(yt.style,"touchAction"),ce=ue!==s,le="compute",fe="auto",pe="manipulation",de="none",he="pan-x",ve="pan-y",ge=$();q.prototype={set:function(t){t==le&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[ue]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,o=m(r,de)&&!ge[de],i=m(r,ve)&&!ge[ve],a=m(r,he)&&!ge[he];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}return a&&i?void 0:o||i&&n&Yt||a&&n&Xt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ye=1,_e=2,me=4,be=8,xe=be,we=16,Ie=32;tt.prototype={defaults:{},set:function(t){return vt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=rt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=rt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=rt(t,this),x(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=rt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<be&&e(n.options.event+et(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=be&&e(n.options.event+et(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=Ie)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Ie|ye)))return!1;t++}return!0},recognize:function(t){var e=vt({},t);return h(this.options.enable,[this,e])?(this.state&(xe|we|Ie)&&(this.state=ye),this.state=this.process(e),void(this.state&(_e|me|be|we)&&this.tryEmit(e))):(this.reset(),void(this.state=Ie))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(ot,tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(_e|me),o=this.attrTest(t);return r&&(n&Rt||!o)?e|we:r||o?n&Lt?e|be:e&_e?e|me:_e:Ie}}),p(it,ot,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Yt&&e.push(ve),t&Xt&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Yt?(o=0===i?zt:i<0?Ut:Bt,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?zt:a<0?Ft:Gt,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return ot.prototype.attrTest.call(this,t)&&(this.state&_e||!(this.state&_e)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=nt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(at,ot,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&_e)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(st,tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[fe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Lt|Rt)&&!o)this.reset();else if(t.eventType&Nt)this.reset(),this._timer=u(function(){this.state=xe,this.tryEmit()},e.time,this);else if(t.eventType&Lt)return xe;return Ie},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===xe&&(t&&t.eventType&Lt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=xt(),this.manager.emit(this.options.event,this._input)))}}),p(ut,ot,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&_e)}}),p(ct,ot,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Yt|Xt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Yt|Xt)?e=t.overallVelocity:n&Yt?e=t.overallVelocityX:n&Xt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&bt(e)>this.options.velocity&&t.eventType&Lt},emit:function(t){var e=nt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(lt,tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[pe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Nt&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Lt)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t;var s=this.count%e.taps;if(0===s)return this.hasRequireFailures()?(this._timer=u(function(){this.state=xe,this.tryEmit()},e.interval,this),_e):xe}return Ie},failTimeout:function(){return this._timer=u(function(){this.state=Ie},this.options.interval,this),Ie},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==xe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ft.VERSION="2.0.7",ft.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[ut,{enable:!1}],[at,{enable:!1},["rotate"]],[ct,{direction:Yt}],[it,{direction:Yt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Me=1,Te=2;pt.prototype={set:function(t){return vt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Te:Me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&xe)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],e.stopped===Te||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(_e|me|be)&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return l(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return l(b(t),function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},vt(ft,{INPUT_START:Nt,INPUT_MOVE:kt,INPUT_END:Lt,INPUT_CANCEL:Rt,STATE_POSSIBLE:ye,STATE_BEGAN:_e,STATE_CHANGED:me,STATE_ENDED:be,STATE_RECOGNIZED:xe,STATE_CANCELLED:we,STATE_FAILED:Ie,DIRECTION_NONE:zt,DIRECTION_LEFT:Ut,DIRECTION_RIGHT:Bt,DIRECTION_UP:Ft,DIRECTION_DOWN:Gt,DIRECTION_HORIZONTAL:Yt,DIRECTION_VERTICAL:Xt,DIRECTION_ALL:Ht,Manager:pt,Input:j,TouchAction:q,TouchInput:H,MouseInput:F,PointerEventInput:G,TouchMouseInput:W,SingleTouchInput:Y,Recognizer:tt,AttrRecognizer:ot,Tap:lt,Pan:it,Swipe:ct,Pinch:at,Rotate:ut,Press:st,on:g,off:y,each:l,merge:It,extend:wt,assign:vt,inherit:p,bindFn:d,prefixed:M});var Ce="undefined"!=typeof o?o:"undefined"!=typeof self?self:{};Ce.Hammer=ft,r=function(){return ft}.call(e,n,e,t),!(r!==s&&(t.exports=r))}(window,document,"Hammer")},function(t,e,n){var r,o,i;!function(n){o=[],r=n,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(function(){var t=null;return function e(n,r){function o(t){return t.match(/[^ ]+/g)}function i(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var r=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof r&&(e.srcEvent.stopPropagation=function(){r(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var i=o.hammer;if(i)for(var a,s=0;s<i.length;s++)if(a=i[s]._handlers[e.type])for(var u=0;u<a.length&&!n;u++)a[u](e);o=o.parentNode}}var a=r||{preventDefault:!1};if(n.Manager){var s=n,u=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s(t,r),r)};return s.assign(u,s),u.Manager=function(t,n){var r=Object.create(a);return n&&s.assign(r,n),e(new s.Manager(t,r),r)},u}var c=Object.create(n),l=n.element;return l.hammer||(l.hammer=[]),l.hammer.push(c),n.on("hammer.input",function(e){a.preventDefault!==!0&&a.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),c._handlers={},c.on=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r||(c._handlers[t]=r=[],n.on(t,i)),r.push(e)}),c},c.off=function(t,e){return o(t).forEach(function(t){var r=c._handlers[t];r&&(r=e?r.filter(function(t){return t!==e}):[],r.length>0?c._handlers[t]=r:(n.off(t,i),delete c._handlers[t]))}),c},c.emit=function(e,r){t=r.target,n.emit(e,r)},c.destroy=function(){var t=n.element.hammer,e=t.indexOf(c);e!==-1&&t.splice(e,1),t.length||delete n.element.hammer,c._handlers={},n.destroy()},c}})},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){if(w){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];console.group||n.unshift("%credux-undo","font-style: italic"),(t=console).log.apply(t,n)}}function o(t,e){if(w){var n=["action",t.type];if(console.group){var o;n.unshift("%credux-undo","font-style: italic"),(o=console).groupCollapsed.apply(o,n),console.log("received",{state:e,action:t})}else r.apply(void 0,n)}}function i(){if(w)return console.groupEnd&&console.groupEnd()}function a(t){var e=t.past,n=t.future;return e.length+1+n.length}function s(t,e,o){r("insert",{state:e,history:t,free:o-a(t)});var i=t.past,s=t.present,u=o&&a(t)>=o;return void 0===s?{past:[],present:e,future:[]}:{past:[].concat(n(i.slice(u?1:0)),[s]),present:e,future:[]}}function u(t){r("undo",{history:t});var e=t.past,o=t.present,i=t.future;return e.length<=0?t:{past:e.slice(0,e.length-1),present:e[e.length-1],future:[o].concat(n(i))}}function c(t){r("redo",{history:t});var e=t.past,o=t.present,i=t.future;return i.length<=0?t:{future:i.slice(1,i.length),present:i[0],past:[].concat(n(e),[o])}}function l(t,e){if(0===e)return c(t);var n=t.past,r=t.present,o=t.future;return{future:o.slice(e+1),present:o[e],past:n.concat([r]).concat(o.slice(0,e))}}function f(t,e){if(e===t.past.length-1)return u(t);var n=t.past,r=t.present,o=t.future;return{future:n.slice(e+1).concat([r]).concat(o),present:n[e],past:n.slice(0,e)}}function p(t){return x({},t,{history:t})}function d(t,e){return p(x({},t,e))}function h(t){return{past:[],present:t,future:[]}}function v(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return Array.isArray(t)?t:"string"==typeof t?[t]:e}function g(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w=e.debug;var n={initialState:e.initialState,initTypes:v(e.initTypes,["@@redux/INIT","@@INIT"]),limit:e.limit,filter:e.filter||function(){return!0},undoType:e.undoType||I.UNDO,redoType:e.redoType||I.REDO,jumpToPastType:e.jumpToPastType||I.JUMP_TO_PAST,jumpToFutureType:e.jumpToFutureType||I.JUMP_TO_FUTURE};return n.history=e.initialHistory||h(n.initialState),0===n.initTypes.length&&console.warn("redux-undo: supply at least one action type in initTypes to ensure initial state"),function(e,v){o(v,e);var g=void 0;switch(v.type){case n.undoType:return g=u(e),r("after undo",g),i(),g?d(e,g):e;case n.redoType:return g=c(e),r("after redo",g),i(),g?d(e,g):e;case n.jumpToPastType:return g=f(e,v.index),r("after jumpToPast",g),i(),g?d(e,g):e;case n.jumpToFutureType:return g=l(e,v.index),r("after jumpToFuture",g),i(),g?d(e,g):e;default:if(g=t(e&&e.present,v),n.initTypes.some(function(t){return t===v.type}))return r("reset history due to init action"),i(),p(x({},e,h(g)));if(n.filter&&"function"==typeof n.filter&&!n.filter(v,g,e&&e.present))return r("filter prevented action, not storing it"),i(),p(x({},e,{present:g}));var y=e&&void 0!==e.present?e:n.history,_=s(y,g,n.limit);return r("after insert",{history:_,free:n.limit-a(_)}),i(),p(x({},e,_))}}}function y(){return function(t,e,n){return e!==n}}function _(t){var e=v(t);return function(t){return e.indexOf(t.type)>=0}}function m(t){return console.error("Deprecation Warning: Please change `ifAction` to `includeAction`"),_(t)}function b(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=v(t);return function(t){return e.indexOf(t.type)<0}}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.parseActions=v,e["default"]=g,e.distinctState=y,e.includeAction=_,e.ifAction=m,e.excludeAction=b;var w=void 0,I=e.ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST"};e.ActionCreators={undo:function(){return{type:I.UNDO}},redo:function(){return{type:I.REDO}},jumpToFuture:function(t){return{type:I.JUMP_TO_FUTURE,index:t}},jumpToPast:function(t){return{type:I.JUMP_TO_PAST,index:t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),i=r(o),a=i["default"].CURVE_SIZE,s=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=Math.abs(t%a),r=parseInt(t/a),o=15;return n<o?t=r*a:n>a-o&&(t=e*(r+1)*a),t};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(113),a=r(i),s=n(137),u=r(s),c=n(145),l=function(t){var e=t.state;return(0,o.h)("div",{className:c["curve-editor__right"]},(0,o.h)(a["default"],{state:e}),(0,o.h)(u["default"],{type:"right",className:c["curve-editor__resize-handle"]}),(0,o.h)(u["default"],{type:"bottom",className:c["curve-editor__resize-handle"]}))};e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(114),g=(r(v),n(115)),y=r(g),_=n(111),m=r(_),b=n(107),x=r(b),w=n(108),I=r(w),M=n(109),T=r(M);n(134);var C=n(136),j=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state,e=t.points.present.path,n=this._getStyle(t),r=this._renderPoints(t),o=this._renderSegments(t);return(0,h.h)("div",{className:C.curve},(0,h.h)("div",{className:C.curve__background,style:n.background}),(0,h.h)("div",{className:C["curve__svg-wrapper"],style:n.transform},r,(0,h.h)("svg",{height:x["default"].CURVE_SIZE,viewBox:"0 0 100 100",preserveAspectRatio:"none",id:"js-svg","class":C.curve__svg},(0,h.h)("path",{d:e,stroke:"#000000","stroke-opacity":"0.35","stroke-width":"4","vector-effect":"non-scaling-stroke",transform:"translate(.75,.75)",fill:"none"}),(0,h.h)("g",{id:"js-segments"}," ",o," "))))}},{key:"_getStyle",value:function(t){var e=t.resize,n=e.temp_top,r=e.temp_right;n+=e.top,r+=e.right,x["default"].CURVE_SIZE-n<x["default"].CURVE_SIZE&&(n=0),n=(0,m["default"])(n,-1);var o="transform: scaleX("+(x["default"].CURVE_SIZE+Math.max(r,0))/x["default"].CURVE_SIZE+")",i=""+mojs.h.prefix.css+o+"; "+o+";",a="background-position: 0 "+(-n-1)+"px; "+i,s="transform: translate(0px, "+-n+"px)";return{background:a,transform:""+mojs.h.prefix.css+s+"; "+s+";"}}},{key:"_renderPoints",value:function(t){for(var e=t.points.present.points,n=[],r=e.length,o=0;o<r;o++)n.push((0,h.h)(y["default"],{point:e[o],state:t,index:o,pointsCount:r}));return n}},{key:"_renderSegments",value:function(t){for(var e=t.points.present.segments,n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)("path",{d:o.segmentString,"data-index":o.index,stroke:"white",fill:"none","stroke-width":"","vector-effect":"non-scaling-stroke","class":C["curve__svg-segment"]}))}return n}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.base.querySelector("#js-segments"),n=(0,T["default"])(new I["default"].Manager(e));n.add(new I["default"].Tap),n.on("tap",function(e){var n=e.srcEvent,r=n.target;if("path"===r.tagName.toLowerCase()){var o=n.offsetX,i=n.offsetY*x["default"].CURVE_PERCENT,a=parseInt(r.getAttribute("data-index"))+1;t.dispatch({type:"POINT_ADD",data:{point:{x:o,y:i},index:a},isRecord:!0}),t.dispatch({type:"POINT_SELECT",data:{index:a,type:"straight"}}),e.stopPropagation()}});var r=this.base.querySelector("#js-svg"),o=(0,T["default"])(new I["default"].Manager(r));o.add(new I["default"].Tap),o.on("tap",function(e){t.dispatch({type:"POINT_DESELECT_ALL"})})}}]),e}(h.Component);e["default"]=j},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return mojs.h.getRadialPoint({angle:t,radius:e,center:{x:0,y:0}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(116),g=r(v),y=n(117),_=r(y),m=n(109),b=r(m),x=n(129),w=r(x),I=n(108),M=r(I),T=n(130),C=r(T),j=n(111),A=(r(j),n(107)),E=r(A);n(131);var O=n(133),P=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.point,n=t.state,r=e.isSelected?O["is-selected"]:"",o="straight"===e.type?O["is-hide-handles"]:"",i=this._getLittleHandles();return(0,h.h)("div",{className:O.point+" "+r+" "+o,style:this._getStyle(n),"data-component":"point"},(0,h.h)("div",{className:O.point__touch,id:"js-point-touch"}),i)}},{key:"_getStyle",value:function(t){var e=this.props.point,n=t.resize,r=(0,C["default"])(e.x+e.tempX,0,100),o=r*n.scalerX,i=e.y+e.tempY,a="transform: translate("+o+"px, "+(i-1)+"px)";return""+mojs.h.prefix.css+a+"; "+a}},{key:"_getLittleHandles",value:function(){var t=this.props,e=t.index,n=t.point,r=t.pointsCount,o=[];return 0!==e&&o.push(this._createHandle(1,n)),e!==r-1&&o.push(this._createHandle(2,n)),o}},{key:"_createHandle",value:function(t,e){return(0,h.h)(_["default"],{index:t,state:this.props.state,parentIndex:this.props.index,handle:e["handle"+t],type:e.type})}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=function(e){var n=t.props.state.resize,r=t.props,o=r.point;r.index;if(o.isLockedX)return 0;var i=e.deltaX/n.scalerX;return o.x+i<0?0-o.x:o.x+i>100?100-o.x:(0,w["default"])(o.x+i,5,1.5)-o.x},r=function(e){
var n=t.props.state.resize,r=t.props,o=r.point,i=(r.index,o.y+e.deltaY),a=i;return i<n.top?a=n.top:i>E["default"].CURVE_SIZE+n.bottom&&(a=E["default"].CURVE_SIZE+n.bottom),(0,w["default"])(a,5*E["default"].CURVE_PERCENT,2*E["default"].CURVE_PERCENT)-o.y},o=this.base.querySelector("#js-point-touch"),i=(0,b["default"])(new M["default"].Manager(o));i.add(new M["default"].Pan({threshold:0})),i.on("pan",function(o){var i=t.props,a=(i.point,i.index);e.dispatch({type:"POINT_TRANSLATE",data:{x:n(o),y:r(o),index:a}}),o.stopPropagation()}).on("panend",function(n){var r=t.props,o=(r.point,r.index);e.dispatch({type:"POINT_TRANSLATE_END",data:o,isRecord:!0}),n.stopPropagation()}),(0,g["default"])(o,function(n){var r=t.props,o=r.point,i=r.index;e.dispatch({type:"POINT_SELECT",data:{index:i,isDeselect:!n.shiftKey,type:o.type}})})}}]),e}(h.Component);e["default"]=P},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){window.navigator.msPointerEnabled?t.addEventListener("MSPointerDown",e):void 0!==window.ontouchstart?(t.addEventListener("touchstart",e),t.addEventListener("mousedown",e)):t.addEventListener("mousedown",e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(21),s=r(a),u=n(47),c=r(u),l=n(48),f=r(l),p=n(52),d=r(p),h=n(99),v=r(h),g=n(3),y=n(114),_=r(y),m=n(123),b=r(m),x=n(108),w=r(x),I=n(109),M=r(I);n(124);var T=n(128),C=function(t){function e(){return(0,c["default"])(this,e),(0,d["default"])(this,(0,s["default"])(e).apply(this,arguments))}return(0,v["default"])(e,t),(0,f["default"])(e,[{key:"render",value:function(){return(0,g.h)("div",{className:T["little-handle"],"data-component":"little-handle"},(0,g.h)("div",{"class":T["little-handle__point"],style:this._getPointStyle()}),(0,g.h)("div",{"class":T["little-handle__line"],style:this._getLineStyle()}))}},{key:"componentDidMount",value:function(){var t=this,e=this.context.store,n=(0,M["default"])(new w["default"].Manager(this.base)),r=this.props.handle;n.add(new w["default"].Pan({threshold:0})),n.on("panstart",function(e){r=t.props.handle}).on("pan",function(n){var o=t.props,a=o.index,s=o.parentIndex,u=(0,_["default"])(r.angle,r.radius),c=u.x+n.deltaX,l=u.y+n.deltaY,f=(0,b["default"])(c,l);if(e.dispatch({type:"HANDLE_TRANSLATE",data:(0,i["default"])({index:a,parentIndex:s},f)}),"mirrored"===t.props.type){var p=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:p,parentIndex:s,radius:f.radius,angle:f.angle-180}})}if("asymmetric"===t.props.type){var d=1===a?2:1;e.dispatch({type:"HANDLE_TRANSLATE",data:{index:d,parentIndex:s,radius:r.radius,angle:f.angle-180}})}n.stopPropagation()}).on("panend",function(t){t.stopPropagation()})}},{key:"_getPointStyle",value:function(){var t=this.props.handle,e=(0,_["default"])(t.angle,t.radius),n="transform: translate("+e.x+"px, "+e.y+"px) rotate("+t.angle+"deg)";return""+mojs.h.prefix.css+n+"; "+n}},{key:"_getLineStyle",value:function(){var t=this.props.handle,e="transform: rotate("+t.angle+"deg) scaleY("+t.radius+")";return""+mojs.h.prefix.css+e+"; "+e}}]),e}(g.Component);e["default"]=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(119),i=r(o);e["default"]=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={"default":n(120),__esModule:!0}},function(t,e,n){n(121),t.exports=n(34).Object.assign},function(t,e,n){var r=n(33);r(r.S+r.F,"Object",{assign:n(122)})},function(t,e,n){"use strict";var r=n(66),o=n(90),i=n(91),a=n(24),s=n(69),u=Object.assign;t.exports=!u||n(43)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,g=0;v>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){var n=Math.sqrt(t*t+e*e),r=Math.atan(e/t)*(180/Math.PI)-90;return t>0&&(r-=180),{radius:n,angle:r}}},function(t,e,n){var r=n(125);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(125,function(){var e=n(125);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._little-handle_iw2ru_3{position:absolute;left:50%;top:50%;width:0;height:0}._little-handle__point_iw2ru_1{position:absolute;z-index:1;width:6px;height:6px;left:50%;top:50%;margin-left:-3px;margin-top:-3px;background:#ff512f;box-shadow:1px 1px 0 rgba(0,0,0,.5)}._little-handle__point_iw2ru_1:after{content:'';position:absolute;width:200%;height:200%;left:50%;top:50%;margin-left:-100%;margin-top:-100%}._little-handle__line_iw2ru_1{position:absolute;width:1px;height:1px;margin-left:-1px;margin-top:-1px;left:50%;top:50%;background:#ff512f;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],c={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=_++;n=y||(y=s(e)),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,_=0,m=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,i.push(u)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={"little-handle":"_little-handle_iw2ru_3","little-handle__point":"_little-handle__point_iw2ru_1","little-handle__line":"_little-handle__line_iw2ru_1"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){var r=Math.round(t/e)*e;return Math.abs(t-r)<n?r:t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(132);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(132,function(){var e=n(132);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._point_17pb1_5{position:absolute;width:10px;height:10px;margin-left:-5px;margin-top:-5px;cursor:move;background:#fff;border-radius:50%;z-index:3;box-shadow:3px 3px 0 rgba(0,0,0,.5);border:2px solid #fff}._point_17pb1_5 [data-component=little-handle]{display:none}._point__touch_17pb1_1{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px}._point_17pb1_5._is-selected_17pb1_31,._point_17pb1_5:hover{border-color:#ff512f}._point_17pb1_5._is-selected_17pb1_31 [data-component=little-handle]{display:block}._point_17pb1_5._is-hide-handles_17pb1_42 [data-component=little-handle]{display:none}",""])},function(t,e){t.exports={point:"_point_17pb1_5",point__touch:"_point__touch_17pb1_1","is-selected":"_is-selected_17pb1_31","is-hide-handles":"_is-hide-handles_17pb1_42"}},function(t,e,n){var r=n(135);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(135,function(){var e=n(135);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._curve_gvcrn_5{position:absolute;left:0;top:10px;right:10px;bottom:10px;border-radius:2px;background:rgba(58,8,58,.75);border:1px solid #9c829a;box-shadow:inset 4px 4px 0 rgba(0,0,0,.5);z-index:2}._curve__background_gvcrn_1{position:absolute;z-index:0;top:0;bottom:0;width:350px;left:50%;margin-left:-175px;opacity:.5;border-radius:inherit;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB3aWR0aD0iMzUwcHgiIGhlaWdodD0iMzUwcHgiIHZpZXdCb3g9IjAgMCAzNTAgMzUwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPlNsaWNlIDE8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuMDAwMDAwLCAwLjAwMDAwMCkiIHN0cm9rZT0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTMzMy40OTc4MjEsMzUwLjUwMTA4OCBMMzMzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTMxNS45OTc4MjEsMzUwLjUwMTA4OCBMMzE1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI5OC40OTc4MjEsMzUwLjUwMTA4OCBMMjk4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI4MC45OTc4MjEsMzUwLjUwMTA4OCBMMjgwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTI0NS45OTc4MjEsMzUwLjUwMTA4OCBMMjQ1Ljk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIyOC40OTc4MjEsMzUwLjUwMTA4OCBMMjI4LjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTIxMC45OTc4MjEsMzUwLjUwMTA4OCBMMjEwLjk5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5My40OTc4MjEsMzUwLjUwMTA4OCBMMTkzLjQ5NzgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE1OS4zNzI4MjEsMzUwLjUwMTA4OCBMMTU5LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE0MS44NzI4MjEsMzUwLjUwMTA4OCBMMTQxLjg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEyNC4zNzI4MjEsMzUwLjUwMTA4OCBMMTI0LjM3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTEwNi44NzI4MjEsMzUwLjUwMTA4OCBMMTA2Ljg3MjgyMSwwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTcxLjg3MjgyMDcsMzUwLjUwMTA4OCBMNzEuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM3MjgyMDcsMzUwLjUwMTA4OCBMNTQuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM2Ljg3MjgyMDcsMzUwLjUwMTA4OCBMMzYuODcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM3MjgyMDcsMzUwLjUwMTA4OCBMMTkuMzcyODIwNywwLjUwMTA4ODMwMiIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTkuMDAyMTc5MyBMMS4wMDEwODgzLDE5LjAwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDM2LjUwMjE3OTMgTDEuMDAxMDg4MywzNi41MDIxNzkzIiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCw1NC4wMDIxNzkzIEwxLjAwMTA4ODMsNTQuMDAyMTc5MyIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsNzEuNTAyMTc5MyBMMS4wMDEwODgzLDcxLjUwMjE3OTMiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDEwNi41MDIxNzkgTDEuMDAxMDg4MywxMDYuNTAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxMjQuMDAyMTc5IEwxLjAwMTA4ODMsMTI0LjAwMjE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMTQxLjUwMjE3OSBMMS4wMDEwODgzLDE0MS41MDIxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDE1OS4wMDIxNzkgTDEuMDAxMDg4MywxNTkuMDAyMTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwxOTMuMTI3MTc5IEwxLjAwMTA4ODMsMTkzLjEyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjEwLjYyNzE3OSBMMS4wMDEwODgzLDIxMC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDIyOC4xMjcxNzkgTDEuMDAxMDg4MywyMjguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwyNDUuNjI3MTc5IEwxLjAwMTA4ODMsMjQ1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMjgwLjYyNzE3OSBMMS4wMDEwODgzLDI4MC42MjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTEuMDAxMDg4LDI5OC4xMjcxNzkgTDEuMDAxMDg4MywyOTguMTI3MTc5IiBpZD0icGF0aDE4NzIiIG9wYWNpdHk9IjAuMjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUxLjAwMTA4OCwzMTUuNjI3MTc5IEwxLjAwMTA4ODMsMzE1LjYyNzE3OSIgaWQ9InBhdGgxODcyIiBvcGFjaXR5PSIwLjI1Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MS4wMDEwODgsMzMzLjEyNzE3OSBMMS4wMDEwODgzLDMzMy4xMjcxNzkiIGlkPSJwYXRoMTg3MiIgb3BhY2l0eT0iMC4yNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik04OC4wNjQxMzUyLDEgTDg4LjA2NDEzNTIsMzUxIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzUuMTI4MjcsMSBMMTc1LjEyODI3LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMjYyLjE5MjQwNiwxIEwyNjIuMTkyNDA2LDM1MSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cGF0aCBkPSJNMzUwLjU2MzU5MSw4OC4wNjQ2NzkzIEwwLjU2MzU5MTAyMiw4OC4wNjQ2NzkzIiBpZD0icGF0aDgyMTUiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTAuNTYzNTkxLDE3NS41NjQ2NzkgTDAuNTYzNTkxMDIyLDE3NS41NjQ2NzkiIGlkPSJwYXRoODIxNSIgb3BhY2l0eT0iMC41Ij48L3BhdGg+ICAgICAgICAgICAgPHBhdGggZD0iTTM1MC41NjM1OTEsMjYzLjA2NDY3OSBMMC41NjM1OTEwMjIsMjYzLjA2NDY3OSIgaWQ9InBhdGg4MjE1IiBvcGFjaXR5PSIwLjUiPjwvcGF0aD4gICAgICAgICAgICA8cmVjdCBpZD0icmVjdDEwMDc4IiBvcGFjaXR5PSIwLjc1IiB4PSIwLjg3MjgxNzk1NSIgeT0iMSIgd2lkdGg9IjM1MCIgaGVpZ2h0PSIzNTAiPjwvcmVjdD4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)}._curve__svg-wrapper_gvcrn_1{position:absolute;z-index:1;left:-1px;right:-1px}._curve__svg_gvcrn_1{display:block;overflow:visible;width:100%}._curve__svg-segment_gvcrn_1{stroke:#fff;stroke-width:2px;cursor:crosshair}._curve__svg-segment_gvcrn_1:hover{stroke:#ff512f}",""])},function(t,e){t.exports={curve:"_curve_gvcrn_5",curve__background:"_curve__background_gvcrn_1","curve__svg-wrapper":"_curve__svg-wrapper_gvcrn_1",curve__svg:"_curve__svg_gvcrn_1","curve__svg-segment":"_curve__svg-segment_gvcrn_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(138),g=r(v),y=n(108),_=r(y),m=n(109),b=r(m),x=n(142);n(143);var w=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.type,e=""+x["resize-handle"],n=""+x["resize-handle--"+t];return(0,h.h)("div",{className:e+" "+n+" "+this.props.className,"data-type":t,"data-component":"resize-handle"},(0,h.h)(g["default"],{shape:"ellipsis"}))}},{key:"componentDidMount",value:function(){var t=this.context.store,e=this.props.type,n=(0,b["default"])(new _["default"].Manager(this.base));n.add(new _["default"].Pan({threshold:0})),n.on("pan",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE",data:{x:r,y:o,type:e}}),n.stopPropagation()}).on("panend",function(n){var r=n.deltaX,o=n.deltaY;t.dispatch({type:"EDITOR_RESIZE_END",data:{x:r,y:o,type:e}}),n.stopPropagation()})}}]),e}(h.Component);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(139);n(140);var g=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.shape,e='<svg viewBox="0 0 32 32"><use xlink:href="#'+t+'-shape" /></svg>';return(0,h.h)("div",{className:v.icon,"data-component":"icon",dangerouslySetInnerHTML:{__html:e}})}}]),e}(h.Component);e["default"]=g},function(t,e){t.exports={icon:"_icon_4a8lf_5"}},function(t,e,n){var r=n(141);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(141,function(){var e=n(141);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon_4a8lf_5{position:relative;width:32px;height:32px;cursor:pointer;fill:#fff;display:block}._icon_4a8lf_5>svg{position:absolute;left:0;top:0;width:100%;height:100%;fill:inherit}._icon_4a8lf_5>svg>use{fill:inherit}._icon_4a8lf_5:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:1}",""])},function(t,e){t.exports={"resize-handle":"_resize-handle_k81kc_4","resize-handle--right":"_resize-handle--right_k81kc_1","resize-handle--bottom":"_resize-handle--bottom_k81kc_1"}},function(t,e,n){var r=n(144);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(144,function(){var e=n(144);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._resize-handle_k81kc_4{background:#3d1b3c;width:32px;height:16px;display:block;cursor:n-resize;overflow:hidden;position:relative;border-top-left-radius:3px;border-top-right-radius:3px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}._resize-handle_k81kc_4:after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}._resize-handle_k81kc_4 [data-component=icon]{position:absolute;left:0;top:-7px}._resize-handle_k81kc_4:hover{opacity:.85}._resize-handle--right_k81kc_1{-webkit-transform:rotate(90deg);transform:rotate(90deg);cursor:e-resize}._resize-handle--bottom_k81kc_1{-webkit-transform:rotate(180deg);transform:rotate(180deg);cursor:s-resize}",""])},function(t,e){t.exports={"curve-editor":"_curve-editor_1f8r5_4","curve-editor__left":"_curve-editor__left_1f8r5_1","curve-editor__right":"_curve-editor__right_1f8r5_1","curve-editor__resize-handle":"_curve-editor__resize-handle_1f8r5_1","curve-editor__anchor-buttons":"_curve-editor__anchor-buttons_1f8r5_1","curve-editor__mojs-logo":"_curve-editor__mojs-logo_1f8r5_1"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(138),a=r(i),s=n(147),u=r(s),c=n(152),l=r(c),f=n(156),p=r(f),d=n(145),h=function(t){var e=t.state;return(0,o.h)("div",{className:d["curve-editor__left"],id:"js-left-panel"},(0,o.h)(u["default"],{state:e}),(0,o.h)(l["default"],null),(0,o.h)(p["default"],{state:e,className:d["curve-editor__anchor-buttons"]}),(0,o.h)("a",{className:d["curve-editor__mojs-logo"],href:"https://github.com/legomushroom/mojs-curve-editor",target:"_blank"},(0,o.h)(a["default"],{shape:"mojs-logo"})))};e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(148),g=r(v),y=n(109),_=r(y),m=n(108),b=r(m),x=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.state;return(0,h.h)(g["default"],{shape:"code",isCheck:t.controls.isCode})}},{key:"componentDidMount",value:function(){var t=this.context.store,e=(0,_["default"])(new b["default"].Manager(this.base));e.add(new b["default"].Tap),e.on("tap",function(e){t.dispatch({type:"CODE_TAP"})})}}]),e}(h.Component);e["default"]=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(108),v=r(h),g=n(3),y=n(138),_=r(y);n(149);var m=n(151),b=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props.isCheck?m["is-checked"]:"";return(0,g.h)("div",{className:m["icon-button"]+" "+t,"data-component":"icon-button"},(0,g.h)(_["default"],{shape:this.props.shape}))}},{key:"componentDidMount",value:function(){var t=this;if("function"==typeof this.props.onTap){new v["default"](this.base).on("tap",function(e){t.props.onTap(e,t.props)})}}}]),e}(g.Component);e["default"]=b},function(t,e,n){var r=n(150);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(150,function(){var e=n(150);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon-button_6ysdi_4{position:relative;width:24px;height:24px;display:block;background:#3a0839;border-radius:3px;box-shadow:1px 1px 0 rgba(0,0,0,.15)}._icon-button_6ysdi_4 [data-component=icon]{position:absolute;left:50%;top:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}._icon-button_6ysdi_4:hover{box-shadow:none}._icon-button_6ysdi_4:hover [data-component=icon]{-webkit-transform:translate(-52%,-52%);transform:translate(-52%,-52%)}._icon-button_6ysdi_4._is-checked_6ysdi_31,._icon-button_6ysdi_4:active{border-radius:3px;box-shadow:inset -1px -1px 0 hsla(0,0%,100%,.25),inset 1px 1px 1px rgba(0,0,0,.4)}._icon-button_6ysdi_4._is-checked_6ysdi_31 [data-component=icon],._icon-button_6ysdi_4:active [data-component=icon]{-webkit-transform:translate(-54%,-54%) scale(.95);transform:translate(-54%,-54%) scale(.95)}",""])},function(t,e){t.exports={"icon-button":"_icon-button_6ysdi_4","is-checked":"_is-checked_6ysdi_31"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(153);n(154),e["default"]=function(){return(0,r.h)("div",{className:o["icon-divider"],"data-component":"icon-divider"})}},function(t,e){t.exports={"icon-divider":"_icon-divider_ftask_3"}},function(t,e,n){var r=n(155);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(155,function(){var e=n(155);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._icon-divider_ftask_3{position:relative;margin:0 auto;width:16px;height:1px;display:block;background:hsla(0,0%,100%,.3);box-shadow:0 1px 0 rgba(0,0,0,.3)}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(47),s=r(a),u=n(48),c=r(u),l=n(52),f=r(l),p=n(99),d=r(p),h=n(3),v=n(148),g=r(v);n(157);var y=n(159),_=function(t){function e(){return(0,s["default"])(this,e),(0,f["default"])(this,(0,i["default"])(e).apply(this,arguments))}return(0,d["default"])(e,t),(0,c["default"])(e,[{key:"render",value:function(){var t=this.props,e=t.state,n=e.pointControls.present,r=n.isShow?y["is-show"]:"",o=t.className+" "+y["point-controls"]+" "+r,i=this._addButtons(n);return(0,h.h)("div",{className:o}," ",i," ")}},{key:"_onButtonTap",value:function(t){var e=this;return function(n){var r=e.context.store;r.dispatch({type:"POINT_CHANGE_TYPE",data:t,isRecord:!0})}}},{key:"_addButtons",value:function(t){for(var e=["straight","disconnected","mirrored","asymmetric"],n=[],r=0;r<e.length;r++){var o=e[r];n.push((0,h.h)(g["default"],{shape:"point-"+o,isCheck:t.type===o,onTap:this._onButtonTap(o)}))}return n}}]),e}(h.Component);e["default"]=_},function(t,e,n){var r=n(158);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(158,function(){var e=n(158);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._point-controls_1j5f4_4{display:none}._point-controls_1j5f4_4._is-show_1j5f4_7{display:block}",""])},function(t,e){t.exports={"point-controls":"_point-controls_1j5f4_4","is-show":"_is-show_1j5f4_7"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){return(0,r.h)("div",{dangerouslySetInnerHTML:{__html:'<svg height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" style="position:absolute; margin-left: -100%; width:0; height:0;" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g id="ellipsis-shape">\n        <circle cx="11" cy="16" r="1"></circle>\n        <circle cx="16" cy="16" r="1"></circle>\n        <circle cx="21" cy="16" r="1"></circle>\n      </g>\n      <path id="code-shape" d="M8,16.0849648 C8,15.8210793 8.11149069,15.6129393 8.33483405,15.4609065 L12.3390874,12.8419612 C12.3897649,12.8014192 12.4657813,12.7811481 12.5674985,12.7811481 C12.7398023,12.7811481 12.9048664,12.8571645 13.0623289,13.0095592 C13.2194294,13.161954 13.2983417,13.3393255 13.2983417,13.5423979 C13.2983417,13.7353347 13.2219633,13.8826617 13.0692066,13.9840168 L9.85769553,16.0849648 L13.0692066,18.1862747 C13.2219633,18.2677208 13.2983417,18.4146858 13.2983417,18.6278937 C13.2983417,18.830966 13.2197914,19.0061657 13.0623289,19.1531307 C12.9048664,19.3004576 12.7398023,19.3739401 12.5674985,19.3739401 C12.4657813,19.3739401 12.3897649,19.3536691 12.3390874,19.313127 L8.33483405,16.6938198 C8.11149069,16.541425 8,16.3387147 8,16.0849648 L8,16.0849648 Z M14.1399516,20.6875756 C14.1265582,20.6075774 14.1287301,20.5301131 14.1468293,20.4548207 L16.9395263,11.356022 C16.9891179,11.1623612 17.1237755,11.0468887 17.344223,11.0096045 C17.5042194,10.9824558 17.658786,11.0128623 17.8075609,11.1008242 C17.9563358,11.1891479 18.0442976,11.313308 18.0710844,11.4733044 C18.0862876,11.5634381 18.079772,11.6470561 18.0518993,11.7237965 L15.2664419,20.7748134 C15.2085247,20.9800577 15.0593878,21.1031318 14.8193932,21.1440358 C14.6488993,21.1729945 14.4994005,21.1389681 14.3698106,21.0426807 C14.2402208,20.9460313 14.1638424,20.8276629 14.1399516,20.6875756 L14.1399516,20.6875756 Z M18.9528744,19.1527687 C18.7954119,19.0058037 18.7168616,18.830604 18.7168616,18.6275317 C18.7168616,18.4244594 18.7878102,18.2774944 18.9300695,18.1859127 L22.1426665,16.0846028 L18.9300695,13.9836549 C18.7878102,13.8718022 18.7168616,13.7248372 18.7168616,13.5420359 C18.7168616,13.3389636 18.7954119,13.161592 18.9528744,13.0091973 C19.1103369,12.8568025 19.275039,12.7807861 19.4477048,12.7807861 C19.5389245,12.7807861 19.6098731,12.8014192 19.6609126,12.8415992 L23.6651659,15.4605445 C23.8881473,15.6129393 24,15.8210793 24,16.0846028 C24,16.3488502 23.8881473,16.5515606 23.6651659,16.6938198 L19.6609126,19.3127651 C19.6098731,19.3533071 19.5389245,19.3735782 19.4477048,19.3735782 C19.275039,19.3735782 19.1103369,19.3000957 18.9528744,19.1527687 L18.9528744,19.1527687 Z"></path>\n      <g id="point-straight-shape" fill="none">\n        <polyline fill="#8B6E8A" stroke="#FFFFFF" points="7.881 20.568 15.451 12.241 23.892 20.568"/>\n        <ellipse stroke="none" cx="16.8" cy="13.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n      </g>\n      <g id="point-mirrored-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,21.9012632 C7.88144841,21.9012632 7.59287172,13.5740537 15.4514423,13.5740537 C23.3100129,13.5740537 23.8921228,21.9012632 23.8921228,21.9012632"/>\n        <path stroke="#FF512F" d="M7.13883527,13.3333333 L25.8055013,13.3333333"/>\n        <ellipse stroke="none" cx="16.8" cy="14.9" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <ellipse cx="15.333" cy="13.333" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="24" y="12" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x="5.333" y="12" fill="#FF512F"/>\n      </g>\n      <g id="point-disconnected-shape" fill="none" fill-rule="evenodd">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M7.88144841,20.5679298 C7.88144841,20.5679298 7.59287172,12.2407204 15.4514423,12.2407204 C21.2005207,17.88737 23.8921228,20.5679298 23.8921228,20.5679298"/>\n        <polyline stroke="#FF512F" points="6.133 12 15.228 12 23.933 20.602"/>\n        <ellipse stroke="none" cx="16.8" cy="13.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <circle cx="15.333" cy="12" r="2.667" fill="#FFFFFF"/>\n        <rect width="2.667" height="2.667" x="21.886" y="18.552" fill="#FF512F" transform="rotate(45 23.219 19.886)"/>\n        <rect width="2.667" height="2.667" x="5.333" y="10.667" fill="#FF512F"/>\n      </g>\n      <g id="point-asymmetric-shape" fill="none" fill-rule="evenodd" transform="translate(7.667 9.333)">\n        <path fill="#8B6E8A" stroke="#FFFFFF" d="M0.214781742,11.2345965 C0.214781742,11.2345965 -0.373511869,2.90709613 7.78477564,2.90738704 C10.7500003,2.90749277 16.2254562,11.2345965 16.2254562,11.2345965"/>\n        <ellipse stroke="none" cx="9" cy="4.4" rx="2.667" ry="2.667" fill="black" fill-opacity="0.5" />\n        <path stroke="#FF512F" d="M2.52788503,2.66666667 L18.1388346,2.66666667"/>\n        <ellipse cx="7.667" cy="2.667" fill="#FFFFFF" rx="2.667" ry="2.667"/>\n        <rect width="2.667" height="2.667" x="16.333" y="1.333" fill="#FF512F"/>\n        <rect width="2.667" height="2.667" x=".333" y="1.333" fill="#FF512F"/>\n      </g>\n      <path id="mojs-logo-shape" d="M18.4678907,2.67700048 C19.488586,3.25758625 20.2789227,4.18421651 20.87823,5.1973579 C24.0807788,10.501451 27.2777091,15.8113116 30.480258,21.1154047 C31.1320047,22.1612281 31.7706417,23.2647256 31.9354512,24.5162532 C32.188284,26.0619186 31.6919826,27.7363895 30.5589171,28.80336 C29.4501984,29.8857103 27.8807622,30.3182659 26.3806209,30.3048086 C19.4511293,30.3086535 12.5235106,30.3086535 5.59401901,30.3048086 C3.71556494,30.343258 1.69852104,29.5723478 0.683444165,27.8709623 C-0.406546132,26.1099803 -0.0975282643,23.7914822 0.940022637,22.0843293 C4.34296485,16.4130445 7.76650826,10.7532945 11.1825603,5.08969961 C11.9747698,3.74781595 13.1846215,2.60202418 14.6847628,2.18292584 C15.9451812,1.81573418 17.3348251,2.01182606 18.4678907,2.67700048 Z M15.3334668,9.51526849 C15.6146238,9.03779476 16.0791597,9.02250655 16.3785679,9.4929547 L25.2763555,23.4736913 C25.5723919,23.9388414 25.3568433,24.3159201 24.8074398,24.3159202 L7.62314647,24.3159205 C7.06813505,24.3159206 6.84622798,23.9286889 7.12728913,23.4513779 L15.3334668,9.51526849 Z" fill-rule="evenodd"></path>\n    </svg>'
}})};e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(137),a=r(i);n(162);var s=n(164);e["default"]=function(t){var e=t.state,n=e.points,r=e.controls,i=r.isCode?s["is-open"]:"",u=s["code-panel"]+" "+i;return(0,o.h)("div",{className:u},(0,o.h)("div",{className:s["code-panel__inner"]},(0,o.h)(a["default"],{type:"top"}),(0,o.h)("div",{className:s["code-panel__input-wrap"]},(0,o.h)("input",{className:s["code-panel__input-field"],type:"text",readonly:"readonly",value:n.present.path}))))}},function(t,e,n){var r=n(163);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(163,function(){var e=n(163);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._code-panel_nnb9p_3{position:absolute;left:10px;right:10px;bottom:100%;z-index:1;overflow:hidden;padding-top:16px;box-sizing:content-box}._code-panel_nnb9p_3 [data-component=resize-handle]{position:absolute;left:50%;bottom:100%}._code-panel__inner_nnb9p_1{border-radius:6px 6px 0 0;background:#3d1b3c;padding:4px 5px 5px;-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transition:all .2s ease-out;transition:all .2s ease-out}._code-panel__input-wrap_nnb9p_1{border-radius:2px;background:#42103f;border:1px solid #9c829a;box-shadow:inset 2px 2px 0 rgba(0,0,0,.5)}._code-panel__input-field_nnb9p_1{display:block;background:transparent;color:#fff;font-size:9px;font-family:Arial,Helvetica,sans-serif;letter-spacing:.45px;font-weight:100;padding:0 .3em 0 .8em;border:none;width:100%;height:21px;white-space:nowrap;text-overflow:ellipsis}._code-panel_nnb9p_3 ::-moz-selection,.code-panel ::-moz-selection{background:#ff512f}._code-panel_nnb9p_3 ::selection{background:#ff512f}._code-panel_nnb9p_3._is-open_nnb9p_61 ._code-panel__inner_nnb9p_1{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(t,e){t.exports={"code-panel":"_code-panel_nnb9p_3","code-panel__inner":"_code-panel__inner_nnb9p_1","code-panel__input-wrap":"_code-panel__input-wrap_nnb9p_1","code-panel__input-field":"_code-panel__input-field_nnb9p_1","is-open":"_is-open_nnb9p_61"}},function(t,e,n){var r=n(166);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(166,function(){var e=n(166);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"._curve-editor_1f8r5_4{position:fixed;left:0;top:0;width:403px;height:378px;border-radius:12px;background:rgba(58,8,58,.85);z-index:100;box-shadow:2px 2px 2px rgba(0,0,0,.38)}._curve-editor__left_1f8r5_1{position:absolute;width:42px;left:0;top:0;bottom:0;padding:10px;cursor:move}._curve-editor__left_1f8r5_1 [data-component=icon-divider]{margin:10px auto}._curve-editor__right_1f8r5_1{position:absolute;left:43px;top:0;right:0;bottom:0}._curve-editor__resize-handle_1f8r5_1{position:absolute}._curve-editor__resize-handle_1f8r5_1[data-type=top]{top:-16px}._curve-editor__resize-handle_1f8r5_1[data-type=bottom]{bottom:0}._curve-editor__resize-handle_1f8r5_1[data-type=bottom],._curve-editor__resize-handle_1f8r5_1[data-type=top]{left:50%;margin-left:-21px}._curve-editor__resize-handle_1f8r5_1[data-type=right]{right:-16px;top:50%;margin-top:-16px}._curve-editor__anchor-buttons_1f8r5_1{margin-top:10px}._curve-editor__anchor-buttons_1f8r5_1 [data-component=icon-button]{margin-bottom:5px}._curve-editor__mojs-logo_1f8r5_1{position:absolute;bottom:17px;left:50%;margin-left:1px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}._curve-editor__mojs-logo_1f8r5_1 [data-component=icon]{fill:#ff512f;width:12px;height:12px}",""])},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(168),a=r(i),s=(0,o.createStore)(a["default"]);e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(6),s=n(110),u=r(s),c=n(169),l=r(c),f=n(171),p=r(f),d=n(185),h=r(d),v=n(186),g=r(v),y={limit:10,filter:function(t,e,n){return t.isRecord},debug:!1},_=(0,a.combineReducers)({resize:l["default"],points:(0,u["default"])(p["default"],(0,i["default"])({},y)),controls:h["default"],pointControls:(0,u["default"])(g["default"],(0,i["default"])({},y))});e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(170),i=r(o),a=n(118),s=r(a),u=n(107),c=r(u),l={x:150,tempX:0,y:100,tempY:0,top:0,temp_top:0,right:0,temp_right:0,bottom:0,temp_bottom:0,scalerX:c["default"].CURVE_PERCENT},f=function(){var t=arguments.length<=0||void 0===arguments[0]?l:arguments[0],e=arguments[1];switch(e.type){case"EDITOR_RESIZE":var n=e.data,r=n.type,o="top"===r||"bottom"===r?n.y:n.x,a=(0,s["default"])({},t,(0,i["default"])({},"temp_"+r,o));return"right"===r&&(a.scalerX=(c["default"].CURVE_SIZE+Math.max(t.right+o,0))/100),a;case"EDITOR_RESIZE_END":var u,f=e.data,p=f.type,d="top"===p||"bottom"===p?f.y:f.x,h=t[""+e.data.type]+d,v="top"===p?"min":"max",g=(0,s["default"])({},t,(u={},(0,i["default"])(u,""+e.data.type,Math[v](0,h)),(0,i["default"])(u,"temp_"+e.data.type,0),u));return g;case"EDITOR_TRANSLATE":var y=e.data,_=y.x,m=y.y;return(0,s["default"])({},t,{tempX:_,tempY:m});case"EDITOR_TRANSLATE_END":var b=e.data,x=b.x,w=b.y;return x+=t.x,w+=t.y,(0,s["default"])({},t,{x:x,y:w,tempX:0,tempY:0})}return t};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(49),i=r(o);e["default"]=function(t,e,n){return e in t?(0,i["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(172),i=r(o),a=n(118),s=r(a),u=n(182),c=r(u),l=n(107),f=(r(l),n(183)),p=r(f),d=n(190),h=r(d),v={path:"",segments:[],points:[]},g=function(t){for(var e=(0,s["default"])({},t,{points:[]}),n=t.points,r=0;r<n.length;r++)e.points.push((0,s["default"])({},n[r],{isSelected:!1}));return e},y=function(t){for(var e=[],n=0;n<t.length;n++)t[n].isSelected&&e.push(n);return e},_=function(){var t=arguments.length<=0||void 0===arguments[0]?v:arguments[0],e=arguments[1];switch(e.type){case"POINT_TRANSLATE":var n=e.data,r=n.index,o=t.points,a=o[r],u=[].concat((0,i["default"])(o));return u[n.index]=(0,s["default"])({},a,{tempX:n.x,tempY:n.y}),(0,s["default"])({points:u},(0,h["default"])(u));case"POINT_TRANSLATE_END":var l=e.data,f=t.points,d=f[l],_=[].concat((0,i["default"])(f));return _[l]=(0,s["default"])({},d,{x:d.x+d.tempX,y:d.y+d.tempY,tempX:0,tempY:0}),(0,s["default"])({points:_},(0,h["default"])(_));case"POINT_SELECT":var m=e.data,b=m.index,x=m.isDeselect,w=x?g(t):(0,s["default"])({},t),I=w.points,M=I[b];return M.isSelected=!0,(0,s["default"])({},t,{points:I});case"POINT_ADD":var T=e.data,C=T.index,j=T.point,A=g(t),E=[].concat((0,i["default"])(A.points.slice(0,C)),[(0,c["default"])((0,s["default"])({},j))],(0,i["default"])(A.points.slice(C))),O=E.length>1?(0,p["default"])(E):E,P=O.length>1?(0,h["default"])(O):{};return(0,s["default"])({points:O},P);case"POINT_DELETE":for(var S=t.points,D=y(S),N=[],k=0;k<S.length;k++){var L=S[k];(D.indexOf(k)===-1||L.isLockedX)&&N.push(L)}return(0,s["default"])({points:N},(0,h["default"])(N));case"POINT_CHANGE_TYPE":for(var R=t.points,z=y(R),U=[],k=0;k<R.length;k++){var B=R[k],F=e.data;U.push((0,s["default"])({},B)),z.indexOf(k)!==-1&&(U[k].type=F);var G=k,Y=U[G],X=(G===U.length-1?U[G-1]:U[G+1],G===U.length-1?1:2),H=1===X?2:1,Z="handle"+X,W="handle"+H,V=(0,s["default"])({},Y[Z]),Q=(0,s["default"])({},Y[W]);Y[Z]=V,Y[W]=Q,"mirrored"!==F&&"asymmetric"!==F||(Q.angle=V.angle-180,"mirrored"===F&&(Q.radius=V.radius))}return(0,s["default"])({points:U},(0,h["default"])(U));case"POINT_DESELECT_ALL":return(0,s["default"])({},g(t));case"HANDLE_TRANSLATE":var J=t.points,q=e.data,K=[].concat((0,i["default"])(J)),$=(0,s["default"])({},K[q.parentIndex]);K[q.parentIndex]=$;var tt="handle"+q.index,et=(0,s["default"])({},$[tt]);return $[tt]=et,et.angle=q.angle,et.radius=q.radius,(0,s["default"])({points:K},(0,h["default"])(K))}return t};e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(173),i=r(o);e["default"]=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,i["default"])(t)}},function(t,e,n){t.exports={"default":n(174),__esModule:!0}},function(t,e,n){n(56),n(175),t.exports=n(34).Array.from},function(t,e,n){"use strict";var r=n(35),o=n(33),i=n(24),a=n(176),s=n(177),u=n(72),c=n(178),l=n(179);o(o.S+o.F*!n(181)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=0,_=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==_||d==Array&&s(_))for(e=u(p.length),n=new d(e);e>y;y++)c(n,y,g?v(p[y],y):p[y]);else for(f=_.call(p),n=new d;!(o=f.next()).done;y++)c(n,y,g?a(f,v,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(39);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){var r=n(62),o=n(77)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(38),o=n(46);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(180),o=n(77)("iterator"),i=n(62);t.exports=n(34).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(70),o=n(77)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(77)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=function(t,e){return null!=t?t:e},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{index:a(t.index,0),angle:a(t.angle,null),radius:a(t.radius,null),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},u=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{x:a(t.x,0),y:a(t.y,0),tempX:a(t.tempX,0),tempY:a(t.tempY,0),isTouched:a(t.isTouched,!1),isSelected:a(t.isSelected,!1)}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i["default"])({isLockedX:a(t.isLockedX,!1),isLockedY:a(t.isLockedY,!1),type:a(t.type,"straight")},u(t),{handle1:s(t.handle1||{index:1}),handle2:s(t.handle2||{index:2})})};e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(184),i=r(o);e["default"]=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=n===t.length-1?t[n-1]:t[n+1],a=n===t.length-1?1:2;e.push((0,i["default"])(r,o,a))}return e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(107),s=r(a);e["default"]=function(t,e,n){t=(0,i["default"])({},t);var r="handle"+n,o=1===n?2:1,a="handle"+o,u=(0,i["default"])({},t[r]),c=(0,i["default"])({},t[a]);t.type;if(t[r]=u,t[a]=c,null==u.angle||null==u.radius){u.radius=50;var l=(e.y-t.y)/s["default"].CURVE_PERCENT,f=e.x-t.x,p=Math.atan(l/f)*(180/Math.PI)-90;f>0&&(p-=180),u.angle=p,c.radius=u.radius,c.angle=u.angle-180}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a=n(190),s=(r(a),{isCode:!1}),u=function(){var t=arguments.length<=0||void 0===arguments[0]?s:arguments[0],e=arguments[1];switch(e.type){case"CODE_TAP":return(0,i["default"])({},t,{isCode:!t.isCode})}return t};e["default"]=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(118),i=r(o),a={isShow:!1,type:"straight"},s=function(){var t=arguments.length<=0||void 0===arguments[0]?a:arguments[0],e=arguments[1];switch(e.type){case"POINT_SELECT":var n=e.data.type;return(0,i["default"])({},t,{isShow:!e.isDeselect,type:n});case"POINT_CHANGE_TYPE":return(0,i["default"])({},t,{type:e.data});case"POINT_DESELECT_ALL":return(0,i["default"])({},t,{isShow:!1})}return t};e["default"]=s},function(t,e,n){var r=n(188);"string"==typeof r&&(r=[[t.id,r,""]]);var o=n(127)(r,{});r.locals&&(t.exports=r.locals),r.locals||t.hot.accept(188,function(){var e=n(188);"string"==typeof e&&(e=[[t.id,e,""]]),o(e)}),t.hot.dispose(function(){o()})},function(t,e,n){e=t.exports=n(126)(),e.push([t.id,"body,html{margin:0;padding:0;background:#fff5e4}*{box-sizing:border-box}",""])},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(191),i=r(o);e["default"]=function(t){for(var e="",n=[],r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=(0,i["default"])(o,a,r);n.push(s),e+=s.string}return{path:e,segments:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),i=r(o),a=n(192),s=r(a);e["default"]=function(t,e,n){if(!e)return 1;var r="",o="",a=t.x+t.tempX,u=t.y+t.tempY,c=e.x+e.tempX,l=e.y+e.tempY,f="M"+a+", "+u/i["default"].CURVE_PERCENT+" ";0===n&&(r+=f),o+=f;var p=(0,s["default"])(t,2);r+=p,o+=p;var d=(0,s["default"])(e,1);r+=d,o+=d;var h=c+", "+l/i["default"].CURVE_PERCENT+" ";return r+=h,o+=h,{string:r,segmentString:o,index:n}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(114),i=r(o),a=n(107),s=r(a);e["default"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=t.x+t.tempX,r=t.y+t.tempY,o=t["handle"+e],a=2===e?"C":"";if("straight"!==t.type){var u=(0,i["default"])(o.angle,o.radius);return""+a+(n+u.x/s["default"].CURVE_PERCENT)+", "+(r+u.y)/s["default"].CURVE_PERCENT+" "}return""+a+n+", "+r/s["default"].CURVE_PERCENT+" "}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9tb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDk4MGFmZjBhODFiOTQwZjliMTBhIiwid2VicGFjazovLy8uL2FwcC9qcy9hcHAuYmFiZWwuanN4Iiwid2VicGFjazovLy8uLi9zcmMvY29tcGF0LmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy93YXJuaW5nLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL1Byb3ZpZGVyLmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zaGFsbG93RXF1YWwuanMiLCJ3ZWJwYWNrOi8vLy4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9jb25uZWN0LmpzIiwid2VicGFjazovLy8uLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zdG9yZVNoYXBlLmpzIiwid2VicGFjazovLy8uLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4uL34vbG9kYXNoL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL34vaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL34vaW52YXJpYW50L2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvaC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvY2xvbmUtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2RpZmYuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3Zkb20vY29tcG9uZW50LXJlY3ljbGVyLmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL34vcHJlYWN0L3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcmVhY3Qvc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19vdmVyQXJnLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoL19pc0hvc3RPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9jb21iaW5lUmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvdXRpbHMvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwid2VicGFjazovLy8uL34vcmVkdXgvbGliL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3R4LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9jb25zdGFudHMuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9wYWdhdGluZy1oYW1tZXJqcy9wcm9wYWdhdGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JlZHV4LXVuZG8vbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3Jlc2l6ZS1tb2QuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLXJpZ2h0LmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL2FkZC1wb2ludGVyLWRvd24uYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvbGl0dGxlLWhhbmRsZS5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9oZWxwZXJzL3BvaW50LXRvLWFuZ2xlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3M/MjcwNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9yb3VuZC10by5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC5wb3N0Y3NzLmNzcz9lZGM5Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUucG9zdGNzcy5jc3M/NWE1ZCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24uYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzP2JiYzEiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcz8xNjlhIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvY3VydmUtZWRpdG9yLWxlZnQuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtYnV0dG9uLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvanMvdGFncy9pY29uLWJ1dHRvbi5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3M/MzZjZSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzcy5qc29uIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2ljb24tZGl2aWRlci5iYWJlbC5qc3giLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzP2IxYjAiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL3BvaW50LWNvbnRyb2xzLmJhYmVsLmpzeCIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzcz9jN2Q4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzLmpzb24iLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3RhZ3MvaWNvbnMuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9qcy90YWdzL2NvZGUtcGFuZWwuYmFiZWwuanN4Iiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3M/YjRmNSIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzIiwid2VicGFjazovLy8uL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvbiIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3M/ZTgzYyIsIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL3N0b3JlLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9pbmRleC1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvcmVkdWNlcnMvcG9pbnRzLXJlZHVjZXIuYmFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50cy5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9pbml0LXBvaW50LmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9qcy9yZWR1Y2Vycy9wb2ludC1jb250cm9scy1yZWR1Y2VyLmJhYmVsLmpzIiwid2VicGFjazovLy8uL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzcz85YWRkIiwid2VicGFjazovLy8uL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcGF0aC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtc2VnbWVudC5iYWJlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcG9pbnQuYmFiZWwuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIm1vZHVsZXMiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiY2h1bmtJZCIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGFyc2V0Iiwic3JjIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInAiLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJjYWxsYmFjayIsIlhNTEh0dHBSZXF1ZXN0IiwiRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJob3RDdXJyZW50SGFzaCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsImVyciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJlIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1vZHVsZUlkIiwiZW5zdXJlIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImZpbmlzaENodW5rTG9hZGluZyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImNhbGwiLCJmbiIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiaG90Q3VycmVudFBhcmVudHMiLCJjb25zb2xlIiwid2FybiIsIm5hbWUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbkRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJhY2NlcHQiLCJkZXAiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsIm5ld1N0YXR1cyIsInRvTW9kdWxlSWQiLCJpZCIsImlzTnVtYmVyIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwiaG90QXZhaWxpYmxlRmlsZXNNYXAiLCJjIiwiaG90VXBkYXRlTmV3SGFzaCIsImgiLCJob3RDYWxsYmFjayIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsInBvcCIsInBhcmVudElkIiwicGFyZW50IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwicmVzdWx0IiwiaWdub3JlVW5hY2NlcHRlZCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImRpc3Bvc2VIYW5kbGVycyIsImoiLCJjYiIsImNoaWxkIiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5IiwiZXJyb3IiLCJjYWxsYmFja3MiLCJsb2FkZWQiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIngiLCJtIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3ByZWFjdFJlZHV4IiwiX3ByZWFjdCIsIl9jdXJ2ZUVkaXRvciIsIl9jdXJ2ZUVkaXRvcjIiLCJfc3RvcmUiLCJfc3RvcmUyIiwiX2NvbnN0YW50cyIsIl9jb25zdGFudHMyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbmRlciIsIlByb3ZpZGVyIiwic3RvcmUiLCJib2R5IiwiZGlzcGF0Y2giLCJwb2ludCIsInkiLCJDVVJWRV9TSVpFIiwiaXNMb2NrZWRYIiwiaW5kZXgiLCJnbG9iYWwiLCJwcmVhY3QiLCJyZWR1eCIsIl9fY29tbW9uanMiLCJwcm9wdHlwZSIsIndhcm5pbmciLCJtZXNzYWdlIiwid2FybkFib3V0UmVjZWl2aW5nU3RvcmUiLCJkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSIsInNoYWxsb3dFcXVhbCIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzIiwia2V5c0IiLCJoYXNPd24iLCJ3cmFwQWN0aW9uQ3JlYXRvcnMiLCJhY3Rpb25DcmVhdG9ycyIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImdldERpc3BsYXlOYW1lIiwiV3JhcHBlZENvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwidHJ5Q2F0Y2giLCJjdHgiLCJlcnJvck9iamVjdCIsImNvbm5lY3QiLCJtYXBTdGF0ZVRvUHJvcHMiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJtZXJnZVByb3BzIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwic2hvdWxkU3Vic2NyaWJlIiwiQm9vbGVhbiIsIm1hcFN0YXRlIiwiZGVmYXVsdE1hcFN0YXRlVG9Qcm9wcyIsIm1hcERpc3BhdGNoIiwiZGVmYXVsdE1hcERpc3BhdGNoVG9Qcm9wcyIsImZpbmFsTWVyZ2VQcm9wcyIsImRlZmF1bHRNZXJnZVByb3BzIiwiX29wdGlvbnMkcHVyZSIsInB1cmUiLCJfb3B0aW9ucyR3aXRoUmVmIiwid2l0aFJlZiIsImNoZWNrTWVyZ2VkRXF1YWxzIiwidmVyc2lvbiIsIm5leHRWZXJzaW9uIiwiY2hlY2tTdGF0ZVNoYXBlIiwicHJvcHMiLCJtZXRob2ROYW1lIiwiaXNQbGFpbk9iamVjdCIsImNvbm5lY3REaXNwbGF5TmFtZSIsImNvbXB1dGVNZXJnZWRQcm9wcyIsInN0YXRlUHJvcHMiLCJkaXNwYXRjaFByb3BzIiwicGFyZW50UHJvcHMiLCJtZXJnZWRQcm9wcyIsIkNvbm5lY3QiLCJfQ29tcG9uZW50IiwiY29udGV4dCIsImJhYmVsSGVscGVycyIsImNsYXNzQ2FsbENoZWNrIiwiX3RoaXMiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiaW52YXJpYW50JDEiLCJzdG9yZVN0YXRlIiwiZ2V0U3RhdGUiLCJzdGF0ZSIsImNsZWFyQ2FjaGUiLCJpbmhlcml0cyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImhhdmVPd25Qcm9wc0NoYW5nZWQiLCJoYXNTdG9yZVN0YXRlQ2hhbmdlZCIsImNvbXB1dGVTdGF0ZVByb3BzIiwiZmluYWxNYXBTdGF0ZVRvUHJvcHMiLCJjb25maWd1cmVGaW5hbE1hcFN0YXRlIiwiZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyIsIm1hcHBlZFN0YXRlIiwiaXNGYWN0b3J5IiwiY29tcHV0ZURpc3BhdGNoUHJvcHMiLCJmaW5hbE1hcERpc3BhdGNoVG9Qcm9wcyIsImNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2giLCJkb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzIiwibWFwcGVkRGlzcGF0Y2giLCJ1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQiLCJuZXh0U3RhdGVQcm9wcyIsInVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCIsIm5leHREaXNwYXRjaFByb3BzIiwidXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCIsIm5leHRNZXJnZWRQcm9wcyIsImlzU3Vic2NyaWJlZCIsInVuc3Vic2NyaWJlIiwidHJ5U3Vic2NyaWJlIiwic3Vic2NyaWJlIiwiaGFuZGxlQ2hhbmdlIiwiYmluZCIsInRyeVVuc3Vic2NyaWJlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkIiwic3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IiLCJyZW5kZXJlZEVsZW1lbnQiLCJwcmV2U3RvcmVTdGF0ZSIsImhhdmVTdGF0ZVByb3BzQ2hhbmdlZCIsInNldFN0YXRlIiwiZ2V0V3JhcHBlZEluc3RhbmNlIiwicmVmcyIsIndyYXBwZWRJbnN0YW5jZSIsInNob3VsZFVwZGF0ZVN0YXRlUHJvcHMiLCJzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzIiwiaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIiwiaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCIsInJlZiIsIkNvbXBvbmVudCIsImNvbnRleHRUeXBlcyIsInN0b3JlU2hhcGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiaG9pc3RTdGF0aWNzIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImFzc2lnbiIsInRhcmdldCIsInNvdXJjZSIsImtleSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIkNoaWxkcmVuIiwib25seSIsImlzUmVxdWlyZWQiLCJQcm9wVHlwZXMiLCJlbGVtZW50IiwiZnVuYyIsInNoYXBlIiwiZ2V0Q2hpbGRDb250ZXh0IiwibmV4dFN0b3JlIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJpc09iamVjdExpa2UiLCJyZXF1aXJlJCQwIiwiX2lzSG9zdE9iamVjdCIsImlzSG9zdE9iamVjdCIsInRvU3RyaW5nIiwicmVxdWlyZSQkMSIsIl9nZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGUiLCJuYXRpdmVHZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInJlcXVpcmUkJDIiLCJvYmplY3RUb1N0cmluZyIsIm9iamVjdFRhZyIsInByb3RvIiwiQ3RvciIsImZ1bmNUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvYmplY3RQcm90byIsIkZ1bmN0aW9uIiwiaXNQbGFpbk9iamVjdCQxIiwiUkVBQ1RfU1RBVElDUyIsImRlZmF1bHRQcm9wcyIsImdldERlZmF1bHRQcm9wcyIsIm1peGlucyIsInByb3BUeXBlcyIsIktOT1dOX1NUQVRJQ1MiLCJjYWxsZXIiLCJhcml0eSIsInRhcmdldENvbXBvbmVudCIsInNvdXJjZUNvbXBvbmVudCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpbnZhcmlhbnQiLCJOT0RFX0VOViIsImNvbmRpdGlvbiIsImZvcm1hdCIsImQiLCJmIiwiYXJncyIsImFyZ0luZGV4IiwicmVwbGFjZSIsImZyYW1lc1RvUG9wIiwic2V0SW1tZWRpYXRlIiwiVk5vZGUiLCJub2RlTmFtZSIsImF0dHJpYnV0ZXMiLCJleHRlbmQiLCJjbG9uZSIsImRlbHZlIiwic3BsaXQiLCJ0b0FycmF5Iiwib2Zmc2V0IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiZW1wdHkiLCJmYWxzZXkiLCJoYXNoVG9DbGFzc05hbWUiLCJzdHIiLCJwcm9wIiwiZmlyc3RDaGlsZCIsImFyciIsImxhc3RTaW1wbGUiLCJsZW4iLCJTdHJpbmciLCJfcCIsImpvaW4iLCJTSEFSRURfVEVNUF9BUlJBWSIsInNpbXBsZSIsImNsYXNzTmFtZSIsInZub2RlIiwiY2xvbmVFbGVtZW50IiwiY3JlYXRlTGlua2VkU3RhdGUiLCJjb21wb25lbnQiLCJldmVudFBhdGgiLCJwYXRoIiwicDAiLCJfY29tcG9uZW50JHNldFN0YXRlIiwidiIsInQiLCJjdXJyZW50VGFyZ2V0IiwicyIsIl9jb21wb25lbnQiLCJtYXRjaCIsImNoZWNrZWQiLCJlbnF1ZXVlUmVuZGVyIiwiaXRlbXMiLCJyZXJlbmRlciIsImN1cnJlbnRJdGVtcyIsIml0ZW1zT2ZmbGluZSIsImlzRnVuY3Rpb25hbENvbXBvbmVudCIsImJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCIsImdldE5vZGVQcm9wcyIsIkVNUFRZIiwiZW5zdXJlTm9kZURhdGEiLCJub2RlIiwiQVRUUl9LRVkiLCJnZXROb2RlVHlwZSIsIlRleHQiLCJFbGVtZW50IiwicmVtb3ZlTm9kZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNldEFjY2Vzc29yIiwib2xkIiwiaXNTdmciLCJzdHlsZSIsImNzc1RleHQiLCJOT05fRElNRU5TSU9OX1BST1BTIiwiaW5uZXJIVE1MIiwiX19odG1sIiwiX2xpc3RlbmVycyIsInRvTG93ZXJDYXNlIiwic3Vic3RyaW5nIiwiZXZlbnRQcm94eSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRQcm9wZXJ0eSIsInJlbW92ZUF0dHJpYnV0ZSIsIm5zIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZSIsImV2ZW50IiwiZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMiLCJhdHRycyIsImlzU2FtZU5vZGVUeXBlIiwiaXNOYW1lZE5vZGUiLCJfY29tcG9uZW50Q29uc3RydWN0b3IiLCJub3JtYWxpemVkTm9kZU5hbWUiLCJjb2xsZWN0Tm9kZSIsImNsZWFuTm9kZSIsImxpc3QiLCJub2RlcyIsImNyZWF0ZU5vZGUiLCJjcmVhdGVFbGVtZW50TlMiLCJmbHVzaE1vdW50cyIsIm1vdW50cyIsImRpZmYiLCJkb20iLCJtb3VudEFsbCIsImRpZmZMZXZlbCIsInJldCIsImlkaWZmIiwib3JpZ2luYWxBdHRyaWJ1dGVzIiwibm9kZVZhbHVlIiwiY3JlYXRlVGV4dE5vZGUiLCJzdmdNb2RlIiwib3V0IiwiaXNTdmdNb2RlIiwicmVjb2xsZWN0Tm9kZVRyZWUiLCJjaGlsZE5vZGVzIiwiaW5uZXJEaWZmTm9kZSIsImRpZmZBdHRyaWJ1dGVzIiwidmNoaWxkcmVuIiwidmNoaWxkIiwia2V5ZWQiLCJvcmlnaW5hbENoaWxkcmVuIiwiY2hpbGRyZW5MZW4iLCJ2bGVuIiwiX2NoaWxkIiwiX19rZXkiLCJrZXllZExlbiIsIm1pbiIsImluc2VydEJlZm9yZSIsInJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4iLCJ1bm1vdW50T25seSIsIl9uYW1lIiwiX25hbWUyIiwiY29sbGVjdENvbXBvbmVudCIsImNvbXBvbmVudHMiLCJjcmVhdGVDb21wb25lbnQiLCJpbnN0IiwibmV4dEJhc2UiLCJ0cmlnZ2VyQ29tcG9uZW50UmVuZGVyIiwiX2RpcnR5Iiwic2V0Q29tcG9uZW50UHJvcHMiLCJvcHRzIiwiYmFzZSIsIl9kaXNhYmxlUmVuZGVyaW5nIiwiX19yZWYiLCJjb21wb25lbnRXaWxsTW91bnQiLCJwcmV2Q29udGV4dCIsInByZXZQcm9wcyIsInN5bmNDb21wb25lbnRVcGRhdGVzIiwicmVuZGVyQ29tcG9uZW50Iiwic2tpcCIsInJlbmRlcmVkIiwicHJldmlvdXNTdGF0ZSIsInByZXZTdGF0ZSIsInByZXZpb3VzQ29udGV4dCIsImlzVXBkYXRlIiwiaW5pdGlhbEJhc2UiLCJuZXh0U2libGluZyIsImJhc2VQYXJlbnQiLCJpbml0aWFsQ29tcG9uZW50IiwiaW5pdGlhbENoaWxkQ29tcG9uZW50IiwicHJldmlvdXNQcm9wcyIsInRvVW5tb3VudCIsImNoaWxkQ29tcG9uZW50IiwiY2hpbGRQcm9wcyIsIl9wYXJlbnRDb21wb25lbnQiLCJjYmFzZSIsInVubW91bnRDb21wb25lbnQiLCJjb21wb25lbnRSZWYiLCJ1bnNoaWZ0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX3JlbmRlckNhbGxiYWNrcyIsImJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlIiwib2xkRG9tIiwiaXNEaXJlY3RPd25lciIsImlzT3duZXIiLCJyZW1vdmUiLCJpbm5lciIsImNvbXBvbmVudERpZFVubW91bnQiLCJfbGlua2VkU3RhdGVzIiwiZ2V0SW5pdGlhbFN0YXRlIiwibWVyZ2UiLCJsY0NhY2hlIiwicmVzb2x2ZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJzZXRUaW1lb3V0IiwiU3ltYm9sIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImNvbHVtbkNvdW50IiwiZmlsbE9wYWNpdHkiLCJmbGV4IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwic3Ryb2tlT3BhY2l0eSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJsaW5rU3RhdGUiLCJjYWNoZUtleSIsImZvcmNlVXBkYXRlIiwiY2xlYXJJbW1lZGlhdGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwibmV4dFRpY2siLCJBcnJheSIsImltbWVkaWF0ZUlkcyIsIm5leHRJbW1lZGlhdGVJZCIsIndpbmRvdyIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJfb25UaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJjb25jYXQiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsImNhY2hlZFNldFRpbWVvdXQiLCJydW4iLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJpc0NydXNoZWQiLCJjb21wb3NlIiwiYXBwbHlNaWRkbGV3YXJlIiwiY29tYmluZVJlZHVjZXJzIiwiY3JlYXRlU3RvcmUiLCJfY3JlYXRlU3RvcmUiLCJfY3JlYXRlU3RvcmUyIiwiX2NvbWJpbmVSZWR1Y2VycyIsIl9jb21iaW5lUmVkdWNlcnMyIiwiX2JpbmRBY3Rpb25DcmVhdG9ycyIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMyIiwiX2FwcGx5TWlkZGxld2FyZSIsIl9hcHBseU1pZGRsZXdhcmUyIiwiX2NvbXBvc2UiLCJfY29tcG9zZTIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsInJlZHVjZXIiLCJpbml0aWFsU3RhdGUiLCJlbmhhbmNlciIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiY3VycmVudExpc3RlbmVycyIsImN1cnJlbnRTdGF0ZSIsImxpc3RlbmVyIiwiYWN0aW9uIiwiX2lzUGxhaW5PYmplY3QyIiwiaXNEaXNwYXRjaGluZyIsImN1cnJlbnRSZWR1Y2VyIiwibGlzdGVuZXJzIiwicmVwbGFjZVJlZHVjZXIiLCJuZXh0UmVkdWNlciIsIkFjdGlvblR5cGVzIiwiSU5JVCIsIm9ic2VydmFibGUiLCJfcmVmIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlciIsIm9ic2VydmVTdGF0ZSIsIm5leHQiLCJfc3ltYm9sT2JzZXJ2YWJsZTIiLCJfcmVmMiIsIl9pc1BsYWluT2JqZWN0IiwiX3N5bWJvbE9ic2VydmFibGUiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25UeXBlIiwiYWN0aW9uTmFtZSIsImdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UiLCJpbnB1dFN0YXRlIiwicmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImFyZ3VtZW50TmFtZSIsInVuZXhwZWN0ZWRLZXlzIiwiZmlsdGVyIiwiYXNzZXJ0UmVkdWNlclNhbml0eSIsImZvckVhY2giLCJNYXRoIiwicmFuZG9tIiwiZmluYWxSZWR1Y2VycyIsInNhbml0eUVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsIndhcm5pbmdNZXNzYWdlIiwiaGFzQ2hhbmdlZCIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGVGb3JLZXkiLCJuZXh0U3RhdGVGb3JLZXkiLCJlcnJvck1lc3NhZ2UiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJib3VuZEFjdGlvbkNyZWF0b3JzIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsIl9kaXNwYXRjaCIsImNoYWluIiwibWlkZGxld2FyZUFQSSIsIm1hcCIsIm1pZGRsZXdhcmUiLCJfZXh0ZW5kcyIsImZ1bmNzIiwiX3JldCIsImxhc3QiLCJyZXN0IiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIl9nZXRQcm90b3R5cGVPZiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfaGFtbWVyanMiLCJfaGFtbWVyanMyIiwiX3Byb3BhZ2F0aW5nSGFtbWVyanMiLCJfcHJvcGFnYXRpbmdIYW1tZXJqczIiLCJfcmVkdXhVbmRvIiwiX3Jlc2l6ZU1vZCIsIl9yZXNpemVNb2QyIiwiX2N1cnZlRWRpdG9yUmlnaHQiLCJfY3VydmVFZGl0b3JSaWdodDIiLCJfY3VydmVFZGl0b3JMZWZ0IiwiX2N1cnZlRWRpdG9yTGVmdDIiLCJfaWNvbnMiLCJfaWNvbnMyIiwiX2NvZGVQYW5lbCIsIl9jb2RlUGFuZWwyIiwiQ3VydmVFZGl0b3IiLCJDTEFTU0VTIiwiX2dldFN0eWxlIiwiWF9TSVpFIiwiWV9TSVpFIiwiQ1VSVkVfUEFERElORyIsInJlc2l6ZSIsInRlbXBfdG9wIiwidGVtcF9ib3R0b20iLCJ0ZW1wX3JpZ2h0IiwidHJhbnNsYXRlIiwidG9wIiwiYm90dG9tIiwicmlnaHQiLCJoZWlnaHQiLCJ3aWR0aCIsInRlbXBYIiwidGVtcFkiLCJtb2pzIiwicHJlZml4IiwiY3NzIiwiZWwiLCJxdWVyeVNlbGVjdG9yIiwibWMiLCJNYW5hZ2VyIiwiYWRkIiwiUGFuIiwidGhyZXNob2xkIiwiZGVsdGFYIiwiZGVsdGFZIiwiX2FkZEtleVVwIiwiX29uS2V5VXAiLCJhbHRLZXkiLCJ3aGljaCIsIkFjdGlvbkNyZWF0b3JzIiwidW5kbyIsInJlZG8iLCJ0b09iamVjdCIsIiRnZXRQcm90b3R5cGVPZiIsIml0IiwiZGVmaW5lZCIsImhhcyIsIklFX1BST1RPIiwiT2JqZWN0UHJvdG8iLCJPIiwic2hhcmVkIiwidWlkIiwiU0hBUkVEIiwiX19nIiwicHgiLCIkZXhwb3J0IiwiY29yZSIsImZhaWxzIiwiS0VZIiwiZXhlYyIsImV4cCIsIlMiLCJGIiwiaGlkZSIsIlBST1RPVFlQRSIsIm93biIsIklTX0ZPUkNFRCIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJJU19QUk9UTyIsIlAiLCJJU19CSU5EIiwiQiIsIklTX1dSQVAiLCJXIiwiZXhwUHJvdG8iLCJDIiwidmlydHVhbCIsIlIiLCJVIiwiX19lIiwiYUZ1bmN0aW9uIiwidGhhdCIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImFuT2JqZWN0IiwiSUU4X0RPTV9ERUZJTkUiLCJ0b1ByaW1pdGl2ZSIsIkF0dHJpYnV0ZXMiLCJpc09iamVjdCIsImlzIiwidmFsIiwidmFsdWVPZiIsImJpdG1hcCIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIiRPYmplY3QiLCJkZXNjIiwiX3R5cGVvZjIiLCJfdHlwZW9mMyIsIl9pdGVyYXRvciIsIl9pdGVyYXRvcjIiLCJfc3ltYm9sIiwiX3N5bWJvbDIiLCJfdHlwZW9mIiwiJGF0IiwiaXRlcmF0ZWQiLCJfdCIsIl9pIiwiZG9uZSIsInRvSW50ZWdlciIsIlRPX1NUUklORyIsInBvcyIsImNoYXJDb2RlQXQiLCJjaGFyQXQiLCJjZWlsIiwiZmxvb3IiLCJpc05hTiIsIkxJQlJBUlkiLCJyZWRlZmluZSIsIkl0ZXJhdG9ycyIsIiRpdGVyQ3JlYXRlIiwic2V0VG9TdHJpbmdUYWciLCJJVEVSQVRPUiIsIkJVR0dZIiwiRkZfSVRFUkFUT1IiLCJLRVlTIiwiVkFMVUVTIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJUQUciLCJERUZfVkFMVUVTIiwiVkFMVUVTX0JVRyIsIiRuYXRpdmUiLCIkZGVmYXVsdCIsIiRlbnRyaWVzIiwiJGFueU5hdGl2ZSIsImVudHJpZXMiLCJ2YWx1ZXMiLCJkUHMiLCJlbnVtQnVnS2V5cyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwibHQiLCJndCIsImRpc3BsYXkiLCJjb250ZW50V2luZG93Iiwid3JpdGUiLCJQcm9wZXJ0aWVzIiwiZ2V0S2V5cyIsIiRrZXlzIiwidG9JT2JqZWN0IiwiYXJyYXlJbmRleE9mIiwibmFtZXMiLCJJT2JqZWN0IiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xlbmd0aCIsInRvSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwibWF4IiwiZG9jdW1lbnRFbGVtZW50IiwiZGVmIiwidGFnIiwic3RhdCIsIlVTRV9TWU1CT0wiLCIkZXhwb3J0cyIsIlRPX1NUUklOR19UQUciLCJjb2xsZWN0aW9ucyIsIkNvbGxlY3Rpb24iLCJhZGRUb1Vuc2NvcGFibGVzIiwic3RlcCIsIl9rIiwiQXJndW1lbnRzIiwiREVTQ1JJUFRPUlMiLCJNRVRBIiwiJGZhaWxzIiwid2tzIiwid2tzRXh0Iiwid2tzRGVmaW5lIiwia2V5T2YiLCJlbnVtS2V5cyIsImlzQXJyYXkiLCJfY3JlYXRlIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiZ09QRCIsImdPUE4iLCIkU3ltYm9sIiwiJEpTT04iLCJfc3RyaW5naWZ5Iiwic3RyaW5naWZ5IiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiaXNFbnVtIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwiRCIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJpc1N5bWJvbCIsIml0ZXJhdG9yIiwiJGRlZmluZVByb3BlcnR5IiwiJGRlZmluZVByb3BlcnRpZXMiLCIkY3JlYXRlIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJzeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJtZXRhIiwiTkVFRCIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwid2luZG93TmFtZXMiLCJnZXRXaW5kb3dOYW1lcyIsImhpZGRlbktleXMiLCJfc2V0UHJvdG90eXBlT2YiLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZTIiLCJ0ZXN0IiwiYnVnZ3kiLCJDVVJWRV9QRVJDRU5UIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJleHBvcnROYW1lIiwic2V0VGltZW91dENvbnRleHQiLCJiaW5kRm4iLCJpbnZva2VBcnJheUFyZyIsImVhY2giLCJkZXByZWNhdGUiLCJtZXRob2QiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJzdGFjayIsImxvZyIsImluaGVyaXQiLCJwcm9wZXJ0aWVzIiwiY2hpbGRQIiwiYmFzZVAiLCJfc3VwZXIiLCJib29sT3JGbiIsIlRZUEVfRlVOQ1RJT04iLCJpZlVuZGVmaW5lZCIsInZhbDEiLCJ2YWwyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0eXBlcyIsImhhbmRsZXIiLCJzcGxpdFN0ciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiaGFzUGFyZW50IiwiaW5TdHIiLCJmaW5kIiwidHJpbSIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwicHJlZml4ZWQiLCJwcm9wZXJ0eSIsImNhbWVsUHJvcCIsInRvVXBwZXJDYXNlIiwiVkVORE9SX1BSRUZJWEVTIiwidW5pcXVlSWQiLCJfdW5pcXVlSWQiLCJnZXRXaW5kb3dGb3JFbGVtZW50IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiSW5wdXQiLCJtYW5hZ2VyIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZXYiLCJlbmFibGUiLCJpbml0IiwiY3JlYXRlSW5wdXRJbnN0YW5jZSIsIlR5cGUiLCJpbnB1dENsYXNzIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0IiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwiVG91Y2hJbnB1dCIsIlNVUFBPUlRfVE9VQ0giLCJUb3VjaE1vdXNlSW5wdXQiLCJNb3VzZUlucHV0IiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsInBvaW50ZXJzIiwiY2hhbmdlZFBvaW50ZXJzTGVuIiwiY2hhbmdlZFBvaW50ZXJzIiwiaXNGaXJzdCIsIklOUFVUX1NUQVJUIiwiaXNGaW5hbCIsIklOUFVUX0VORCIsIklOUFVUX0NBTkNFTCIsInNlc3Npb24iLCJjb21wdXRlSW5wdXREYXRhIiwicmVjb2duaXplIiwicHJldklucHV0IiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwibm93IiwiZGVsdGFUaW1lIiwiYW5nbGUiLCJnZXRBbmdsZSIsImRpc3RhbmNlIiwiZ2V0RGlzdGFuY2UiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJhYnMiLCJzY2FsZSIsImdldFNjYWxlIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJvZmZzZXREZWx0YSIsInByZXZEZWx0YSIsInZlbG9jaXR5IiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwiZGlyZWN0aW9uIiwibGFzdEludGVydmFsIiwiQ09NUFVURV9JTlRFUlZBTCIsImNsaWVudFgiLCJyb3VuZCIsImNsaWVudFkiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9MRUZUIiwiRElSRUNUSU9OX1JJR0hUIiwiRElSRUNUSU9OX1VQIiwiRElSRUNUSU9OX0RPV04iLCJwMSIsInAyIiwiUFJPUFNfWFkiLCJzcXJ0IiwiYXRhbjIiLCJQSSIsInN0YXJ0IiwiZW5kIiwiUFJPUFNfQ0xJRU5UX1hZIiwiZXZFbCIsIk1PVVNFX0VMRU1FTlRfRVZFTlRTIiwiZXZXaW4iLCJNT1VTRV9XSU5ET1dfRVZFTlRTIiwicHJlc3NlZCIsIlBPSU5URVJfRUxFTUVOVF9FVkVOVFMiLCJQT0lOVEVSX1dJTkRPV19FVkVOVFMiLCJwb2ludGVyRXZlbnRzIiwiU2luZ2xlVG91Y2hJbnB1dCIsImV2VGFyZ2V0IiwiU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMiLCJTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyIsInN0YXJ0ZWQiLCJub3JtYWxpemVTaW5nbGVUb3VjaGVzIiwiYWxsIiwidG91Y2hlcyIsImNoYW5nZWQiLCJjaGFuZ2VkVG91Y2hlcyIsIlRPVUNIX1RBUkdFVF9FVkVOVFMiLCJ0YXJnZXRJZHMiLCJnZXRUb3VjaGVzIiwiYWxsVG91Y2hlcyIsIklOUFVUX01PVkUiLCJpZGVudGlmaWVyIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUYXJnZXRUb3VjaGVzIiwidG91Y2giLCJtb3VzZSIsInByaW1hcnlUb3VjaCIsImxhc3RUb3VjaGVzIiwicmVjb3JkVG91Y2hlcyIsImV2ZW50RGF0YSIsInNldExhc3RUb3VjaCIsImxhc3RUb3VjaCIsImx0cyIsInJlbW92ZUxhc3RUb3VjaCIsIkRFRFVQX1RJTUVPVVQiLCJpc1N5bnRoZXRpY0V2ZW50IiwiZHgiLCJkeSIsIkRFRFVQX0RJU1RBTkNFIiwiVG91Y2hBY3Rpb24iLCJjbGVhblRvdWNoQWN0aW9ucyIsImFjdGlvbnMiLCJUT1VDSF9BQ1RJT05fTk9ORSIsImhhc1BhblgiLCJUT1VDSF9BQ1RJT05fUEFOX1giLCJoYXNQYW5ZIiwiVE9VQ0hfQUNUSU9OX1BBTl9ZIiwiVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiIsIlRPVUNIX0FDVElPTl9BVVRPIiwiZ2V0VG91Y2hBY3Rpb25Qcm9wcyIsIk5BVElWRV9UT1VDSF9BQ1RJT04iLCJ0b3VjaE1hcCIsImNzc1N1cHBvcnRzIiwiQ1NTIiwic3VwcG9ydHMiLCJSZWNvZ25pemVyIiwiZGVmYXVsdHMiLCJTVEFURV9QT1NTSUJMRSIsInNpbXVsdGFuZW91cyIsInJlcXVpcmVGYWlsIiwic3RhdGVTdHIiLCJTVEFURV9DQU5DRUxMRUQiLCJTVEFURV9FTkRFRCIsIlNUQVRFX0NIQU5HRUQiLCJTVEFURV9CRUdBTiIsImRpcmVjdGlvblN0ciIsImdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIiLCJvdGhlclJlY29nbml6ZXIiLCJyZWNvZ25pemVyIiwiQXR0clJlY29nbml6ZXIiLCJQYW5SZWNvZ25pemVyIiwicFgiLCJwWSIsIlBpbmNoUmVjb2duaXplciIsIlByZXNzUmVjb2duaXplciIsIl90aW1lciIsIl9pbnB1dCIsIlJvdGF0ZVJlY29nbml6ZXIiLCJTd2lwZVJlY29nbml6ZXIiLCJUYXBSZWNvZ25pemVyIiwicFRpbWUiLCJwQ2VudGVyIiwiY291bnQiLCJIYW1tZXIiLCJyZWNvZ25pemVycyIsInByZXNldCIsImhhbmRsZXJzIiwib2xkQ3NzUHJvcHMiLCJ0b3VjaEFjdGlvbiIsInRvZ2dsZUNzc1Byb3BzIiwicmVjb2duaXplV2l0aCIsInJlcXVpcmVGYWlsdXJlIiwiY3NzUHJvcHMiLCJ0cmlnZ2VyRG9tRXZlbnQiLCJnZXN0dXJlRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImdlc3R1cmUiLCJkaXNwYXRjaEV2ZW50IiwiVEVTVF9FTEVNRU5UIiwiRGF0ZSIsIm91dHB1dCIsIm5leHRLZXkiLCJkZXN0IiwiTU9CSUxFX1JFR0VYIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiSU5QVVRfVFlQRV9UT1VDSCIsIklOUFVUX1RZUEVfUEVOIiwiSU5QVVRfVFlQRV9NT1VTRSIsIklOUFVUX1RZUEVfS0lORUNUIiwiRElSRUNUSU9OX0hPUklaT05UQUwiLCJESVJFQ1RJT05fVkVSVElDQUwiLCJESVJFQ1RJT05fQUxMIiwiZGVzdHJveSIsIk1PVVNFX0lOUFVUX01BUCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJidXR0b24iLCJwb2ludGVyVHlwZSIsIlBPSU5URVJfSU5QVVRfTUFQIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3V0IiwiSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSIsIjIiLCIzIiwiNCIsIjUiLCJNU1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInJlbW92ZVBvaW50ZXIiLCJldmVudFR5cGVOb3JtYWxpemVkIiwiaXNUb3VjaCIsInN0b3JlSW5kZXgiLCJwb2ludGVySWQiLCJTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiLCJUT1VDSF9JTlBVVF9NQVAiLCJpbnB1dEV2ZW50IiwiaW5wdXREYXRhIiwiaXNNb3VzZSIsInNvdXJjZUNhcGFiaWxpdGllcyIsImZpcmVzVG91Y2hFdmVudHMiLCJQUkVGSVhFRF9UT1VDSF9BQ1RJT04iLCJUT1VDSF9BQ1RJT05fQ09NUFVURSIsIlRPVUNIX0FDVElPTl9NQVAiLCJjb21wdXRlIiwiZ2V0VG91Y2hBY3Rpb24iLCJwcmV2ZW50RGVmYXVsdHMiLCJwcmV2ZW50ZWQiLCJwcmV2ZW50RGVmYXVsdCIsImhhc05vbmUiLCJpc1RhcFBvaW50ZXIiLCJpc1RhcE1vdmVtZW50IiwiaXNUYXBUb3VjaFRpbWUiLCJwcmV2ZW50U3JjIiwiU1RBVEVfUkVDT0dOSVpFRCIsIlNUQVRFX0ZBSUxFRCIsImRyb3BSZWNvZ25pemVXaXRoIiwiZHJvcFJlcXVpcmVGYWlsdXJlIiwiaGFzUmVxdWlyZUZhaWx1cmVzIiwiY2FuUmVjb2duaXplV2l0aCIsImFkZGl0aW9uYWxFdmVudCIsInRyeUVtaXQiLCJjYW5FbWl0IiwiaW5wdXREYXRhQ2xvbmUiLCJyZXNldCIsImF0dHJUZXN0Iiwib3B0aW9uUG9pbnRlcnMiLCJpc1JlY29nbml6ZWQiLCJpc1ZhbGlkIiwiZGlyZWN0aW9uVGVzdCIsImhhc01vdmVkIiwiaW5PdXQiLCJ0aW1lIiwidmFsaWRQb2ludGVycyIsInZhbGlkTW92ZW1lbnQiLCJ2YWxpZFRpbWUiLCJ0YXBzIiwiaW50ZXJ2YWwiLCJwb3NUaHJlc2hvbGQiLCJ2YWxpZFRvdWNoVGltZSIsImZhaWxUaW1lb3V0IiwidmFsaWRJbnRlcnZhbCIsInZhbGlkTXVsdGlUYXAiLCJ0YXBDb3VudCIsIlZFUlNJT04iLCJkb21FdmVudHMiLCJ1c2VyU2VsZWN0IiwidG91Y2hTZWxlY3QiLCJ0b3VjaENhbGxvdXQiLCJjb250ZW50Wm9vbWluZyIsInVzZXJEcmFnIiwidGFwSGlnaGxpZ2h0Q29sb3IiLCJTVE9QIiwiRk9SQ0VEX1NUT1AiLCJzdG9wIiwiZm9yY2UiLCJzdG9wcGVkIiwiY3VyUmVjb2duaXplciIsImV4aXN0aW5nIiwiZXZlbnRzIiwiVGFwIiwiU3dpcGUiLCJQaW5jaCIsIlJvdGF0ZSIsIlByZXNzIiwiZnJlZUdsb2JhbCIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfZmlyc3RUYXJnZXQiLCJwcm9wYWdhdGluZyIsImhhbW1lciIsInByb3BhZ2F0ZWRIYW5kbGVyIiwiX2hhbmRsZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJzcmNTdG9wIiwiZmlyc3RUYXJnZXQiLCJlbGVtIiwiZWxlbUhhbW1lciIsIl9oYW5kbGVycyIsImsiLCJfb3B0aW9ucyIsIlByb3BhZ2F0aW5nSGFtbWVyIiwibyIsIndyYXBwZXIiLCJoYW1tZXJzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsImZyb20iLCJkZWJ1ZyIsIl9fREVCVUdfXyIsIl9jb25zb2xlIiwiZ3JvdXAiLCJkZWJ1Z1N0YXJ0IiwiX2NvbnNvbGUyIiwiZ3JvdXBDb2xsYXBzZWQiLCJkZWJ1Z0VuZCIsImdyb3VwRW5kIiwiaGlzdG9yeSIsInBhc3QiLCJmdXR1cmUiLCJpbnNlcnQiLCJsaW1pdCIsImZyZWUiLCJwcmVzZW50IiwiaGlzdG9yeU92ZXJmbG93IiwianVtcFRvRnV0dXJlIiwianVtcFRvUGFzdCIsIndyYXBTdGF0ZSIsInVwZGF0ZVN0YXRlIiwiY3JlYXRlSGlzdG9yeSIsInBhcnNlQWN0aW9ucyIsInJhd0FjdGlvbnMiLCJkZWZhdWx0VmFsdWUiLCJ1bmRvYWJsZSIsInJhd0NvbmZpZyIsImNvbmZpZyIsImluaXRUeXBlcyIsInVuZG9UeXBlIiwiVU5ETyIsInJlZG9UeXBlIiwiUkVETyIsImp1bXBUb1Bhc3RUeXBlIiwiSlVNUF9UT19QQVNUIiwianVtcFRvRnV0dXJlVHlwZSIsIkpVTVBfVE9fRlVUVVJFIiwiaW5pdGlhbEhpc3RvcnkiLCJyZXMiLCJzb21lIiwidXBkYXRlZEhpc3RvcnkiLCJkaXN0aW5jdFN0YXRlIiwiaW5jbHVkZUFjdGlvbiIsImlmQWN0aW9uIiwiZXhjbHVkZUFjdGlvbiIsIm1vZCIsInRlbXBSZXNpemVfdG9wIiwiY29lZiIsIk1PRCIsIkRJViIsInBhcnNlSW50IiwiR0FQIiwiX2N1cnZlIiwiX2N1cnZlMiIsIl9yZXNpemVIYW5kbGUiLCJfcmVzaXplSGFuZGxlMiIsIkN1cnZlRWRpdG9yUmlnaHQiLCJfYW5nbGVUb1BvaW50IiwiX3BvaW50IiwiX3BvaW50MiIsIkN1cnZlIiwicG9pbnRzIiwic3R5bGVzIiwiX3JlbmRlclBvaW50cyIsInNlZ21lbnRzIiwiX3JlbmRlclNlZ21lbnRzIiwiYmFja2dyb3VuZCIsInZpZXdCb3giLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiY2xhc3MiLCJzdHJva2UiLCJzdHJva2Utb3BhY2l0eSIsInN0cm9rZS13aWR0aCIsInZlY3Rvci1lZmZlY3QiLCJmaWxsIiwiYmdUcmFuc2Zvcm0iLCJwb2ludHNEYXRhIiwicG9pbnRzQ291bnQiLCJkb21TZWdtZW50cyIsInNlZ21lbnQiLCJzZWdtZW50U3RyaW5nIiwiZGF0YS1pbmRleCIsInRhZ05hbWUiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldEF0dHJpYnV0ZSIsImlzUmVjb3JkIiwic3ZnIiwic3ZnTWMiLCJyYWRpdXMiLCJnZXRSYWRpYWxQb2ludCIsIl9hZGRQb2ludGVyRG93biIsIl9hZGRQb2ludGVyRG93bjIiLCJfbGl0dGxlSGFuZGxlIiwiX2xpdHRsZUhhbmRsZTIiLCJfcm91bmRUbyIsIl9yb3VuZFRvMiIsIl9jbGFtcCIsIl9jbGFtcDIiLCJQb2ludCIsIl9wcm9wcyIsInNlbGVjdGVkIiwiaXNTZWxlY3RlZCIsImhhbmRsZXMiLCJsaXR0bGVIYW5kbGVzIiwiX2dldExpdHRsZUhhbmRsZXMiLCJkYXRhLWNvbXBvbmVudCIsImNsZWFuWCIsInNjYWxlclgiLCJfcHJvcHMyIiwiX2NyZWF0ZUhhbmRsZSIsInBhcmVudEluZGV4IiwiaGFuZGxlIiwiX3RoaXMyIiwiZ2V0VGVtcFgiLCJfcHJvcHMzIiwiZ2V0VGVtcFkiLCJfcHJvcHM1IiwicmV0dXJuVmFsdWUiLCJfcHJvcHM2IiwiX3Byb3BzNyIsIl9wcm9wczgiLCJpc0Rlc2VsZWN0Iiwic2hpZnRLZXkiLCJtc1BvaW50ZXJFbmFibGVkIiwib250b3VjaHN0YXJ0IiwiX2V4dGVuZHMyIiwiX2V4dGVuZHMzIiwiX2FuZ2xlVG9Qb2ludDIiLCJfcG9pbnRUb0FuZ2xlIiwiX3BvaW50VG9BbmdsZTIiLCJMaXR0bGVIYW5kbGUiLCJfZ2V0UG9pbnRTdHlsZSIsIl9nZXRMaW5lU3R5bGUiLCJuZXdYIiwibmV3WSIsIl9hc3NpZ24iLCJfYXNzaWduMiIsIiRhc3NpZ24iLCJBIiwiSyIsIlQiLCJhTGVuIiwiYXRhbiIsImNvbnRlbnQiLCJsb2NhbHMiLCJuZXdDb250ZW50IiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJhZGRTdHlsZXNUb0RvbSIsImRvbVN0eWxlIiwic3R5bGVzSW5Eb20iLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJwYXJ0IiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVMaW5rRWxlbWVudCIsImxpbmtFbGVtZW50IiwicmVsIiwic2luZ2xldG9uIiwic3R5bGVJbmRleCIsInNpbmdsZXRvbkNvdW50ZXIiLCJzaW5nbGV0b25FbGVtZW50IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwic3R5bGVTaGVldCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmxvYiIsIm9sZFNyYyIsIm1lbW9pemUiLCJtZW1vIiwiaXNPbGRJRSIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlbWVudCIsImxpdHRsZS1oYW5kbGUiLCJsaXR0bGUtaGFuZGxlX19wb2ludCIsImxpdHRsZS1oYW5kbGVfX2xpbmUiLCJzbmFwIiwibW9kaWZpZWQiLCJwb2ludF9fdG91Y2giLCJpcy1zZWxlY3RlZCIsImlzLWhpZGUtaGFuZGxlcyIsImN1cnZlIiwiY3VydmVfX2JhY2tncm91bmQiLCJjdXJ2ZV9fc3ZnLXdyYXBwZXIiLCJjdXJ2ZV9fc3ZnIiwiY3VydmVfX3N2Zy1zZWdtZW50IiwiX2ljb24iLCJfaWNvbjIiLCJSZXNpemVIYW5kbGUiLCJjbGFzc1R5cGUiLCJkYXRhLXR5cGUiLCJJY29uIiwibWFya3VwIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpY29uIiwicmVzaXplLWhhbmRsZSIsInJlc2l6ZS1oYW5kbGUtLXJpZ2h0IiwicmVzaXplLWhhbmRsZS0tYm90dG9tIiwiY3VydmUtZWRpdG9yIiwiY3VydmUtZWRpdG9yX19sZWZ0IiwiY3VydmUtZWRpdG9yX19yaWdodCIsImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSIsImN1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMiLCJjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyIsIl9jb2RlQnV0dG9uIiwiX2NvZGVCdXR0b24yIiwiX2ljb25EaXZpZGVyIiwiX2ljb25EaXZpZGVyMiIsIl9wb2ludENvbnRyb2xzIiwiX3BvaW50Q29udHJvbHMyIiwiQ3VydmVFZGl0b3JMZWZ0IiwiX2ljb25CdXR0b24iLCJfaWNvbkJ1dHRvbjIiLCJDb2RlQnV0dG9uIiwiaXNDaGVjayIsImNvbnRyb2xzIiwiaXNDb2RlIiwiSWNvbkJ1dHRvbiIsIm9uVGFwIiwiaWNvbi1idXR0b24iLCJpcy1jaGVja2VkIiwiaWNvbi1kaXZpZGVyIiwiUG9pbnRDb250cm9scyIsInBvaW50Q29udHJvbHMiLCJzaG93IiwiaXNTaG93IiwiYnV0dG9ucyIsIl9hZGRCdXR0b25zIiwiYnV0dG9uc01hcCIsIl9vbkJ1dHRvblRhcCIsInBvaW50LWNvbnRyb2xzIiwiaXMtc2hvdyIsIkljb25zIiwibWFpbkNsYXNzIiwicmVhZG9ubHkiLCJjb2RlLXBhbmVsIiwiY29kZS1wYW5lbF9faW5uZXIiLCJjb2RlLXBhbmVsX19pbnB1dC13cmFwIiwiY29kZS1wYW5lbF9faW5wdXQtZmllbGQiLCJpcy1vcGVuIiwiX3JlZHV4IiwiX2luZGV4UmVkdWNlciIsIl9pbmRleFJlZHVjZXIyIiwiX3JlZHV4VW5kbzIiLCJfcmVzaXplUmVkdWNlciIsIl9yZXNpemVSZWR1Y2VyMiIsIl9wb2ludHNSZWR1Y2VyIiwiX3BvaW50c1JlZHVjZXIyIiwiX2NvbnRyb2xzUmVkdWNlciIsIl9jb250cm9sc1JlZHVjZXIyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyIiwiX3BvaW50Q29udHJvbHNSZWR1Y2VyMiIsIlVORE9BQkxFX09QVFMiLCJjdXJyU3RhdGUiLCJfZGVmaW5lUHJvcGVydHkzIiwiX2V4dGVuZHM0IiwiX2V4dGVuZHM1IiwiSU5JVElBTF9TVEFURSIsInJlc2l6ZVJlZHVjZXIiLCJkZWx0YSIsIm5ld1N0YXRlIiwiX2RhdGEiLCJfdHlwZSIsIl9kZWx0YSIsIm1hdGhNZXRob2QiLCJfbmV3U3RhdGUiLCJfYWN0aW9uJGRhdGEiLCJfYWN0aW9uJGRhdGEyIiwiX3gyIiwiX3kiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9tYWtlUG9pbnQiLCJfbWFrZVBvaW50MiIsIl9pbml0UG9pbnRzIiwiX2luaXRQb2ludHMyIiwiX2NhbGN1bGF0ZVBhdGgiLCJfY2FsY3VsYXRlUGF0aDIiLCJkZXNlbGVjdEFsbCIsImZpbmRTZWxlY3RlZEluZGVjaWVzIiwiaW5kZWNpZXMiLCJwb2ludHNSZWR1Y2VyIiwib2xkUG9pbnQiLCJuZXdQb2ludHMiLCJfaW5kZXgiLCJfcG9pbnRzIiwiX29sZFBvaW50IiwiX25ld1BvaW50cyIsIl9pbmRleDIiLCJfcG9pbnRzMiIsIl9kYXRhMiIsIl9pbmRleDMiLCJkZXNlbGVjdGVkIiwiX25ld1BvaW50czIiLCJfcG9pbnRzMyIsIl9wb2ludHM0IiwiX25ld1BvaW50czMiLCJfcG9pbnRzNSIsIl9zZWxlY3RlZCIsIl9uZXdQb2ludHM0IiwiX2l0ZW0iLCJfaW5kZXg0IiwiaGFuZGxlSW5kZXgiLCJzaWJIYW5kbGVJbmRleCIsImhhbmRsZU5hbWUiLCJzaWJIYW5kbGVOYW1lIiwic2liSGFuZGxlIiwiX3BvaW50czYiLCJfZGF0YTMiLCJfbmV3UG9pbnRzNSIsIm5ld1BvaW50IiwiX2hhbmRsZU5hbWUiLCJuZXdIYW5kbGUiLCJfZnJvbSIsIl9mcm9tMiIsImlzQXJyYXlJdGVyIiwiY3JlYXRlUHJvcGVydHkiLCJnZXRJdGVyRm4iLCJpdGVyIiwiYXJyYXlMaWtlIiwibWFwZm4iLCJtYXBwaW5nIiwiaXRlckZuIiwiQXJyYXlQcm90byIsImNsYXNzb2YiLCJnZXRJdGVyYXRvck1ldGhvZCIsIkFSRyIsInRyeUdldCIsImNhbGxlZSIsIlNBRkVfQ0xPU0lORyIsInJpdGVyIiwic2tpcENsb3NpbmciLCJzYWZlIiwiZmFsbGJhY2siLCJfZmFsbGJhY2siLCJtYWtlSGFuZGxlUG9pbnQiLCJpc1RvdWNoZWQiLCJtYWtlUG9zaXRpb25Qb2ludCIsIm1ha2VQb2ludCIsImlzTG9ja2VkWSIsImhhbmRsZTEiLCJoYW5kbGUyIiwiX2luaXRQb2ludCIsIl9pbml0UG9pbnQyIiwic2liUG9pbnQiLCJfY2FsY3VsYXRlU2VnbWVudCIsIl9jYWxjdWxhdGVTZWdtZW50MiIsIm5leHRQb2ludCIsInN0cmluZyIsIl9jYWxjdWxhdGVQb2ludCIsIl9jYWxjdWxhdGVQb2ludDIiLCJ4TmV4dCIsInlOZXh0IiwicGFydDEiLCJwYXJ0MiIsInBhcnQzIiwicGFydDQiLCJDSEFSIiwiaGFuZGxlQ29vcmRzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxn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LFlBY0EsU0FBUytILEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBWnZGakYsT0FBT0ksZUFBZW5FLEVBQVMsY0FDN0J3RSxPQUFPLEd3TnJoV1YsSUFBQWcwQyxHQUFBeDNDLEVBQUEsS3hOMGhXSys3QyxFQUFpQmgwQyxFQUF1Qnl2QyxHd056aFc3Qy91QyxFQUFBekksRUFBQSxLeE42aFdLMEksRUFBY1gsRUFBdUJVLEVBSXpDekosY3dOL2hXYyxTQUFDaUssR0FBMkIsR0FBcEJxL0MsR0FBb0JuOUMsVUFBQWpILFFBQUEsR0FBQWtILFNBQUFELFVBQUEsR0FBTixFQUFNQSxVQUFBLEdBQ2pDdEQsRUFBU29CLEVBQU1wQixFQUFJb0IsRUFBTWdrQixNQUN6Qi9qQixFQUFTRCxFQUFNQyxFQUFJRCxFQUFNaWtCLE1BQ3pCNnRCLEVBQVM5eEMsRUFBQSxTQUFlcS9DLEdBRTFCdUQsRUFBeUIsSUFBaEJ2RCxFQUFzQixJQUFNLEVBQzNDLElBQW9CLGFBQWZyL0MsRUFBTXBKLEtBQXNCLENBQy9CLEdBQU1pc0QsSUFBZSxFQUFBL1AsY0FBY2hCLEVBQU8zWSxNQUFPMlksRUFBT3ZCLE9BQ3hELFVBQVVxUyxHQUFPaGtELEVBQUlpa0QsRUFBYWprRCxFQUFFYSxhQUFFK3pCLGVBQXRDLE1BQXlEdnpCLEVBQUk0aUQsRUFBYTVpRCxHQUFHUixhQUFFK3pCLGNBQS9FLElBRUEsU0FBVW92QixFQUFPaGtELEVBQWpCLEtBQXVCcUIsRUFBRVIsYUFBRSt6QixjQUEzQiIsImZpbGUiOiJtb2pzLWN1cnZlLWVkaXRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIm1vanMtY3VydmUtZWRpdG9yXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1vanMtY3VydmUtZWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtb2pzLWN1cnZlLWVkaXRvclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJtb2pzLWN1cnZlLWVkaXRvclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbi8qKioqKiovIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbi8qKioqKiovIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KGNhbGxiYWNrKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRjYWxsYmFjaygpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2soZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuLyoqKioqKi8gXHR2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHR0cnkge1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4vKioqKioqLyBcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge31cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdH0gY2F0Y2goeCkge1xyXG4vKioqKioqLyBcdFx0Ly8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjk4MGFmZjBhODFiOTQwZjliMTBhXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fShuYW1lKSkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmbltuYW1lXSA9IF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCwgZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZmluYWxseSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBcImVcIiwge1xyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2s7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsaWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdENhbGxiYWNrO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIGFwcGx5ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGVycikgdGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdGNhbGxiYWNrKG51bGwsIG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHVwZGF0ZS5jLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2FsbGJhY2sgPSBjYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgY2FsbGJhY2sgPSBob3RDYWxsYmFjaztcclxuLyoqKioqKi8gXHRcdGhvdENhbGxiYWNrID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlLCBjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aWYodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRjYWxsYmFjayA9IG9wdGlvbnM7XHJcbi8qKioqKiovIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSBpZihvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRvcHRpb25zID0ge307XHJcbi8qKioqKiovIFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW21vZHVsZV07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGVJZCA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyBtb2R1bGVJZCArIFwiIGluIFwiICsgcGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gW291dGRhdGVkTW9kdWxlcywgb3V0ZGF0ZWREZXBlbmRlbmNpZXNdO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gcmVzdWx0WzFdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0WzFdLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHRbMV1bbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihvdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdGNhbGxiYWNrKG51bGwsIG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiYnVpbGQvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMCkoMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfcHJlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvcik7XG5cdFxuXHR2YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIF9zdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yZSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gaW1wb3J0ICcuL3RhZ3MvY3VydmUtZWRpdG9yLnRhZyc7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdFxuXHQvLyBUT0RPXG5cdC8vICAgLSBpbnN0YW5jZSBkcm9wZG93biBvbiBjb2RlIHBhbmVsXG5cdC8vICAgLSBhZGQgb3JhbmdlIHBvaW50IG9uIHNlbGVjZWQgcG9pbnQgY29udHJvbC8gaGlnaHRsaWdodCB0aGUgY29udHJvbFxuXHQvLyAgIC0gc2F2ZSBzdGF0ZSB0byBMQ1xuXHQvLyAgIC0gYWRkIEFQSXNcblx0Ly8gICAtIGltcG9ydCBwYXRoIGRhdGFcblx0Ly8gICAtIG1vdmUgYnVuY2ggb2YgcG9pbnRzIGF0IG9uY2Vcblx0XG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgKDAsIF9wcmVhY3QucmVuZGVyKSgoMCwgX3ByZWFjdC5oKShcblx0ICAgIF9wcmVhY3RSZWR1eC5Qcm92aWRlcixcblx0ICAgIHsgc3RvcmU6IF9zdG9yZTIuZGVmYXVsdCB9LFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX2N1cnZlRWRpdG9yMi5kZWZhdWx0LCBudWxsKVxuXHQgICksIGRvY3VtZW50LmJvZHkpO1xuXHR9KTtcblx0XG5cdF9zdG9yZTIuZGVmYXVsdC5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7IHg6IDAsIHk6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlIH0sIGluZGV4OiAwIH0gfSk7XG5cdF9zdG9yZTIuZGVmYXVsdC5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9BREQnLCBkYXRhOiB7IHBvaW50OiB7IHg6IDEwMCwgeTogMCwgaXNMb2NrZWRYOiB0cnVlIH0sIGluZGV4OiAxIH0gfSk7XG5cdFxuXHQvLyAgIG1ha2VQb2ludCh7IHg6IDAsICAgeTogQy5DVVJWRV9TSVpFLCBpc0xvY2tlZFg6IHRydWUsIHR5cGU6ICdzdHJhaWdodCcgfSksXG5cdC8vICAgLy8gbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcblx0Ly8gICBtYWtlUG9pbnQoeyB4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZSB9KVxuXHRcblx0Ly8gY3VydmVcblx0Ly8gICAuZ2V0RnVuY3Rpb24oeyBpc0ludmVyc2VYOiBmYWxzZSwgaXNJbnZlcnNlWTogdHJ1ZSwgbmFtZTogJ1NvbWUgbmFtZScgfSlcblx0Ly8gICAuZ2V0Q29kZSgpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRcdCB0cnVlID8gZmFjdG9yeShleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKSA6XG5cdFx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdwcmVhY3QnLCAncmVkdXgnXSwgZmFjdG9yeSkgOlxuXHRcdChmYWN0b3J5KChnbG9iYWwucHJlYWN0UmVkdXggPSBnbG9iYWwucHJlYWN0UmVkdXggfHwge30pLGdsb2JhbC5wcmVhY3QsZ2xvYmFsLnJlZHV4KSk7XG5cdH0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMscHJlYWN0LHJlZHV4KSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ZnVuY3Rpb24gX19jb21tb25qcyhmbiwgbW9kdWxlKSB7IHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0czsgfVxuXHRcblx0XG5cdFx0dmFyIGJhYmVsSGVscGVycyA9IHt9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdFx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHRcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHRcdCAgfVxuXHRcdH07XG5cdFxuXHRcdGJhYmVsSGVscGVycy5leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXHRcblx0XHQgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHRcdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdFx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcdCAgfVxuXHRcblx0XHQgIHJldHVybiB0YXJnZXQ7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLmluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG5cdFx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdFx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuXHRcdCAgfVxuXHRcblx0XHQgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuXHRcdCAgICBjb25zdHJ1Y3Rvcjoge1xuXHRcdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0XHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHQgICAgICB3cml0YWJsZTogdHJ1ZSxcblx0XHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0XHQgICAgfVxuXHRcdCAgfSk7XG5cdFx0ICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdFx0fTtcblx0XG5cdFx0YmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuXHRcdCAgaWYgKCFzZWxmKSB7XG5cdFx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0XHQgIH1cblx0XG5cdFx0ICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0XHR9O1xuXHRcblx0XHRiYWJlbEhlbHBlcnM7XG5cdFxuXHRcdHZhciBDaGlsZHJlbiA9IHtcblx0XHRcdG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHRcdFx0XHRyZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW5bMF0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5cdFx0cHJvcHR5cGUuaXNSZXF1aXJlZCA9IHByb3B0eXBlO1xuXHRcblx0XHR2YXIgUHJvcFR5cGVzID0ge1xuXHRcdFx0ZWxlbWVudDogcHJvcHR5cGUsXG5cdFx0XHRmdW5jOiBwcm9wdHlwZSxcblx0XHRcdHNoYXBlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBwcm9wdHlwZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcblx0XHR2YXIgc3RvcmVTaGFwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG5cdFx0ICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdFx0ICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0XHQgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG5cdFx0fSk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cblx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcblx0XHQgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblx0XHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0XHQgIH1cblx0XHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHRcdCAgdHJ5IHtcblx0XHQgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG5cdFx0ICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdFx0ICB9IGNhdGNoIChlKSB7fVxuXHRcdCAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xuXHRcdH1cblx0XG5cdFx0dmFyIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gZmFsc2U7XG5cdFx0ZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG5cdFx0ICBpZiAoZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUpIHtcblx0XHQgICAgcmV0dXJuO1xuXHRcdCAgfVxuXHRcdCAgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSB0cnVlO1xuXHRcblx0XHQgIHdhcm5pbmcoJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgKyAnSXQgaXMgbW9zdCBsaWtlbHkgdGhhdCB5b3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgdXBkYXRlZCB0byAnICsgJ1JlZHV4IDIueCBhbmQgUmVhY3QgUmVkdXggMi54IHdoaWNoIG5vIGxvbmdlciBob3QgcmVsb2FkIHJlZHVjZXJzICcgKyAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgKyAndGFnL3YyLjAuMCBmb3IgdGhlIG1pZ3JhdGlvbiBpbnN0cnVjdGlvbnMuJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHRcdCAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKFByb3ZpZGVyLCBfQ29tcG9uZW50KTtcblx0XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuXHRcdCAgICByZXR1cm4geyBzdG9yZTogdGhpcy5zdG9yZSB9O1xuXHRcdCAgfTtcblx0XG5cdFx0ICBmdW5jdGlvbiBQcm92aWRlcihwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXHRcblx0XHQgICAgdmFyIF90aGlzID0gYmFiZWxIZWxwZXJzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG5cdFxuXHRcdCAgICBfdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xuXHRcdCAgICByZXR1cm4gX3RoaXM7XG5cdFx0ICB9XG5cdFxuXHRcdCAgUHJvdmlkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XHQgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0XG5cdFx0ICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblx0XHQgIH07XG5cdFxuXHRcdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHRcdH0ocHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRcdGlmICh0cnVlKSB7XG5cdFx0ICBQcm92aWRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcblx0XHQgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0XHQgICAgdmFyIG5leHRTdG9yZSA9IG5leHRQcm9wcy5zdG9yZTtcblx0XG5cdFxuXHRcdCAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuXHRcdCAgICAgIHdhcm5BYm91dFJlY2VpdmluZ1N0b3JlKCk7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFx0fVxuXHRcblx0XHRQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcblx0XHQgIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWRcblx0XHR9O1xuXHRcblx0XHRmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuXHRcdCAgaWYgKG9iakEgPT09IG9iakIpIHtcblx0XHQgICAgcmV0dXJuIHRydWU7XG5cdFx0ICB9XG5cdFxuXHRcdCAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG5cdFx0ICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblx0XG5cdFx0ICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcblx0XHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgfVxuXHRcblx0XHQgIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG5cdFx0ICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0XHQgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG5cdFx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICB9XG5cdFx0ICB9XG5cdFxuXHRcdCAgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiB3cmFwQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMpIHtcblx0XHQgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcblx0XHQgICAgcmV0dXJuIHJlZHV4LmJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdHZhciBpc09iamVjdExpa2UgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qKlxuXHRcdCAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdFx0ICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSA0LjAuMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqIEBleGFtcGxlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2Uoe30pO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICpcblx0XHQgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG5cdFx0ICAgKiAvLyA9PiBmYWxzZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcblx0XHQgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMCA9IGlzT2JqZWN0TGlrZSAmJiB0eXBlb2YgaXNPYmplY3RMaWtlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaXNPYmplY3RMaWtlID8gaXNPYmplY3RMaWtlWydkZWZhdWx0J10gOiBpc09iamVjdExpa2U7XG5cdFxuXHRcdHZhciBfaXNIb3N0T2JqZWN0ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuXHRcdCAgICpcblx0XHQgICAqIEBwcml2YXRlXG5cdFx0ICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0XHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdFx0ICAgIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG5cdFx0ICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblx0XHQgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0XHQgICAgICB0cnkge1xuXHRcdCAgICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG5cdFx0ICAgICAgfSBjYXRjaCAoZSkge31cblx0XHQgICAgfVxuXHRcdCAgICByZXR1cm4gcmVzdWx0O1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNIb3N0T2JqZWN0O1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgcmVxdWlyZSQkMSA9IF9pc0hvc3RPYmplY3QgJiYgdHlwZW9mIF9pc0hvc3RPYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBfaXNIb3N0T2JqZWN0ID8gX2lzSG9zdE9iamVjdFsnZGVmYXVsdCddIDogX2lzSG9zdE9iamVjdDtcblx0XG5cdFx0dmFyIF9nZXRQcm90b3R5cGUgPSBfX2NvbW1vbmpzKGZ1bmN0aW9uIChtb2R1bGUpIHtcblx0XHQgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0XHQgIHZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0XHQgICAqXG5cdFx0ICAgKiBAcHJpdmF0ZVxuXHRcdCAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdFx0ICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cblx0XHQgICAqL1xuXHRcdCAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG5cdFx0ICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG5cdFx0ICB9XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciByZXF1aXJlJCQyID0gX2dldFByb3RvdHlwZSAmJiB0eXBlb2YgX2dldFByb3RvdHlwZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIF9nZXRQcm90b3R5cGUgPyBfZ2V0UHJvdG90eXBlWydkZWZhdWx0J10gOiBfZ2V0UHJvdG90eXBlO1xuXHRcblx0XHR2YXIgaXNQbGFpbk9iamVjdCA9IF9fY29tbW9uanMoZnVuY3Rpb24gKG1vZHVsZSkge1xuXHRcdCAgdmFyIGdldFByb3RvdHlwZSA9IHJlcXVpcmUkJDIsXG5cdFx0ICAgICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSQkMSxcblx0XHQgICAgICBpc09iamVjdExpa2UgPSByZXF1aXJlJCQwO1xuXHRcblx0XHQgIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0XHQgIHZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblx0XG5cdFx0ICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdFx0ICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0XHQgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0XHQgIHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG5cdFx0ICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdFx0ICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdFx0ICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdFx0ICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0XHQgICAqIG9mIHZhbHVlcy5cblx0XHQgICAqL1xuXHRcdCAgdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHRcdCAgLyoqXG5cdFx0ICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdFx0ICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG5cdFx0ICAgKlxuXHRcdCAgICogQHN0YXRpY1xuXHRcdCAgICogQG1lbWJlck9mIF9cblx0XHQgICAqIEBzaW5jZSAwLjguMFxuXHRcdCAgICogQGNhdGVnb3J5IExhbmdcblx0XHQgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHRcdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsXG5cdFx0ICAgKiAgZWxzZSBgZmFsc2VgLlxuXHRcdCAgICogQGV4YW1wbGVcblx0XHQgICAqXG5cdFx0ICAgKiBmdW5jdGlvbiBGb28oKSB7XG5cdFx0ICAgKiAgIHRoaXMuYSA9IDE7XG5cdFx0ICAgKiB9XG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuXHRcdCAgICogLy8gPT4gZmFsc2Vcblx0XHQgICAqXG5cdFx0ICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcblx0XHQgICAqIC8vID0+IGZhbHNlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG5cdFx0ICAgKiAvLyA9PiB0cnVlXG5cdFx0ICAgKlxuXHRcdCAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXHRcdCAgICogLy8gPT4gdHJ1ZVxuXHRcdCAgICovXG5cdFx0ICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG5cdFx0ICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuXHRcdCAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuXHRcdCAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0XHQgICAgICByZXR1cm4gdHJ1ZTtcblx0XHQgICAgfVxuXHRcdCAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdCAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuXHRcdCAgfVxuXHRcblx0XHQgIG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGlzUGxhaW5PYmplY3QkMSA9IGlzUGxhaW5PYmplY3QgJiYgdHlwZW9mIGlzUGxhaW5PYmplY3QgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBpc1BsYWluT2JqZWN0ID8gaXNQbGFpbk9iamVjdFsnZGVmYXVsdCddIDogaXNQbGFpbk9iamVjdDtcblx0XG5cdFx0dmFyIGluZGV4ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAgIC8qKlxuXHRcdCAgICAgKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cblx0XHQgICAgICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuXHRcdCAgICAgKi9cblx0XHQgICAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0XHQgICAgdmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcblx0XHQgICAgICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcblx0XHQgICAgICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuXHRcdCAgICAgICAgbWl4aW5zOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvcFR5cGVzOiB0cnVlLFxuXHRcdCAgICAgICAgdHlwZTogdHJ1ZVxuXHRcdCAgICB9O1xuXHRcblx0XHQgICAgdmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG5cdFx0ICAgICAgICBuYW1lOiB0cnVlLFxuXHRcdCAgICAgICAgbGVuZ3RoOiB0cnVlLFxuXHRcdCAgICAgICAgcHJvdG90eXBlOiB0cnVlLFxuXHRcdCAgICAgICAgY2FsbGVyOiB0cnVlLFxuXHRcdCAgICAgICAgYXJndW1lbnRzOiB0cnVlLFxuXHRcdCAgICAgICAgYXJpdHk6IHRydWVcblx0XHQgICAgfTtcblx0XG5cdFx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQpIHtcblx0XHQgICAgICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuXHRcdCAgICAgICAgICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cdFx0ICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VDb21wb25lbnQpO1xuXHRcdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHRcdCAgICAgICAgICAgICAgICBpZiAoIVJFQUNUX1NUQVRJQ1Nba2V5c1tpXV0gJiYgIUtOT1dOX1NUQVRJQ1Nba2V5c1tpXV0pIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q29tcG9uZW50W2tleXNbaV1dID0gc291cmNlQ29tcG9uZW50W2tleXNbaV1dO1xuXHRcdCAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cdFx0ICAgICAgICAgICAgICAgIH1cblx0XHQgICAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcblx0XHQgICAgfTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGhvaXN0U3RhdGljcyA9IGluZGV4ICYmIHR5cGVvZiBpbmRleCA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGluZGV4ID8gaW5kZXhbJ2RlZmF1bHQnXSA6IGluZGV4O1xuXHRcblx0XHR2YXIgaW52YXJpYW50ID0gX19jb21tb25qcyhmdW5jdGlvbiAobW9kdWxlKSB7XG5cdFx0ICAvKipcblx0XHQgICAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG5cdFx0ICAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHRcdCAgICpcblx0XHQgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuXHRcdCAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG5cdFx0ICAgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0XHQgICAqL1xuXHRcblx0XHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdFx0ICAvKipcblx0XHQgICAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cblx0XHQgICAqXG5cdFx0ICAgKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuXHRcdCAgICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG5cdFx0ICAgKiBleHBlY3RpbmcuXG5cdFx0ICAgKlxuXHRcdCAgICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcblx0XHQgICAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cblx0XHQgICAqL1xuXHRcblx0XHQgIHZhciBOT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XG5cdFxuXHRcdCAgdmFyIGludmFyaWFudCA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuXHRcdCAgICBpZiAoTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuXHRcdCAgICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuXHRcdCAgICAgIH1cblx0XHQgICAgfVxuXHRcblx0XHQgICAgaWYgKCFjb25kaXRpb24pIHtcblx0XHQgICAgICB2YXIgZXJyb3I7XG5cdFx0ICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuXHRcdCAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcblx0XHQgICAgICAgIHZhciBhcmdJbmRleCA9IDA7XG5cdFx0ICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuXHRcdCAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcblx0XHQgICAgICAgIH0pKTtcblx0XHQgICAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG5cdFx0ICAgICAgfVxuXHRcblx0XHQgICAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG5cdFx0ICAgICAgdGhyb3cgZXJyb3I7XG5cdFx0ICAgIH1cblx0XHQgIH07XG5cdFxuXHRcdCAgbW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciBpbnZhcmlhbnQkMSA9IGludmFyaWFudCAmJiB0eXBlb2YgaW52YXJpYW50ID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gaW52YXJpYW50ID8gaW52YXJpYW50WydkZWZhdWx0J10gOiBpbnZhcmlhbnQ7XG5cdFxuXHRcdHZhciBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdFx0ICByZXR1cm4ge307XG5cdFx0fTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXHRcdHZhciBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzID0gZnVuY3Rpb24gKGRpc3BhdGNoKSB7XG5cdFx0ICByZXR1cm4geyBkaXNwYXRjaDogZGlzcGF0Y2ggfTtcblx0XHR9O1xuXHRcdHZhciBkZWZhdWx0TWVyZ2VQcm9wcyA9IGZ1bmN0aW9uIChzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgcmV0dXJuIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCBwYXJlbnRQcm9wcywgc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcyk7XG5cdFx0fTtcblx0XG5cdFx0ZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkge1xuXHRcdCAgcmV0dXJuIFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXHRcdH1cblx0XG5cdFx0dmFyIGVycm9yT2JqZWN0ID0geyB2YWx1ZTogbnVsbCB9O1xuXHRcdGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcblx0XHQgIHRyeSB7XG5cdFx0ICAgIHJldHVybiBmbi5hcHBseShjdHgpO1xuXHRcdCAgfSBjYXRjaCAoZSkge1xuXHRcdCAgICBlcnJvck9iamVjdC52YWx1ZSA9IGU7XG5cdFx0ICAgIHJldHVybiBlcnJvck9iamVjdDtcblx0XHQgIH1cblx0XHR9XG5cdFxuXHRcdC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0dmFyIG5leHRWZXJzaW9uID0gMDtcblx0XG5cdFx0ZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcykge1xuXHRcdCAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdFx0ICB2YXIgc2hvdWxkU3Vic2NyaWJlID0gQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpO1xuXHRcdCAgdmFyIG1hcFN0YXRlID0gbWFwU3RhdGVUb1Byb3BzIHx8IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHM7XG5cdFxuXHRcdCAgdmFyIG1hcERpc3BhdGNoID0gdm9pZCAwO1xuXHRcdCAgaWYgKHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHM7XG5cdFx0ICB9IGVsc2UgaWYgKCFtYXBEaXNwYXRjaFRvUHJvcHMpIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzO1xuXHRcdCAgfSBlbHNlIHtcblx0XHQgICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKTtcblx0XHQgIH1cblx0XG5cdFx0ICB2YXIgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wcztcblx0XHQgIHZhciBfb3B0aW9ucyRwdXJlID0gb3B0aW9ucy5wdXJlO1xuXHRcdCAgdmFyIHB1cmUgPSBfb3B0aW9ucyRwdXJlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkcHVyZTtcblx0XHQgIHZhciBfb3B0aW9ucyR3aXRoUmVmID0gb3B0aW9ucy53aXRoUmVmO1xuXHRcdCAgdmFyIHdpdGhSZWYgPSBfb3B0aW9ucyR3aXRoUmVmID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9vcHRpb25zJHdpdGhSZWY7XG5cdFxuXHRcdCAgdmFyIGNoZWNrTWVyZ2VkRXF1YWxzID0gcHVyZSAmJiBmaW5hbE1lcmdlUHJvcHMgIT09IGRlZmF1bHRNZXJnZVByb3BzO1xuXHRcblx0XHQgIC8vIEhlbHBzIHRyYWNrIGhvdCByZWxvYWRpbmcuXG5cdFx0ICB2YXIgdmVyc2lvbiA9IG5leHRWZXJzaW9uKys7XG5cdFxuXHRcdCAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBXaXRoQ29ubmVjdChXcmFwcGVkQ29tcG9uZW50KSB7XG5cdFx0ICAgIHZhciBjb25uZWN0RGlzcGxheU5hbWUgPSAnQ29ubmVjdCgnICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyAnKSc7XG5cdFxuXHRcdCAgICBmdW5jdGlvbiBjaGVja1N0YXRlU2hhcGUocHJvcHMsIG1ldGhvZE5hbWUpIHtcblx0XHQgICAgICBpZiAoIWlzUGxhaW5PYmplY3QkMShwcm9wcykpIHtcblx0XHQgICAgICAgIHdhcm5pbmcobWV0aG9kTmFtZSArICcoKSBpbiAnICsgY29ubmVjdERpc3BsYXlOYW1lICsgJyBtdXN0IHJldHVybiBhIHBsYWluIG9iamVjdC4gJyArICgnSW5zdGVhZCByZWNlaXZlZCAnICsgcHJvcHMgKyAnLicpKTtcblx0XHQgICAgICB9XG5cdFx0ICAgIH1cblx0XG5cdFx0ICAgIGZ1bmN0aW9uIGNvbXB1dGVNZXJnZWRQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcykge1xuXHRcdCAgICAgIHZhciBtZXJnZWRQcm9wcyA9IGZpbmFsTWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBwYXJlbnRQcm9wcyk7XG5cdFx0ICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtZXJnZWRQcm9wcywgJ21lcmdlUHJvcHMnKTtcblx0XHQgICAgICB9XG5cdFx0ICAgICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICB2YXIgQ29ubmVjdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdFx0ICAgICAgYmFiZWxIZWxwZXJzLmluaGVyaXRzKENvbm5lY3QsIF9Db21wb25lbnQpO1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0ICAgICAgICByZXR1cm4gIXB1cmUgfHwgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkIHx8IHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQ7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgZnVuY3Rpb24gQ29ubmVjdChwcm9wcywgY29udGV4dCkge1xuXHRcdCAgICAgICAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3QpO1xuXHRcblx0XHQgICAgICAgIHZhciBfdGhpcyA9IGJhYmVsSGVscGVycy5wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXHRcblx0XHQgICAgICAgIF90aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuXHRcdCAgICAgICAgX3RoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlO1xuXHRcblx0XHQgICAgICAgIGludmFyaWFudCQxKF90aGlzLnN0b3JlLCAnQ291bGQgbm90IGZpbmQgXCJzdG9yZVwiIGluIGVpdGhlciB0aGUgY29udGV4dCBvciAnICsgKCdwcm9wcyBvZiBcIicgKyBjb25uZWN0RGlzcGxheU5hbWUgKyAnXCIuICcpICsgJ0VpdGhlciB3cmFwIHRoZSByb290IGNvbXBvbmVudCBpbiBhIDxQcm92aWRlcj4sICcgKyAoJ29yIGV4cGxpY2l0bHkgcGFzcyBcInN0b3JlXCIgYXMgYSBwcm9wIHRvIFwiJyArIGNvbm5lY3REaXNwbGF5TmFtZSArICdcIi4nKSk7XG5cdFxuXHRcdCAgICAgICAgdmFyIHN0b3JlU3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXHRcdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGU6IHN0b3JlU3RhdGUgfTtcblx0XHQgICAgICAgIF90aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICAgIHJldHVybiBfdGhpcztcblx0XHQgICAgICB9XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXB1dGVTdGF0ZVByb3BzID0gZnVuY3Rpb24gY29tcHV0ZVN0YXRlUHJvcHMoc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICBpZiAoIXRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIHByb3BzKSA6IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMoc3RhdGUpO1xuXHRcblx0XHQgICAgICAgIGlmICh0cnVlKSB7XG5cdFx0ICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShzdGF0ZVByb3BzLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gc3RhdGVQcm9wcztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb25maWd1cmVGaW5hbE1hcFN0YXRlID0gZnVuY3Rpb24gY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIHZhciBtYXBwZWRTdGF0ZSA9IG1hcFN0YXRlKHN0b3JlLmdldFN0YXRlKCksIHByb3BzKTtcblx0XHQgICAgICAgIHZhciBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkU3RhdGUgPT09ICdmdW5jdGlvbic7XG5cdFxuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IGlzRmFjdG9yeSA/IG1hcHBlZFN0YXRlIDogbWFwU3RhdGU7XG5cdFx0ICAgICAgICB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzLmxlbmd0aCAhPT0gMTtcblx0XG5cdFx0ICAgICAgICBpZiAoaXNGYWN0b3J5KSB7XG5cdFx0ICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29tcHV0ZURpc3BhdGNoUHJvcHMgPSBmdW5jdGlvbiBjb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuXHRcdCAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmVGaW5hbE1hcERpc3BhdGNoKHN0b3JlLCBwcm9wcyk7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdFxuXHRcdCAgICAgICAgdmFyIGRpc3BhdGNoUHJvcHMgPSB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPyB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBwcm9wcykgOiB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKTtcblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUoZGlzcGF0Y2hQcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuXHRcdCAgICAgICAgfVxuXHRcdCAgICAgICAgcmV0dXJuIGRpc3BhdGNoUHJvcHM7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY29uZmlndXJlRmluYWxNYXBEaXNwYXRjaCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG5cdFx0ICAgICAgICB2YXIgbWFwcGVkRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaChzdG9yZS5kaXNwYXRjaCwgcHJvcHMpO1xuXHRcdCAgICAgICAgdmFyIGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWREaXNwYXRjaCA9PT0gJ2Z1bmN0aW9uJztcblx0XG5cdFx0ICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaDtcblx0XHQgICAgICAgIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMubGVuZ3RoICE9PSAxO1xuXHRcblx0XHQgICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAodHJ1ZSkge1xuXHRcdCAgICAgICAgICBjaGVja1N0YXRlU2hhcGUobWFwcGVkRGlzcGF0Y2gsICdtYXBEaXNwYXRjaFRvUHJvcHMnKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICAgIHJldHVybiBtYXBwZWREaXNwYXRjaDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQoKSB7XG5cdFx0ICAgICAgICB2YXIgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpO1xuXHRcdCAgICAgICAgaWYgKHRoaXMuc3RhdGVQcm9wcyAmJiBzaGFsbG93RXF1YWwobmV4dFN0YXRlUHJvcHMsIHRoaXMuc3RhdGVQcm9wcykpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHRoaXMuc3RhdGVQcm9wcyA9IG5leHRTdGF0ZVByb3BzO1xuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUudXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkID0gZnVuY3Rpb24gdXBkYXRlRGlzcGF0Y2hQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKTtcblx0XHQgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHREaXNwYXRjaFByb3BzLCB0aGlzLmRpc3BhdGNoUHJvcHMpKSB7XG5cdFx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBuZXh0RGlzcGF0Y2hQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLnVwZGF0ZU1lcmdlZFByb3BzSWZOZWVkZWQgPSBmdW5jdGlvbiB1cGRhdGVNZXJnZWRQcm9wc0lmTmVlZGVkKCkge1xuXHRcdCAgICAgICAgdmFyIG5leHRNZXJnZWRQcm9wcyA9IGNvbXB1dGVNZXJnZWRQcm9wcyh0aGlzLnN0YXRlUHJvcHMsIHRoaXMuZGlzcGF0Y2hQcm9wcywgdGhpcy5wcm9wcyk7XG5cdFx0ICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuXHRcdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcblx0XHQgICAgICAgIHJldHVybiB0cnVlO1xuXHRcdCAgICAgIH07XG5cdFxuXHRcdCAgICAgIENvbm5lY3QucHJvdG90eXBlLmlzU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIGlzU3Vic2NyaWJlZCgpIHtcblx0XHQgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiB0cnlTdWJzY3JpYmUoKSB7XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlICYmICF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSB0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpKTtcblx0XHQgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS50cnlVbnN1YnNjcmliZSA9IGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuXHRcdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0XHQgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gbnVsbDtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0XHQgICAgICAgIGlmICghcHVyZSB8fCAhc2hhbGxvd0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykpIHtcblx0XHQgICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIH1cblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHRcdCAgICAgICAgdGhpcy50cnlVbnN1YnNjcmliZSgpO1xuXHRcdCAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XG5cdFx0ICAgICAgICB0aGlzLmRpc3BhdGNoUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2U7XG5cdFx0ICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gbnVsbDtcblx0XHQgICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsO1xuXHRcdCAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyA9IG51bGw7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge1xuXHRcdCAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgc3RvcmVTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcblx0XHQgICAgICAgIHZhciBwcmV2U3RvcmVTdGF0ZSA9IHRoaXMuc3RhdGUuc3RvcmVTdGF0ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG5cdFx0ICAgICAgICAgIHJldHVybjtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG5cdFx0ICAgICAgICAgIHZhciBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnlDYXRjaCh0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCwgdGhpcyk7XG5cdFx0ICAgICAgICAgIGlmICghaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkKSB7XG5cdFx0ICAgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPT09IGVycm9yT2JqZWN0KSB7XG5cdFx0ICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlO1xuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWU7XG5cdFx0ICAgICAgICB9XG5cdFxuXHRcdCAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWU7XG5cdFx0ICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RvcmVTdGF0ZTogc3RvcmVTdGF0ZSB9KTtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5nZXRXcmFwcGVkSW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRXcmFwcGVkSW5zdGFuY2UoKSB7XG5cdFx0ICAgICAgICBpbnZhcmlhbnQkMSh3aXRoUmVmLCAnVG8gYWNjZXNzIHRoZSB3cmFwcGVkIGluc3RhbmNlLCB5b3UgbmVlZCB0byBzcGVjaWZ5ICcgKyAneyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuJyk7XG5cdFxuXHRcdCAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2U7XG5cdFx0ICAgICAgfTtcblx0XG5cdFx0ICAgICAgQ29ubmVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdCAgICAgICAgdmFyIGhhdmVPd25Qcm9wc0NoYW5nZWQgPSB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQ7XG5cdFx0ICAgICAgICB2YXIgaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkO1xuXHRcdCAgICAgICAgdmFyIGhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQ7XG5cdFx0ICAgICAgICB2YXIgc3RhdGVQcm9wc1ByZWNhbGN1bGF0aW9uRXJyb3IgPSB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgdmFyIHJlbmRlcmVkRWxlbWVudCA9IHRoaXMucmVuZGVyZWRFbGVtZW50O1xuXHRcblx0XG5cdFx0ICAgICAgICB0aGlzLmhhdmVPd25Qcm9wc0NoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZTtcblx0XHQgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGw7XG5cdFxuXHRcdCAgICAgICAgaWYgKHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yKSB7XG5cdFx0ICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIHZhciBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuXHRcdCAgICAgICAgICBzaG91bGRVcGRhdGVTdGF0ZVByb3BzID0gaGFzU3RvcmVTdGF0ZUNoYW5nZWQgfHwgaGF2ZU93blByb3BzQ2hhbmdlZCAmJiB0aGlzLmRvU3RhdGVQcm9wc0RlcGVuZE9uT3duUHJvcHM7XG5cdFx0ICAgICAgICAgIHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcztcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICB2YXIgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICB2YXIgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkID0gZmFsc2U7XG5cdFx0ICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCkge1xuXHRcdCAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0cnVlO1xuXHRcdCAgICAgICAgfSBlbHNlIGlmIChzaG91bGRVcGRhdGVTdGF0ZVByb3BzKSB7XG5cdFx0ICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlU3RhdGVQcm9wc0lmTmVlZGVkKCk7XG5cdFx0ICAgICAgICB9XG5cdFx0ICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRGlzcGF0Y2hQcm9wcykge1xuXHRcdCAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHZhciBoYXZlTWVyZ2VkUHJvcHNDaGFuZ2VkID0gdHJ1ZTtcblx0XHQgICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0NoYW5nZWQgfHwgaGF2ZURpc3BhdGNoUHJvcHNDaGFuZ2VkIHx8IGhhdmVPd25Qcm9wc0NoYW5nZWQpIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpO1xuXHRcdCAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIGlmICghaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCAmJiByZW5kZXJlZEVsZW1lbnQpIHtcblx0XHQgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICAgIH1cblx0XG5cdFx0ICAgICAgICBpZiAod2l0aFJlZikge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIGJhYmVsSGVscGVycy5leHRlbmRzKHt9LCB0aGlzLm1lcmdlZFByb3BzLCB7XG5cdFx0ICAgICAgICAgICAgcmVmOiAnd3JhcHBlZEluc3RhbmNlJ1xuXHRcdCAgICAgICAgICB9KSk7XG5cdFx0ICAgICAgICB9IGVsc2Uge1xuXHRcdCAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IHByZWFjdC5oKFdyYXBwZWRDb21wb25lbnQsIHRoaXMubWVyZ2VkUHJvcHMpO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudDtcblx0XHQgICAgICB9O1xuXHRcblx0XHQgICAgICByZXR1cm4gQ29ubmVjdDtcblx0XHQgICAgfShwcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFx0ICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWU7XG5cdFx0ICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG5cdFx0ICAgIENvbm5lY3QuY29udGV4dFR5cGVzID0ge1xuXHRcdCAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG5cdFx0ICAgIH07XG5cdFxuXHRcblx0XHQgICAgaWYgKHRydWUpIHtcblx0XHQgICAgICBDb25uZWN0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcblx0XHQgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IHZlcnNpb24pIHtcblx0XHQgICAgICAgICAgcmV0dXJuO1xuXHRcdCAgICAgICAgfVxuXHRcblx0XHQgICAgICAgIC8vIFdlIGFyZSBob3QgcmVsb2FkaW5nIVxuXHRcdCAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0XHQgICAgICAgIHRoaXMudHJ5U3Vic2NyaWJlKCk7XG5cdFx0ICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcblx0XHQgICAgICB9O1xuXHRcdCAgICB9XG5cdFxuXHRcdCAgICByZXR1cm4gaG9pc3RTdGF0aWNzKENvbm5lY3QsIFdyYXBwZWRDb21wb25lbnQpO1xuXHRcdCAgfTtcblx0XHR9XG5cdFxuXHRcdGV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcblx0XHRleHBvcnRzLmNvbm5lY3QgPSBjb25uZWN0O1xuXG5cdH0pKTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHNldEltbWVkaWF0ZSkgeyFmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgICB0cnVlID8gZmFjdG9yeShleHBvcnRzKSA6ICdmdW5jdGlvbicgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsgJ2V4cG9ydHMnIF0sIGZhY3RvcnkpIDogZmFjdG9yeShnbG9iYWwucHJlYWN0ID0gZ2xvYmFsLnByZWFjdCB8fCB7fSk7XG5cdH0odGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXHQgICAgZnVuY3Rpb24gVk5vZGUobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGNoaWxkcmVuKSB7XG5cdCAgICAgICAgdGhpcy5ub2RlTmFtZSA9IG5vZGVOYW1lO1xuXHQgICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG5cdCAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXHQgICAgICAgIHRoaXMua2V5ID0gYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmtleTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGV4dGVuZChvYmosIHByb3BzKSB7XG5cdCAgICAgICAgaWYgKHByb3BzKSBmb3IgKHZhciBpIGluIHByb3BzKSBpZiAodm9pZCAwICE9PSBwcm9wc1tpXSkgb2JqW2ldID0gcHJvcHNbaV07XG5cdCAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsb25lKG9iaikge1xuXHQgICAgICAgIHJldHVybiBleHRlbmQoe30sIG9iaik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkZWx2ZShvYmosIGtleSkge1xuXHQgICAgICAgIGZvciAodmFyIHAgPSBrZXkuc3BsaXQoJy4nKSwgaSA9IDA7IGkgPCBwLmxlbmd0aCAmJiBvYmo7IGkrKykgb2JqID0gb2JqW3BbaV1dO1xuXHQgICAgICAgIHJldHVybiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiB0b0FycmF5KG9iaiwgb2Zmc2V0KSB7XG5cdCAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0ICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PSB0eXBlb2Ygb2JqO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuICdzdHJpbmcnID09IHR5cGVvZiBvYmo7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBlbXB0eSh4KSB7XG5cdCAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0geCB8fCBudWxsID09PSB4O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlID09PSAhMSB8fCBlbXB0eSh2YWx1ZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHQgICAgICAgIHZhciBzdHIgPSAnJztcblx0ICAgICAgICBmb3IgKHZhciBwcm9wIGluIGMpIGlmIChjW3Byb3BdKSB7XG5cdCAgICAgICAgICAgIGlmIChzdHIpIHN0ciArPSAnICc7XG5cdCAgICAgICAgICAgIHN0ciArPSBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaChub2RlTmFtZSwgYXR0cmlidXRlcywgZmlyc3RDaGlsZCkge1xuXHQgICAgICAgIHZhciBjaGlsZHJlbiwgYXJyLCBsYXN0U2ltcGxlLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXHQgICAgICAgIGlmIChsZW4gPiAyKSB7XG5cdCAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGZpcnN0Q2hpbGQ7XG5cdCAgICAgICAgICAgIGlmICgzID09PSBsZW4gJiYgJ29iamVjdCcgIT09IHR5cGUgJiYgJ2Z1bmN0aW9uJyAhPT0gdHlwZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIGNoaWxkcmVuID0gWyBTdHJpbmcoZmlyc3RDaGlsZCkgXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gW107XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIF9wID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZmFsc2V5KF9wKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3Auam9pbikgYXJyID0gX3A7IGVsc2UgKGFyciA9IFNIQVJFRF9URU1QX0FSUkFZKVswXSA9IF9wO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gYXJyW2pdLCBzaW1wbGUgPSAhKGZhbHNleShjaGlsZCkgfHwgaXNGdW5jdGlvbihjaGlsZCkgfHwgY2hpbGQgaW5zdGFuY2VvZiBWTm9kZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkgY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0gKz0gY2hpbGQ7IGVsc2UgaWYgKCFmYWxzZXkoY2hpbGQpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSA7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5jaGlsZHJlbikgcmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmIChhdHRyaWJ1dGVzKSB7XG5cdCAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLmNoaWxkcmVuKSBkZWxldGUgYXR0cmlidXRlcy5jaGlsZHJlbjtcblx0ICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCdjbGFzc05hbWUnIGluIGF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gYXR0cmlidXRlcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgbGFzdFNpbXBsZSA9IGF0dHJpYnV0ZXMuY2xhc3M7XG5cdCAgICAgICAgICAgICAgICBpZiAobGFzdFNpbXBsZSAmJiAhaXNTdHJpbmcobGFzdFNpbXBsZSkpIGF0dHJpYnV0ZXMuY2xhc3MgPSBoYXNoVG9DbGFzc05hbWUobGFzdFNpbXBsZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHAgPSBuZXcgVk5vZGUobm9kZU5hbWUsIGF0dHJpYnV0ZXMgfHwgdm9pZCAwLCBjaGlsZHJlbik7XG5cdCAgICAgICAgaWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdCAgICAgICAgcmV0dXJuIHA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuIGgodm5vZGUubm9kZU5hbWUsIGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUxpbmtlZFN0YXRlKGNvbXBvbmVudCwga2V5LCBldmVudFBhdGgpIHtcblx0ICAgICAgICB2YXIgcGF0aCA9IGtleS5zcGxpdCgnLicpLCBwMCA9IHBhdGhbMF07XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgdmFyIF9jb21wb25lbnQkc2V0U3RhdGU7XG5cdCAgICAgICAgICAgIHZhciB2LCBpLCB0ID0gZSAmJiBlLmN1cnJlbnRUYXJnZXQgfHwgdGhpcywgcyA9IGNvbXBvbmVudC5zdGF0ZSwgb2JqID0gcztcblx0ICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0ICAgICAgICAgICAgICAgIHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGVtcHR5KHYpICYmICh0ID0gdC5fY29tcG9uZW50KSkgdiA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB2ID0gdC5ub2RlTmFtZSA/ICh0Lm5vZGVOYW1lICsgdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlIDogZTtcblx0ICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odikpIHYgPSB2LmNhbGwodCk7XG5cdCAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aCAtIDE7IGkrKykgb2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdCAgICAgICAgICAgICAgICBvYmpbcGF0aFtpXV0gPSB2O1xuXHQgICAgICAgICAgICAgICAgdiA9IHNbcDBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5zZXRTdGF0ZSgoX2NvbXBvbmVudCRzZXRTdGF0ZSA9IHt9LCBfY29tcG9uZW50JHNldFN0YXRlW3AwXSA9IHYsIF9jb21wb25lbnQkc2V0U3RhdGUpKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpIHtcblx0ICAgICAgICBpZiAoMSA9PT0gaXRlbXMucHVzaChjb21wb25lbnQpKSAob3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyB8fCBzZXRJbW1lZGlhdGUpKHJlcmVuZGVyKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHQgICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgdmFyIHAsIGN1cnJlbnRJdGVtcyA9IGl0ZW1zO1xuXHQgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0ICAgICAgICAgICAgaXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXHQgICAgICAgICAgICB3aGlsZSAocCA9IGN1cnJlbnRJdGVtcy5wb3AoKSkgaWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKSB7XG5cdCAgICAgICAgdmFyIG5vZGVOYW1lID0gdm5vZGUgJiYgdm5vZGUubm9kZU5hbWU7XG5cdCAgICAgICAgcmV0dXJuIG5vZGVOYW1lICYmIGlzRnVuY3Rpb24obm9kZU5hbWUpICYmICEobm9kZU5hbWUucHJvdG90eXBlICYmIG5vZGVOYW1lLnByb3RvdHlwZS5yZW5kZXIpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlLCBjb250ZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHZub2RlLm5vZGVOYW1lKGdldE5vZGVQcm9wcyh2bm9kZSksIGNvbnRleHQgfHwgRU1QVFkpO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZW5zdXJlTm9kZURhdGEobm9kZSwgZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSBkYXRhIHx8IHt9KTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldE5vZGVUeXBlKG5vZGUpIHtcblx0ICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRleHQpIHJldHVybiAzO1xuXHQgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7IGVsc2UgcmV0dXJuIDA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0ICAgICAgICB2YXIgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0ICAgICAgICBpZiAocCkgcC5yZW1vdmVDaGlsZChub2RlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHNldEFjY2Vzc29yKG5vZGUsIG5hbWUsIHZhbHVlLCBvbGQsIGlzU3ZnKSB7XG5cdCAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSlbbmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICBpZiAoJ2tleScgIT09IG5hbWUgJiYgJ2NoaWxkcmVuJyAhPT0gbmFtZSkgaWYgKCdjbGFzcycgPT09IG5hbWUgJiYgIWlzU3ZnKSBub2RlLmNsYXNzTmFtZSA9IHZhbHVlIHx8ICcnOyBlbHNlIGlmICgnc3R5bGUnID09PSBuYW1lKSB7XG5cdCAgICAgICAgICAgIGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgJiYgJ29iamVjdCcgPT0gdHlwZW9mIHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWlzU3RyaW5nKG9sZCkpIGZvciAodmFyIGkgaW4gb2xkKSBpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB2YWx1ZSkgbm9kZS5zdHlsZVtpXSA9ICdudW1iZXInID09IHR5cGVvZiB2YWx1ZVtpXSAmJiAhTk9OX0RJTUVOU0lPTl9QUk9QU1tpXSA/IHZhbHVlW2ldICsgJ3B4JyA6IHZhbHVlW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmICgnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnID09PSBuYW1lKSB7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSkgbm9kZS5pbm5lckhUTUwgPSB2YWx1ZS5fX2h0bWw7XG5cdCAgICAgICAgfSBlbHNlIGlmICgnbycgPT09IG5hbWVbMF0gJiYgJ24nID09PSBuYW1lWzFdKSB7XG5cdCAgICAgICAgICAgIHZhciBsID0gbm9kZS5fbGlzdGVuZXJzIHx8IChub2RlLl9saXN0ZW5lcnMgPSB7fSk7XG5cdCAgICAgICAgICAgIG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFsW25hbWVdKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAobFtuYW1lXSkgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHQgICAgICAgICAgICBsW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIGlmICgndHlwZScgIT09IG5hbWUgJiYgIWlzU3ZnICYmIG5hbWUgaW4gbm9kZSkge1xuXHQgICAgICAgICAgICBzZXRQcm9wZXJ0eShub2RlLCBuYW1lLCBlbXB0eSh2YWx1ZSkgPyAnJyA6IHZhbHVlKTtcblx0ICAgICAgICAgICAgaWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdCAgICAgICAgICAgIGlmIChmYWxzZXkodmFsdWUpKSBpZiAobnMpIG5vZGUucmVtb3ZlQXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCB0b0xvd2VyQ2FzZShuc1sxXSkpOyBlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpOyBlbHNlIGlmICgnb2JqZWN0JyAhPSB0eXBlb2YgdmFsdWUgJiYgIWlzRnVuY3Rpb24odmFsdWUpKSBpZiAobnMpIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCB0b0xvd2VyQ2FzZShuc1sxXSksIHZhbHVlKTsgZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBub2RlW25hbWVdID0gdmFsdWU7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge31cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbZS50eXBlXShvcHRpb25zLmV2ZW50ICYmIG9wdGlvbnMuZXZlbnQoZSkgfHwgZSk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdCAgICAgICAgdmFyIGF0dHJzID0ge307XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSBhdHRyc1tub2RlLmF0dHJpYnV0ZXNbaV0ubmFtZV0gPSBub2RlLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGF0dHJzO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaXNTYW1lTm9kZVR5cGUobm9kZSwgdm5vZGUpIHtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUpKSByZXR1cm4gMyA9PT0gZ2V0Tm9kZVR5cGUobm9kZSk7XG5cdCAgICAgICAgaWYgKGlzU3RyaW5nKHZub2RlLm5vZGVOYW1lKSkgcmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHJldHVybiBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUgfHwgaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKTsgZWxzZSA7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBpc05hbWVkTm9kZShub2RlLCBub2RlTmFtZSkge1xuXHQgICAgICAgIHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9PT0gbm9kZU5hbWUgfHwgdG9Mb3dlckNhc2Uobm9kZS5ub2RlTmFtZSkgPT09IHRvTG93ZXJDYXNlKG5vZGVOYW1lKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldE5vZGVQcm9wcyh2bm9kZSkge1xuXHQgICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsIHByb3BzID0gY2xvbmUoZGVmYXVsdFByb3BzIHx8IHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmIChkZWZhdWx0UHJvcHMpIGV4dGVuZChwcm9wcywgdm5vZGUuYXR0cmlidXRlcyk7XG5cdCAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSBwcm9wcy5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXHQgICAgICAgIHJldHVybiBwcm9wcztcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0ICAgICAgICBjbGVhbk5vZGUobm9kZSk7XG5cdCAgICAgICAgdmFyIG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlLm5vZGVOYW1lKSwgbGlzdCA9IG5vZGVzW25hbWVdO1xuXHQgICAgICAgIGlmIChsaXN0KSBsaXN0LnB1c2gobm9kZSk7IGVsc2Ugbm9kZXNbbmFtZV0gPSBbIG5vZGUgXTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnKSB7XG5cdCAgICAgICAgdmFyIG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksIG5vZGUgPSBub2Rlc1tuYW1lXSAmJiBub2Rlc1tuYW1lXS5wb3AoKSB8fCAoaXNTdmcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbm9kZU5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSkpO1xuXHQgICAgICAgIGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHQgICAgICAgIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID0gbmFtZTtcblx0ICAgICAgICByZXR1cm4gbm9kZTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdCAgICAgICAgcmVtb3ZlTm9kZShub2RlKTtcblx0ICAgICAgICBpZiAoMSA9PT0gZ2V0Tm9kZVR5cGUobm9kZSkpIHtcblx0ICAgICAgICAgICAgZW5zdXJlTm9kZURhdGEobm9kZSwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMobm9kZSkpO1xuXHQgICAgICAgICAgICBub2RlLl9jb21wb25lbnQgPSBub2RlLl9jb21wb25lbnRDb25zdHJ1Y3RvciA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZmx1c2hNb3VudHMoKSB7XG5cdCAgICAgICAgdmFyIGM7XG5cdCAgICAgICAgd2hpbGUgKGMgPSBtb3VudHMucG9wKCkpIGlmIChjLmNvbXBvbmVudERpZE1vdW50KSBjLmNvbXBvbmVudERpZE1vdW50KCk7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ICAgICAgICBkaWZmTGV2ZWwrKztcblx0ICAgICAgICB2YXIgcmV0ID0gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgIGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUgIT09IHBhcmVudCkgcGFyZW50LmFwcGVuZENoaWxkKHJldCk7XG5cdCAgICAgICAgaWYgKCEtLWRpZmZMZXZlbCkgZmx1c2hNb3VudHMoKTtcblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gaWRpZmYoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgb3JpZ2luYWxBdHRyaWJ1dGVzID0gdm5vZGUgJiYgdm5vZGUuYXR0cmlidXRlcztcblx0ICAgICAgICB3aGlsZSAoaXNGdW5jdGlvbmFsQ29tcG9uZW50KHZub2RlKSkgdm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHQgICAgICAgIGlmIChlbXB0eSh2bm9kZSkpIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0ICAgICAgICBpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdCAgICAgICAgICAgIGlmIChkb20pIHtcblx0ICAgICAgICAgICAgICAgIGlmICgzID09PSBnZXROb2RlVHlwZShkb20pICYmIGRvbS5wYXJlbnROb2RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGRvbS5ub2RlVmFsdWUgIT0gdm5vZGUpIGRvbS5ub2RlVmFsdWUgPSB2bm9kZTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY29sbGVjdE5vZGUoZG9tKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc3ZnTW9kZSwgb3V0ID0gZG9tLCBub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKG5vZGVOYW1lKSkgcmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBpZiAoIWlzU3RyaW5nKG5vZGVOYW1lKSkgbm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHQgICAgICAgIHN2Z01vZGUgPSAnc3ZnJyA9PT0gdG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xuXHQgICAgICAgIGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSAhMDtcblx0ICAgICAgICBpZiAoIWRvbSkgb3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTsgZWxzZSBpZiAoIWlzTmFtZWROb2RlKGRvbSwgbm9kZU5hbWUpKSB7XG5cdCAgICAgICAgICAgIG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnTW9kZSk7XG5cdCAgICAgICAgICAgIHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0ICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoZG9tKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuICYmIDEgPT09IHZub2RlLmNoaWxkcmVuLmxlbmd0aCAmJiAnc3RyaW5nJyA9PSB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF0gJiYgMSA9PT0gb3V0LmNoaWxkTm9kZXMubGVuZ3RoICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkgb3V0LmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gdm5vZGUuY2hpbGRyZW5bMF07IGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSBpbm5lckRpZmZOb2RlKG91dCwgdm5vZGUuY2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICBkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXHQgICAgICAgIGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikgKG91dFtBVFRSX0tFWV0ucmVmID0gb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikob3V0KTtcblx0ICAgICAgICBpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gITE7XG5cdCAgICAgICAgcmV0dXJuIG91dDtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGlubmVyRGlmZk5vZGUoZG9tLCB2Y2hpbGRyZW4sIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdCAgICAgICAgdmFyIGosIGMsIHZjaGlsZCwgY2hpbGQsIG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2RlcywgY2hpbGRyZW4gPSBbXSwga2V5ZWQgPSB7fSwga2V5ZWRMZW4gPSAwLCBtaW4gPSAwLCBsZW4gPSBvcmlnaW5hbENoaWxkcmVuLmxlbmd0aCwgY2hpbGRyZW5MZW4gPSAwLCB2bGVuID0gdmNoaWxkcmVuICYmIHZjaGlsZHJlbi5sZW5ndGg7XG5cdCAgICAgICAgaWYgKGxlbikgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICB2YXIgX2NoaWxkID0gb3JpZ2luYWxDaGlsZHJlbltpXSwga2V5ID0gdmxlbiA/IChjID0gX2NoaWxkLl9jb21wb25lbnQpID8gYy5fX2tleSA6IChjID0gX2NoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwgOiBudWxsO1xuXHQgICAgICAgICAgICBpZiAoa2V5IHx8IDAgPT09IGtleSkge1xuXHQgICAgICAgICAgICAgICAga2V5ZWRMZW4rKztcblx0ICAgICAgICAgICAgICAgIGtleWVkW2tleV0gPSBfY2hpbGQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSBjaGlsZHJlbltjaGlsZHJlbkxlbisrXSA9IF9jaGlsZDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHZsZW4pIGZvciAodmFyIGkgPSAwOyBpIDwgdmxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0ICAgICAgICAgICAgY2hpbGQgPSBudWxsO1xuXHQgICAgICAgICAgICBpZiAoa2V5ZWRMZW4gJiYgdmNoaWxkLmF0dHJpYnV0ZXMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXkgPSB2Y2hpbGQua2V5O1xuXHQgICAgICAgICAgICAgICAgaWYgKCFlbXB0eShrZXkpICYmIGtleSBpbiBrZXllZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkID0ga2V5ZWRba2V5XTtcblx0ICAgICAgICAgICAgICAgICAgICBrZXllZFtrZXldID0gdm9pZCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIGtleWVkTGVuLS07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCFjaGlsZCAmJiBtaW4gPCBjaGlsZHJlbkxlbikgZm9yIChqID0gbWluOyBqIDwgY2hpbGRyZW5MZW47IGorKykge1xuXHQgICAgICAgICAgICAgICAgYyA9IGNoaWxkcmVuW2pdO1xuXHQgICAgICAgICAgICAgICAgaWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gYztcblx0ICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltqXSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gY2hpbGRyZW5MZW4gLSAxKSBjaGlsZHJlbkxlbi0tO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBtaW4pIG1pbisrO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNoaWxkID0gaWRpZmYoY2hpbGQsIHZjaGlsZCwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQgIT09IG9yaWdpbmFsQ2hpbGRyZW5baV0pIGRvbS5pbnNlcnRCZWZvcmUoY2hpbGQsIG9yaWdpbmFsQ2hpbGRyZW5baV0gfHwgbnVsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChrZXllZExlbikgZm9yICh2YXIgaSBpbiBrZXllZCkgaWYgKGtleWVkW2ldKSBjaGlsZHJlblttaW4gPSBjaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHQgICAgICAgIGlmIChtaW4gPCBjaGlsZHJlbkxlbikgcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW1vdmVPcnBoYW5lZENoaWxkcmVuKGNoaWxkcmVuLCB1bm1vdW50T25seSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHQgICAgICAgICAgICBpZiAoY2hpbGQpIHJlY29sbGVjdE5vZGVUcmVlKGNoaWxkLCB1bm1vdW50T25seSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gcmVjb2xsZWN0Tm9kZVRyZWUobm9kZSwgdW5tb3VudE9ubHkpIHtcblx0ICAgICAgICB2YXIgY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50O1xuXHQgICAgICAgIGlmIChjb21wb25lbnQpIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCAhdW5tb3VudE9ubHkpOyBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKG5vZGVbQVRUUl9LRVldICYmIG5vZGVbQVRUUl9LRVldLnJlZikgbm9kZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXHQgICAgICAgICAgICBpZiAoIXVubW91bnRPbmx5KSBjb2xsZWN0Tm9kZShub2RlKTtcblx0ICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGROb2RlcyAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSByZW1vdmVPcnBoYW5lZENoaWxkcmVuKG5vZGUuY2hpbGROb2RlcywgdW5tb3VudE9ubHkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGRpZmZBdHRyaWJ1dGVzKGRvbSwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXHQgICAgICAgIGZvciAodmFyIF9uYW1lIGluIG9sZCkgaWYgKCEoYXR0cnMgJiYgX25hbWUgaW4gYXR0cnMpKSBzZXRBY2Nlc3Nvcihkb20sIF9uYW1lLCBudWxsLCBvbGRbX25hbWVdLCBpc1N2Z01vZGUpO1xuXHQgICAgICAgIGlmIChhdHRycykgZm9yICh2YXIgX25hbWUyIGluIGF0dHJzKSBpZiAoIShfbmFtZTIgaW4gb2xkKSB8fCBhdHRyc1tfbmFtZTJdICE9ICgndmFsdWUnID09PSBfbmFtZTIgfHwgJ3NlbGVjdGVkJyA9PT0gX25hbWUyIHx8ICdjaGVja2VkJyA9PT0gX25hbWUyID8gZG9tW19uYW1lMl0gOiBvbGRbX25hbWUyXSkpIHNldEFjY2Vzc29yKGRvbSwgX25hbWUyLCBhdHRyc1tfbmFtZTJdLCBvbGRbX25hbWUyXSwgaXNTdmdNb2RlKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSwgbGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGxpc3QucHVzaChjb21wb25lbnQpOyBlbHNlIGNvbXBvbmVudHNbbmFtZV0gPSBbIGNvbXBvbmVudCBdO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KEN0b3IsIHByb3BzLCBjb250ZXh0KSB7XG5cdCAgICAgICAgdmFyIGluc3QgPSBuZXcgQ3Rvcihwcm9wcywgY29udGV4dCksIGxpc3QgPSBjb21wb25lbnRzW0N0b3IubmFtZV07XG5cdCAgICAgICAgaWYgKGxpc3QpIGZvciAodmFyIGkgPSBsaXN0Lmxlbmd0aDsgaS0tOyApIGlmIChsaXN0W2ldLmNvbnN0cnVjdG9yID09PSBDdG9yKSB7XG5cdCAgICAgICAgICAgIGluc3QubmV4dEJhc2UgPSBsaXN0W2ldLm5leHRCYXNlO1xuXHQgICAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBpbnN0O1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gdHJpZ2dlckNvbXBvbmVudFJlbmRlcihjb21wb25lbnQpIHtcblx0ICAgICAgICBpZiAoIWNvbXBvbmVudC5fZGlydHkpIHtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXJ0eSA9ICEwO1xuXHQgICAgICAgICAgICBlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc2V0Q29tcG9uZW50UHJvcHMoY29tcG9uZW50LCBwcm9wcywgb3B0cywgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgYiA9IGNvbXBvbmVudC5iYXNlO1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nKSB7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICEwO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmID0gcHJvcHMucmVmKSBkZWxldGUgcHJvcHMucmVmO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSBkZWxldGUgcHJvcHMua2V5O1xuXHQgICAgICAgICAgICBpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dCAhPT0gY29tcG9uZW50LmNvbnRleHQpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LnByZXZDb250ZXh0KSBjb21wb25lbnQucHJldkNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dDtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoIWNvbXBvbmVudC5wcmV2UHJvcHMpIGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJvcHM7XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHQgICAgICAgICAgICBjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcgPSAhMTtcblx0ICAgICAgICAgICAgaWYgKDAgIT09IG9wdHMpIGlmICgxID09PSBvcHRzIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMgIT09ICExIHx8ICFiKSByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCAxLCBtb3VudEFsbCk7IGVsc2UgdHJpZ2dlckNvbXBvbmVudFJlbmRlcihjb21wb25lbnQpO1xuXHQgICAgICAgICAgICBpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYoY29tcG9uZW50KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBvcHRzLCBtb3VudEFsbCkge1xuXHQgICAgICAgIGlmICghY29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nKSB7XG5cdCAgICAgICAgICAgIHZhciBza2lwLCByZW5kZXJlZCwgcHJvcHMgPSBjb21wb25lbnQucHJvcHMsIHN0YXRlID0gY29tcG9uZW50LnN0YXRlLCBjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsIHByZXZpb3VzUHJvcHMgPSBjb21wb25lbnQucHJldlByb3BzIHx8IHByb3BzLCBwcmV2aW91c1N0YXRlID0gY29tcG9uZW50LnByZXZTdGF0ZSB8fCBzdGF0ZSwgcHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsIGlzVXBkYXRlID0gY29tcG9uZW50LmJhc2UsIGluaXRpYWxCYXNlID0gaXNVcGRhdGUgfHwgY29tcG9uZW50Lm5leHRCYXNlLCBuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLCBiYXNlUGFyZW50ID0gaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UucGFyZW50Tm9kZSwgaW5pdGlhbENvbXBvbmVudCA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLl9jb21wb25lbnQsIGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXHQgICAgICAgICAgICBpZiAoaXNVcGRhdGUpIHtcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwcmV2aW91c1N0YXRlO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG5cdCAgICAgICAgICAgICAgICBpZiAoMiAhPT0gb3B0cyAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KSA9PT0gITEpIHNraXAgPSAhMDsgZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHN0YXRlO1xuXHQgICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJldlN0YXRlID0gY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50Lm5leHRCYXNlID0gbnVsbDtcblx0ICAgICAgICAgICAgY29tcG9uZW50Ll9kaXJ0eSA9ICExO1xuXHQgICAgICAgICAgICBpZiAoIXNraXApIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQucmVuZGVyKSByZW5kZXJlZCA9IGNvbXBvbmVudC5yZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSBjb250ZXh0ID0gZXh0ZW5kKGNsb25lKGNvbnRleHQpLCBjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KCkpO1xuXHQgICAgICAgICAgICAgICAgd2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgIHZhciB0b1VubW91bnQsIGJhc2UsIGNoaWxkQ29tcG9uZW50ID0gcmVuZGVyZWQgJiYgcmVuZGVyZWQubm9kZU5hbWU7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjaGlsZENvbXBvbmVudCkgJiYgY2hpbGRDb21wb25lbnQucHJvdG90eXBlLnJlbmRlcikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzID0gZ2V0Tm9kZVByb3BzKHJlbmRlcmVkKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdCAmJiBpbnN0LmNvbnN0cnVjdG9yID09PSBjaGlsZENvbXBvbmVudCkgc2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMSwgY29udGV4dCk7IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b1VubW91bnQgPSBpbnN0O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbnN0ID0gY3JlYXRlQ29tcG9uZW50KGNoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzLCBjb250ZXh0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaW5zdC5fcGFyZW50Q29tcG9uZW50ID0gY29tcG9uZW50O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuX2NvbXBvbmVudCA9IGluc3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDAsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJDb21wb25lbnQoaW5zdCwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UgPSBpbnN0LmJhc2U7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXHQgICAgICAgICAgICAgICAgICAgIHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAodG9Vbm1vdW50KSBjYmFzZSA9IGNvbXBvbmVudC5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEJhc2UgfHwgMSA9PT0gb3B0cykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Jhc2UpIGNiYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBiYXNlID0gZGlmZihjYmFzZSwgcmVuZGVyZWQsIGNvbnRleHQsIG1vdW50QWxsIHx8ICFpc1VwZGF0ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxCYXNlICYmIGJhc2UgIT09IGluaXRpYWxCYXNlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2VQYXJlbnQgJiYgYmFzZSAhPT0gYmFzZVBhcmVudCkgYmFzZVBhcmVudC5pbnNlcnRCZWZvcmUoYmFzZSwgbmV4dFNpYmxpbmcgfHwgbnVsbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCF0b1VubW91bnQgJiYgaW5pdGlhbENvbXBvbmVudCA9PT0gY29tcG9uZW50ICYmICFpbml0aWFsQ2hpbGRDb21wb25lbnQgJiYgaW5pdGlhbEJhc2UucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsQmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoaW5pdGlhbEJhc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGlmICh0b1VubW91bnQpIHVubW91bnRDb21wb25lbnQodG9Vbm1vdW50LCAhMCk7XG5cdCAgICAgICAgICAgICAgICBjb21wb25lbnQuYmFzZSA9IGJhc2U7XG5cdCAgICAgICAgICAgICAgICBpZiAoYmFzZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnQsIHQgPSBjb21wb25lbnQ7XG5cdCAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPSB0Ll9wYXJlbnRDb21wb25lbnQpIGNvbXBvbmVudFJlZiA9IHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgYmFzZS5fY29tcG9uZW50ID0gY29tcG9uZW50UmVmO1xuXHQgICAgICAgICAgICAgICAgICAgIGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghaXNVcGRhdGUgfHwgbW91bnRBbGwpIHtcblx0ICAgICAgICAgICAgICAgIG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWRpZmZMZXZlbCkgZmx1c2hNb3VudHMoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICghc2tpcCAmJiBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzUHJvcHMsIHByZXZpb3VzU3RhdGUsIHByZXZpb3VzQ29udGV4dCk7XG5cdCAgICAgICAgICAgIHZhciBmbiwgY2IgPSBjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcztcblx0ICAgICAgICAgICAgaWYgKGNiKSB3aGlsZSAoZm4gPSBjYi5wb3AoKSkgZm4uY2FsbChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmVuZGVyZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0ICAgICAgICB2YXIgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCwgb2xkRG9tID0gZG9tLCBpc0RpcmVjdE93bmVyID0gYyAmJiBkb20uX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZSwgaXNPd25lciA9IGlzRGlyZWN0T3duZXIsIHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0ICAgICAgICB3aGlsZSAoYyAmJiAhaXNPd25lciAmJiAoYyA9IGMuX3BhcmVudENvbXBvbmVudCkpIGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZTtcblx0ICAgICAgICBpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0ICAgICAgICAgICAgc2V0Q29tcG9uZW50UHJvcHMoYywgcHJvcHMsIDMsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0ICAgICAgICAgICAgZG9tID0gYy5iYXNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdCAgICAgICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KGMsICEwKTtcblx0ICAgICAgICAgICAgICAgIGRvbSA9IG9sZERvbSA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYyA9IGNyZWF0ZUNvbXBvbmVudCh2bm9kZS5ub2RlTmFtZSwgcHJvcHMsIGNvbnRleHQpO1xuXHQgICAgICAgICAgICBpZiAoZG9tICYmICFjLm5leHRCYXNlKSBjLm5leHRCYXNlID0gZG9tO1xuXHQgICAgICAgICAgICBzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHQgICAgICAgICAgICBkb20gPSBjLmJhc2U7XG5cdCAgICAgICAgICAgIGlmIChvbGREb20gJiYgZG9tICE9PSBvbGREb20pIHtcblx0ICAgICAgICAgICAgICAgIG9sZERvbS5fY29tcG9uZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKG9sZERvbSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGRvbTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0ICAgICAgICB2YXIgYmFzZSA9IGNvbXBvbmVudC5iYXNlO1xuXHQgICAgICAgIGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZyA9ICEwO1xuXHQgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHQgICAgICAgIGNvbXBvbmVudC5iYXNlID0gbnVsbDtcblx0ICAgICAgICB2YXIgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0ICAgICAgICBpZiAoaW5uZXIpIHVubW91bnRDb21wb25lbnQoaW5uZXIsIHJlbW92ZSk7IGVsc2UgaWYgKGJhc2UpIHtcblx0ICAgICAgICAgICAgaWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXHQgICAgICAgICAgICBjb21wb25lbnQubmV4dEJhc2UgPSBiYXNlO1xuXHQgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG5cdCAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGJhc2UpO1xuXHQgICAgICAgICAgICAgICAgY29sbGVjdENvbXBvbmVudChjb21wb25lbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKG51bGwpO1xuXHQgICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCkgY29tcG9uZW50LmNvbXBvbmVudERpZFVubW91bnQoKTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQgICAgICAgIHRoaXMuX2RpcnR5ID0gITA7XG5cdCAgICAgICAgdGhpcy5fZGlzYWJsZVJlbmRlcmluZyA9ICExO1xuXHQgICAgICAgIHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0ICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuXHQgICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcblx0ICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUoKSB8fCB7fTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50LCBtZXJnZSkge1xuXHQgICAgICAgIHJldHVybiBkaWZmKG1lcmdlLCB2bm9kZSwge30sICExLCBwYXJlbnQpO1xuXHQgICAgfVxuXHQgICAgdmFyIGxjQ2FjaGUgPSB7fTtcblx0ICAgIHZhciB0b0xvd2VyQ2FzZSA9IGZ1bmN0aW9uKHMpIHtcblx0ICAgICAgICByZXR1cm4gbGNDYWNoZVtzXSB8fCAobGNDYWNoZVtzXSA9IHMudG9Mb3dlckNhc2UoKSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIHJlc29sdmVkID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdCAgICB2YXIgc2V0SW1tZWRpYXRlID0gcmVzb2x2ZWQgPyBmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmVzb2x2ZWQudGhlbihmKTtcblx0ICAgIH0gOiBzZXRUaW1lb3V0O1xuXHQgICAgdmFyIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgdm5vZGU6IGVtcHR5XG5cdCAgICB9O1xuXHQgICAgdmFyIFNIQVJFRF9URU1QX0FSUkFZID0gW107XG5cdCAgICB2YXIgRU1QVFkgPSB7fTtcblx0ICAgIHZhciBBVFRSX0tFWSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cdCAgICB2YXIgTk9OX0RJTUVOU0lPTl9QUk9QUyA9IHtcblx0ICAgICAgICBib3hGbGV4OiAxLFxuXHQgICAgICAgIGJveEZsZXhHcm91cDogMSxcblx0ICAgICAgICBjb2x1bW5Db3VudDogMSxcblx0ICAgICAgICBmaWxsT3BhY2l0eTogMSxcblx0ICAgICAgICBmbGV4OiAxLFxuXHQgICAgICAgIGZsZXhHcm93OiAxLFxuXHQgICAgICAgIGZsZXhQb3NpdGl2ZTogMSxcblx0ICAgICAgICBmbGV4U2hyaW5rOiAxLFxuXHQgICAgICAgIGZsZXhOZWdhdGl2ZTogMSxcblx0ICAgICAgICBmb250V2VpZ2h0OiAxLFxuXHQgICAgICAgIGxpbmVDbGFtcDogMSxcblx0ICAgICAgICBsaW5lSGVpZ2h0OiAxLFxuXHQgICAgICAgIG9wYWNpdHk6IDEsXG5cdCAgICAgICAgb3JkZXI6IDEsXG5cdCAgICAgICAgb3JwaGFuczogMSxcblx0ICAgICAgICBzdHJva2VPcGFjaXR5OiAxLFxuXHQgICAgICAgIHdpZG93czogMSxcblx0ICAgICAgICB6SW5kZXg6IDEsXG5cdCAgICAgICAgem9vbTogMVxuXHQgICAgfTtcblx0ICAgIHZhciBpdGVtcyA9IFtdO1xuXHQgICAgdmFyIGl0ZW1zT2ZmbGluZSA9IFtdO1xuXHQgICAgdmFyIG5vZGVzID0ge307XG5cdCAgICB2YXIgbW91bnRzID0gW107XG5cdCAgICB2YXIgZGlmZkxldmVsID0gMDtcblx0ICAgIHZhciBpc1N2Z01vZGUgPSAhMTtcblx0ICAgIHZhciBjb21wb25lbnRzID0ge307XG5cdCAgICBleHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZSwge1xuXHQgICAgICAgIGxpbmtTdGF0ZTogZnVuY3Rpb24oa2V5LCBldmVudFBhdGgpIHtcblx0ICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9saW5rZWRTdGF0ZXMgfHwgKHRoaXMuX2xpbmtlZFN0YXRlcyA9IHt9KSwgY2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdCAgICAgICAgICAgIHJldHVybiBjW2NhY2hlS2V5XSB8fCAoY1tjYWNoZUtleV0gPSBjcmVhdGVMaW5rZWRTdGF0ZSh0aGlzLCBrZXksIGV2ZW50UGF0aCkpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0U3RhdGU6IGZ1bmN0aW9uKHN0YXRlLCBjYWxsYmFjaykge1xuXHQgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc3RhdGU7XG5cdCAgICAgICAgICAgIGlmICghdGhpcy5wcmV2U3RhdGUpIHRoaXMucHJldlN0YXRlID0gY2xvbmUocyk7XG5cdCAgICAgICAgICAgIGV4dGVuZChzLCBpc0Z1bmN0aW9uKHN0YXRlKSA/IHN0YXRlKHMsIHRoaXMucHJvcHMpIDogc3RhdGUpO1xuXHQgICAgICAgICAgICBpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSB0aGlzLl9yZW5kZXJDYWxsYmFja3MgfHwgW10pLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICAgICAgICB0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKHRoaXMpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZm9yY2VVcGRhdGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZW5kZXJDb21wb25lbnQodGhpcywgMik7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGV4cG9ydHMuaCA9IGg7XG5cdCAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGNsb25lRWxlbWVudDtcblx0ICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuXHQgICAgZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cdCAgICBleHBvcnRzLnJlcmVuZGVyID0gcmVyZW5kZXI7XG5cdCAgICBleHBvcnRzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHR9KTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLnNldEltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oc2V0SW1tZWRpYXRlLCBjbGVhckltbWVkaWF0ZSkge3ZhciBuZXh0VGljayA9IF9fd2VicGFja19yZXF1aXJlX18oNSkubmV4dFRpY2s7XG5cdHZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblx0dmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgaW1tZWRpYXRlSWRzID0ge307XG5cdHZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXHRcblx0Ly8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3Ncblx0XG5cdGV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcblx0fTtcblx0ZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xuXHR9O1xuXHRleHBvcnRzLmNsZWFyVGltZW91dCA9XG5cdGV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsgdGltZW91dC5jbG9zZSgpOyB9O1xuXHRcblx0ZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuXHQgIHRoaXMuX2lkID0gaWQ7XG5cdCAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG5cdH1cblx0VGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuXHRUaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcblx0fTtcblx0XG5cdC8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuXHRleHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0ICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdFxuXHQgIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuXHQgIGlmIChtc2VjcyA+PSAwKSB7XG5cdCAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG5cdCAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG5cdCAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG5cdCAgICB9LCBtc2Vjcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5cdGV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcblx0ICB2YXIgaWQgPSBuZXh0SW1tZWRpYXRlSWQrKztcblx0ICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdFxuXHQgIGltbWVkaWF0ZUlkc1tpZF0gPSB0cnVlO1xuXHRcblx0ICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuXHQgICAgaWYgKGltbWVkaWF0ZUlkc1tpZF0pIHtcblx0ICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuXHQgICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuXHQgICAgICBpZiAoYXJncykge1xuXHQgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZuLmNhbGwobnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG5cdCAgICAgIGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUoaWQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gaWQ7XG5cdH07XG5cdFxuXHRleHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG5cdH07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLnNldEltbWVkaWF0ZSwgX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5jbGVhckltbWVkaWF0ZSkpXG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0XG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0XG5cdC8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuXHQvLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcblx0Ly8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuXHQvLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXHRcblx0dmFyIGNhY2hlZFNldFRpbWVvdXQ7XG5cdHZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIHRyeSB7XG5cdCAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdHJ5IHtcblx0ICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGlzIG5vdCBkZWZpbmVkJyk7XG5cdCAgICB9XG5cdCAgfVxuXHR9ICgpKVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgY2xlYW5VcE5leHRUaWNrKTtcblx0ICAgIGRyYWluaW5nID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgd2hpbGUobGVuKSB7XG5cdCAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG5cdCAgICAgICAgcXVldWUgPSBbXTtcblx0ICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgY3VycmVudFF1ZXVlID0gbnVsbDtcblx0ICAgIGRyYWluaW5nID0gZmFsc2U7XG5cdCAgICBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCB0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBkcmFpblF1ZXVlLCAwKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXHRcblx0dmFyIF9jb21iaW5lUmVkdWNlcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cdFxuXHR2YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblx0XG5cdHZhciBfYXBwbHlNaWRkbGV3YXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0Lypcblx0KiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG5cdCogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuXHQqL1xuXHRmdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXHRcblx0aWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcblx0ICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xuXHR9XG5cdFxuXHRleHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gX2NvbWJpbmVSZWR1Y2VyczJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuY29tcG9zZSA9IF9jb21wb3NlMltcImRlZmF1bHRcIl07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpKSlcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXHRcblx0dmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG5cdCAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG5cdCAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuXHQgKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG5cdCAqL1xuXHR2YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuXHQgIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG5cdCAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuXHQgKlxuXHQgKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG5cdCAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcblx0ICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG5cdCAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2FueX0gW2luaXRpYWxTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG5cdCAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG5cdCAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG5cdCAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcblx0ICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZW5oYW5jZXIgVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuXHQgKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG5cdCAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcblx0ICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cblx0ICpcblx0ICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcblx0ICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlLCBlbmhhbmNlcikge1xuXHQgIHZhciBfcmVmMjtcblx0XG5cdCAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgZW5oYW5jZXIgPSBpbml0aWFsU3RhdGU7XG5cdCAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG5cdCAgfVxuXHRcblx0ICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcblx0ICB2YXIgY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG5cdCAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuXHQgIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cdFxuXHQgIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG5cdCAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuXHQgICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG5cdCAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cblx0ICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cblx0ICAgKlxuXHQgICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG5cdCAgICogY2F2ZWF0czpcblx0ICAgKlxuXHQgICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cblx0ICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcblx0ICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cblx0ICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcblx0ICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuXHQgICAqXG5cdCAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG5cdCAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcblx0ICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuXHQgICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3Rcblx0ICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cdFxuXHQgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuXHQgICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcblx0ICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cblx0ICAgKlxuXHQgICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcblx0ICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG5cdCAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuXHQgICAqIHdpbGwgYmUgbm90aWZpZWQuXG5cdCAgICpcblx0ICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuXHQgICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG5cdCAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG5cdCAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuXHQgICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuXHQgICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG5cdCAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcblx0ICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2Vcblx0ICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG5cdCAgICpcblx0ICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG5cdCAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuXHQgICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG5cdCAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYWN0aW9uO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG5cdCAgICpcblx0ICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG5cdCAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuXHQgICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG5cdCAgICogQHJldHVybnMge3ZvaWR9XG5cdCAgICovXG5cdCAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcblx0ICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuXHQgICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG5cdCAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG5cdCAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcblx0ICAgKiBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcblx0ICAgIHZhciBfcmVmO1xuXHRcblx0ICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcblx0ICAgIHJldHVybiBfcmVmID0ge1xuXHQgICAgICAvKipcblx0ICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuXHQgICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cblx0ICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cblx0ICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuXHQgICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cblx0ICAgICAgICovXG5cdFxuXHQgICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuXHQgICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcblx0ICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuXHQgICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG5cdCAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG5cdCAgICAgIH1cblx0ICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSwgX3JlZjtcblx0ICB9XG5cdFxuXHQgIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG5cdCAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG5cdCAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblx0ICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgIHJldHVybiBfcmVmMiA9IHtcblx0ICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcblx0ICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuXHQgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG5cdCAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcblx0fVxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdldFByb3RvdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oOSksXG5cdCAgICBpc0hvc3RPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxcblx0ICAgIGlzT2JqZWN0TGlrZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0LyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG5cdHZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG5cdHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG5cdCAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuXHQgKiBvZiB2YWx1ZXMuXG5cdCAqL1xuXHR2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG5cdCAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMC44LjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuXHQgKiAgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBmdW5jdGlvbiBGb28oKSB7XG5cdCAqICAgdGhpcy5hID0gMTtcblx0ICogfVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICovXG5cdGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcblx0ICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcblx0ICAgICAgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT0gb2JqZWN0VGFnIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcblx0ICBpZiAocHJvdG8gPT09IG51bGwpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHQgIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuXHQgICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG92ZXJBcmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG5cdCAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgZmlyc3QgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuXHQgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuXHQgIH07XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuXHQgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG5cdCAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cblx0ICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cdCAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuXHQgICAgfSBjYXRjaCAoZSkge31cblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdCAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgNC4wLjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvKiBnbG9iYWwgd2luZG93ICovXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoZ2xvYmFsIHx8IHdpbmRvdyB8fCB0aGlzKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdFx0dmFyIHJlc3VsdDtcblx0XHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cdFxuXHRcdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21iaW5lUmVkdWNlcnM7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfaXNQbGFpbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcblx0ICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcblx0ICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cdFxuXHQgIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24pIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXHRcblx0ICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuXHQgIH1cblx0XG5cdCAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcblx0ICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcblx0ICB9XG5cdFxuXHQgIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSk7XG5cdCAgfSk7XG5cdFxuXHQgIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdCAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcblx0ICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG5cdCAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcblx0ICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcblx0ICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuXHQgKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcblx0ICogcmVkdWNlciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG5cdCAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cblx0ICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cblx0ICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuXHQgKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcblx0ICogdW5yZWNvZ25pemVkIGFjdGlvbi5cblx0ICpcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuXHQgKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcblx0ICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG5cdCAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cdCAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblx0XG5cdCAgdmFyIHNhbml0eUVycm9yO1xuXHQgIHRyeSB7XG5cdCAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIHNhbml0eUVycm9yID0gZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICBpZiAoc2FuaXR5RXJyb3IpIHtcblx0ICAgICAgdGhyb3cgc2FuaXR5RXJyb3I7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcblx0ICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcblx0ICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHdhcm5pbmdNZXNzYWdlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG5cdCAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuXHQgICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG5cdCAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cdCAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbik7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICAgIH1cblx0ICAgICAgbmV4dFN0YXRlW2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG5cdCAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSkpXG5cbi8qKiovIH0sXG4vKiAxNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3YXJuaW5nO1xuXHQvKipcblx0ICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG5cdCAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXHQgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG5cdCAgfVxuXHQgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXHQgIHRyeSB7XG5cdCAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcblx0ICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG5cdCAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cblx0ICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0ICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG5cdCAgfSBjYXRjaCAoZSkge31cblx0ICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG5cdH1cblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcblx0ZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcblx0ICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuXHQgKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG5cdCAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuXHQgKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuXHQgKlxuXHQgKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcblx0ICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cblx0ICpcblx0ICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuXHQgKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG5cdCAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG5cdCAqIHN0b3JlLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuXHQgKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG5cdCAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuXHQgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuXHQgIH1cblx0XG5cdCAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG5cdCAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXHQgICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXHQgICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXBwbHlNaWRkbGV3YXJlO1xuXHRcblx0dmFyIF9jb21wb3NlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHR2YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuXHQgKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG5cdCAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG5cdCAqXG5cdCAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cblx0ICpcblx0ICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG5cdCAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cblx0ICpcblx0ICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuXHQgKiBhcyBuYW1lZCBhcmd1bWVudHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cblx0ICovXG5cdGZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcblx0ICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuXHQgICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG5cdCAgICAgIHZhciBjaGFpbiA9IFtdO1xuXHRcblx0ICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG5cdCAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuXHQgICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcblx0ICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG5cdCAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbXCJkZWZhdWx0XCJdLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblx0XG5cdCAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcblx0ICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICB9O1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbXBvc2U7XG5cdC8qKlxuXHQgKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuXHQgKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3Jcblx0ICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG5cdCAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG5cdCAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cdFxuXHQgIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICAgIHJldHVybiBhcmc7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcblx0ICAgICAgdmFyIHJlc3QgPSBmdW5jcy5zbGljZSgwLCAtMSk7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcblx0ICAgICAgICAgIHJldHVybiByZXN0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjb21wb3NlZCwgZikge1xuXHQgICAgICAgICAgICByZXR1cm4gZihjb21wb3NlZCk7XG5cdCAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfSgpO1xuXHRcblx0ICAgIGlmICh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdHZhciBfcmVkdXhVbmRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTApO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvclJpZ2h0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvclJpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2N1cnZlRWRpdG9yUmlnaHQpO1xuXHRcblx0dmFyIF9jdXJ2ZUVkaXRvckxlZnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nik7XG5cdFxuXHR2YXIgX2N1cnZlRWRpdG9yTGVmdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXJ2ZUVkaXRvckxlZnQpO1xuXHRcblx0dmFyIF9pY29ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblx0XG5cdHZhciBfaWNvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbnMpO1xuXHRcblx0dmFyIF9jb2RlUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cdFxuXHR2YXIgX2NvZGVQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2RlUGFuZWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ3VydmVFZGl0b3IsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDdXJ2ZUVkaXRvcigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEN1cnZlRWRpdG9yKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKEN1cnZlRWRpdG9yKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEN1cnZlRWRpdG9yLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHRcblx0ICAgICAgdmFyIHN0b3JlID0gdGhpcy5jb250ZXh0LnN0b3JlO1xuXHQgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXHQgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvciddLCBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbnMyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jb2RlUGFuZWwyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvckxlZnQyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlIH0pLFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9jdXJ2ZUVkaXRvclJpZ2h0Mi5kZWZhdWx0LCB7IHN0YXRlOiBzdGF0ZSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciBYX1NJWkUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyA1Mztcblx0ICAgICAgdmFyIFlfU0laRSA9IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIDIgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BBRERJTkc7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB0ZW1wX3RvcCA9IHJlc2l6ZS50ZW1wX3RvcDtcblx0ICAgICAgdmFyIHRlbXBfYm90dG9tID0gcmVzaXplLnRlbXBfYm90dG9tO1xuXHQgICAgICB2YXIgdGVtcF9yaWdodCA9IHJlc2l6ZS50ZW1wX3JpZ2h0O1xuXHQgICAgICB2YXIgdHJhbnNsYXRlID0gcmVzaXplLnRyYW5zbGF0ZTtcblx0XG5cdFxuXHQgICAgICB0ZW1wX3RvcCArPSByZXNpemUudG9wO1xuXHQgICAgICB0ZW1wX2JvdHRvbSArPSByZXNpemUuYm90dG9tO1xuXHQgICAgICB0ZW1wX3JpZ2h0ICs9IHJlc2l6ZS5yaWdodDtcblx0XG5cdCAgICAgIC8vIGNvbnN0cmFpbiBtaW4gaGVpZ2h0XG5cdCAgICAgIGlmIChZX1NJWkUgLSB0ZW1wX3RvcCA8IFlfU0laRSkge1xuXHQgICAgICAgIHRlbXBfdG9wID0gMDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoWV9TSVpFICsgdGVtcF9ib3R0b20gPCBZX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX2JvdHRvbSA9IDA7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKFhfU0laRSArIHRlbXBfcmlnaHQgPCBYX1NJWkUpIHtcblx0ICAgICAgICB0ZW1wX3JpZ2h0ID0gMDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGVtcF90b3AgPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF90b3AsIC0xKTtcblx0ICAgICAgdGVtcF9ib3R0b20gPSAoMCwgX3Jlc2l6ZU1vZDIuZGVmYXVsdCkodGVtcF9ib3R0b20pO1xuXHRcblx0ICAgICAgdmFyIGhlaWdodCA9ICdoZWlnaHQ6ICcgKyAoWV9TSVpFIC0gdGVtcF90b3AgKyB0ZW1wX2JvdHRvbSkgKyAncHgnLFxuXHQgICAgICAgICAgd2lkdGggPSAnd2lkdGg6ICcgKyAoWF9TSVpFICsgdGVtcF9yaWdodCkgKyAncHgnLFxuXHQgICAgICAgICAgeCA9IHJlc2l6ZS54ICsgcmVzaXplLnRlbXBYLFxuXHQgICAgICAgICAgeSA9IHJlc2l6ZS55ICsgcmVzaXplLnRlbXBZLFxuXHQgICAgICAgICAgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCAnICsgKHkgKyB0ZW1wX3RvcCkgKyAncHgpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNmb3JtICsgJzsgJyArIHRyYW5zZm9ybSArICc7ICcgKyB3aWR0aCArICc7ICcgKyBoZWlnaHQgKyAnOyc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtbGVmdC1wYW5lbCcpO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihlbCkpO1xuXHRcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEUnLCBkYXRhOiB7IHg6IHgsIHk6IHkgfSB9KTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEVfRU5EJywgZGF0YTogeyB4OiB4LCB5OiB5IH0gfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICAvLyAub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7IH0pO1xuXHRcblx0ICAgICAgdGhpcy5fYWRkS2V5VXAoKTtcblx0ICAgICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2FkZEtleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkS2V5VXAoKSB7XG5cdCAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfb25LZXlVcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX29uS2V5VXAoZSkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHQgICAgICBpZiAoIWUuYWx0S2V5KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuXHQgICAgICAgIGNhc2UgOTA6XG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaChfcmVkdXhVbmRvLkFjdGlvbkNyZWF0b3JzLnVuZG8oKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgY2FzZSA4ODpcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKF9yZWR1eFVuZG8uQWN0aW9uQ3JlYXRvcnMucmVkbygpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICBjYXNlIDY4OlxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVMRVRFJyB9KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ3VydmVFZGl0b3I7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3I7XG5cbi8qKiovIH0sXG4vKiAyMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyAxOS4xLjIuOSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblx0dmFyIHRvT2JqZWN0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCAkZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzIpKCdnZXRQcm90b3R5cGVPZicsIGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KXtcblx0ICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcblx0ICB9O1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDI0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cdHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cdHZhciBoYXMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCB0b09iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpKCdJRV9QUk9UTycpXG5cdCAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcblx0ICBPID0gdG9PYmplY3QoTyk7XG5cdCAgaWYoaGFzKE8sIElFX1BST1RPKSlyZXR1cm4gT1tJRV9QUk9UT107XG5cdCAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG5cdCAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cdCAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcblx0ICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSkoJ2tleXMnKVxuXHQgICwgdWlkICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQgICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcblx0ICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuXHQgIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5cdHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuXHQgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0aWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgaWQgPSAwXG5cdCAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcblx0ICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCBjb3JlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNClcblx0ICAsIGZhaWxzICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuXHQgIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cblx0ICAgICwgZXhwID0ge307XG5cdCAgZXhwW0tFWV0gPSBleGVjKGZuKTtcblx0ICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdsb2JhbCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzApXG5cdCAgLCBjb3JlICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICwgY3R4ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSlcblx0ICAsIGhpZGUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblx0XG5cdHZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcblx0ICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuXHQgICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG5cdCAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcblx0ICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuXHQgICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG5cdCAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0Lldcblx0ICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcblx0ICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG5cdCAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cblx0ICAgICwga2V5LCBvd24sIG91dDtcblx0ICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcblx0ICBmb3Ioa2V5IGluIHNvdXJjZSl7XG5cdCAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcblx0ICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG5cdCAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG5cdCAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuXHQgICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcblx0ICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuXHQgICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cblx0ICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG5cdCAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuXHQgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcblx0ICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG5cdCAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG5cdCAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuXHQgICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuXHQgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcblx0ICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG5cdCAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuXHQgICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG5cdCAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9O1xuXHQgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG5cdCAgICAgIHJldHVybiBGO1xuXHQgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG5cdCAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG5cdCAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcblx0ICAgIGlmKElTX1BST1RPKXtcblx0ICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuXHQgICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuXHQgICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdC8vIHR5cGUgYml0bWFwXG5cdCRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG5cdCRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG5cdCRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG5cdCRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cblx0JGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG5cdCRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuXHQkZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcblx0JGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxuXHRtb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt2ZXJzaW9uOiAnMi40LjAnfTtcblx0aWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cdHZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcblx0ICBhRnVuY3Rpb24oZm4pO1xuXHQgIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG5cdCAgc3dpdGNoKGxlbmd0aCl7XG5cdCAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcblx0ICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG5cdCAgICB9O1xuXHQgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG5cdCAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuXHQgICAgfTtcblx0ICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuXHQgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcblx0ICAgIH07XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KVxuXHQgICwgY3JlYXRlRGVzYyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHR9IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcblx0ICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuXHQgIHJldHVybiBvYmplY3Q7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSlcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0ICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXHRcblx0ZXhwb3J0cy5mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MikgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcblx0ICBhbk9iamVjdChPKTtcblx0ICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG5cdCAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG5cdCAgaWYoSUU4X0RPTV9ERUZJTkUpdHJ5IHtcblx0ICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgaWYoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKXRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG5cdCAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MykoZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19yZXF1aXJlX18oNDQpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuXHRtb2R1bGUuZXhwb3J0cyA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiAhIWV4ZWMoKTtcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdCAgLCBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApLmRvY3VtZW50XG5cdCAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG5cdCAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcblx0dmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdC8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG5cdC8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuXHQgIHZhciBmbiwgdmFsO1xuXHQgIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG5cdCAgaWYoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcblx0ICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcblx0ICByZXR1cm4ge1xuXHQgICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuXHQgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuXHQgICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuXHQgICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG5cdCAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0ICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHQgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHQgICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuXHQgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG5cdCAgICByZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXG4vKioqLyB9LFxuLyogNDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXyg1MCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0dmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5PYmplY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG5cdCAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0Ly8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMzgpLmZ9KTtcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG5cdCAgaWYgKCFzZWxmKSB7XG5cdCAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdFxuXHR2YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblx0XG5cdHZhciBfc3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdFxuXHR2YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xuXHR9IDogZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKS5mKCdpdGVyYXRvcicpO1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0dmFyICRhdCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KSh0cnVlKTtcblx0XG5cdC8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OSkoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuXHQgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcblx0ICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuXHQvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG5cdH0sIGZ1bmN0aW9uKCl7XG5cdCAgdmFyIE8gICAgID0gdGhpcy5fdFxuXHQgICAgLCBpbmRleCA9IHRoaXMuX2lcblx0ICAgICwgcG9pbnQ7XG5cdCAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcblx0ICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG5cdCAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG5cdCAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpXG5cdCAgLCBkZWZpbmVkICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0Ly8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG5cdC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG5cdCAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuXHQgICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuXHQgICAgICAsIGwgPSBzLmxlbmd0aFxuXHQgICAgICAsIGEsIGI7XG5cdCAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuXHQgICAgYSA9IHMuY2hhckNvZGVBdChpKTtcblx0ICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG5cdCAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG5cdCAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gNy4xLjQgVG9JbnRlZ2VyXG5cdHZhciBjZWlsICA9IE1hdGguY2VpbFxuXHQgICwgZmxvb3IgPSBNYXRoLmZsb29yO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBMSUJSQVJZICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjApXG5cdCAgLCAkZXhwb3J0ICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdCAgLCByZWRlZmluZSAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpXG5cdCAgLCBoaWRlICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpXG5cdCAgLCBoYXMgICAgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBJdGVyYXRvcnMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpXG5cdCAgLCAkaXRlckNyZWF0ZSAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCAgLCBJVEVSQVRPUiAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCdpdGVyYXRvcicpXG5cdCAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG5cdCAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuXHQgICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcblx0ICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cdFxuXHR2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuXHQgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblx0ICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG5cdCAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG5cdCAgICBzd2l0Y2goa2luZCl7XG5cdCAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcblx0ICB9O1xuXHQgIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG5cdCAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuXHQgICAgLCBWQUxVRVNfQlVHID0gZmFsc2Vcblx0ICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG5cdCAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cblx0ICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG5cdCAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG5cdCAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG5cdCAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG5cdCAgLy8gRml4IG5hdGl2ZVxuXHQgIGlmKCRhbnlOYXRpdmUpe1xuXHQgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcblx0ICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcblx0ICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuXHQgICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcblx0ICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG5cdCAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcblx0ICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuXHQgICAgVkFMVUVTX0JVRyA9IHRydWU7XG5cdCAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuXHQgIH1cblx0ICAvLyBEZWZpbmUgaXRlcmF0b3Jcblx0ICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG5cdCAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuXHQgIH1cblx0ICAvLyBQbHVnIGZvciBsaWJyYXJ5XG5cdCAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG5cdCAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcblx0ICBpZihERUZBVUxUKXtcblx0ICAgIG1ldGhvZHMgPSB7XG5cdCAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuXHQgICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG5cdCAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG5cdCAgICB9O1xuXHQgICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG5cdCAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuXHQgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcblx0ICB9XG5cdCAgcmV0dXJuIG1ldGhvZHM7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBjcmVhdGUgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpXG5cdCAgLCBkZXNjcmlwdG9yICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpXG5cdCAgLCBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpXG5cdCAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXHRcblx0Ly8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzNykoSXRlcmF0b3JQcm90b3R5cGUsIF9fd2VicGFja19yZXF1aXJlX18oNzcpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcblx0ICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG5cdCAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdHZhciBhbk9iamVjdCAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpXG5cdCAgLCBkUHMgICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpXG5cdCAgLCBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpXG5cdCAgLCBJRV9QUk9UTyAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpKCdJRV9QUk9UTycpXG5cdCAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cblx0ICAsIFBST1RPVFlQRSAgID0gJ3Byb3RvdHlwZSc7XG5cdFxuXHQvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG5cdHZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24oKXtcblx0ICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuXHQgIHZhciBpZnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSgnaWZyYW1lJylcblx0ICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXG5cdCAgICAsIGx0ICAgICA9ICc8J1xuXHQgICAgLCBndCAgICAgPSAnPidcblx0ICAgICwgaWZyYW1lRG9jdW1lbnQ7XG5cdCAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgX193ZWJwYWNrX3JlcXVpcmVfXyg3NSkuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcblx0ICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG5cdCAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcblx0ICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG5cdCAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcblx0ICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG5cdCAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuXHQgIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG5cdCAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG5cdCAgd2hpbGUoaS0tKWRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuXHQgIHJldHVybiBjcmVhdGVEaWN0KCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuXHQgIHZhciByZXN1bHQ7XG5cdCAgaWYoTyAhPT0gbnVsbCl7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG5cdCAgICByZXN1bHQgPSBuZXcgRW1wdHk7XG5cdCAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcblx0ICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcblx0ICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuXHQgIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG5cdCAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGRQICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSlcblx0ICAsIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuXHQgIGFuT2JqZWN0KE8pO1xuXHQgIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXG5cdCAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGkgPSAwXG5cdCAgICAsIFA7XG5cdCAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuXHQgIHJldHVybiBPO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxuXHR2YXIgJGtleXMgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHQgICwgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBoYXMgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgdG9JT2JqZWN0ICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OClcblx0ICAsIGFycmF5SW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpKGZhbHNlKVxuXHQgICwgSUVfUFJPVE8gICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCkoJ0lFX1BST1RPJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuXHQgIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGtleTtcblx0ICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcblx0ICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG5cdHZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSlcblx0ICAsIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcblx0Ly8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcblx0dmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdCAgLCB0b0xlbmd0aCAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKVxuXHQgICwgdG9JbmRleCAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuXHQgIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG5cdCAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuXHQgICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuXHQgICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG5cdCAgICAgICwgdmFsdWU7XG5cdCAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG5cdCAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG5cdCAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcblx0ICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG5cdCAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG5cdCAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcblx0ICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuXHQgICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuXHQgIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gNy4xLjE1IFRvTGVuZ3RoXG5cdHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KVxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpXG5cdCAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuXHQgICwgbWluICAgICAgID0gTWF0aC5taW47XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG5cdCAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuXHQgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcblx0bW9kdWxlLmV4cG9ydHMgPSAoXG5cdCAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcblx0KS5zcGxpdCgnLCcpO1xuXG4vKioqLyB9LFxuLyogNzUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCkuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBkZWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KS5mXG5cdCAgLCBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NykoJ3RvU3RyaW5nVGFnJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuXHQgIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgc3RvcmUgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpKCd3a3MnKVxuXHQgICwgdWlkICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpXG5cdCAgLCBTeW1ib2wgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCkuU3ltYm9sXG5cdCAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXHRcblx0dmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcblx0ICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cblx0ICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG5cdH07XG5cdFxuXHQkZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXHR2YXIgZ2xvYmFsICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMzApXG5cdCAgLCBoaWRlICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNylcblx0ICAsIEl0ZXJhdG9ycyAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKVxuXHQgICwgVE9fU1RSSU5HX1RBRyA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCd0b1N0cmluZ1RhZycpO1xuXHRcblx0Zm9yKHZhciBjb2xsZWN0aW9ucyA9IFsnTm9kZUxpc3QnLCAnRE9NVG9rZW5MaXN0JywgJ01lZGlhTGlzdCcsICdTdHlsZVNoZWV0TGlzdCcsICdDU1NSdWxlTGlzdCddLCBpID0gMDsgaSA8IDU7IGkrKyl7XG5cdCAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuXHQgICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG5cdCAgICAsIHByb3RvICAgICAgPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuXHQgIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcblx0ICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MClcblx0ICAsIHN0ZXAgICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKVxuXHQgICwgSXRlcmF0b3JzICAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpXG5cdCAgLCB0b0lPYmplY3QgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHQvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG5cdC8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG5cdC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcblx0Ly8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSkoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcblx0ICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG5cdCAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcblx0ICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuXHQvLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcblx0fSwgZnVuY3Rpb24oKXtcblx0ICB2YXIgTyAgICAgPSB0aGlzLl90XG5cdCAgICAsIGtpbmQgID0gdGhpcy5fa1xuXHQgICAgLCBpbmRleCA9IHRoaXMuX2krKztcblx0ICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG5cdCAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuXHQgICAgcmV0dXJuIHN0ZXAoMSk7XG5cdCAgfVxuXHQgIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuXHQgIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuXHQgIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcblx0fSwgJ3ZhbHVlcycpO1xuXHRcblx0Ly8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuXHRJdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXHRcblx0YWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuXHRhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcblx0YWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vKioqLyB9LFxuLyogODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcblx0ICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IF9fd2VicGFja19yZXF1aXJlX18oODQpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiA4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuU3ltYm9sO1xuXG4vKioqLyB9LFxuLyogODUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQgICwgaGFzICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KVxuXHQgICwgREVTQ1JJUFRPUlMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgcmVkZWZpbmUgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKVxuXHQgICwgTUVUQSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KS5LRVlcblx0ICAsICRmYWlscyAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mylcblx0ICAsIHNoYXJlZCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0ICAsIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nilcblx0ICAsIHVpZCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSlcblx0ICAsIHdrcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nylcblx0ICAsIHdrc0V4dCAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Milcblx0ICAsIHdrc0RlZmluZSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nylcblx0ICAsIGtleU9mICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OClcblx0ICAsIGVudW1LZXlzICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSlcblx0ICAsIGlzQXJyYXkgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Milcblx0ICAsIGFuT2JqZWN0ICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSlcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OClcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nilcblx0ICAsIF9jcmVhdGUgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NClcblx0ICAsIGdPUE5FeHQgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mylcblx0ICAsICRHT1BEICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSlcblx0ICAsICREUCAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOClcblx0ICAsICRrZXlzICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nilcblx0ICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuXHQgICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuXHQgICwgZ09QTiAgICAgICAgICAgPSBnT1BORXh0LmZcblx0ICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuXHQgICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuXHQgICwgX3N0cmluZ2lmeSAgICAgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnlcblx0ICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcblx0ICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcblx0ICAsIFRPX1BSSU1JVElWRSAgID0gd2tzKCd0b1ByaW1pdGl2ZScpXG5cdCAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG5cdCAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jylcblx0ICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcblx0ICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcblx0ICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cblx0ICAsIFVTRV9OQVRJVkUgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuXHQgICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcblx0Ly8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG5cdHZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXHRcblx0Ly8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG5cdHZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uKCl7XG5cdCAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG5cdCAgfSkpLmEgIT0gNztcblx0fSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcblx0ICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcblx0ICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG5cdCAgZFAoaXQsIGtleSwgRCk7XG5cdCAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuXHR9IDogZFA7XG5cdFxuXHR2YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG5cdCAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcblx0ICBzeW0uX2sgPSB0YWc7XG5cdCAgcmV0dXJuIHN5bTtcblx0fTtcblx0XG5cdHZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG5cdCAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcblx0fSA6IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xuXHR9O1xuXHRcblx0dmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90bykkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuXHQgIGFuT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGFuT2JqZWN0KEQpO1xuXHQgIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcblx0ICAgIGlmKCFELmVudW1lcmFibGUpe1xuXHQgICAgICBpZighaGFzKGl0LCBISURERU4pKWRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcblx0ICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG5cdCAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuXHQgICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcblx0ICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcblx0fTtcblx0dmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG5cdCAgYW5PYmplY3QoaXQpO1xuXHQgIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcblx0ICAgICwgaSAgICA9IDBcblx0ICAgICwgbCA9IGtleXMubGVuZ3RoXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcblx0ICByZXR1cm4gaXQ7XG5cdH07XG5cdHZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcblx0ICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG5cdH07XG5cdHZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuXHQgIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG5cdCAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG5cdCAgaXQgID0gdG9JT2JqZWN0KGl0KTtcblx0ICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuXHQgIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG5cdCAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuXHQgIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuXHQgIHJldHVybiBEO1xuXHR9O1xuXHR2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcblx0ICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuXHQgICAgLCByZXN1bHQgPSBbXVxuXHQgICAgLCBpICAgICAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcblx0ICAgIGlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSlyZXN1bHQucHVzaChrZXkpO1xuXHQgIH0gcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0dmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuXHQgIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cblx0ICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG5cdCAgICAsIHJlc3VsdCA9IFtdXG5cdCAgICAsIGkgICAgICA9IDBcblx0ICAgICwga2V5O1xuXHQgIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpe1xuXHQgICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG5cdCAgfSByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0Ly8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5cdGlmKCFVU0VfTkFUSVZFKXtcblx0ICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG5cdCAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcblx0ICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuXHQgICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdCAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcblx0ICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuXHQgICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuXHQgICAgfTtcblx0ICAgIGlmKERFU0NSSVBUT1JTICYmIHNldHRlcilzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldH0pO1xuXHQgICAgcmV0dXJuIHdyYXAodGFnKTtcblx0ICB9O1xuXHQgIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcblx0ICAgIHJldHVybiB0aGlzLl9rO1xuXHQgIH0pO1xuXHRcblx0ICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0ICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oOTQpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblx0XG5cdCAgaWYoREVTQ1JJUFRPUlMgJiYgIV9fd2VicGFja19yZXF1aXJlX18oNjApKXtcblx0ICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuXHQgIH1cblx0XG5cdCAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcblx0ICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG5cdCAgfVxuXHR9XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cdFxuXHRmb3IodmFyIHN5bWJvbHMgPSAoXG5cdCAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcblx0ICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG5cdCkuc3BsaXQoJywnKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrcyhzeW1ib2xzW2krK10pO1xuXHRcblx0Zm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcblx0ICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcblx0ICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcblx0ICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcblx0ICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG5cdCAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcblx0ICB9LFxuXHQgIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuXHQgIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG5cdCAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcblx0ICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcblx0ICB9LFxuXHQgIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcblx0ICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG5cdH0pO1xuXHRcblx0JGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcblx0ICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG5cdCAgY3JlYXRlOiAkY3JlYXRlLFxuXHQgIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuXHQgIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG5cdCAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcblx0ICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcblx0ICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG5cdCAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuXHQgIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cdCAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG5cdCAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuXHQgIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xuXHR9KTtcblx0XG5cdC8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuXHQkSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24oKXtcblx0ICB2YXIgUyA9ICRTeW1ib2woKTtcblx0ICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuXHQgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuXHQgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG5cdCAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcblx0fSkpLCAnSlNPTicsIHtcblx0ICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG5cdCAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcblx0ICAgIHZhciBhcmdzID0gW2l0XVxuXHQgICAgICAsIGkgICAgPSAxXG5cdCAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcblx0ICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG5cdCAgICByZXBsYWNlciA9IGFyZ3NbMV07XG5cdCAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcblx0ICAgIGlmKCRyZXBsYWNlciB8fCAhaXNBcnJheShyZXBsYWNlcikpcmVwbGFjZXIgPSBmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0ICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG5cdCAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuXHQgICAgfTtcblx0ICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcblx0ICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0Ly8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuXHQkU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuXHQvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5cdHNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcblx0Ly8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuXHQvLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuXHRzZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgTUVUQSAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSgnbWV0YScpXG5cdCAgLCBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdCAgLCBoYXMgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCAgLCBzZXREZXNjICA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpLmZcblx0ICAsIGlkICAgICAgID0gMDtcblx0dmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24oKXtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0dmFyIEZSRUVaRSA9ICFfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKShmdW5jdGlvbigpe1xuXHQgIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG5cdH0pO1xuXHR2YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBzZXREZXNjKGl0LCBNRVRBLCB7dmFsdWU6IHtcblx0ICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuXHQgICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcblx0ICB9fSk7XG5cdH07XG5cdHZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuXHQgIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcblx0ICBpZighaGFzKGl0LCBNRVRBKSl7XG5cdCAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuXHQgICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcblx0ICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG5cdCAgICBpZighY3JlYXRlKXJldHVybiAnRSc7XG5cdCAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuXHQgICAgc2V0TWV0YShpdCk7XG5cdCAgLy8gcmV0dXJuIG9iamVjdCBJRFxuXHQgIH0gcmV0dXJuIGl0W01FVEFdLmk7XG5cdH07XG5cdHZhciBnZXRXZWFrID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG5cdCAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuXHQgICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3Rcblx0ICAgIGlmKCFpc0V4dGVuc2libGUoaXQpKXJldHVybiB0cnVlO1xuXHQgICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcblx0ICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuXHQgICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcblx0ICAgIHNldE1ldGEoaXQpO1xuXHQgIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG5cdCAgfSByZXR1cm4gaXRbTUVUQV0udztcblx0fTtcblx0Ly8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG5cdHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uKGl0KXtcblx0ICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG5cdCAgcmV0dXJuIGl0O1xuXHR9O1xuXHR2YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIEtFWTogICAgICBNRVRBLFxuXHQgIE5FRUQ6ICAgICBmYWxzZSxcblx0ICBmYXN0S2V5OiAgZmFzdEtleSxcblx0ICBnZXRXZWFrOiAgZ2V0V2Vhayxcblx0ICBvbkZyZWV6ZTogb25GcmVlemVcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgZ2xvYmFsICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQgICwgY29yZSAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KVxuXHQgICwgTElCUkFSWSAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKVxuXHQgICwgd2tzRXh0ICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKVxuXHQgICwgZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KS5mO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuXHQgIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG5cdCAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGdldEtleXMgICA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpXG5cdCAgLCB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcblx0ICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcblx0ICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuXHQgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuXHQgICAgLCBpbmRleCAgPSAwXG5cdCAgICAsIGtleTtcblx0ICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG5cdHZhciBnZXRLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nilcblx0ICAsIGdPUFMgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKVxuXHQgICwgcElFICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG5cdCAgaWYoZ2V0U3ltYm9scyl7XG5cdCAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG5cdCAgICAgICwgaXNFbnVtICA9IHBJRS5mXG5cdCAgICAgICwgaSAgICAgICA9IDBcblx0ICAgICAgLCBrZXk7XG5cdCAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcblx0ICB9IHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuLyoqKi8gfSxcbi8qIDkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqKi8gfSxcbi8qIDkyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuXHR2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG5cdCAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xuXHR2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OClcblx0ICAsIGdPUE4gICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpLmZcblx0ICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXHRcblx0dmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcblx0ICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblx0XG5cdHZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcblx0ICB0cnkge1xuXHQgICAgcmV0dXJuIGdPUE4oaXQpO1xuXHQgIH0gY2F0Y2goZSl7XG5cdCAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG5cdCAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcblx0dmFyICRrZXlzICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXHQgICwgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXHRcblx0ZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKXtcblx0ICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHBJRSAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSlcblx0ICAsIGNyZWF0ZURlc2MgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nilcblx0ICAsIHRvSU9iamVjdCAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OClcblx0ICAsIHRvUHJpbWl0aXZlICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSlcblx0ICAsIGhhcyAgICAgICAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNylcblx0ICAsIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSlcblx0ICAsIGdPUEQgICAgICAgICAgID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblx0XG5cdGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcblx0ICBPID0gdG9JT2JqZWN0KE8pO1xuXHQgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcblx0ICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuXHQgICAgcmV0dXJuIGdPUEQoTywgUCk7XG5cdCAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXHQgIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblxuXG4vKioqLyB9LFxuLyogOTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oODcpKCdhc3luY0l0ZXJhdG9yJyk7XG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4NykoJ29ic2VydmFibGUnKTtcblxuLyoqKi8gfSxcbi8qIDk5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX3NldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuXHRcblx0dmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcblx0XG5cdHZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuXHQgIH1cblx0XG5cdCAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcblx0ICAgIGNvbnN0cnVjdG9yOiB7XG5cdCAgICAgIHZhbHVlOiBzdWJDbGFzcyxcblx0ICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG5cdCAgICAgIHdyaXRhYmxlOiB0cnVlLFxuXHQgICAgICBjb25maWd1cmFibGU6IHRydWVcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEwMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuLyoqKi8gfSxcbi8qIDEwMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcblx0dmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0JGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IF9fd2VicGFja19yZXF1aXJlX18oMTAzKS5zZXR9KTtcblxuLyoqKi8gfSxcbi8qIDEwMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApXG5cdCAgLCBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHR2YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG5cdCAgYW5PYmplY3QoTyk7XG5cdCAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpKEZ1bmN0aW9uLmNhbGwsIF9fd2VicGFja19yZXF1aXJlX18oOTUpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG5cdCAgICAgICAgc2V0KHRlc3QsIFtdKTtcblx0ICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcblx0ICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG5cdCAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuXHQgICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG5cdCAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuXHQgICAgICAgIHJldHVybiBPO1xuXHQgICAgICB9O1xuXHQgICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcblx0ICBjaGVjazogY2hlY2tcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEwNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHR2YXIgJE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLk9iamVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG5cdCAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpXG5cdC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXHQkZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IF9fd2VicGFja19yZXF1aXJlX18oNjQpfSk7XG5cbi8qKiovIH0sXG4vKiAxMDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgQ1VSVkVfU0laRSA9IDM1MDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0ge1xuXHQgIENVUlZFX1NJWkU6IENVUlZFX1NJWkUsXG5cdCAgQ1VSVkVfUEVSQ0VOVDogQ1VSVkVfU0laRSAvIDEwMCxcblx0ICBDVVJWRV9QQURESU5HOiAxMFxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcblx0ICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9cblx0ICpcblx0ICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcblx0ICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG5cdChmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG5cdHZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XG5cdHZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblx0XG5cdHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cdHZhciBhYnMgPSBNYXRoLmFicztcblx0dmFyIG5vdyA9IERhdGUubm93O1xuXHRcblx0LyoqXG5cdCAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuXHQgKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cblx0ICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG5cdCAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuXHQgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHQgICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqL1xuXHRmdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcblx0ICAgIHZhciBpO1xuXHRcblx0ICAgIGlmICghb2JqKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChvYmouZm9yRWFjaCkge1xuXHQgICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcblx0ICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuXHQgICAgICAgICAgICBpKys7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2Rcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0ICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2Vcblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuXHQgICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuXHQgICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcblx0ICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblx0XG5cdCAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG5cdCAgICAgICAgaWYgKGxvZykge1xuXHQgICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgb2JqZWN0LlxuXHQgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cblx0ICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG5cdCAqL1xuXHR2YXIgYXNzaWduO1xuXHRpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcblx0ICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuXHQgICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdCAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXHQgICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfTtcblx0fSBlbHNlIHtcblx0ICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBleHRlbmQgb2JqZWN0LlxuXHQgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRlc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IHNyY1xuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cblx0ICogQHJldHVybnMge09iamVjdH0gZGVzdFxuXHQgKi9cblx0dmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuXHQgICAgdmFyIGkgPSAwO1xuXHQgICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuXHQgICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcblx0ICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRlc3Q7XG5cdH0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXHRcblx0LyoqXG5cdCAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG5cdCAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcblx0ICogQHJldHVybnMge09iamVjdH0gZGVzdFxuXHQgKi9cblx0dmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuXHQgICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xuXHR9LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXHRcblx0LyoqXG5cdCAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cblx0ICovXG5cdGZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcblx0ICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuXHQgICAgICAgIGNoaWxkUDtcblx0XG5cdCAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcblx0ICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuXHQgICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXHRcblx0ICAgIGlmIChwcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259XG5cdCAqL1xuXHRmdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuXHQgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG5cdCAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcblx0ICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcblx0ICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsO1xuXHR9XG5cdFxuXHQvKipcblx0ICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcblx0ICogQHBhcmFtIHsqfSB2YWwxXG5cdCAqIEBwYXJhbSB7Kn0gdmFsMlxuXHQgKiBAcmV0dXJucyB7Kn1cblx0ICovXG5cdGZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcblx0ICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xuXHR9XG5cdFxuXHQvKipcblx0ICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuXHQgKi9cblx0ZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuXHQgICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcblx0ICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcblx0ICovXG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcblx0ICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG5cdCAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG5cdCAqIEBtZXRob2QgaGFzUGFyZW50XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG5cdCAgICB3aGlsZSAobm9kZSkge1xuXHQgICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG5cdCAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcblx0ICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuXHQgKi9cblx0ZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG5cdCAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcblx0ICogQHBhcmFtIHtBcnJheX0gc3JjXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuXHQgKi9cblx0ZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuXHQgICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcblx0ICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqXG5cdCAqIEByZXR1cm5zIHtBcnJheX1cblx0ICovXG5cdGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG5cdCAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cblx0ICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cblx0ICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cblx0ICovXG5cdGZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG5cdCAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXHQgICAgdmFyIHZhbHVlcyA9IFtdO1xuXHQgICAgdmFyIGkgPSAwO1xuXHRcblx0ICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuXHQgICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcblx0ICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG5cdCAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzb3J0KSB7XG5cdCAgICAgICAgaWYgKCFrZXkpIHtcblx0ICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0cztcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcblx0ICogQHBhcmFtIHtPYmplY3R9IG9ialxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcblx0ICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG5cdCAgICB2YXIgcHJlZml4LCBwcm9wO1xuXHQgICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblx0XG5cdCAgICB2YXIgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcblx0ICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG5cdCAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cdFxuXHQgICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCBhIHVuaXF1ZSBpZFxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuXHQgKi9cblx0dmFyIF91bmlxdWVJZCA9IDE7XG5cdGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuXHQgICAgcmV0dXJuIF91bmlxdWVJZCsrO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cblx0ICovXG5cdGZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuXHQgICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuXHQgICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xuXHR9XG5cdFxuXHR2YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXHRcblx0dmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcblx0dmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xuXHR2YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblx0XG5cdHZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcblx0dmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG5cdHZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcblx0dmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cdFxuXHR2YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXHRcblx0dmFyIElOUFVUX1NUQVJUID0gMTtcblx0dmFyIElOUFVUX01PVkUgPSAyO1xuXHR2YXIgSU5QVVRfRU5EID0gNDtcblx0dmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cdFxuXHR2YXIgRElSRUNUSU9OX05PTkUgPSAxO1xuXHR2YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xuXHR2YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcblx0dmFyIERJUkVDVElPTl9VUCA9IDg7XG5cdHZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXHRcblx0dmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG5cdHZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcblx0dmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblx0XG5cdHZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG5cdHZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7SW5wdXR9XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBzZWxmID0gdGhpcztcblx0ICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG5cdCAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cdCAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG5cdCAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblx0XG5cdCAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcblx0ICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cblx0ICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG5cdCAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcblx0ICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuaW5pdCgpO1xuXHRcblx0fVxuXHRcblx0SW5wdXQucHJvdG90eXBlID0ge1xuXHQgICAgLyoqXG5cdCAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG5cdCAgICAgKiBAdmlydHVhbFxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuXHQgICAgICovXG5cdCAgICBpbml0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuXHQgICAgICovXG5cdCAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuXHQgKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcblx0ICogQHJldHVybnMge0lucHV0fVxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG5cdCAgICB2YXIgVHlwZTtcblx0ICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cdFxuXHQgICAgaWYgKGlucHV0Q2xhc3MpIHtcblx0ICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcblx0ICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuXHQgICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG5cdCAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG5cdCAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG5cdCAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogaGFuZGxlIGlucHV0IGV2ZW50c1xuXHQgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG5cdCAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG5cdCAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcblx0ICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXHQgICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cdFxuXHQgICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcblx0ICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cdFxuXHQgICAgaWYgKGlzRmlyc3QpIHtcblx0ICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuXHQgICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG5cdCAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cdFxuXHQgICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG5cdCAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblx0XG5cdCAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuXHQgICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cdFxuXHQgICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuXHQgICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuXHQgKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcblx0ICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuXHQgICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG5cdCAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cdFxuXHQgICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuXHQgICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcblx0ICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuXHQgICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG5cdCAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuXHQgICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuXHQgICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG5cdCAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cdFxuXHQgICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG5cdCAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcblx0ICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXHRcblx0ICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXHQgICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cdFxuXHQgICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuXHQgICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblx0XG5cdCAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cdCAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblx0XG5cdCAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuXHQgICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblx0XG5cdCAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cblx0ICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cdFxuXHQgICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblx0XG5cdCAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuXHQgICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG5cdCAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuXHQgICAgfVxuXHQgICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuXHQgICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcblx0ICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuXHQgICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuXHQgICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXHRcblx0ICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuXHQgICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuXHQgICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG5cdCAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG5cdCAgICAgICAgICAgIHg6IGNlbnRlci54LFxuXHQgICAgICAgICAgICB5OiBjZW50ZXIueVxuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG5cdCAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuXHQgICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcblx0ICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcblx0ICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblx0XG5cdCAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG5cdCAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuXHQgICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcblx0ICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG5cdCAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuXHQgICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuXHQgICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cdFxuXHQgICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2Rcblx0ICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG5cdCAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG5cdCAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG5cdCAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcblx0ICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcblx0ICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcblx0ICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcblx0ICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuXHQgKi9cblx0ZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcblx0ICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuXHQgICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG5cdCAgICB2YXIgcG9pbnRlcnMgPSBbXTtcblx0ICAgIHZhciBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG5cdCAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuXHQgICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgdGltZVN0YW1wOiBub3coKSxcblx0ICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG5cdCAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuXHQgICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuXHQgICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcblx0ICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblx0XG5cdCAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuXHQgICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG5cdCAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcblx0ICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcblx0ICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG5cdCAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG5cdCAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuXHQgICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuXHQgICAgfTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcblx0ICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cblx0ICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2Vcblx0ICovXG5cdGZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcblx0ICAgIGlmICghcHJvcHMpIHtcblx0ICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuXHQgICAgfVxuXHQgICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG5cdCAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblx0XG5cdCAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcblx0ICogQHBhcmFtIHtPYmplY3R9IHAxXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG5cdCAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcblx0ICovXG5cdGZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcblx0ICAgIGlmICghcHJvcHMpIHtcblx0ICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuXHQgICAgfVxuXHQgICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG5cdCAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblx0ICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuXHQgKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcblx0ICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuXHQgICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcblx0ICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG5cdCAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG5cdH1cblx0XG5cdHZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG5cdCAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuXHQgICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuXHQgICAgbW91c2V1cDogSU5QVVRfRU5EXG5cdH07XG5cdFxuXHR2YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcblx0dmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXHRcblx0LyoqXG5cdCAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgSW5wdXRcblx0ICovXG5cdGZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG5cdCAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXHRcblx0ICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblx0XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgICAgICovXG5cdCAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXHRcblx0ICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuXHQgICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cblx0ICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogW2V2XSxcblx0ICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuXHQgICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcblx0ICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0dmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuXHQgICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuXHQgICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG5cdCAgICBwb2ludGVydXA6IElOUFVUX0VORCxcblx0ICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcblx0ICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxuXHR9O1xuXHRcblx0Ly8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cblx0dmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG5cdCAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuXHQgICAgMzogSU5QVVRfVFlQRV9QRU4sXG5cdCAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuXHQgICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG5cdH07XG5cdFxuXHR2YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG5cdHZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXHRcblx0Ly8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5cdGlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcblx0ICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG5cdCAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUG9pbnRlciBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG5cdCAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xuXHR9XG5cdFxuXHRpbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcblx0ICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXHRcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG5cdCAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cdFxuXHQgICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXHRcblx0ICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuXHQgICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cdFxuXHQgICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cblx0ICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuXHQgICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcblx0ICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuXHQgICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG5cdCAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG5cdCAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuXHQgICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcblx0ICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG5cdCAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0dmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG5cdCAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcblx0ICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG5cdCAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHR2YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG5cdHZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cdFxuXHQvKipcblx0ICogVG91Y2ggZXZlbnRzIGlucHV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0ZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcblx0ICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcblx0ICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcblx0ICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuXHQgICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblx0XG5cdCAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuXHQgICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXHRcblx0ICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG5cdCAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcblx0ICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG5cdCAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcblx0ICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG5cdCAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBAdGhpcyB7VG91Y2hJbnB1dH1cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cblx0ICovXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcblx0ICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuXHQgICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblx0XG5cdCAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG5cdCAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG5cdH1cblx0XG5cdHZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG5cdCAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcblx0ICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcblx0ICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG5cdCAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG5cdH07XG5cdFxuXHR2YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cdFxuXHQvKipcblx0ICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIElucHV0XG5cdCAqL1xuXHRmdW5jdGlvbiBUb3VjaElucHV0KCkge1xuXHQgICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG5cdCAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXHRcblx0ICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcblx0ICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcblx0ICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblx0ICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cdCAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG5cdCAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuXHQgICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG5cdCAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuXHQgICAgICAgICAgICBzcmNFdmVudDogZXZcblx0ICAgICAgICB9KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogQHRoaXMge1RvdWNoSW5wdXR9XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG5cdCAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG5cdCAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG5cdCAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cdFxuXHQgICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcblx0ICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaSxcblx0ICAgICAgICB0YXJnZXRUb3VjaGVzLFxuXHQgICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG5cdCAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcblx0ICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblx0XG5cdCAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG5cdCAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcblx0ICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuXHQgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG5cdCAgICAgICAgaSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuXHQgICAgaSA9IDA7XG5cdCAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuXHQgICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcblx0ICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuXHQgICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcblx0ICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBbXG5cdCAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG5cdCAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuXHQgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG5cdCAgICBdO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG5cdCAqXG5cdCAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuXHQgKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG5cdCAqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBJbnB1dFxuXHQgKi9cblx0XG5cdHZhciBERURVUF9USU1FT1VUID0gMjUwMDtcblx0dmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cdFxuXHRmdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG5cdCAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG5cdCAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblx0ICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXHRcblx0ICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcblx0ICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcblx0fVxuXHRcblx0aW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG5cdCAgICAvKipcblx0ICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcblx0ICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG5cdCAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXHRcblx0ICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuXHQgICAgICAgIGlmIChpc1RvdWNoKSB7XG5cdCAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcblx0ICAgICAqL1xuXHQgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0ICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcblx0ICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHRmdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG5cdCAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcblx0ICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcblx0ICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuXHQgICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcblx0ICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cdFxuXHQgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG5cdCAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcblx0ICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcblx0ICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcblx0ICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcblx0ICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuXHQgICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuXHQgICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuXHQgICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuXHQgICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdHZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xuXHR2YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXHRcblx0Ly8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxuXHR2YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG5cdHZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcblx0dmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG5cdHZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcblx0dmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG5cdHZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xuXHR2YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblx0XG5cdC8qKlxuXHQgKiBUb3VjaCBBY3Rpb25cblx0ICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcblx0ICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG5cdCAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuXHQgICAgdGhpcy5zZXQodmFsdWUpO1xuXHR9XG5cdFxuXHRUb3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG5cdCAgICAgKi9cblx0ICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuXHQgICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcblx0ICAgICAqL1xuXHQgICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG5cdCAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuXHQgICAgICovXG5cdCAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuXHQgICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG5cdCAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcblx0ICAgICAqL1xuXHQgICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuXHQgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cdFxuXHQgICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuXHQgICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcblx0ICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG5cdCAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuXHQgICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuXHQgICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXHRcblx0ICAgICAgICBpZiAoaGFzTm9uZSkge1xuXHQgICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXHRcblx0ICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcblx0ICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG5cdCAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblx0XG5cdCAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG5cdCAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGhhc05vbmUgfHxcblx0ICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG5cdCAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG5cdCAgICAgKi9cblx0ICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcblx0ICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuXHQgKiBAcmV0dXJucyB7Kn1cblx0ICovXG5cdGZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcblx0ICAgIC8vIG5vbmVcblx0ICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuXHQgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXHRcblx0ICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuXHQgICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG5cdCAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2Vcblx0ICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG5cdCAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG5cdCAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHBhbi14IE9SIHBhbi15XG5cdCAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG5cdCAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gbWFuaXB1bGF0aW9uXG5cdCAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcblx0ICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG5cdCAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgdG91Y2hNYXAgPSB7fTtcblx0ICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcblx0ICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cdFxuXHQgICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuXHQgICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cblx0ICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRvdWNoTWFwO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuXHQgKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG5cdCAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuXHQgKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcblx0ICpcblx0ICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuXHQgKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuXHQgKlxuXHQgKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG5cdCAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG5cdCAqXG5cdCAqICAgICAgICAgICAgICAgUG9zc2libGVcblx0ICogICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcblx0ICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcblx0ICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcblx0ICovXG5cdHZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG5cdHZhciBTVEFURV9CRUdBTiA9IDI7XG5cdHZhciBTVEFURV9DSEFOR0VEID0gNDtcblx0dmFyIFNUQVRFX0VOREVEID0gODtcblx0dmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcblx0dmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xuXHR2YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cdFxuXHQvKipcblx0ICogUmVjb2duaXplclxuXHQgKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKi9cblx0ZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXHRcblx0ICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXHRcblx0ICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cdFxuXHQgICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuXHQgICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXHRcblx0ICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblx0XG5cdCAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuXHQgICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xuXHR9XG5cdFxuXHRSZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEB0eXBlIHtPYmplY3R9XG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7fSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHNldCBvcHRpb25zXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgICAgICogQHJldHVybiB7UmVjb2duaXplcn1cblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cdFxuXHQgICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG5cdCAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuXHQgICAgICovXG5cdCAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuXHQgICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcblx0ICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG5cdCAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuXHQgICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuXHQgICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG5cdCAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXHQgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcblx0ICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdCAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuXHQgICAgICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuXHQgICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG5cdCAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKi9cblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFxuXHQgICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcblx0ICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuXHQgICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG5cdCAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXHRcblx0ICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuXHQgICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuXHQgICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuXHQgICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcblx0ICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcblx0ICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICovXG5cdCAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuXHQgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FuIHdlIGVtaXQ/XG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcblx0ICAgICAqL1xuXHQgICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcblx0ICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuXHQgICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG5cdCAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXHRcblx0ICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cblx0ICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblx0XG5cdCAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG5cdCAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuXHQgICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG5cdCAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2Rcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG5cdCAgICAgKi9cblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuXHQgICAgICogQHZpcnR1YWxcblx0ICAgICAqIEByZXR1cm5zIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcblx0ICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcblx0ICAgICAqIEB2aXJ0dWFsXG5cdCAgICAgKi9cblx0ICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuXHQgKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcblx0ICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuXHQgICAgICAgIHJldHVybiAnY2FuY2VsJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuXHQgICAgICAgIHJldHVybiAnZW5kJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG5cdCAgICAgICAgcmV0dXJuICdtb3ZlJztcblx0ICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuXHQgICAgICAgIHJldHVybiAnc3RhcnQnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG5cdCAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuXHQgICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuXHQgICAgICAgIHJldHVybiAnZG93bic7XG5cdCAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcblx0ICAgICAgICByZXR1cm4gJ3VwJztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG5cdCAgICAgICAgcmV0dXJuICdsZWZ0Jztcblx0ICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuXHQgICAgICAgIHJldHVybiAncmlnaHQnO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcnO1xuXHR9XG5cdFxuXHQvKipcblx0ICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuXHQgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcblx0ICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG5cdCAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcblx0ICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuXHQgICAgaWYgKG1hbmFnZXIpIHtcblx0ICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcblx0ICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0aW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICAgICAqIEBkZWZhdWx0IDFcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwb2ludGVyczogMVxuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cblx0ICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG5cdCAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuXHQgICAgICovXG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG5cdCAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuXHQgICAgICogQHJldHVybnMgeyp9IFN0YXRlXG5cdCAgICAgKi9cblx0ICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXHRcblx0ICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcblx0ICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXHRcblx0ICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG5cdCAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuXHQgICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUGFuXG5cdCAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuXHQgKi9cblx0ZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFxuXHQgICAgdGhpcy5wWCA9IG51bGw7XG5cdCAgICB0aGlzLnBZID0gbnVsbDtcblx0fVxuXHRcblx0aW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuXHQgICAgICovXG5cdCAgICBkZWZhdWx0czoge1xuXHQgICAgICAgIGV2ZW50OiAncGFuJyxcblx0ICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG5cdCAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcblx0ICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcblx0ICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBhY3Rpb25zO1xuXHQgICAgfSxcblx0XG5cdCAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHQgICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG5cdCAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcblx0ICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgLy8gbG9jayB0byBheGlzP1xuXHQgICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuXHQgICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuXHQgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG5cdCAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcblx0ICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuXHQgICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG5cdCAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXHQgICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFxuXHQgICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG5cdCAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblx0XG5cdCAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXHRcblx0ICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogUGluY2hcblx0ICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG5cdCAgICAgICAgdGhyZXNob2xkOiAwLFxuXHQgICAgICAgIHBvaW50ZXJzOiAyXG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG5cdCAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuXHQgICAgfSxcblx0XG5cdCAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuXHQgICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG5cdCAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBQcmVzc1xuXHQgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIFJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcblx0ICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XG5cdCAgICB0aGlzLl90aW1lciA9IG51bGw7XG5cdCAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG5cdH1cblx0XG5cdGluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcblx0ICAgICAqL1xuXHQgICAgZGVmYXVsdHM6IHtcblx0ICAgICAgICBldmVudDogJ3ByZXNzJyxcblx0ICAgICAgICBwb2ludGVyczogMSxcblx0ICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG5cdCAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG5cdCAgICB9LFxuXHRcblx0ICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0ICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcblx0ICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG5cdCAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblx0XG5cdCAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblx0XG5cdCAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcblx0ICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cdCAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcblx0ICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuXHQgICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcblx0ICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIFJvdGF0ZVxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG5cdCAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRpbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG5cdCAgICAvKipcblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuXHQgICAgICAgIHRocmVzaG9sZDogMCxcblx0ICAgICAgICBwb2ludGVyczogMlxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG5cdCAgICB9LFxuXHRcblx0ICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBTd2lwZVxuXHQgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcblx0ICovXG5cdGZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcblx0ICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG5cdCAgICAgICAgdGhyZXNob2xkOiAxMCxcblx0ICAgICAgICB2ZWxvY2l0eTogMC4zLFxuXHQgICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG5cdCAgICAgICAgcG9pbnRlcnM6IDFcblx0ICAgIH0sXG5cdFxuXHQgICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuXHQgICAgfSxcblx0XG5cdCAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcblx0ICAgICAgICB2YXIgdmVsb2NpdHk7XG5cdFxuXHQgICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG5cdCAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcblx0ICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG5cdCAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuXHQgICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcblx0ICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG5cdCAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuXHQgICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG5cdCAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG5cdCAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuXHQgKiBhIHNpbmdsZSB0YXAuXG5cdCAqXG5cdCAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuXHQgKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG5cdCAqL1xuXHRmdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuXHQgICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcblx0ICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcblx0ICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuXHQgICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuXHQgICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cdFxuXHQgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuXHQgICAgdGhpcy5faW5wdXQgPSBudWxsO1xuXHQgICAgdGhpcy5jb3VudCA9IDA7XG5cdH1cblx0XG5cdGluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuXHQgICAgLyoqXG5cdCAgICAgKiBAbmFtZXNwYWNlXG5cdCAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG5cdCAgICAgKi9cblx0ICAgIGRlZmF1bHRzOiB7XG5cdCAgICAgICAgZXZlbnQ6ICd0YXAnLFxuXHQgICAgICAgIHBvaW50ZXJzOiAxLFxuXHQgICAgICAgIHRhcHM6IDEsXG5cdCAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcblx0ICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG5cdCAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuXHQgICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXHQgICAgfSxcblx0XG5cdCAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcblx0ICAgIH0sXG5cdFxuXHQgICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XG5cdCAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG5cdCAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuXHQgICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblx0XG5cdCAgICAgICAgdGhpcy5yZXNldCgpO1xuXHRcblx0ICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG5cdCAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuXHQgICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcblx0ICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuXHQgICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXHRcblx0ICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuXHQgICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuXHQgICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuXHQgICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcblx0ICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuXHQgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcblx0ICAgIH0sXG5cdFxuXHQgICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG5cdCAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcblx0ICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuXHQgICAgfSxcblx0XG5cdCAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZW1pdDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuXHQgICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG5cdCAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvKipcblx0ICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuXHQgICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQGNvbnN0IHtzdHJpbmd9XG5cdCAqL1xuXHRIYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cdFxuXHQvKipcblx0ICogZGVmYXVsdCBzZXR0aW5nc1xuXHQgKiBAbmFtZXNwYWNlXG5cdCAqL1xuXHRIYW1tZXIuZGVmYXVsdHMgPSB7XG5cdCAgICAvKipcblx0ICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG5cdCAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCBmYWxzZVxuXHQgICAgICovXG5cdCAgICBkb21FdmVudHM6IGZhbHNlLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG5cdCAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cblx0ICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG5cdCAgICAgKi9cblx0ICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICogQGRlZmF1bHQgdHJ1ZVxuXHQgICAgICovXG5cdCAgICBlbmFibGU6IHRydWUsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG5cdCAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cblx0ICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG5cdCAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cblx0ICAgICAqIEBkZWZhdWx0IG51bGxcblx0ICAgICAqL1xuXHQgICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuXHQgICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG5cdCAgICAgKiBAZGVmYXVsdCBudWxsXG5cdCAgICAgKi9cblx0ICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcblx0ICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHByZXNldDogW1xuXHQgICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuXHQgICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuXHQgICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG5cdCAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcblx0ICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuXHQgICAgICAgIFtUYXBSZWNvZ25pemVyXSxcblx0ICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuXHQgICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG5cdCAgICBdLFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cblx0ICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cblx0ICAgICAqIEBuYW1lc3BhY2Vcblx0ICAgICAqL1xuXHQgICAgY3NzUHJvcHM6IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cblx0ICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcblx0ICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cdFxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuXHQgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG5cdCAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblx0XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcblx0ICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG5cdCAgICAgICAgICogQHR5cGUge1N0cmluZ31cblx0ICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgU1RPUCA9IDE7XG5cdHZhciBGT1JDRURfU1RPUCA9IDI7XG5cdFxuXHQvKipcblx0ICogTWFuYWdlclxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblx0XG5cdCAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblx0XG5cdCAgICB0aGlzLmhhbmRsZXJzID0ge307XG5cdCAgICB0aGlzLnNlc3Npb24gPSB7fTtcblx0ICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcblx0ICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblx0XG5cdCAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHQgICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG5cdCAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cdFxuXHQgICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cdFxuXHQgICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuXHQgICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuXHQgICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcblx0ICAgIH0sIHRoaXMpO1xuXHR9XG5cdFxuXHRNYW5hZ2VyLnByb3RvdHlwZSA9IHtcblx0ICAgIC8qKlxuXHQgICAgICogc2V0IG9wdGlvbnNcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG5cdCAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cblx0ICAgICAqL1xuXHQgICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cdFxuXHQgICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcblx0ICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuXHQgICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuXHQgICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuXHQgICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cblx0ICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuXHQgICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG5cdCAgICAgKi9cblx0ICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG5cdCAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuXHQgICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuXHQgICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG5cdCAgICAgKi9cblx0ICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG5cdCAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cdCAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuXHQgICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cdFxuXHQgICAgICAgIHZhciByZWNvZ25pemVyO1xuXHQgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdFxuXHQgICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuXHQgICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcblx0ICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG5cdCAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cdFxuXHQgICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG5cdCAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG5cdCAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuXHQgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cdFxuXHQgICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG5cdCAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuXHQgICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcblx0ICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG5cdCAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuXHQgICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cblx0ICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG5cdCAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcblx0ICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG5cdCAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuXHQgICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcblx0ICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGkrKztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cblx0ICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcblx0ICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG5cdCAgICAgKi9cblx0ICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuXHQgICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuXHQgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuXHQgICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuXHQgICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuXHQgICAgICovXG5cdCAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcblx0ICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG5cdCAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcblx0ICAgICAgICBpZiAoZXhpc3RpbmcpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuXHQgICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG5cdCAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG5cdCAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cblx0ICAgICAqL1xuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG5cdCAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblx0XG5cdCAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcblx0ICAgICAgICBpZiAocmVjb2duaXplcikge1xuXHQgICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBiaW5kIGV2ZW50XG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG5cdCAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG5cdCAgICAgKi9cblx0ICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG5cdCAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG5cdCAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cblx0ICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcblx0ICAgICAqL1xuXHQgICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcblx0ICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcblx0ICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcblx0ICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcblx0ICAgICAqL1xuXHQgICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcblx0ICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG5cdCAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcblx0ICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuXHQgICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG5cdCAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuXHQgICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBpID0gMDtcblx0ICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcblx0ICAgICAgICAgICAgaSsrO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcblx0ICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG5cdCAgICAgKi9cblx0ICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cdFxuXHQgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblx0ICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcblx0ICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcblx0ICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG5cdCAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuXHQgKi9cblx0ZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG5cdCAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblx0ICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9wO1xuXHQgICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG5cdCAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuXHQgICAgICAgIGlmIChhZGQpIHtcblx0ICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG5cdCAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmICghYWRkKSB7XG5cdCAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogdHJpZ2dlciBkb20gZXZlbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG5cdCAqL1xuXHRmdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcblx0ICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0ICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuXHQgICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuXHQgICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xuXHR9XG5cdFxuXHRhc3NpZ24oSGFtbWVyLCB7XG5cdCAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG5cdCAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuXHQgICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG5cdCAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblx0XG5cdCAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG5cdCAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG5cdCAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuXHQgICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuXHQgICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcblx0ICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuXHQgICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cdFxuXHQgICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuXHQgICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuXHQgICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG5cdCAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcblx0ICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcblx0ICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcblx0ICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuXHQgICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblx0XG5cdCAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuXHQgICAgSW5wdXQ6IElucHV0LFxuXHQgICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXHRcblx0ICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG5cdCAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuXHQgICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuXHQgICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG5cdCAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXHRcblx0ICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG5cdCAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG5cdCAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG5cdCAgICBQYW46IFBhblJlY29nbml6ZXIsXG5cdCAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuXHQgICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcblx0ICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcblx0ICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cdFxuXHQgICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuXHQgICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcblx0ICAgIGVhY2g6IGVhY2gsXG5cdCAgICBtZXJnZTogbWVyZ2UsXG5cdCAgICBleHRlbmQ6IGV4dGVuZCxcblx0ICAgIGFzc2lnbjogYXNzaWduLFxuXHQgICAgaW5oZXJpdDogaW5oZXJpdCxcblx0ICAgIGJpbmRGbjogYmluZEZuLFxuXHQgICAgcHJlZml4ZWQ6IHByZWZpeGVkXG5cdH0pO1xuXHRcblx0Ly8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcblx0Ly8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG5cdHZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblx0ZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cdFxuXHRpZiAodHJ1ZSkge1xuXHQgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBIYW1tZXI7XG5cdCAgICB9LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgZXhwb3J0cywgbW9kdWxlKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xuXHR9IGVsc2Uge1xuXHQgICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xuXHR9XG5cdFxuXHR9KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG5cblxuLyoqKi8gfSxcbi8qIDEwOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187J3VzZSBzdHJpY3QnO1xuXHRcblx0KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdCAgaWYgKHRydWUpIHtcblx0ICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0ICAgICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgPyAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG5cdCAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcblx0ICAgIC8vIGxpa2UgTm9kZS5cblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHQgICAgd2luZG93LnByb3BhZ2F0aW5nID0gZmFjdG9yeSgpO1xuXHQgIH1cblx0fShmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9maXJzdFRhcmdldCA9IG51bGw7IC8vIHNpbmdsZXRvbiwgd2lsbCBjb250YWluIHRoZSB0YXJnZXQgZWxlbWVudCB3aGVyZSB0aGUgdG91Y2ggZXZlbnQgc3RhcnRlZFxuXHRcblx0ICAvKipcblx0ICAgKiBFeHRlbmQgYW4gSGFtbWVyLmpzIGluc3RhbmNlIHdpdGggZXZlbnQgcHJvcGFnYXRpb24uXG5cdCAgICpcblx0ICAgKiBGZWF0dXJlczpcblx0ICAgKiAtIEV2ZW50cyBlbWl0dGVkIGJ5IGhhbW1lciB3aWxsIHByb3BhZ2F0ZSBpbiBvcmRlciBmcm9tIGNoaWxkIHRvIHBhcmVudFxuXHQgICAqICAgZWxlbWVudHMuXG5cdCAgICogLSBFdmVudHMgYXJlIGV4dGVuZGVkIHdpdGggYSBmdW5jdGlvbiBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgIHRvIHN0b3Bcblx0ICAgKiAgIHByb3BhZ2F0aW9uIHRvIHBhcmVudCBlbGVtZW50cy5cblx0ICAgKiAtIEFuIG9wdGlvbiBgcHJldmVudERlZmF1bHRgIHRvIHN0b3AgYWxsIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cblx0ICAgKlxuXHQgICAqIFVzYWdlOlxuXHQgICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCkpO1xuXHQgICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCksIHtwcmV2ZW50RGVmYXVsdDogdHJ1ZX0pO1xuXHQgICAqXG5cdCAgICogQHBhcmFtIHtIYW1tZXIuTWFuYWdlcn0gaGFtbWVyICAgQW4gaGFtbWVyIGluc3RhbmNlLlxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zOlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gYHByZXZlbnREZWZhdWx0OiB0cnVlIHwgZmFsc2UgfCAnbW91c2UnIHwgJ3RvdWNoJyB8ICdwZW4nYC5cblx0ICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZm9yY2UgcHJldmVudGluZyB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuXHQgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90IGJlIHNldCB0byBgZmFsc2VgLlxuXHQgICAqIEByZXR1cm4ge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBzYW1lIGhhbW1lciBpbnN0YW5jZSB3aXRoIGV4dGVuZGVkXG5cdCAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHlcblx0ICAgKi9cblx0ICByZXR1cm4gZnVuY3Rpb24gcHJvcGFnYXRpbmcoaGFtbWVyLCBvcHRpb25zKSB7XG5cdCAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zIHx8IHtcblx0ICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlXG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChoYW1tZXIuTWFuYWdlcikge1xuXHQgICAgICAvLyBUaGlzIGxvb2tzIGxpa2UgdGhlIEhhbW1lciBjb25zdHJ1Y3Rvci5cblx0ICAgICAgLy8gT3ZlcmxvYWQgdGhlIGNvbnN0cnVjdG9ycyB3aXRoIG91ciBvd24uXG5cdCAgICAgIHZhciBIYW1tZXIgPSBoYW1tZXI7XG5cdFxuXHQgICAgICB2YXIgUHJvcGFnYXRpbmdIYW1tZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIG8gPSBPYmplY3QuY3JlYXRlKF9vcHRpb25zKTtcblx0ICAgICAgICBpZiAob3B0aW9ucykgSGFtbWVyLmFzc2lnbihvLCBvcHRpb25zKTtcblx0ICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lcihlbGVtZW50LCBvKSwgbyk7XG5cdCAgICAgIH07XG5cdCAgICAgIEhhbW1lci5hc3NpZ24oUHJvcGFnYXRpbmdIYW1tZXIsIEhhbW1lcik7XG5cdFxuXHQgICAgICBQcm9wYWdhdGluZ0hhbW1lci5NYW5hZ2VyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcblx0ICAgICAgICB2YXIgbyA9IE9iamVjdC5jcmVhdGUoX29wdGlvbnMpO1xuXHQgICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuXHQgICAgICAgIHJldHVybiBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWxlbWVudCwgbyksIG8pO1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIFByb3BhZ2F0aW5nSGFtbWVyO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIGZ1bmN0aW9uc1xuXHQgICAgLy8gYG9uYCwgYG9mZmAsIGBkZXN0cm95YCwgYW5kIGBlbWl0YCBvZiB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICB2YXIgd3JhcHBlciA9IE9iamVjdC5jcmVhdGUoaGFtbWVyKTtcblx0XG5cdCAgICAvLyBhdHRhY2ggdG8gRE9NIGVsZW1lbnRcblx0ICAgIHZhciBlbGVtZW50ID0gaGFtbWVyLmVsZW1lbnQ7XG5cdFxuXHQgICAgaWYoIWVsZW1lbnQuaGFtbWVyKSBlbGVtZW50LmhhbW1lciA9IFtdO1xuXHQgICAgZWxlbWVudC5oYW1tZXIucHVzaCh3cmFwcGVyKTtcblx0XG5cdCAgICAvLyByZWdpc3RlciBhbiBldmVudCB0byBjYXRjaCB0aGUgc3RhcnQgb2YgYSBnZXN0dXJlIGFuZCBzdG9yZSB0aGVcblx0ICAgIC8vIHRhcmdldCBpbiBhIHNpbmdsZXRvblxuXHQgICAgaGFtbWVyLm9uKCdoYW1tZXIuaW5wdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgaWYgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSB0cnVlIHx8IChfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9PT0gZXZlbnQucG9pbnRlclR5cGUpKSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZXZlbnQuaXNGaXJzdCkge1xuXHQgICAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgLyoqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgQXJyYXkuPGZ1bmN0aW9uPj59ICovXG5cdCAgICB3cmFwcGVyLl9oYW5kbGVycyA9IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBvbmUgb3IgbXVsdGlwbGUgZXZlbnRzXG5cdCAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciBBIGNhbGxiYWNrIGZ1bmN0aW9uLCBjYWxsZWQgYXMgaGFuZGxlcihldmVudClcblx0ICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gUmV0dXJucyB0aGUgaGFtbWVyIGluc3RhbmNlXG5cdCAgICAgKi9cblx0ICAgIHdyYXBwZXIub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgIC8vIHJlZ2lzdGVyIHRoZSBoYW5kbGVyXG5cdCAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuXHQgICAgICAgIGlmICghX2hhbmRsZXJzKSB7XG5cdCAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnMgPSBbXTtcblx0XG5cdCAgICAgICAgICAvLyByZWdpc3RlciB0aGUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcblx0ICAgICAgICAgIGhhbW1lci5vbihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVbnJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50cyAgICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuXHQgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXJdIE9wdGlvbmFsLiBUaGUgcmVnaXN0ZXJlZCBoYW5kbGVyLiBJZiBub3Rcblx0ICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCwgYWxsIGhhbmRsZXJzIGZvciBnaXZlbiBldmVudHNcblx0ICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgcmVtb3ZlZC5cblx0ICAgICAqIEByZXR1cm5zIHtIYW1tZXIuTWFuYWdlcn0gICBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2Vcblx0ICAgICAqL1xuXHQgICAgd3JhcHBlci5vZmYgPSBmdW5jdGlvbiAoZXZlbnRzLCBoYW5kbGVyKSB7XG5cdCAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIGhhbmRsZXJcblx0ICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgIHZhciBfaGFuZGxlcnMgPSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG5cdCAgICAgICAgaWYgKF9oYW5kbGVycykge1xuXHQgICAgICAgICAgX2hhbmRsZXJzID0gaGFuZGxlciA/IF9oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGggIT09IGhhbmRsZXI7XG5cdCAgICAgICAgICB9KSA6IFtdO1xuXHRcblx0ICAgICAgICAgIGlmIChfaGFuZGxlcnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnM7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gcmVtb3ZlIHN0YXRpYywgcHJvcGFnYXRlZCBoYW5kbGVyXG5cdCAgICAgICAgICAgIGhhbW1lci5vZmYoZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcblx0ICAgICAgICAgICAgZGVsZXRlIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHdyYXBwZXI7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW1pdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG5cdCAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgICAgICovXG5cdCAgICB3cmFwcGVyLmVtaXQgPSBmdW5jdGlvbihldmVudFR5cGUsIGV2ZW50KSB7XG5cdCAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0ICAgICAgaGFtbWVyLmVtaXQoZXZlbnRUeXBlLCBldmVudCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHdyYXBwZXIuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gRGV0YWNoIGZyb20gRE9NIGVsZW1lbnRcblx0ICAgICAgdmFyIGhhbW1lcnMgPSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG5cdCAgICAgIHZhciBpZHggPSBoYW1tZXJzLmluZGV4T2Yod3JhcHBlcik7XG5cdCAgICAgIGlmKGlkeCAhPT0gLTEpIGhhbW1lcnMuc3BsaWNlKGlkeCwxKTtcblx0ICAgICAgaWYoIWhhbW1lcnMubGVuZ3RoKSBkZWxldGUgaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXHRcblx0ICAgICAgLy8gY2xlYXIgYWxsIGhhbmRsZXJzXG5cdCAgICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cdFxuXHQgICAgICAvLyBjYWxsIG9yaWdpbmFsIGhhbW1lciBkZXN0cm95XG5cdCAgICAgIGhhbW1lci5kZXN0cm95KCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggc3BhY2Ugc2VwYXJhdGVkIHdvcmRzXG5cdCAgICBmdW5jdGlvbiBzcGxpdChldmVudHMpIHtcblx0ICAgICAgcmV0dXJuIGV2ZW50cy5tYXRjaCgvW14gXSsvZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBIHN0YXRpYyBldmVudCBoYW5kbGVyLCBhcHBseWluZyBldmVudCBwcm9wYWdhdGlvbi5cblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuXHQgICAgICovXG5cdCAgICBmdW5jdGlvbiBwcm9wYWdhdGVkSGFuZGxlcihldmVudCkge1xuXHQgICAgICAvLyBsZXQgb25seSBhIHNpbmdsZSBoYW1tZXIgaW5zdGFuY2UgaGFuZGxlIHRoaXMgZXZlbnRcblx0ICAgICAgaWYgKGV2ZW50LnR5cGUgIT09ICdoYW1tZXIuaW5wdXQnKSB7XG5cdCAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgc2FtZSBzcmNFdmVudCBpcyB1c2VkIHdpdGggbXVsdGlwbGUgaGFtbWVyIGV2ZW50cyxcblx0ICAgICAgICAvLyB3ZSBrZWVwIHRyYWNrIG9uIHdoaWNoIGV2ZW50cyBhcmUgaGFuZGxlZCBpbiBhbiBvYmplY3QgX2hhbmRsZWRcblx0ICAgICAgICBpZiAoIWV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkKSB7XG5cdCAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZCA9IHt9O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWRbZXZlbnQudHlwZV0gPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gYXR0YWNoIGEgc3RvcFByb3BhZ2F0aW9uIGZ1bmN0aW9uIHRvIHRoZSBldmVudFxuXHQgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuXHQgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgc3RvcHBlZCA9IHRydWU7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICAvL3dyYXAgdGhlIHNyY0V2ZW50J3Mgc3RvcFByb3BhZ2F0aW9uIHRvIGFsc28gc3RvcCBoYW1tZXIgcHJvcGFnYXRpb246XG5cdCAgICAgIHZhciBzcmNTdG9wID0gZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uLmJpbmQoZXZlbnQuc3JjRXZlbnQpO1xuXHQgICAgICBpZih0eXBlb2Ygc3JjU3RvcCA9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICBldmVudC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpe1xuXHQgICAgICAgICAgc3JjU3RvcCgpO1xuXHQgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICAvLyBhdHRhY2ggZmlyc3RUYXJnZXQgcHJvcGVydHkgdG8gdGhlIGV2ZW50XG5cdCAgICAgIGV2ZW50LmZpcnN0VGFyZ2V0ID0gX2ZpcnN0VGFyZ2V0O1xuXHRcblx0ICAgICAgLy8gcHJvcGFnYXRlIG92ZXIgYWxsIGVsZW1lbnRzICh1bnRpbCBzdG9wcGVkKVxuXHQgICAgICB2YXIgZWxlbSA9IF9maXJzdFRhcmdldDtcblx0ICAgICAgd2hpbGUgKGVsZW0gJiYgIXN0b3BwZWQpIHtcblx0ICAgICAgICB2YXIgZWxlbUhhbW1lciA9IGVsZW0uaGFtbWVyO1xuXHQgICAgICAgIGlmKGVsZW1IYW1tZXIpe1xuXHQgICAgICAgICAgdmFyIF9oYW5kbGVycztcblx0ICAgICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCBlbGVtSGFtbWVyLmxlbmd0aDsgaysrKXtcblx0ICAgICAgICAgICAgX2hhbmRsZXJzID0gZWxlbUhhbW1lcltrXS5faGFuZGxlcnNbZXZlbnQudHlwZV07XG5cdCAgICAgICAgICAgIGlmKF9oYW5kbGVycykgZm9yICh2YXIgaSA9IDA7IGkgPCBfaGFuZGxlcnMubGVuZ3RoICYmICFzdG9wcGVkOyBpKyspIHtcblx0ICAgICAgICAgICAgICBfaGFuZGxlcnNbaV0oZXZlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gd3JhcHBlcjtcblx0ICB9O1xuXHR9KSk7XG5cblxuLyoqKi8gfSxcbi8qIDExMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0cy5wYXJzZUFjdGlvbnMgPSBwYXJzZUFjdGlvbnM7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuXHRleHBvcnRzLmRpc3RpbmN0U3RhdGUgPSBkaXN0aW5jdFN0YXRlO1xuXHRleHBvcnRzLmluY2x1ZGVBY3Rpb24gPSBpbmNsdWRlQWN0aW9uO1xuXHRleHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5cdGV4cG9ydHMuZXhjbHVkZUFjdGlvbiA9IGV4Y2x1ZGVBY3Rpb247XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdC8vIGRlYnVnIG91dHB1dFxuXHR2YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBkZWJ1ZygpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgX2NvbnNvbGU7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgYXJncy51bnNoaWZ0KCclY3JlZHV4LXVuZG8nLCAnZm9udC1zdHlsZTogaXRhbGljJyk7XG5cdCAgICB9XG5cdCAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuXHQgIH1cblx0fVxuXHRmdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcblx0ICBpZiAoX19ERUJVR19fKSB7XG5cdCAgICB2YXIgYXJncyA9IFsnYWN0aW9uJywgYWN0aW9uLnR5cGVdO1xuXHQgICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcblx0ICAgICAgdmFyIF9jb25zb2xlMjtcblx0XG5cdCAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuXHQgICAgICAoX2NvbnNvbGUyID0gY29uc29sZSkuZ3JvdXBDb2xsYXBzZWQuYXBwbHkoX2NvbnNvbGUyLCBhcmdzKTtcblx0ICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmVkJywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbjogYWN0aW9uIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVidWcuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0ZnVuY3Rpb24gZGVidWdFbmQoKSB7XG5cdCAgaWYgKF9fREVCVUdfXykge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUuZ3JvdXBFbmQgJiYgY29uc29sZS5ncm91cEVuZCgpO1xuXHQgIH1cblx0fVxuXHQvLyAvZGVidWcgb3V0cHV0XG5cdFxuXHQvLyBhY3Rpb24gdHlwZXNcblx0dmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcblx0ICBVTkRPOiAnQEByZWR1eC11bmRvL1VORE8nLFxuXHQgIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG5cdCAgSlVNUF9UT19GVVRVUkU6ICdAQHJlZHV4LXVuZG8vSlVNUF9UT19GVVRVUkUnLFxuXHQgIEpVTVBfVE9fUEFTVDogJ0BAcmVkdXgtdW5kby9KVU1QX1RPX1BBU1QnXG5cdH07XG5cdC8vIC9hY3Rpb24gdHlwZXNcblx0XG5cdC8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG5cdHZhciBBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuQWN0aW9uQ3JlYXRvcnMgPSB7XG5cdCAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHtcblx0ICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcblx0ICB9LFxuXHQgIHJlZG86IGZ1bmN0aW9uIHJlZG8oKSB7XG5cdCAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG5cdCAgfSxcblx0ICBqdW1wVG9GdXR1cmU6IGZ1bmN0aW9uIGp1bXBUb0Z1dHVyZShpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuXHQgIH0sXG5cdCAganVtcFRvUGFzdDogZnVuY3Rpb24ganVtcFRvUGFzdChpbmRleCkge1xuXHQgICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcblx0ICB9XG5cdH07XG5cdC8vIC9hY3Rpb24gY3JlYXRvcnNcblx0XG5cdC8vIGxlbmd0aDogZ2V0IGxlbmd0aCBvZiBoaXN0b3J5XG5cdGZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0ICByZXR1cm4gcGFzdC5sZW5ndGggKyAxICsgZnV0dXJlLmxlbmd0aDtcblx0fVxuXHQvLyAvbGVuZ3RoXG5cdFxuXHQvLyBpbnNlcnQ6IGluc2VydCBgc3RhdGVgIGludG8gaGlzdG9yeSwgd2hpY2ggbWVhbnMgYWRkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG5cdC8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuXHQvLyAgICAgICAgIHRoZSBgZnV0dXJlYC5cblx0ZnVuY3Rpb24gaW5zZXJ0KGhpc3RvcnksIHN0YXRlLCBsaW1pdCkge1xuXHQgIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHRcblx0ICB2YXIgaGlzdG9yeU92ZXJmbG93ID0gbGltaXQgJiYgbGVuZ3RoKGhpc3RvcnkpID49IGxpbWl0O1xuXHRcblx0ICBpZiAocHJlc2VudCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAvLyBpbml0IGhpc3Rvcnlcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHBhc3Q6IFtdLFxuXHQgICAgICBwcmVzZW50OiBzdGF0ZSxcblx0ICAgICAgZnV0dXJlOiBbXVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3Quc2xpY2UoaGlzdG9yeU92ZXJmbG93ID8gMSA6IDApKSwgW3ByZXNlbnRdKSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2luc2VydFxuXHRcblx0Ly8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuXHRmdW5jdGlvbiB1bmRvKGhpc3RvcnkpIHtcblx0ICBkZWJ1ZygndW5kbycsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuXHQgICAgcHJlc2VudDogcGFzdFtwYXN0Lmxlbmd0aCAtIDFdLCAvLyBzZXQgZWxlbWVudCBhcyBuZXcgcHJlc2VudFxuXHQgICAgZnV0dXJlOiBbcHJlc2VudF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmdXR1cmUpKVxuXHQgIH07XG5cdH1cblx0Ly8gL3VuZG9cblx0XG5cdC8vIHJlZG86IGdvIHRvIHRoZSBuZXh0IHBvaW50IGluIGhpc3Rvcnlcblx0ZnVuY3Rpb24gcmVkbyhoaXN0b3J5KSB7XG5cdCAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cdFxuXHQgIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuXHQgIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXHQgIHZhciBmdXR1cmUgPSBoaXN0b3J5LmZ1dHVyZTtcblx0XG5cdFxuXHQgIGlmIChmdXR1cmUubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoMSwgZnV0dXJlLmxlbmd0aCksIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gZnV0dXJlXG5cdCAgICBwcmVzZW50OiBmdXR1cmVbMF0sIC8vIHNldCBlbGVtZW50IGFzIG5ldyBwcmVzZW50XG5cdCAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcblx0ICAgIF0pXG5cdCAgfTtcblx0fVxuXHQvLyAvcmVkb1xuXHRcblx0Ly8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuXHRmdW5jdGlvbiBqdW1wVG9GdXR1cmUoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IDApIHJldHVybiByZWRvKGhpc3RvcnkpO1xuXHRcblx0ICB2YXIgcGFzdCA9IGhpc3RvcnkucGFzdDtcblx0ICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcblx0ICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cdFxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgZnV0dXJlOiBmdXR1cmUuc2xpY2UoaW5kZXggKyAxKSxcblx0ICAgIHByZXNlbnQ6IGZ1dHVyZVtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb0Z1dHVyZVxuXHRcblx0Ly8ganVtcFRvUGFzdDoganVtcCB0byByZXF1ZXN0ZWQgaW5kZXggaW4gcGFzdCBoaXN0b3J5XG5cdGZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcblx0ICBpZiAoaW5kZXggPT09IGhpc3RvcnkucGFzdC5sZW5ndGggLSAxKSByZXR1cm4gdW5kbyhoaXN0b3J5KTtcblx0XG5cdCAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG5cdCAgdmFyIHByZXNlbnQgPSBoaXN0b3J5LnByZXNlbnQ7XG5cdCAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXHRcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuXHQgICAgcHJlc2VudDogcGFzdFtpbmRleF0sXG5cdCAgICBwYXN0OiBwYXN0LnNsaWNlKDAsIGluZGV4KVxuXHQgIH07XG5cdH1cblx0Ly8gL2p1bXBUb1Bhc3Rcblx0XG5cdC8vIHdyYXBTdGF0ZTogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIDAuNFxuXHRmdW5jdGlvbiB3cmFwU3RhdGUoc3RhdGUpIHtcblx0ICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG5cdCAgICBoaXN0b3J5OiBzdGF0ZVxuXHQgIH0pO1xuXHR9XG5cdC8vIC93cmFwU3RhdGVcblx0XG5cdC8vIHVwZGF0ZVN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKHN0YXRlLCBoaXN0b3J5KSB7XG5cdCAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGhpc3RvcnkpKTtcblx0fVxuXHQvLyAvdXBkYXRlU3RhdGVcblx0XG5cdC8vIGNyZWF0ZUhpc3Rvcnlcblx0ZnVuY3Rpb24gY3JlYXRlSGlzdG9yeShzdGF0ZSkge1xuXHQgIHJldHVybiB7XG5cdCAgICBwYXN0OiBbXSxcblx0ICAgIHByZXNlbnQ6IHN0YXRlLFxuXHQgICAgZnV0dXJlOiBbXVxuXHQgIH07XG5cdH1cblx0Ly8gL2NyZWF0ZUhpc3Rvcnlcblx0XG5cdC8vIHBhcnNlQWN0aW9uc1xuXHRmdW5jdGlvbiBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucykge1xuXHQgIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkocmF3QWN0aW9ucykpIHtcblx0ICAgIHJldHVybiByYXdBY3Rpb25zO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHJhd0FjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gW3Jhd0FjdGlvbnNdO1xuXHQgIH1cblx0ICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXHR9XG5cdC8vIC9wYXJzZUFjdGlvbnNcblx0XG5cdC8vIHJlZHV4LXVuZG8gaGlnaGVyIG9yZGVyIHJlZHVjZXJcblx0ZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuXHQgIHZhciByYXdDb25maWcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXHRcblx0ICB2YXIgY29uZmlnID0ge1xuXHQgICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuXHQgICAgaW5pdFR5cGVzOiBwYXJzZUFjdGlvbnMocmF3Q29uZmlnLmluaXRUeXBlcywgWydAQHJlZHV4L0lOSVQnLCAnQEBJTklUJ10pLFxuXHQgICAgbGltaXQ6IHJhd0NvbmZpZy5saW1pdCxcblx0ICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSxcblx0ICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcblx0ICAgIHJlZG9UeXBlOiByYXdDb25maWcucmVkb1R5cGUgfHwgQWN0aW9uVHlwZXMuUkVETyxcblx0ICAgIGp1bXBUb1Bhc3RUeXBlOiByYXdDb25maWcuanVtcFRvUGFzdFR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULFxuXHQgICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcblx0ICB9O1xuXHQgIGNvbmZpZy5oaXN0b3J5ID0gcmF3Q29uZmlnLmluaXRpYWxIaXN0b3J5IHx8IGNyZWF0ZUhpc3RvcnkoY29uZmlnLmluaXRpYWxTdGF0ZSk7XG5cdFxuXHQgIGlmIChjb25maWcuaW5pdFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgY29uc29sZS53YXJuKCdyZWR1eC11bmRvOiBzdXBwbHkgYXQgbGVhc3Qgb25lIGFjdGlvbiB0eXBlIGluIGluaXRUeXBlcyB0byBlbnN1cmUgaW5pdGlhbCBzdGF0ZScpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuXHQgICAgdmFyIHJlcyA9IHVuZGVmaW5lZDtcblx0ICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG5cdCAgICAgICAgcmVzID0gdW5kbyhzdGF0ZSk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIHVuZG8nLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcblx0ICAgICAgICByZXMgPSByZWRvKHN0YXRlKTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgcmVkbycsIHJlcyk7XG5cdCAgICAgICAgZGVidWdFbmQoKTtcblx0ICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblx0XG5cdCAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb1Bhc3Qoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG5cdCAgICAgICAgZGVidWcoJ2FmdGVyIGp1bXBUb1Bhc3QnLCByZXMpO1xuXHQgICAgICAgIGRlYnVnRW5kKCk7XG5cdCAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cdFxuXHQgICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuXHQgICAgICAgIHJlcyA9IGp1bXBUb0Z1dHVyZShzdGF0ZSwgYWN0aW9uLmluZGV4KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvRnV0dXJlJywgcmVzKTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXHRcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXMgPSByZWR1Y2VyKHN0YXRlICYmIHN0YXRlLnByZXNlbnQsIGFjdGlvbik7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcblx0ICAgICAgICAgIHJldHVybiBhY3Rpb25UeXBlID09PSBhY3Rpb24udHlwZTtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG5cdCAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgcmV0dXJuIHdyYXBTdGF0ZShfZXh0ZW5kcyh7fSwgc3RhdGUsIGNyZWF0ZUhpc3RvcnkocmVzKSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXIgJiYgdHlwZW9mIGNvbmZpZy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcblx0ICAgICAgICAgICAgZGVidWcoJ2ZpbHRlciBwcmV2ZW50ZWQgYWN0aW9uLCBub3Qgc3RvcmluZyBpdCcpO1xuXHQgICAgICAgICAgICBkZWJ1Z0VuZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuXHQgICAgICAgICAgICAgIHByZXNlbnQ6IHJlc1xuXHQgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG5cdCAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5ID0gaW5zZXJ0KGhpc3RvcnksIHJlcywgY29uZmlnLmxpbWl0KTtcblx0ICAgICAgICBkZWJ1ZygnYWZ0ZXIgaW5zZXJ0JywgeyBoaXN0b3J5OiB1cGRhdGVkSGlzdG9yeSwgZnJlZTogY29uZmlnLmxpbWl0IC0gbGVuZ3RoKHVwZGF0ZWRIaXN0b3J5KSB9KTtcblx0ICAgICAgICBkZWJ1Z0VuZCgpO1xuXHRcblx0ICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgdXBkYXRlZEhpc3RvcnkpKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cdC8vIC9yZWR1eC11bmRvXG5cdFxuXHQvLyBkaXN0aW5jdFN0YXRlIGhlbHBlclxuXHRmdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCBjdXJyZW50U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcblx0ICAgIHJldHVybiBjdXJyZW50U3RhdGUgIT09IHByZXZpb3VzU3RhdGU7XG5cdCAgfTtcblx0fVxuXHQvLyAvZGlzdGluY3RTdGF0ZVxuXHRcblx0Ly8gaW5jbHVkZUFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKSB7XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpID49IDA7XG5cdCAgfTtcblx0fVxuXHQvLyAvaW5jbHVkZUFjdGlvblxuXHRcblx0Ly8gZGVwcmVjYXRlZCBpZkFjdGlvbiBoZWxwZXJcblx0ZnVuY3Rpb24gaWZBY3Rpb24ocmF3QWN0aW9ucykge1xuXHQgIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcblx0ICByZXR1cm4gaW5jbHVkZUFjdGlvbihyYXdBY3Rpb25zKTtcblx0fVxuXHQvLyAvaWZBY3Rpb25cblx0XG5cdC8vIGV4Y2x1ZGVBY3Rpb24gaGVscGVyXG5cdGZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG5cdCAgdmFyIHJhd0FjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcblx0ICAgIHJldHVybiBhY3Rpb25zLmluZGV4T2YoYWN0aW9uLnR5cGUpIDwgMDtcblx0ICB9O1xuXHR9XG5cdC8vIC9leGNsdWRlQWN0aW9uXG5cbi8qKiovIH0sXG4vKiAxMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgWV9TSVpFID0gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFO1xuXHR2YXIgbW9kID0gZnVuY3Rpb24gbW9kKHRlbXBSZXNpemVfdG9wKSB7XG5cdCAgICAgIHZhciBjb2VmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHZhciBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG5cdCAgICAgICAgICBESVYgPSBwYXJzZUludCh0ZW1wUmVzaXplX3RvcCAvIFlfU0laRSksXG5cdCAgICAgICAgICBHQVAgPSAxNTtcblx0XG5cdCAgICAgIGlmIChNT0QgPCBHQVApIHtcblx0ICAgICAgICAgICAgdGVtcFJlc2l6ZV90b3AgPSBESVYgKiBZX1NJWkU7XG5cdCAgICAgIH0gZWxzZSBpZiAoTU9EID4gWV9TSVpFIC0gR0FQKSB7XG5cdCAgICAgICAgICAgIHRlbXBSZXNpemVfdG9wID0gY29lZiAqIChESVYgKyAxKSAqIFlfU0laRTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRlbXBSZXNpemVfdG9wO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gbW9kO1xuXG4vKioqLyB9LFxuLyogMTEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jdXJ2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0XG5cdHZhciBfY3VydmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3VydmUpO1xuXHRcblx0dmFyIF9yZXNpemVIYW5kbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVIYW5kbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHRcblx0dmFyIEN1cnZlRWRpdG9yUmlnaHQgPSBmdW5jdGlvbiBDdXJ2ZUVkaXRvclJpZ2h0KF9yZWYpIHtcblx0ICAgICAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdFxuXHQgICAgICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3JpZ2h0J10gfSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfY3VydmUyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKF9yZXNpemVIYW5kbGUyLmRlZmF1bHQsIHsgdHlwZTogJ3JpZ2h0JywgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGUnXSB9KSxcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX3ByZWFjdC5oKShfcmVzaXplSGFuZGxlMi5kZWZhdWx0LCB7IHR5cGU6ICdib3R0b20nLCBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0pXG5cdCAgICAgICAgICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3JSaWdodDtcblxuLyoqKi8gfSxcbi8qIDExMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX2dldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFByb3RvdHlwZU9mKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE0KTtcblx0XG5cdHZhciBfYW5nbGVUb1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ2xlVG9Qb2ludCk7XG5cdFxuXHR2YXIgX3BvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpO1xuXHRcblx0dmFyIF9wb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludCk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTExKTtcblx0XG5cdHZhciBfcmVzaXplTW9kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZU1vZCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9oYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW1tZXJqcyk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cdFxuXHR2YXIgX3Byb3BhZ2F0aW5nSGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcGFnYXRpbmdIYW1tZXJqcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHRcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgQ3VydmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEN1cnZlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ3VydmUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDdXJ2ZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShDdXJ2ZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDdXJ2ZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xuXHQgICAgICB2YXIgcGF0aCA9IHN0YXRlLnBvaW50cy5wcmVzZW50LnBhdGg7XG5cdCAgICAgIHZhciBzdHlsZXMgPSB0aGlzLl9nZXRTdHlsZShzdGF0ZSk7XG5cdCAgICAgIHZhciBwb2ludHMgPSB0aGlzLl9yZW5kZXJQb2ludHMoc3RhdGUpO1xuXHQgICAgICB2YXIgc2VnbWVudHMgPSB0aGlzLl9yZW5kZXJTZWdtZW50cyhzdGF0ZSk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlJ10gfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2JywgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlX19iYWNrZ3JvdW5kJ10sXG5cdCAgICAgICAgICBzdHlsZTogc3R5bGVzLmJhY2tncm91bmQgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZV9fc3ZnLXdyYXBwZXInXSxcblx0ICAgICAgICAgICAgc3R5bGU6IHN0eWxlcy50cmFuc2Zvcm0gfSxcblx0ICAgICAgICAgIHBvaW50cyxcblx0ICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAnc3ZnJyxcblx0ICAgICAgICAgICAgeyBoZWlnaHQ6IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSxcblx0ICAgICAgICAgICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnLFxuXHQgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdub25lJyxcblx0ICAgICAgICAgICAgICBpZDogJ2pzLXN2ZycsXG5cdCAgICAgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snY3VydmVfX3N2ZyddIH0sXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKCdwYXRoJywgeyBkOiBwYXRoLFxuXHQgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxuXHQgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6ICcwLjM1Jyxcblx0ICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogJzQnLFxuXHQgICAgICAgICAgICAgICd2ZWN0b3ItZWZmZWN0JzogJ25vbi1zY2FsaW5nLXN0cm9rZScsXG5cdCAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC43NSwuNzUpJyxcblx0ICAgICAgICAgICAgICBmaWxsOiAnbm9uZScgfSksXG5cdCAgICAgICAgICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICAgICAgICdnJyxcblx0ICAgICAgICAgICAgICB7IGlkOiAnanMtc2VnbWVudHMnIH0sXG5cdCAgICAgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgICAgIHNlZ21lbnRzLFxuXHQgICAgICAgICAgICAgICcgJ1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB0ZW1wX3RvcCA9IHJlc2l6ZS50ZW1wX3RvcDtcblx0ICAgICAgdmFyIHRlbXBfcmlnaHQgPSByZXNpemUudGVtcF9yaWdodDtcblx0XG5cdFxuXHQgICAgICB0ZW1wX3RvcCArPSByZXNpemUudG9wO1xuXHQgICAgICB0ZW1wX3JpZ2h0ICs9IHJlc2l6ZS5yaWdodDtcblx0XG5cdCAgICAgIGlmIChfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgLSB0ZW1wX3RvcCA8IF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSkge1xuXHQgICAgICAgIHRlbXBfdG9wID0gMDtcblx0ICAgICAgfVxuXHQgICAgICB0ZW1wX3RvcCA9ICgwLCBfcmVzaXplTW9kMi5kZWZhdWx0KSh0ZW1wX3RvcCwgLTEpO1xuXHRcblx0ICAgICAgdmFyIHNjYWxlID0gJ3RyYW5zZm9ybTogc2NhbGVYKCcgKyAoX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgTWF0aC5tYXgodGVtcF9yaWdodCwgMCkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgJyknLFxuXHQgICAgICAgICAgYmdUcmFuc2Zvcm0gPSAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgc2NhbGUgKyAnOyAnICsgc2NhbGUgKyAnOycsXG5cdCAgICAgICAgICBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQtcG9zaXRpb246IDAgJyArICgtdGVtcF90b3AgLSAxKSArICdweDsgJyArIGJnVHJhbnNmb3JtLFxuXHQgICAgICAgICAgdHJhbnNmb3JtID0gJ3RyYW5zZm9ybTogdHJhbnNsYXRlKDBweCwgJyArIC10ZW1wX3RvcCArICdweCknO1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG5cdCAgICAgICAgdHJhbnNmb3JtOiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNmb3JtICsgJzsgJyArIHRyYW5zZm9ybSArICc7J1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19yZW5kZXJQb2ludHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJQb2ludHMoc3RhdGUpIHtcblx0ICAgICAgdmFyIHBvaW50c0RhdGEgPSBzdGF0ZS5wb2ludHMucHJlc2VudC5wb2ludHMsXG5cdCAgICAgICAgICBwb2ludHMgPSBbXSxcblx0ICAgICAgICAgIGxlbiA9IHBvaW50c0RhdGEubGVuZ3RoO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIHBvaW50cy5wdXNoKCgwLCBfcHJlYWN0LmgpKF9wb2ludDIuZGVmYXVsdCwgeyBwb2ludDogcG9pbnRzRGF0YVtpXSwgc3RhdGU6IHN0YXRlLCBpbmRleDogaSwgcG9pbnRzQ291bnQ6IGxlbiB9KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBwb2ludHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3JlbmRlclNlZ21lbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyU2VnbWVudHMoc3RhdGUpIHtcblx0ICAgICAgdmFyIHNlZ21lbnRzID0gc3RhdGUucG9pbnRzLnByZXNlbnQuc2VnbWVudHM7XG5cdCAgICAgIHZhciBkb21TZWdtZW50cyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV07XG5cdCAgICAgICAgZG9tU2VnbWVudHMucHVzaCgoMCwgX3ByZWFjdC5oKSgncGF0aCcsIHsgZDogc2VnbWVudC5zZWdtZW50U3RyaW5nLFxuXHQgICAgICAgICAgJ2RhdGEtaW5kZXgnOiBzZWdtZW50LmluZGV4LFxuXHQgICAgICAgICAgc3Ryb2tlOiAnd2hpdGUnLFxuXHQgICAgICAgICAgZmlsbDogJ25vbmUnLFxuXHQgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICcnLFxuXHQgICAgICAgICAgJ3ZlY3Rvci1lZmZlY3QnOiAnbm9uLXNjYWxpbmctc3Ryb2tlJyxcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2N1cnZlX19zdmctc2VnbWVudCddXG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gZG9tU2VnbWVudHM7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gX3JlbmRlclNlZ21lbnQgKCBpbmRleCwgc3RyaW5nKSB7XG5cdCAgICAvLyAgIHJldHVybiA8cGF0aFxuXHQgICAgLy8gICAgICAgICAgIGQ9e3N0cmluZ31cblx0ICAgIC8vICAgICAgICAgICBkYXRhLWluZGV4PXtpbmRleH1cblx0ICAgIC8vICAgICAgICAgICBzdHJva2U9XCJ3aGl0ZVwiXG5cdCAgICAvLyAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuXHQgICAgLy8gICAgICAgICAgIHN0cm9rZS13aWR0aD1cIlwiXG5cdCAgICAvLyAgICAgICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXG5cdCAgICAvLyAgICAgICAgICAgY2xhc3M9e0NMQVNTRVNbJ2N1cnZlX19zdmctc2VnbWVudCddfVxuXHQgICAgLy8gICAgICAgICAgIC8+O1xuXHQgICAgLy8gfVxuXHRcblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdFxuXHRcblx0ICAgICAgdmFyIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1zZWdtZW50cycpLFxuXHQgICAgICAgICAgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcihlbCkpO1xuXHRcblx0ICAgICAgLy8gbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblx0ICAgICAgbWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgbWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIGV2ID0gZS5zcmNFdmVudCxcblx0ICAgICAgICAgICAgdGFyZ2V0ID0gZXYudGFyZ2V0O1xuXHQgICAgICAgIC8vIGhhbmRsZSBwYXRocyBvbmx5XG5cdCAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdwYXRoJykge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgICAgIHZhciB4ID0gZXYub2Zmc2V0WCxcblx0ICAgICAgICAgICAgeSA9IGV2Lm9mZnNldFkgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsXG5cdCAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKSArIDE7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9BREQnLFxuXHQgICAgICAgICAgZGF0YTogeyBwb2ludDogeyB4OiB4LCB5OiB5IH0sIGluZGV4OiBpbmRleCB9LFxuXHQgICAgICAgICAgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7IGluZGV4OiBpbmRleCwgdHlwZTogJ3N0cmFpZ2h0JyB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIHN2ZyA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtc3ZnJyksXG5cdCAgICAgICAgICBzdmdNYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHN2ZykpO1xuXHRcblx0ICAgICAgc3ZnTWMuYWRkKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuVGFwKCkpO1xuXHRcblx0ICAgICAgc3ZnTWMub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVTRUxFQ1RfQUxMJyB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDdXJ2ZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDdXJ2ZTtcblxuLyoqKi8gfSxcbi8qIDExNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhbmdsZSwgcmFkaXVzKSB7XG5cdCAgcmV0dXJuIG1vanMuaC5nZXRSYWRpYWxQb2ludCh7IGFuZ2xlOiBhbmdsZSwgcmFkaXVzOiByYWRpdXMsIGNlbnRlcjogeyB4OiAwLCB5OiAwIH0gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hZGRQb2ludGVyRG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblx0XG5cdHZhciBfYWRkUG9pbnRlckRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkUG9pbnRlckRvd24pO1xuXHRcblx0dmFyIF9saXR0bGVIYW5kbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cdFxuXHR2YXIgX2xpdHRsZUhhbmRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXR0bGVIYW5kbGUpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0dmFyIF9yb3VuZFRvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpO1xuXHRcblx0dmFyIF9yb3VuZFRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdW5kVG8pO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9jbGFtcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcblx0XG5cdHZhciBfY2xhbXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhbXApO1xuXHRcblx0dmFyIF9yZXNpemVNb2QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZU1vZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNpemVNb2QpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMyk7XG5cdFxuXHR2YXIgUG9pbnQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFBvaW50LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUG9pbnQoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQb2ludCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShQb2ludCkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQb2ludCwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgdmFyIHBvaW50ID0gX3Byb3BzLnBvaW50O1xuXHQgICAgICB2YXIgc3RhdGUgPSBfcHJvcHMuc3RhdGU7XG5cdCAgICAgIHZhciBzZWxlY3RlZCA9IHBvaW50LmlzU2VsZWN0ZWQgPyBDTEFTU0VTWydpcy1zZWxlY3RlZCddIDogJyc7XG5cdCAgICAgIHZhciBoYW5kbGVzID0gcG9pbnQudHlwZSA9PT0gJ3N0cmFpZ2h0JyA/IENMQVNTRVNbJ2lzLWhpZGUtaGFuZGxlcyddIDogJyc7XG5cdFxuXHQgICAgICB2YXIgbGl0dGxlSGFuZGxlcyA9IHRoaXMuX2dldExpdHRsZUhhbmRsZXMoKTtcblx0XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1sncG9pbnQnXSArICcgJyArIHNlbGVjdGVkICsgJyAnICsgaGFuZGxlcyxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRTdHlsZShzdGF0ZSksXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAncG9pbnQnIH0sXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydwb2ludF9fdG91Y2gnXSwgaWQ6ICdqcy1wb2ludC10b3VjaCcgfSksXG5cdCAgICAgICAgbGl0dGxlSGFuZGxlc1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0eWxlKHN0YXRlKSB7XG5cdCAgICAgIHZhciBwb2ludCA9IHRoaXMucHJvcHMucG9pbnQ7XG5cdCAgICAgIHZhciByZXNpemUgPSBzdGF0ZS5yZXNpemU7XG5cdCAgICAgIHZhciB4ID0gKDAsIF9jbGFtcDIuZGVmYXVsdCkocG9pbnQueCArIHBvaW50LnRlbXBYLCAwLCAxMDApO1xuXHQgICAgICB2YXIgY2xlYW5YID0geCAqIHJlc2l6ZS5zY2FsZXJYO1xuXHQgICAgICB2YXIgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWTtcblx0XG5cdCAgICAgIC8vIGNvbnNvbGUubG9nKHBvaW50KTtcblx0XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoJyArIGNsZWFuWCArICdweCwgJyArICh5IC0gMSkgKyAncHgpJztcblx0ICAgICAgcmV0dXJuICcnICsgbW9qcy5oLnByZWZpeC5jc3MgKyB0cmFuc2xhdGUgKyAnOyAnICsgdHJhbnNsYXRlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19nZXRMaXR0bGVIYW5kbGVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGl0dGxlSGFuZGxlcygpIHtcblx0ICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgICB2YXIgaW5kZXggPSBfcHJvcHMyLmluZGV4O1xuXHQgICAgICB2YXIgcG9pbnQgPSBfcHJvcHMyLnBvaW50O1xuXHQgICAgICB2YXIgcG9pbnRzQ291bnQgPSBfcHJvcHMyLnBvaW50c0NvdW50O1xuXHQgICAgICB2YXIgaGFuZGxlcyA9IFtdO1xuXHQgICAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMSBmb3Igc3RhcnQgcG9pbnRcblx0ICAgICAgaW5kZXggIT09IDAgJiYgaGFuZGxlcy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZSgxLCBwb2ludCkpO1xuXHQgICAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMiBmb3IgZW5kIHBvaW50XG5cdCAgICAgIGluZGV4ICE9PSBwb2ludHNDb3VudCAtIDEgJiYgaGFuZGxlcy5wdXNoKHRoaXMuX2NyZWF0ZUhhbmRsZSgyLCBwb2ludCkpO1xuXHQgICAgICByZXR1cm4gaGFuZGxlcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfY3JlYXRlSGFuZGxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlSGFuZGxlKGluZGV4LCBwb2ludCkge1xuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoX2xpdHRsZUhhbmRsZTIuZGVmYXVsdCwge1xuXHQgICAgICAgIGluZGV4OiBpbmRleCxcblx0ICAgICAgICBzdGF0ZTogdGhpcy5wcm9wcy5zdGF0ZSxcblx0ICAgICAgICBwYXJlbnRJbmRleDogdGhpcy5wcm9wcy5pbmRleCxcblx0ICAgICAgICBoYW5kbGU6IHBvaW50WydoYW5kbGUnICsgaW5kZXhdLFxuXHQgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdFxuXHQgICAgICB2YXIgZ2V0VGVtcFggPSBmdW5jdGlvbiBnZXRUZW1wWChlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczMgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzMy5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHMzLmluZGV4O1xuXHQgICAgICAgIC8vIGlmIHBvaW50IGlzIG5vdCBsb2NrZWQgdG8geCBheGVzIC0+XG5cdCAgICAgICAgLy8gY2FsY3VsYXRlIGRlbHRhIHJlZ2FyZGluZyBzY2FsZXJcblx0XG5cdCAgICAgICAgaWYgKHBvaW50LmlzTG9ja2VkWCkge1xuXHQgICAgICAgICAgcmV0dXJuIDA7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCAvIHJlc2l6ZS5zY2FsZXJYO1xuXHQgICAgICAgIGlmIChwb2ludC54ICsgeCA8IDApIHtcblx0ICAgICAgICAgIHJldHVybiAwIC0gcG9pbnQueDtcblx0ICAgICAgICB9IGVsc2UgaWYgKHBvaW50LnggKyB4ID4gMTAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gMTAwIC0gcG9pbnQueDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcm91bmRUbzIuZGVmYXVsdCkocG9pbnQueCArIHgsIDUsIDEuNSkgLSBwb2ludC54O1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIGdldFkgPSBmdW5jdGlvbiBnZXRZKGUpIHtcblx0ICAgICAgICB2YXIgcmVzaXplID0gX3RoaXMyLnByb3BzLnN0YXRlLnJlc2l6ZTtcblx0ICAgICAgICB2YXIgX3Byb3BzNCA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM0LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczQuaW5kZXg7XG5cdCAgICAgICAgdmFyIHkgPSBwb2ludC55ICsgZS5kZWx0YVk7XG5cdFxuXHQgICAgICAgIC8vIGNsYW1wIHkgdG8gdGhlIHNpemUgb2YgY3VydmVcblx0ICAgICAgICByZXR1cm4gKDAsIF9jbGFtcDIuZGVmYXVsdCkoeSwgcmVzaXplLnRvcCwgX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSk7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICAvLyBnZXQgeSBkZWx0YSByZWFnYXJkaW5nIGN1cnZlIGJvdW5kc1xuXHQgICAgICB2YXIgZ2V0VGVtcFkgPSBmdW5jdGlvbiBnZXRUZW1wWShlKSB7XG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IF90aGlzMi5wcm9wcy5zdGF0ZS5yZXNpemU7XG5cdCAgICAgICAgdmFyIF9wcm9wczUgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNS5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM1LmluZGV4O1xuXHRcblx0XG5cdCAgICAgICAgdmFyIHkgPSBwb2ludC55ICsgZS5kZWx0YVksXG5cdCAgICAgICAgICAgIHJldHVyblZhbHVlID0geTtcblx0XG5cdCAgICAgICAgaWYgKHkgPCByZXNpemUudG9wKSB7XG5cdCAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJlc2l6ZS50b3A7XG5cdCAgICAgICAgfSBlbHNlIGlmICh5ID4gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSkge1xuXHQgICAgICAgICAgcmV0dXJuVmFsdWUgPSBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcm91bmRUbzIuZGVmYXVsdCkocmV0dXJuVmFsdWUsIDUgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQsIDIgKiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQpIC0gcG9pbnQueTtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtcG9pbnQtdG91Y2gnKSxcblx0ICAgICAgICAgIG1jID0gKDAsIF9wcm9wYWdhdGluZ0hhbW1lcmpzMi5kZWZhdWx0KShuZXcgX2hhbW1lcmpzMi5kZWZhdWx0Lk1hbmFnZXIoZWwpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdFxuXHQgICAgICBtYy5vbigncGFuJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzNiA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgcG9pbnQgPSBfcHJvcHM2LnBvaW50O1xuXHQgICAgICAgIHZhciBpbmRleCA9IF9wcm9wczYuaW5kZXg7XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuXHQgICAgICAgICAgZGF0YTogeyB4OiBnZXRUZW1wWChlKSwgeTogZ2V0VGVtcFkoZSksIGluZGV4OiBpbmRleCB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczcgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3Byb3BzNy5wb2ludDtcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHM3LmluZGV4O1xuXHQgICAgICAgIC8vIGZpcmUgdHJhbnNsYXRlIGVuZCBhbmQgc2F2ZSBpdCB0byB0aGUgc3RvcmVcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1RSQU5TTEFURV9FTkQnLCBkYXRhOiBpbmRleCwgaXNSZWNvcmQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgICAgLy8gLm9uKCd0YXAnLCAoZSkgPT4ge1xuXHQgICAgICAvLyAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wc1xuXHQgICAgICAvLyAgIHN0b3JlLmRpc3BhdGNoKHtcblx0ICAgICAgLy8gICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuXHQgICAgICAvLyAgICAgZGF0YToge1xuXHQgICAgICAvLyAgICAgICBpbmRleCwgaXNEZXNlbGVjdDogIWUuc3JjRXZlbnQuc2hpZnRLZXksXG5cdCAgICAgIC8vICAgICAgIHR5cGU6IHBvaW50LnR5cGVcblx0ICAgICAgLy8gICAgIH1cblx0ICAgICAgLy8gICB9KTtcblx0ICAgICAgLy8gICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAvLyB9KTtcblx0XG5cdCAgICAgICgwLCBfYWRkUG9pbnRlckRvd24yLmRlZmF1bHQpKGVsLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciBfcHJvcHM4ID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICAgIHZhciBwb2ludCA9IF9wcm9wczgucG9pbnQ7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gX3Byb3BzOC5pbmRleDtcblx0XG5cdCAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG5cdCAgICAgICAgICBkYXRhOiB7XG5cdCAgICAgICAgICAgIGluZGV4OiBpbmRleCwgaXNEZXNlbGVjdDogIWUuc2hpZnRLZXksXG5cdCAgICAgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFBvaW50O1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvaW50O1xuXG4vKioqLyB9LFxuLyogMTE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChlbCwgZm4pIHtcblx0ICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdNU1BvaW50ZXJEb3duJywgZm4pO1xuXHQgIH0gZWxzZSBpZiAod2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZm4pO1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmbik7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9wb2ludFRvQW5nbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG5cdFxuXHR2YXIgX3BvaW50VG9BbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludFRvQW5nbGUpO1xuXHRcblx0dmFyIF9oYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBfaGFtbWVyanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFtbWVyanMpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXHRcblx0dmFyIF9wcm9wYWdhdGluZ0hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BhZ2F0aW5nSGFtbWVyanMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG5cdFxuXHR2YXIgTGl0dGxlSGFuZGxlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShMaXR0bGVIYW5kbGUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBMaXR0bGVIYW5kbGUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBMaXR0bGVIYW5kbGUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgKDAsIF9nZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoTGl0dGxlSGFuZGxlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKExpdHRsZUhhbmRsZSwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydsaXR0bGUtaGFuZGxlJ10sXG5cdCAgICAgICAgICAnZGF0YS1jb21wb25lbnQnOiAnbGl0dGxlLWhhbmRsZScgfSxcblx0ICAgICAgICAoMCwgX3ByZWFjdC5oKSgnZGl2Jywge1xuXHQgICAgICAgICAgJ2NsYXNzJzogQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fcG9pbnQnXSxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRQb2ludFN0eWxlKCkgfSksXG5cdCAgICAgICAgKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHtcblx0ICAgICAgICAgICdjbGFzcyc6IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX2xpbmUnXSxcblx0ICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRMaW5lU3R5bGUoKSB9KVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO3ZhciBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgaGFuZGxlID0gX3RoaXMyLnByb3BzLmhhbmRsZTtcblx0ICAgICAgfSkub24oJ3BhbicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgICB2YXIgaW5kZXggPSBfcHJvcHMuaW5kZXg7XG5cdCAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gX3Byb3BzLnBhcmVudEluZGV4O1xuXHRcblx0XG5cdCAgICAgICAgdmFyIHBvaW50ID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyksXG5cdCAgICAgICAgICAgIG5ld1ggPSBwb2ludC54ICsgZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIG5ld1kgPSBwb2ludC55ICsgZS5kZWx0YVksXG5cdCAgICAgICAgICAgIGFuZ2xlID0gKDAsIF9wb2ludFRvQW5nbGUyLmRlZmF1bHQpKG5ld1gsIG5ld1kpO1xuXHRcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG5cdCAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICBkYXRhOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgaW5kZXg6IGluZGV4LCBwYXJlbnRJbmRleDogcGFyZW50SW5kZXggfSwgYW5nbGUpXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ21pcnJvcmVkJykge1xuXHQgICAgICAgICAgdmFyIGkgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogaSwgcGFyZW50SW5kZXg6IHBhcmVudEluZGV4LFxuXHQgICAgICAgICAgICAgIHJhZGl1czogYW5nbGUucmFkaXVzLFxuXHQgICAgICAgICAgICAgIGFuZ2xlOiBhbmdsZS5hbmdsZSAtIDE4MFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChfdGhpczIucHJvcHMudHlwZSA9PT0gJ2FzeW1tZXRyaWMnKSB7XG5cdCAgICAgICAgICB2YXIgX2kgPSBpbmRleCA9PT0gMSA/IDIgOiAxO1xuXHQgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuXHQgICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG5cdCAgICAgICAgICAgIGRhdGE6IHtcblx0ICAgICAgICAgICAgICBpbmRleDogX2ksIHBhcmVudEluZGV4OiBwYXJlbnRJbmRleCxcblx0ICAgICAgICAgICAgICByYWRpdXM6IGhhbmRsZS5yYWRpdXMsXG5cdCAgICAgICAgICAgICAgYW5nbGU6IGFuZ2xlLmFuZ2xlIC0gMTgwXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KS5vbigncGFuZW5kJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0UG9pbnRTdHlsZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFBvaW50U3R5bGUoKSB7XG5cdCAgICAgIHZhciBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTtcblx0ICAgICAgdmFyIHBvaW50ID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiB0cmFuc2xhdGUoJyArIHBvaW50LnggKyAncHgsICcgKyBwb2ludC55ICsgJ3B4KSByb3RhdGUoJyArIGhhbmRsZS5hbmdsZSArICdkZWcpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZ2V0TGluZVN0eWxlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGluZVN0eWxlKCkge1xuXHQgICAgICB2YXIgaGFuZGxlID0gdGhpcy5wcm9wcy5oYW5kbGU7XG5cdCAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNmb3JtOiByb3RhdGUoJyArIGhhbmRsZS5hbmdsZSArICdkZWcpIHNjYWxlWSgnICsgaGFuZGxlLnJhZGl1cyArICcpJztcblx0XG5cdCAgICAgIHJldHVybiAnJyArIG1vanMuaC5wcmVmaXguY3NzICsgdHJhbnNsYXRlICsgJzsgJyArIHRyYW5zbGF0ZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIExpdHRsZUhhbmRsZTtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXR0bGVIYW5kbGU7XG5cbi8qKiovIH0sXG4vKiAxMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcblx0dmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBfYXNzaWduMi5kZWZhdWx0IHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XG5cdCAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcbi8qIDEyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpLk9iamVjdC5hc3NpZ247XG5cbi8qKiovIH0sXG4vKiAxMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cdHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IF9fd2VicGFja19yZXF1aXJlX18oMTIyKX0pO1xuXG4vKioqLyB9LFxuLyogMTIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcblx0dmFyIGdldEtleXMgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nilcblx0ICAsIGdPUFMgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MClcblx0ICAsIHBJRSAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSlcblx0ICAsIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNClcblx0ICAsIElPYmplY3QgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSlcblx0ICAsICRhc3NpZ24gID0gT2JqZWN0LmFzc2lnbjtcblx0XG5cdC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxuXHRtb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IF9fd2VicGFja19yZXF1aXJlX18oNDMpKGZ1bmN0aW9uKCl7XG5cdCAgdmFyIEEgPSB7fVxuXHQgICAgLCBCID0ge31cblx0ICAgICwgUyA9IFN5bWJvbCgpXG5cdCAgICAsIEsgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuXHQgIEFbU10gPSA3O1xuXHQgIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oayl7IEJba10gPSBrOyB9KTtcblx0ICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcblx0fSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdCAgdmFyIFQgICAgID0gdG9PYmplY3QodGFyZ2V0KVxuXHQgICAgLCBhTGVuICA9IGFyZ3VtZW50cy5sZW5ndGhcblx0ICAgICwgaW5kZXggPSAxXG5cdCAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmZcblx0ICAgICwgaXNFbnVtICAgICA9IHBJRS5mO1xuXHQgIHdoaWxlKGFMZW4gPiBpbmRleCl7XG5cdCAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pXG5cdCAgICAgICwga2V5cyAgID0gZ2V0U3ltYm9scyA/IGdldEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogZ2V0S2V5cyhTKVxuXHQgICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG5cdCAgICAgICwgaiAgICAgID0gMFxuXHQgICAgICAsIGtleTtcblx0ICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07XG5cdCAgfSByZXR1cm4gVDtcblx0fSA6ICRhc3NpZ247XG5cbi8qKiovIH0sXG4vKiAxMjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoeCwgeSkge1xuXHQgIHZhciByYWRpdXMgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSksXG5cdCAgICAgIGFuZ2xlID0gTWF0aC5hdGFuKHkgLyB4KSAqICgxODAgLyBNYXRoLlBJKSAtIDkwO1xuXHQgIGlmICh4ID4gMCkge1xuXHQgICAgYW5nbGUgPSBhbmdsZSAtIDE4MDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4geyByYWRpdXM6IHJhZGl1cywgYW5nbGU6IGFuZ2xlIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDEyNSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2xpdHRsZS1oYW5kbGVfaXcycnVfM3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjA7aGVpZ2h0OjB9Ll9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0zcHg7bWFyZ2luLXRvcDotM3B4O2JhY2tncm91bmQ6I2ZmNTEyZjtib3gtc2hhZG93OjFweCAxcHggMCByZ2JhKDAsMCwwLC41KX0uX2xpdHRsZS1oYW5kbGVfX3BvaW50X2l3MnJ1XzE6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyMDAlO2hlaWdodDoyMDAlO2xlZnQ6NTAlO3RvcDo1MCU7bWFyZ2luLWxlZnQ6LTEwMCU7bWFyZ2luLXRvcDotMTAwJX0uX2xpdHRsZS1oYW5kbGVfX2xpbmVfaXcycnVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxcHg7aGVpZ2h0OjFweDttYXJnaW4tbGVmdDotMXB4O21hcmdpbi10b3A6LTFweDtsZWZ0OjUwJTt0b3A6NTAlO2JhY2tncm91bmQ6I2ZmNTEyZjstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0Ly8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcclxuXHRcdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRcdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxyXG5cdFx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXHJcblx0XHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XHJcblx0XHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcclxuXHRcdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBsaXN0O1xyXG5cdH07XHJcblxuXG4vKioqLyB9LFxuLyogMTI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKlxyXG5cdFx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRcdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuXHQqL1xyXG5cdHZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdFx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHRcdHZhciBtZW1vO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHRcdH07XHJcblx0XHR9LFxyXG5cdFx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdH0pLFxyXG5cdFx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdFx0fSksXHJcblx0XHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRcdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRcdGlmKGZhbHNlKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0XHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHRcdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cdFxyXG5cdFx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblx0XHJcblx0XHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdFx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHRcclxuXHRcdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0XHR2YXIgc3R5bGVzID0gW107XHJcblx0XHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0eWxlcztcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0XHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRcdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdFx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRcdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0XHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRcdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdFx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRcdHJldHVybiBsaW5rRWxlbWVudDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHRcclxuXHRcdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0XHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdHZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdGV4dFN0b3JlID0gW107XHJcblx0XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHRcclxuXHRcdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdFx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0XHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHRcclxuXHRcdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0XHR9XHJcblx0XHJcblx0XHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHRcclxuXHRcdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cdFxyXG5cdFx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblx0XHJcblx0XHRpZihvbGRTcmMpXHJcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxuXHR9XHJcblxuXG4vKioqLyB9LFxuLyogMTI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcImxpdHRsZS1oYW5kbGVcIjogXCJfbGl0dGxlLWhhbmRsZV9pdzJydV8zXCIsXG5cdFx0XCJsaXR0bGUtaGFuZGxlX19wb2ludFwiOiBcIl9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xXCIsXG5cdFx0XCJsaXR0bGUtaGFuZGxlX19saW5lXCI6IFwiX2xpdHRsZS1oYW5kbGVfX2xpbmVfaXcycnVfMVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAodmFsdWUsIGJhc2UsIHNuYXApIHtcblx0ICB2YXIgbW9kaWZpZWQgPSBNYXRoLnJvdW5kKHZhbHVlIC8gYmFzZSkgKiBiYXNlO1xuXHRcblx0ICByZXR1cm4gTWF0aC5hYnModmFsdWUgLSBtb2RpZmllZCkgPCBzbmFwID8gbW9kaWZpZWQgOiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICh2YWx1ZSwgbWluLCBtYXgpIHtcblx0ICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMzIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludF8xN3BiMV81e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7bWFyZ2luLWxlZnQ6LTVweDttYXJnaW4tdG9wOi01cHg7Y3Vyc29yOm1vdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NTAlO3otaW5kZXg6Mztib3gtc2hhZG93OjNweCAzcHggMCByZ2JhKDAsMCwwLC41KTtib3JkZXI6MnB4IHNvbGlkICNmZmZ9Ll9wb2ludF8xN3BiMV81IFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9Ll9wb2ludF9fdG91Y2hfMTdwYjFfMXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjUwJTt0b3A6NTAlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7bWFyZ2luLWxlZnQ6LTEwcHg7bWFyZ2luLXRvcDotMTBweH0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxLC5fcG9pbnRfMTdwYjFfNTpob3Zlcntib3JkZXItY29sb3I6I2ZmNTEyZn0uX3BvaW50XzE3cGIxXzUuX2lzLXNlbGVjdGVkXzE3cGIxXzMxIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5OmJsb2NrfS5fcG9pbnRfMTdwYjFfNS5faXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyIFtkYXRhLWNvbXBvbmVudD1saXR0bGUtaGFuZGxlXXtkaXNwbGF5Om5vbmV9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTMzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInBvaW50XCI6IFwiX3BvaW50XzE3cGIxXzVcIixcblx0XHRcInBvaW50X190b3VjaFwiOiBcIl9wb2ludF9fdG91Y2hfMTdwYjFfMVwiLFxuXHRcdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTdwYjFfMzFcIixcblx0XHRcImlzLWhpZGUtaGFuZGxlc1wiOiBcIl9pcy1oaWRlLWhhbmRsZXNfMTdwYjFfNDJcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxMzUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM1KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jdXJ2ZV9ndmNybl81e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MTBweDtyaWdodDoxMHB4O2JvdHRvbToxMHB4O2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC43NSk7Ym9yZGVyOjFweCBzb2xpZCAjOWM4MjlhO2JveC1zaGFkb3c6aW5zZXQgNHB4IDRweCAwIHJnYmEoMCwwLDAsLjUpO3otaW5kZXg6Mn0uX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzF7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDowO3RvcDowO2JvdHRvbTowO3dpZHRoOjM1MHB4O2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi0xNzVweDtvcGFjaXR5Oi41O2JvcmRlci1yYWRpdXM6aW5oZXJpdDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaUlITjBZVzVrWVd4dmJtVTlJbTV2SWo4K1BITjJaeUIzYVdSMGFEMGlNelV3Y0hnaUlHaGxhV2RvZEQwaU16VXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXpOVEFnTXpVd0lpQjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnSUNBZ0lDQWdQSFJwZEd4bFBsTnNhV05sSURFOEwzUnBkR3hsUGlBZ0lDQThaR1Z6WXo1RGNtVmhkR1ZrSUhkcGRHZ2dVMnRsZEdOb0xqd3ZaR1Z6WXo0Z0lDQWdQR1JsWm5NK1BDOWtaV1p6UGlBZ0lDQThaeUJwWkQwaVVHRm5aUzB4SWlCemRISnZhMlU5SW01dmJtVWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0Z0lDQWdJQ0FnSUR4bklHbGtQU0pIY205MWNDSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRFdU1EQXdNREF3TENBd0xqQXdNREF3TUNraUlITjBjbTlyWlQwaUkwWkdSa1pHUmlJK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE16TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16TXpMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTXhOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTXpFMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nams0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEk0TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qZ3dMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTBOUzQ1T1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpRMUxqazVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeU9DNDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nakk0TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEl4TUM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qRXdMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTVNeTQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRrekxqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMU9TNHpOekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFU1TGpNM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwTVM0NE56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1UUXhMamczTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXlOQzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRJMExqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFd05pNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVEEyTGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVGN4TGpnM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU56RXVPRGN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVTBMak0zTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTlRRdU16Y3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMkxqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1Nell1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU1Ua3VNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVGt1TURBeU1UYzVNeUJNTVM0d01ERXdPRGd6TERFNUxqQXdNakUzT1RNaUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERNMkxqVXdNakUzT1RNZ1RERXVNREF4TURnNE15d3pOaTQxTURJeE56a3pJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9DdzFOQzR3TURJeE56a3pJRXd4TGpBd01UQTRPRE1zTlRRdU1EQXlNVGM1TXlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTnpFdU5UQXlNVGM1TXlCTU1TNHdNREV3T0RnekxEY3hMalV3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExERXdOaTQxTURJeE56a2dUREV1TURBeE1EZzRNeXd4TURZdU5UQXlNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d4TWpRdU1EQXlNVGM1SUV3eExqQXdNVEE0T0RNc01USTBMakF3TWpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01UUXhMalV3TWpFM09TQk1NUzR3TURFd09EZ3pMREUwTVM0MU1ESXhOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREUxT1M0d01ESXhOemtnVERFdU1EQXhNRGc0TXl3eE5Ua3VNREF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE9UTXVNVEkzTVRjNUlFd3hMakF3TVRBNE9ETXNNVGt6TGpFeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNakV3TGpZeU56RTNPU0JNTVM0d01ERXdPRGd6TERJeE1DNDJNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERJeU9DNHhNamN4TnprZ1RERXVNREF4TURnNE15d3lNamd1TVRJM01UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3lORFV1TmpJM01UYzVJRXd4TGpBd01UQTRPRE1zTWpRMUxqWXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpnd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESTRNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESTVPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5T1RndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d6TVRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc016RTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc016TXpMakV5TnpFM09TQk1NUzR3TURFd09EZ3pMRE16TXk0eE1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMDRPQzR3TmpReE16VXlMREVnVERnNExqQTJOREV6TlRJc016VXhJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweE56VXVNVEk0TWpjc01TQk1NVGMxTGpFeU9ESTNMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5Nall5TGpFNU1qUXdOaXd4SUV3eU5qSXVNVGt5TkRBMkxETTFNU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXdMalUyTXpVNU1TdzRPQzR3TmpRMk56a3pJRXd3TGpVMk16VTVNVEF5TWl3NE9DNHdOalEyTnpreklpQnBaRDBpY0dGMGFEZ3lNVFVpSUc5d1lXTnBkSGs5SWpBdU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRBdU5UWXpOVGt4TERFM05TNDFOalEyTnprZ1REQXVOVFl6TlRreE1ESXlMREUzTlM0MU5qUTJOemtpSUdsa1BTSndZWFJvT0RJeE5TSWdiM0JoWTJsMGVUMGlNQzQxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNQzQxTmpNMU9URXNNall6TGpBMk5EWTNPU0JNTUM0MU5qTTFPVEV3TWpJc01qWXpMakEyTkRZM09TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y21WamRDQnBaRDBpY21WamRERXdNRGM0SWlCdmNHRmphWFI1UFNJd0xqYzFJaUI0UFNJd0xqZzNNamd4TnprMU5TSWdlVDBpTVNJZ2QybGtkR2c5SWpNMU1DSWdhR1ZwWjJoMFBTSXpOVEFpUGp3dmNtVmpkRDRnSUNBZ0lDQWdJRHd2Wno0Z0lDQWdQQzluUGp3dmMzWm5QZz09KX0uX2N1cnZlX19zdmctd3JhcHBlcl9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTtsZWZ0Oi0xcHg7cmlnaHQ6LTFweH0uX2N1cnZlX19zdmdfZ3Zjcm5fMXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGU7d2lkdGg6MTAwJX0uX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xe3N0cm9rZTojZmZmO3N0cm9rZS13aWR0aDoycHg7Y3Vyc29yOmNyb3NzaGFpcn0uX2N1cnZlX19zdmctc2VnbWVudF9ndmNybl8xOmhvdmVye3N0cm9rZTojZmY1MTJmfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDEzNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjdXJ2ZVwiOiBcIl9jdXJ2ZV9ndmNybl81XCIsXG5cdFx0XCJjdXJ2ZV9fYmFja2dyb3VuZFwiOiBcIl9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyX2d2Y3JuXzFcIixcblx0XHRcImN1cnZlX19zdmdcIjogXCJfY3VydmVfX3N2Z19ndmNybl8xXCIsXG5cdFx0XCJjdXJ2ZV9fc3ZnLXNlZ21lbnRcIjogXCJfY3VydmVfX3N2Zy1zZWdtZW50X2d2Y3JuXzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBSZXNpemVIYW5kbGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKFJlc2l6ZUhhbmRsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFJlc2l6ZUhhbmRsZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFJlc2l6ZUhhbmRsZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShSZXNpemVIYW5kbGUpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUmVzaXplSGFuZGxlLCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXHQgICAgICB2YXIgY2xhc3NOYW1lID0gJycgKyBDTEFTU0VTWydyZXNpemUtaGFuZGxlJ107XG5cdCAgICAgIHZhciBjbGFzc1R5cGUgPSAnJyArIENMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlXTtcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJyAnICsgY2xhc3NUeXBlICsgJyAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAnZGF0YS10eXBlJzogdHlwZSxcblx0ICAgICAgICAgICdkYXRhLWNvbXBvbmVudCc6ICdyZXNpemUtaGFuZGxlJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiAnZWxsaXBzaXMnIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgc3RvcmUgPSB0aGlzLmNvbnRleHQuc3RvcmU7XG5cdCAgICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXHQgICAgICB2YXIgbWMgPSAoMCwgX3Byb3BhZ2F0aW5nSGFtbWVyanMyLmRlZmF1bHQpKG5ldyBfaGFtbWVyanMyLmRlZmF1bHQuTWFuYWdlcih0aGlzLmJhc2UpKTtcblx0XG5cdCAgICAgIG1jLmFkZChuZXcgX2hhbW1lcmpzMi5kZWZhdWx0LlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG5cdCAgICAgIG1jLm9uKCdwYW4nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHZhciB4ID0gZS5kZWx0YVgsXG5cdCAgICAgICAgICAgIHkgPSBlLmRlbHRhWTtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFJywgZGF0YTogeyB4OiB4LCB5OiB5LCB0eXBlOiB0eXBlIH0gfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSkub24oJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdmFyIHggPSBlLmRlbHRhWCxcblx0ICAgICAgICAgICAgeSA9IGUuZGVsdGFZO1xuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9SRVNJWkVfRU5EJywgZGF0YTogeyB4OiB4LCB5OiB5LCB0eXBlOiB0eXBlIH0gfSk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBSZXNpemVIYW5kbGU7XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVzaXplSGFuZGxlO1xuXG4vKioqLyB9LFxuLyogMTM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXHRcblx0dmFyIEljb24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEljb24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBJY29uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWNvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShJY29uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEljb24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIHNoYXBlID0gdGhpcy5wcm9wcy5zaGFwZTtcblx0ICAgICAgdmFyIG1hcmt1cCA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48dXNlIHhsaW5rOmhyZWY9XCIjJyArIHNoYXBlICsgJy1zaGFwZVwiIC8+PC9zdmc+Jztcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBDTEFTU0VTWydpY29uJ10sXG5cdCAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24nLFxuXHQgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogbWFya3VwIH0gfSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJY29uO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEljb247XG5cbi8qKiovIH0sXG4vKiAxMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdFwiaWNvblwiOiBcIl9pY29uXzRhOGxmXzVcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNDEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uXzRhOGxmXzV7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtjdXJzb3I6cG9pbnRlcjtmaWxsOiNmZmY7ZGlzcGxheTpibG9ja30uX2ljb25fNGE4bGZfNT5zdmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81PnN2Zz51c2V7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJyZXNpemUtaGFuZGxlXCI6IFwiX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNFwiLFxuXHRcdFwicmVzaXplLWhhbmRsZS0tcmlnaHRcIjogXCJfcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMVwiLFxuXHRcdFwicmVzaXplLWhhbmRsZS0tYm90dG9tXCI6IFwiX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xXCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTQ0LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcmVzaXplLWhhbmRsZV9rODFrY180e2JhY2tncm91bmQ6IzNkMWIzYzt3aWR0aDozMnB4O2hlaWdodDoxNnB4O2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOm4tcmVzaXplO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQ6YWZ0ZXJ7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4OjJ9Ll9yZXNpemUtaGFuZGxlX2s4MWtjXzQgW2RhdGEtY29tcG9uZW50PWljb25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6LTdweH0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNDpob3ZlcntvcGFjaXR5Oi44NX0uX3Jlc2l6ZS1oYW5kbGUtLXJpZ2h0X2s4MWtjXzF7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtjdXJzb3I6ZS1yZXNpemV9Ll9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7Y3Vyc29yOnMtcmVzaXplfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjdXJ2ZS1lZGl0b3JcIjogXCJfY3VydmUtZWRpdG9yXzFmOHI1XzRcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fbGVmdFwiOiBcIl9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMVwiLFxuXHRcdFwiY3VydmUtZWRpdG9yX19yaWdodFwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZVwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVwiLFxuXHRcdFwiY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc1wiOiBcIl9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzFcIixcblx0XHRcImN1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXCI6IFwiX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfY29kZUJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBfY29kZUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2RlQnV0dG9uKTtcblx0XG5cdHZhciBfaWNvbkRpdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7XG5cdFxuXHR2YXIgX2ljb25EaXZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25EaXZpZGVyKTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9scyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0XG5cdHZhciBfcG9pbnRDb250cm9sczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludENvbnRyb2xzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ0xBU1NFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBDdXJ2ZUVkaXRvckxlZnQgPSBmdW5jdGlvbiBDdXJ2ZUVkaXRvckxlZnQoX3JlZikge1xuXHQgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdFxuXHQgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbGVmdCddLCBpZDogJ2pzLWxlZnQtcGFuZWwnIH0sXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfY29kZUJ1dHRvbjIuZGVmYXVsdCwgeyBzdGF0ZTogc3RhdGUgfSksXG5cdCAgICAoMCwgX3ByZWFjdC5oKShfaWNvbkRpdmlkZXIyLmRlZmF1bHQsIG51bGwpLFxuXHQgICAgKDAsIF9wcmVhY3QuaCkoX3BvaW50Q29udHJvbHMyLmRlZmF1bHQsIHsgc3RhdGU6IHN0YXRlLFxuXHQgICAgICBjbGFzc05hbWU6IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMnXSB9KSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnYScsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX21vanMtbG9nbyddLFxuXHQgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vbGVnb211c2hyb29tL21vanMtY3VydmUtZWRpdG9yJywgdGFyZ2V0OiAnX2JsYW5rJyB9LFxuXHQgICAgICAoMCwgX3ByZWFjdC5oKShfaWNvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ21vanMtbG9nbycgfSlcblx0ICAgIClcblx0ICApO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ3VydmVFZGl0b3JMZWZ0O1xuXG4vKioqLyB9LFxuLyogMTQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdHZhciBfaWNvbkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uQnV0dG9uKTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblx0XG5cdHZhciBfcHJvcGFnYXRpbmdIYW1tZXJqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wYWdhdGluZ0hhbW1lcmpzKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ29kZUJ1dHRvbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoQ29kZUJ1dHRvbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENvZGVCdXR0b24oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDb2RlQnV0dG9uKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKENvZGVCdXR0b24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ29kZUJ1dHRvbiwgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgc3RhdGUgPSB0aGlzLnByb3BzLnN0YXRlO1xuXHRcblx0ICAgICAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKF9pY29uQnV0dG9uMi5kZWZhdWx0LCB7IHNoYXBlOiAnY29kZScsIGlzQ2hlY2s6IHN0YXRlLmNvbnRyb2xzLmlzQ29kZSB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgIHZhciBzdG9yZSA9IHRoaXMuY29udGV4dC5zdG9yZTtcblx0XG5cdCAgICAgIHZhciBtYyA9ICgwLCBfcHJvcGFnYXRpbmdIYW1tZXJqczIuZGVmYXVsdCkobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5NYW5hZ2VyKHRoaXMuYmFzZSkpO1xuXHQgICAgICBtYy5hZGQobmV3IF9oYW1tZXJqczIuZGVmYXVsdC5UYXAoKSk7XG5cdFxuXHQgICAgICBtYy5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdDT0RFX1RBUCcgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ29kZUJ1dHRvbjtcblx0fShfcHJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb2RlQnV0dG9uO1xuXG4vKioqLyB9LFxuLyogMTQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfZ2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UHJvdG90eXBlT2YpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfaGFtbWVyanMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2hhbW1lcmpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhbW1lcmpzKTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBpbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0dmFyIEljb25CdXR0b24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKEljb25CdXR0b24sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBJY29uQnV0dG9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWNvbkJ1dHRvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoMCwgX2dldFByb3RvdHlwZU9mMi5kZWZhdWx0KShJY29uQnV0dG9uKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEljb25CdXR0b24sIFt7XG5cdCAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgdmFyIGNoZWNrID0gdGhpcy5wcm9wcy5pc0NoZWNrID8gQ0xBU1NFU1snaXMtY2hlY2tlZCddIDogJyc7XG5cdCAgICAgIHJldHVybiAoMCwgX3ByZWFjdC5oKShcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbi1idXR0b24nXSArICcgJyArIGNoZWNrLFxuXHQgICAgICAgICAgJ2RhdGEtY29tcG9uZW50JzogJ2ljb24tYnV0dG9uJyB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKF9pY29uMi5kZWZhdWx0LCB7IHNoYXBlOiB0aGlzLnByb3BzLnNoYXBlIH0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vblRhcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHZhciBoYW1tZXJ0aW1lID0gbmV3IF9oYW1tZXJqczIuZGVmYXVsdCh0aGlzLmJhc2UpLm9uKCd0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgX3RoaXMyLnByb3BzLm9uVGFwKGUsIF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEljb25CdXR0b247XG5cdH0oX3ByZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWNvbkJ1dHRvbjtcblxuLyoqKi8gfSxcbi8qIDE0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTUwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5faWNvbi1idXR0b25fNnlzZGlfNHtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDojM2EwODM5O2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MXB4IDFweCAwIHJnYmEoMCwwLDAsLjE1KX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQgW2RhdGEtY29tcG9uZW50PWljb25de3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSl9Ll9pY29uLWJ1dHRvbl82eXNkaV80OmhvdmVye2JveC1zaGFkb3c6bm9uZX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQ6aG92ZXIgW2RhdGEtY29tcG9uZW50PWljb25dey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTIlLC01MiUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUyJSwtNTIlKX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQuX2lzLWNoZWNrZWRfNnlzZGlfMzEsLl9pY29uLWJ1dHRvbl82eXNkaV80OmFjdGl2ZXtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93Omluc2V0IC0xcHggLTFweCAwIGhzbGEoMCwwJSwxMDAlLC4yNSksaW5zZXQgMXB4IDFweCAxcHggcmdiYSgwLDAsMCwuNCl9Ll9pY29uLWJ1dHRvbl82eXNkaV80Ll9pcy1jaGVja2VkXzZ5c2RpXzMxIFtkYXRhLWNvbXBvbmVudD1pY29uXSwuX2ljb24tYnV0dG9uXzZ5c2RpXzQ6YWN0aXZlIFtkYXRhLWNvbXBvbmVudD1pY29uXXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTU0JSwtNTQlKSBzY2FsZSguOTUpfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uLWJ1dHRvblwiOiBcIl9pY29uLWJ1dHRvbl82eXNkaV80XCIsXG5cdFx0XCJpcy1jaGVja2VkXCI6IFwiX2lzLWNoZWNrZWRfNnlzZGlfMzFcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcHJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBDTEFTU0VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuICgwLCBfcHJlYWN0LmgpKCdkaXYnLCB7IGNsYXNzTmFtZTogQ0xBU1NFU1snaWNvbi1kaXZpZGVyJ10sXG5cdCAgICAnZGF0YS1jb21wb25lbnQnOiAnaWNvbi1kaXZpZGVyJyB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJpY29uLWRpdmlkZXJcIjogXCJfaWNvbi1kaXZpZGVyX2Z0YXNrXzNcIlxuXHR9O1xuXG4vKioqLyB9LFxuLyogMTU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNTUsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uLWRpdmlkZXJfZnRhc2tfM3twb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MCBhdXRvO3dpZHRoOjE2cHg7aGVpZ2h0OjFweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6aHNsYSgwLDAlLDEwMCUsLjMpO2JveC1zaGFkb3c6MCAxcHggMCByZ2JhKDAsMCwwLC4zKX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9nZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQcm90b3R5cGVPZik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9wcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9pY29uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb25CdXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTU3KTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1OSk7XG5cdFxuXHR2YXIgUG9pbnRDb250cm9scyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoUG9pbnRDb250cm9scywgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBvaW50Q29udHJvbHMoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQb2ludENvbnRyb2xzKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsICgwLCBfZ2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKFBvaW50Q29udHJvbHMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUG9pbnRDb250cm9scywgW3tcblx0ICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICB2YXIgcCA9IHRoaXMucHJvcHM7XG5cdCAgICAgIHZhciBzdGF0ZSA9IHAuc3RhdGU7XG5cdCAgICAgIHZhciBjb250cm9scyA9IHN0YXRlLnBvaW50Q29udHJvbHMucHJlc2VudDtcblx0ICAgICAgdmFyIHNob3cgPSBjb250cm9scy5pc1Nob3cgPyBDTEFTU0VTWydpcy1zaG93J10gOiAnJztcblx0ICAgICAgdmFyIGNsYXNzTmFtZSA9IHAuY2xhc3NOYW1lICsgJyAnICsgQ0xBU1NFU1sncG9pbnQtY29udHJvbHMnXSArICcgJyArIHNob3c7XG5cdCAgICAgIHZhciBidXR0b25zID0gdGhpcy5fYWRkQnV0dG9ucyhjb250cm9scyk7XG5cdFxuXHQgICAgICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHQgICAgICAgICcgJyxcblx0ICAgICAgICBidXR0b25zLFxuXHQgICAgICAgICcgJ1xuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19vbkJ1dHRvblRhcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX29uQnV0dG9uVGFwKHR5cGUpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBfdGhpczIuY29udGV4dC5zdG9yZTtcblx0XG5cdFxuXHQgICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0NIQU5HRV9UWVBFJywgZGF0YTogdHlwZSwgaXNSZWNvcmQ6IHRydWUgfSk7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX2FkZEJ1dHRvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRCdXR0b25zKGNvbnRyb2xzKSB7XG5cdCAgICAgIHZhciBidXR0b25zTWFwID0gWydzdHJhaWdodCcsICdkaXNjb25uZWN0ZWQnLCAnbWlycm9yZWQnLCAnYXN5bW1ldHJpYyddLFxuXHQgICAgICAgICAgYnV0dG9ucyA9IFtdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zTWFwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBidXR0b25zTWFwW2ldO1xuXHQgICAgICAgIGJ1dHRvbnMucHVzaCgoMCwgX3ByZWFjdC5oKShfaWNvbkJ1dHRvbjIuZGVmYXVsdCwgeyBzaGFwZTogJ3BvaW50LScgKyB0eXBlLFxuXHQgICAgICAgICAgaXNDaGVjazogY29udHJvbHMudHlwZSA9PT0gdHlwZSxcblx0ICAgICAgICAgIG9uVGFwOiB0aGlzLl9vbkJ1dHRvblRhcCh0eXBlKSB9KSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGJ1dHRvbnM7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQb2ludENvbnRyb2xzO1xuXHR9KF9wcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvaW50Q29udHJvbHM7XG5cbi8qKiovIH0sXG4vKiAxNTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1OCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE1OCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX3BvaW50LWNvbnRyb2xzXzFqNWY0XzR7ZGlzcGxheTpub25lfS5fcG9pbnQtY29udHJvbHNfMWo1ZjRfNC5faXMtc2hvd18xajVmNF83e2Rpc3BsYXk6YmxvY2t9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuLyogMTU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcInBvaW50LWNvbnRyb2xzXCI6IFwiX3BvaW50LWNvbnRyb2xzXzFqNWY0XzRcIixcblx0XHRcImlzLXNob3dcIjogXCJfaXMtc2hvd18xajVmNF83XCJcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgSWNvbnMgPSBmdW5jdGlvbiBJY29ucygpIHtcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoJ2RpdicsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiAnPHN2ZyBoZWlnaHQ9XCIwXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlOyBtYXJnaW4tbGVmdDogLTEwMCU7IHdpZHRoOjA7IGhlaWdodDowO1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxcbiAgICAgIDxnIGlkPVwiZWxsaXBzaXMtc2hhcGVcIj5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxcbiAgICAgICAgPGNpcmNsZSBjeD1cIjE2XCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMjFcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cXG4gICAgICA8L2c+XFxuICAgICAgPHBhdGggaWQ9XCJjb2RlLXNoYXBlXCIgZD1cIk04LDE2LjA4NDk2NDggQzgsMTUuODIxMDc5MyA4LjExMTQ5MDY5LDE1LjYxMjkzOTMgOC4zMzQ4MzQwNSwxNS40NjA5MDY1IEwxMi4zMzkwODc0LDEyLjg0MTk2MTIgQzEyLjM4OTc2NDksMTIuODAxNDE5MiAxMi40NjU3ODEzLDEyLjc4MTE0ODEgMTIuNTY3NDk4NSwxMi43ODExNDgxIEMxMi43Mzk4MDIzLDEyLjc4MTE0ODEgMTIuOTA0ODY2NCwxMi44NTcxNjQ1IDEzLjA2MjMyODksMTMuMDA5NTU5MiBDMTMuMjE5NDI5NCwxMy4xNjE5NTQgMTMuMjk4MzQxNywxMy4zMzkzMjU1IDEzLjI5ODM0MTcsMTMuNTQyMzk3OSBDMTMuMjk4MzQxNywxMy43MzUzMzQ3IDEzLjIyMTk2MzMsMTMuODgyNjYxNyAxMy4wNjkyMDY2LDEzLjk4NDAxNjggTDkuODU3Njk1NTMsMTYuMDg0OTY0OCBMMTMuMDY5MjA2NiwxOC4xODYyNzQ3IEMxMy4yMjE5NjMzLDE4LjI2NzcyMDggMTMuMjk4MzQxNywxOC40MTQ2ODU4IDEzLjI5ODM0MTcsMTguNjI3ODkzNyBDMTMuMjk4MzQxNywxOC44MzA5NjYgMTMuMjE5NzkxNCwxOS4wMDYxNjU3IDEzLjA2MjMyODksMTkuMTUzMTMwNyBDMTIuOTA0ODY2NCwxOS4zMDA0NTc2IDEyLjczOTgwMjMsMTkuMzczOTQwMSAxMi41Njc0OTg1LDE5LjM3Mzk0MDEgQzEyLjQ2NTc4MTMsMTkuMzczOTQwMSAxMi4zODk3NjQ5LDE5LjM1MzY2OTEgMTIuMzM5MDg3NCwxOS4zMTMxMjcgTDguMzM0ODM0MDUsMTYuNjkzODE5OCBDOC4xMTE0OTA2OSwxNi41NDE0MjUgOCwxNi4zMzg3MTQ3IDgsMTYuMDg0OTY0OCBMOCwxNi4wODQ5NjQ4IFogTTE0LjEzOTk1MTYsMjAuNjg3NTc1NiBDMTQuMTI2NTU4MiwyMC42MDc1Nzc0IDE0LjEyODczMDEsMjAuNTMwMTEzMSAxNC4xNDY4MjkzLDIwLjQ1NDgyMDcgTDE2LjkzOTUyNjMsMTEuMzU2MDIyIEMxNi45ODkxMTc5LDExLjE2MjM2MTIgMTcuMTIzNzc1NSwxMS4wNDY4ODg3IDE3LjM0NDIyMywxMS4wMDk2MDQ1IEMxNy41MDQyMTk0LDEwLjk4MjQ1NTggMTcuNjU4Nzg2LDExLjAxMjg2MjMgMTcuODA3NTYwOSwxMS4xMDA4MjQyIEMxNy45NTYzMzU4LDExLjE4OTE0NzkgMTguMDQ0Mjk3NiwxMS4zMTMzMDggMTguMDcxMDg0NCwxMS40NzMzMDQ0IEMxOC4wODYyODc2LDExLjU2MzQzODEgMTguMDc5NzcyLDExLjY0NzA1NjEgMTguMDUxODk5MywxMS43MjM3OTY1IEwxNS4yNjY0NDE5LDIwLjc3NDgxMzQgQzE1LjIwODUyNDcsMjAuOTgwMDU3NyAxNS4wNTkzODc4LDIxLjEwMzEzMTggMTQuODE5MzkzMiwyMS4xNDQwMzU4IEMxNC42NDg4OTkzLDIxLjE3Mjk5NDUgMTQuNDk5NDAwNSwyMS4xMzg5NjgxIDE0LjM2OTgxMDYsMjEuMDQyNjgwNyBDMTQuMjQwMjIwOCwyMC45NDYwMzEzIDE0LjE2Mzg0MjQsMjAuODI3NjYyOSAxNC4xMzk5NTE2LDIwLjY4NzU3NTYgTDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBaIE0xOC45NTI4NzQ0LDE5LjE1Mjc2ODcgQzE4Ljc5NTQxMTksMTkuMDA1ODAzNyAxOC43MTY4NjE2LDE4LjgzMDYwNCAxOC43MTY4NjE2LDE4LjYyNzUzMTcgQzE4LjcxNjg2MTYsMTguNDI0NDU5NCAxOC43ODc4MTAyLDE4LjI3NzQ5NDQgMTguOTMwMDY5NSwxOC4xODU5MTI3IEwyMi4xNDI2NjY1LDE2LjA4NDYwMjggTDE4LjkzMDA2OTUsMTMuOTgzNjU0OSBDMTguNzg3ODEwMiwxMy44NzE4MDIyIDE4LjcxNjg2MTYsMTMuNzI0ODM3MiAxOC43MTY4NjE2LDEzLjU0MjAzNTkgQzE4LjcxNjg2MTYsMTMuMzM4OTYzNiAxOC43OTU0MTE5LDEzLjE2MTU5MiAxOC45NTI4NzQ0LDEzLjAwOTE5NzMgQzE5LjExMDMzNjksMTIuODU2ODAyNSAxOS4yNzUwMzksMTIuNzgwNzg2MSAxOS40NDc3MDQ4LDEyLjc4MDc4NjEgQzE5LjUzODkyNDUsMTIuNzgwNzg2MSAxOS42MDk4NzMxLDEyLjgwMTQxOTIgMTkuNjYwOTEyNiwxMi44NDE1OTkyIEwyMy42NjUxNjU5LDE1LjQ2MDU0NDUgQzIzLjg4ODE0NzMsMTUuNjEyOTM5MyAyNCwxNS44MjEwNzkzIDI0LDE2LjA4NDYwMjggQzI0LDE2LjM0ODg1MDIgMjMuODg4MTQ3MywxNi41NTE1NjA2IDIzLjY2NTE2NTksMTYuNjkzODE5OCBMMTkuNjYwOTEyNiwxOS4zMTI3NjUxIEMxOS42MDk4NzMxLDE5LjM1MzMwNzEgMTkuNTM4OTI0NSwxOS4zNzM1NzgyIDE5LjQ0NzcwNDgsMTkuMzczNTc4MiBDMTkuMjc1MDM5LDE5LjM3MzU3ODIgMTkuMTEwMzM2OSwxOS4zMDAwOTU3IDE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBMMTguOTUyODc0NCwxOS4xNTI3Njg3IFpcIj48L3BhdGg+XFxuICAgICAgPGcgaWQ9XCJwb2ludC1zdHJhaWdodC1zaGFwZVwiIGZpbGw9XCJub25lXCI+XFxuICAgICAgICA8cG9seWxpbmUgZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgcG9pbnRzPVwiNy44ODEgMjAuNTY4IDE1LjQ1MSAxMi4yNDEgMjMuODkyIDIwLjU2OFwiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjEzLjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XFxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMlwiIHI9XCIyLjY2N1wiIGZpbGw9XCIjRkZGRkZGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LW1pcnJvcmVkLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjEuOTAxMjYzMiBDNy44ODE0NDg0MSwyMS45MDEyNjMyIDcuNTkyODcxNzIsMTMuNTc0MDUzNyAxNS40NTE0NDIzLDEzLjU3NDA1MzcgQzIzLjMxMDAxMjksMTMuNTc0MDUzNyAyMy44OTIxMjI4LDIxLjkwMTI2MzIgMjMuODkyMTIyOCwyMS45MDEyNjMyXCIvPlxcbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNNy4xMzg4MzUyNywxMy4zMzMzMzMzIEwyNS44MDU1MDEzLDEzLjMzMzMzMzNcIi8+XFxuICAgICAgICA8ZWxsaXBzZSBzdHJva2U9XCJub25lXCIgY3g9XCIxNi44XCIgY3k9XCIxNC45XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxcbiAgICAgICAgPGVsbGlwc2UgY3g9XCIxNS4zMzNcIiBjeT1cIjEzLjMzM1wiIGZpbGw9XCIjRkZGRkZGXCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjRcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCI1LjMzM1wiIHk9XCIxMlwiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LWRpc2Nvbm5lY3RlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxcbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIwLjU2NzkyOTggQzcuODgxNDQ4NDEsMjAuNTY3OTI5OCA3LjU5Mjg3MTcyLDEyLjI0MDcyMDQgMTUuNDUxNDQyMywxMi4yNDA3MjA0IEMyMS4yMDA1MjA3LDE3Ljg4NzM3IDIzLjg5MjEyMjgsMjAuNTY3OTI5OCAyMy44OTIxMjI4LDIwLjU2NzkyOThcIi8+XFxuICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPVwiI0ZGNTEyRlwiIHBvaW50cz1cIjYuMTMzIDEyIDE1LjIyOCAxMiAyMy45MzMgMjAuNjAyXCIvPlxcbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNS4zMzNcIiBjeT1cIjEyXCIgcj1cIjIuNjY3XCIgZmlsbD1cIiNGRkZGRkZcIi8+XFxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjEuODg2XCIgeT1cIjE4LjU1MlwiIGZpbGw9XCIjRkY1MTJGXCIgdHJhbnNmb3JtPVwicm90YXRlKDQ1IDIzLjIxOSAxOS44ODYpXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEwLjY2N1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgICA8ZyBpZD1cInBvaW50LWFzeW1tZXRyaWMtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNy42NjcgOS4zMzMpXCI+XFxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTAuMjE0NzgxNzQyLDExLjIzNDU5NjUgQzAuMjE0NzgxNzQyLDExLjIzNDU5NjUgLTAuMzczNTExODY5LDIuOTA3MDk2MTMgNy43ODQ3NzU2NCwyLjkwNzM4NzA0IEMxMC43NTAwMDAzLDIuOTA3NDkyNzcgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NVwiLz5cXG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjlcIiBjeT1cIjQuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cXG4gICAgICAgIDxwYXRoIHN0cm9rZT1cIiNGRjUxMkZcIiBkPVwiTTIuNTI3ODg1MDMsMi42NjY2NjY2NyBMMTguMTM4ODM0NiwyLjY2NjY2NjY3XCIvPlxcbiAgICAgICAgPGVsbGlwc2UgY3g9XCI3LjY2N1wiIGN5PVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjE2LjMzM1wiIHk9XCIxLjMzM1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxcbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIi4zMzNcIiB5PVwiMS4zMzNcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cXG4gICAgICA8L2c+XFxuICAgICAgPHBhdGggaWQ9XCJtb2pzLWxvZ28tc2hhcGVcIiBkPVwiTTE4LjQ2Nzg5MDcsMi42NzcwMDA0OCBDMTkuNDg4NTg2LDMuMjU3NTg2MjUgMjAuMjc4OTIyNyw0LjE4NDIxNjUxIDIwLjg3ODIzLDUuMTk3MzU3OSBDMjQuMDgwNzc4OCwxMC41MDE0NTEgMjcuMjc3NzA5MSwxNS44MTEzMTE2IDMwLjQ4MDI1OCwyMS4xMTU0MDQ3IEMzMS4xMzIwMDQ3LDIyLjE2MTIyODEgMzEuNzcwNjQxNywyMy4yNjQ3MjU2IDMxLjkzNTQ1MTIsMjQuNTE2MjUzMiBDMzIuMTg4Mjg0LDI2LjA2MTkxODYgMzEuNjkxOTgyNiwyNy43MzYzODk1IDMwLjU1ODkxNzEsMjguODAzMzYgQzI5LjQ1MDE5ODQsMjkuODg1NzEwMyAyNy44ODA3NjIyLDMwLjMxODI2NTkgMjYuMzgwNjIwOSwzMC4zMDQ4MDg2IEMxOS40NTExMjkzLDMwLjMwODY1MzUgMTIuNTIzNTEwNiwzMC4zMDg2NTM1IDUuNTk0MDE5MDEsMzAuMzA0ODA4NiBDMy43MTU1NjQ5NCwzMC4zNDMyNTggMS42OTg1MjEwNCwyOS41NzIzNDc4IDAuNjgzNDQ0MTY1LDI3Ljg3MDk2MjMgQy0wLjQwNjU0NjEzMiwyNi4xMDk5ODAzIC0wLjA5NzUyODI2NDMsMjMuNzkxNDgyMiAwLjk0MDAyMjYzNywyMi4wODQzMjkzIEM0LjM0Mjk2NDg1LDE2LjQxMzA0NDUgNy43NjY1MDgyNiwxMC43NTMyOTQ1IDExLjE4MjU2MDMsNS4wODk2OTk2MSBDMTEuOTc0NzY5OCwzLjc0NzgxNTk1IDEzLjE4NDYyMTUsMi42MDIwMjQxOCAxNC42ODQ3NjI4LDIuMTgyOTI1ODQgQzE1Ljk0NTE4MTIsMS44MTU3MzQxOCAxNy4zMzQ4MjUxLDIuMDExODI2MDYgMTguNDY3ODkwNywyLjY3NzAwMDQ4IFogTTE1LjMzMzQ2NjgsOS41MTUyNjg0OSBDMTUuNjE0NjIzOCw5LjAzNzc5NDc2IDE2LjA3OTE1OTcsOS4wMjI1MDY1NSAxNi4zNzg1Njc5LDkuNDkyOTU0NyBMMjUuMjc2MzU1NSwyMy40NzM2OTEzIEMyNS41NzIzOTE5LDIzLjkzODg0MTQgMjUuMzU2ODQzMywyNC4zMTU5MjAxIDI0LjgwNzQzOTgsMjQuMzE1OTIwMiBMNy42MjMxNDY0NywyNC4zMTU5MjA1IEM3LjA2ODEzNTA1LDI0LjMxNTkyMDYgNi44NDYyMjc5OCwyMy45Mjg2ODg5IDcuMTI3Mjg5MTMsMjMuNDUxMzc3OSBMMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IFpcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PC9wYXRoPlxcbiAgICA8L3N2Zz4nIH0gfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJY29ucztcblxuLyoqKi8gfSxcbi8qIDE2MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3ByZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZUhhbmRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcblx0XG5cdHZhciBfcmVzaXplSGFuZGxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc2l6ZUhhbmRsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb24nKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTYyKTtcblx0dmFyIENMQVNTRVMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoX3JlZikge1xuXHQgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cdCAgdmFyIHBvaW50cyA9IHN0YXRlLnBvaW50cztcblx0ICB2YXIgY29udHJvbHMgPSBzdGF0ZS5jb250cm9scztcblx0ICB2YXIgb3BlbiA9IGNvbnRyb2xzLmlzQ29kZSA/IENMQVNTRVNbJ2lzLW9wZW4nXSA6ICcnO1xuXHQgIHZhciBtYWluQ2xhc3MgPSBDTEFTU0VTWydjb2RlLXBhbmVsJ10gKyAnICcgKyBvcGVuO1xuXHRcblx0ICByZXR1cm4gKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiBtYWluQ2xhc3MgfSxcblx0ICAgICgwLCBfcHJlYWN0LmgpKFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lubmVyJ10gfSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoX3Jlc2l6ZUhhbmRsZTIuZGVmYXVsdCwgeyB0eXBlOiAndG9wJyB9KSxcblx0ICAgICAgKDAsIF9wcmVhY3QuaCkoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IENMQVNTRVNbJ2NvZGUtcGFuZWxfX2lucHV0LXdyYXAnXSB9LFxuXHQgICAgICAgICgwLCBfcHJlYWN0LmgpKCdpbnB1dCcsIHsgY2xhc3NOYW1lOiBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC1maWVsZCddLFxuXHQgICAgICAgICAgdHlwZTogJ3RleHQnLCByZWFkb25seTogJ3JlYWRvbmx5Jyxcblx0ICAgICAgICAgIHZhbHVlOiBwb2ludHMucHJlc2VudC5wYXRoIH0pXG5cdCAgICAgIClcblx0ICAgIClcblx0ICApO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYodHJ1ZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdCgxNjMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDE2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9jb2RlLXBhbmVsX25uYjlwXzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3JpZ2h0OjEwcHg7Ym90dG9tOjEwMCU7ei1pbmRleDoxO292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXRvcDoxNnB4O2JveC1zaXppbmc6Y29udGVudC1ib3h9Ll9jb2RlLXBhbmVsX25uYjlwXzMgW2RhdGEtY29tcG9uZW50PXJlc2l6ZS1oYW5kbGVde3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JvdHRvbToxMDAlfS5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXtib3JkZXItcmFkaXVzOjZweCA2cHggMCAwO2JhY2tncm91bmQ6IzNkMWIzYztwYWRkaW5nOjRweCA1cHggNXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXQ7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2Utb3V0fS5fY29kZS1wYW5lbF9faW5wdXQtd3JhcF9ubmI5cF8xe2JvcmRlci1yYWRpdXM6MnB4O2JhY2tncm91bmQ6IzQyMTAzZjtib3JkZXI6MXB4IHNvbGlkICM5YzgyOWE7Ym94LXNoYWRvdzppbnNldCAycHggMnB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9jb2RlLXBhbmVsX19pbnB1dC1maWVsZF9ubmI5cF8xe2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjojZmZmO2ZvbnQtc2l6ZTo5cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7bGV0dGVyLXNwYWNpbmc6LjQ1cHg7Zm9udC13ZWlnaHQ6MTAwO3BhZGRpbmc6MCAuM2VtIDAgLjhlbTtib3JkZXI6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoyMXB4O3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5fY29kZS1wYW5lbF9ubmI5cF8zIDo6LW1vei1zZWxlY3Rpb24sLmNvZGUtcGFuZWwgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjpzZWxlY3Rpb257YmFja2dyb3VuZDojZmY1MTJmfS5fY29kZS1wYW5lbF9ubmI5cF8zLl9pcy1vcGVuX25uYjlwXzYxIC5fY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdFx0XCJjb2RlLXBhbmVsXCI6IFwiX2NvZGUtcGFuZWxfbm5iOXBfM1wiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5uZXJcIjogXCJfY29kZS1wYW5lbF9faW5uZXJfbm5iOXBfMVwiLFxuXHRcdFwiY29kZS1wYW5lbF9faW5wdXQtd3JhcFwiOiBcIl9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzFcIixcblx0XHRcImNvZGUtcGFuZWxfX2lucHV0LWZpZWxkXCI6IFwiX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzFcIixcblx0XHRcImlzLW9wZW5cIjogXCJfaXMtb3Blbl9ubmI5cF82MVwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNykoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZih0cnVlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KDE2NiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuLyogMTY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2N1cnZlLWVkaXRvcl8xZjhyNV80e3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDt0b3A6MDt3aWR0aDo0MDNweDtoZWlnaHQ6Mzc4cHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6cmdiYSg1OCw4LDU4LC44NSk7ei1pbmRleDoxMDA7Ym94LXNoYWRvdzoycHggMnB4IDJweCByZ2JhKDAsMCwwLC4zOCl9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MnB4O2xlZnQ6MDt0b3A6MDtib3R0b206MDtwYWRkaW5nOjEwcHg7Y3Vyc29yOm1vdmV9Ll9jdXJ2ZS1lZGl0b3JfX2xlZnRfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1kaXZpZGVyXXttYXJnaW46MTBweCBhdXRvfS5fY3VydmUtZWRpdG9yX19yaWdodF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NDNweDt0b3A6MDtyaWdodDowO2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGV9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXt0b3A6LTE2cHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9Ym90dG9tXXtib3R0b206MH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21dLC5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPXRvcF17bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTIxcHh9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9cmlnaHRde3JpZ2h0Oi0xNnB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMXttYXJnaW4tdG9wOjEwcHh9Ll9jdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb24tYnV0dG9uXXttYXJnaW4tYm90dG9tOjVweH0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjE3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6MXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSl9Ll9jdXJ2ZS1lZGl0b3JfX21vanMtbG9nb18xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uXXtmaWxsOiNmZjUxMmY7d2lkdGg6MTJweDtoZWlnaHQ6MTJweH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG4vKiAxNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2luZGV4UmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY4KTtcblx0XG5cdHZhciBfaW5kZXhSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4UmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIHN0b3JlID0gKDAsIF9yZWR1eC5jcmVhdGVTdG9yZSkoX2luZGV4UmVkdWNlcjIuZGVmYXVsdCk7XG5cdC8vIGltcG9ydCByZWR1Y2VyXG5cdGV4cG9ydHMuZGVmYXVsdCA9IHN0b3JlO1xuXG4vKioqLyB9LFxuLyogMTY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3JlZHV4VW5kbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblx0XG5cdHZhciBfcmVkdXhVbmRvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHV4VW5kbyk7XG5cdFxuXHR2YXIgX3Jlc2l6ZVJlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7XG5cdFxuXHR2YXIgX3Jlc2l6ZVJlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzaXplUmVkdWNlcik7XG5cdFxuXHR2YXIgX3BvaW50c1JlZHVjZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cdFxuXHR2YXIgX3BvaW50c1JlZHVjZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9pbnRzUmVkdWNlcik7XG5cdFxuXHR2YXIgX2NvbnRyb2xzUmVkdWNlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTg1KTtcblx0XG5cdHZhciBfY29udHJvbHNSZWR1Y2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnRyb2xzUmVkdWNlcik7XG5cdFxuXHR2YXIgX3BvaW50Q29udHJvbHNSZWR1Y2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODYpO1xuXHRcblx0dmFyIF9wb2ludENvbnRyb2xzUmVkdWNlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb2ludENvbnRyb2xzUmVkdWNlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gUmVkdXggdXRpbGl0eSBmdW5jdGlvbnNcblx0dmFyIFVORE9BQkxFX09QVFMgPSB7XG5cdCAgbGltaXQ6IDEwLFxuXHQgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuXHQgICAgcmV0dXJuIGFjdGlvbi5pc1JlY29yZDsgLy8gb25seSBhZGQgdG8gaGlzdG9yeSBpZiBpc1JlY29yZCBzZXQgb24gYWN0aW9uXG5cdCAgfSxcblx0ICBkZWJ1ZzogZmFsc2Vcblx0fTtcblx0Ly8gcmVkdXgtdW5kbyBoaWdoZXItb3JkZXIgcmVkdWNlclxuXHRcblx0XG5cdHZhciByZWR1Y2VyID0gKDAsIF9yZWR1eC5jb21iaW5lUmVkdWNlcnMpKHtcblx0ICByZXNpemU6IF9yZXNpemVSZWR1Y2VyMi5kZWZhdWx0LFxuXHQgIHBvaW50czogKDAsIF9yZWR1eFVuZG8yLmRlZmF1bHQpKF9wb2ludHNSZWR1Y2VyMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBVTkRPQUJMRV9PUFRTKSksXG5cdCAgY29udHJvbHM6IF9jb250cm9sc1JlZHVjZXIyLmRlZmF1bHQsXG5cdCAgcG9pbnRDb250cm9sczogKDAsIF9yZWR1eFVuZG8yLmRlZmF1bHQpKF9wb2ludENvbnRyb2xzUmVkdWNlcjIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgVU5ET0FCTEVfT1BUUykpXG5cdH0pO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcmVkdWNlcjtcblxuLyoqKi8gfSxcbi8qIDE2OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcwKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHM1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIHg6IDE1MCxcblx0ICB0ZW1wWDogMCxcblx0XG5cdCAgeTogMTAwLFxuXHQgIHRlbXBZOiAwLFxuXHRcblx0ICB0b3A6IDAsXG5cdCAgdGVtcF90b3A6IDAsXG5cdFxuXHQgIHJpZ2h0OiAwLFxuXHQgIHRlbXBfcmlnaHQ6IDAsXG5cdFxuXHQgIGJvdHRvbTogMCxcblx0ICB0ZW1wX2JvdHRvbTogMCxcblx0ICBzY2FsZXJYOiBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlRcblx0fTtcblx0XG5cdHZhciByZXNpemVSZWR1Y2VyID0gZnVuY3Rpb24gcmVzaXplUmVkdWNlcigpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ0VESVRPUl9SRVNJWkUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0ICAgICAgICB2YXIgZGVsdGEgPSB0eXBlID09PSAndG9wJyB8fCB0eXBlID09PSAnYm90dG9tJyA/IGRhdGEueSA6IGRhdGEueDtcblx0XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsICgwLCBfZGVmaW5lUHJvcGVydHkzLmRlZmF1bHQpKHt9LCAndGVtcF8nICsgdHlwZSwgZGVsdGEpKTtcblx0ICAgICAgICAvLyBpZiBgcmlnaHRgc2l6ZSBjaGFuZ2VkIC0gY2FsY3VsYXRlIHRoZSBzY2FsZXIgZm9yIHggYXhpc1xuXHQgICAgICAgIGlmICh0eXBlID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgICBuZXdTdGF0ZVsnc2NhbGVyWCddID0gKF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfU0laRSArIE1hdGgubWF4KHN0YXRlLnJpZ2h0ICsgZGVsdGEsIDApKSAvIDEwMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1JFU0laRV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9leHRlbmRzMztcblx0XG5cdCAgICAgICAgdmFyIF9kYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIF90eXBlID0gX2RhdGEudHlwZTtcblx0XG5cdCAgICAgICAgdmFyIF9kZWx0YSA9IF90eXBlID09PSAndG9wJyB8fCBfdHlwZSA9PT0gJ2JvdHRvbScgPyBfZGF0YS55IDogX2RhdGEueDtcblx0ICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIHJlc2l6ZSB2YWx1ZSAoIHRlbXBvcmFyeSArIGFjdHVhbCApXG5cdCAgICAgICAgdmFyIHJlc2l6ZSA9IHN0YXRlWycnICsgYWN0aW9uLmRhdGEudHlwZV0gKyBfZGVsdGE7XG5cdCAgICAgICAgLy8gaWYgdGhlIHR5cGUgaWYgdG8gLSBpdCBoYXMgdGhlIGAtYCBhcyBiYXNlIHNvIHdlIG5lZWQgdG8gc3dhcCBtZXRob2RzXG5cdCAgICAgICAgdmFyIG1hdGhNZXRob2QgPSBfdHlwZSA9PT0gJ3RvcCcgPyAnbWluJyA6ICdtYXgnO1xuXHQgICAgICAgIHZhciBfbmV3U3RhdGUgPSAoMCwgX2V4dGVuZHM1LmRlZmF1bHQpKHt9LCBzdGF0ZSwgKF9leHRlbmRzMyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfZXh0ZW5kczMsICcnICsgYWN0aW9uLmRhdGEudHlwZSwgTWF0aFttYXRoTWV0aG9kXSgwLCByZXNpemUpKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX2V4dGVuZHMzLCAndGVtcF8nICsgYWN0aW9uLmRhdGEudHlwZSwgMCksIF9leHRlbmRzMykpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX25ld1N0YXRlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX2FjdGlvbiRkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIHggPSBfYWN0aW9uJGRhdGEueDtcblx0ICAgICAgICB2YXIgeSA9IF9hY3Rpb24kZGF0YS55O1xuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgdGVtcFg6IHgsIHRlbXBZOiB5IH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURV9FTkQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9hY3Rpb24kZGF0YTIgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX3gyID0gX2FjdGlvbiRkYXRhMi54O1xuXHQgICAgICAgIHZhciBfeSA9IF9hY3Rpb24kZGF0YTIueTtcblx0XG5cdCAgICAgICAgX3gyICs9IHN0YXRlLng7XG5cdCAgICAgICAgX3kgKz0gc3RhdGUueTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzNS5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgeDogX3gyLCB5OiBfeSwgdGVtcFg6IDAsIHRlbXBZOiAwIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSByZXNpemVSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG5cdCAgaWYgKGtleSBpbiBvYmopIHtcblx0ICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKG9iaiwga2V5LCB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuXHQgICAgICB3cml0YWJsZTogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG9ialtrZXldID0gdmFsdWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb2JqO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX21ha2VQb2ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgyKTtcblx0XG5cdHZhciBfbWFrZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ha2VQb2ludCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2luaXRQb2ludHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG5cdFxuXHR2YXIgX2luaXRQb2ludHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdFBvaW50cyk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MCk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUGF0aCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElOSVRJQUxfU1RBVEUgPSB7XG5cdCAgcGF0aDogJycsXG5cdCAgc2VnbWVudHM6IFtdLFxuXHQgIHBvaW50czogW11cblx0ICAvLyBwb2ludHM6IGluaXRQb2ludHMoW1xuXHQgIC8vICAgbWFrZVBvaW50KHsgeDogMCwgICB5OiBDLkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9KSxcblx0ICAvLyAgIC8vIG1ha2VQb2ludCh7IHg6IDUwLCAgeTogQy5DVVJWRV9TSVpFLzIsIHR5cGU6ICdtaXJyb3JlZCcgfSksXG5cdCAgLy8gICBtYWtlUG9pbnQoeyB4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZSB9KVxuXHQgIC8vIF0pXG5cdH07XG5cdFxuXHR2YXIgZGVzZWxlY3RBbGwgPSBmdW5jdGlvbiBkZXNlbGVjdEFsbChzdGF0ZSkge1xuXHQgIHZhciBuZXdTdGF0ZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHBvaW50czogW10gfSksXG5cdCAgICAgIHBvaW50cyA9IHN0YXRlLnBvaW50cztcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIG5ld1N0YXRlLnBvaW50cy5wdXNoKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50c1tpXSwgeyBpc1NlbGVjdGVkOiBmYWxzZSB9KSk7XG5cdCAgfVxuXHQgIHJldHVybiBuZXdTdGF0ZTtcblx0fTtcblx0XG5cdHZhciBmaW5kU2VsZWN0ZWRJbmRlY2llcyA9IGZ1bmN0aW9uIGZpbmRTZWxlY3RlZEluZGVjaWVzKHBvaW50cykge1xuXHQgIHZhciBpbmRlY2llcyA9IFtdO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgcG9pbnRzW2ldLmlzU2VsZWN0ZWQgJiYgaW5kZWNpZXMucHVzaChpKTtcblx0ICB9XG5cdCAgcmV0dXJuIGluZGVjaWVzO1xuXHR9O1xuXHRcblx0dmFyIHBvaW50c1JlZHVjZXIgPSBmdW5jdGlvbiBwb2ludHNSZWR1Y2VyKCkge1xuXHQgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IElOSVRJQUxfU1RBVEUgOiBhcmd1bWVudHNbMF07XG5cdCAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuXHQgICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBkYXRhID0gYWN0aW9uLmRhdGE7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gZGF0YS5pbmRleDtcblx0ICAgICAgICB2YXIgcG9pbnRzID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBvbGRQb2ludCA9IHBvaW50c1tpbmRleF07XG5cdCAgICAgICAgdmFyIG5ld1BvaW50cyA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShwb2ludHMpKTtcblx0XG5cdCAgICAgICAgbmV3UG9pbnRzW2RhdGEuaW5kZXhdID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgb2xkUG9pbnQsIHsgdGVtcFg6IGRhdGEueCwgdGVtcFk6IGRhdGEueSB9KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogbmV3UG9pbnRzIH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkobmV3UG9pbnRzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9UUkFOU0xBVEVfRU5EJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfaW5kZXggPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICB2YXIgX3BvaW50cyA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgX29sZFBvaW50ID0gX3BvaW50c1tfaW5kZXhdO1xuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzLmRlZmF1bHQpKF9wb2ludHMpKTtcblx0XG5cdCAgICAgICAgX25ld1BvaW50c1tfaW5kZXhdID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX29sZFBvaW50LCB7XG5cdCAgICAgICAgICB4OiBfb2xkUG9pbnQueCArIF9vbGRQb2ludC50ZW1wWCxcblx0ICAgICAgICAgIHk6IF9vbGRQb2ludC55ICsgX29sZFBvaW50LnRlbXBZLFxuXHQgICAgICAgICAgdGVtcFg6IDAsIHRlbXBZOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBfbmV3UG9pbnRzIH0sICgwLCBfY2FsY3VsYXRlUGF0aDIuZGVmYXVsdCkoX25ld1BvaW50cykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfU0VMRUNUJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfZGF0YSA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfaW5kZXgyID0gX2RhdGEuaW5kZXg7XG5cdCAgICAgICAgdmFyIGlzRGVzZWxlY3QgPSBfZGF0YS5pc0Rlc2VsZWN0O1xuXHQgICAgICAgIHZhciBuZXdTdGF0ZSA9IGlzRGVzZWxlY3QgPyBkZXNlbGVjdEFsbChzdGF0ZSkgOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSk7XG5cdCAgICAgICAgdmFyIF9wb2ludHMyID0gbmV3U3RhdGUucG9pbnRzO1xuXHRcblx0XG5cdCAgICAgICAgdmFyIHBvaW50ID0gX3BvaW50czJbX2luZGV4Ml07XG5cdCAgICAgICAgcG9pbnQuaXNTZWxlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHBvaW50czogX3BvaW50czIgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICBjYXNlICdQT0lOVF9BREQnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9kYXRhMiA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIHZhciBfaW5kZXgzID0gX2RhdGEyLmluZGV4O1xuXHQgICAgICAgIHZhciBfcG9pbnQgPSBfZGF0YTIucG9pbnQ7XG5cdCAgICAgICAgdmFyIGRlc2VsZWN0ZWQgPSBkZXNlbGVjdEFsbChzdGF0ZSk7XG5cdFxuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzMiA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShkZXNlbGVjdGVkLnBvaW50cy5zbGljZSgwLCBfaW5kZXgzKSksIFsoMCwgX21ha2VQb2ludDIuZGVmYXVsdCkoKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgX3BvaW50KSldLCAoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShkZXNlbGVjdGVkLnBvaW50cy5zbGljZShfaW5kZXgzKSkpO1xuXHRcblx0ICAgICAgICB2YXIgX3BvaW50czMgPSBfbmV3UG9pbnRzMi5sZW5ndGggPiAxID8gKDAsIF9pbml0UG9pbnRzMi5kZWZhdWx0KShfbmV3UG9pbnRzMikgOiBfbmV3UG9pbnRzMjtcblx0XG5cdCAgICAgICAgdmFyIHBhdGggPSBfcG9pbnRzMy5sZW5ndGggPiAxID8gKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShfcG9pbnRzMykgOiB7fTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBwb2ludHM6IF9wb2ludHMzIH0sIHBhdGgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfREVMRVRFJzpcblx0ICAgICAge1xuXHQgICAgICAgIHZhciBfcG9pbnRzNCA9IHN0YXRlLnBvaW50cztcblx0ICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhfcG9pbnRzNCk7XG5cdFxuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzMyA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3BvaW50czQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBpdGVtID0gX3BvaW50czRbaV07XG5cdCAgICAgICAgICAoc2VsZWN0ZWQuaW5kZXhPZihpKSA9PT0gLTEgfHwgaXRlbS5pc0xvY2tlZFgpICYmIF9uZXdQb2ludHMzLnB1c2goaXRlbSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogX25ld1BvaW50czMgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShfbmV3UG9pbnRzMykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIF9wb2ludHM1ID0gc3RhdGUucG9pbnRzO1xuXHQgICAgICAgIHZhciBfc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhfcG9pbnRzNSk7XG5cdFxuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzNCA9IFtdO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3BvaW50czUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIHZhciBfaXRlbSA9IF9wb2ludHM1W2ldLFxuXHQgICAgICAgICAgICAgIHR5cGUgPSBhY3Rpb24uZGF0YTtcblx0ICAgICAgICAgIC8vIGNvcHkgYWxsIGl0ZW1zIGZyb20gcHJldmlvdXMgcG9pbnRzXG5cdCAgICAgICAgICBfbmV3UG9pbnRzNC5wdXNoKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9pdGVtKSk7XG5cdCAgICAgICAgICAvLyBpZiBpdGVtIHdhcyBzZWxlY3RlZCAtIHNldCB0aGUgbmV3IGB0eXBlYFxuXHQgICAgICAgICAgX3NlbGVjdGVkLmluZGV4T2YoaSkgIT09IC0xICYmIChfbmV3UG9pbnRzNFtpXS50eXBlID0gdHlwZSk7XG5cdFxuXHQgICAgICAgICAgdmFyIF9pbmRleDQgPSBpLFxuXHQgICAgICAgICAgICAgIF9wb2ludDIgPSBfbmV3UG9pbnRzNFtfaW5kZXg0XSxcblx0ICAgICAgICAgICAgICBzaWJQb2ludCA9IF9pbmRleDQgPT09IF9uZXdQb2ludHM0Lmxlbmd0aCAtIDEgPyBfbmV3UG9pbnRzNFtfaW5kZXg0IC0gMV0gOiBfbmV3UG9pbnRzNFtfaW5kZXg0ICsgMV07XG5cdFxuXHQgICAgICAgICAgdmFyIGhhbmRsZUluZGV4ID0gX2luZGV4NCA9PT0gX25ld1BvaW50czQubGVuZ3RoIC0gMSA/IDEgOiAyLFxuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZUluZGV4ID0gaGFuZGxlSW5kZXggPT09IDEgPyAyIDogMSxcblx0ICAgICAgICAgICAgICBoYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBoYW5kbGVJbmRleCxcblx0ICAgICAgICAgICAgICBzaWJIYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBzaWJIYW5kbGVJbmRleCxcblx0ICAgICAgICAgICAgICBoYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfcG9pbnQyW2hhbmRsZU5hbWVdKSxcblx0ICAgICAgICAgICAgICBzaWJIYW5kbGUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfcG9pbnQyW3NpYkhhbmRsZU5hbWVdKTtcblx0XG5cdCAgICAgICAgICBfcG9pbnQyW2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuXHQgICAgICAgICAgX3BvaW50MltzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblx0XG5cdCAgICAgICAgICBpZiAodHlwZSA9PT0gJ21pcnJvcmVkJyB8fCB0eXBlID09PSAnYXN5bW1ldHJpYycpIHtcblx0ICAgICAgICAgICAgc2liSGFuZGxlLmFuZ2xlID0gaGFuZGxlLmFuZ2xlIC0gMTgwO1xuXHQgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21pcnJvcmVkJykge1xuXHQgICAgICAgICAgICAgIHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHBvaW50czogX25ld1BvaW50czQgfSwgKDAsIF9jYWxjdWxhdGVQYXRoMi5kZWZhdWx0KShfbmV3UG9pbnRzNCkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBkZXNlbGVjdEFsbChzdGF0ZSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgLy8gSEFORExFU1xuXHQgICAgY2FzZSAnSEFORExFX1RSQU5TTEFURSc6XG5cdCAgICAgIHtcblx0ICAgICAgICB2YXIgX3BvaW50czYgPSBzdGF0ZS5wb2ludHM7XG5cdCAgICAgICAgdmFyIF9kYXRhMyA9IGFjdGlvbi5kYXRhO1xuXHQgICAgICAgIC8vIGNyZWF0ZSBuZXcgc3RhdGUgYW5kIGNvcHkgdGhlIG5ldyBwb2ludCBpbnRvIGl0XG5cdFxuXHQgICAgICAgIHZhciBfbmV3UG9pbnRzNSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5My5kZWZhdWx0KShfcG9pbnRzNikpLFxuXHQgICAgICAgICAgICBuZXdQb2ludCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF9uZXdQb2ludHM1W19kYXRhMy5wYXJlbnRJbmRleF0pO1xuXHRcblx0ICAgICAgICBfbmV3UG9pbnRzNVtfZGF0YTMucGFyZW50SW5kZXhdID0gbmV3UG9pbnQ7XG5cdCAgICAgICAgLy8gY3JlYXRlIGhhbmRsZSBhbmQgY29weSBpdCBpbnRvIHRoZSBuZXcgcG9pbnRcblx0ICAgICAgICB2YXIgX2hhbmRsZU5hbWUgPSAnaGFuZGxlJyArIF9kYXRhMy5pbmRleCxcblx0ICAgICAgICAgICAgbmV3SGFuZGxlID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgbmV3UG9pbnRbX2hhbmRsZU5hbWVdKTtcblx0XG5cdCAgICAgICAgbmV3UG9pbnRbX2hhbmRsZU5hbWVdID0gbmV3SGFuZGxlO1xuXHQgICAgICAgIC8vIGZpbmFsbHkgYWRkIGFuZ2xlIGFuZCByYWRpdXNcblx0ICAgICAgICBuZXdIYW5kbGUuYW5nbGUgPSBfZGF0YTMuYW5nbGU7XG5cdCAgICAgICAgbmV3SGFuZGxlLnJhZGl1cyA9IF9kYXRhMy5yYWRpdXM7XG5cdFxuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcG9pbnRzOiBfbmV3UG9pbnRzNSB9LCAoMCwgX2NhbGN1bGF0ZVBhdGgyLmRlZmF1bHQpKF9uZXdQb2ludHM1KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAvLyBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfVFJBTlNMQVRFX0VORCc6XG5cdCAgICAvLyBjYXNlICdQT0lOVF9BREQnOlxuXHQgICAgLy8gY2FzZSAnUE9JTlRfUkVNT1ZERSc6XG5cdCAgICAvLyBjYXNlICdQT0lOVF9DSEFOR0VfVFlQRSc6XG5cdCAgICAvLyBjYXNlICdIQU5ETEVfVFJBTlNMQVRFJzpcblx0ICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIC4uLmNhbGN1bGF0ZVBhdGgoIHN0YXRlLnBvaW50cy5wcmVzZW50ICkgfVxuXHQgIH1cblx0ICByZXR1cm4gc3RhdGU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBwb2ludHNSZWR1Y2VyO1xuXG4vKioqLyB9LFxuLyogMTcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdFxuXHR2YXIgX2Zyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cdFxuXHR2YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgYXJyMltpXSA9IGFycltpXTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYXJyMjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcblx0ICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG4vKiAxNzQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuQXJyYXkuZnJvbTtcblxuLyoqKi8gfSxcbi8qIDE3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHR2YXIgY3R4ICAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KVxuXHQgICwgJGV4cG9ydCAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKVxuXHQgICwgdG9PYmplY3QgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KVxuXHQgICwgY2FsbCAgICAgICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nilcblx0ICAsIGlzQXJyYXlJdGVyICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpXG5cdCAgLCB0b0xlbmd0aCAgICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpXG5cdCAgLCBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc4KVxuXHQgICwgZ2V0SXRlckZuICAgICAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHQkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSkoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG5cdCAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuXHQgIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuXHQgICAgdmFyIE8gICAgICAgPSB0b09iamVjdChhcnJheUxpa2UpXG5cdCAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcblx0ICAgICAgLCBhTGVuICAgID0gYXJndW1lbnRzLmxlbmd0aFxuXHQgICAgICAsIG1hcGZuICAgPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZFxuXHQgICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG5cdCAgICAgICwgaW5kZXggICA9IDBcblx0ICAgICAgLCBpdGVyRm4gID0gZ2V0SXRlckZuKE8pXG5cdCAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuXHQgICAgaWYobWFwcGluZyltYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuXHQgICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG5cdCAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG5cdCAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKXtcblx0ICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcblx0ICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcblx0ICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdH0pO1xuXG5cbi8qKiovIH0sXG4vKiAxNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3Jcblx0dmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG5cdCAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcblx0ICB9IGNhdGNoKGUpe1xuXHQgICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcblx0ICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG5cdCAgICB0aHJvdyBlO1xuXHQgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxuXHR2YXIgSXRlcmF0b3JzICA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpXG5cdCAgLCBJVEVSQVRPUiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NykoJ2l0ZXJhdG9yJylcblx0ICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcblx0ICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdHZhciAkZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KVxuXHQgICwgY3JlYXRlRGVzYyAgICAgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgaW5kZXgsIHZhbHVlKXtcblx0ICBpZihpbmRleCBpbiBvYmplY3QpJGRlZmluZVByb3BlcnR5LmYob2JqZWN0LCBpbmRleCwgY3JlYXRlRGVzYygwLCB2YWx1ZSkpO1xuXHQgIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApXG5cdCAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSgnaXRlcmF0b3InKVxuXHQgICwgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCkuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG5cdCAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cblx0ICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cblx0ICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cdHZhciBjb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKVxuXHQgICwgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NykoJ3RvU3RyaW5nVGFnJylcblx0ICAvLyBFUzMgd3JvbmcgaGVyZVxuXHQgICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cdFxuXHQvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuXHR2YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG5cdCAgdHJ5IHtcblx0ICAgIHJldHVybiBpdFtrZXldO1xuXHQgIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPLCBULCBCO1xuXHQgIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuXHQgICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG5cdCAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG5cdCAgICAvLyBidWlsdGluVGFnIGNhc2Vcblx0ICAgIDogQVJHID8gY29mKE8pXG5cdCAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG5cdCAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElURVJBVE9SICAgICA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpKCdpdGVyYXRvcicpXG5cdCAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblx0XG5cdHRyeSB7XG5cdCAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuXHQgIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG5cdCAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG5cdH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuXHQgIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcblx0ICB2YXIgc2FmZSA9IGZhbHNlO1xuXHQgIHRyeSB7XG5cdCAgICB2YXIgYXJyICA9IFs3XVxuXHQgICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG5cdCAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcblx0ICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcblx0ICAgIGV4ZWMoYXJyKTtcblx0ICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cdCAgcmV0dXJuIHNhZmU7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGZhbGxiYWNrID0gZnVuY3Rpb24gZmFsbGJhY2sodmFsdWUsIF9mYWxsYmFjaykge1xuXHQgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBfZmFsbGJhY2s7XG5cdH07XG5cdFxuXHR2YXIgbWFrZUhhbmRsZVBvaW50ID0gZnVuY3Rpb24gbWFrZUhhbmRsZVBvaW50KCkge1xuXHQgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBpbmRleDogZmFsbGJhY2soby5pbmRleCwgMCksXG5cdCAgICAvLyBjb29yZGluYXRlc1xuXHQgICAgYW5nbGU6IGZhbGxiYWNrKG8uYW5nbGUsIG51bGwpLFxuXHQgICAgcmFkaXVzOiBmYWxsYmFjayhvLnJhZGl1cywgbnVsbCksXG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgaXNUb3VjaGVkOiBmYWxsYmFjayhvLmlzVG91Y2hlZCwgZmFsc2UpLFxuXHQgICAgaXNTZWxlY3RlZDogZmFsbGJhY2soby5pc1NlbGVjdGVkLCBmYWxzZSlcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG1ha2VQb3NpdGlvblBvaW50ID0gZnVuY3Rpb24gbWFrZVBvc2l0aW9uUG9pbnQoKSB7XG5cdCAgdmFyIG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIC8vIGNvb3JkaW5hdGVzXG5cdCAgICB4OiBmYWxsYmFjayhvLngsIDApLFxuXHQgICAgeTogZmFsbGJhY2soby55LCAwKSxcblx0ICAgIC8vIHRlbXBvcmFyeSBjb29yZGluYXRlcyAod2hlbiB1c2VyIG1vdmVzIHRoZSBwb2ludCkgLVxuXHQgICAgLy8gc2hvdWxkIG5vdCBiZSBpbiBoaXN0b3J5XG5cdCAgICB0ZW1wWDogZmFsbGJhY2soby50ZW1wWCwgMCksXG5cdCAgICB0ZW1wWTogZmFsbGJhY2soby50ZW1wWSwgMCksXG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgaXNUb3VjaGVkOiBmYWxsYmFjayhvLmlzVG91Y2hlZCwgZmFsc2UpLFxuXHQgICAgaXNTZWxlY3RlZDogZmFsbGJhY2soby5pc1NlbGVjdGVkLCBmYWxzZSlcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG1ha2VQb2ludCA9IGZ1bmN0aW9uIG1ha2VQb2ludCgpIHtcblx0ICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG5cdCAgICAvLyBzdGF0ZVxuXHQgICAgLy8gaXNPbmVIYW5kbGU6IGZhbGxiYWNrKCBvLmlzT25lSGFuZGxlLCBmYWxzZSApLFxuXHQgICAgaXNMb2NrZWRYOiBmYWxsYmFjayhvLmlzTG9ja2VkWCwgZmFsc2UpLFxuXHQgICAgaXNMb2NrZWRZOiBmYWxsYmFjayhvLmlzTG9ja2VkWSwgZmFsc2UpLFxuXHQgICAgLy8gdHlwZSBvZiB0aGUgcG9pbnQ6XG5cdCAgICAvLyAgICdzdHJhaWdodCcgfHwgJ21pcnJvcmVkJyB8fCAnZGlzY29ubmVjdGVkJyB8fCAnYXN5bWV0cmljJ1xuXHQgICAgdHlwZTogZmFsbGJhY2soby50eXBlLCAnc3RyYWlnaHQnKVxuXHQgIH0sIG1ha2VQb3NpdGlvblBvaW50KG8pLCB7XG5cdCAgICAvLyBhZGQgY3VydmUgaGFuZGxlc1xuXHQgICAgaGFuZGxlMTogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMSB8fCB7IGluZGV4OiAxIH0pLFxuXHQgICAgaGFuZGxlMjogbWFrZUhhbmRsZVBvaW50KG8uaGFuZGxlMiB8fCB7IGluZGV4OiAyIH0pXG5cdCAgfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBtYWtlUG9pbnQ7XG5cbi8qKiovIH0sXG4vKiAxODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9pbml0UG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG5cdFxuXHR2YXIgX2luaXRQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0UG9pbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludHMpIHtcblx0XG5cdCAgdmFyIG5ld1BvaW50cyA9IFtdO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV0sXG5cdCAgICAgICAgc2liUG9pbnQgPSBpID09PSBwb2ludHMubGVuZ3RoIC0gMSA/IHBvaW50c1tpIC0gMV0gOiBwb2ludHNbaSArIDFdLFxuXHQgICAgICAgIGhhbmRsZUluZGV4ID0gaSA9PT0gcG9pbnRzLmxlbmd0aCAtIDEgPyAxIDogMjtcblx0XG5cdCAgICBuZXdQb2ludHMucHVzaCgoMCwgX2luaXRQb2ludDIuZGVmYXVsdCkocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkpO1xuXHQgIH1cblx0ICByZXR1cm4gbmV3UG9pbnRzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDcpO1xuXHRcblx0dmFyIF9jb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc3RhbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkge1xuXHRcblx0ICAgICAgcG9pbnQgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwb2ludCk7XG5cdFxuXHQgICAgICB2YXIgaGFuZGxlTmFtZSA9ICdoYW5kbGUnICsgaGFuZGxlSW5kZXgsXG5cdCAgICAgICAgICBzaWJIYW5kbGVJbmRleCA9IGhhbmRsZUluZGV4ID09PSAxID8gMiA6IDEsXG5cdCAgICAgICAgICBzaWJIYW5kbGVOYW1lID0gJ2hhbmRsZScgKyBzaWJIYW5kbGVJbmRleCxcblx0ICAgICAgICAgIGhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50W2hhbmRsZU5hbWVdKSxcblx0ICAgICAgICAgIHNpYkhhbmRsZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBvaW50W3NpYkhhbmRsZU5hbWVdKSxcblx0ICAgICAgICAgIHR5cGUgPSBwb2ludC50eXBlO1xuXHRcblx0ICAgICAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG5cdCAgICAgIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXHRcblx0ICAgICAgaWYgKGhhbmRsZS5hbmdsZSA9PSBudWxsIHx8IGhhbmRsZS5yYWRpdXMgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBoYW5kbGUucmFkaXVzID0gNTA7XG5cdFxuXHQgICAgICAgICAgICB2YXIgZHkgPSAoc2liUG9pbnQueSAtIHBvaW50LnkpIC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5ULFxuXHQgICAgICAgICAgICAgICAgZHggPSBzaWJQb2ludC54IC0gcG9pbnQueDtcblx0XG5cdCAgICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbihkeSAvIGR4KSAqICgxODAgLyBNYXRoLlBJKSAtIDkwO1xuXHQgICAgICAgICAgICBpZiAoZHggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgIGFuZ2xlID0gYW5nbGUgLSAxODA7XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBoYW5kbGUuYW5nbGUgPSBhbmdsZTtcblx0ICAgICAgICAgICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG5cdCAgICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHBvaW50O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVBhdGgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJTklUSUFMX1NUQVRFID0ge1xuXHQgIGlzQ29kZTogZmFsc2Vcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIGNhc2UgJ0NPREVfVEFQJzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc0NvZGU6ICFzdGF0ZS5pc0NvZGUgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE4NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSU5JVElBTF9TVEFURSA9IHtcblx0ICBpc1Nob3c6IGZhbHNlLFxuXHQgIHR5cGU6ICdzdHJhaWdodCdcblx0fTtcblx0XG5cdHZhciBwb2ludENvbnRyb2xzID0gZnVuY3Rpb24gcG9pbnRDb250cm9scygpIHtcblx0ICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBJTklUSUFMX1NUQVRFIDogYXJndW1lbnRzWzBdO1xuXHQgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcblx0ICAgIC8vIHByb2JhYmx5IHJlZHVuZGFudFxuXHQgICAgLy8gY2FzZSAnUE9JTlRfQUREJzoge1xuXHQgICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG5cdCAgICAvLyB9XG5cdCAgICBjYXNlICdQT0lOVF9TRUxFQ1QnOlxuXHQgICAgICB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuXHQgICAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBpc1Nob3c6ICFhY3Rpb24uaXNEZXNlbGVjdCwgdHlwZTogdHlwZSB9KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IHR5cGU6IGFjdGlvbi5kYXRhIH0pO1xuXHQgICAgICB9XG5cdCAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGlzU2hvdzogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHN0YXRlO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gcG9pbnRDb250cm9scztcblxuLyoqKi8gfSxcbi8qIDE4NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTg4KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKHRydWUpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoMTg4LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCk7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG4vKiAxODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHttYXJnaW46MDtwYWRkaW5nOjA7YmFja2dyb3VuZDojZmZmNWU0fSp7Ym94LXNpemluZzpib3JkZXItYm94fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcbi8qIDE4OSAqLyxcbi8qIDE5MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVNlZ21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVNlZ21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlU2VnbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBvaW50cykge1xuXHQgIHZhciBwYXRoID0gJycsXG5cdCAgICAgIHNlZ21lbnRzID0gW107XG5cdFxuXHQgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBwb2ludHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzW2luZGV4XSxcblx0ICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaW5kZXggKyAxXTtcblx0XG5cdCAgICB2YXIgc2VnbWVudCA9ICgwLCBfY2FsY3VsYXRlU2VnbWVudDIuZGVmYXVsdCkocG9pbnQsIG5leHRQb2ludCwgaW5kZXgpO1xuXHQgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcblx0XG5cdCAgICBwYXRoICs9IHNlZ21lbnQuc3RyaW5nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHsgcGF0aDogcGF0aCwgc2VnbWVudHM6IHNlZ21lbnRzIH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KTtcblx0XG5cdHZhciBfY29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbnN0YW50cyk7XG5cdFxuXHR2YXIgX2NhbGN1bGF0ZVBvaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTIpO1xuXHRcblx0dmFyIF9jYWxjdWxhdGVQb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxjdWxhdGVQb2ludCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHBvaW50LCBuZXh0UG9pbnQsIGluZGV4KSB7XG5cdCAgICBpZiAoIW5leHRQb2ludCkge1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdHJpbmcgPSAnJyxcblx0ICAgICAgICBzZWdtZW50U3RyaW5nID0gJyc7XG5cdFxuXHQgICAgdmFyIHggPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG5cdCAgICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcblx0ICAgICAgICB4TmV4dCA9IG5leHRQb2ludC54ICsgbmV4dFBvaW50LnRlbXBYLFxuXHQgICAgICAgIHlOZXh0ID0gbmV4dFBvaW50LnkgKyBuZXh0UG9pbnQudGVtcFk7XG5cdFxuXHQgICAgdmFyIHBhcnQxID0gJ00nICsgeCArICcsICcgKyB5IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cdCAgICAgICAgc3RyaW5nICs9IHBhcnQxO1xuXHQgICAgfVxuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0MTtcblx0XG5cdCAgICB2YXIgcGFydDIgPSAoMCwgX2NhbGN1bGF0ZVBvaW50Mi5kZWZhdWx0KShwb2ludCwgMik7XG5cdCAgICBzdHJpbmcgKz0gcGFydDI7XG5cdCAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQyO1xuXHRcblx0ICAgIHZhciBwYXJ0MyA9ICgwLCBfY2FsY3VsYXRlUG9pbnQyLmRlZmF1bHQpKG5leHRQb2ludCwgMSk7XG5cdCAgICBzdHJpbmcgKz0gcGFydDM7XG5cdCAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQzO1xuXHRcblx0ICAgIHZhciBwYXJ0NCA9IHhOZXh0ICsgJywgJyArIHlOZXh0IC8gX2NvbnN0YW50czIuZGVmYXVsdC5DVVJWRV9QRVJDRU5UICsgJyAnO1xuXHQgICAgc3RyaW5nICs9IHBhcnQ0O1xuXHQgICAgc2VnbWVudFN0cmluZyArPSBwYXJ0NDtcblx0XG5cdCAgICByZXR1cm4geyBzdHJpbmc6IHN0cmluZywgc2VnbWVudFN0cmluZzogc2VnbWVudFN0cmluZywgaW5kZXg6IGluZGV4IH07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9hbmdsZVRvUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX2FuZ2xlVG9Qb2ludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmdsZVRvUG9pbnQpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyk7XG5cdFxuXHR2YXIgX2NvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zdGFudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwb2ludCkge1xuXHQgIHZhciBoYW5kbGVJbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHZhciB4ID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuXHQgICAgICB5ID0gcG9pbnQueSArIHBvaW50LnRlbXBZLFxuXHQgICAgICBoYW5kbGUgPSBwb2ludFsnaGFuZGxlJyArIGhhbmRsZUluZGV4XTtcblx0XG5cdCAgdmFyIENIQVIgPSBoYW5kbGVJbmRleCA9PT0gMiA/ICdDJyA6ICcnO1xuXHQgIGlmIChwb2ludC50eXBlICE9PSAnc3RyYWlnaHQnKSB7XG5cdCAgICB2YXIgaGFuZGxlQ29vcmRzID0gKDAsIF9hbmdsZVRvUG9pbnQyLmRlZmF1bHQpKGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyk7XG5cdCAgICByZXR1cm4gJycgKyBDSEFSICsgKHggKyBoYW5kbGVDb29yZHMueCAvIF9jb25zdGFudHMyLmRlZmF1bHQuQ1VSVkVfUEVSQ0VOVCkgKyAnLCAnICsgKHkgKyBoYW5kbGVDb29yZHMueSkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAnJyArIENIQVIgKyB4ICsgJywgJyArIHkgLyBfY29uc3RhbnRzMi5kZWZhdWx0LkNVUlZFX1BFUkNFTlQgKyAnICc7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9XG4vKioqKioqLyBdKVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbW9qcy1jdXJ2ZS1lZGl0b3IubWluLmpzXG4gKiovIiwiIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVtb2pzX2N1cnZlX2VkaXRvclwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlbW9qc19jdXJ2ZV9lZGl0b3JcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChjYWxsYmFjaykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0dHJ5IHtcclxuIFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycik7XHJcbiBcdFx0fVxyXG4gXHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdGNhbGxiYWNrKCk7XHJcbiBcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0Y2FsbGJhY2sobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRjYWxsYmFjayhlKTtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdXBkYXRlKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHQvLyBDb3BpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iZWY0NWIwL3NyYy9zaGFyZWQvdXRpbHMvY2FuRGVmaW5lUHJvcGVydHkuanNcclxuIFx0dmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XHJcbiBcdHRyeSB7XHJcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInhcIiwge1xyXG4gXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHt9XHJcbiBcdFx0fSk7XHJcbiBcdFx0Y2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xyXG4gXHR9IGNhdGNoKHgpIHtcclxuIFx0XHQvLyBJRSB3aWxsIGZhaWwgb24gZGVmaW5lUHJvcGVydHlcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjk4MGFmZjBhODFiOTQwZjliMTBhXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSkge1xyXG4gXHRcdFx0XHRpZihjYW5EZWZpbmVQcm9wZXJ0eSkge1xyXG4gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgKGZ1bmN0aW9uKG5hbWUpIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9KG5hbWUpKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Zm5bbmFtZV0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBlbnN1cmUoY2h1bmtJZCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQsIGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobnVsbCwgZm4pO1xyXG4gXHRcdFx0XHR9IGZpbmFsbHkge1xyXG4gXHRcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFx0aWYoY2FuRGVmaW5lUHJvcGVydHkpIHtcclxuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgXCJlXCIsIHtcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0dmFsdWU6IGVuc3VyZVxyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGZuLmUgPSBlbnN1cmU7XHJcbiBcdFx0fVxyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjaztcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm51bWJlclwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90Q2FsbGJhY2s7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSwgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRpZih0eXBlb2YgYXBwbHkgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGZhbHNlO1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBhcHBseTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRob3REb3dubG9hZE1hbmlmZXN0KGZ1bmN0aW9uKGVyciwgdXBkYXRlKSB7XHJcbiBcdFx0XHRpZihlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRjYWxsYmFjayhudWxsLCBudWxsKTtcclxuIFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGlibGVGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdXBkYXRlLmMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdGhvdEF2YWlsaWJsZUZpbGVzTWFwW3VwZGF0ZS5jW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsaWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxpYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGNhbGxiYWNrID0gaG90Q2FsbGJhY2s7XHJcbiBcdFx0aG90Q2FsbGJhY2sgPSBudWxsO1xyXG4gXHRcdGlmKCFjYWxsYmFjaykgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUsIGNhbGxiYWNrKTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRjYWxsYmFjayhudWxsLCBvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucywgY2FsbGJhY2spIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdGlmKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdGNhbGxiYWNrID0gb3B0aW9ucztcclxuIFx0XHRcdG9wdGlvbnMgPSB7fTtcclxuIFx0XHR9IGVsc2UgaWYob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xyXG4gXHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0aWYoZXJyKSB0aHJvdyBlcnI7XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRvcHRpb25zID0ge307XHJcbiBcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRpZihlcnIpIHRocm93IGVycjtcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZSkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFttb2R1bGVdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlSWQgPT09IDApIHtcclxuIFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIG1vZHVsZUlkICsgXCIgaW4gXCIgKyBwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiBbb3V0ZGF0ZWRNb2R1bGVzLCBvdXRkYXRlZERlcGVuZGVuY2llc107XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZighcmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHRbMF0pO1xyXG4gXHRcdFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIHJlc3VsdFsxXSkge1xyXG4gXHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHRbMV0sIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdFsxXVttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdHZhciBpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgY2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHR2YXIgbW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSBpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIGNhbGxiYWNrKGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0Y2FsbGJhY2sobnVsbCwgb3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogaG90Q3VycmVudFBhcmVudHMsXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcImJ1aWxkL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDApKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgOTgwYWZmMGE4MWI5NDBmOWIxMGFcbiAqKi8iLCIvLyBpbXBvcnQgJy4vdGFncy9jdXJ2ZS1lZGl0b3IudGFnJztcbnJlcXVpcmUoJy4uL2Nzcy9tYWluJyk7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3ByZWFjdC1yZWR1eCc7XG5pbXBvcnQge3JlbmRlciwgaH0gIGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgQ3VydmVFZGl0b3IgIGZyb20gJy4vdGFncy9jdXJ2ZS1lZGl0b3InO1xuaW1wb3J0IHN0b3JlICAgICAgICBmcm9tICcuL3N0b3JlJztcbmltcG9ydCBDICAgICAgICAgICAgZnJvbSAnLi9jb25zdGFudHMnO1xuXG4vLyBUT0RPXG4vLyAgIC0gaW5zdGFuY2UgZHJvcGRvd24gb24gY29kZSBwYW5lbFxuLy8gICAtIGFkZCBvcmFuZ2UgcG9pbnQgb24gc2VsZWNlZCBwb2ludCBjb250cm9sLyBoaWdodGxpZ2h0IHRoZSBjb250cm9sXG4vLyAgIC0gc2F2ZSBzdGF0ZSB0byBMQ1xuLy8gICAtIGFkZCBBUElzXG4vLyAgIC0gaW1wb3J0IHBhdGggZGF0YVxuLy8gICAtIG1vdmUgYnVuY2ggb2YgcG9pbnRzIGF0IG9uY2VcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgcmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgPEN1cnZlRWRpdG9yIC8+XG4gICAgPC9Qcm92aWRlcj4sIGRvY3VtZW50LmJvZHkpO1xufSk7XG5cbnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHt4OiAwLCAgIHk6IEMuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlfSwgaW5kZXg6IDAgfSB9KTtcbnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0FERCcsIGRhdGE6IHsgcG9pbnQ6IHt4OiAxMDAsIHk6IDAsIGlzTG9ja2VkWDogdHJ1ZX0sIGluZGV4OiAxIH0gfSk7XG5cbi8vICAgbWFrZVBvaW50KHsgeDogMCwgICB5OiBDLkNVUlZFX1NJWkUsIGlzTG9ja2VkWDogdHJ1ZSwgdHlwZTogJ3N0cmFpZ2h0JyB9KSxcbi8vICAgLy8gbWFrZVBvaW50KHsgeDogNTAsICB5OiBDLkNVUlZFX1NJWkUvMiwgdHlwZTogJ21pcnJvcmVkJyB9KSxcbi8vICAgbWFrZVBvaW50KHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSlcblxuLy8gY3VydmVcbi8vICAgLmdldEZ1bmN0aW9uKHsgaXNJbnZlcnNlWDogZmFsc2UsIGlzSW52ZXJzZVk6IHRydWUsIG5hbWU6ICdTb21lIG5hbWUnIH0pXG4vLyAgIC5nZXRDb2RlKClcblxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2FwcC5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgeyBDb21wb25lbnQsIGggYXMgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0b25seShjaGlsZHJlbikge1xuXHRcdHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlblswXSB8fCBudWxsO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBwcm9wdHlwZSgpIHt9XG5wcm9wdHlwZS5pc1JlcXVpcmVkID0gcHJvcHR5cGU7XG5cbmV4cG9ydCBjb25zdCBQcm9wVHlwZXMgPSB7XG5cdGVsZW1lbnQ6IHByb3B0eXBlLFxuXHRmdW5jOiBwcm9wdHlwZSxcblx0c2hhcGU6ICgpID0+IHByb3B0eXBlXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vc3JjL2NvbXBhdC5qc1xuICoqLyIsIi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWVtcHR5ICovXG4gIH0gY2F0Y2ggKGUpIHt9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tZW1wdHkgKi9cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dhcm5pbmcuanNcbiAqKi8iLCJpbXBvcnQgeyBDb21wb25lbnQsIFByb3BUeXBlcywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdG9yZVNoYXBlIGZyb20gJy4uL3V0aWxzL3N0b3JlU2hhcGUnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuXG5sZXQgZGlkV2FybkFib3V0UmVjZWl2aW5nU3RvcmUgPSBmYWxzZVxuZnVuY3Rpb24gd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKSB7XG4gIGlmIChkaWRXYXJuQWJvdXRSZWNlaXZpbmdTdG9yZSkge1xuICAgIHJldHVyblxuICB9XG4gIGRpZFdhcm5BYm91dFJlY2VpdmluZ1N0b3JlID0gdHJ1ZVxuXG4gIHdhcm5pbmcoXG4gICAgJzxQcm92aWRlcj4gZG9lcyBub3Qgc3VwcG9ydCBjaGFuZ2luZyBgc3RvcmVgIG9uIHRoZSBmbHkuICcgK1xuICAgICdJdCBpcyBtb3N0IGxpa2VseSB0aGF0IHlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSB1cGRhdGVkIHRvICcgK1xuICAgICdSZWR1eCAyLnggYW5kIFJlYWN0IFJlZHV4IDIueCB3aGljaCBubyBsb25nZXIgaG90IHJlbG9hZCByZWR1Y2VycyAnICtcbiAgICAnYXV0b21hdGljYWxseS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJlZHV4L3JlbGVhc2VzLycgK1xuICAgICd0YWcvdjIuMC4wIGZvciB0aGUgbWlncmF0aW9uIGluc3RydWN0aW9ucy4nXG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHsgc3RvcmU6IHRoaXMuc3RvcmUgfVxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dClcbiAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pXG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgY29uc3QgeyBzdG9yZSB9ID0gdGhpc1xuICAgIGNvbnN0IHsgc3RvcmU6IG5leHRTdG9yZSB9ID0gbmV4dFByb3BzXG5cbiAgICBpZiAoc3RvcmUgIT09IG5leHRTdG9yZSkge1xuICAgICAgd2FybkFib3V0UmVjZWl2aW5nU3RvcmUoKVxuICAgIH1cbiAgfVxufVxuXG5Qcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIHN0b3JlOiBzdG9yZVNoYXBlLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkXG59XG5Qcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgc3RvcmU6IHN0b3JlU2hhcGUuaXNSZXF1aXJlZFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvY29tcG9uZW50cy9Qcm92aWRlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqQSlcbiAgY29uc3Qga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKVxuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgY29uc3QgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChvYmpCLCBrZXlzQVtpXSkgfHxcbiAgICAgICAgb2JqQVtrZXlzQVtpXV0gIT09IG9iakJba2V5c0FbaV1dKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9yZWFjdC1yZWR1eC9zcmMvdXRpbHMvc2hhbGxvd0VxdWFsLmpzXG4gKiovIiwiaW1wb3J0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gZnJvbSAncmVkdXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXBBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycykge1xuICByZXR1cm4gZGlzcGF0Y2ggPT4gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaClcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4uL34vcmVhY3QtcmVkdXgvc3JjL3V0aWxzL3dyYXBBY3Rpb25DcmVhdG9ycy5qc1xuICoqLyIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0b3JlU2hhcGUgZnJvbSAnLi4vdXRpbHMvc3RvcmVTaGFwZSdcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnLi4vdXRpbHMvc2hhbGxvd0VxdWFsJ1xuaW1wb3J0IHdyYXBBY3Rpb25DcmVhdG9ycyBmcm9tICcuLi91dGlscy93cmFwQWN0aW9uQ3JlYXRvcnMnXG5pbXBvcnQgd2FybmluZyBmcm9tICcuLi91dGlscy93YXJuaW5nJ1xuaW1wb3J0IGlzUGxhaW5PYmplY3QgZnJvbSAnbG9kYXNoL2lzUGxhaW5PYmplY3QnXG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJ1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnXG5cbmNvbnN0IGRlZmF1bHRNYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe30pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmNvbnN0IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHMgPSBkaXNwYXRjaCA9PiAoeyBkaXNwYXRjaCB9KVxuY29uc3QgZGVmYXVsdE1lcmdlUHJvcHMgPSAoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpID0+ICh7XG4gIC4uLnBhcmVudFByb3BzLFxuICAuLi5zdGF0ZVByb3BzLFxuICAuLi5kaXNwYXRjaFByb3BzXG59KVxuXG5mdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50J1xufVxuXG5sZXQgZXJyb3JPYmplY3QgPSB7IHZhbHVlOiBudWxsIH1cbmZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBjdHgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4uYXBwbHkoY3R4KVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyb3JPYmplY3QudmFsdWUgPSBlXG4gICAgcmV0dXJuIGVycm9yT2JqZWN0XG4gIH1cbn1cblxuLy8gSGVscHMgdHJhY2sgaG90IHJlbG9hZGluZy5cbmxldCBuZXh0VmVyc2lvbiA9IDBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHNob3VsZFN1YnNjcmliZSA9IEJvb2xlYW4obWFwU3RhdGVUb1Byb3BzKVxuICBjb25zdCBtYXBTdGF0ZSA9IG1hcFN0YXRlVG9Qcm9wcyB8fCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzXG5cbiAgbGV0IG1hcERpc3BhdGNoXG4gIGlmICh0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBtYXBEaXNwYXRjaFRvUHJvcHNcbiAgfSBlbHNlIGlmICghbWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gICAgbWFwRGlzcGF0Y2ggPSBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzXG4gIH0gZWxzZSB7XG4gICAgbWFwRGlzcGF0Y2ggPSB3cmFwQWN0aW9uQ3JlYXRvcnMobWFwRGlzcGF0Y2hUb1Byb3BzKVxuICB9XG5cbiAgY29uc3QgZmluYWxNZXJnZVByb3BzID0gbWVyZ2VQcm9wcyB8fCBkZWZhdWx0TWVyZ2VQcm9wc1xuICBjb25zdCB7IHB1cmUgPSB0cnVlLCB3aXRoUmVmID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgY29uc3QgY2hlY2tNZXJnZWRFcXVhbHMgPSBwdXJlICYmIGZpbmFsTWVyZ2VQcm9wcyAhPT0gZGVmYXVsdE1lcmdlUHJvcHNcblxuICAvLyBIZWxwcyB0cmFjayBob3QgcmVsb2FkaW5nLlxuICBjb25zdCB2ZXJzaW9uID0gbmV4dFZlcnNpb24rK1xuXG4gIHJldHVybiBmdW5jdGlvbiB3cmFwV2l0aENvbm5lY3QoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGNvbnN0IGNvbm5lY3REaXNwbGF5TmFtZSA9IGBDb25uZWN0KCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWBcblxuICAgIGZ1bmN0aW9uIGNoZWNrU3RhdGVTaGFwZShwcm9wcywgbWV0aG9kTmFtZSkge1xuICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BzKSkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGAke21ldGhvZE5hbWV9KCkgaW4gJHtjb25uZWN0RGlzcGxheU5hbWV9IG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0LiBgICtcbiAgICAgICAgICBgSW5zdGVhZCByZWNlaXZlZCAke3Byb3BzfS5gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlTWVyZ2VkUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgcGFyZW50UHJvcHMpIHtcbiAgICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZmluYWxNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIHBhcmVudFByb3BzKVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1lcmdlZFByb3BzLCAnbWVyZ2VQcm9wcycpXG4gICAgICB9XG4gICAgICByZXR1cm4gbWVyZ2VkUHJvcHNcbiAgICB9XG5cbiAgICBjbGFzcyBDb25uZWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICFwdXJlIHx8IHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCB8fCB0aGlzLmhhc1N0b3JlU3RhdGVDaGFuZ2VkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KVxuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gICAgICAgIHRoaXMuc3RvcmUgPSBwcm9wcy5zdG9yZSB8fCBjb250ZXh0LnN0b3JlXG5cbiAgICAgICAgaW52YXJpYW50KHRoaXMuc3RvcmUsXG4gICAgICAgICAgYENvdWxkIG5vdCBmaW5kIFwic3RvcmVcIiBpbiBlaXRoZXIgdGhlIGNvbnRleHQgb3IgYCArXG4gICAgICAgICAgYHByb3BzIG9mIFwiJHtjb25uZWN0RGlzcGxheU5hbWV9XCIuIGAgK1xuICAgICAgICAgIGBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBgICtcbiAgICAgICAgICBgb3IgZXhwbGljaXRseSBwYXNzIFwic3RvcmVcIiBhcyBhIHByb3AgdG8gXCIke2Nvbm5lY3REaXNwbGF5TmFtZX1cIi5gXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7IHN0b3JlU3RhdGUgfVxuICAgICAgICB0aGlzLmNsZWFyQ2FjaGUoKVxuICAgICAgfVxuXG4gICAgICBjb21wdXRlU3RhdGVQcm9wcyhzdG9yZSwgcHJvcHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlRmluYWxNYXBTdGF0ZShzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICAgICAgY29uc3Qgc3RhdGVQcm9wcyA9IHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwU3RhdGVUb1Byb3BzKHN0YXRlKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKHN0YXRlUHJvcHMsICdtYXBTdGF0ZVRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZVByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwU3RhdGUoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZFN0YXRlID0gbWFwU3RhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgcHJvcHMpXG4gICAgICAgIGNvbnN0IGlzRmFjdG9yeSA9IHR5cGVvZiBtYXBwZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xuXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBpc0ZhY3RvcnkgPyBtYXBwZWRTdGF0ZSA6IG1hcFN0YXRlXG4gICAgICAgIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wcyA9IHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMubGVuZ3RoICE9PSAxXG5cbiAgICAgICAgaWYgKGlzRmFjdG9yeSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHN0b3JlLCBwcm9wcylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKG1hcHBlZFN0YXRlLCAnbWFwU3RhdGVUb1Byb3BzJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkU3RhdGVcbiAgICAgIH1cblxuICAgICAgY29tcHV0ZURpc3BhdGNoUHJvcHMoc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGlmICghdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gc3RvcmVcbiAgICAgICAgY29uc3QgZGlzcGF0Y2hQcm9wcyA9IHRoaXMuZG9EaXNwYXRjaFByb3BzRGVwZW5kT25Pd25Qcm9wcyA/XG4gICAgICAgICAgdGhpcy5maW5hbE1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgcHJvcHMpIDpcbiAgICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKVxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tTdGF0ZVNoYXBlKGRpc3BhdGNoUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXNwYXRjaFByb3BzXG4gICAgICB9XG5cbiAgICAgIGNvbmZpZ3VyZUZpbmFsTWFwRGlzcGF0Y2goc3RvcmUsIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZERpc3BhdGNoID0gbWFwRGlzcGF0Y2goc3RvcmUuZGlzcGF0Y2gsIHByb3BzKVxuICAgICAgICBjb25zdCBpc0ZhY3RvcnkgPSB0eXBlb2YgbWFwcGVkRGlzcGF0Y2ggPT09ICdmdW5jdGlvbidcblxuICAgICAgICB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzID0gaXNGYWN0b3J5ID8gbWFwcGVkRGlzcGF0Y2ggOiBtYXBEaXNwYXRjaFxuICAgICAgICB0aGlzLmRvRGlzcGF0Y2hQcm9wc0RlcGVuZE9uT3duUHJvcHMgPSB0aGlzLmZpbmFsTWFwRGlzcGF0Y2hUb1Byb3BzLmxlbmd0aCAhPT0gMVxuXG4gICAgICAgIGlmIChpc0ZhY3RvcnkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyhzdG9yZSwgcHJvcHMpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrU3RhdGVTaGFwZShtYXBwZWREaXNwYXRjaCwgJ21hcERpc3BhdGNoVG9Qcm9wcycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZERpc3BhdGNoXG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlUHJvcHMgPSB0aGlzLmNvbXB1dGVTdGF0ZVByb3BzKHRoaXMuc3RvcmUsIHRoaXMucHJvcHMpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlUHJvcHMgJiYgc2hhbGxvd0VxdWFsKG5leHRTdGF0ZVByb3BzLCB0aGlzLnN0YXRlUHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICB1cGRhdGVEaXNwYXRjaFByb3BzSWZOZWVkZWQoKSB7XG4gICAgICAgIGNvbnN0IG5leHREaXNwYXRjaFByb3BzID0gdGhpcy5jb21wdXRlRGlzcGF0Y2hQcm9wcyh0aGlzLnN0b3JlLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaFByb3BzICYmIHNoYWxsb3dFcXVhbChuZXh0RGlzcGF0Y2hQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbmV4dERpc3BhdGNoUHJvcHNcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgdXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpIHtcbiAgICAgICAgY29uc3QgbmV4dE1lcmdlZFByb3BzID0gY29tcHV0ZU1lcmdlZFByb3BzKHRoaXMuc3RhdGVQcm9wcywgdGhpcy5kaXNwYXRjaFByb3BzLCB0aGlzLnByb3BzKVxuICAgICAgICBpZiAodGhpcy5tZXJnZWRQcm9wcyAmJiBjaGVja01lcmdlZEVxdWFscyAmJiBzaGFsbG93RXF1YWwobmV4dE1lcmdlZFByb3BzLCB0aGlzLm1lcmdlZFByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wc1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy51bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgfVxuXG4gICAgICB0cnlTdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmIChzaG91bGRTdWJzY3JpYmUgJiYgIXRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJ5VW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpXG4gICAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy50cnlTdWJzY3JpYmUoKVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoIXB1cmUgfHwgIXNoYWxsb3dFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpKSB7XG4gICAgICAgICAgdGhpcy5oYXZlT3duUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnRyeVVuc3Vic2NyaWJlKClcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKClcbiAgICAgIH1cblxuICAgICAgY2xlYXJDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFByb3BzID0gbnVsbFxuICAgICAgICB0aGlzLnN0YXRlUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMubWVyZ2VkUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXNTdG9yZVN0YXRlQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5oYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IG51bGxcbiAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBEaXNwYXRjaFRvUHJvcHMgPSBudWxsXG4gICAgICAgIHRoaXMuZmluYWxNYXBTdGF0ZVRvUHJvcHMgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgIGNvbnN0IHByZXZTdG9yZVN0YXRlID0gdGhpcy5zdGF0ZS5zdG9yZVN0YXRlXG4gICAgICAgIGlmIChwdXJlICYmIHByZXZTdG9yZVN0YXRlID09PSBzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHVyZSAmJiAhdGhpcy5kb1N0YXRlUHJvcHNEZXBlbmRPbk93blByb3BzKSB7XG4gICAgICAgICAgY29uc3QgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ5Q2F0Y2godGhpcy51cGRhdGVTdGF0ZVByb3BzSWZOZWVkZWQsIHRoaXMpXG4gICAgICAgICAgaWYgKCFoYXZlU3RhdGVQcm9wc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID09PSBlcnJvck9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvciA9IGVycm9yT2JqZWN0LnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGF2ZVN0YXRlUHJvcHNCZWVuUHJlY2FsY3VsYXRlZCA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdG9yZVN0YXRlIH0pXG4gICAgICB9XG5cbiAgICAgIGdldFdyYXBwZWRJbnN0YW5jZSgpIHtcbiAgICAgICAgaW52YXJpYW50KHdpdGhSZWYsXG4gICAgICAgICAgYFRvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgeW91IG5lZWQgdG8gc3BlY2lmeSBgICtcbiAgICAgICAgICBgeyB3aXRoUmVmOiB0cnVlIH0gYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCBvZiB0aGUgY29ubmVjdCgpIGNhbGwuYFxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcy53cmFwcGVkSW5zdGFuY2VcbiAgICAgIH1cblxuICAgICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaGF2ZU93blByb3BzQ2hhbmdlZCxcbiAgICAgICAgICBoYXNTdG9yZVN0YXRlQ2hhbmdlZCxcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkLFxuICAgICAgICAgIHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yLFxuICAgICAgICAgIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9ID0gdGhpc1xuXG4gICAgICAgIHRoaXMuaGF2ZU93blByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuaGFzU3RvcmVTdGF0ZUNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLmhhdmVTdGF0ZVByb3BzQmVlblByZWNhbGN1bGF0ZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yID0gbnVsbFxuXG4gICAgICAgIGlmIChzdGF0ZVByb3BzUHJlY2FsY3VsYXRpb25FcnJvcikge1xuICAgICAgICAgIHRocm93IHN0YXRlUHJvcHNQcmVjYWxjdWxhdGlvbkVycm9yXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlU3RhdGVQcm9wcyA9IHRydWVcbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMgPSB0cnVlXG4gICAgICAgIGlmIChwdXJlICYmIHJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgIHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMgPSBoYXNTdG9yZVN0YXRlQ2hhbmdlZCB8fCAoXG4gICAgICAgICAgICBoYXZlT3duUHJvcHNDaGFuZ2VkICYmIHRoaXMuZG9TdGF0ZVByb3BzRGVwZW5kT25Pd25Qcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgICBzaG91bGRVcGRhdGVEaXNwYXRjaFByb3BzID1cbiAgICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWQgJiYgdGhpcy5kb0Rpc3BhdGNoUHJvcHNEZXBlbmRPbk93blByb3BzXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgbGV0IGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGlmIChoYXZlU3RhdGVQcm9wc0JlZW5QcmVjYWxjdWxhdGVkKSB7XG4gICAgICAgICAgaGF2ZVN0YXRlUHJvcHNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZFVwZGF0ZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICBoYXZlU3RhdGVQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZVN0YXRlUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZURpc3BhdGNoUHJvcHMpIHtcbiAgICAgICAgICBoYXZlRGlzcGF0Y2hQcm9wc0NoYW5nZWQgPSB0aGlzLnVwZGF0ZURpc3BhdGNoUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRydWVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhdmVTdGF0ZVByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVEaXNwYXRjaFByb3BzQ2hhbmdlZCB8fFxuICAgICAgICAgIGhhdmVPd25Qcm9wc0NoYW5nZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IHRoaXMudXBkYXRlTWVyZ2VkUHJvcHNJZk5lZWRlZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGF2ZU1lcmdlZFByb3BzQ2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhdmVNZXJnZWRQcm9wc0NoYW5nZWQgJiYgcmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcmVkRWxlbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpdGhSZWYpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4udGhpcy5tZXJnZWRQcm9wcyxcbiAgICAgICAgICAgIHJlZjogJ3dyYXBwZWRJbnN0YW5jZSdcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50ID0gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LFxuICAgICAgICAgICAgdGhpcy5tZXJnZWRQcm9wc1xuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVkRWxlbWVudFxuICAgICAgfVxuICAgIH1cblxuICAgIENvbm5lY3QuZGlzcGxheU5hbWUgPSBjb25uZWN0RGlzcGxheU5hbWVcbiAgICBDb25uZWN0LldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50XG4gICAgQ29ubmVjdC5jb250ZXh0VHlwZXMgPSB7XG4gICAgICBzdG9yZTogc3RvcmVTaGFwZVxuICAgIH1cbiAgICBDb25uZWN0LnByb3BUeXBlcyA9IHtcbiAgICAgIHN0b3JlOiBzdG9yZVNoYXBlXG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIENvbm5lY3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBhcmUgaG90IHJlbG9hZGluZyFcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvblxuICAgICAgICB0aGlzLnRyeVN1YnNjcmliZSgpXG4gICAgICAgIHRoaXMuY2xlYXJDYWNoZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvaXN0U3RhdGljcyhDb25uZWN0LCBXcmFwcGVkQ29tcG9uZW50KVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy9jb21wb25lbnRzL2Nvbm5lY3QuanNcbiAqKi8iLCJpbXBvcnQgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgUHJvcFR5cGVzLnNoYXBlKHtcbiAgc3Vic2NyaWJlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0U3RhdGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L3JlYWN0LXJlZHV4L3NyYy91dGlscy9zdG9yZVNoYXBlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzXG4gKiovIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0IGluIElFIDwgOS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkge1xuICAvLyBNYW55IGhvc3Qgb2JqZWN0cyBhcmUgYE9iamVjdGAgb2JqZWN0cyB0aGF0IGNhbiBjb2VyY2UgdG8gc3RyaW5nc1xuICAvLyBkZXNwaXRlIGhhdmluZyBpbXByb3Blcmx5IGRlZmluZWQgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9ICEhKHZhbHVlICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0hvc3RPYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiovIiwiLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvdG90eXBlKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGUoT2JqZWN0KHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi4vfi9sb2Rhc2gvX2dldFByb3RvdHlwZS5qc1xuICoqLyIsInZhciBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc0hvc3RPYmplY3QgPSByZXF1aXJlKCcuL19pc0hvc3RPYmplY3QnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHxcbiAgICAgIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpICE9IG9iamVjdFRhZyB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUGxhaW5PYmplY3Q7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBjb250ZXh0VHlwZXM6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBtaXhpbnM6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxuICAgIHR5cGU6IHRydWVcbn07XG5cbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICAgIG5hbWU6IHRydWUsXG4gICAgbGVuZ3RoOiB0cnVlLFxuICAgIHByb3RvdHlwZTogdHJ1ZSxcbiAgICBjYWxsZXI6IHRydWUsXG4gICAgYXJndW1lbnRzOiB0cnVlLFxuICAgIGFyaXR5OiB0cnVlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7IC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghUkVBQ1RfU1RBVElDU1trZXlzW2ldXSAmJiAhS05PV05fU1RBVElDU1trZXlzW2ldXSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENvbXBvbmVudFtrZXlzW2ldXSA9IHNvdXJjZUNvbXBvbmVudFtrZXlzW2ldXTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzL2luZGV4LmpzXG4gKiovIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOVjtcblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuLi9+L2ludmFyaWFudC9pbnZhcmlhbnQuanNcbiAqKi8iLCIvKiogQ29weSBvd24tcHJvcGVydGllcyBmcm9tIGBwcm9wc2Agb250byBgb2JqYC5cbiAqXHRAcmV0dXJucyBvYmpcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcblx0aWYgKHByb3BzKSB7XG5cdFx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdFx0aWYgKHByb3BzW2ldIT09dW5kZWZpbmVkKSB7XG5cdFx0XHRcdG9ialtpXSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBGYXN0IGNsb25lLiBOb3RlOiBkb2VzIG5vdCBmaWx0ZXIgb3V0IG5vbi1vd24gcHJvcGVydGllcy5cbiAqXHRAc2VlIGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTZiYWEzNGY0NWRmNjg5NTAwMmUwM2I2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcblx0cmV0dXJuIGV4dGVuZCh7fSwgb2JqKTtcbn1cblxuXG4vKiogR2V0IGEgZGVlcCBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBvYmplY3QsIGV4cHJlc3NlZCBpbiBkb3Qtbm90YXRpb24uXG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbHZlKG9iaiwga2V5KSB7XG5cdGZvciAobGV0IHA9a2V5LnNwbGl0KCcuJyksIGk9MDsgaTxwLmxlbmd0aCAmJiBvYmo7IGkrKykge1xuXHRcdG9iaiA9IG9ialtwW2ldXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5cbi8qKiBDb252ZXJ0IGFuIEFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIEFycmF5XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcblx0cmV0dXJuIFtdLnNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgRnVuY3Rpb24/ICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuICdmdW5jdGlvbic9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBAcHJpdmF0ZSBpcyB0aGUgZ2l2ZW4gb2JqZWN0IGEgU3RyaW5nPyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuXHRyZXR1cm4gJ3N0cmluZyc9PT10eXBlb2Ygb2JqO1xufVxuXG5cbi8qKiBDaGVjayBpZiBhIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoeCkge1xuXHRyZXR1cm4geD09PXVuZGVmaW5lZCB8fCB4PT09bnVsbDtcbn1cblxuXG4vKiogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBleHBsaWNpdGx5IGBmYWxzZWAuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsc2V5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZT09PWZhbHNlIHx8IGVtcHR5KHZhbHVlKTtcbn1cblxuXG4vKiogQ29udmVydCBhIGhhc2htYXAgb2YgQ1NTIGNsYXNzZXMgdG8gYSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NOYW1lIHN0cmluZ1xuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoVG9DbGFzc05hbWUoYykge1xuXHRsZXQgc3RyID0gJyc7XG5cdGZvciAobGV0IHByb3AgaW4gYykge1xuXHRcdGlmIChjW3Byb3BdKSB7XG5cdFx0XHRpZiAoc3RyKSBzdHIgKz0gJyAnO1xuXHRcdFx0c3RyICs9IHByb3A7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG5cblxuLyoqIEp1c3QgYSBtZW1vaXplZCBTdHJpbmcjdG9Mb3dlckNhc2UgKi9cbmxldCBsY0NhY2hlID0ge307XG5leHBvcnQgY29uc3QgdG9Mb3dlckNhc2UgPSBzID0+IGxjQ2FjaGVbc10gfHwgKGxjQ2FjaGVbc10gPSBzLnRvTG93ZXJDYXNlKCkpO1xuXG5cbi8qKiBDYWxsIGEgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHksIGFzIHNvb24gYXMgcG9zc2libGUuXG4gKlx0QHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xubGV0IHJlc29sdmVkID0gdHlwZW9mIFByb21pc2UhPT0ndW5kZWZpbmVkJyAmJiBQcm9taXNlLnJlc29sdmUoKTtcbmV4cG9ydCBjb25zdCBzZXRJbW1lZGlhdGUgPSByZXNvbHZlZCA/IChmID0+IHsgcmVzb2x2ZWQudGhlbihmKTsgfSkgOiBzZXRUaW1lb3V0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdXRpbC5qc1xuICoqLyIsImltcG9ydCB7IFZOb2RlIH0gZnJvbSAnLi92bm9kZSc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgZmFsc2V5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzaFRvQ2xhc3NOYW1lIH0gZnJvbSAnLi91dGlsJztcblxuXG5jb25zdCBTSEFSRURfVEVNUF9BUlJBWSA9IFtdO1xuXG5cbi8qKiBKU1gvaHlwZXJzY3JpcHQgcmV2aXZlclxuICpcdEBzZWUgaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4XG4gKlx0QHB1YmxpY1xuICogIEBleGFtcGxlXG4gKiAgLyoqIEBqc3ggaCAqXFwvXG4gKiAgaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbiAqICByZW5kZXIoPHNwYW4+Zm9vPC9zcGFuPiwgZG9jdW1lbnQuYm9keSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lLCBhdHRyaWJ1dGVzLCBmaXJzdENoaWxkKSB7XG5cdGxldCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGNoaWxkcmVuLCBhcnIsIGxhc3RTaW1wbGU7XG5cblxuXHRpZiAobGVuPjIpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVvZiBmaXJzdENoaWxkO1xuXHRcdGlmIChsZW49PT0zICYmIHR5cGUhPT0nb2JqZWN0JyAmJiB0eXBlIT09J2Z1bmN0aW9uJykge1xuXHRcdFx0aWYgKCFmYWxzZXkoZmlyc3RDaGlsZCkpIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbU3RyaW5nKGZpcnN0Q2hpbGQpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjaGlsZHJlbiA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgaT0yOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdGxldCBwID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRpZiAoZmFsc2V5KHApKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHAuam9pbikgYXJyID0gcDtcblx0XHRcdFx0ZWxzZSAoYXJyID0gU0hBUkVEX1RFTVBfQVJSQVkpWzBdID0gcDtcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPGFyci5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGxldCBjaGlsZCA9IGFycltqXSxcblx0XHRcdFx0XHRcdHNpbXBsZSA9ICEoZmFsc2V5KGNoaWxkKSB8fCBpc0Z1bmN0aW9uKGNoaWxkKSB8fCBjaGlsZCBpbnN0YW5jZW9mIFZOb2RlKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmICFpc1N0cmluZyhjaGlsZCkpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcblx0XHRcdFx0XHRpZiAoc2ltcGxlICYmIGxhc3RTaW1wbGUpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aC0xXSArPSBjaGlsZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWZhbHNleShjaGlsZCkpIHtcblx0XHRcdFx0XHRcdGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXHRcdFx0XHRcdFx0bGFzdFNpbXBsZSA9IHNpbXBsZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZWxzZSBpZiAoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGgobm9kZU5hbWUsIGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHR9XG5cblx0aWYgKGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlcy5jaGlsZHJlbikge1xuXHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2hpbGRyZW47XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Z1bmN0aW9uKG5vZGVOYW1lKSkge1xuXHRcdFx0Ly8gbm9ybWFsaXplIGNsYXNzTmFtZSB0byBjbGFzcy5cblx0XHRcdGlmICgnY2xhc3NOYW1lJyBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcblx0XHRcdFx0ZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHRsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5jbGFzcztcblx0XHRcdGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gaGFzaFRvQ2xhc3NOYW1lKGxhc3RTaW1wbGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsYXN0U2ltcGxlID0gYXR0cmlidXRlcy5zdHlsZTtcblx0XHRcdC8vIGlmIChsYXN0U2ltcGxlICYmICFpc1N0cmluZyhsYXN0U2ltcGxlKSkge1xuXHRcdFx0Ly8gXHRhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVPYmpUb0NzcyhsYXN0U2ltcGxlKTtcblx0XHRcdC8vIH1cblx0XHR9XG5cdH1cblxuXHRsZXQgcCA9IG5ldyBWTm9kZShub2RlTmFtZSwgYXR0cmlidXRlcyB8fCB1bmRlZmluZWQsIGNoaWxkcmVuKTtcblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUocCk7XG5cdHJldHVybiBwO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvaC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIHRvQXJyYXkgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgaCB9IGZyb20gJy4vaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG5cdHJldHVybiBoKFxuXHRcdHZub2RlLm5vZGVOYW1lLFxuXHRcdGV4dGVuZChjbG9uZSh2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLFxuXHRcdGFyZ3VtZW50cy5sZW5ndGg+MiA/IHRvQXJyYXkoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuXG5cdCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9jbG9uZS1lbGVtZW50LmpzXG4gKiovIiwiaW1wb3J0IHsgZW1wdHksIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBkZWx2ZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKiBDcmVhdGUgYW4gRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB0aGF0IHNldHMgYSBnaXZlbiBzdGF0ZSBwcm9wZXJ0eS5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XHRUaGUgY29tcG9uZW50IHdob3NlIHN0YXRlIHNob3VsZCBiZSB1cGRhdGVkXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0QSBkb3Qtbm90YXRlZCBrZXkgcGF0aCB0byB1cGRhdGUgaW4gdGhlIGNvbXBvbmVudCdzIHN0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IGV2ZW50UGF0aFx0XHRBIGRvdC1ub3RhdGVkIGtleSBwYXRoIHRvIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRXZlbnQgb3IgY29tcG9uZW50XG4gKlx0QHJldHVybnMge2Z1bmN0aW9ufSBsaW5rZWRTdGF0ZUhhbmRsZXJcbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGlua2VkU3RhdGUoY29tcG9uZW50LCBrZXksIGV2ZW50UGF0aCkge1xuXHRsZXQgcGF0aCA9IGtleS5zcGxpdCgnLicpLFxuXHRcdHAwID0gcGF0aFswXTtcblx0cmV0dXJuIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0IHx8IHRoaXMsXG5cdFx0XHRzID0gY29tcG9uZW50LnN0YXRlLFxuXHRcdFx0b2JqID0gcyxcblx0XHRcdHYsIGk7XG5cdFx0aWYgKGlzU3RyaW5nKGV2ZW50UGF0aCkpIHtcblx0XHRcdHYgPSBkZWx2ZShlLCBldmVudFBhdGgpO1xuXHRcdFx0aWYgKGVtcHR5KHYpICYmICh0PXQuX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0diA9IGRlbHZlKHQsIGV2ZW50UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0diA9IHQubm9kZU5hbWUgPyAoKHQubm9kZU5hbWUrdC50eXBlKS5tYXRjaCgvXmlucHV0KGNoZWNrfHJhZCkvaSkgPyB0LmNoZWNrZWQgOiB0LnZhbHVlKSA6IGU7XG5cdFx0fVxuXHRcdGlmIChpc0Z1bmN0aW9uKHYpKSB2ID0gdi5jYWxsKHQpO1xuXHRcdGlmIChwYXRoLmxlbmd0aD4xKSB7XG5cdFx0XHRmb3IgKGk9MDsgaTxwYXRoLmxlbmd0aC0xOyBpKyspIHtcblx0XHRcdFx0b2JqID0gb2JqW3BhdGhbaV1dIHx8IChvYmpbcGF0aFtpXV0gPSB7fSk7XG5cdFx0XHR9XG5cdFx0XHRvYmpbcGF0aFtpXV0gPSB2O1xuXHRcdFx0diA9IHNbcDBdO1xuXHRcdH1cblx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBbcDBdOiB2IH0pO1xuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvbGlua2VkLXN0YXRlLmpzXG4gKiovIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNldEltbWVkaWF0ZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3Zkb20vY29tcG9uZW50JztcblxuLyoqIE1hbmFnZWQgcXVldWUgb2YgZGlydHkgY29tcG9uZW50cyB0byBiZSByZS1yZW5kZXJlZCAqL1xuXG4vLyBpdGVtcy9pdGVtc09mZmxpbmUgc3dhcCBvbiBlYWNoIHJlcmVuZGVyKCkgY2FsbCAoanVzdCBhIHNpbXBsZSBwb29sIHRlY2huaXF1ZSlcbmxldCBpdGVtcyA9IFtdLFxuXHRpdGVtc09mZmxpbmUgPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWVSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmIChpdGVtcy5wdXNoKGNvbXBvbmVudCkhPT0xKSByZXR1cm47XG5cblx0KG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgfHwgc2V0SW1tZWRpYXRlKShyZXJlbmRlcik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHRpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuO1xuXG5cdGxldCBjdXJyZW50SXRlbXMgPSBpdGVtcyxcblx0XHRwO1xuXG5cdC8vIHN3YXAgb25saW5lICYgb2ZmbGluZVxuXHRpdGVtcyA9IGl0ZW1zT2ZmbGluZTtcblx0aXRlbXNPZmZsaW5lID0gY3VycmVudEl0ZW1zO1xuXG5cdHdoaWxlICggKHAgPSBjdXJyZW50SXRlbXMucG9wKCkpICkge1xuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXItcXVldWUuanNcbiAqKi8iLCJpbXBvcnQgeyBBVFRSX0tFWSwgTk9OX0RJTUVOU0lPTl9QUk9QUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IHRvTG93ZXJDYXNlLCBlbXB0eSwgZmFsc2V5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb2RlRGF0YShub2RlLCBkYXRhKSB7XG5cdHJldHVybiBub2RlW0FUVFJfS0VZXSB8fCAobm9kZVtBVFRSX0tFWV0gPSAoZGF0YSB8fCB7fSkpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHlwZShub2RlKSB7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkgcmV0dXJuIDM7XG5cdGlmIChub2RlIGluc3RhbmNlb2YgRWxlbWVudCkgcmV0dXJuIDE7XG5cdHJldHVybiAwO1xufVxuXG5cbi8qKiBSZW1vdmVzIGEgZ2l2ZW4gRE9NIE5vZGUgZnJvbSBpdHMgcGFyZW50LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuXHRsZXQgcCA9IG5vZGUucGFyZW50Tm9kZTtcblx0aWYgKHApIHAucmVtb3ZlQ2hpbGQobm9kZSk7XG59XG5cblxuLyoqIFNldCBhIG5hbWVkIGF0dHJpYnV0ZSBvbiB0aGUgZ2l2ZW4gTm9kZSwgd2l0aCBzcGVjaWFsIGJlaGF2aW9yIGZvciBzb21lIG5hbWVzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXHRJZiBgdmFsdWVgIGlzIGBudWxsYCwgdGhlIGF0dHJpYnV0ZS9oYW5kbGVyIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcdEFuIGVsZW1lbnQgdG8gbXV0YXRlXG4gKlx0QHBhcmFtIHtzdHJpbmd9IG5hbWVcdFRoZSBuYW1lL2tleSB0byBzZXQsIHN1Y2ggYXMgYW4gZXZlbnQgb3IgYXR0cmlidXRlIG5hbWVcbiAqXHRAcGFyYW0ge2FueX0gdmFsdWVcdFx0QW4gYXR0cmlidXRlIHZhbHVlLCBzdWNoIGFzIGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyXG4gKlx0QHBhcmFtIHthbnl9IHByZXZpb3VzVmFsdWVcdFRoZSBsYXN0IHZhbHVlIHRoYXQgd2FzIHNldCBmb3IgdGhpcyBuYW1lL25vZGUgcGFpclxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCB2YWx1ZSwgb2xkLCBpc1N2Zykge1xuXHRlbnN1cmVOb2RlRGF0YShub2RlKVtuYW1lXSA9IHZhbHVlO1xuXG5cdGlmIChuYW1lPT09J2tleScgfHwgbmFtZT09PSdjaGlsZHJlbicpIHJldHVybjtcblxuXHRpZiAobmFtZT09PSdjbGFzcycgJiYgIWlzU3ZnKSB7XG5cdFx0bm9kZS5jbGFzc05hbWUgPSB2YWx1ZSB8fCAnJztcblx0fVxuXHRlbHNlIGlmIChuYW1lPT09J3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgaXNTdHJpbmcodmFsdWUpIHx8IGlzU3RyaW5nKG9sZCkpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xuXHRcdH1cblx0XHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlPT09J29iamVjdCcpIHtcblx0XHRcdGlmICghaXNTdHJpbmcob2xkKSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIG9sZCkgaWYgKCEoaSBpbiB2YWx1ZSkpIG5vZGUuc3R5bGVbaV0gPSAnJztcblx0XHRcdH1cblx0XHRcdGZvciAobGV0IGkgaW4gdmFsdWUpIHtcblx0XHRcdFx0bm9kZS5zdHlsZVtpXSA9IHR5cGVvZiB2YWx1ZVtpXT09PSdudW1iZXInICYmICFOT05fRElNRU5TSU9OX1BST1BTW2ldID8gKHZhbHVlW2ldKydweCcpIDogdmFsdWVbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGVsc2UgaWYgKG5hbWU9PT0nZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbDtcblx0fVxuXHRlbHNlIGlmIChuYW1lWzBdPT09J28nICYmIG5hbWVbMV09PT0nbicpIHtcblx0XHRsZXQgbCA9IG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pO1xuXHRcdG5hbWUgPSB0b0xvd2VyQ2FzZShuYW1lLnN1YnN0cmluZygyKSk7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIWxbbmFtZV0pIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5KTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAobFtuYW1lXSkge1xuXHRcdFx0bm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHkpO1xuXHRcdH1cblx0XHRsW25hbWVdID0gdmFsdWU7XG5cdH1cblx0ZWxzZSBpZiAobmFtZSE9PSd0eXBlJyAmJiAhaXNTdmcgJiYgbmFtZSBpbiBub2RlKSB7XG5cdFx0c2V0UHJvcGVydHkobm9kZSwgbmFtZSwgZW1wdHkodmFsdWUpID8gJycgOiB2YWx1ZSk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxldCBucyA9IGlzU3ZnICYmIG5hbWUubWF0Y2goL154bGlua1xcOj8oLispLyk7XG5cdFx0aWYgKGZhbHNleSh2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5yZW1vdmVBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSk7XG5cdFx0XHRlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH1cblx0XHRlbHNlIGlmICh0eXBlb2YgdmFsdWUhPT0nb2JqZWN0JyAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0XHRcdGlmIChucykgbm9kZS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIHRvTG93ZXJDYXNlKG5zWzFdKSwgdmFsdWUpO1xuXHRcdFx0ZWxzZSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqIEF0dGVtcHQgdG8gc2V0IGEgRE9NIHByb3BlcnR5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXHRJRSAmIEZGIHRocm93IGZvciBjZXJ0YWluIHByb3BlcnR5LXZhbHVlIGNvbWJpbmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkobm9kZSwgbmFtZSwgdmFsdWUpIHtcblx0dHJ5IHtcblx0XHRub2RlW25hbWVdID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5cbi8qKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqXHRAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGVdKG9wdGlvbnMuZXZlbnQgJiYgb3B0aW9ucy5ldmVudChlKSB8fCBlKTtcbn1cblxuXG4vKiogR2V0IGEgbm9kZSdzIGF0dHJpYnV0ZXMgYXMgYSBoYXNobWFwLlxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSB7XG5cdGxldCBhdHRycyA9IHt9O1xuXHRmb3IgKGxldCBpPW5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0YXR0cnNbbm9kZS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gbm9kZS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBhdHRycztcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vfi9wcmVhY3Qvc3JjL2RvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IGNsb25lLCBleHRlbmQsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCB0b0xvd2VyQ2FzZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbmFsQ29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXROb2RlVHlwZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIENoZWNrIGlmIHR3byBub2RlcyBhcmUgZXF1aXZhbGVudC5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVOb2RlVHlwZShub2RlLCB2bm9kZSkge1xuXHRpZiAoaXNTdHJpbmcodm5vZGUpKSB7XG5cdFx0cmV0dXJuIGdldE5vZGVUeXBlKG5vZGUpPT09Mztcblx0fVxuXHRpZiAoaXNTdHJpbmcodm5vZGUubm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRpZiAoaXNGdW5jdGlvbih2bm9kZS5ub2RlTmFtZSkpIHtcblx0XHRyZXR1cm4gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3I9PT12bm9kZS5ub2RlTmFtZSB8fCBpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpO1xuXHR9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFtZWROb2RlKG5vZGUsIG5vZGVOYW1lKSB7XG5cdHJldHVybiBub2RlLm5vcm1hbGl6ZWROb2RlTmFtZT09PW5vZGVOYW1lIHx8IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpPT09dG9Mb3dlckNhc2Uobm9kZU5hbWUpO1xufVxuXG5cbi8qKlxuICogUmVjb25zdHJ1Y3QgQ29tcG9uZW50LXN0eWxlIGBwcm9wc2AgZnJvbSBhIFZOb2RlLlxuICogRW5zdXJlcyBkZWZhdWx0L2ZhbGxiYWNrIHZhbHVlcyBmcm9tIGBkZWZhdWx0UHJvcHNgOlxuICogT3duLXByb3BlcnRpZXMgb2YgYGRlZmF1bHRQcm9wc2Agbm90IHByZXNlbnQgaW4gYHZub2RlLmF0dHJpYnV0ZXNgIGFyZSBhZGRlZC5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVByb3BzKHZub2RlKSB7XG5cdGxldCBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHMsXG5cdFx0cHJvcHMgPSBjbG9uZShkZWZhdWx0UHJvcHMgfHwgdm5vZGUuYXR0cmlidXRlcyk7XG5cblx0aWYgKGRlZmF1bHRQcm9wcykgZXh0ZW5kKHByb3BzLCB2bm9kZS5hdHRyaWJ1dGVzKTtcblxuXHRpZiAodm5vZGUuY2hpbGRyZW4pIHByb3BzLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG5cblx0cmV0dXJuIHByb3BzO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9pbmRleC5qc1xuICoqLyIsImltcG9ydCB7IHRvTG93ZXJDYXNlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnN1cmVOb2RlRGF0YSwgZ2V0Tm9kZVR5cGUsIGdldFJhd05vZGVBdHRyaWJ1dGVzLCByZW1vdmVOb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKiBET00gbm9kZSBwb29sLCBrZXllZCBvbiBub2RlTmFtZS4gKi9cblxuY29uc3Qgbm9kZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3ROb2RlKG5vZGUpIHtcblx0Y2xlYW5Ob2RlKG5vZGUpO1xuXHRsZXQgbmFtZSA9IHRvTG93ZXJDYXNlKG5vZGUubm9kZU5hbWUpLFxuXHRcdGxpc3QgPSBub2Rlc1tuYW1lXTtcblx0aWYgKGxpc3QpIGxpc3QucHVzaChub2RlKTtcblx0ZWxzZSBub2Rlc1tuYW1lXSA9IFtub2RlXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmcpIHtcblx0bGV0IG5hbWUgPSB0b0xvd2VyQ2FzZShub2RlTmFtZSksXG5cdFx0bm9kZSA9IG5vZGVzW25hbWVdICYmIG5vZGVzW25hbWVdLnBvcCgpIHx8IChpc1N2ZyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKSk7XG5cdGVuc3VyZU5vZGVEYXRhKG5vZGUpO1xuXHRub2RlLm5vcm1hbGl6ZWROb2RlTmFtZSA9IG5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG5cdHJlbW92ZU5vZGUobm9kZSk7XG5cblx0aWYgKGdldE5vZGVUeXBlKG5vZGUpIT09MSkgcmV0dXJuO1xuXG5cdC8vIFdoZW4gcmVjbGFpbWluZyBleHRlcm5hbGx5IGNyZWF0ZWQgbm9kZXMsIHNlZWQgdGhlIGF0dHJpYnV0ZSBjYWNoZTogKElzc3VlICM5NylcblxuXHRlbnN1cmVOb2RlRGF0YShub2RlLCBnZXRSYXdOb2RlQXR0cmlidXRlcyhub2RlKSk7XG5cblx0bm9kZS5fY29tcG9uZW50ID0gbm9kZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBudWxsO1xuXG5cdC8vIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoPjApIHtcblx0Ly8gXHRjb25zb2xlLnRyYWNlKGBXYXJuaW5nOiBSZWN5Y2xlciBjb2xsZWN0aW5nIDwke25vZGUubm9kZU5hbWV9PiB3aXRoICR7bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH0gY2hpbGRyZW4uYCk7XG5cdC8vIFx0Zm9yIChsZXQgaT1ub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpLS07ICkgY29sbGVjdE5vZGUobm9kZS5jaGlsZE5vZGVzW2ldKTtcblx0Ly8gfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvZG9tL3JlY3ljbGVyLmpzXG4gKiovIiwiaW1wb3J0IHsgQVRUUl9LRVkgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdG9Mb3dlckNhc2UsIGVtcHR5LCBpc1N0cmluZywgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNTYW1lTm9kZVR5cGUsIGlzTmFtZWROb2RlIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgYnVpbGRDb21wb25lbnRGcm9tVk5vZGUgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBzZXRBY2Nlc3NvciwgZ2V0UmF3Tm9kZUF0dHJpYnV0ZXMsIGdldE5vZGVUeXBlIH0gZnJvbSAnLi4vZG9tL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZU5vZGUsIGNvbGxlY3ROb2RlIH0gZnJvbSAnLi4vZG9tL3JlY3ljbGVyJztcbmltcG9ydCB7IHVubW91bnRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cblxuLyoqIERpZmYgcmVjdXJzaW9uIGNvdW50LCB1c2VkIHRvIHRyYWNrIHRoZSBlbmQgb2YgdGhlIGRpZmYgY3ljbGUuICovXG5leHBvcnQgY29uc3QgbW91bnRzID0gW107XG5cbi8qKiBEaWZmIHJlY3Vyc2lvbiBjb3VudCwgdXNlZCB0byB0cmFjayB0aGUgZW5kIG9mIHRoZSBkaWZmIGN5Y2xlLiAqL1xuZXhwb3J0IGxldCBkaWZmTGV2ZWwgPSAwO1xuXG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoTW91bnRzKCkge1xuXHRsZXQgYztcblx0d2hpbGUgKChjPW1vdW50cy5wb3AoKSkpIHtcblx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCkgYy5jb21wb25lbnREaWRNb3VudCgpO1xuXHR9XG59XG5cblxuLyoqIEFwcGx5IGRpZmZlcmVuY2VzIGluIGEgZ2l2ZW4gdm5vZGUgKGFuZCBpdCdzIGRlZXAgY2hpbGRyZW4pIHRvIGEgcmVhbCBET00gTm9kZS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IFtkb209bnVsbF1cdFx0QSBET00gbm9kZSB0byBtdXRhdGUgaW50byB0aGUgc2hhcGUgb2YgdGhlIGB2bm9kZWBcbiAqXHRAcGFyYW0ge1ZOb2RlfSB2bm9kZVx0XHRcdEEgVk5vZGUgKHdpdGggZGVzY2VuZGFudHMgZm9ybWluZyBhIHRyZWUpIHJlcHJlc2VudGluZyB0aGUgZGVzaXJlZCBET00gc3RydWN0dXJlXG4gKlx0QHJldHVybnMge0VsZW1lbnR9IGRvbVx0XHRcdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBwYXJlbnQpIHtcblx0ZGlmZkxldmVsKys7XG5cdGxldCByZXQgPSBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdGlmIChwYXJlbnQgJiYgcmV0LnBhcmVudE5vZGUhPT1wYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXHRpZiAoIS0tZGlmZkxldmVsKSBmbHVzaE1vdW50cygpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5cbmZ1bmN0aW9uIGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBvcmlnaW5hbEF0dHJpYnV0ZXMgPSB2bm9kZSAmJiB2bm9kZS5hdHRyaWJ1dGVzO1xuXG5cdHdoaWxlIChpc0Z1bmN0aW9uYWxDb21wb25lbnQodm5vZGUpKSB7XG5cdFx0dm5vZGUgPSBidWlsZEZ1bmN0aW9uYWxDb21wb25lbnQodm5vZGUsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGVtcHR5KHZub2RlKSkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblx0fVxuXG5cdGlmIChpc1N0cmluZyh2bm9kZSkpIHtcblx0XHRpZiAoZG9tKSB7XG5cdFx0XHRpZiAoZ2V0Tm9kZVR5cGUoZG9tKT09PTMgJiYgZG9tLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0aWYgKGRvbS5ub2RlVmFsdWUhPXZub2RlKSB7XG5cdFx0XHRcdFx0ZG9tLm5vZGVWYWx1ZSA9IHZub2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkb207XG5cdFx0XHR9XG5cdFx0XHRjb2xsZWN0Tm9kZShkb20pO1xuXHRcdH1cblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHR9XG5cblx0bGV0IG91dCA9IGRvbSxcblx0XHRub2RlTmFtZSA9IHZub2RlLm5vZGVOYW1lLFxuXHRcdHN2Z01vZGU7XG5cblx0aWYgKGlzRnVuY3Rpb24obm9kZU5hbWUpKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0fVxuXG5cdGlmICghaXNTdHJpbmcobm9kZU5hbWUpKSB7XG5cdFx0bm9kZU5hbWUgPSBTdHJpbmcobm9kZU5hbWUpO1xuXHR9XG5cblx0c3ZnTW9kZSA9IHRvTG93ZXJDYXNlKG5vZGVOYW1lKT09PSdzdmcnO1xuXG5cdGlmIChzdmdNb2RlKSBpc1N2Z01vZGUgPSB0cnVlO1xuXG5cdGlmICghZG9tKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZShub2RlTmFtZSwgaXNTdmdNb2RlKTtcblx0fVxuXHRlbHNlIGlmICghaXNOYW1lZE5vZGUoZG9tLCBub2RlTmFtZSkpIHtcblx0XHRvdXQgPSBjcmVhdGVOb2RlKG5vZGVOYW1lLCBpc1N2Z01vZGUpO1xuXHRcdC8vIG1vdmUgY2hpbGRyZW4gaW50byB0aGUgcmVwbGFjZW1lbnQgbm9kZVxuXHRcdHdoaWxlIChkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHQvLyByZWNsYWltIGVsZW1lbnQgbm9kZXNcblx0XHRyZWNvbGxlY3ROb2RlVHJlZShkb20pO1xuXHR9XG5cblx0Ly8gZmFzdC1wYXRoIGZvciBlbGVtZW50cyBjb250YWluaW5nIGEgc2luZ2xlIFRleHROb2RlOlxuXHRpZiAodm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoPT09MSAmJiB0eXBlb2Ygdm5vZGUuY2hpbGRyZW5bMF09PT0nc3RyaW5nJyAmJiBvdXQuY2hpbGROb2Rlcy5sZW5ndGg9PT0xICYmIG91dC5maXJzdENoaWxkIGluc3RhbmNlb2YgVGV4dCkge1xuXHRcdG91dC5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZub2RlLmNoaWxkcmVuWzBdO1xuXHR9XG5cdGVsc2UgaWYgKHZub2RlLmNoaWxkcmVuIHx8IG91dC5maXJzdENoaWxkKSB7XG5cdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZub2RlLmNoaWxkcmVuLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdH1cblxuXHRkaWZmQXR0cmlidXRlcyhvdXQsIHZub2RlLmF0dHJpYnV0ZXMpO1xuXG5cdGlmIChvcmlnaW5hbEF0dHJpYnV0ZXMgJiYgb3JpZ2luYWxBdHRyaWJ1dGVzLnJlZikge1xuXHRcdChvdXRbQVRUUl9LRVldLnJlZiA9IG9yaWdpbmFsQXR0cmlidXRlcy5yZWYpKG91dCk7XG5cdH1cblxuXHRpZiAoc3ZnTW9kZSkgaXNTdmdNb2RlID0gZmFsc2U7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuXG4vKiogQXBwbHkgY2hpbGQgYW5kIGF0dHJpYnV0ZSBjaGFuZ2VzIGJldHdlZW4gYSBWTm9kZSBhbmQgYSBET00gTm9kZSB0byB0aGUgRE9NLiAqL1xuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2Rlcyxcblx0XHRjaGlsZHJlbiA9IFtdLFxuXHRcdGtleWVkID0ge30sXG5cdFx0a2V5ZWRMZW4gPSAwLFxuXHRcdG1pbiA9IDAsXG5cdFx0bGVuID0gb3JpZ2luYWxDaGlsZHJlbi5sZW5ndGgsXG5cdFx0Y2hpbGRyZW5MZW4gPSAwLFxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gJiYgdmNoaWxkcmVuLmxlbmd0aCxcblx0XHRqLCBjLCB2Y2hpbGQsIGNoaWxkO1xuXG5cdGlmIChsZW4pIHtcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IG9yaWdpbmFsQ2hpbGRyZW5baV0sXG5cdFx0XHRcdGtleSA9IHZsZW4gPyAoKGMgPSBjaGlsZC5fY29tcG9uZW50KSA/IGMuX19rZXkgOiAoYyA9IGNoaWxkW0FUVFJfS0VZXSkgPyBjLmtleSA6IG51bGwpIDogbnVsbDtcblx0XHRcdGlmIChrZXkgfHwga2V5PT09MCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gY2hpbGQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBjaGlsZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAodmxlbikge1xuXHRcdGZvciAobGV0IGk9MDsgaTx2bGVuOyBpKyspIHtcblx0XHRcdHZjaGlsZCA9IHZjaGlsZHJlbltpXTtcblx0XHRcdGNoaWxkID0gbnVsbDtcblxuXHRcdFx0Ly8gaWYgKGlzRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpKSB7XG5cdFx0XHQvLyBcdHZjaGlsZCA9IGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCh2Y2hpbGQpO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIGZpbmQgYSBub2RlIGJhc2VkIG9uIGtleSBtYXRjaGluZ1xuXHRcdFx0aWYgKGtleWVkTGVuICYmIHZjaGlsZC5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xuXHRcdFx0XHRpZiAoIWVtcHR5KGtleSkgJiYga2V5IGluIGtleWVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXG5cdFx0XHRpZiAoIWNoaWxkICYmIG1pbjxjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRmb3IgKGo9bWluOyBqPGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRjID0gY2hpbGRyZW5bal07XG5cdFx0XHRcdFx0aWYgKGMgJiYgaXNTYW1lTm9kZVR5cGUoYywgdmNoaWxkKSkge1xuXHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRpZiAoaj09PWNoaWxkcmVuTGVuLTEpIGNoaWxkcmVuTGVuLS07XG5cdFx0XHRcdFx0XHRpZiAoaj09PW1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gbW9ycGggdGhlIG1hdGNoZWQvZm91bmQvY3JlYXRlZCBET00gY2hpbGQgdG8gbWF0Y2ggdmNoaWxkIChkZWVwKVxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cblx0XHRcdGlmIChjaGlsZCE9PW9yaWdpbmFsQ2hpbGRyZW5baV0pIHtcblx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgb3JpZ2luYWxDaGlsZHJlbltpXSB8fCBudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGlmIChrZXllZExlbikge1xuXHRcdC8qZXNsaW50IGd1YXJkLWZvci1pbjowKi9cblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0pIHtcblx0XHRcdGNoaWxkcmVuW21pbj1jaGlsZHJlbkxlbisrXSA9IGtleWVkW2ldO1xuXHRcdH1cblx0fVxuXG5cdC8vIHJlbW92ZSBvcnBoYW5lZCBjaGlsZHJlblxuXHRpZiAobWluPGNoaWxkcmVuTGVuKSB7XG5cdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbik7XG5cdH1cbn1cblxuXG4vKiogUmVjbGFpbSBjaGlsZHJlbiB0aGF0IHdlcmUgdW5yZWZlcmVuY2VkIGluIHRoZSBkZXNpcmVkIFZUcmVlICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihjaGlsZHJlbiwgdW5tb3VudE9ubHkpIHtcblx0Zm9yIChsZXQgaT1jaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0bGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgdW5tb3VudE9ubHkpO1xuXHRcdH1cblx0fVxufVxuXG5cbi8qKiBSZWNsYWltIGFuIGVudGlyZSB0cmVlIG9mIG5vZGVzLCBzdGFydGluZyBhdCB0aGUgcm9vdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlLCB1bm1vdW50T25seSkge1xuXHQvLyBAVE9ETzogTmVlZCB0byBtYWtlIGEgY2FsbCBvbiB3aGV0aGVyIFByZWFjdCBzaG91bGQgcmVtb3ZlIG5vZGVzIG5vdCBjcmVhdGVkIGJ5IGl0c2VsZi5cblx0Ly8gQ3VycmVudGx5IGl0ICpkb2VzKiByZW1vdmUgdGhlbS4gRGlzY3Vzc2lvbjogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvaXNzdWVzLzM5XG5cdC8vaWYgKCFub2RlW0FUVFJfS0VZXSkgcmV0dXJuO1xuXG5cdGxldCBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCwgIXVubW91bnRPbmx5KTtcblx0fVxuXHRlbHNlIHtcblx0XHRpZiAobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XG5cblx0XHRpZiAoIXVubW91bnRPbmx5KSB7XG5cblx0XHRcdGNvbGxlY3ROb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdGlmIChub2RlLmNoaWxkTm9kZXMgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlT3JwaGFuZWRDaGlsZHJlbihub2RlLmNoaWxkTm9kZXMsIHVubW91bnRPbmx5KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vKiogQXBwbHkgZGlmZmVyZW5jZXMgaW4gYXR0cmlidXRlcyBmcm9tIGEgVk5vZGUgdG8gdGhlIGdpdmVuIERPTSBOb2RlLiAqL1xuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycykge1xuXHRsZXQgb2xkID0gZG9tW0FUVFJfS0VZXSB8fCBnZXRSYXdOb2RlQXR0cmlidXRlcyhkb20pO1xuXG5cdC8vIHJlbW92ZUF0dHJpYnV0ZXMoZG9tLCBvbGQsIGF0dHJzIHx8IEVNUFRZKTtcblx0Zm9yIChsZXQgbmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIWF0dHJzIHx8ICEobmFtZSBpbiBhdHRycykpIHtcblx0XHRcdHNldEFjY2Vzc29yKGRvbSwgbmFtZSwgbnVsbCwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdH1cblx0fVxuXG5cdC8vIG5ldyAmIHVwZGF0ZWRcblx0aWYgKGF0dHJzKSB7XG5cdFx0Zm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuXHRcdFx0aWYgKCEobmFtZSBpbiBvbGQpIHx8IGF0dHJzW25hbWVdIT0obmFtZT09PSd2YWx1ZScgfHwgbmFtZT09PSdzZWxlY3RlZCcgfHwgbmFtZT09PSdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpIHtcblx0XHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBhdHRyc1tuYW1lXSwgb2xkW25hbWVdLCBpc1N2Z01vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9kaWZmLmpzXG4gKiovIiwiLyoqIFJldGFpbnMgYSBwb29sIG9mIENvbXBvbmVudHMgZm9yIHJlLXVzZSwga2V5ZWQgb24gY29tcG9uZW50IG5hbWUuXG4gKlx0Tm90ZTogc2luY2UgY29tcG9uZW50IG5hbWVzIGFyZSBub3QgdW5pcXVlIG9yIGV2ZW4gbmVjZXNzYXJpbHkgYXZhaWxhYmxlLCB0aGVzZSBhcmUgcHJpbWFyaWx5IGEgZm9ybSBvZiBzaGFyZGluZy5cbiAqXHRAcHJpdmF0ZVxuICovXG5jb25zdCBjb21wb25lbnRzID0ge307XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUsXG5cdFx0bGlzdCA9IGNvbXBvbmVudHNbbmFtZV07XG5cdGlmIChsaXN0KSBsaXN0LnB1c2goY29tcG9uZW50KTtcblx0ZWxzZSBjb21wb25lbnRzW25hbWVdID0gW2NvbXBvbmVudF07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBwcm9wcywgY29udGV4dCkge1xuXHRsZXQgaW5zdCA9IG5ldyBDdG9yKHByb3BzLCBjb250ZXh0KSxcblx0XHRsaXN0ID0gY29tcG9uZW50c1tDdG9yLm5hbWVdO1xuXHRpZiAobGlzdCkge1xuXHRcdGZvciAobGV0IGk9bGlzdC5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAobGlzdFtpXS5jb25zdHJ1Y3Rvcj09PUN0b3IpIHtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGxpc3RbaV0ubmV4dEJhc2U7XG5cdFx0XHRcdGxpc3Quc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIGluc3Q7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy92ZG9tL2NvbXBvbmVudC1yZWN5Y2xlci5qc1xuICoqLyIsImltcG9ydCB7IFNZTkNfUkVOREVSLCBOT19SRU5ERVIsIEZPUkNFX1JFTkRFUiwgQVNZTkNfUkVOREVSLCBBVFRSX0tFWSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGNsb25lLCBleHRlbmQsIGVtcHR5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyLXF1ZXVlJztcbmltcG9ydCB7IGdldE5vZGVQcm9wcyB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgZGlmZiwgbW91bnRzLCBkaWZmTGV2ZWwsIGZsdXNoTW91bnRzLCByZW1vdmVPcnBoYW5lZENoaWxkcmVuLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vZGlmZic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uYWxDb21wb25lbnQsIGJ1aWxkRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJy4vZnVuY3Rpb25hbC1jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50LCBjb2xsZWN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQtcmVjeWNsZXInO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL2RvbS9pbmRleCc7XG5cblxuLyoqIE1hcmsgY29tcG9uZW50IGFzIGRpcnR5IGFuZCBxdWV1ZSB1cCBhIHJlbmRlci5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDb21wb25lbnRSZW5kZXIoY29tcG9uZW50KSB7XG5cdGlmICghY29tcG9uZW50Ll9kaXJ0eSkge1xuXHRcdGNvbXBvbmVudC5fZGlydHkgPSB0cnVlO1xuXHRcdGVucXVldWVSZW5kZXIoY29tcG9uZW50KTtcblx0fVxufVxuXG5cblxuLyoqIFNldCBhIGNvbXBvbmVudCdzIGBwcm9wc2AgKGdlbmVyYWxseSBkZXJpdmVkIGZyb20gSlNYIGF0dHJpYnV0ZXMpLlxuICpcdEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICpcdEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlclN5bmM9ZmFsc2VdXHRJZiBgdHJ1ZWAgYW5kIHtAbGluayBvcHRpb25zLnN5bmNDb21wb25lbnRVcGRhdGVzfSBpcyBgdHJ1ZWAsIHRyaWdnZXJzIHN5bmNocm9ub3VzIHJlbmRlcmluZy5cbiAqXHRAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlbmRlcj10cnVlXVx0XHRcdElmIGBmYWxzZWAsIG5vIHJlbmRlciB3aWxsIGJlIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIG9wdHMsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGxldCBiID0gY29tcG9uZW50LmJhc2U7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGVSZW5kZXJpbmcpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoKGNvbXBvbmVudC5fX3JlZiA9IHByb3BzLnJlZikpIGRlbGV0ZSBwcm9wcy5yZWY7XG5cdGlmICgoY29tcG9uZW50Ll9fa2V5ID0gcHJvcHMua2V5KSkgZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAoZW1wdHkoYikgfHwgbW91bnRBbGwpIHtcblx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCkgY29tcG9uZW50LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHR9XG5cdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0Y29tcG9uZW50LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMsIGNvbnRleHQpO1xuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCE9PWNvbXBvbmVudC5jb250ZXh0KSB7XG5cdFx0aWYgKCFjb21wb25lbnQucHJldkNvbnRleHQpIGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5jb250ZXh0O1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGlmICghY29tcG9uZW50LnByZXZQcm9wcykgY29tcG9uZW50LnByZXZQcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcblx0Y29tcG9uZW50LnByb3BzID0gcHJvcHM7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cblx0aWYgKG9wdHMhPT1OT19SRU5ERVIpIHtcblx0XHRpZiAob3B0cz09PVNZTkNfUkVOREVSIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMhPT1mYWxzZSB8fCAhYikge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgU1lOQ19SRU5ERVIsIG1vdW50QWxsKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0cmlnZ2VyQ29tcG9uZW50UmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cblxuXG4vKiogUmVuZGVyIGEgQ29tcG9uZW50LCB0cmlnZ2VyaW5nIG5lY2Vzc2FyeSBsaWZlY3ljbGUgZXZlbnRzIGFuZCB0YWtpbmcgSGlnaC1PcmRlciBDb21wb25lbnRzIGludG8gYWNjb3VudC5cbiAqXHRAcGFyYW0ge0NvbXBvbmVudH0gY29tcG9uZW50XG4gKlx0QHBhcmFtIHtPYmplY3R9IFtvcHRzXVxuICpcdEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYnVpbGQ9ZmFsc2VdXHRcdElmIGB0cnVlYCwgY29tcG9uZW50IHdpbGwgYnVpbGQgYW5kIHN0b3JlIGEgRE9NIG5vZGUgaWYgbm90IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIG9uZS5cbiAqXHRAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgb3B0cywgbW91bnRBbGwpIHtcblx0aWYgKGNvbXBvbmVudC5fZGlzYWJsZVJlbmRlcmluZykgcmV0dXJuO1xuXG5cdGxldCBza2lwLCByZW5kZXJlZCxcblx0XHRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcblx0XHRzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0XHRjb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQsXG5cdFx0cHJldmlvdXNQcm9wcyA9IGNvbXBvbmVudC5wcmV2UHJvcHMgfHwgcHJvcHMsXG5cdFx0cHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdFx0cHJldmlvdXNDb250ZXh0ID0gY29tcG9uZW50LnByZXZDb250ZXh0IHx8IGNvbnRleHQsXG5cdFx0aXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSxcblx0XHRpbml0aWFsQmFzZSA9IGlzVXBkYXRlIHx8IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0XHRuZXh0U2libGluZyA9IGluaXRpYWxCYXNlICYmIGluaXRpYWxCYXNlLm5leHRTaWJsaW5nLFxuXHRcdGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlLFxuXHRcdGluaXRpYWxDb21wb25lbnQgPSBpbml0aWFsQmFzZSAmJiBpbml0aWFsQmFzZS5fY29tcG9uZW50LFxuXHRcdGluaXRpYWxDaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudC5fY29tcG9uZW50O1xuXG5cdC8vIGlmIHVwZGF0aW5nXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAob3B0cyE9PUZPUkNFX1JFTkRFUlxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdFx0JiYgY29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpID09PSBmYWxzZSkge1xuXHRcdFx0c2tpcCA9IHRydWU7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZShwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXHRcdH1cblx0XHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IGNvbnRleHQ7XG5cdH1cblxuXHRjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByZXZTdGF0ZSA9IGNvbXBvbmVudC5wcmV2Q29udGV4dCA9IGNvbXBvbmVudC5uZXh0QmFzZSA9IG51bGw7XG5cdGNvbXBvbmVudC5fZGlydHkgPSBmYWxzZTtcblxuXHRpZiAoIXNraXApIHtcblx0XHRpZiAoY29tcG9uZW50LnJlbmRlcikgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cblx0XHQvLyBjb250ZXh0IHRvIHBhc3MgdG8gdGhlIGNoaWxkLCBjYW4gYmUgdXBkYXRlZCB2aWEgKGdyYW5kLSlwYXJlbnQgY29tcG9uZW50XG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoY2xvbmUoY29udGV4dCksIGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGlzRnVuY3Rpb25hbENvbXBvbmVudChyZW5kZXJlZCkpIHtcblx0XHRcdHJlbmRlcmVkID0gYnVpbGRGdW5jdGlvbmFsQ29tcG9uZW50KHJlbmRlcmVkLCBjb250ZXh0KTtcblx0XHR9XG5cblx0XHRsZXQgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHRcdHRvVW5tb3VudCwgYmFzZTtcblxuXHRcdGlmIChpc0Z1bmN0aW9uKGNoaWxkQ29tcG9uZW50KSAmJiBjaGlsZENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHQvLyBzZXQgdXAgaGlnaCBvcmRlciBjb21wb25lbnQgbGlua1xuXG5cdFx0XHRsZXQgaW5zdCA9IGluaXRpYWxDaGlsZENvbXBvbmVudCxcblx0XHRcdFx0Y2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cblx0XHRcdGlmIChpbnN0ICYmIGluc3QuY29uc3RydWN0b3I9PT1jaGlsZENvbXBvbmVudCkge1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBTWU5DX1JFTkRFUiwgY29udGV4dCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dG9Vbm1vdW50ID0gaW5zdDtcblx0XHRcdFx0aW5zdCA9IGNyZWF0ZUNvbXBvbmVudChjaGlsZENvbXBvbmVudCwgY2hpbGRQcm9wcywgY29udGV4dCk7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0O1xuXHRcdFx0XHRzZXRDb21wb25lbnRQcm9wcyhpbnN0LCBjaGlsZFByb3BzLCBOT19SRU5ERVIsIGNvbnRleHQpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgU1lOQ19SRU5ERVIpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGxldCBjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHQvLyBkZXN0cm95IGhpZ2ggb3JkZXIgY29tcG9uZW50IGxpbmtcblx0XHRcdHRvVW5tb3VudCA9IGluaXRpYWxDaGlsZENvbXBvbmVudDtcblx0XHRcdGlmICh0b1VubW91bnQpIHtcblx0XHRcdFx0Y2Jhc2UgPSBjb21wb25lbnQuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0aWFsQmFzZSB8fCBvcHRzPT09U1lOQ19SRU5ERVIpIHtcblx0XHRcdFx0aWYgKGNiYXNlKSBjYmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0YmFzZSA9IGRpZmYoY2Jhc2UsIHJlbmRlcmVkLCBjb250ZXh0LCBtb3VudEFsbCB8fCAhaXNVcGRhdGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpbml0aWFsQmFzZSAmJiBiYXNlIT09aW5pdGlhbEJhc2UpIHtcblx0XHRcdGlmIChiYXNlUGFyZW50ICYmIGJhc2UhPT1iYXNlUGFyZW50KSBiYXNlUGFyZW50Lmluc2VydEJlZm9yZShiYXNlLCBuZXh0U2libGluZyB8fCBudWxsKTtcblx0XHRcdGlmICghdG9Vbm1vdW50ICYmIGluaXRpYWxDb21wb25lbnQ9PT1jb21wb25lbnQgJiYgIWluaXRpYWxDaGlsZENvbXBvbmVudCAmJiBpbml0aWFsQmFzZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRcdGluaXRpYWxCYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQsIHRydWUpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSkge1xuXHRcdFx0bGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdFx0dCA9IGNvbXBvbmVudDtcblx0XHRcdHdoaWxlICgodD10Ll9wYXJlbnRDb21wb25lbnQpKSB7IGNvbXBvbmVudFJlZiA9IHQ7IH1cblx0XHRcdGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudFJlZjtcblx0XHRcdGJhc2UuX2NvbXBvbmVudENvbnN0cnVjdG9yID0gY29tcG9uZW50UmVmLmNvbnN0cnVjdG9yO1xuXHRcdH1cblxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdFx0aWYgKCFkaWZmTGV2ZWwpIGZsdXNoTW91bnRzKCk7XG5cdH1cblx0ZWxzZSBpZiAoIXNraXAgJiYgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJldmlvdXNQcm9wcywgcHJldmlvdXNTdGF0ZSwgcHJldmlvdXNDb250ZXh0KTtcblx0fVxuXG5cdGxldCBjYiA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLCBmbjtcblx0aWYgKGNiKSB3aGlsZSAoIChmbiA9IGNiLnBvcCgpKSApIGZuLmNhbGwoY29tcG9uZW50KTtcblxuXHRyZXR1cm4gcmVuZGVyZWQ7XG59XG5cblxuXG4vKiogQXBwbHkgdGhlIENvbXBvbmVudCByZWZlcmVuY2VkIGJ5IGEgVk5vZGUgdG8gdGhlIERPTS5cbiAqXHRAcGFyYW0ge0VsZW1lbnR9IGRvbVx0VGhlIERPTSBub2RlIHRvIG11dGF0ZVxuICpcdEBwYXJhbSB7Vk5vZGV9IHZub2RlXHRBIENvbXBvbmVudC1yZWZlcmVuY2luZyBWTm9kZVxuICpcdEByZXR1cm5zIHtFbGVtZW50fSBkb21cdFRoZSBjcmVhdGVkL211dGF0ZWQgZWxlbWVudFxuICpcdEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudEZyb21WTm9kZShkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCkge1xuXHRsZXQgYyA9IGRvbSAmJiBkb20uX2NvbXBvbmVudCxcblx0XHRvbGREb20gPSBkb20sXG5cdFx0aXNEaXJlY3RPd25lciA9IGMgJiYgZG9tLl9jb21wb25lbnRDb25zdHJ1Y3Rvcj09PXZub2RlLm5vZGVOYW1lLFxuXHRcdGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHRcdHByb3BzID0gZ2V0Tm9kZVByb3BzKHZub2RlKTtcblx0d2hpbGUgKGMgJiYgIWlzT3duZXIgJiYgKGM9Yy5fcGFyZW50Q29tcG9uZW50KSkge1xuXHRcdGlzT3duZXIgPSBjLmNvbnN0cnVjdG9yPT09dm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoaXNPd25lciAmJiAoIW1vdW50QWxsIHx8IGMuX2NvbXBvbmVudCkpIHtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgQVNZTkNfUkVOREVSLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGlmIChjICYmICFpc0RpcmVjdE93bmVyKSB7XG5cdFx0XHR1bm1vdW50Q29tcG9uZW50KGMsIHRydWUpO1xuXHRcdFx0ZG9tID0gb2xkRG9tID0gbnVsbDtcblx0XHR9XG5cblx0XHRjID0gY3JlYXRlQ29tcG9uZW50KHZub2RlLm5vZGVOYW1lLCBwcm9wcywgY29udGV4dCk7XG5cdFx0aWYgKGRvbSAmJiAhYy5uZXh0QmFzZSkgYy5uZXh0QmFzZSA9IGRvbTtcblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgU1lOQ19SRU5ERVIsIGNvbnRleHQsIG1vdW50QWxsKTtcblx0XHRkb20gPSBjLmJhc2U7XG5cblx0XHRpZiAob2xkRG9tICYmIGRvbSE9PW9sZERvbSkge1xuXHRcdFx0b2xkRG9tLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUob2xkRG9tKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG5cblxuLyoqIFJlbW92ZSBhIGNvbXBvbmVudCBmcm9tIHRoZSBET00gYW5kIHJlY3ljbGUgaXQuXG4gKlx0QHBhcmFtIHtFbGVtZW50fSBkb21cdFx0XHRBIERPTSBub2RlIGZyb20gd2hpY2ggdG8gdW5tb3VudCB0aGUgZ2l2ZW4gQ29tcG9uZW50XG4gKlx0QHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudFx0VGhlIENvbXBvbmVudCBpbnN0YW5jZSB0byB1bm1vdW50XG4gKlx0QHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50LCByZW1vdmUpIHtcblx0Ly8gY29uc29sZS5sb2coYCR7cmVtb3ZlPydSZW1vdmluZyc6J1VubW91bnRpbmcnfSBjb21wb25lbnQ6ICR7Y29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWV9YCk7XG5cdGxldCBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlUmVuZGVyaW5nID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0Ly8gcmVjdXJzaXZlbHkgdGVhciBkb3duICYgcmVjb2xsZWN0IGhpZ2gtb3JkZXIgY29tcG9uZW50IGNoaWxkcmVuOlxuXHRsZXQgaW5uZXIgPSBjb21wb25lbnQuX2NvbXBvbmVudDtcblx0aWYgKGlubmVyKSB7XG5cdFx0dW5tb3VudENvbXBvbmVudChpbm5lciwgcmVtb3ZlKTtcblx0fVxuXHRlbHNlIGlmIChiYXNlKSB7XG5cdFx0aWYgKGJhc2VbQVRUUl9LRVldICYmIGJhc2VbQVRUUl9LRVldLnJlZikgYmFzZVtBVFRSX0tFWV0ucmVmKG51bGwpO1xuXG5cdFx0Y29tcG9uZW50Lm5leHRCYXNlID0gYmFzZTtcblxuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdHJlbW92ZU5vZGUoYmFzZSk7XG5cdFx0XHRjb2xsZWN0Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0fVxuXHRcdHJlbW92ZU9ycGhhbmVkQ2hpbGRyZW4oYmFzZS5jaGlsZE5vZGVzLCAhcmVtb3ZlKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnQuX19yZWYpIGNvbXBvbmVudC5fX3JlZihudWxsKTtcblx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50RGlkVW5tb3VudCgpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvdmRvbS9jb21wb25lbnQuanNcbiAqKi8iLCJpbXBvcnQgeyBGT1JDRV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBleHRlbmQsIGNsb25lLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNyZWF0ZUxpbmtlZFN0YXRlIH0gZnJvbSAnLi9saW5rZWQtc3RhdGUnO1xuaW1wb3J0IHsgdHJpZ2dlckNvbXBvbmVudFJlbmRlciwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi92ZG9tL2NvbXBvbmVudCc7XG5cbi8qKiBCYXNlIENvbXBvbmVudCBjbGFzcywgZm9yIGhlIEVTNiBDbGFzcyBtZXRob2Qgb2YgY3JlYXRpbmcgQ29tcG9uZW50c1xuICpcdEBwdWJsaWNcbiAqXG4gKlx0QGV4YW1wbGVcbiAqXHRjbGFzcyBNeUZvbyBleHRlbmRzIENvbXBvbmVudCB7XG4gKlx0XHRyZW5kZXIocHJvcHMsIHN0YXRlKSB7XG4gKlx0XHRcdHJldHVybiA8ZGl2IC8+O1xuICpcdFx0fVxuICpcdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHQvKiogQHByaXZhdGUgKi9cblx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHQvKiogQHB1YmxpYyAqL1xuXHR0aGlzLl9kaXNhYmxlUmVuZGVyaW5nID0gZmFsc2U7XG5cdC8qKiBAcHVibGljICovXG5cdHRoaXMucHJldlN0YXRlID0gdGhpcy5wcmV2UHJvcHMgPSB0aGlzLnByZXZDb250ZXh0ID0gdGhpcy5iYXNlID0gdGhpcy5uZXh0QmFzZSA9IHRoaXMuX3BhcmVudENvbXBvbmVudCA9IHRoaXMuX2NvbXBvbmVudCA9IHRoaXMuX19yZWYgPSB0aGlzLl9fa2V5ID0gdGhpcy5fbGlua2VkU3RhdGVzID0gdGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gbnVsbDtcblx0LyoqIEBwdWJsaWMgKi9cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCB7fTtcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0LyoqIEB0eXBlIHtvYmplY3R9ICovXG5cdHRoaXMuc3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSAmJiB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIHx8IHt9O1xufVxuXG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cblx0LyoqIFJldHVybnMgYSBgYm9vbGVhbmAgdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgY29tcG9uZW50IHNob3VsZCByZS1yZW5kZXIgd2hlbiByZWNlaXZpbmcgdGhlIGdpdmVuIGBwcm9wc2AgYW5kIGBzdGF0ZWAuXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dFN0YXRlXG5cdCAqXHRAcGFyYW0ge29iamVjdH0gbmV4dENvbnRleHRcblx0ICpcdEByZXR1cm5zIHtCb29sZWFufSBzaG91bGQgdGhlIGNvbXBvbmVudCByZS1yZW5kZXJcblx0ICpcdEBuYW1lIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHQgKlx0QGZ1bmN0aW9uXG5cdCAqL1xuXHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdC8vIFx0cmV0dXJuIHRydWU7XG5cdC8vIH0sXG5cblxuXHQvKiogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgc2V0cyBhIHN0YXRlIHByb3BlcnR5IHdoZW4gY2FsbGVkLlxuXHQgKlx0Q2FsbGluZyBsaW5rU3RhdGUoKSByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzIHJldHVybnMgYSBjYWNoZWQgbGluayBmdW5jdGlvbi5cblx0ICpcblx0ICpcdFByb3ZpZGVzIHNvbWUgYnVpbHQtaW4gc3BlY2lhbCBjYXNlczpcblx0ICpcdFx0LSBDaGVja2JveGVzIGFuZCByYWRpbyBidXR0b25zIGxpbmsgdGhlaXIgYm9vbGVhbiBgY2hlY2tlZGAgdmFsdWVcblx0ICpcdFx0LSBJbnB1dHMgYXV0b21hdGljYWxseSBsaW5rIHRoZWlyIGB2YWx1ZWAgcHJvcGVydHlcblx0ICpcdFx0LSBFdmVudCBwYXRocyBmYWxsIGJhY2sgdG8gYW55IGFzc29jaWF0ZWQgQ29tcG9uZW50IGlmIG5vdCBmb3VuZCBvbiBhbiBlbGVtZW50XG5cdCAqXHRcdC0gSWYgbGlua2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24sIHdpbGwgaW52b2tlIGl0IGFuZCB1c2UgdGhlIHJlc3VsdFxuXHQgKlxuXHQgKlx0QHBhcmFtIHtzdHJpbmd9IGtleVx0XHRcdFx0VGhlIHBhdGggdG8gc2V0IC0gY2FuIGJlIGEgZG90LW5vdGF0ZWQgZGVlcCBrZXlcblx0ICpcdEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRQYXRoXVx0XHRJZiBzZXQsIGF0dGVtcHRzIHRvIGZpbmQgdGhlIG5ldyBzdGF0ZSB2YWx1ZSBhdCBhIGdpdmVuIGRvdC1ub3RhdGVkIHBhdGggd2l0aGluIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBsaW5rZWRTdGF0ZSBzZXR0ZXIuXG5cdCAqXHRAcmV0dXJucyB7ZnVuY3Rpb259IGxpbmtTdGF0ZVNldHRlcihlKVxuXHQgKlxuXHQgKlx0QGV4YW1wbGUgVXBkYXRlIGEgXCJ0ZXh0XCIgc3RhdGUgdmFsdWUgd2hlbiBhbiBpbnB1dCBjaGFuZ2VzOlxuXHQgKlx0XHQ8aW5wdXQgb25DaGFuZ2U9eyB0aGlzLmxpbmtTdGF0ZSgndGV4dCcpIH0gLz5cblx0ICpcblx0ICpcdEBleGFtcGxlIFNldCBhIGRlZXAgc3RhdGUgdmFsdWUgb24gY2xpY2tcblx0ICpcdFx0PGJ1dHRvbiBvbkNsaWNrPXsgdGhpcy5saW5rU3RhdGUoJ3RvdWNoLmNvb3JkcycsICd0b3VjaGVzLjAnKSB9PlRhcDwvYnV0dG9uXG5cdCAqL1xuXHRsaW5rU3RhdGUoa2V5LCBldmVudFBhdGgpIHtcblx0XHRsZXQgYyA9IHRoaXMuX2xpbmtlZFN0YXRlcyB8fCAodGhpcy5fbGlua2VkU3RhdGVzID0ge30pLFxuXHRcdFx0Y2FjaGVLZXkgPSBrZXkgKyAnfCcgKyBldmVudFBhdGg7XG5cdFx0cmV0dXJuIGNbY2FjaGVLZXldIHx8IChjW2NhY2hlS2V5XSA9IGNyZWF0ZUxpbmtlZFN0YXRlKHRoaXMsIGtleSwgZXZlbnRQYXRoKSk7XG5cdH0sXG5cblxuXHQvKiogVXBkYXRlIGNvbXBvbmVudCBzdGF0ZSBieSBjb3B5aW5nIHByb3BlcnRpZXMgZnJvbSBgc3RhdGVgIHRvIGB0aGlzLnN0YXRlYC5cblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBzdGF0ZVx0XHRBIGhhc2ggb2Ygc3RhdGUgcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzXG5cdCAqL1xuXHRzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRsZXQgcyA9IHRoaXMuc3RhdGU7XG5cdFx0aWYgKCF0aGlzLnByZXZTdGF0ZSkgdGhpcy5wcmV2U3RhdGUgPSBjbG9uZShzKTtcblx0XHRleHRlbmQocywgaXNGdW5jdGlvbihzdGF0ZSkgPyBzdGF0ZShzLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spICh0aGlzLl9yZW5kZXJDYWxsYmFja3MgPSAodGhpcy5fcmVuZGVyQ2FsbGJhY2tzIHx8IFtdKSkucHVzaChjYWxsYmFjayk7XG5cdFx0dHJpZ2dlckNvbXBvbmVudFJlbmRlcih0aGlzKTtcblx0fSxcblxuXG5cdC8qKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqXHRAcHJpdmF0ZVxuXHQgKi9cblx0Zm9yY2VVcGRhdGUoKSB7XG5cdFx0cmVuZGVyQ29tcG9uZW50KHRoaXMsIEZPUkNFX1JFTkRFUik7XG5cdH0sXG5cblxuXHQvKiogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuXHQgKlx0VmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuXHQgKlx0QHBhcmFtIHtvYmplY3R9IHByb3BzXHRcdFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50IGVsZW1lbnQvY29tcG9uZW50XG5cdCAqXHRAcGFyYW0ge29iamVjdH0gc3RhdGVcdFx0VGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcblx0ICpcdEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XHRcdENvbnRleHQgb2JqZWN0IChpZiBhIHBhcmVudCBjb21wb25lbnQgaGFzIHByb3ZpZGVkIGNvbnRleHQpXG5cdCAqXHRAcmV0dXJucyBWTm9kZVxuXHQgKi9cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29tcG9uZW50LmpzXG4gKiovIiwiLy8gcmVuZGVyIG1vZGVzXG5cbmV4cG9ydCBjb25zdCBOT19SRU5ERVIgPSAwO1xuZXhwb3J0IGNvbnN0IFNZTkNfUkVOREVSID0gMTtcbmV4cG9ydCBjb25zdCBGT1JDRV9SRU5ERVIgPSAyO1xuZXhwb3J0IGNvbnN0IEFTWU5DX1JFTkRFUiA9IDM7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IHt9O1xuXG5leHBvcnQgY29uc3QgQVRUUl9LRVkgPSB0eXBlb2YgU3ltYm9sIT09J3VuZGVmaW5lZCcgPyBTeW1ib2wuZm9yKCdwcmVhY3RhdHRyJykgOiAnX19wcmVhY3RhdHRyXyc7XG5cbi8vIERPTSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIE5PVCBoYXZlIFwicHhcIiBhZGRlZCB3aGVuIG51bWVyaWNcbmV4cG9ydCBjb25zdCBOT05fRElNRU5TSU9OX1BST1BTID0ge1xuXHRib3hGbGV4OjEsIGJveEZsZXhHcm91cDoxLCBjb2x1bW5Db3VudDoxLCBmaWxsT3BhY2l0eToxLCBmbGV4OjEsIGZsZXhHcm93OjEsXG5cdGZsZXhQb3NpdGl2ZToxLCBmbGV4U2hyaW5rOjEsIGZsZXhOZWdhdGl2ZToxLCBmb250V2VpZ2h0OjEsIGxpbmVDbGFtcDoxLCBsaW5lSGVpZ2h0OjEsXG5cdG9wYWNpdHk6MSwgb3JkZXI6MSwgb3JwaGFuczoxLCBzdHJva2VPcGFjaXR5OjEsIHdpZG93czoxLCB6SW5kZXg6MSwgem9vbToxXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9+L3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzXG4gKiovIiwiaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vdmRvbS9kaWZmJztcblxuLyoqIFJlbmRlciBKU1ggaW50byBhIGBwYXJlbnRgIEVsZW1lbnQuXG4gKlx0QHBhcmFtIHtWTm9kZX0gdm5vZGVcdFx0QSAoSlNYKSBWTm9kZSB0byByZW5kZXJcbiAqXHRAcGFyYW0ge0VsZW1lbnR9IHBhcmVudFx0XHRET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICpcdEBwYXJhbSB7RWxlbWVudH0gW21lcmdlXVx0QXR0ZW1wdCB0byByZS11c2UgYW4gZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGBtZXJnZWBcbiAqXHRAcHVibGljXG4gKlxuICpcdEBleGFtcGxlXG4gKlx0Ly8gcmVuZGVyIGEgZGl2IGludG8gPGJvZHk+OlxuICpcdHJlbmRlcig8ZGl2IGlkPVwiaGVsbG9cIj5oZWxsbyE8L2Rpdj4sIGRvY3VtZW50LmJvZHkpO1xuICpcbiAqXHRAZXhhbXBsZVxuICpcdC8vIHJlbmRlciBhIFwiVGhpbmdcIiBjb21wb25lbnQgaW50byAjZm9vOlxuICpcdGNvbnN0IFRoaW5nID0gKHsgbmFtZSB9KSA9PiA8c3Bhbj57IG5hbWUgfTwvc3Bhbj47XG4gKlx0cmVuZGVyKDxUaGluZyBuYW1lPVwib25lXCIgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb28nKSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcblx0cmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL34vcHJlYWN0L3NyYy9yZW5kZXIuanNcbiAqKi8iLCJ2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzL2Jyb3dzZXIuanMnKS5uZXh0VGljaztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpbW1lZGlhdGVJZHMgPSB7fTtcbnZhciBuZXh0SW1tZWRpYXRlSWQgPSAwO1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkgeyB0aW1lb3V0LmNsb3NlKCk7IH07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gVGhhdCdzIG5vdCBob3cgbm9kZS5qcyBpbXBsZW1lbnRzIGl0IGJ1dCB0aGUgZXhwb3NlZCBhcGkgaXMgdGhlIHNhbWUuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHNldEltbWVkaWF0ZSA6IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBpZCA9IG5leHRJbW1lZGlhdGVJZCsrO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZmFsc2UgOiBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgaW1tZWRpYXRlSWRzW2lkXSA9IHRydWU7XG5cbiAgbmV4dFRpY2soZnVuY3Rpb24gb25OZXh0VGljaygpIHtcbiAgICBpZiAoaW1tZWRpYXRlSWRzW2lkXSkge1xuICAgICAgLy8gZm4uY2FsbCgpIGlzIGZhc3RlciBzbyB3ZSBvcHRpbWl6ZSBmb3IgdGhlIGNvbW1vbiB1c2UtY2FzZVxuICAgICAgLy8gQHNlZSBodHRwOi8vanNwZXJmLmNvbS9jYWxsLWFwcGx5LXNlZ3VcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm4uY2FsbChudWxsKTtcbiAgICAgIH1cbiAgICAgIC8vIFByZXZlbnQgaWRzIGZyb20gbGVha2luZ1xuICAgICAgZXhwb3J0cy5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWQ7XG59O1xuXG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gdHlwZW9mIGNsZWFySW1tZWRpYXRlID09PSBcImZ1bmN0aW9uXCIgPyBjbGVhckltbWVkaWF0ZSA6IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSBpbW1lZGlhdGVJZHNbaWRdO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNhY2hlZFNldFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cbiAgfVxufSAoKSlcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgdGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNvbXBvc2UgPSBleHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IGV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBleHBvcnRzLmNyZWF0ZVN0b3JlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMgPSByZXF1aXJlKCcuL2NvbWJpbmVSZWR1Y2VycycpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lUmVkdWNlcnMpO1xuXG52YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IHJlcXVpcmUoJy4vYmluZEFjdGlvbkNyZWF0b3JzJyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlID0gcmVxdWlyZSgnLi9hcHBseU1pZGRsZXdhcmUnKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbHlNaWRkbGV3YXJlKTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi91dGlscy93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbi8qXG4qIFRoaXMgaXMgYSBkdW1teSBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVuY3Rpb24gbmFtZSBoYXMgYmVlbiBhbHRlcmVkIGJ5IG1pbmlmaWNhdGlvbi5cbiogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuKi9cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSgnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydHMuY3JlYXRlU3RvcmUgPSBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gX2NvbWJpbmVSZWR1Y2VyczJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMltcImRlZmF1bHRcIl07XG5leHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IF9hcHBseU1pZGRsZXdhcmUyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuY29tcG9zZSA9IF9jb21wb3NlMltcImRlZmF1bHRcIl07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbaW5pdGlhbFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IGluaXRpYWxTdGF0ZTtcbiAgICBpbml0aWFsU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyW1wiZGVmYXVsdFwiXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNIb3N0T2JqZWN0ID0gcmVxdWlyZSgnLi9faXNIb3N0T2JqZWN0JyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8XG4gICAgICBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSAhPSBvYmplY3RUYWcgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoL2lzUGxhaW5PYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fZ2V0UHJvdG90eXBlLmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9fb3ZlckFyZy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSG9zdE9iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9faXNIb3N0T2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC9pc09iamVjdExpa2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3ltYm9sLW9ic2VydmFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbWJpbmVSZWR1Y2VycztcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcblxuICByZXR1cm4gJ0dpdmVuIGFjdGlvbiAnICsgYWN0aW9uTmFtZSArICcsIHJlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gJyArICdUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJztcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAnaW5pdGlhbFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyW1wiZGVmYXVsdFwiXSkoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiB0eXBlIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgc2FuaXR5RXJyb3I7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNhbml0eUVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvY29tYmluZVJlZHVjZXJzLmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL3V0aWxzL3dhcm5pbmcuanNcbiAqKiBtb2R1bGUgaWQgPSAxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYmluZEFjdGlvbkNyZWF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBhcHBseU1pZGRsZXdhcmU7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgdmFyIGNoYWluID0gW107XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyW1wiZGVmYXVsdFwiXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogZnVuY3Rpb24gdigpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICAgICAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmVkdXgvbGliL2NvbXBvc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5pbXBvcnQgeyBBY3Rpb25DcmVhdG9ycyB9IGZyb20gJ3JlZHV4LXVuZG8nO1xuaW1wb3J0IG1vZCBmcm9tICcuLi9oZWxwZXJzL3Jlc2l6ZS1tb2QnO1xuaW1wb3J0IEN1cnZlRWRpdG9yUmlnaHQgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItcmlnaHQnO1xuaW1wb3J0IEN1cnZlRWRpdG9yTGVmdCAgZnJvbSAnLi9jdXJ2ZS1lZGl0b3ItbGVmdCc7XG5pbXBvcnQgSWNvbnMgZnJvbSAnLi9pY29ucyc7XG5pbXBvcnQgQ29kZVBhbmVsIGZyb20gJy4vY29kZS1wYW5lbCc7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvcicpO1xuXG5jbGFzcyBDdXJ2ZUVkaXRvciBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBzdGF0ZSAgID0gc3RvcmUuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBzdHlsZSAgID0gdGhpcy5fZ2V0U3R5bGUoc3RhdGUpO1xuXG4gICAgcmV0dXJuICAoPGRpdiBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvciddfSBzdHlsZT17IHN0eWxlIH0+XG4gICAgICAgICAgICAgICAgPEljb25zIC8+XG4gICAgICAgICAgICAgICAgPENvZGVQYW5lbCBzdGF0ZT17IHN0YXRlIH0vPlxuICAgICAgICAgICAgICAgIDxDdXJ2ZUVkaXRvckxlZnQgc3RhdGU9eyBzdGF0ZSB9IC8+XG4gICAgICAgICAgICAgICAgPEN1cnZlRWRpdG9yUmlnaHQgc3RhdGU9eyBzdGF0ZSB9IC8+XG4gICAgICAgICAgICAgIDwvZGl2Pik7XG4gIH1cblxuICBfZ2V0U3R5bGUgKHN0YXRlKSB7XG4gICAgY29uc3QgWF9TSVpFICAgID0gQy5DVVJWRV9TSVpFICsgNTMsXG4gICAgICAgICAgWV9TSVpFICAgID0gQy5DVVJWRV9TSVpFICsgMipDLkNVUlZFX1BBRERJTkcsXG4gICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGU7XG4gICAgbGV0IHt0ZW1wX3RvcCwgdGVtcF9ib3R0b20sIHRlbXBfcmlnaHQsIHRyYW5zbGF0ZX0gPSByZXNpemU7XG5cbiAgICB0ZW1wX3RvcCAgICArPSByZXNpemUudG9wO1xuICAgIHRlbXBfYm90dG9tICs9IHJlc2l6ZS5ib3R0b207XG4gICAgdGVtcF9yaWdodCAgKz0gcmVzaXplLnJpZ2h0O1xuXG4gICAgLy8gY29uc3RyYWluIG1pbiBoZWlnaHRcbiAgICBpZiAoWV9TSVpFIC0gdGVtcF90b3AgPCBZX1NJWkUpIHsgdGVtcF90b3AgPSAwOyB9XG4gICAgaWYgKFlfU0laRSArIHRlbXBfYm90dG9tIDwgWV9TSVpFKSB7IHRlbXBfYm90dG9tID0gMDsgfVxuICAgIGlmIChYX1NJWkUgKyB0ZW1wX3JpZ2h0IDwgWF9TSVpFKSB7IHRlbXBfcmlnaHQgPSAwOyB9XG5cbiAgICB0ZW1wX3RvcCAgICA9IG1vZCggdGVtcF90b3AsIC0xICk7XG4gICAgdGVtcF9ib3R0b20gPSBtb2QoIHRlbXBfYm90dG9tICk7XG5cbiAgICBjb25zdCBoZWlnaHQgPSBgaGVpZ2h0OiAke1lfU0laRSAtIHRlbXBfdG9wICsgdGVtcF9ib3R0b219cHhgLFxuICAgICAgICAgIHdpZHRoICA9IGB3aWR0aDogJHtYX1NJWkUgKyB0ZW1wX3JpZ2h0fXB4YCxcbiAgICAgICAgICB4ID0gcmVzaXplLnggKyByZXNpemUudGVtcFgsXG4gICAgICAgICAgeSA9IHJlc2l6ZS55ICsgcmVzaXplLnRlbXBZLFxuICAgICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke3h9cHgsICR7eSArIHRlbXBfdG9wfXB4KWA7XG5cbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2Zvcm19OyAke3RyYW5zZm9ybX07ICR7d2lkdGh9OyAke2hlaWdodH07YDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIGVsID0gdGhpcy5iYXNlLnF1ZXJ5U2VsZWN0b3IoJyNqcy1sZWZ0LXBhbmVsJyksXG4gICAgICAgICAgbWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWwpKTtcblxuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVk7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0VESVRPUl9UUkFOU0xBVEUnLCBkYXRhOiB7IHgsIHkgfSB9KTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfVFJBTlNMQVRFX0VORCcsIGRhdGE6IHsgeCwgeSB9IH0pXG4gICAgICB9KVxuICAgICAgLy8gLm9uKCd0YXAnLCAoZSkgPT4geyBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdQT0lOVF9ERVNFTEVDVF9BTEwnIH0pOyB9KTtcblxuICAgIHRoaXMuX2FkZEtleVVwKCk7XG4gICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfYWRkS2V5VXAgKCkgeyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX29uS2V5VXAuYmluZCh0aGlzKSk7IH1cblxuICBfb25LZXlVcCAoZSkge1xuICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG4gICAgaWYgKCAhZS5hbHRLZXkgKSB7IHJldHVybjsgfVxuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSA5MDogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMudW5kbygpKTsgfVxuICAgICAgY2FzZSA4ODogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goQWN0aW9uQ3JlYXRvcnMucmVkbygpKTsgfVxuICAgICAgY2FzZSA2ODogeyByZXR1cm4gc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnUE9JTlRfREVMRVRFJyB9KTsgfVxuICAgIH1cbiAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3I7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElFX1BST1RPICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihPKXtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcil7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanNcbiAqKiBtb2R1bGUgaWQgPSAzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRlxuICAgICwgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuR1xuICAgICwgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuU1xuICAgICwgSVNfUFJPVE8gID0gdHlwZSAmICRleHBvcnQuUFxuICAgICwgSVNfQklORCAgID0gdHlwZSAmICRleHBvcnQuQlxuICAgICwgSVNfV1JBUCAgID0gdHlwZSAmICRleHBvcnQuV1xuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIEMpe1xuICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZihJU19QUk9UTyl7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSloaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YCBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGRQICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSA0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSA0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanNcbiAqKiBtb2R1bGUgaWQgPSA1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCByZWRlZmluZSAgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBoaWRlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJdGVyYXRvcnMgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgJGl0ZXJDcmVhdGUgICAgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBJVEVSQVRPUiAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQlVHR1kgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCl7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIGlmKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKXJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFU1xuICAgICwgVkFMVUVTX0JVRyA9IGZhbHNlXG4gICAgLCBwcm90byAgICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsICRuYXRpdmUgICAgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsICRkZWZhdWx0ICAgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKVxuICAgICwgJGVudHJpZXMgICA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWRcbiAgICAsICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlXG4gICAgLCBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKCRhbnlOYXRpdmUpe1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKSk7XG4gICAgaWYoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpe1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmKCFMSUJSQVJZICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKXtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZigoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSl7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiAgREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYoRk9SQ0VEKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faGlkZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSA2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBkUHMgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcbiAgICAsIGx0ICAgICA9ICc8J1xuICAgICwgZ3QgICAgID0gJz4nXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkUCAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpID0gMFxuICAgICwgUDtcbiAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXG4gICwgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDY4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDcxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanNcbiAqKiBtb2R1bGUgaWQgPSA4MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanNcbiAqKiBtb2R1bGUgaWQgPSA4MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanNcbiAqKiBtb2R1bGUgaWQgPSA4M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgTUVUQSAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCB3a3NEZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fa2V5b2YnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJylcbiAgLCBpc0FycmF5ICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBfY3JlYXRlICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGdPUE5FeHQgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0JylcbiAgLCAkR09QRCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCAkRFAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGtleXMgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG4gICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cbiAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgaXQgID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighVVNFX05BVElWRSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuZm9yKHZhciBzeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblxuZm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIGlmKGlzU3ltYm9sKGtleSkpcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF1cbiAgICAgICwgaSAgICA9IDFcbiAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICBpZigkcmVwbGFjZXIpdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzXG4gKiogbW9kdWxlIGlkID0gODVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBNRVRBICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJylcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgaGFzICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHNldERlc2MgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGlkICAgICAgID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uKGl0KXtcbiAgc2V0RGVzYyhpdCwgTUVUQSwge3ZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfX0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24oaXQsIGNyZWF0ZSl7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYoIWlzT2JqZWN0KGl0KSlyZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYoIWNyZWF0ZSlyZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICBpZighaGFzKGl0LCBNRVRBKSl7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZighaXNFeHRlbnNpYmxlKGl0KSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbihpdCl7XG4gIGlmKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSlzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogICAgICBNRVRBLFxuICBORUVEOiAgICAgZmFsc2UsXG4gIGZhc3RLZXk6ICBmYXN0S2V5LFxuICBnZXRXZWFrOiAgZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzXG4gKiogbW9kdWxlIGlkID0gODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSlkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7dmFsdWU6IHdrc0V4dC5mKG5hbWUpfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnZXRLZXlzICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSBnZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fa2V5b2YuanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgcmVzdWx0ICAgICA9IGdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSBwSUUuZlxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qc1xuICoqIG1vZHVsZSBpZCA9IDkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDkyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgZ09QTiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgdG9TdHJpbmcgID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdPUE4oaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4odG9JT2JqZWN0KGl0KSk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pe1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qc1xuICoqIG1vZHVsZSBpZCA9IDk0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BkLmpzXG4gKiogbW9kdWxlIGlkID0gOTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA5N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gOThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qc1xuICoqIG1vZHVsZSBpZCA9IDk5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzXG4gKiogbW9kdWxlIGlkID0gMTAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXR9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzXG4gKiogbW9kdWxlIGlkID0gMTAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlJyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmNvbnN0IENVUlZFX1NJWkUgPSAzNTA7XG5leHBvcnQgZGVmYXVsdCB7XG4gIENVUlZFX1NJWkUsXG4gIENVUlZFX1BFUkNFTlQ6IENVUlZFX1NJWkUvMTAwLFxuICBDVVJWRV9QQURESU5HOiAxMFxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2NvbnN0YW50cy5iYWJlbC5qc1xuICoqLyIsIi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG52YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbnZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBub3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG4gKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gKiBAcGFyYW0ge1N0cmluZ30gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcbiAgICAgICAgaWYgKGxvZykge1xuICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gKi9cbnZhciBhc3NpZ247XG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xufSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcbiAgICAgICAgY2hpbGRQO1xuXG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cbiAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG4gKiBAcGFyYW0geyp9IHZhbDFcbiAqIEBwYXJhbSB7Kn0gdmFsMlxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcbiAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcbn1cblxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcbiAqIEBtZXRob2QgaGFzUGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG59XG5cbi8qKlxuICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAqL1xuZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICogQHBhcmFtIHtBcnJheX0gc3JjXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xufVxuXG4vKipcbiAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gKi9cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICovXG5mdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeCwgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIGdldCBhIHVuaXF1ZSBpZFxuICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcbiAqL1xudmFyIF91bmlxdWVJZCA9IDE7XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG59XG5cbi8qKlxuICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xufVxuXG52YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXG52YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xudmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xudmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbnZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xudmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xudmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cbnZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cbnZhciBJTlBVVF9TVEFSVCA9IDE7XG52YXIgSU5QVVRfTU9WRSA9IDI7XG52YXIgSU5QVVRfRU5EID0gNDtcbnZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXG52YXIgRElSRUNUSU9OX05PTkUgPSAxO1xudmFyIERJUkVDVElPTl9MRUZUID0gMjtcbnZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xudmFyIERJUkVDVElPTl9VUCA9IDg7XG52YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblxudmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG52YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG52YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXG52YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xudmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cbiAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG4gICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuSW5wdXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICogQHJldHVybnMge0lucHV0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTtcbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG59XG5cbi8qKlxuICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG4gICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXG4gICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblxuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG59XG5cbi8qKlxuICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblxuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblxuICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXG4gICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG4gICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblxuICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cbiAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuICAgIH1cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcbiAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG4gICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICAgIH07XG5cbiAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICAgICAgeTogY2VudGVyLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbn1cblxuLyoqXG4gKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcbiAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG4gICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG4gICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblxuICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cbiAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcbiAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcbiAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG4gICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YW1wOiBub3coKSxcbiAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG4gICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG4gKi9cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHAxXG4gKiBAcGFyYW0ge09iamVjdH0gcDJcbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxudmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbn07XG5cbnZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXG4vKipcbiAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXG4gICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG59O1xuXG4vLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxudmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxufTtcblxudmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbi8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuaWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG4gICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcbn1cblxuLyoqXG4gKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xufVxuXG5pbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcbiAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG52YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG4gICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cbiAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcbn1cblxudmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG4gICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cbiAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuICAgIH1cblxuICAgIHZhciBpLFxuICAgICAgICB0YXJnZXRUb3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcbiAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb2xsZWN0IHRvdWNoZXNcbiAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcbiAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuICAgIF07XG59XG5cbi8qKlxuICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG4gKlxuICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG4gKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5cbnZhciBERURVUF9USU1FT1VUID0gMjUwMDtcbnZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG5mdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG4gICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG4gICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cbiAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xufVxuXG5pbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG4gICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG4gICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG52YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4vLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG52YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG52YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG52YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcbnZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG52YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblxuLyoqXG4gKiBUb3VjaCBBY3Rpb25cbiAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLnNldCh2YWx1ZSk7XG59XG5cblRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG4gICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICAgIGlmIChoYXNOb25lKSB7XG4gICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXG4gICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cbiAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOb25lIHx8XG4gICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuICAgICAqL1xuICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuICAgIC8vIG5vbmVcbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXG4gICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG4gICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG4gICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG4gICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICAvLyBwYW4teCBPUiBwYW4teVxuICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfVxuXG4gICAgLy8gbWFuaXB1bGF0aW9uXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcbiAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdG91Y2hNYXAgPSB7fTtcbiAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG4gICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblxuICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcbiAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hNYXA7XG59XG5cbi8qKlxuICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG4gKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAqXG4gKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG4gKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICpcbiAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cbiAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gKlxuICogICAgICAgICAgICAgICBQb3NzaWJsZVxuICogICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAqL1xudmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbnZhciBTVEFURV9CRUdBTiA9IDI7XG52YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG52YXIgU1RBVEVfRU5ERUQgPSA4O1xudmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbnZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcbnZhciBTVEFURV9GQUlMRUQgPSAzMjtcblxuLyoqXG4gKiBSZWNvZ25pemVyXG4gKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblxuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cbiAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXG4gICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG59XG5cblJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBkZWZhdWx0czoge30sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcbiAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcbiAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG4gICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcbiAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG4gICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cbiAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG4gICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cbiAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG4gICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cbn07XG5cbi8qKlxuICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcbiAqL1xuZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcbiAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcbiAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcbiAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG4gICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG4gICAgfVxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG59XG5cbi8qKlxuICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG4gICAgICovXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cbiAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cbiAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQYW5cbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucFggPSBudWxsO1xuICAgIHRoaXMucFkgPSBudWxsO1xufVxuXG5pbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfSxcblxuICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cbiAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXG4gICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBpbmNoXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGluY2gnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUHJlc3NcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xufVxuXG5pbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJvdGF0ZVxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfVxufSk7XG5cbi8qKlxuICogU3dpcGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcbiAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcbiAqIGEgc2luZ2xlIHRhcC5cbiAqXG4gKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2ZcbiAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcbiAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xufVxuXG5pbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblxuICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cbiAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG4gICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5IYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cbi8qKlxuICogZGVmYXVsdCBzZXR0aW5nc1xuICogQG5hbWVzcGFjZVxuICovXG5IYW1tZXIuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGRlZmF1bHQgY29tcHV0ZVxuICAgICAqL1xuICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dENsYXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgcHJlc2V0OiBbXG4gICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcbiAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcbiAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcbiAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICovXG4gICAgY3NzUHJvcHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG4gICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAgICovXG4gICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcbiAgICB9XG59O1xuXG52YXIgU1RPUCA9IDE7XG52YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXG4vKipcbiAqIE1hbmFnZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cbiAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblxuICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG4gICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG4gICAgfSwgdGhpcyk7XG59XG5cbk1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG4gICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblxuICAgICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblxuICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG4gICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG4gICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG4gICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblxuICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcbiAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcbiAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXG4gICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG4gICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcbiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICovXG5mdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvcDtcbiAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiB0cmlnZ2VyIGRvbSBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcbn1cblxuYXNzaWduKEhhbW1lciwge1xuICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcbiAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXG4gICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcbiAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcbiAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXG4gICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cbiAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuICAgIElucHV0OiBJbnB1dCxcbiAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cbiAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG4gICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cbiAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcbiAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG4gICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG4gICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcbiAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG4gICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblxuICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcbiAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGluaGVyaXQ6IGluaGVyaXQsXG4gICAgYmluZEZuOiBiaW5kRm4sXG4gICAgcHJlZml4ZWQ6IHByZWZpeGVkXG59KTtcblxuLy8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcbi8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxudmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIYW1tZXI7XG4gICAgfSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcbn0gZWxzZSB7XG4gICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9oYW1tZXJqcy9oYW1tZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICB3aW5kb3cucHJvcGFnYXRpbmcgPSBmYWN0b3J5KCk7XG4gIH1cbn0oZnVuY3Rpb24gKCkge1xuICB2YXIgX2ZpcnN0VGFyZ2V0ID0gbnVsbDsgLy8gc2luZ2xldG9uLCB3aWxsIGNvbnRhaW4gdGhlIHRhcmdldCBlbGVtZW50IHdoZXJlIHRoZSB0b3VjaCBldmVudCBzdGFydGVkXG5cbiAgLyoqXG4gICAqIEV4dGVuZCBhbiBIYW1tZXIuanMgaW5zdGFuY2Ugd2l0aCBldmVudCBwcm9wYWdhdGlvbi5cbiAgICpcbiAgICogRmVhdHVyZXM6XG4gICAqIC0gRXZlbnRzIGVtaXR0ZWQgYnkgaGFtbWVyIHdpbGwgcHJvcGFnYXRlIGluIG9yZGVyIGZyb20gY2hpbGQgdG8gcGFyZW50XG4gICAqICAgZWxlbWVudHMuXG4gICAqIC0gRXZlbnRzIGFyZSBleHRlbmRlZCB3aXRoIGEgZnVuY3Rpb24gYGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpYCB0byBzdG9wXG4gICAqICAgcHJvcGFnYXRpb24gdG8gcGFyZW50IGVsZW1lbnRzLlxuICAgKiAtIEFuIG9wdGlvbiBgcHJldmVudERlZmF1bHRgIHRvIHN0b3AgYWxsIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvci5cbiAgICpcbiAgICogVXNhZ2U6XG4gICAqICAgdmFyIGhhbW1lciA9IHByb3BhZ2F0aW5nSGFtbWVyKG5ldyBIYW1tZXIoZWxlbWVudCkpO1xuICAgKiAgIHZhciBoYW1tZXIgPSBwcm9wYWdhdGluZ0hhbW1lcihuZXcgSGFtbWVyKGVsZW1lbnQpLCB7cHJldmVudERlZmF1bHQ6IHRydWV9KTtcbiAgICpcbiAgICogQHBhcmFtIHtIYW1tZXIuTWFuYWdlcn0gaGFtbWVyICAgQW4gaGFtbWVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdICAgICAgICBBdmFpbGFibGUgb3B0aW9uczpcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBgcHJldmVudERlZmF1bHQ6IHRydWUgfCBmYWxzZSB8ICdtb3VzZScgfCAndG91Y2gnIHwgJ3BlbidgLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZm9yY2UgcHJldmVudGluZyB0aGUgZGVmYXVsdCBicm93c2VyIGJlaGF2aW9yLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbm5vdCBiZSBzZXQgdG8gYGZhbHNlYC5cbiAgICogQHJldHVybiB7SGFtbWVyLk1hbmFnZXJ9IFJldHVybnMgdGhlIHNhbWUgaGFtbWVyIGluc3RhbmNlIHdpdGggZXh0ZW5kZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIHJldHVybiBmdW5jdGlvbiBwcm9wYWdhdGluZyhoYW1tZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zIHx8IHtcbiAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZVxuICAgIH07XG5cbiAgICBpZiAoaGFtbWVyLk1hbmFnZXIpIHtcbiAgICAgIC8vIFRoaXMgbG9va3MgbGlrZSB0aGUgSGFtbWVyIGNvbnN0cnVjdG9yLlxuICAgICAgLy8gT3ZlcmxvYWQgdGhlIGNvbnN0cnVjdG9ycyB3aXRoIG91ciBvd24uXG4gICAgICB2YXIgSGFtbWVyID0gaGFtbWVyO1xuXG4gICAgICB2YXIgUHJvcGFnYXRpbmdIYW1tZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lcihlbGVtZW50LCBvKSwgbyk7XG4gICAgICB9O1xuICAgICAgSGFtbWVyLmFzc2lnbihQcm9wYWdhdGluZ0hhbW1lciwgSGFtbWVyKTtcblxuICAgICAgUHJvcGFnYXRpbmdIYW1tZXIuTWFuYWdlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvID0gT2JqZWN0LmNyZWF0ZShfb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zKSBIYW1tZXIuYXNzaWduKG8sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKGVsZW1lbnQsIG8pLCBvKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBQcm9wYWdhdGluZ0hhbW1lcjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSB3cmFwcGVyIG9iamVjdCB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBmdW5jdGlvbnNcbiAgICAvLyBgb25gLCBgb2ZmYCwgYGRlc3Ryb3lgLCBhbmQgYGVtaXRgIG9mIHRoZSBoYW1tZXIgaW5zdGFuY2VcbiAgICB2YXIgd3JhcHBlciA9IE9iamVjdC5jcmVhdGUoaGFtbWVyKTtcblxuICAgIC8vIGF0dGFjaCB0byBET00gZWxlbWVudFxuICAgIHZhciBlbGVtZW50ID0gaGFtbWVyLmVsZW1lbnQ7XG5cbiAgICBpZighZWxlbWVudC5oYW1tZXIpIGVsZW1lbnQuaGFtbWVyID0gW107XG4gICAgZWxlbWVudC5oYW1tZXIucHVzaCh3cmFwcGVyKTtcblxuICAgIC8vIHJlZ2lzdGVyIGFuIGV2ZW50IHRvIGNhdGNoIHRoZSBzdGFydCBvZiBhIGdlc3R1cmUgYW5kIHN0b3JlIHRoZVxuICAgIC8vIHRhcmdldCBpbiBhIHNpbmdsZXRvblxuICAgIGhhbW1lci5vbignaGFtbWVyLmlucHV0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX29wdGlvbnMucHJldmVudERlZmF1bHQgPT09IHRydWUgfHwgKF9vcHRpb25zLnByZXZlbnREZWZhdWx0ID09PSBldmVudC5wb2ludGVyVHlwZSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5pc0ZpcnN0KSB7XG4gICAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIEFycmF5LjxmdW5jdGlvbj4+fSAqL1xuICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIG9uZSBvciBtdWx0aXBsZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzICAgIEEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyB3aXRoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgQSBjYWxsYmFjayBmdW5jdGlvbiwgY2FsbGVkIGFzIGhhbmRsZXIoZXZlbnQpXG4gICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSBSZXR1cm5zIHRoZSBoYW1tZXIgaW5zdGFuY2VcbiAgICAgKi9cbiAgICB3cmFwcGVyLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgLy8gcmVnaXN0ZXIgdGhlIGhhbmRsZXJcbiAgICAgIHNwbGl0KGV2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9oYW5kbGVycyA9IHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgaWYgKCFfaGFuZGxlcnMpIHtcbiAgICAgICAgICB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF0gPSBfaGFuZGxlcnMgPSBbXTtcblxuICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBzdGF0aWMsIHByb3BhZ2F0ZWQgaGFuZGxlclxuICAgICAgICAgIGhhbW1lci5vbihldmVudCwgcHJvcGFnYXRlZEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIF9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVyIGEgaGFuZGxlciBmb3Igb25lIG9yIG11bHRpcGxlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHMgICAgICBBIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgd2l0aCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlcl0gT3B0aW9uYWwuIFRoZSByZWdpc3RlcmVkIGhhbmRsZXIuIElmIG5vdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCwgYWxsIGhhbmRsZXJzIGZvciBnaXZlbiBldmVudHNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIHJlbW92ZWQuXG4gICAgICogQHJldHVybnMge0hhbW1lci5NYW5hZ2VyfSAgIFJldHVybnMgdGhlIGhhbW1lciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyYXBwZXIub2ZmID0gZnVuY3Rpb24gKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgLy8gdW5yZWdpc3RlciB0aGUgaGFuZGxlclxuICAgICAgc3BsaXQoZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2hhbmRsZXJzID0gd3JhcHBlci5faGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICBpZiAoX2hhbmRsZXJzKSB7XG4gICAgICAgICAgX2hhbmRsZXJzID0gaGFuZGxlciA/IF9oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuICAgICAgICAgIH0pIDogW107XG5cbiAgICAgICAgICBpZiAoX2hhbmRsZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdyYXBwZXIuX2hhbmRsZXJzW2V2ZW50XSA9IF9oYW5kbGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgc3RhdGljLCBwcm9wYWdhdGVkIGhhbmRsZXJcbiAgICAgICAgICAgIGhhbW1lci5vZmYoZXZlbnQsIHByb3BhZ2F0ZWRIYW5kbGVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB3cmFwcGVyLl9oYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgdG8gdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqL1xuICAgIHdyYXBwZXIuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZXZlbnQpIHtcbiAgICAgIF9maXJzdFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGhhbW1lci5lbWl0KGV2ZW50VHlwZSwgZXZlbnQpO1xuICAgIH07XG5cbiAgICB3cmFwcGVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBEZXRhY2ggZnJvbSBET00gZWxlbWVudFxuICAgICAgdmFyIGhhbW1lcnMgPSBoYW1tZXIuZWxlbWVudC5oYW1tZXI7XG4gICAgICB2YXIgaWR4ID0gaGFtbWVycy5pbmRleE9mKHdyYXBwZXIpO1xuICAgICAgaWYoaWR4ICE9PSAtMSkgaGFtbWVycy5zcGxpY2UoaWR4LDEpO1xuICAgICAgaWYoIWhhbW1lcnMubGVuZ3RoKSBkZWxldGUgaGFtbWVyLmVsZW1lbnQuaGFtbWVyO1xuXG4gICAgICAvLyBjbGVhciBhbGwgaGFuZGxlcnNcbiAgICAgIHdyYXBwZXIuX2hhbmRsZXJzID0ge307XG5cbiAgICAgIC8vIGNhbGwgb3JpZ2luYWwgaGFtbWVyIGRlc3Ryb3lcbiAgICAgIGhhbW1lci5kZXN0cm95KCk7XG4gICAgfTtcblxuICAgIC8vIHNwbGl0IGEgc3RyaW5nIHdpdGggc3BhY2Ugc2VwYXJhdGVkIHdvcmRzXG4gICAgZnVuY3Rpb24gc3BsaXQoZXZlbnRzKSB7XG4gICAgICByZXR1cm4gZXZlbnRzLm1hdGNoKC9bXiBdKy9nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBldmVudCBoYW5kbGVyLCBhcHBseWluZyBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVkSGFuZGxlcihldmVudCkge1xuICAgICAgLy8gbGV0IG9ubHkgYSBzaW5nbGUgaGFtbWVyIGluc3RhbmNlIGhhbmRsZSB0aGlzIGV2ZW50XG4gICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ2hhbW1lci5pbnB1dCcpIHtcbiAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCB0aGUgc2FtZSBzcmNFdmVudCBpcyB1c2VkIHdpdGggbXVsdGlwbGUgaGFtbWVyIGV2ZW50cyxcbiAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvbiB3aGljaCBldmVudHMgYXJlIGhhbmRsZWQgaW4gYW4gb2JqZWN0IF9oYW5kbGVkXG4gICAgICAgIGlmICghZXZlbnQuc3JjRXZlbnQuX2hhbmRsZWQpIHtcbiAgICAgICAgICBldmVudC5zcmNFdmVudC5faGFuZGxlZCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGV2ZW50LnNyY0V2ZW50Ll9oYW5kbGVkW2V2ZW50LnR5cGVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggYSBzdG9wUHJvcGFnYXRpb24gZnVuY3Rpb24gdG8gdGhlIGV2ZW50XG4gICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vd3JhcCB0aGUgc3JjRXZlbnQncyBzdG9wUHJvcGFnYXRpb24gdG8gYWxzbyBzdG9wIGhhbW1lciBwcm9wYWdhdGlvbjpcbiAgICAgIHZhciBzcmNTdG9wID0gZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uLmJpbmQoZXZlbnQuc3JjRXZlbnQpO1xuICAgICAgaWYodHlwZW9mIHNyY1N0b3AgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc3JjU3RvcCgpO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dGFjaCBmaXJzdFRhcmdldCBwcm9wZXJ0eSB0byB0aGUgZXZlbnRcbiAgICAgIGV2ZW50LmZpcnN0VGFyZ2V0ID0gX2ZpcnN0VGFyZ2V0O1xuXG4gICAgICAvLyBwcm9wYWdhdGUgb3ZlciBhbGwgZWxlbWVudHMgKHVudGlsIHN0b3BwZWQpXG4gICAgICB2YXIgZWxlbSA9IF9maXJzdFRhcmdldDtcbiAgICAgIHdoaWxlIChlbGVtICYmICFzdG9wcGVkKSB7XG4gICAgICAgIHZhciBlbGVtSGFtbWVyID0gZWxlbS5oYW1tZXI7XG4gICAgICAgIGlmKGVsZW1IYW1tZXIpe1xuICAgICAgICAgIHZhciBfaGFuZGxlcnM7XG4gICAgICAgICAgZm9yKHZhciBrID0gMDsgayA8IGVsZW1IYW1tZXIubGVuZ3RoOyBrKyspe1xuICAgICAgICAgICAgX2hhbmRsZXJzID0gZWxlbUhhbW1lcltrXS5faGFuZGxlcnNbZXZlbnQudHlwZV07XG4gICAgICAgICAgICBpZihfaGFuZGxlcnMpIGZvciAodmFyIGkgPSAwOyBpIDwgX2hhbmRsZXJzLmxlbmd0aCAmJiAhc3RvcHBlZDsgaSsrKSB7XG4gICAgICAgICAgICAgIF9oYW5kbGVyc1tpXShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH07XG59KSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9wYWdhdGluZy1oYW1tZXJqcy9wcm9wYWdhdGluZy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLnBhcnNlQWN0aW9ucyA9IHBhcnNlQWN0aW9ucztcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZG9hYmxlO1xuZXhwb3J0cy5kaXN0aW5jdFN0YXRlID0gZGlzdGluY3RTdGF0ZTtcbmV4cG9ydHMuaW5jbHVkZUFjdGlvbiA9IGluY2x1ZGVBY3Rpb247XG5leHBvcnRzLmlmQWN0aW9uID0gaWZBY3Rpb247XG5leHBvcnRzLmV4Y2x1ZGVBY3Rpb24gPSBleGNsdWRlQWN0aW9uO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLy8gZGVidWcgb3V0cHV0XG52YXIgX19ERUJVR19fID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZGVidWcoKSB7XG4gIGlmIChfX0RFQlVHX18pIHtcbiAgICB2YXIgX2NvbnNvbGU7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgIH1cbiAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHZhciBhcmdzID0gWydhY3Rpb24nLCBhY3Rpb24udHlwZV07XG4gICAgaWYgKGNvbnNvbGUuZ3JvdXApIHtcbiAgICAgIHZhciBfY29uc29sZTI7XG5cbiAgICAgIGFyZ3MudW5zaGlmdCgnJWNyZWR1eC11bmRvJywgJ2ZvbnQtc3R5bGU6IGl0YWxpYycpO1xuICAgICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmdyb3VwQ29sbGFwc2VkLmFwcGx5KF9jb25zb2xlMiwgYXJncyk7XG4gICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQnLCB7IHN0YXRlOiBzdGF0ZSwgYWN0aW9uOiBhY3Rpb24gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkZWJ1Z0VuZCgpIHtcbiAgaWYgKF9fREVCVUdfXykge1xuICAgIHJldHVybiBjb25zb2xlLmdyb3VwRW5kICYmIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufVxuLy8gL2RlYnVnIG91dHB1dFxuXG4vLyBhY3Rpb24gdHlwZXNcbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIFVORE86ICdAQHJlZHV4LXVuZG8vVU5ETycsXG4gIFJFRE86ICdAQHJlZHV4LXVuZG8vUkVETycsXG4gIEpVTVBfVE9fRlVUVVJFOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fRlVUVVJFJyxcbiAgSlVNUF9UT19QQVNUOiAnQEByZWR1eC11bmRvL0pVTVBfVE9fUEFTVCdcbn07XG4vLyAvYWN0aW9uIHR5cGVzXG5cbi8vIGFjdGlvbiBjcmVhdG9ycyB0byBjaGFuZ2UgdGhlIHN0YXRlXG52YXIgQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLkFjdGlvbkNyZWF0b3JzID0ge1xuICB1bmRvOiBmdW5jdGlvbiB1bmRvKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFjdGlvblR5cGVzLlVORE8gfTtcbiAgfSxcbiAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBY3Rpb25UeXBlcy5SRURPIH07XG4gIH0sXG4gIGp1bXBUb0Z1dHVyZTogZnVuY3Rpb24ganVtcFRvRnV0dXJlKGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkUsIGluZGV4OiBpbmRleCB9O1xuICB9LFxuICBqdW1wVG9QYXN0OiBmdW5jdGlvbiBqdW1wVG9QYXN0KGluZGV4KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQWN0aW9uVHlwZXMuSlVNUF9UT19QQVNULCBpbmRleDogaW5kZXggfTtcbiAgfVxufTtcbi8vIC9hY3Rpb24gY3JlYXRvcnNcblxuLy8gbGVuZ3RoOiBnZXQgbGVuZ3RoIG9mIGhpc3RvcnlcbmZ1bmN0aW9uIGxlbmd0aChoaXN0b3J5KSB7XG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cbiAgcmV0dXJuIHBhc3QubGVuZ3RoICsgMSArIGZ1dHVyZS5sZW5ndGg7XG59XG4vLyAvbGVuZ3RoXG5cbi8vIGluc2VydDogaW5zZXJ0IGBzdGF0ZWAgaW50byBoaXN0b3J5LCB3aGljaCBtZWFucyBhZGRpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbi8vICAgICAgICAgaW50byBgcGFzdGAsIHNldHRpbmcgdGhlIG5ldyBgc3RhdGVgIGFzIGBwcmVzZW50YCBhbmQgZXJhc2luZ1xuLy8gICAgICAgICB0aGUgYGZ1dHVyZWAuXG5mdW5jdGlvbiBpbnNlcnQoaGlzdG9yeSwgc3RhdGUsIGxpbWl0KSB7XG4gIGRlYnVnKCdpbnNlcnQnLCB7IHN0YXRlOiBzdGF0ZSwgaGlzdG9yeTogaGlzdG9yeSwgZnJlZTogbGltaXQgLSBsZW5ndGgoaGlzdG9yeSkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuXG4gIHZhciBoaXN0b3J5T3ZlcmZsb3cgPSBsaW1pdCAmJiBsZW5ndGgoaGlzdG9yeSkgPj0gbGltaXQ7XG5cbiAgaWYgKHByZXNlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGluaXQgaGlzdG9yeVxuICAgIHJldHVybiB7XG4gICAgICBwYXN0OiBbXSxcbiAgICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgICAgZnV0dXJlOiBbXVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhc3Q6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFzdC5zbGljZShoaXN0b3J5T3ZlcmZsb3cgPyAxIDogMCkpLCBbcHJlc2VudF0pLFxuICAgIHByZXNlbnQ6IHN0YXRlLFxuICAgIGZ1dHVyZTogW11cbiAgfTtcbn1cbi8vIC9pbnNlcnRcblxuLy8gdW5kbzogZ28gYmFjayB0byB0aGUgcHJldmlvdXMgcG9pbnQgaW4gaGlzdG9yeVxuZnVuY3Rpb24gdW5kbyhoaXN0b3J5KSB7XG4gIGRlYnVnKCd1bmRvJywgeyBoaXN0b3J5OiBoaXN0b3J5IH0pO1xuXG4gIHZhciBwYXN0ID0gaGlzdG9yeS5wYXN0O1xuICB2YXIgcHJlc2VudCA9IGhpc3RvcnkucHJlc2VudDtcbiAgdmFyIGZ1dHVyZSA9IGhpc3RvcnkuZnV0dXJlO1xuXG5cbiAgaWYgKHBhc3QubGVuZ3RoIDw9IDApIHJldHVybiBoaXN0b3J5O1xuXG4gIHJldHVybiB7XG4gICAgcGFzdDogcGFzdC5zbGljZSgwLCBwYXN0Lmxlbmd0aCAtIDEpLCAvLyByZW1vdmUgbGFzdCBlbGVtZW50IGZyb20gcGFzdFxuICAgIHByZXNlbnQ6IHBhc3RbcGFzdC5sZW5ndGggLSAxXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBmdXR1cmU6IFtwcmVzZW50XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZ1dHVyZSkpXG4gIH07XG59XG4vLyAvdW5kb1xuXG4vLyByZWRvOiBnbyB0byB0aGUgbmV4dCBwb2ludCBpbiBoaXN0b3J5XG5mdW5jdGlvbiByZWRvKGhpc3RvcnkpIHtcbiAgZGVidWcoJ3JlZG8nLCB7IGhpc3Rvcnk6IGhpc3RvcnkgfSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICBpZiAoZnV0dXJlLmxlbmd0aCA8PSAwKSByZXR1cm4gaGlzdG9yeTtcblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKDEsIGZ1dHVyZS5sZW5ndGgpLCAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGZ1dHVyZVxuICAgIHByZXNlbnQ6IGZ1dHVyZVswXSwgLy8gc2V0IGVsZW1lbnQgYXMgbmV3IHByZXNlbnRcbiAgICBwYXN0OiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhc3QpLCBbcHJlc2VudCAvLyBvbGQgcHJlc2VudCBzdGF0ZSBpcyBpbiB0aGUgcGFzdCBub3dcbiAgICBdKVxuICB9O1xufVxuLy8gL3JlZG9cblxuLy8ganVtcFRvRnV0dXJlOiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBmdXR1cmUgaGlzdG9yeVxuZnVuY3Rpb24ganVtcFRvRnV0dXJlKGhpc3RvcnksIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuIHJlZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogZnV0dXJlLnNsaWNlKGluZGV4ICsgMSksXG4gICAgcHJlc2VudDogZnV0dXJlW2luZGV4XSxcbiAgICBwYXN0OiBwYXN0LmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUuc2xpY2UoMCwgaW5kZXgpKVxuICB9O1xufVxuLy8gL2p1bXBUb0Z1dHVyZVxuXG4vLyBqdW1wVG9QYXN0OiBqdW1wIHRvIHJlcXVlc3RlZCBpbmRleCBpbiBwYXN0IGhpc3RvcnlcbmZ1bmN0aW9uIGp1bXBUb1Bhc3QoaGlzdG9yeSwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSBoaXN0b3J5LnBhc3QubGVuZ3RoIC0gMSkgcmV0dXJuIHVuZG8oaGlzdG9yeSk7XG5cbiAgdmFyIHBhc3QgPSBoaXN0b3J5LnBhc3Q7XG4gIHZhciBwcmVzZW50ID0gaGlzdG9yeS5wcmVzZW50O1xuICB2YXIgZnV0dXJlID0gaGlzdG9yeS5mdXR1cmU7XG5cblxuICByZXR1cm4ge1xuICAgIGZ1dHVyZTogcGFzdC5zbGljZShpbmRleCArIDEpLmNvbmNhdChbcHJlc2VudF0pLmNvbmNhdChmdXR1cmUpLFxuICAgIHByZXNlbnQ6IHBhc3RbaW5kZXhdLFxuICAgIHBhc3Q6IHBhc3Quc2xpY2UoMCwgaW5kZXgpXG4gIH07XG59XG4vLyAvanVtcFRvUGFzdFxuXG4vLyB3cmFwU3RhdGU6IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byAwLjRcbmZ1bmN0aW9uIHdyYXBTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgaGlzdG9yeTogc3RhdGVcbiAgfSk7XG59XG4vLyAvd3JhcFN0YXRlXG5cbi8vIHVwZGF0ZVN0YXRlXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZShzdGF0ZSwgaGlzdG9yeSkge1xuICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgaGlzdG9yeSkpO1xufVxuLy8gL3VwZGF0ZVN0YXRlXG5cbi8vIGNyZWF0ZUhpc3RvcnlcbmZ1bmN0aW9uIGNyZWF0ZUhpc3Rvcnkoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBwYXN0OiBbXSxcbiAgICBwcmVzZW50OiBzdGF0ZSxcbiAgICBmdXR1cmU6IFtdXG4gIH07XG59XG4vLyAvY3JlYXRlSGlzdG9yeVxuXG4vLyBwYXJzZUFjdGlvbnNcbmZ1bmN0aW9uIHBhcnNlQWN0aW9ucyhyYXdBY3Rpb25zKSB7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyYXdBY3Rpb25zKSkge1xuICAgIHJldHVybiByYXdBY3Rpb25zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByYXdBY3Rpb25zID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBbcmF3QWN0aW9uc107XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbi8vIC9wYXJzZUFjdGlvbnNcblxuLy8gcmVkdXgtdW5kbyBoaWdoZXIgb3JkZXIgcmVkdWNlclxuZnVuY3Rpb24gdW5kb2FibGUocmVkdWNlcikge1xuICB2YXIgcmF3Q29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgX19ERUJVR19fID0gcmF3Q29uZmlnLmRlYnVnO1xuXG4gIHZhciBjb25maWcgPSB7XG4gICAgaW5pdGlhbFN0YXRlOiByYXdDb25maWcuaW5pdGlhbFN0YXRlLFxuICAgIGluaXRUeXBlczogcGFyc2VBY3Rpb25zKHJhd0NvbmZpZy5pbml0VHlwZXMsIFsnQEByZWR1eC9JTklUJywgJ0BASU5JVCddKSxcbiAgICBsaW1pdDogcmF3Q29uZmlnLmxpbWl0LFxuICAgIGZpbHRlcjogcmF3Q29uZmlnLmZpbHRlciB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHVuZG9UeXBlOiByYXdDb25maWcudW5kb1R5cGUgfHwgQWN0aW9uVHlwZXMuVU5ETyxcbiAgICByZWRvVHlwZTogcmF3Q29uZmlnLnJlZG9UeXBlIHx8IEFjdGlvblR5cGVzLlJFRE8sXG4gICAganVtcFRvUGFzdFR5cGU6IHJhd0NvbmZpZy5qdW1wVG9QYXN0VHlwZSB8fCBBY3Rpb25UeXBlcy5KVU1QX1RPX1BBU1QsXG4gICAganVtcFRvRnV0dXJlVHlwZTogcmF3Q29uZmlnLmp1bXBUb0Z1dHVyZVR5cGUgfHwgQWN0aW9uVHlwZXMuSlVNUF9UT19GVVRVUkVcbiAgfTtcbiAgY29uZmlnLmhpc3RvcnkgPSByYXdDb25maWcuaW5pdGlhbEhpc3RvcnkgfHwgY3JlYXRlSGlzdG9yeShjb25maWcuaW5pdGlhbFN0YXRlKTtcblxuICBpZiAoY29uZmlnLmluaXRUeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLndhcm4oJ3JlZHV4LXVuZG86IHN1cHBseSBhdCBsZWFzdCBvbmUgYWN0aW9uIHR5cGUgaW4gaW5pdFR5cGVzIHRvIGVuc3VyZSBpbml0aWFsIHN0YXRlJyk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBkZWJ1Z1N0YXJ0KGFjdGlvbiwgc3RhdGUpO1xuICAgIHZhciByZXMgPSB1bmRlZmluZWQ7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgY2FzZSBjb25maWcudW5kb1R5cGU6XG4gICAgICAgIHJlcyA9IHVuZG8oc3RhdGUpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIgdW5kbycsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5yZWRvVHlwZTpcbiAgICAgICAgcmVzID0gcmVkbyhzdGF0ZSk7XG4gICAgICAgIGRlYnVnKCdhZnRlciByZWRvJywgcmVzKTtcbiAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlcyA/IHVwZGF0ZVN0YXRlKHN0YXRlLCByZXMpIDogc3RhdGU7XG5cbiAgICAgIGNhc2UgY29uZmlnLmp1bXBUb1Bhc3RUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9QYXN0KHN0YXRlLCBhY3Rpb24uaW5kZXgpO1xuICAgICAgICBkZWJ1ZygnYWZ0ZXIganVtcFRvUGFzdCcsIHJlcyk7XG4gICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgIHJldHVybiByZXMgPyB1cGRhdGVTdGF0ZShzdGF0ZSwgcmVzKSA6IHN0YXRlO1xuXG4gICAgICBjYXNlIGNvbmZpZy5qdW1wVG9GdXR1cmVUeXBlOlxuICAgICAgICByZXMgPSBqdW1wVG9GdXR1cmUoc3RhdGUsIGFjdGlvbi5pbmRleCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBqdW1wVG9GdXR1cmUnLCByZXMpO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuICAgICAgICByZXR1cm4gcmVzID8gdXBkYXRlU3RhdGUoc3RhdGUsIHJlcykgOiBzdGF0ZTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzID0gcmVkdWNlcihzdGF0ZSAmJiBzdGF0ZS5wcmVzZW50LCBhY3Rpb24pO1xuXG4gICAgICAgIGlmIChjb25maWcuaW5pdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGFjdGlvblR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uVHlwZSA9PT0gYWN0aW9uLnR5cGU7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgZGVidWcoJ3Jlc2V0IGhpc3RvcnkgZHVlIHRvIGluaXQgYWN0aW9uJyk7XG4gICAgICAgICAgZGVidWdFbmQoKTtcbiAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwgY3JlYXRlSGlzdG9yeShyZXMpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmZpbHRlciAmJiB0eXBlb2YgY29uZmlnLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGlmICghY29uZmlnLmZpbHRlcihhY3Rpb24sIHJlcywgc3RhdGUgJiYgc3RhdGUucHJlc2VudCkpIHtcbiAgICAgICAgICAgIGRlYnVnKCdmaWx0ZXIgcHJldmVudGVkIGFjdGlvbiwgbm90IHN0b3JpbmcgaXQnKTtcbiAgICAgICAgICAgIGRlYnVnRW5kKCk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcFN0YXRlKF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICBwcmVzZW50OiByZXNcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGlzdG9yeSA9IHN0YXRlICYmIHN0YXRlLnByZXNlbnQgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogY29uZmlnLmhpc3Rvcnk7XG4gICAgICAgIHZhciB1cGRhdGVkSGlzdG9yeSA9IGluc2VydChoaXN0b3J5LCByZXMsIGNvbmZpZy5saW1pdCk7XG4gICAgICAgIGRlYnVnKCdhZnRlciBpbnNlcnQnLCB7IGhpc3Rvcnk6IHVwZGF0ZWRIaXN0b3J5LCBmcmVlOiBjb25maWcubGltaXQgLSBsZW5ndGgodXBkYXRlZEhpc3RvcnkpIH0pO1xuICAgICAgICBkZWJ1Z0VuZCgpO1xuXG4gICAgICAgIHJldHVybiB3cmFwU3RhdGUoX2V4dGVuZHMoe30sIHN0YXRlLCB1cGRhdGVkSGlzdG9yeSkpO1xuICAgIH1cbiAgfTtcbn1cbi8vIC9yZWR1eC11bmRvXG5cbi8vIGRpc3RpbmN0U3RhdGUgaGVscGVyXG5mdW5jdGlvbiBkaXN0aW5jdFN0YXRlKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgY3VycmVudFN0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZSAhPT0gcHJldmlvdXNTdGF0ZTtcbiAgfTtcbn1cbi8vIC9kaXN0aW5jdFN0YXRlXG5cbi8vIGluY2x1ZGVBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpbmNsdWRlQWN0aW9uKHJhd0FjdGlvbnMpIHtcbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPj0gMDtcbiAgfTtcbn1cbi8vIC9pbmNsdWRlQWN0aW9uXG5cbi8vIGRlcHJlY2F0ZWQgaWZBY3Rpb24gaGVscGVyXG5mdW5jdGlvbiBpZkFjdGlvbihyYXdBY3Rpb25zKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0RlcHJlY2F0aW9uIFdhcm5pbmc6IFBsZWFzZSBjaGFuZ2UgYGlmQWN0aW9uYCB0byBgaW5jbHVkZUFjdGlvbmAnKTtcbiAgcmV0dXJuIGluY2x1ZGVBY3Rpb24ocmF3QWN0aW9ucyk7XG59XG4vLyAvaWZBY3Rpb25cblxuLy8gZXhjbHVkZUFjdGlvbiBoZWxwZXJcbmZ1bmN0aW9uIGV4Y2x1ZGVBY3Rpb24oKSB7XG4gIHZhciByYXdBY3Rpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGFjdGlvbnMgPSBwYXJzZUFjdGlvbnMocmF3QWN0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgPCAwO1xuICB9O1xufVxuLy8gL2V4Y2x1ZGVBY3Rpb25cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yZWR1eC11bmRvL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDExMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5cbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFlfU0laRSA9IEMuQ1VSVkVfU0laRTtcbmNvbnN0IG1vZCA9ICggdGVtcFJlc2l6ZV90b3AsIGNvZWYgPSAxICkgPT4ge1xuICBjb25zdCBNT0QgPSBNYXRoLmFicyh0ZW1wUmVzaXplX3RvcCAlIFlfU0laRSksXG4gICAgICAgIERJViA9IHBhcnNlSW50KHRlbXBSZXNpemVfdG9wIC8gWV9TSVpFKSxcbiAgICAgICAgR0FQID0gMTU7XG5cbiAgaWYgKE1PRCA8IEdBUCApIHsgdGVtcFJlc2l6ZV90b3AgPSBESVYqWV9TSVpFOyB9XG4gIGVsc2UgaWYgKCBNT0QgPiBZX1NJWkUgLSBHQVAgKSB7IHRlbXBSZXNpemVfdG9wID0gY29lZiooRElWKzEpKllfU0laRTsgfVxuXG4gIHJldHVybiB0ZW1wUmVzaXplX3RvcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcmVzaXplLW1vZC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEN1cnZlIGZyb20gJy4vY3VydmUnO1xuaW1wb3J0IFJlc2l6ZUhhbmRsZSBmcm9tICcuL3Jlc2l6ZS1oYW5kbGUnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvclJpZ2h0ID0gKHtzdGF0ZX0pID0+IHtcbiAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUtZWRpdG9yX19yaWdodCddfT5cbiAgICAgICAgICAgIDxDdXJ2ZSBzdGF0ZSA9eyBzdGF0ZSB9IC8+XG4gICAgICAgICAgICA8UmVzaXplSGFuZGxlIHR5cGU9XCJyaWdodFwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cImJvdHRvbVwiIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZSddIH0gLz5cbiAgICAgICAgICA8L2Rpdj4pXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JSaWdodDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2N1cnZlLWVkaXRvci1yaWdodC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBtb2QgZnJvbSAnLi4vaGVscGVycy9yZXNpemUtbW9kJztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBwcm9wYWdhdGluZyBmcm9tICdwcm9wYWdhdGluZy1oYW1tZXJqcyc7XG5yZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlJyk7XG5cbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzLmpzb24nKTtcbmNsYXNzIEN1cnZlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7c3RhdGV9ICAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHtwYXRofSAgICA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuICAgICAgICAgIHN0eWxlcyAgICA9IHRoaXMuX2dldFN0eWxlKCBzdGF0ZSApLFxuICAgICAgICAgIHBvaW50cyAgICA9IHRoaXMuX3JlbmRlclBvaW50cyggc3RhdGUgKSxcbiAgICAgICAgICBzZWdtZW50cyAgPSB0aGlzLl9yZW5kZXJTZWdtZW50cyggc3RhdGUgKTtcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Q0xBU1NFU1snY3VydmUnXX0+XG4gICAgICAgICAgICAgIDxkaXYgIGNsYXNzTmFtZT17IENMQVNTRVNbJ2N1cnZlX19iYWNrZ3JvdW5kJ119XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYmFja2dyb3VuZH0gLz5cbiAgICAgICAgICAgICAgPGRpdiAgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY3VydmVfX3N2Zy13cmFwcGVyJ119XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMudHJhbnNmb3JtfT5cblxuICAgICAgICAgICAgICAgIHsgcG9pbnRzIH1cblxuICAgICAgICAgICAgICAgIDxzdmcgIGhlaWdodD17IEMuQ1VSVkVfU0laRSB9XG4gICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMDAgMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJqcy1zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPXsgQ0xBU1NFU1snY3VydmVfX3N2ZyddIH0+XG5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9e3BhdGh9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjMDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZS1vcGFjaXR5PVwiMC4zNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC43NSwuNzUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCIgLz5cblxuICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJqcy1zZWdtZW50c1wiPiB7IHNlZ21lbnRzIH0gPC9nPlxuXG4gICAgICAgICAgICAgICAgPC9zdmc+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIF9nZXRTdHlsZShzdGF0ZSkge1xuICAgIGNvbnN0IHtyZXNpemV9ID0gc3RhdGU7XG4gICAgbGV0IHt0ZW1wX3RvcCwgdGVtcF9yaWdodH0gPSByZXNpemU7XG5cbiAgICB0ZW1wX3RvcCAgICArPSByZXNpemUudG9wO1xuICAgIHRlbXBfcmlnaHQgICs9IHJlc2l6ZS5yaWdodDtcblxuICAgIGlmIChDLkNVUlZFX1NJWkUgLSB0ZW1wX3RvcCA8IEMuQ1VSVkVfU0laRSkgeyB0ZW1wX3RvcCA9IDA7IH1cbiAgICB0ZW1wX3RvcCA9IG1vZCggdGVtcF90b3AsIC0xICk7XG5cbiAgICBjb25zdCBzY2FsZSA9IGB0cmFuc2Zvcm06IHNjYWxlWCgkeyhDLkNVUlZFX1NJWkUgKyBNYXRoLm1heCh0ZW1wX3JpZ2h0LDApKS9DLkNVUlZFX1NJWkV9KWAsXG4gICAgICAgICAgYmdUcmFuc2Zvcm0gPSBgJHttb2pzLmgucHJlZml4LmNzc30ke3NjYWxlfTsgJHtzY2FsZX07YCxcbiAgICAgICAgICBiYWNrZ3JvdW5kID0gYGJhY2tncm91bmQtcG9zaXRpb246IDAgJHstdGVtcF90b3AgLSAxfXB4OyAke2JnVHJhbnNmb3JtfWAsXG4gICAgICAgICAgdHJhbnNmb3JtICA9IGB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwcHgsICR7LXRlbXBfdG9wfXB4KWA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhY2tncm91bmQsXG4gICAgICB0cmFuc2Zvcm06IGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNmb3JtfTsgJHt0cmFuc2Zvcm19O2BcbiAgICB9O1xuICB9XG5cbiAgX3JlbmRlclBvaW50cyAoc3RhdGUpIHtcbiAgICBjb25zdCBwb2ludHNEYXRhID0gc3RhdGUucG9pbnRzLnByZXNlbnQucG9pbnRzLFxuICAgICAgICAgIHBvaW50cyAgICAgPSBbXSxcbiAgICAgICAgICBsZW4gICAgICAgID0gcG9pbnRzRGF0YS5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBwb2ludHMucHVzaChcbiAgICAgICAgPFBvaW50IHBvaW50PXsgcG9pbnRzRGF0YVtpXSB9IHN0YXRlPXtzdGF0ZX0gaW5kZXg9e2l9IHBvaW50c0NvdW50PXtsZW59IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbiAgfVxuXG4gIF9yZW5kZXJTZWdtZW50cyAoc3RhdGUpIHtcbiAgICBjb25zdCB7c2VnbWVudHN9ICA9IHN0YXRlLnBvaW50cy5wcmVzZW50LFxuICAgICAgICAgIGRvbVNlZ21lbnRzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICBkb21TZWdtZW50cy5wdXNoKFxuICAgICAgICA8cGF0aCBkPXtzZWdtZW50LnNlZ21lbnRTdHJpbmd9XG4gICAgICAgICAgICAgIGRhdGEtaW5kZXg9e3NlZ21lbnQuaW5kZXh9XG4gICAgICAgICAgICAgIHN0cm9rZT1cIndoaXRlXCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCJcIlxuICAgICAgICAgICAgICB2ZWN0b3ItZWZmZWN0PVwibm9uLXNjYWxpbmctc3Ryb2tlXCJcbiAgICAgICAgICAgICAgY2xhc3M9e0NMQVNTRVNbJ2N1cnZlX19zdmctc2VnbWVudCddfVxuICAgICAgICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tU2VnbWVudHM7XG4gIH1cblxuICAvLyBfcmVuZGVyU2VnbWVudCAoIGluZGV4LCBzdHJpbmcpIHtcbiAgLy8gICByZXR1cm4gPHBhdGhcbiAgLy8gICAgICAgICAgIGQ9e3N0cmluZ31cbiAgLy8gICAgICAgICAgIGRhdGEtaW5kZXg9e2luZGV4fVxuICAvLyAgICAgICAgICAgc3Ryb2tlPVwid2hpdGVcIlxuICAvLyAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAvLyAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiXCJcbiAgLy8gICAgICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxuICAvLyAgICAgICAgICAgY2xhc3M9e0NMQVNTRVNbJ2N1cnZlX19zdmctc2VnbWVudCddfVxuICAvLyAgICAgICAgICAgLz47XG4gIC8vIH1cblxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgY29uc3QgZWwgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXNlZ21lbnRzJyksXG4gICAgICAgICAgbWMgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIoZWwpKTtcblxuICAgIC8vIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuVGFwKTtcblxuICAgIG1jXG4gICAgICAub24oJ3RhcCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ICAgICA9IGUuc3JjRXZlbnQsXG4gICAgICAgICAgICAgIHRhcmdldCA9IGV2LnRhcmdldDtcbiAgICAgICAgLy8gaGFuZGxlIHBhdGhzIG9ubHlcbiAgICAgICAgaWYgKCB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAncGF0aCcgKSB7IHJldHVybjsgfVxuICAgICAgICAvLyBjb29yZGluYXRlc1xuICAgICAgICBjb25zdCB4ICA9IGV2Lm9mZnNldFgsXG4gICAgICAgICAgICAgIHkgID0gZXYub2Zmc2V0WSpDLkNVUlZFX1BFUkNFTlQsXG4gICAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKSArIDE7XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICAgICAgJ1BPSU5UX0FERCcsXG4gICAgICAgICAgZGF0YTogICAgICB7IHBvaW50OiB7IHgsIHkgfSwgaW5kZXggfSxcbiAgICAgICAgICBpc1JlY29yZDogIHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuICAgICAgICAgIGRhdGE6IHsgaW5kZXgsIHR5cGU6ICdzdHJhaWdodCcgfVxuICAgICAgICB9KTtcblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3ZnICAgPSB0aGlzLmJhc2UucXVlcnlTZWxlY3RvcignI2pzLXN2ZycpLFxuICAgICAgICAgIHN2Z01jID0gcHJvcGFnYXRpbmcobmV3IEhhbW1lci5NYW5hZ2VyKHN2ZykpO1xuXG4gICAgc3ZnTWMuYWRkKG5ldyBIYW1tZXIuVGFwKTtcblxuICAgIHN2Z01jXG4gICAgICAub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0RFU0VMRUNUX0FMTCcgfSk7IH0pO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS5iYWJlbC5qc3hcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoYW5nbGUsIHJhZGl1cykgPT4ge1xuICByZXR1cm4gbW9qcy5oLmdldFJhZGlhbFBvaW50KHsgYW5nbGUsIHJhZGl1cywgY2VudGVyOiB7IHg6IDAsIHk6IDAgfSB9KVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYW5nbGUtdG8tcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFkZFBvaW50ZXJEb3duIGZyb20gJy4uL2hlbHBlcnMvYWRkLXBvaW50ZXItZG93bic7XG5pbXBvcnQgTGl0dGxlSGFuZGxlIGZyb20gJy4vbGl0dGxlLWhhbmRsZSc7XG5pbXBvcnQgcHJvcGFnYXRpbmcgZnJvbSAncHJvcGFnYXRpbmctaGFtbWVyanMnO1xuaW1wb3J0IHJvdW5kVG8gZnJvbSAnLi4vaGVscGVycy9yb3VuZC10byc7XG5pbXBvcnQgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJztcbmltcG9ydCBjbGFtcCBmcm9tICcuLi9oZWxwZXJzL2NsYW1wJztcbmltcG9ydCBtb2QgZnJvbSAnLi4vaGVscGVycy9yZXNpemUtbW9kJztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcG9pbnQnKTtcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgUG9pbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtwb2ludCwgc3RhdGV9ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzZWxlY3RlZCAgPSAocG9pbnQuaXNTZWxlY3RlZCkgPyBDTEFTU0VTWydpcy1zZWxlY3RlZCddIDogJycsXG4gICAgICAgICAgaGFuZGxlcyAgID0gKHBvaW50LnR5cGUgPT09ICdzdHJhaWdodCcpID8gQ0xBU1NFU1snaXMtaGlkZS1oYW5kbGVzJ10gOiAnJztcblxuICAgIGNvbnN0IGxpdHRsZUhhbmRsZXMgPSB0aGlzLl9nZXRMaXR0bGVIYW5kbGVzKCApO1xuXG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e2Ake0NMQVNTRVNbJ3BvaW50J119ICR7c2VsZWN0ZWR9ICR7aGFuZGxlc31gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9eyB0aGlzLl9nZXRTdHlsZShzdGF0ZSkgfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJwb2ludFwiPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydwb2ludF9fdG91Y2gnXSB9IGlkPVwianMtcG9pbnQtdG91Y2hcIiAvPlxuXG4gICAgICAgICAgICAgIHsgbGl0dGxlSGFuZGxlcyB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICB9XG5cbiAgX2dldFN0eWxlIChzdGF0ZSkge1xuICAgIGNvbnN0IHtwb2ludH0gICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAge3Jlc2l6ZX0gID0gc3RhdGUsXG4gICAgICAgICAgeCAgICAgICAgID0gY2xhbXAocG9pbnQueCArIHBvaW50LnRlbXBYLCAwLCAxMDApLFxuICAgICAgICAgIGNsZWFuWCAgICA9IHggKiByZXNpemUuc2NhbGVyWCxcbiAgICAgICAgICB5ICAgICAgICAgPSBwb2ludC55ICsgcG9pbnQudGVtcFk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhwb2ludCk7XG5cbiAgICBjb25zdCB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtjbGVhblh9cHgsICR7eS0xfXB4KWA7XG4gICAgcmV0dXJuIGAke21vanMuaC5wcmVmaXguY3NzfSR7dHJhbnNsYXRlfTsgJHt0cmFuc2xhdGV9YDtcbiAgfVxuXG4gIF9nZXRMaXR0bGVIYW5kbGVzICgpIHtcbiAgICBjb25zdCB7aW5kZXgsIHBvaW50LCBwb2ludHNDb3VudH0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGhhbmRsZXMgPSBbXTtcbiAgICAvLyBkb250IHNldCB0aGUgaGFuZGxlMSBmb3Igc3RhcnQgcG9pbnRcbiAgICAoaW5kZXggIT09IDApICYmIGhhbmRsZXMucHVzaCggdGhpcy5fY3JlYXRlSGFuZGxlKCAxLCBwb2ludCApICk7XG4gICAgLy8gZG9udCBzZXQgdGhlIGhhbmRsZTIgZm9yIGVuZCBwb2ludFxuICAgIChpbmRleCAhPT0gcG9pbnRzQ291bnQtMSkgJiYgaGFuZGxlcy5wdXNoKCB0aGlzLl9jcmVhdGVIYW5kbGUoIDIsIHBvaW50ICkgKTtcbiAgICByZXR1cm4gaGFuZGxlcztcbiAgfVxuXG4gIF9jcmVhdGVIYW5kbGUgKGluZGV4LCBwb2ludCkgIHtcbiAgICByZXR1cm4gPExpdHRsZUhhbmRsZVxuICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgIHN0YXRlPXt0aGlzLnByb3BzLnN0YXRlfVxuICAgICAgICBwYXJlbnRJbmRleD17dGhpcy5wcm9wcy5pbmRleH1cbiAgICAgICAgaGFuZGxlPXtwb2ludFtgaGFuZGxlJHtpbmRleH1gXX1cbiAgICAgICAgdHlwZT17cG9pbnQudHlwZX1cbiAgICAgICAgLz5cbiAgfVxuICBcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGNvbnN0IHtzdG9yZX0gID0gdGhpcy5jb250ZXh0O1xuXG4gICAgY29uc3QgZ2V0VGVtcFggPSAoZSkgPT4ge1xuICAgICAgY29uc3Qge3Jlc2l6ZX0gPSB0aGlzLnByb3BzLnN0YXRlLFxuICAgICAgICAgICAge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgLy8gaWYgcG9pbnQgaXMgbm90IGxvY2tlZCB0byB4IGF4ZXMgLT5cbiAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YSByZWdhcmRpbmcgc2NhbGVyXG4gICAgICBpZiAoIHBvaW50LmlzTG9ja2VkWCApIHsgcmV0dXJuIDAgfTtcbiAgICAgICAgXG4gICAgICBjb25zdCB4ID0gZS5kZWx0YVgvcmVzaXplLnNjYWxlclg7XG4gICAgICBpZiAoIHBvaW50LnggKyB4IDwgMCApIHsgcmV0dXJuIDAgLSBwb2ludC54OyB9XG4gICAgICBlbHNlIGlmICggcG9pbnQueCArIHggPiAxMDAgKSB7IHJldHVybiAxMDAgLSBwb2ludC54OyB9XG4gICAgICByZXR1cm4gcm91bmRUbyggcG9pbnQueCArIHgsIDUsIDEuNSApIC0gcG9pbnQueDtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRZID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHkgPSBwb2ludC55ICsgZS5kZWx0YVk7XG5cbiAgICAgIC8vIGNsYW1wIHkgdG8gdGhlIHNpemUgb2YgY3VydmVcbiAgICAgIHJldHVybiBjbGFtcCggeSwgcmVzaXplLnRvcCwgQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSApOyBcbiAgICB9XG5cbiAgICAvLyBnZXQgeSBkZWx0YSByZWFnYXJkaW5nIGN1cnZlIGJvdW5kc1xuICAgIGNvbnN0IGdldFRlbXBZID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtyZXNpemV9ID0gdGhpcy5wcm9wcy5zdGF0ZSxcbiAgICAgICAgICAgIHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcblxuICAgICAgbGV0IHkgPSBwb2ludC55ICsgZS5kZWx0YVksXG4gICAgICAgICAgcmV0dXJuVmFsdWUgPSB5O1xuXG4gICAgICBpZiAoIHkgPCByZXNpemUudG9wICkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IHJlc2l6ZS50b3A7XG4gICAgICB9IGVsc2UgaWYgKCB5ID4gQy5DVVJWRV9TSVpFICsgcmVzaXplLmJvdHRvbSApIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBDLkNVUlZFX1NJWkUgKyByZXNpemUuYm90dG9tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcm91bmRUbyggcmV0dXJuVmFsdWUsIDUqQy5DVVJWRV9QRVJDRU5ULCAyKkMuQ1VSVkVfUEVSQ0VOVCApIC0gcG9pbnQueTtcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuYmFzZS5xdWVyeVNlbGVjdG9yKCcjanMtcG9pbnQtdG91Y2gnKSxcbiAgICAgICAgICBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcihlbCkpO1xuXG4gICAgbWMuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwIH0pKTtcblxuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9UUkFOU0xBVEUnLFxuICAgICAgICAgIGRhdGE6IHsgeDogZ2V0VGVtcFgoZSksIHk6IGdldFRlbXBZKGUpLCBpbmRleCB9XG4gICAgICAgIH0pO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5vbigncGFuZW5kJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge3BvaW50LCBpbmRleH0gPSB0aGlzLnByb3BzO1xuICAgICAgICAvLyBmaXJlIHRyYW5zbGF0ZSBlbmQgYW5kIHNhdmUgaXQgdG8gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnUE9JTlRfVFJBTlNMQVRFX0VORCcsIGRhdGE6IGluZGV4LCBpc1JlY29yZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAvLyAub24oJ3RhcCcsIChlKSA9PiB7XG4gICAgICAvLyAgIGNvbnN0IHtwb2ludCwgaW5kZXh9ID0gdGhpcy5wcm9wc1xuICAgICAgLy8gICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAvLyAgICAgdHlwZTogJ1BPSU5UX1NFTEVDVCcsXG4gICAgICAvLyAgICAgZGF0YToge1xuICAgICAgLy8gICAgICAgaW5kZXgsIGlzRGVzZWxlY3Q6ICFlLnNyY0V2ZW50LnNoaWZ0S2V5LFxuICAgICAgLy8gICAgICAgdHlwZTogcG9pbnQudHlwZVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfSk7XG4gICAgICAvLyAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyB9KTtcblxuICAgICAgYWRkUG9pbnRlckRvd24oIGVsLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB7cG9pbnQsIGluZGV4fSA9IHRoaXMucHJvcHNcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdQT0lOVF9TRUxFQ1QnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4LCBpc0Rlc2VsZWN0OiAhZS5zaGlmdEtleSxcbiAgICAgICAgICAgIHR5cGU6IHBvaW50LnR5cGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcG9pbnQuYmFiZWwuanN4XG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgKGVsLCBmbikgPT4ge1xuICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignTVNQb2ludGVyRG93bicsIGZuKTtcbiAgfSBlbHNlIGlmICggd2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkICkge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmbik7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZm4pO1xuICB9IGVsc2Uge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZuKTtcbiAgfVxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvYWRkLXBvaW50ZXItZG93bi5iYWJlbC5qc1xuICoqLyIsImltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuLi9oZWxwZXJzL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBwb2ludFRvQW5nbGUgZnJvbSAnLi4vaGVscGVycy9wb2ludC10by1hbmdsZSc7XG5cbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlJyk7XG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb24nKTtcblxuY2xhc3MgTGl0dGxlSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICAvLyBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gIDxkaXYgIGNsYXNzTmFtZT17Q0xBU1NFU1snbGl0dGxlLWhhbmRsZSddfVxuICAgICAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJsaXR0bGUtaGFuZGxlXCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz17IENMQVNTRVNbJ2xpdHRsZS1oYW5kbGVfX3BvaW50J10gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt0aGlzLl9nZXRQb2ludFN0eWxlKCl9IC8+XG5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPXsgQ0xBU1NFU1snbGl0dGxlLWhhbmRsZV9fbGluZSddIH1cbiAgICAgICAgICAgICAgICBzdHlsZT17dGhpcy5fZ2V0TGluZVN0eWxlKCl9IC8+XG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSAgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgbWMgICAgICAgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICB2YXIge2hhbmRsZX0gPSB0aGlzLnByb3BzO1xuICAgIG1jLmFkZChuZXcgSGFtbWVyLlBhbih7IHRocmVzaG9sZDogMCB9KSk7XG4gICAgbWNcbiAgICAgIC5vbigncGFuc3RhcnQnLCAoZSkgPT4geyBoYW5kbGUgPSB0aGlzLnByb3BzLmhhbmRsZTsgfSlcbiAgICAgIC5vbigncGFuJywgKGUpID0+IHtcbiAgICAgICAgY29uc3Qge2luZGV4LCBwYXJlbnRJbmRleH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICAgICAgbmV3WCAgPSBwb2ludC54ICsgZS5kZWx0YVgsXG4gICAgICAgICAgICAgIG5ld1kgID0gcG9pbnQueSArIGUuZGVsdGFZLFxuICAgICAgICAgICAgICBhbmdsZSA9IHBvaW50VG9BbmdsZSggbmV3WCwgbmV3WSApO1xuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgZGF0YTogeyBpbmRleCwgcGFyZW50SW5kZXgsIC4uLmFuZ2xlIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCB0aGlzLnByb3BzLnR5cGUgPT09ICdtaXJyb3JlZCcgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBhbmdsZS5yYWRpdXMsXG4gICAgICAgICAgICAgIGFuZ2xlOiAgYW5nbGUuYW5nbGUgLSAxODBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5wcm9wcy50eXBlID09PSAnYXN5bW1ldHJpYycgKSB7XG4gICAgICAgICAgY29uc3QgaSA9IChpbmRleCA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFORExFX1RSQU5TTEFURScsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBpLCBwYXJlbnRJbmRleCxcbiAgICAgICAgICAgICAgcmFkaXVzOiBoYW5kbGUucmFkaXVzLFxuICAgICAgICAgICAgICBhbmdsZTogIGFuZ2xlLmFuZ2xlIC0gMTgwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAub24oJ3BhbmVuZCcsIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pO1xuICB9XG5cbiAgX2dldFBvaW50U3R5bGUgKCkge1xuICAgIGNvbnN0IHtoYW5kbGV9ICA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcG9pbnQgICAgID0gYW5nbGVUb1BvaW50KCBoYW5kbGUuYW5nbGUsIGhhbmRsZS5yYWRpdXMgKSxcbiAgICAgICAgICB0cmFuc2xhdGUgPSBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHtwb2ludC54fXB4LCAke3BvaW50Lnl9cHgpIHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpYDtcblxuICAgIHJldHVybiBgJHttb2pzLmgucHJlZml4LmNzc30ke3RyYW5zbGF0ZX07ICR7dHJhbnNsYXRlfWA7XG4gIH1cblxuICBfZ2V0TGluZVN0eWxlICgpIHtcbiAgICBjb25zdCB7aGFuZGxlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRyYW5zbGF0ZSA9IGB0cmFuc2Zvcm06IHJvdGF0ZSgke2hhbmRsZS5hbmdsZX1kZWcpIHNjYWxlWSgke2hhbmRsZS5yYWRpdXN9KWA7XG5cbiAgICByZXR1cm4gYCR7bW9qcy5oLnByZWZpeC5jc3N9JHt0cmFuc2xhdGV9OyAke3RyYW5zbGF0ZX1gO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXR0bGVIYW5kbGU7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2xpdHRsZS1oYW5kbGUuYmFiZWwuanN4XG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfYXNzaWduID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2Fzc2lnblwiKTtcblxudmFyIF9hc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX2Fzc2lnbjIuZGVmYXVsdCB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5hc3NpZ247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHthc3NpZ246IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKX0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSU9iamVjdCAgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCAkYXNzaWduICA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHZhciBBID0ge31cbiAgICAsIEIgPSB7fVxuICAgICwgUyA9IFN5bWJvbCgpXG4gICAgLCBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oayl7IEJba10gPSBrOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgICAgID0gdG9PYmplY3QodGFyZ2V0KVxuICAgICwgYUxlbiAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpbmRleCA9IDFcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmZcbiAgICAsIGlzRW51bSAgICAgPSBwSUUuZjtcbiAgd2hpbGUoYUxlbiA+IGluZGV4KXtcbiAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pXG4gICAgICAsIGtleXMgICA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUylcbiAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICwgaiAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzXG4gKiogbW9kdWxlIGlkID0gMTIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAoeCwgeSkgPT4ge1xuICBsZXQgICByYWRpdXMgID0gTWF0aC5zcXJ0KCB4KnggKyB5KnkgKSxcbiAgICAgICAgYW5nbGUgICA9IE1hdGguYXRhbiggeS94ICkgKiAoMTgwL01hdGguUEkpIC0gOTA7XG4gIGlmICggeCA+IDAgKSB7IGFuZ2xlID0gYW5nbGUgLSAxODAgfTtcblxuICByZXR1cm4geyByYWRpdXMsIGFuZ2xlIH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9wb2ludC10by1hbmdsZS5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9saXR0bGUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9saXR0bGUtaGFuZGxlX2l3MnJ1XzN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDowO2hlaWdodDowfS5fbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7d2lkdGg6NnB4O2hlaWdodDo2cHg7bGVmdDo1MCU7dG9wOjUwJTttYXJnaW4tbGVmdDotM3B4O21hcmdpbi10b3A6LTNweDtiYWNrZ3JvdW5kOiNmZjUxMmY7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuNSl9Ll9saXR0bGUtaGFuZGxlX19wb2ludF9pdzJydV8xOmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MjAwJTtoZWlnaHQ6MjAwJTtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi1sZWZ0Oi0xMDAlO21hcmdpbi10b3A6LTEwMCV9Ll9saXR0bGUtaGFuZGxlX19saW5lX2l3MnJ1XzF7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7bWFyZ2luLWxlZnQ6LTFweDttYXJnaW4tdG9wOi0xcHg7bGVmdDo1MCU7dG9wOjUwJTtiYWNrZ3JvdW5kOiNmZjUxMmY7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSAxMDAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvbGl0dGxlLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMCxcclxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xyXG5cclxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xyXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xyXG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXSgpO1xyXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcclxuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0aWYoZG9tU3R5bGUpIHtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XHJcblx0dmFyIHN0eWxlcyA9IFtdO1xyXG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG5cdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xyXG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcclxuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xyXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pXHJcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0cmV0dXJuIHN0eWxlcztcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xyXG5cdFx0aWYoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgaGVhZC5maXJzdENoaWxkKTtcclxuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcclxuXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xyXG5cdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcclxuXHRpZihpZHggPj0gMCkge1xyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucykge1xyXG5cdHZhciBsaW5rRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XHJcblx0cmV0dXJuIGxpbmtFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcclxuXHJcblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcclxuXHRcdHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXHJcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHR1cGRhdGUob2JqKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0aWYobmV3T2JqKSB7XHJcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdGV4dFN0b3JlID0gW107XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XHJcblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xyXG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcclxuXHJcblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcclxuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaW5rKGxpbmtFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImxpdHRsZS1oYW5kbGVcIjogXCJfbGl0dGxlLWhhbmRsZV9pdzJydV8zXCIsXG5cdFwibGl0dGxlLWhhbmRsZV9fcG9pbnRcIjogXCJfbGl0dGxlLWhhbmRsZV9fcG9pbnRfaXcycnVfMVwiLFxuXHRcImxpdHRsZS1oYW5kbGVfX2xpbmVcIjogXCJfbGl0dGxlLWhhbmRsZV9fbGluZV9pdzJydV8xXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2xpdHRsZS1oYW5kbGUucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDEyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG5leHBvcnQgZGVmYXVsdCAodmFsdWUsIGJhc2UsIHNuYXApID0+IHtcbiAgY29uc3QgbW9kaWZpZWQgPSBNYXRoLnJvdW5kKHZhbHVlL2Jhc2UpKmJhc2U7XG5cbiAgcmV0dXJuICggTWF0aC5hYnModmFsdWUgLSBtb2RpZmllZCkgPCBzbmFwICkgPyBtb2RpZmllZCA6IHZhbHVlO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvcm91bmQtdG8uYmFiZWwuanNcbiAqKi8iLCJcblxuZXhwb3J0IGRlZmF1bHQgKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xuICByZXR1cm4gKHZhbHVlIDwgbWluKVxuICAgID8gbWluXG4gICAgOiAodmFsdWUgPiBtYXgpID8gbWF4IDogdmFsdWU7XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jbGFtcC5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcG9pbnQucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fcG9pbnRfMTdwYjFfNXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4O21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXRvcDotNXB4O2N1cnNvcjptb3ZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjUwJTt6LWluZGV4OjM7Ym94LXNoYWRvdzozcHggM3B4IDAgcmdiYSgwLDAsMCwuNSk7Ym9yZGVyOjJweCBzb2xpZCAjZmZmfS5fcG9pbnRfMTdwYjFfNSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfS5fcG9pbnRfX3RvdWNoXzE3cGIxXzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoyMHB4O2hlaWdodDoyMHB4O21hcmdpbi1sZWZ0Oi0xMHB4O21hcmdpbi10b3A6LTEwcHh9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSwuX3BvaW50XzE3cGIxXzU6aG92ZXJ7Ym9yZGVyLWNvbG9yOiNmZjUxMmZ9Ll9wb2ludF8xN3BiMV81Ll9pcy1zZWxlY3RlZF8xN3BiMV8zMSBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpibG9ja30uX3BvaW50XzE3cGIxXzUuX2lzLWhpZGUtaGFuZGxlc18xN3BiMV80MiBbZGF0YS1jb21wb25lbnQ9bGl0dGxlLWhhbmRsZV17ZGlzcGxheTpub25lfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJwb2ludFwiOiBcIl9wb2ludF8xN3BiMV81XCIsXG5cdFwicG9pbnRfX3RvdWNoXCI6IFwiX3BvaW50X190b3VjaF8xN3BiMV8xXCIsXG5cdFwiaXMtc2VsZWN0ZWRcIjogXCJfaXMtc2VsZWN0ZWRfMTdwYjFfMzFcIixcblx0XCJpcy1oaWRlLWhhbmRsZXNcIjogXCJfaXMtaGlkZS1oYW5kbGVzXzE3cGIxXzQyXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3BvaW50LnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmVfZ3Zjcm5fNXtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTBweDtib3JkZXItcmFkaXVzOjJweDtiYWNrZ3JvdW5kOnJnYmEoNTgsOCw1OCwuNzUpO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDRweCA0cHggMCByZ2JhKDAsMCwwLC41KTt6LWluZGV4OjJ9Ll9jdXJ2ZV9fYmFja2dyb3VuZF9ndmNybl8xe3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MDt0b3A6MDtib3R0b206MDt3aWR0aDozNTBweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMTc1cHg7b3BhY2l0eTouNTtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtQSE4yWnlCM2FXUjBhRDBpTXpVd2NIZ2lJR2hsYVdkb2REMGlNelV3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F6TlRBZ016VXdJaUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ0lDQWdJQ0FnUEhScGRHeGxQbE5zYVdObElERThMM1JwZEd4bFBpQWdJQ0E4WkdWell6NURjbVZoZEdWa0lIZHBkR2dnVTJ0bGRHTm9Mand2WkdWell6NGdJQ0FnUEdSbFpuTStQQzlrWldaelBpQWdJQ0E4WnlCcFpEMGlVR0ZuWlMweElpQnpkSEp2YTJVOUltNXZibVVpSUhOMGNtOXJaUzEzYVdSMGFEMGlNU0lnWm1sc2JEMGlibTl1WlNJZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lqNGdJQ0FnSUNBZ0lEeG5JR2xrUFNKSGNtOTFjQ0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb0xURXVNREF3TURBd0xDQXdMakF3TURBd01Da2lJSE4wY205clpUMGlJMFpHUmtaR1JpSStJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNek15NDBPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Nek16TGpRNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE14TlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU16RTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSTVPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWprNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJNE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1Namd3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEkwTlM0NU9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1qUTFMams1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUSXlPQzQwT1RjNE1qRXNNelV3TGpVd01UQTRPQ0JNTWpJNExqUTVOemd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRJeE1DNDVPVGM0TWpFc016VXdMalV3TVRBNE9DQk1NakV3TGprNU56Z3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEU1TXk0ME9UYzRNakVzTXpVd0xqVXdNVEE0T0NCTU1Ua3pMalE1TnpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTFPUzR6TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRVNUxqTTNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFME1TNDROekk0TWpFc016VXdMalV3TVRBNE9DQk1NVFF4TGpnM01qZ3lNU3d3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEV5TkM0ek56STRNakVzTXpVd0xqVXdNVEE0T0NCTU1USTBMak0zTWpneU1Td3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURXdOaTQ0TnpJNE1qRXNNelV3TGpVd01UQTRPQ0JNTVRBMkxqZzNNamd5TVN3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjeExqZzNNamd5TURjc016VXdMalV3TVRBNE9DQk1OekV1T0RjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVFUwTGpNM01qZ3lNRGNzTXpVd0xqVXdNVEE0T0NCTU5UUXVNemN5T0RJd055d3dMalV3TVRBNE9ETXdNaUlnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTJMamczTWpneU1EY3NNelV3TGpVd01UQTRPQ0JNTXpZdU9EY3lPREl3Tnl3d0xqVXdNVEE0T0RNd01pSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFNUxqTTNNamd5TURjc016VXdMalV3TVRBNE9DQk1NVGt1TXpjeU9ESXdOeXd3TGpVd01UQTRPRE13TWlJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTVRrdU1EQXlNVGM1TXlCTU1TNHdNREV3T0RnekxERTVMakF3TWpFM09UTWlJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExETTJMalV3TWpFM09UTWdUREV1TURBeE1EZzRNeXd6Tmk0MU1ESXhOemt6SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3cxTkM0d01ESXhOemt6SUV3eExqQXdNVEE0T0RNc05UUXVNREF5TVRjNU15SWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc056RXVOVEF5TVRjNU15Qk1NUzR3TURFd09EZ3pMRGN4TGpVd01qRTNPVE1pSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREV3Tmk0MU1ESXhOemtnVERFdU1EQXhNRGc0TXl3eE1EWXVOVEF5TVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3eE1qUXVNREF5TVRjNUlFd3hMakF3TVRBNE9ETXNNVEkwTGpBd01qRTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNVFF4TGpVd01qRTNPU0JNTVM0d01ERXdPRGd6TERFME1TNDFNREl4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB6TlRFdU1EQXhNRGc0TERFMU9TNHdNREl4TnprZ1RERXVNREF4TURnNE15d3hOVGt1TURBeU1UYzVJaUJwWkQwaWNHRjBhREU0TnpJaUlHOXdZV05wZEhrOUlqQXVNalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk16VXhMakF3TVRBNE9Dd3hPVE11TVRJM01UYzVJRXd4TGpBd01UQTRPRE1zTVRrekxqRXlOekUzT1NJZ2FXUTlJbkJoZEdneE9EY3lJaUJ2Y0dGamFYUjVQU0l3TGpJMUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTVM0d01ERXdPRGdzTWpFd0xqWXlOekUzT1NCTU1TNHdNREV3T0RnekxESXhNQzQyTWpjeE56a2lJR2xrUFNKd1lYUm9NVGczTWlJZ2IzQmhZMmwwZVQwaU1DNHlOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5URXVNREF4TURnNExESXlPQzR4TWpjeE56a2dUREV1TURBeE1EZzRNeXd5TWpndU1USTNNVGM1SWlCcFpEMGljR0YwYURFNE56SWlJRzl3WVdOcGRIazlJakF1TWpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV4TGpBd01UQTRPQ3d5TkRVdU5qSTNNVGM1SUV3eExqQXdNVEE0T0RNc01qUTFMall5TnpFM09TSWdhV1E5SW5CaGRHZ3hPRGN5SWlCdmNHRmphWFI1UFNJd0xqSTFJajQ4TDNCaGRHZytJQ0FnSUNBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRNMU1TNHdNREV3T0Rnc01qZ3dMall5TnpFM09TQk1NUzR3TURFd09EZ3pMREk0TUM0Mk1qY3hOemtpSUdsa1BTSndZWFJvTVRnM01pSWdiM0JoWTJsMGVUMGlNQzR5TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHpOVEV1TURBeE1EZzRMREk1T0M0eE1qY3hOemtnVERFdU1EQXhNRGc0TXl3eU9UZ3VNVEkzTVRjNUlpQnBaRDBpY0dGMGFERTROeklpSUc5d1lXTnBkSGs5SWpBdU1qVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTXpVeExqQXdNVEE0T0N3ek1UVXVOakkzTVRjNUlFd3hMakF3TVRBNE9ETXNNekUxTGpZeU56RTNPU0lnYVdROUluQmhkR2d4T0RjeUlpQnZjR0ZqYVhSNVBTSXdMakkxSWo0OEwzQmhkR2crSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUTTFNUzR3TURFd09EZ3NNek16TGpFeU56RTNPU0JNTVM0d01ERXdPRGd6TERNek15NHhNamN4TnpraUlHbGtQU0p3WVhSb01UZzNNaUlnYjNCaFkybDBlVDBpTUM0eU5TSStQQzl3WVhSb1BpQWdJQ0FnSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0T0M0d05qUXhNelV5TERFZ1REZzRMakEyTkRFek5USXNNelV4SWlCcFpEMGljR0YwYURneU1UVWlJRzl3WVdOcGRIazlJakF1TlNJK1BDOXdZWFJvUGlBZ0lDQWdJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhOelV1TVRJNE1qY3NNU0JNTVRjMUxqRXlPREkzTERNMU1TSWdhV1E5SW5CaGRHZzRNakUxSWlCdmNHRmphWFI1UFNJd0xqVWlQand2Y0dGMGFENGdJQ0FnSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTWpZeUxqRTVNalF3Tml3eElFd3lOakl1TVRreU5EQTJMRE0xTVNJZ2FXUTlJbkJoZEdnNE1qRTFJaUJ2Y0dGamFYUjVQU0l3TGpVaVBqd3ZjR0YwYUQ0Z0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5NelV3TGpVMk16VTVNU3c0T0M0d05qUTJOemt6SUV3d0xqVTJNelU1TVRBeU1pdzRPQzR3TmpRMk56a3pJaUJwWkQwaWNHRjBhRGd5TVRVaUlHOXdZV05wZEhrOUlqQXVOU0krUEM5d1lYUm9QaUFnSUNBZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswek5UQXVOVFl6TlRreExERTNOUzQxTmpRMk56a2dUREF1TlRZek5Ua3hNREl5TERFM05TNDFOalEyTnpraUlHbGtQU0p3WVhSb09ESXhOU0lnYjNCaFkybDBlVDBpTUM0MUlqNDhMM0JoZEdnK0lDQWdJQ0FnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVE0xTUM0MU5qTTFPVEVzTWpZekxqQTJORFkzT1NCTU1DNDFOak0xT1RFd01qSXNNall6TGpBMk5EWTNPU0lnYVdROUluQmhkR2c0TWpFMUlpQnZjR0ZqYVhSNVBTSXdMalVpUGp3dmNHRjBhRDRnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaWNtVmpkREV3TURjNElpQnZjR0ZqYVhSNVBTSXdMamMxSWlCNFBTSXdMamczTWpneE56azFOU0lnZVQwaU1TSWdkMmxrZEdnOUlqTTFNQ0lnYUdWcFoyaDBQU0l6TlRBaVBqd3ZjbVZqZEQ0Z0lDQWdJQ0FnSUR3dlp6NGdJQ0FnUEM5blBqd3ZjM1puUGc9PSl9Ll9jdXJ2ZV9fc3ZnLXdyYXBwZXJfZ3Zjcm5fMXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bGVmdDotMXB4O3JpZ2h0Oi0xcHh9Ll9jdXJ2ZV9fc3ZnX2d2Y3JuXzF7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlO3dpZHRoOjEwMCV9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMXtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MnB4O2N1cnNvcjpjcm9zc2hhaXJ9Ll9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMTpob3ZlcntzdHJva2U6I2ZmNTEyZn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDEzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmVcIjogXCJfY3VydmVfZ3Zjcm5fNVwiLFxuXHRcImN1cnZlX19iYWNrZ3JvdW5kXCI6IFwiX2N1cnZlX19iYWNrZ3JvdW5kX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnLXdyYXBwZXJcIjogXCJfY3VydmVfX3N2Zy13cmFwcGVyX2d2Y3JuXzFcIixcblx0XCJjdXJ2ZV9fc3ZnXCI6IFwiX2N1cnZlX19zdmdfZ3Zjcm5fMVwiLFxuXHRcImN1cnZlX19zdmctc2VnbWVudFwiOiBcIl9jdXJ2ZV9fc3ZnLXNlZ21lbnRfZ3Zjcm5fMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9jdXJ2ZS5wb3N0Y3NzLmNzcy5qc29uXG4gKiogbW9kdWxlIGlkID0gMTM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcblxuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZScpO1xuY2xhc3MgUmVzaXplSGFuZGxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7dHlwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUnXX1gLFxuICAgICAgICAgIGNsYXNzVHlwZSA9IGAke0NMQVNTRVNbJ3Jlc2l6ZS1oYW5kbGUtLScgKyB0eXBlIF19YDtcbiAgICByZXR1cm4gPGRpdlxuICAgICAgY2xhc3NOYW1lPXsgYCR7Y2xhc3NOYW1lfSAke2NsYXNzVHlwZX0gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gIH1cbiAgICAgIGRhdGEtdHlwZT17dHlwZX1cbiAgICAgIGRhdGEtY29tcG9uZW50PVwicmVzaXplLWhhbmRsZVwiPlxuICAgICAgICA8SWNvbiBzaGFwZT1cImVsbGlwc2lzXCIgLz5cbiAgICAgIDwvZGl2PjtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7c3RvcmV9ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHt0eXBlfSAgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1jICAgICAgPSBwcm9wYWdhdGluZyhuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5iYXNlKSk7XG5cbiAgICBtYy5hZGQobmV3IEhhbW1lci5QYW4oeyB0aHJlc2hvbGQ6IDAgfSkpO1xuICAgIG1jXG4gICAgICAub24oJ3BhbicsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHggPSBlLmRlbHRhWCwgeSA9IGUuZGVsdGFZO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh7IHR5cGU6ICdFRElUT1JfUkVTSVpFJywgZGF0YTogeyB4LCB5LCB0eXBlIH0gfSk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KVxuICAgICAgLm9uKCdwYW5lbmQnLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gZS5kZWx0YVgsIHkgPSBlLmRlbHRhWTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnRURJVE9SX1JFU0laRV9FTkQnLCBkYXRhOiB7IHgsIHksIHR5cGUgfSB9KTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlc2l6ZUhhbmRsZTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL3Jlc2l6ZS1oYW5kbGUuYmFiZWwuanN4XG4gKiovIiwiaW1wb3J0IHsgaCwgQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3MuanNvbicpO1xucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uJyk7XG5cbmNsYXNzIEljb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtzaGFwZX0gPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG1hcmt1cCA9IGA8c3ZnIHZpZXdCb3g9XCIwIDAgMzIgMzJcIj48dXNlIHhsaW5rOmhyZWY9XCIjJHtzaGFwZX0tc2hhcGVcIiAvPjwvc3ZnPmA7XG4gICAgcmV0dXJuICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0NMQVNTRVNbJ2ljb24nXX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hcmt1cCB9fT5cbiAgICAgICAgICAgIDwvZGl2PjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJpY29uXCI6IFwiX2ljb25fNGE4bGZfNVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9pY29uLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uXzRhOGxmXzV7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtjdXJzb3I6cG9pbnRlcjtmaWxsOiNmZmY7ZGlzcGxheTpibG9ja30uX2ljb25fNGE4bGZfNT5zdmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81PnN2Zz51c2V7ZmlsbDppbmhlcml0fS5faWNvbl80YThsZl81OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2ljb24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcInJlc2l6ZS1oYW5kbGVcIjogXCJfcmVzaXplLWhhbmRsZV9rODFrY180XCIsXG5cdFwicmVzaXplLWhhbmRsZS0tcmlnaHRcIjogXCJfcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMVwiLFxuXHRcInJlc2l6ZS1oYW5kbGUtLWJvdHRvbVwiOiBcIl9yZXNpemUtaGFuZGxlLS1ib3R0b21fazgxa2NfMVwiXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvY3NzL2Jsb2Nrcy9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9yZXNpemUtaGFuZGxlLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL3Jlc2l6ZS1oYW5kbGUucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9yZXNpemUtaGFuZGxlX2s4MWtjXzR7YmFja2dyb3VuZDojM2QxYjNjO3dpZHRoOjMycHg7aGVpZ2h0OjE2cHg7ZGlzcGxheTpibG9jaztjdXJzb3I6bi1yZXNpemU7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6M3B4O2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46NTAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjo1MCUgMTAwJX0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNDphZnRlcntjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6Mn0uX3Jlc2l6ZS1oYW5kbGVfazgxa2NfNCBbZGF0YS1jb21wb25lbnQ9aWNvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotN3B4fS5fcmVzaXplLWhhbmRsZV9rODFrY180OmhvdmVye29wYWNpdHk6Ljg1fS5fcmVzaXplLWhhbmRsZS0tcmlnaHRfazgxa2NfMXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO2N1cnNvcjplLXJlc2l6ZX0uX3Jlc2l6ZS1oYW5kbGUtLWJvdHRvbV9rODFrY18xey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMTgwZGVnKTtjdXJzb3I6cy1yZXNpemV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvcmVzaXplLWhhbmRsZS5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY3VydmUtZWRpdG9yXCI6IFwiX2N1cnZlLWVkaXRvcl8xZjhyNV80XCIsXG5cdFwiY3VydmUtZWRpdG9yX19sZWZ0XCI6IFwiX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xXCIsXG5cdFwiY3VydmUtZWRpdG9yX19yaWdodFwiOiBcIl9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVcIjogXCJfY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFcIixcblx0XCJjdXJ2ZS1lZGl0b3JfX2FuY2hvci1idXR0b25zXCI6IFwiX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMVwiLFxuXHRcImN1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXCI6IFwiX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBDb2RlQnV0dG9uIGZyb20gJy4vY29kZS1idXR0b24nO1xuaW1wb3J0IEljb25EaXZpZGVyIGZyb20gJy4vaWNvbi1kaXZpZGVyJztcbmltcG9ydCBQb2ludENvbnRyb2xzIGZyb20gJy4vcG9pbnQtY29udHJvbHMnO1xuXG5jb25zdCBDTEFTU0VTID0gcmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jb25zdCBDdXJ2ZUVkaXRvckxlZnQgPSAoe3N0YXRlfSkgPT4ge1xuICByZXR1cm4gIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydjdXJ2ZS1lZGl0b3JfX2xlZnQnXX0gaWQ9XCJqcy1sZWZ0LXBhbmVsXCI+XG4gICAgICAgICAgICA8Q29kZUJ1dHRvbiBzdGF0ZT17c3RhdGV9IC8+XG4gICAgICAgICAgICA8SWNvbkRpdmlkZXIgLz5cbiAgICAgICAgICAgIDxQb2ludENvbnRyb2xzIHN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnMnXX0gLz5cbiAgICAgICAgICAgIDxhICBjbGFzc05hbWU9e0NMQVNTRVNbJ2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvJ119XG4gICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9sZWdvbXVzaHJvb20vbW9qcy1jdXJ2ZS1lZGl0b3JcIiB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgICAgPEljb24gc2hhcGU9XCJtb2pzLWxvZ29cIiAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2Pjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVFZGl0b3JMZWZ0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9jdXJ2ZS1lZGl0b3ItbGVmdC5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQge2gsIENvbXBvbmVudH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4vaWNvbi1idXR0b24nO1xuaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuXG5jbGFzcyBDb2RlQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7c3RhdGV9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gPEljb25CdXR0b24gc2hhcGU9XCJjb2RlXCIgaXNDaGVjaz17c3RhdGUuY29udHJvbHMuaXNDb2RlfSAvPjtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3Qge3N0b3JlfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCBtYyA9IHByb3BhZ2F0aW5nKG5ldyBIYW1tZXIuTWFuYWdlcih0aGlzLmJhc2UpKTtcbiAgICBtYy5hZGQobmV3IEhhbW1lci5UYXApO1xuXG4gICAgbWMub24oJ3RhcCcsIChlKSA9PiB7IHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ0NPREVfVEFQJyB9KTsgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29kZUJ1dHRvbjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2NvZGUtYnV0dG9uLmJhYmVsLmpzeFxuICoqLyIsImltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnO1xuLy8gaW1wb3J0IHByb3BhZ2F0aW5nIGZyb20gJ3Byb3BhZ2F0aW5nLWhhbW1lcmpzJztcbmltcG9ydCB7aCwgQ29tcG9uZW50fSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9pY29uLWJ1dHRvbicpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBJY29uQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBjaGVjayA9ICh0aGlzLnByb3BzLmlzQ2hlY2spID8gQ0xBU1NFU1snaXMtY2hlY2tlZCddIDogJyc7XG4gICAgcmV0dXJuICA8ZGl2ICBjbGFzc05hbWU9e2Ake0NMQVNTRVNbJ2ljb24tYnV0dG9uJ119ICR7Y2hlY2t9YH1cbiAgICAgICAgICAgICAgICAgIGRhdGEtY29tcG9uZW50PXsnaWNvbi1idXR0b24nfT5cbiAgICAgICAgICAgICAgPEljb24gc2hhcGU9e3RoaXMucHJvcHMuc2hhcGV9IC8+XG4gICAgICAgICAgICA8L2Rpdj47XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCB0eXBlb2YgdGhpcy5wcm9wcy5vblRhcCA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgIHZhciBoYW1tZXJ0aW1lID0gbmV3IEhhbW1lcih0aGlzLmJhc2UpXG4gICAgICAgIC5vbigndGFwJywgKGUpID0+IHsgdGhpcy5wcm9wcy5vblRhcCggZSwgdGhpcy5wcm9wcyApIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uQnV0dG9uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvaWNvbi1idXR0b24uYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9pY29uLWJ1dHRvbi5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tYnV0dG9uLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9pY29uLWJ1dHRvbl82eXNkaV80e3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOiMzYTA4Mzk7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzoxcHggMXB4IDAgcmdiYSgwLDAsMCwuMTUpfS5faWNvbi1idXR0b25fNnlzZGlfNCBbZGF0YS1jb21wb25lbnQ9aWNvbl17cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQ6aG92ZXJ7Ym94LXNoYWRvdzpub25lfS5faWNvbi1idXR0b25fNnlzZGlfNDpob3ZlciBbZGF0YS1jb21wb25lbnQ9aWNvbl17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC01MiUsLTUyJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTIlLC01MiUpfS5faWNvbi1idXR0b25fNnlzZGlfNC5faXMtY2hlY2tlZF82eXNkaV8zMSwuX2ljb24tYnV0dG9uXzZ5c2RpXzQ6YWN0aXZle2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6aW5zZXQgLTFweCAtMXB4IDAgaHNsYSgwLDAlLDEwMCUsLjI1KSxpbnNldCAxcHggMXB4IDFweCByZ2JhKDAsMCwwLC40KX0uX2ljb24tYnV0dG9uXzZ5c2RpXzQuX2lzLWNoZWNrZWRfNnlzZGlfMzEgW2RhdGEtY29tcG9uZW50PWljb25dLC5faWNvbi1idXR0b25fNnlzZGlfNDphY3RpdmUgW2RhdGEtY29tcG9uZW50PWljb25dey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTQlLC01NCUpIHNjYWxlKC45NSk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTQlLC01NCUpIHNjYWxlKC45NSl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcImljb24tYnV0dG9uXCI6IFwiX2ljb24tYnV0dG9uXzZ5c2RpXzRcIixcblx0XCJpcy1jaGVja2VkXCI6IFwiX2lzLWNoZWNrZWRfNnlzZGlfMzFcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1idXR0b24ucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtofSBmcm9tICdwcmVhY3QnO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb24nKTtcbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtDTEFTU0VTWydpY29uLWRpdmlkZXInXX1cbiAgICAgICAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJpY29uLWRpdmlkZXJcIiAvPjtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2ljb24tZGl2aWRlci5iYWJlbC5qc3hcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJpY29uLWRpdmlkZXJcIjogXCJfaWNvbi1kaXZpZGVyX2Z0YXNrXzNcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vaWNvbi1kaXZpZGVyLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2ljb24tZGl2aWRlcl9mdGFza18ze3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG87d2lkdGg6MTZweDtoZWlnaHQ6MXB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDpoc2xhKDAsMCUsMTAwJSwuMyk7Ym94LXNoYWRvdzowIDFweCAwIHJnYmEoMCwwLDAsLjMpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2ljb24tZGl2aWRlci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtoLCBDb21wb25lbnR9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICcuL2ljb24tYnV0dG9uJztcblxucmVxdWlyZSgnLi4vLi4vY3NzL2Jsb2Nrcy9wb2ludC1jb250cm9scycpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3MuanNvbicpO1xuXG5jbGFzcyBQb2ludENvbnRyb2xzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB7c3RhdGV9ICAgPSBwLFxuICAgICAgICAgIGNvbnRyb2xzICA9IHN0YXRlLnBvaW50Q29udHJvbHMucHJlc2VudCxcbiAgICAgICAgICBzaG93ICAgICAgPSAoY29udHJvbHMuaXNTaG93KSA/IENMQVNTRVNbJ2lzLXNob3cnXSA6ICcnLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IGAke3AuY2xhc3NOYW1lfSAke0NMQVNTRVNbJ3BvaW50LWNvbnRyb2xzJ119ICR7c2hvd31gLFxuICAgICAgICAgIGJ1dHRvbnMgICA9IHRoaXMuX2FkZEJ1dHRvbnMoY29udHJvbHMpO1xuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PiB7YnV0dG9uc30gPC9kaXY+XG4gIH1cblxuICBfb25CdXR0b25UYXAgKHR5cGUpIHtcbiAgICByZXR1cm4gKGUpID0+IHtcbiAgICAgIGNvbnN0IHtzdG9yZX0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogJ1BPSU5UX0NIQU5HRV9UWVBFJywgZGF0YTogdHlwZSwgaXNSZWNvcmQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgX2FkZEJ1dHRvbnMgKGNvbnRyb2xzKSB7XG4gICAgY29uc3QgYnV0dG9uc01hcCAgPSBbICdzdHJhaWdodCcsICdkaXNjb25uZWN0ZWQnLCAnbWlycm9yZWQnLCAnYXN5bW1ldHJpYycgXSxcbiAgICAgICAgICBidXR0b25zICAgICA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zTWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0eXBlID0gYnV0dG9uc01hcFtpXTtcbiAgICAgIGJ1dHRvbnMucHVzaCg8SWNvbkJ1dHRvbiAgc2hhcGU9e2Bwb2ludC0ke3R5cGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGVjaz17IGNvbnRyb2xzLnR5cGUgPT09IHR5cGUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRhcD17IHRoaXMuX29uQnV0dG9uVGFwKHR5cGUpIH0gLz4pO1xuICAgIH1cbiAgICByZXR1cm4gYnV0dG9ucztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3RhZ3MvcG9pbnQtY29udHJvbHMuYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9wb2ludC1jb250cm9scy5wb3N0Y3NzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl9wb2ludC1jb250cm9sc18xajVmNF80e2Rpc3BsYXk6bm9uZX0uX3BvaW50LWNvbnRyb2xzXzFqNWY0XzQuX2lzLXNob3dfMWo1ZjRfN3tkaXNwbGF5OmJsb2NrfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL3BvaW50LWNvbnRyb2xzLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJwb2ludC1jb250cm9sc1wiOiBcIl9wb2ludC1jb250cm9sc18xajVmNF80XCIsXG5cdFwiaXMtc2hvd1wiOiBcIl9pcy1zaG93XzFqNWY0XzdcIlxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvcG9pbnQtY29udHJvbHMucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCc7XG5cbmNvbnN0IEljb25zID0gKCkgPT4ge1xuICByZXR1cm4gPGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGA8c3ZnIGhlaWdodD1cIjBcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMTAwJTsgd2lkdGg6MDsgaGVpZ2h0OjA7XCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+XG4gICAgICA8ZyBpZD1cImVsbGlwc2lzLXNoYXBlXCI+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxMVwiIGN5PVwiMTZcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjE2XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjIxXCIgY3k9XCIxNlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICA8L2c+XG4gICAgICA8cGF0aCBpZD1cImNvZGUtc2hhcGVcIiBkPVwiTTgsMTYuMDg0OTY0OCBDOCwxNS44MjEwNzkzIDguMTExNDkwNjksMTUuNjEyOTM5MyA4LjMzNDgzNDA1LDE1LjQ2MDkwNjUgTDEyLjMzOTA4NzQsMTIuODQxOTYxMiBDMTIuMzg5NzY0OSwxMi44MDE0MTkyIDEyLjQ2NTc4MTMsMTIuNzgxMTQ4MSAxMi41Njc0OTg1LDEyLjc4MTE0ODEgQzEyLjczOTgwMjMsMTIuNzgxMTQ4MSAxMi45MDQ4NjY0LDEyLjg1NzE2NDUgMTMuMDYyMzI4OSwxMy4wMDk1NTkyIEMxMy4yMTk0Mjk0LDEzLjE2MTk1NCAxMy4yOTgzNDE3LDEzLjMzOTMyNTUgMTMuMjk4MzQxNywxMy41NDIzOTc5IEMxMy4yOTgzNDE3LDEzLjczNTMzNDcgMTMuMjIxOTYzMywxMy44ODI2NjE3IDEzLjA2OTIwNjYsMTMuOTg0MDE2OCBMOS44NTc2OTU1MywxNi4wODQ5NjQ4IEwxMy4wNjkyMDY2LDE4LjE4NjI3NDcgQzEzLjIyMTk2MzMsMTguMjY3NzIwOCAxMy4yOTgzNDE3LDE4LjQxNDY4NTggMTMuMjk4MzQxNywxOC42Mjc4OTM3IEMxMy4yOTgzNDE3LDE4LjgzMDk2NiAxMy4yMTk3OTE0LDE5LjAwNjE2NTcgMTMuMDYyMzI4OSwxOS4xNTMxMzA3IEMxMi45MDQ4NjY0LDE5LjMwMDQ1NzYgMTIuNzM5ODAyMywxOS4zNzM5NDAxIDEyLjU2NzQ5ODUsMTkuMzczOTQwMSBDMTIuNDY1NzgxMywxOS4zNzM5NDAxIDEyLjM4OTc2NDksMTkuMzUzNjY5MSAxMi4zMzkwODc0LDE5LjMxMzEyNyBMOC4zMzQ4MzQwNSwxNi42OTM4MTk4IEM4LjExMTQ5MDY5LDE2LjU0MTQyNSA4LDE2LjMzODcxNDcgOCwxNi4wODQ5NjQ4IEw4LDE2LjA4NDk2NDggWiBNMTQuMTM5OTUxNiwyMC42ODc1NzU2IEMxNC4xMjY1NTgyLDIwLjYwNzU3NzQgMTQuMTI4NzMwMSwyMC41MzAxMTMxIDE0LjE0NjgyOTMsMjAuNDU0ODIwNyBMMTYuOTM5NTI2MywxMS4zNTYwMjIgQzE2Ljk4OTExNzksMTEuMTYyMzYxMiAxNy4xMjM3NzU1LDExLjA0Njg4ODcgMTcuMzQ0MjIzLDExLjAwOTYwNDUgQzE3LjUwNDIxOTQsMTAuOTgyNDU1OCAxNy42NTg3ODYsMTEuMDEyODYyMyAxNy44MDc1NjA5LDExLjEwMDgyNDIgQzE3Ljk1NjMzNTgsMTEuMTg5MTQ3OSAxOC4wNDQyOTc2LDExLjMxMzMwOCAxOC4wNzEwODQ0LDExLjQ3MzMwNDQgQzE4LjA4NjI4NzYsMTEuNTYzNDM4MSAxOC4wNzk3NzIsMTEuNjQ3MDU2MSAxOC4wNTE4OTkzLDExLjcyMzc5NjUgTDE1LjI2NjQ0MTksMjAuNzc0ODEzNCBDMTUuMjA4NTI0NywyMC45ODAwNTc3IDE1LjA1OTM4NzgsMjEuMTAzMTMxOCAxNC44MTkzOTMyLDIxLjE0NDAzNTggQzE0LjY0ODg5OTMsMjEuMTcyOTk0NSAxNC40OTk0MDA1LDIxLjEzODk2ODEgMTQuMzY5ODEwNiwyMS4wNDI2ODA3IEMxNC4yNDAyMjA4LDIwLjk0NjAzMTMgMTQuMTYzODQyNCwyMC44Mjc2NjI5IDE0LjEzOTk1MTYsMjAuNjg3NTc1NiBMMTQuMTM5OTUxNiwyMC42ODc1NzU2IFogTTE4Ljk1Mjg3NDQsMTkuMTUyNzY4NyBDMTguNzk1NDExOSwxOS4wMDU4MDM3IDE4LjcxNjg2MTYsMTguODMwNjA0IDE4LjcxNjg2MTYsMTguNjI3NTMxNyBDMTguNzE2ODYxNiwxOC40MjQ0NTk0IDE4Ljc4NzgxMDIsMTguMjc3NDk0NCAxOC45MzAwNjk1LDE4LjE4NTkxMjcgTDIyLjE0MjY2NjUsMTYuMDg0NjAyOCBMMTguOTMwMDY5NSwxMy45ODM2NTQ5IEMxOC43ODc4MTAyLDEzLjg3MTgwMjIgMTguNzE2ODYxNiwxMy43MjQ4MzcyIDE4LjcxNjg2MTYsMTMuNTQyMDM1OSBDMTguNzE2ODYxNiwxMy4zMzg5NjM2IDE4Ljc5NTQxMTksMTMuMTYxNTkyIDE4Ljk1Mjg3NDQsMTMuMDA5MTk3MyBDMTkuMTEwMzM2OSwxMi44NTY4MDI1IDE5LjI3NTAzOSwxMi43ODA3ODYxIDE5LjQ0NzcwNDgsMTIuNzgwNzg2MSBDMTkuNTM4OTI0NSwxMi43ODA3ODYxIDE5LjYwOTg3MzEsMTIuODAxNDE5MiAxOS42NjA5MTI2LDEyLjg0MTU5OTIgTDIzLjY2NTE2NTksMTUuNDYwNTQ0NSBDMjMuODg4MTQ3MywxNS42MTI5MzkzIDI0LDE1LjgyMTA3OTMgMjQsMTYuMDg0NjAyOCBDMjQsMTYuMzQ4ODUwMiAyMy44ODgxNDczLDE2LjU1MTU2MDYgMjMuNjY1MTY1OSwxNi42OTM4MTk4IEwxOS42NjA5MTI2LDE5LjMxMjc2NTEgQzE5LjYwOTg3MzEsMTkuMzUzMzA3MSAxOS41Mzg5MjQ1LDE5LjM3MzU3ODIgMTkuNDQ3NzA0OCwxOS4zNzM1NzgyIEMxOS4yNzUwMzksMTkuMzczNTc4MiAxOS4xMTAzMzY5LDE5LjMwMDA5NTcgMTguOTUyODc0NCwxOS4xNTI3Njg3IEwxOC45NTI4NzQ0LDE5LjE1Mjc2ODcgWlwiPjwvcGF0aD5cbiAgICAgIDxnIGlkPVwicG9pbnQtc3RyYWlnaHQtc2hhcGVcIiBmaWxsPVwibm9uZVwiPlxuICAgICAgICA8cG9seWxpbmUgZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgcG9pbnRzPVwiNy44ODEgMjAuNTY4IDE1LjQ1MSAxMi4yNDEgMjMuODkyIDIwLjU2OFwiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuOVwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cbiAgICAgIDwvZz5cbiAgICAgIDxnIGlkPVwicG9pbnQtbWlycm9yZWQtc2hhcGVcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj5cbiAgICAgICAgPHBhdGggZmlsbD1cIiM4QjZFOEFcIiBzdHJva2U9XCIjRkZGRkZGXCIgZD1cIk03Ljg4MTQ0ODQxLDIxLjkwMTI2MzIgQzcuODgxNDQ4NDEsMjEuOTAxMjYzMiA3LjU5Mjg3MTcyLDEzLjU3NDA1MzcgMTUuNDUxNDQyMywxMy41NzQwNTM3IEMyMy4zMTAwMTI5LDEzLjU3NDA1MzcgMjMuODkyMTIyOCwyMS45MDEyNjMyIDIzLjg5MjEyMjgsMjEuOTAxMjYzMlwiLz5cbiAgICAgICAgPHBhdGggc3Ryb2tlPVwiI0ZGNTEyRlwiIGQ9XCJNNy4xMzg4MzUyNywxMy4zMzMzMzMzIEwyNS44MDU1MDEzLDEzLjMzMzMzMzNcIi8+XG4gICAgICAgIDxlbGxpcHNlIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjE2LjhcIiBjeT1cIjE0LjlcIiByeD1cIjIuNjY3XCIgcnk9XCIyLjY2N1wiIGZpbGw9XCJibGFja1wiIGZpbGwtb3BhY2l0eT1cIjAuNVwiIC8+XG4gICAgICAgIDxlbGxpcHNlIGN4PVwiMTUuMzMzXCIgY3k9XCIxMy4zMzNcIiBmaWxsPVwiI0ZGRkZGRlwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMjRcIiB5PVwiMTJcIiBmaWxsPVwiI0ZGNTEyRlwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEyXCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8ZyBpZD1cInBvaW50LWRpc2Nvbm5lY3RlZC1zaGFwZVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTcuODgxNDQ4NDEsMjAuNTY3OTI5OCBDNy44ODE0NDg0MSwyMC41Njc5Mjk4IDcuNTkyODcxNzIsMTIuMjQwNzIwNCAxNS40NTE0NDIzLDEyLjI0MDcyMDQgQzIxLjIwMDUyMDcsMTcuODg3MzcgMjMuODkyMTIyOCwyMC41Njc5Mjk4IDIzLjg5MjEyMjgsMjAuNTY3OTI5OFwiLz5cbiAgICAgICAgPHBvbHlsaW5lIHN0cm9rZT1cIiNGRjUxMkZcIiBwb2ludHM9XCI2LjEzMyAxMiAxNS4yMjggMTIgMjMuOTMzIDIwLjYwMlwiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiMTYuOFwiIGN5PVwiMTMuNFwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIgZmlsbD1cImJsYWNrXCIgZmlsbC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE1LjMzM1wiIGN5PVwiMTJcIiByPVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjIxLjg4NlwiIHk9XCIxOC41NTJcIiBmaWxsPVwiI0ZGNTEyRlwiIHRyYW5zZm9ybT1cInJvdGF0ZSg0NSAyMy4yMTkgMTkuODg2KVwiLz5cbiAgICAgICAgPHJlY3Qgd2lkdGg9XCIyLjY2N1wiIGhlaWdodD1cIjIuNjY3XCIgeD1cIjUuMzMzXCIgeT1cIjEwLjY2N1wiIGZpbGw9XCIjRkY1MTJGXCIvPlxuICAgICAgPC9nPlxuICAgICAgPGcgaWQ9XCJwb2ludC1hc3ltbWV0cmljLXNoYXBlXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDcuNjY3IDkuMzMzKVwiPlxuICAgICAgICA8cGF0aCBmaWxsPVwiIzhCNkU4QVwiIHN0cm9rZT1cIiNGRkZGRkZcIiBkPVwiTTAuMjE0NzgxNzQyLDExLjIzNDU5NjUgQzAuMjE0NzgxNzQyLDExLjIzNDU5NjUgLTAuMzczNTExODY5LDIuOTA3MDk2MTMgNy43ODQ3NzU2NCwyLjkwNzM4NzA0IEMxMC43NTAwMDAzLDIuOTA3NDkyNzcgMTYuMjI1NDU2MiwxMS4yMzQ1OTY1IDE2LjIyNTQ1NjIsMTEuMjM0NTk2NVwiLz5cbiAgICAgICAgPGVsbGlwc2Ugc3Ryb2tlPVwibm9uZVwiIGN4PVwiOVwiIGN5PVwiNC40XCIgcng9XCIyLjY2N1wiIHJ5PVwiMi42NjdcIiBmaWxsPVwiYmxhY2tcIiBmaWxsLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICA8cGF0aCBzdHJva2U9XCIjRkY1MTJGXCIgZD1cIk0yLjUyNzg4NTAzLDIuNjY2NjY2NjcgTDE4LjEzODgzNDYsMi42NjY2NjY2N1wiLz5cbiAgICAgICAgPGVsbGlwc2UgY3g9XCI3LjY2N1wiIGN5PVwiMi42NjdcIiBmaWxsPVwiI0ZGRkZGRlwiIHJ4PVwiMi42NjdcIiByeT1cIjIuNjY3XCIvPlxuICAgICAgICA8cmVjdCB3aWR0aD1cIjIuNjY3XCIgaGVpZ2h0PVwiMi42NjdcIiB4PVwiMTYuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICAgIDxyZWN0IHdpZHRoPVwiMi42NjdcIiBoZWlnaHQ9XCIyLjY2N1wiIHg9XCIuMzMzXCIgeT1cIjEuMzMzXCIgZmlsbD1cIiNGRjUxMkZcIi8+XG4gICAgICA8L2c+XG4gICAgICA8cGF0aCBpZD1cIm1vanMtbG9nby1zaGFwZVwiIGQ9XCJNMTguNDY3ODkwNywyLjY3NzAwMDQ4IEMxOS40ODg1ODYsMy4yNTc1ODYyNSAyMC4yNzg5MjI3LDQuMTg0MjE2NTEgMjAuODc4MjMsNS4xOTczNTc5IEMyNC4wODA3Nzg4LDEwLjUwMTQ1MSAyNy4yNzc3MDkxLDE1LjgxMTMxMTYgMzAuNDgwMjU4LDIxLjExNTQwNDcgQzMxLjEzMjAwNDcsMjIuMTYxMjI4MSAzMS43NzA2NDE3LDIzLjI2NDcyNTYgMzEuOTM1NDUxMiwyNC41MTYyNTMyIEMzMi4xODgyODQsMjYuMDYxOTE4NiAzMS42OTE5ODI2LDI3LjczNjM4OTUgMzAuNTU4OTE3MSwyOC44MDMzNiBDMjkuNDUwMTk4NCwyOS44ODU3MTAzIDI3Ljg4MDc2MjIsMzAuMzE4MjY1OSAyNi4zODA2MjA5LDMwLjMwNDgwODYgQzE5LjQ1MTEyOTMsMzAuMzA4NjUzNSAxMi41MjM1MTA2LDMwLjMwODY1MzUgNS41OTQwMTkwMSwzMC4zMDQ4MDg2IEMzLjcxNTU2NDk0LDMwLjM0MzI1OCAxLjY5ODUyMTA0LDI5LjU3MjM0NzggMC42ODM0NDQxNjUsMjcuODcwOTYyMyBDLTAuNDA2NTQ2MTMyLDI2LjEwOTk4MDMgLTAuMDk3NTI4MjY0MywyMy43OTE0ODIyIDAuOTQwMDIyNjM3LDIyLjA4NDMyOTMgQzQuMzQyOTY0ODUsMTYuNDEzMDQ0NSA3Ljc2NjUwODI2LDEwLjc1MzI5NDUgMTEuMTgyNTYwMyw1LjA4OTY5OTYxIEMxMS45NzQ3Njk4LDMuNzQ3ODE1OTUgMTMuMTg0NjIxNSwyLjYwMjAyNDE4IDE0LjY4NDc2MjgsMi4xODI5MjU4NCBDMTUuOTQ1MTgxMiwxLjgxNTczNDE4IDE3LjMzNDgyNTEsMi4wMTE4MjYwNiAxOC40Njc4OTA3LDIuNjc3MDAwNDggWiBNMTUuMzMzNDY2OCw5LjUxNTI2ODQ5IEMxNS42MTQ2MjM4LDkuMDM3Nzk0NzYgMTYuMDc5MTU5Nyw5LjAyMjUwNjU1IDE2LjM3ODU2NzksOS40OTI5NTQ3IEwyNS4yNzYzNTU1LDIzLjQ3MzY5MTMgQzI1LjU3MjM5MTksMjMuOTM4ODQxNCAyNS4zNTY4NDMzLDI0LjMxNTkyMDEgMjQuODA3NDM5OCwyNC4zMTU5MjAyIEw3LjYyMzE0NjQ3LDI0LjMxNTkyMDUgQzcuMDY4MTM1MDUsMjQuMzE1OTIwNiA2Ljg0NjIyNzk4LDIzLjkyODY4ODkgNy4xMjcyODkxMywyMy40NTEzNzc5IEwxNS4zMzM0NjY4LDkuNTE1MjY4NDkgWlwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48L3BhdGg+XG4gICAgPC9zdmc+YCB9fT48L2Rpdj5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSWNvbnM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvdGFncy9pY29ucy5iYWJlbC5qc3hcbiAqKi8iLCJpbXBvcnQge2h9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgUmVzaXplSGFuZGxlIGZyb20gJy4vcmVzaXplLWhhbmRsZSc7XG5cbi8vIGNvbnN0IENMQVNTRVMgPSByZXF1aXJlKCcuLi8uLi9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzcy5qc29uJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY29kZS1wYW5lbCcpO1xuY29uc3QgQ0xBU1NFUyA9IHJlcXVpcmUoJy4uLy4uL2Nzcy9ibG9ja3MvY29kZS1wYW5lbC5wb3N0Y3NzLmNzcy5qc29uJyk7XG5leHBvcnQgZGVmYXVsdCAoe3N0YXRlfSkgPT4ge1xuICBjb25zdCB7cG9pbnRzLCBjb250cm9sc30gPSBzdGF0ZSxcbiAgICAgICAgb3BlbiAgICAgID0gKGNvbnRyb2xzLmlzQ29kZSkgPyBDTEFTU0VTWydpcy1vcGVuJ10gOiAnJyxcbiAgICAgICAgbWFpbkNsYXNzID0gYCR7Q0xBU1NFU1snY29kZS1wYW5lbCddfSAke29wZW59YDtcblxuICByZXR1cm4gIDxkaXYgY2xhc3NOYW1lPXttYWluQ2xhc3N9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBDTEFTU0VTWydjb2RlLXBhbmVsX19pbm5lciddIH0+XG4gICAgICAgICAgICAgIDxSZXNpemVIYW5kbGUgdHlwZT1cInRvcFwiIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgQ0xBU1NFU1snY29kZS1wYW5lbF9faW5wdXQtd3JhcCddIH0+XG4gICAgICAgICAgICAgICAgPGlucHV0ICBjbGFzc05hbWU9eyBDTEFTU0VTWydjb2RlLXBhbmVsX19pbnB1dC1maWVsZCddIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17IHBvaW50cy5wcmVzZW50LnBhdGggfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2Pjtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy90YWdzL2NvZGUtcGFuZWwuYmFiZWwuanN4XG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwLWxvYWRlci9pbmRleC5qcyEuL2NvZGUtcGFuZWwucG9zdGNzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jb2RlLXBhbmVsLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuX2NvZGUtcGFuZWxfbm5iOXBfM3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjEwcHg7cmlnaHQ6MTBweDtib3R0b206MTAwJTt6LWluZGV4OjE7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctdG9wOjE2cHg7Ym94LXNpemluZzpjb250ZW50LWJveH0uX2NvZGUtcGFuZWxfbm5iOXBfMyBbZGF0YS1jb21wb25lbnQ9cmVzaXplLWhhbmRsZV17cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7Ym90dG9tOjEwMCV9Ll9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xe2JvcmRlci1yYWRpdXM6NnB4IDZweCAwIDA7YmFja2dyb3VuZDojM2QxYjNjO3BhZGRpbmc6NHB4IDVweCA1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4ycyBlYXNlLW91dDt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1vdXR9Ll9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzF7Ym9yZGVyLXJhZGl1czoycHg7YmFja2dyb3VuZDojNDIxMDNmO2JvcmRlcjoxcHggc29saWQgIzljODI5YTtib3gtc2hhZG93Omluc2V0IDJweCAycHggMCByZ2JhKDAsMCwwLC41KX0uX2NvZGUtcGFuZWxfX2lucHV0LWZpZWxkX25uYjlwXzF7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2NvbG9yOiNmZmY7Zm9udC1zaXplOjlweDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtsZXR0ZXItc3BhY2luZzouNDVweDtmb250LXdlaWdodDoxMDA7cGFkZGluZzowIC4zZW0gMCAuOGVtO2JvcmRlcjpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjIxcHg7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9Ll9jb2RlLXBhbmVsX25uYjlwXzMgOjotbW96LXNlbGVjdGlvbiwuY29kZS1wYW5lbCA6Oi1tb3otc2VsZWN0aW9ue2JhY2tncm91bmQ6I2ZmNTEyZn0uX2NvZGUtcGFuZWxfbm5iOXBfMyA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kOiNmZjUxMmZ9Ll9jb2RlLXBhbmVsX25uYjlwXzMuX2lzLW9wZW5fbm5iOXBfNjEgLl9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vYXBwL2Nzcy9ibG9ja3MvY29kZS1wYW5lbC5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwiY29kZS1wYW5lbFwiOiBcIl9jb2RlLXBhbmVsX25uYjlwXzNcIixcblx0XCJjb2RlLXBhbmVsX19pbm5lclwiOiBcIl9jb2RlLXBhbmVsX19pbm5lcl9ubmI5cF8xXCIsXG5cdFwiY29kZS1wYW5lbF9faW5wdXQtd3JhcFwiOiBcIl9jb2RlLXBhbmVsX19pbnB1dC13cmFwX25uYjlwXzFcIixcblx0XCJjb2RlLXBhbmVsX19pbnB1dC1maWVsZFwiOiBcIl9jb2RlLXBhbmVsX19pbnB1dC1maWVsZF9ubmI5cF8xXCIsXG5cdFwiaXMtb3BlblwiOiBcIl9pcy1vcGVuX25uYjlwXzYxXCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvYmxvY2tzL2NvZGUtcGFuZWwucG9zdGNzcy5jc3MuanNvblxuICoqIG1vZHVsZSBpZCA9IDE2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9jdXJ2ZS1lZGl0b3IucG9zdGNzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2Nzcy9ibG9ja3MvY3VydmUtZWRpdG9yLnBvc3Rjc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gMTY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5fY3VydmUtZWRpdG9yXzFmOHI1XzR7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3RvcDowO3dpZHRoOjQwM3B4O2hlaWdodDozNzhweDtib3JkZXItcmFkaXVzOjEycHg7YmFja2dyb3VuZDpyZ2JhKDU4LDgsNTgsLjg1KTt6LWluZGV4OjEwMDtib3gtc2hhZG93OjJweCAycHggMnB4IHJnYmEoMCwwLDAsLjM4KX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xe3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQycHg7bGVmdDowO3RvcDowO2JvdHRvbTowO3BhZGRpbmc6MTBweDtjdXJzb3I6bW92ZX0uX2N1cnZlLWVkaXRvcl9fbGVmdF8xZjhyNV8xIFtkYXRhLWNvbXBvbmVudD1pY29uLWRpdmlkZXJde21hcmdpbjoxMHB4IGF1dG99Ll9jdXJ2ZS1lZGl0b3JfX3JpZ2h0XzFmOHI1XzF7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo0M3B4O3RvcDowO3JpZ2h0OjA7Ym90dG9tOjB9Ll9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZX0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT10b3Bde3RvcDotMTZweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1ib3R0b21de2JvdHRvbTowfS5fY3VydmUtZWRpdG9yX19yZXNpemUtaGFuZGxlXzFmOHI1XzFbZGF0YS10eXBlPWJvdHRvbV0sLl9jdXJ2ZS1lZGl0b3JfX3Jlc2l6ZS1oYW5kbGVfMWY4cjVfMVtkYXRhLXR5cGU9dG9wXXtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMjFweH0uX2N1cnZlLWVkaXRvcl9fcmVzaXplLWhhbmRsZV8xZjhyNV8xW2RhdGEtdHlwZT1yaWdodF17cmlnaHQ6LTE2cHg7dG9wOjUwJTttYXJnaW4tdG9wOi0xNnB4fS5fY3VydmUtZWRpdG9yX19hbmNob3ItYnV0dG9uc18xZjhyNV8xe21hcmdpbi10b3A6MTBweH0uX2N1cnZlLWVkaXRvcl9fYW5jaG9yLWJ1dHRvbnNfMWY4cjVfMSBbZGF0YS1jb21wb25lbnQ9aWNvbi1idXR0b25de21hcmdpbi1ib3R0b206NXB4fS5fY3VydmUtZWRpdG9yX19tb2pzLWxvZ29fMWY4cjVfMXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTdweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDoxcHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKX0uX2N1cnZlLWVkaXRvcl9fbW9qcy1sb2dvXzFmOHI1XzEgW2RhdGEtY29tcG9uZW50PWljb25de2ZpbGw6I2ZmNTEyZjt3aWR0aDoxMnB4O2hlaWdodDoxMnB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Bvc3Rjc3MtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2FwcC9jc3MvYmxvY2tzL2N1cnZlLWVkaXRvci5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtjcmVhdGVTdG9yZX0gZnJvbSAncmVkdXgnO1xuLy8gaW1wb3J0IHJlZHVjZXJcbmltcG9ydCByZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMvaW5kZXgtcmVkdWNlcic7XG5cbmNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoIHJlZHVjZXIgKTtcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmU7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvc3RvcmUuYmFiZWwuanNcbiAqKi8iLCIvLyBSZWR1eCB1dGlsaXR5IGZ1bmN0aW9uc1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuLy8gcmVkdXgtdW5kbyBoaWdoZXItb3JkZXIgcmVkdWNlclxuaW1wb3J0IHVuZG9hYmxlIGZyb20gJ3JlZHV4LXVuZG8nO1xuXG5pbXBvcnQgcmVzaXplUmVkdWNlciAgICAgICAgZnJvbSAnLi9yZXNpemUtcmVkdWNlcic7XG5pbXBvcnQgcG9pbnRzUmVkdWNlciAgICAgICAgZnJvbSAnLi9wb2ludHMtcmVkdWNlcic7XG5pbXBvcnQgY29udHJvbHNSZWR1Y2VyICAgICAgZnJvbSAnLi9jb250cm9scy1yZWR1Y2VyJztcbmltcG9ydCBwb2ludENvbnRyb2xzUmVkdWNlciBmcm9tICcuL3BvaW50LWNvbnRyb2xzLXJlZHVjZXInO1xuXG5jb25zdCBVTkRPQUJMRV9PUFRTID0ge1xuICBsaW1pdDogMTAsXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyQWN0aW9ucyhhY3Rpb24sIGN1cnJTdGF0ZSwgaGlzdG9yeSkge1xuICAgIHJldHVybiBhY3Rpb24uaXNSZWNvcmQ7IC8vIG9ubHkgYWRkIHRvIGhpc3RvcnkgaWYgaXNSZWNvcmQgc2V0IG9uIGFjdGlvblxuICB9LFxuICBkZWJ1ZzogZmFsc2Vcbn07XG5cbmNvbnN0IHJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xuICByZXNpemU6ICAgICAgICByZXNpemVSZWR1Y2VyLFxuICBwb2ludHM6ICAgICAgICB1bmRvYWJsZShwb2ludHNSZWR1Y2VyLCB7IC4uLlVORE9BQkxFX09QVFMgfSksXG4gIGNvbnRyb2xzOiAgICAgIGNvbnRyb2xzUmVkdWNlcixcbiAgcG9pbnRDb250cm9sczogdW5kb2FibGUocG9pbnRDb250cm9sc1JlZHVjZXIsIHsgLi4uVU5ET0FCTEVfT1BUUyB9KVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZHVjZXI7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvaW5kZXgtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHg6ICAgICAgICAgICAgMTUwLFxuICB0ZW1wWDogICAgICAgIDAsXG5cbiAgeTogICAgICAgICAgICAxMDAsXG4gIHRlbXBZOiAgICAgICAgMCxcblxuICB0b3A6ICAgICAgICAgIDAsXG4gIHRlbXBfdG9wOiAgICAgMCxcblxuICByaWdodDogICAgICAgIDAsXG4gIHRlbXBfcmlnaHQ6ICAgMCxcblxuICBib3R0b206ICAgICAgIDAsXG4gIHRlbXBfYm90dG9tOiAgMCxcbiAgc2NhbGVyWDogICAgICBDLkNVUlZFX1BFUkNFTlRcbn1cblxuY29uc3QgcmVzaXplUmVkdWNlciA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnRURJVE9SX1JFU0laRSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSA9IGFjdGlvbixcbiAgICAgICAgICAgIHt0eXBlfSA9IGRhdGEsXG4gICAgICAgICAgICBkZWx0YSAgPSAoIHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nICkgPyBkYXRhLnkgOiBkYXRhLng7XG5cbiAgICAgIGNvbnN0IG5ld1N0YXRlID0geyAuLi5zdGF0ZSwgW2B0ZW1wXyR7dHlwZX1gXTogZGVsdGEgfTtcbiAgICAgIC8vIGlmIGByaWdodGBzaXplIGNoYW5nZWQgLSBjYWxjdWxhdGUgdGhlIHNjYWxlciBmb3IgeCBheGlzXG4gICAgICBpZiAoIHR5cGUgPT09ICdyaWdodCcgKSB7XG4gICAgICAgIG5ld1N0YXRlWyAnc2NhbGVyWCcgXSA9IChDLkNVUlZFX1NJWkUgKyBNYXRoLm1heCggc3RhdGUucmlnaHQgKyBkZWx0YSwgMCApKS8xMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1JFU0laRV9FTkQnOiB7XG4gICAgICBjb25zdCB7ZGF0YX0gPSBhY3Rpb247XG4gICAgICBjb25zdCB7dHlwZX0gPSBkYXRhO1xuICAgICAgY29uc3QgZGVsdGEgPSAoIHR5cGUgPT09ICd0b3AnIHx8IHR5cGUgPT09ICdib3R0b20nICkgPyBkYXRhLnkgOiBkYXRhLng7XG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIHJlc2l6ZSB2YWx1ZSAoIHRlbXBvcmFyeSArIGFjdHVhbCApXG4gICAgICBjb25zdCByZXNpemUgPSBzdGF0ZVtgJHthY3Rpb24uZGF0YS50eXBlfWBdICsgZGVsdGE7XG4gICAgICAvLyBpZiB0aGUgdHlwZSBpZiB0byAtIGl0IGhhcyB0aGUgYC1gIGFzIGJhc2Ugc28gd2UgbmVlZCB0byBzd2FwIG1ldGhvZHNcbiAgICAgIGNvbnN0IG1hdGhNZXRob2QgPSAoIHR5cGUgPT09ICd0b3AnICkgPyAnbWluJyA6ICdtYXgnO1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlLFxuICAgICAgICBbYCR7YWN0aW9uLmRhdGEudHlwZX1gXTogTWF0aFttYXRoTWV0aG9kXSgwLCByZXNpemUpLFxuICAgICAgICBbYHRlbXBfJHthY3Rpb24uZGF0YS50eXBlfWBdOiAwXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuXG4gICAgY2FzZSAnRURJVE9SX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IGFjdGlvbi5kYXRhO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHRlbXBYOiB4LCB0ZW1wWTogeSB9O1xuICAgIH1cblxuICAgIGNhc2UgJ0VESVRPUl9UUkFOU0xBVEVfRU5EJzoge1xuICAgICAgbGV0IHt4LCB5fSA9IGFjdGlvbi5kYXRhO1xuICAgICAgeCArPSBzdGF0ZS54O1xuICAgICAgeSArPSBzdGF0ZS55O1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHgsIHksIHRlbXBYOiAwLCB0ZW1wWTogMCB9O1xuICAgIH1cblxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzaXplUmVkdWNlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9yZXNpemUtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IG1ha2VQb2ludCBmcm9tICcuLi9oZWxwZXJzL21ha2UtcG9pbnQnO1xuaW1wb3J0IEMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBpbml0UG9pbnRzIGZyb20gJy4uL2hlbHBlcnMvaW5pdC1wb2ludHMnO1xuaW1wb3J0IGNhbGN1bGF0ZVBhdGggZnJvbSAnLi4vaGVscGVycy9jYWxjdWxhdGUtcGF0aCc7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHBhdGg6ICAgICAgICcnLFxuICBzZWdtZW50czogICBbXSxcbiAgcG9pbnRzOiAgICAgW11cbiAgLy8gcG9pbnRzOiBpbml0UG9pbnRzKFtcbiAgLy8gICBtYWtlUG9pbnQoeyB4OiAwLCAgIHk6IEMuQ1VSVkVfU0laRSwgaXNMb2NrZWRYOiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH0pLFxuICAvLyAgIC8vIG1ha2VQb2ludCh7IHg6IDUwLCAgeTogQy5DVVJWRV9TSVpFLzIsIHR5cGU6ICdtaXJyb3JlZCcgfSksXG4gIC8vICAgbWFrZVBvaW50KHsgeDogMTAwLCB5OiAwLCBpc0xvY2tlZFg6IHRydWUgfSlcbiAgLy8gXSlcbn1cblxuY29uc3QgZGVzZWxlY3RBbGwgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnN0YXRlLCBwb2ludHM6IFtdIH0sXG4gICAgICAgIHBvaW50cyAgID0gc3RhdGUucG9pbnRzO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgbmV3U3RhdGUucG9pbnRzLnB1c2goeyAuLi5wb2ludHNbaV0sIGlzU2VsZWN0ZWQ6IGZhbHNlIH0pO1xuICB9XG4gIHJldHVybiBuZXdTdGF0ZTtcbn1cblxuY29uc3QgZmluZFNlbGVjdGVkSW5kZWNpZXMgPSAocG9pbnRzKSA9PiB7XG4gIGNvbnN0IGluZGVjaWVzICA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgcG9pbnRzW2ldLmlzU2VsZWN0ZWQgJiYgaW5kZWNpZXMucHVzaCggaSApO1xuICB9XG4gIHJldHVybiBpbmRlY2llcztcbn1cblxuY29uc3QgcG9pbnRzUmVkdWNlciA9IChzdGF0ZSA9IElOSVRJQUxfU1RBVEUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2goIGFjdGlvbi50eXBlICkge1xuICAgIGNhc2UgJ1BPSU5UX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICA9IGFjdGlvbixcbiAgICAgICAgICAgIHtpbmRleH0gICA9IGRhdGEsXG4gICAgICAgICAgICB7cG9pbnRzfSAgPSBzdGF0ZSxcbiAgICAgICAgICAgIG9sZFBvaW50ICA9IHBvaW50c1tpbmRleF0sXG4gICAgICAgICAgICBuZXdQb2ludHMgPSBbIC4uLnBvaW50cyBdO1xuXG4gICAgICBuZXdQb2ludHNbIGRhdGEuaW5kZXggXSA9IHsgLi4ub2xkUG9pbnQsIHRlbXBYOiBkYXRhLngsIHRlbXBZOiBkYXRhLnkgfVxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfVFJBTlNMQVRFX0VORCc6IHtcbiAgICAgIGNvbnN0IGluZGV4ICAgICA9IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAge3BvaW50c30gID0gc3RhdGUsXG4gICAgICAgICAgICBvbGRQb2ludCAgPSBwb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgbmV3UG9pbnRzID0gWyAuLi5wb2ludHMgXTtcblxuICAgICAgbmV3UG9pbnRzWyBpbmRleCBdID0ge1xuICAgICAgICAgIC4uLm9sZFBvaW50LFxuICAgICAgICAgIHg6IG9sZFBvaW50LnggKyBvbGRQb2ludC50ZW1wWCxcbiAgICAgICAgICB5OiBvbGRQb2ludC55ICsgb2xkUG9pbnQudGVtcFksXG4gICAgICAgICAgdGVtcFg6IDAsIHRlbXBZOiAwXG4gICAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuICAgIFxuICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6IHtcbiAgICAgIGNvbnN0IHtkYXRhfSAgICAgICAgICAgICAgPSBhY3Rpb24sXG4gICAgICAgICAgICB7aW5kZXgsIGlzRGVzZWxlY3R9ID0gZGF0YSxcbiAgICAgICAgICAgIG5ld1N0YXRlICAgICAgICAgICAgPSAoaXNEZXNlbGVjdCkgPyBkZXNlbGVjdEFsbCggc3RhdGUgKSA6IHsgLi4uc3RhdGUgfSxcbiAgICAgICAgICAgIHtwb2ludHN9ICAgICAgICAgICAgPSBuZXdTdGF0ZTtcbiAgICAgIFxuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaW5kZXhdO1xuICAgICAgcG9pbnQuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcG9pbnRzIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfQUREJzoge1xuICAgICAgY29uc3Qge2RhdGF9ICAgICAgICA9IGFjdGlvbixcbiAgICAgICAgICAgIHtpbmRleCwgcG9pbnR9PSBkYXRhLFxuICAgICAgICAgICAgZGVzZWxlY3RlZCAgICA9IGRlc2VsZWN0QWxsKCBzdGF0ZSApO1xuXG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbXG4gICAgICAgIC4uLmRlc2VsZWN0ZWQucG9pbnRzLnNsaWNlKCAwLCBpbmRleCApLFxuICAgICAgICBtYWtlUG9pbnQoeyAuLi5wb2ludCB9KSxcbiAgICAgICAgLi4uZGVzZWxlY3RlZC5wb2ludHMuc2xpY2UoIGluZGV4IClcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHBvaW50cyA9IChuZXdQb2ludHMubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5pdFBvaW50cyggbmV3UG9pbnRzICkgOiBuZXdQb2ludHM7XG5cbiAgICAgIGNvbnN0IHBhdGggPSAocG9pbnRzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVQYXRoKCBwb2ludHMgKSA6IHt9O1xuXG4gICAgICByZXR1cm4geyBwb2ludHMsIC4uLnBhdGggfTtcbiAgICB9XG4gICAgXG4gICAgY2FzZSAnUE9JTlRfREVMRVRFJzoge1xuICAgICAgY29uc3Qge3BvaW50c30gPSBzdGF0ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gZmluZFNlbGVjdGVkSW5kZWNpZXMocG9pbnRzKTtcblxuICAgICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gcG9pbnRzW2ldO1xuICAgICAgICAoIHNlbGVjdGVkLmluZGV4T2YoaSkgPT09IC0xIHx8IGl0ZW0uaXNMb2NrZWRYICkgJiYgbmV3UG9pbnRzLnB1c2goIGl0ZW0gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgcG9pbnRzOiBuZXdQb2ludHMsIC4uLmNhbGN1bGF0ZVBhdGgoIG5ld1BvaW50cyApIH07XG4gICAgfVxuXG4gICAgY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOiB7XG4gICAgICBjb25zdCB7cG9pbnRzfSA9IHN0YXRlLFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBmaW5kU2VsZWN0ZWRJbmRlY2llcyhwb2ludHMpO1xuXG4gICAgICBjb25zdCBuZXdQb2ludHMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBwb2ludHNbaV0sXG4gICAgICAgICAgICAgIHR5cGUgPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgLy8gY29weSBhbGwgaXRlbXMgZnJvbSBwcmV2aW91cyBwb2ludHNcbiAgICAgICAgbmV3UG9pbnRzLnB1c2goIHsgLi4uaXRlbSB9ICk7XG4gICAgICAgIC8vIGlmIGl0ZW0gd2FzIHNlbGVjdGVkIC0gc2V0IHRoZSBuZXcgYHR5cGVgXG4gICAgICAgICggc2VsZWN0ZWQuaW5kZXhPZihpKSAhPT0gLTEgKSAmJiAobmV3UG9pbnRzW2ldLnR5cGUgPSB0eXBlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaSxcbiAgICAgICAgICAgICAgcG9pbnQgPSBuZXdQb2ludHNbaW5kZXhdLFxuICAgICAgICAgICAgICBzaWJQb2ludCA9IChpbmRleCA9PT0gbmV3UG9pbnRzLmxlbmd0aC0xKVxuICAgICAgICAgICAgICAgID8gbmV3UG9pbnRzW2luZGV4LTFdIDogbmV3UG9pbnRzW2luZGV4KzFdO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUluZGV4ID0gKGluZGV4ID09PSBuZXdQb2ludHMubGVuZ3RoLTEpID8gMSA6IDIsXG4gICAgICAgICAgICAgIHNpYkhhbmRsZUluZGV4ID0gKGhhbmRsZUluZGV4ID09PSAxKSA/IDIgOiAxLFxuICAgICAgICAgICAgICBoYW5kbGVOYW1lID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YCxcbiAgICAgICAgICAgICAgc2liSGFuZGxlTmFtZSA9IGBoYW5kbGUke3NpYkhhbmRsZUluZGV4fWAsXG4gICAgICAgICAgICAgIGhhbmRsZSA9IHsgLi4ucG9pbnRbaGFuZGxlTmFtZV0gfSxcbiAgICAgICAgICAgICAgc2liSGFuZGxlID0geyAuLi5wb2ludFtzaWJIYW5kbGVOYW1lXSB9O1xuXG4gICAgICAgIHBvaW50W2hhbmRsZU5hbWVdID0gaGFuZGxlO1xuICAgICAgICBwb2ludFtzaWJIYW5kbGVOYW1lXSA9IHNpYkhhbmRsZTtcblxuICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgfHwgdHlwZSA9PT0gJ2FzeW1tZXRyaWMnICkge1xuICAgICAgICAgIHNpYkhhbmRsZS5hbmdsZSA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgICAgICAgICBpZiAoIHR5cGUgPT09ICdtaXJyb3JlZCcgKSB7IHNpYkhhbmRsZS5yYWRpdXMgPSBoYW5kbGUucmFkaXVzOyB9XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBwb2ludHM6IG5ld1BvaW50cywgLi4uY2FsY3VsYXRlUGF0aCggbmV3UG9pbnRzICkgfTtcbiAgICB9XG4gICAgXG4gICAgY2FzZSAnUE9JTlRfREVTRUxFQ1RfQUxMJzoge1xuICAgICAgcmV0dXJuIHsgLi4uZGVzZWxlY3RBbGwoIHN0YXRlICkgfTtcbiAgICB9XG5cbiAgICAvLyBIQU5ETEVTXG4gICAgY2FzZSAnSEFORExFX1RSQU5TTEFURSc6IHtcbiAgICAgIGNvbnN0IHtwb2ludHN9ICA9IHN0YXRlLFxuICAgICAgICAgICAge2RhdGF9ICAgID0gYWN0aW9uO1xuICAgICAgLy8gY3JlYXRlIG5ldyBzdGF0ZSBhbmQgY29weSB0aGUgbmV3IHBvaW50IGludG8gaXRcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IFsuLi5wb2ludHNdLFxuICAgICAgICAgICAgbmV3UG9pbnQgID0geyAuLi5uZXdQb2ludHNbZGF0YS5wYXJlbnRJbmRleF0gfTtcblxuICAgICAgbmV3UG9pbnRzW2RhdGEucGFyZW50SW5kZXhdID0gbmV3UG9pbnQ7XG4gICAgICAvLyBjcmVhdGUgaGFuZGxlIGFuZCBjb3B5IGl0IGludG8gdGhlIG5ldyBwb2ludFxuICAgICAgY29uc3QgaGFuZGxlTmFtZSA9IGBoYW5kbGUke2RhdGEuaW5kZXh9YCxcbiAgICAgICAgICAgIG5ld0hhbmRsZSA9IHsgLi4ubmV3UG9pbnRbaGFuZGxlTmFtZV0gfTtcblxuICAgICAgbmV3UG9pbnRbIGhhbmRsZU5hbWUgXSA9IG5ld0hhbmRsZTtcbiAgICAgIC8vIGZpbmFsbHkgYWRkIGFuZ2xlIGFuZCByYWRpdXNcbiAgICAgIG5ld0hhbmRsZS5hbmdsZSAgPSBkYXRhLmFuZ2xlO1xuICAgICAgbmV3SGFuZGxlLnJhZGl1cyA9IGRhdGEucmFkaXVzO1xuXG4gICAgICByZXR1cm4geyBwb2ludHM6IG5ld1BvaW50cywgLi4uY2FsY3VsYXRlUGF0aCggbmV3UG9pbnRzICkgfTtcbiAgICB9XG5cbiAgICAvLyBjYXNlICdQT0lOVF9UUkFOU0xBVEUnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX1RSQU5TTEFURV9FTkQnOlxuICAgIC8vIGNhc2UgJ1BPSU5UX0FERCc6XG4gICAgLy8gY2FzZSAnUE9JTlRfUkVNT1ZERSc6XG4gICAgLy8gY2FzZSAnUE9JTlRfQ0hBTkdFX1RZUEUnOlxuICAgIC8vIGNhc2UgJ0hBTkRMRV9UUkFOU0xBVEUnOlxuICAgIC8vICAgcmV0dXJuIHsgLi4uc3RhdGUsIC4uLmNhbGN1bGF0ZVBhdGgoIHN0YXRlLnBvaW50cy5wcmVzZW50ICkgfVxuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRzUmVkdWNlcjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9yZWR1Y2Vycy9wb2ludHMtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Zyb20gPSByZXF1aXJlKFwiLi4vY29yZS1qcy9hcnJheS9mcm9tXCIpO1xuXG52YXIgX2Zyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnJvbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFycjJbaV0gPSBhcnJbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICgwLCBfZnJvbTIuZGVmYXVsdCkoYXJyKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuZnJvbTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIGNhbGwgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKVxuICAsIHRvTGVuZ3RoICAgICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2NyZWF0ZS1wcm9wZXJ0eScpXG4gICwgZ2V0SXRlckZuICAgICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheVxuICAgICAgLCBhTGVuICAgID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcbiAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcbiAgICAgICwgaW5kZXggICA9IDBcbiAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuICAgICAgLCBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYobWFwcGluZyltYXBmbiA9IGN0eChtYXBmbiwgYUxlbiA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQsIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKXtcbiAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKXtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgICBmb3IocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5LmZyb20uanNcbiAqKiBtb2R1bGUgaWQgPSAxNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNhbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsIGNyZWF0ZURlc2MgICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGluZGV4LCB2YWx1ZSl7XG4gIGlmKGluZGV4IGluIG9iamVjdCkkZGVmaW5lUHJvcGVydHkuZihvYmplY3QsIGluZGV4LCBjcmVhdGVEZXNjKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W2luZGV4XSA9IHZhbHVlO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gMTc4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanNcbiAqKiBtb2R1bGUgaWQgPSAxNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBJVEVSQVRPUiAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMsIHNraXBDbG9zaW5nKXtcbiAgaWYoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgcmV0dXJuIHtkb25lOiBzYWZlID0gdHJ1ZX07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTgxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbmNvbnN0IGZhbGxiYWNrID0gKCB2YWx1ZSwgZmFsbGJhY2sgKSA9PiB7XG4gIHJldHVybiAoIHZhbHVlICE9IG51bGwgKSA/IHZhbHVlIDogZmFsbGJhY2s7XG59XG5cblxuY29uc3QgbWFrZUhhbmRsZVBvaW50ID0gKG89e30pID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogICAgZmFsbGJhY2soIG8uaW5kZXgsIDAgKSxcbiAgICAvLyBjb29yZGluYXRlc1xuICAgIGFuZ2xlOiAgICBmYWxsYmFjayggby5hbmdsZSwgIG51bGwgKSxcbiAgICByYWRpdXM6ICAgZmFsbGJhY2soIG8ucmFkaXVzLCBudWxsICksXG4gICAgLy8gc3RhdGVcbiAgICBpc1RvdWNoZWQ6ICBmYWxsYmFjayggby5pc1RvdWNoZWQsIGZhbHNlICksXG4gICAgaXNTZWxlY3RlZDogZmFsbGJhY2soIG8uaXNTZWxlY3RlZCwgZmFsc2UgKSxcbiAgfTtcbn1cblxuY29uc3QgbWFrZVBvc2l0aW9uUG9pbnQgPSAobz17fSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC8vIGNvb3JkaW5hdGVzXG4gICAgeDogICAgZmFsbGJhY2soIG8ueCwgMCApLFxuICAgIHk6ICAgIGZhbGxiYWNrKCBvLnksIDAgKSxcbiAgICAvLyB0ZW1wb3JhcnkgY29vcmRpbmF0ZXMgKHdoZW4gdXNlciBtb3ZlcyB0aGUgcG9pbnQpIC1cbiAgICAvLyBzaG91bGQgbm90IGJlIGluIGhpc3RvcnlcbiAgICB0ZW1wWDogZmFsbGJhY2soIG8udGVtcFgsIDAgKSxcbiAgICB0ZW1wWTogZmFsbGJhY2soIG8udGVtcFksIDAgKSxcbiAgICAvLyBzdGF0ZVxuICAgIGlzVG91Y2hlZDogIGZhbGxiYWNrKCBvLmlzVG91Y2hlZCwgZmFsc2UgKSxcbiAgICBpc1NlbGVjdGVkOiBmYWxsYmFjayggby5pc1NlbGVjdGVkLCBmYWxzZSApLFxuICB9O1xufVxuXG5jb25zdCBtYWtlUG9pbnQgPSAobyA9IHt9KSA9PiB7XG4gIHJldHVybiB7XG4gICAgLy8gc3RhdGVcbiAgICAvLyBpc09uZUhhbmRsZTogZmFsbGJhY2soIG8uaXNPbmVIYW5kbGUsIGZhbHNlICksXG4gICAgaXNMb2NrZWRYOiAgIGZhbGxiYWNrKCBvLmlzTG9ja2VkWCwgZmFsc2UgKSxcbiAgICBpc0xvY2tlZFk6ICAgZmFsbGJhY2soIG8uaXNMb2NrZWRZLCBmYWxzZSApLFxuICAgIC8vIHR5cGUgb2YgdGhlIHBvaW50OlxuICAgIC8vICAgJ3N0cmFpZ2h0JyB8fCAnbWlycm9yZWQnIHx8ICdkaXNjb25uZWN0ZWQnIHx8ICdhc3ltZXRyaWMnXG4gICAgdHlwZTogICAgICAgZmFsbGJhY2soIG8udHlwZSwgJ3N0cmFpZ2h0JyApLFxuICAgIC8vIGFkZCBwb3NpdGlvbiBhdHRyaWJ1dGVzIHRvIHNlbGZcbiAgICAuLi5tYWtlUG9zaXRpb25Qb2ludChvKSxcbiAgICAvLyBhZGQgY3VydmUgaGFuZGxlc1xuICAgIGhhbmRsZTE6IG1ha2VIYW5kbGVQb2ludChvLmhhbmRsZTEgfHwgeyBpbmRleDogMSB9KSxcbiAgICBoYW5kbGUyOiBtYWtlSGFuZGxlUG9pbnQoby5oYW5kbGUyIHx8IHsgaW5kZXg6IDIgfSlcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZVBvaW50O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvbWFrZS1wb2ludC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBpbml0UG9pbnQgZnJvbSAnLi9pbml0LXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgKHBvaW50cykgPT4ge1xuXG4gIGNvbnN0IG5ld1BvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldLFxuICAgICAgICAgIHNpYlBvaW50ID0gKGkgPT09IHBvaW50cy5sZW5ndGgtMSlcbiAgICAgICAgICAgID8gcG9pbnRzW2ktMV0gOiBwb2ludHNbaSsxXSxcbiAgICAgICAgICBoYW5kbGVJbmRleCA9IChpID09PSBwb2ludHMubGVuZ3RoLTEpID8gMSA6IDI7XG5cbiAgICBuZXdQb2ludHMucHVzaCggaW5pdFBvaW50KCBwb2ludCwgc2liUG9pbnQsIGhhbmRsZUluZGV4ICkgKTtcbiAgfVxuICByZXR1cm4gbmV3UG9pbnRzO1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL2hlbHBlcnMvaW5pdC1wb2ludHMuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgQyBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnQsIHNpYlBvaW50LCBoYW5kbGVJbmRleCkgPT4ge1xuXG4gIHBvaW50ID0geyAuLi5wb2ludCB9O1xuXG4gIGNvbnN0IGhhbmRsZU5hbWUgICAgID0gYGhhbmRsZSR7aGFuZGxlSW5kZXh9YCxcbiAgICAgICAgc2liSGFuZGxlSW5kZXggPSAoaGFuZGxlSW5kZXggPT09IDEpID8gMiA6IDEsXG4gICAgICAgIHNpYkhhbmRsZU5hbWUgID0gYGhhbmRsZSR7c2liSGFuZGxlSW5kZXh9YCxcbiAgICAgICAgaGFuZGxlICAgICAgICAgPSB7IC4uLnBvaW50W2hhbmRsZU5hbWVdIH0sXG4gICAgICAgIHNpYkhhbmRsZSAgICAgID0geyAuLi5wb2ludFtzaWJIYW5kbGVOYW1lXSB9LFxuICAgICAgICB0eXBlICAgICAgICAgICA9IHBvaW50LnR5cGU7XG5cbiAgcG9pbnRbaGFuZGxlTmFtZV0gPSBoYW5kbGU7XG4gIHBvaW50W3NpYkhhbmRsZU5hbWVdID0gc2liSGFuZGxlO1xuXG4gIGlmICggaGFuZGxlLmFuZ2xlID09IG51bGwgfHwgaGFuZGxlLnJhZGl1cyA9PSBudWxsICkge1xuICAgIGhhbmRsZS5yYWRpdXMgPSA1MDtcblxuICAgIGNvbnN0IGR5ID0gKHNpYlBvaW50LnkgLSBwb2ludC55KSAvIEMuQ1VSVkVfUEVSQ0VOVCxcbiAgICAgICAgICBkeCA9IHNpYlBvaW50LnggLSBwb2ludC54O1xuICAgIFxuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbiggZHkvZHggKSAqICgxODAvTWF0aC5QSSkgLSA5MDtcbiAgICBpZiAoIGR4ID4gMCApIHsgYW5nbGUgPSBhbmdsZSAtIDE4MCB9O1xuXG4gICAgaGFuZGxlLmFuZ2xlID0gYW5nbGU7XG4gICAgc2liSGFuZGxlLnJhZGl1cyA9IGhhbmRsZS5yYWRpdXM7XG4gICAgc2liSGFuZGxlLmFuZ2xlICA9IGhhbmRsZS5hbmdsZSAtIDE4MDtcbiAgfVxuXG4gIHJldHVybiBwb2ludDtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2luaXQtcG9pbnQuYmFiZWwuanNcbiAqKi8iLCJpbXBvcnQgY2FsY3VsYXRlUGF0aCBmcm9tICcuLi9oZWxwZXJzL2NhbGN1bGF0ZS1wYXRoJztcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgaXNDb2RlOiBmYWxzZVxufVxuXG5jb25zdCBwb2ludENvbnRyb2xzID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdDT0RFX1RBUCc6IHtcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBpc0NvZGU6ICFzdGF0ZS5pc0NvZGUgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludENvbnRyb2xzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL2pzL3JlZHVjZXJzL2NvbnRyb2xzLXJlZHVjZXIuYmFiZWwuanNcbiAqKi8iLCJcbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIGlzU2hvdzogZmFsc2UsXG4gIHR5cGU6ICAgJ3N0cmFpZ2h0J1xufVxuXG5jb25zdCBwb2ludENvbnRyb2xzID0gKHN0YXRlID0gSU5JVElBTF9TVEFURSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAvLyBwcm9iYWJseSByZWR1bmRhbnRcbiAgICAvLyBjYXNlICdQT0lOVF9BREQnOiB7XG4gICAgLy8gICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiB0cnVlLCB0eXBlOiAnc3RyYWlnaHQnIH07XG4gICAgLy8gfVxuICAgIGNhc2UgJ1BPSU5UX1NFTEVDVCc6IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBhY3Rpb24uZGF0YS50eXBlO1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2hvdzogIWFjdGlvbi5pc0Rlc2VsZWN0LCB0eXBlIH07XG4gICAgfVxuICAgIGNhc2UgJ1BPSU5UX0NIQU5HRV9UWVBFJzoge1xuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHR5cGU6IGFjdGlvbi5kYXRhIH07IFxuICAgIH1cbiAgICBjYXNlICdQT0lOVF9ERVNFTEVDVF9BTEwnOiB7XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNTaG93OiBmYWxzZSB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50Q29udHJvbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvcmVkdWNlcnMvcG9pbnQtY29udHJvbHMtcmVkdWNlci5iYWJlbC5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC1sb2FkZXIvaW5kZXguanMhLi9tYWluLnBvc3Rjc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5wb3N0Y3NzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2FwcC9jc3MvbWFpbi5wb3N0Y3NzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5LGh0bWx7bWFyZ2luOjA7cGFkZGluZzowO2JhY2tncm91bmQ6I2ZmZjVlNH0qe2JveC1zaXppbmc6Ym9yZGVyLWJveH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9wb3N0Y3NzLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9hcHAvY3NzL21haW4ucG9zdGNzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxODhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuaW1wb3J0IGNhbGN1bGF0ZVNlZ21lbnQgZnJvbSAnLi9jYWxjdWxhdGUtc2VnbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludHMpID0+IHtcbiAgbGV0IHBhdGggICAgID0gJycsXG4gICAgICBzZWdtZW50cyA9IFtdO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb2ludHMubGVuZ3RoLTE7IGluZGV4KyspIHtcbiAgICBjb25zdCBwb2ludCAgICAgPSBwb2ludHNbaW5kZXhdLFxuICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpbmRleCsxXTtcblxuICAgIGNvbnN0IHNlZ21lbnQgPSBjYWxjdWxhdGVTZWdtZW50KCBwb2ludCwgbmV4dFBvaW50LCBpbmRleCApO1xuICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgXG4gICAgcGF0aCArPSBzZWdtZW50LnN0cmluZztcbiAgfVxuXG4gIHJldHVybiB7IHBhdGgsIHNlZ21lbnRzIH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtcGF0aC5iYWJlbC5qc1xuICoqLyIsImltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgY2FsY3VsYXRlUG9pbnQgZnJvbSAnLi9jYWxjdWxhdGUtcG9pbnQnO1xuXG5leHBvcnQgZGVmYXVsdCAocG9pbnQsIG5leHRQb2ludCwgaW5kZXgpID0+IHtcbiAgICBpZiAoICFuZXh0UG9pbnQgKSB7IHJldHVybiAxOyB9XG5cbiAgICBsZXQgc3RyaW5nID0gJycsXG4gICAgICAgIHNlZ21lbnRTdHJpbmcgPSAnJztcblxuICAgIGNvbnN0IHggPSBwb2ludC54ICsgcG9pbnQudGVtcFgsXG4gICAgICAgICAgeSA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcbiAgICAgICAgICB4TmV4dCA9IG5leHRQb2ludC54ICsgbmV4dFBvaW50LnRlbXBYLFxuICAgICAgICAgIHlOZXh0ID0gbmV4dFBvaW50LnkgKyBuZXh0UG9pbnQudGVtcFk7XG5cbiAgICBjb25zdCBwYXJ0MSA9IGBNJHt4fSwgJHt5L0MuQ1VSVkVfUEVSQ0VOVH0gYDtcbiAgICBpZiAoIGluZGV4ID09PSAwICkgeyBzdHJpbmcgKz0gcGFydDEgfVxuICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDE7XG5cbiAgICBjb25zdCBwYXJ0MiA9IGNhbGN1bGF0ZVBvaW50KCBwb2ludCwgMiApO1xuICAgIHN0cmluZyArPSBwYXJ0MjtcbiAgICBzZWdtZW50U3RyaW5nICs9IHBhcnQyO1xuXG4gICAgY29uc3QgcGFydDMgPSBjYWxjdWxhdGVQb2ludCggbmV4dFBvaW50LCAxICk7XG4gICAgc3RyaW5nICs9IHBhcnQzO1xuICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDM7XG5cbiAgICBjb25zdCBwYXJ0NCA9IGAke3hOZXh0fSwgJHt5TmV4dC9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gICAgc3RyaW5nICs9IHBhcnQ0O1xuICAgIHNlZ21lbnRTdHJpbmcgKz0gcGFydDQ7XG5cbiAgICByZXR1cm4geyBzdHJpbmcsIHNlZ21lbnRTdHJpbmcsIGluZGV4IH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvanMvaGVscGVycy9jYWxjdWxhdGUtc2VnbWVudC5iYWJlbC5qc1xuICoqLyIsIlxuaW1wb3J0IGFuZ2xlVG9Qb2ludCBmcm9tICcuL2FuZ2xlLXRvLXBvaW50JztcbmltcG9ydCBDIGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IChwb2ludCwgaGFuZGxlSW5kZXggPSAxKSA9PiB7XG4gICAgY29uc3QgeCAgICAgID0gcG9pbnQueCArIHBvaW50LnRlbXBYLFxuICAgICAgICAgIHkgICAgICA9IHBvaW50LnkgKyBwb2ludC50ZW1wWSxcbiAgICAgICAgICBoYW5kbGUgPSBwb2ludFtgaGFuZGxlJHtoYW5kbGVJbmRleH1gXTtcblxuICBjb25zdCBDSEFSID0gKCBoYW5kbGVJbmRleCA9PT0gMiApID8gJ0MnIDogJyc7XG4gIGlmICggcG9pbnQudHlwZSAhPT0gJ3N0cmFpZ2h0JyApIHtcbiAgICBjb25zdCBoYW5kbGVDb29yZHMgPSBhbmdsZVRvUG9pbnQoIGhhbmRsZS5hbmdsZSwgaGFuZGxlLnJhZGl1cyApO1xuICAgIHJldHVybiBgJHtDSEFSfSR7eCArIGhhbmRsZUNvb3Jkcy54L0MuQ1VSVkVfUEVSQ0VOVH0sICR7KHkgKyBoYW5kbGVDb29yZHMueSkvQy5DVVJWRV9QRVJDRU5UfSBgO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHtDSEFSfSR7eH0sICR7eS9DLkNVUlZFX1BFUkNFTlR9IGA7XG4gIH1cbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9qcy9oZWxwZXJzL2NhbGN1bGF0ZS1wb2ludC5iYWJlbC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=